!(function(){var cr=Math.pow;(self.webpackChunk=self.webpackChunk||[]).push([[279],{59774:function(at,N){"use strict";var t=function(T,y){var C=T.nodes,m=T.edges,f=[],h={};if(!C)throw new Error("invalid nodes data!");return C&&C.forEach(function(v,o){h[v.id]=o;var r=[];f.push(r)}),m&&m.forEach(function(v){var o=v.source,r=v.target,a=h[o],s=h[r];!a&&a!==0||!s&&s!==0||(f[a][s]=1,y||(f[s][a]=1))}),f};N.Z=t},30178:function(at,N,t){"use strict";var d=t(47582),T=t(68048);function y(m){m===void 0&&(m={});var f=m,h=function(){},v=function(){var o={};return function(r){var a=r.next,s=a;return o[s]?!1:(o[s]=!0,!0)}}();return f.allowTraversal=m.allowTraversal||v,f.enter=m.enter||h,f.leave=m.leave||h,f}var C=function(f,h,v,o){o===void 0&&(o=!0);var r=y(v),a=new d.Z,s=f.edges,u=s===void 0?[]:s;a.enqueue(h);for(var c="",E=function(){var e=a.dequeue();r.enter({current:e,previous:c}),(0,T.Cy)(e,u,o?"target":void 0).forEach(function(i){r.allowTraversal({previous:c,current:e,next:i})&&a.enqueue(i)}),r.leave({current:e,previous:c}),c=e};!a.isEmpty();)E()};N.Z=C},23768:function(at,N,t){"use strict";t.d(N,{WC:function(){return y},ZP:function(){return C}});var d=t(68048),T=function(f){for(var h=f.nodes,v=h===void 0?[]:h,o=f.edges,r=o===void 0?[]:o,a=[],s={},u=[],c=function i(n){u.push(n),s[n.id]=!0;for(var l=(0,d.Cy)(n.id,r),M=function(P){var b=l[P];if(!s[b]){var x=v.filter(function(L){return L.id===b});x.length>0&&i(x[0])}},O=0;O<l.length;++O)M(O)},E=0;E<v.length;E++){var p=v[E];if(!s[p.id]){c(p);for(var e=[];u.length>0;)e.push(u.pop());a.push(e)}}return a},y=function(f){for(var h=f.nodes,v=h===void 0?[]:h,o=f.edges,r=o===void 0?[]:o,a=[],s={},u={},c={},E=[],p=0,e=function M(O){u[O.id]=p,c[O.id]=p,p+=1,a.push(O),s[O.id]=!0;for(var D=(0,d.Cy)(O.id,r,"target").filter(function(S){return v.map(function(K){return K.id}).indexOf(S)>-1}),P=function(K){var U=D[K];if(!u[U]&&u[U]!==0){var j=v.filter(function(F){return F.id===U});j.length>0&&M(j[0]),c[O.id]=Math.min(c[O.id],c[U])}else s[U]&&(c[O.id]=Math.min(c[O.id],u[U]))},b=0;b<D.length;b++)P(b);if(c[O.id]===u[O.id]){for(var x=[];a.length>0;){var L=a.pop();if(s[L.id]=!1,x.push(L),L===O)break}x.length>0&&E.push(x)}},i=0,n=v;i<n.length;i++){var l=n[i];!u[l.id]&&u[l.id]!==0&&e(l)}return E};function C(m,f){return f?y(m):T(m)}},30708:function(at,N,t){"use strict";t.d(N,{B:function(){return T},F:function(){return d}});var d=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/,T=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/},19027:function(at,N,t){"use strict";var d=t(39007),T=function(C,m){var f=new d.Z(m),h=f.norm2(),v=new d.Z(C),o=v.norm2(),r=f.dot(v),a=h*o,s=a?r/a:0;return s};N.Z=T},52842:function(at,N,t){"use strict";t.d(N,{K_:function(){return y},rU:function(){return T}});var d=function(m){var f={},h=m.nodes,v=h===void 0?[]:h,o=m.edges,r=o===void 0?[]:o;return v.forEach(function(a){f[a.id]={degree:0,inDegree:0,outDegree:0}}),r.forEach(function(a){f[a.source].degree++,f[a.source].outDegree++,f[a.target].degree++,f[a.target].inDegree++}),f};N.ZP=d;var T=function(m,f){var h=d(m);return h[f]?d(m)[f].inDegree:0},y=function(m,f){var h=d(m);return h[f]?d(m)[f].outDegree:0}},10208:function(at,N,t){"use strict";t.d(N,{iK:function(){return f},l1:function(){return m},wT:function(){return h}});var d=t(32868),T=t(23768),y=t(68048),C=function(o){var r=null,a=o.nodes,s=a===void 0?[]:a,u={},c={},E={},p={};s.forEach(function(n){c[n.id]=n});for(var e={enter:function(l){var M=l.current,O=l.previous;if(E[M]){r={};for(var D=M,P=O;P!==M;)r[D]=P,D=P,P=u[P];r[D]=P}else E[M]=M,delete c[M],u[M]=O},leave:function(l){var M=l.current;p[M]=M,delete E[M]},allowTraversal:function(l){var M=l.next;return r?!1:!p[M]}};Object.keys(c).length;){var i=Object.keys(c)[0];(0,d.Z)(o,i,e)}return r},m=function(o,r,a){var s,u;a===void 0&&(a=!0);for(var c=[],E=(0,T.ZP)(o,!1),p=0,e=E;p<e.length;p++){var i=e[p];if(i.length)for(var n=i[0],l=n.id,M=[n],O=(s={},s[l]=n,s),D=(u={},u[l]=new Set,u);M.length>0;)for(var P=M.pop(),b=P.id,x=(0,y.Cy)(b,o.edges),L=function(U){var j,F=x[U],W=o.nodes.find(function($){return $.id===F});if(F===b)c.push((j={},j[F]=P,j));else if(!(F in D))O[F]=P,M.push(W),D[F]=new Set([P]);else if(!D[b].has(W)){for(var w=!0,z=[W,P],H=O[b];D[F].size&&!D[F].has(H)&&(z.push(H),H!==O[H.id]);)H=O[H.id];if(z.push(H),r&&a?(w=!1,z.findIndex(function($){return r.indexOf($.id)>-1})>-1&&(w=!0)):r&&!a&&z.findIndex(function($){return r.indexOf($.id)>-1})>-1&&(w=!1),w){for(var Y={},V=1;V<z.length;V+=1)Y[z[V-1].id]=z[V];z.length&&(Y[z[z.length-1].id]=z[0]),c.push(Y)}D[F].add(P)}},S=0;S<x.length;S+=1)L(S)}return c},f=function(o,r,a){a===void 0&&(a=!0);for(var s=[],u=new Set,c=[],E=[],p={},e={},i=function(H){for(var Y=[H];Y.length>0;){var V=Y.pop();u.has(V)&&(u.delete(V),c[V.id].forEach(function($){Y.push($)}),c[V.id].clear())}},n=function z(H,Y,V){var $=!1;if(r&&a===!1&&r.indexOf(H.id)>-1)return $;s.push(H),u.add(H);for(var J=V[H.id],rt=0;rt<J.length;rt+=1){var lt=p[J[rt]];if(lt===Y){for(var tt={},G=1;G<s.length;G+=1)tt[s[G-1].id]=s[G];s.length&&(tt[s[s.length-1].id]=s[0]),E.push(tt),$=!0}else u.has(lt)||z(lt,Y,V)&&($=!0)}if($)i(H);else for(var rt=0;rt<J.length;rt+=1){var lt=p[J[rt]];c[lt.id].has(H)||c[lt.id].add(H)}return s.pop(),$},l=o.nodes,M=l===void 0?[]:l,O=0;O<M.length;O+=1){var D=M[O],P=D.id;e[P]=O,p[O]=D}if(r&&a)for(var b=function(H){var Y=r[H];e[M[H].id]=e[Y],e[Y]=0,p[0]=M.find(function(V){return V.id===Y}),p[e[M[H].id]]=M[H]},O=0;O<r.length;O++)b(O);for(var x=function(H){for(var Y,V,$=1/0,J=0;J<H.length;J+=1)for(var rt=H[J],lt=0;lt<rt.length;lt++){var tt=e[rt[lt].id];tt<$&&($=tt,V=J)}for(var G=H[V],nt=[],J=0;J<G.length;J+=1){var ut=G[J];nt[ut.id]=[];for(var dt=0,et=(0,y.Cy)(ut.id,o.edges,"target").filter(function(ot){return G.map(function(Et){return Et.id}).indexOf(ot)>-1});dt<et.length;dt++){var _t=et[dt];_t===ut.id&&!(a===!1&&r.indexOf(ut.id)>-1)?E.push((Y={},Y[ut.id]=ut,Y)):nt[ut.id].push(e[_t])}}return{component:G,adjList:nt,minIdx:$}},L=0;L<M.length;){var S=M.filter(function(z){return e[z.id]>=L}),K=(0,T.WC)({nodes:S,edges:o.edges}).filter(function(z){return z.length>1});if(K.length===0)break;var U=x(K),j=U.minIdx,F=U.adjList,W=U.component;if(W.length>1){W.forEach(function(z){c[z.id]=new Set});var w=p[j];if(r&&a&&r.indexOf(w.id)===-1)return E;n(w,w,F),L=j+1}else break}return E},h=function(o,r,a,s){return s===void 0&&(s=!0),r?f(o,a,s):m(o,a,s)};N.ZP=C},32868:function(at,N,t){"use strict";t.d(N,{Z:function(){return C}});var d=t(68048);function T(m){m===void 0&&(m={});var f=m,h=function(){},v=function(){var o={};return function(r){var a=r.next;return o[a]?!1:(o[a]=!0,!0)}}();return f.allowTraversal=m.allowTraversal||v,f.enter=m.enter||h,f.leave=m.leave||h,f}function y(m,f,h,v,o){o===void 0&&(o=!0),v.enter({current:f,previous:h});var r=m.edges,a=r===void 0?[]:r;(0,d.Cy)(f,a,o?"target":void 0).forEach(function(s){v.allowTraversal({previous:h,current:f,next:s})&&y(m,s,f,v,o)}),v.leave({current:f,previous:h})}function C(m,f,h,v){v===void 0&&(v=!0),y(m,f,"",T(h),v)}},99433:function(at,N,t){"use strict";var d=t(15767),T=t(72691),y=t(68048),C=function(v,o,r){for(var a=1/0,s,u=0;u<o.length;u++){var c=o[u].id;!r[c]&&v[c]<=a&&(a=v[c],s=o[u])}return s},m=function(v,o,r,a){var s=v.nodes,u=s===void 0?[]:s,c=v.edges,E=c===void 0?[]:c,p=[],e={},i={},n={};u.forEach(function(x,L){var S=x.id;p.push(S),i[S]=1/0,S===o&&(i[S]=0)});for(var l=u.length,M=function(L){var S=C(i,u,e),K=S.id;if(e[K]=!0,i[K]===1/0)return"continue";var U=[];r?U=(0,y.g7)(K,E):U=(0,y.VO)(K,E),U.forEach(function(j){var F=j.target,W=j.source,w=F===K?W:F,z=a&&j[a]?j[a]:1;i[w]>i[S.id]+z?(i[w]=i[S.id]+z,n[w]=[S.id]):i[w]===i[S.id]+z&&n[w].push(S.id)})},O=0;O<l;O++)M(O);n[o]=[o];var D={};for(var P in i)i[P]!==1/0&&f(o,P,n,D);var b={};for(var P in D)b[P]=D[P][0];return{length:i,path:b,allPath:D}};N.Z=m;function f(h,v,o,r){if(h===v)return[h];if(r[v])return r[v];for(var a=[],s=0,u=o[v];s<u.length;s++){var c=u[s],E=f(h,c,o,r);if(!E)return;for(var p=0,e=E;p<e.length;p++){var i=e[p];(0,T.kJ)(i)?a.push((0,d.ev)((0,d.ev)([],i,!0),[v],!1)):a.push([i,v])}}return r[v]=a,r[v]}},51866:function(at,N,t){"use strict";t.d(N,{T:function(){return C},n:function(){return y}});var d=t(99433),T=t(68048),y=function(f,h,v,o,r){var a=(0,d.Z)(f,h,o,r),s=a.length,u=a.path,c=a.allPath;return{length:s[v],path:u[v],allPath:c[v]}},C=function(f,h,v,o){var r;if(h===v)return[[h]];var a=f.edges,s=a===void 0?[]:a,u=[h],c=(r={},r[h]=!0,r),E=[],p=[],e=o?(0,T.Cy)(h,s,"target"):(0,T.Cy)(h,s);for(E.push(e);u.length>0&&E.length>0;){var i=E[E.length-1];if(i.length){var n=i.shift();n&&(u.push(n),c[n]=!0,e=o?(0,T.Cy)(n,s,"target"):(0,T.Cy)(n,s),E.push(e.filter(function(O){return!c[O]})))}else{var l=u.pop();c[l]=!1,E.pop();continue}if(u[u.length-1]===v){var M=u.map(function(D){return D});p.push(M);var l=u.pop();c[l]=!1,E.pop()}}return p}},23662:function(at,N,t){"use strict";var d=t(59774),T=function(C,m){for(var f=(0,d.Z)(C,m),h=[],v=f.length,o=0;o<v;o+=1){h[o]=[];for(var r=0;r<v;r+=1)o===r?h[o][r]=0:f[o][r]===0||!f[o][r]?h[o][r]=1/0:h[o][r]=f[o][r]}for(var a=0;a<v;a+=1)for(var o=0;o<v;o+=1)for(var r=0;r<v;r+=1)h[o][r]>h[o][a]+h[a][r]&&(h[o][r]=h[o][a]+h[a][r]);return h};N.Z=T},73142:function(at,N,t){"use strict";var d=t(72691),T=t(74678),y=function(){function a(s,u,c,E,p){this.fromNode=s,this.toNode=u,this.nodeEdgeNodeLabel={nodeLabel1:c||T.kr,edgeLabel:E||T.G,nodeLabel2:p||T.kr}}return a.prototype.equalTo=function(s){return this.fromNode===s.formNode&&this.toNode===s.toNode&&this.nodeEdgeNodeLabel===s.nodeEdgeNodeLabel},a.prototype.notEqualTo=function(s){return!this.equalTo(s)},a}(),C=function(){function a(){this.rmpath=[],this.dfsEdgeList=[]}return a.prototype.equalTo=function(s){var u=this.dfsEdgeList.length,c=s.length;if(u!==c)return!1;for(var E=0;E<u;E++)if(this.dfsEdgeList[E]!==s[E])return!1;return!0},a.prototype.notEqualTo=function(s){return!this.equalTo(s)},a.prototype.pushBack=function(s,u,c,E,p){return this.dfsEdgeList.push(new y(s,u,c,E,p)),this.dfsEdgeList},a.prototype.toGraph=function(s,u){s===void 0&&(s=T.p6),u===void 0&&(u=!1);var c=new T.kJ(s,!0,u);return this.dfsEdgeList.forEach(function(E){var p=E.fromNode,e=E.toNode,i=E.nodeEdgeNodeLabel,n=i.nodeLabel1,l=i.edgeLabel,M=i.nodeLabel2;n!==T.kr&&c.addNode(p,n),M!==T.kr&&c.addNode(e,M),n!==T.kr&&M!==n&&c.addEdge(void 0,p,e,l)}),c},a.prototype.buildRmpath=function(){this.rmpath=[];for(var s=void 0,u=this.dfsEdgeList.length,c=u-1;c>=0;c--){var E=this.dfsEdgeList[c],p=E.fromNode,e=E.toNode;p<e&&(s===void 0||e===s)&&(this.rmpath.push(c),s=p)}return this.rmpath},a.prototype.getNodeNum=function(){var s={};return this.dfsEdgeList.forEach(function(u){s[u.fromNode]||(s[u.fromNode]=!0),s[u.toNode]||(s[u.toNode]=!0)}),Object.keys(s).length},a}(),m=function(){function a(s){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],!!s){for(;s;){var u=s.edge;this.edges.push(u),this.nodesUsed[u.from]=1,this.nodesUsed[u.to]=1,this.edgesUsed[u.id]=1,s=s.preNode}this.edges=this.edges.reverse()}}return a.prototype.hasNode=function(s){return this.nodesUsed[s.id]===1},a.prototype.hasEdge=function(s){return this.edgesUsed[s.id]===1},a}(),f=function(){function a(s){var u=s.graphs,c=s.minSupport,E=c===void 0?2:c,p=s.minNodeNum,e=p===void 0?1:p,i=s.maxNodeNum,n=i===void 0?4:i,l=s.top,M=l===void 0?10:l,O=s.directed,D=O===void 0?!1:O,P=s.verbose,b=P===void 0?!1:P;this.graphs=u,this.dfsCode=new C,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=E,this.top=M,this.directed=D,this.counter=0,this.maxNodeNum=n,this.minNodeNum=e,this.verbose=b,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return a.prototype.findForwardRootEdges=function(s,u){var c=this,E=[],p=s.nodeMap;return u.edges.forEach(function(e){(c.directed||u.label<=p[e.to].label)&&E.push(e)}),E},a.prototype.findBackwardEdge=function(s,u,c,E){if(!this.directed&&u===c)return null;for(var p=s.nodeMap,e=p[c.to],i=e.edges,n=i.length,l=0;l<n;l++){var M=i[l];if(!(E.hasEdge(M)||M.to!==u.from)){if(this.directed){if(p[u.from].label<p[c.to].label||p[u.from].label===p[c.to].label&&u.label<=M.label)return M}else if(u.label<M.label||u.label===M.label&&p[u.to].label<=p[c.to].label)return M}}return null},a.prototype.findForwardPureEdges=function(s,u,c,E){for(var p=[],e=u.to,i=s.nodeMap[e].edges,n=i.length,l=0;l<n;l++){var M=i[l],O=s.nodeMap[M.to];c<=O.label&&!E.hasNode(O)&&p.push(M)}return p},a.prototype.findForwardRmpathEdges=function(s,u,c,E){for(var p=[],e=s.nodeMap,i=e[u.to].label,n=e[u.from],l=n.edges,M=l.length,O=0;O<M;O++){var D=l[O],P=e[D.to].label;u.to===D.to||c>P||E.hasNode(e[D.to])||(u.label<D.label||u.label===D.label&&i<=P)&&p.push(D)}return p},a.prototype.getSupport=function(s){var u={};return s.forEach(function(c){u[c.graphId]||(u[c.graphId]=!0)}),Object.keys(u).length},a.prototype.findMinLabel=function(s){var u=void 0;return Object.keys(s).forEach(function(c){var E=s[c],p=E.nodeLabel1,e=E.edgeLabel,i=E.nodeLabel2;if(!u){u={nodeLabel1:p,edgeLabel:e,nodeLabel2:i};return}(p<u.nodeLabel1||p===u.nodeLabel1&&e<u.edgeLabel||p===u.nodeLabel1&&e===u.edgeLabel&&i<u.nodeLabel2)&&(u={nodeLabel1:p,edgeLabel:e,nodeLabel2:i})}),u},a.prototype.isMin=function(){var s=this,u=this.dfsCode;if(this.verbose&&console.log("isMin checking",u),u.dfsEdgeList.length===1)return!0;var c=this.directed,E=u.toGraph(T.p6,c),p=E.nodeMap,e=new C,i={};E.nodes.forEach(function(O){var D=s.findForwardRootEdges(E,O);D.forEach(function(P){var b=p[P.to],x="".concat(O.label,"-").concat(P.label,"-").concat(b.label);i[x]||(i[x]={projected:[],nodeLabel1:O.label,edgeLabel:P.label,nodeLabel2:b.label});var L={graphId:E.id,edge:P,preNode:null};i[x].projected.push(L)})});var n=this.findMinLabel(i);if(n){e.dfsEdgeList.push(new y(0,1,n.nodeLabel1,n.edgeLabel,n.nodeLabel2));var l=function O(D){for(var P=e.buildRmpath(),b=e.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,x=e.dfsEdgeList[P[0]].toNode,L={},S=!1,K=0,U=c?-1:0,j=function(G){if(S)return"break";D.forEach(function(nt){var ut=new m(nt),dt=s.findBackwardEdge(E,ut.edges[P[G]],ut.edges[P[0]],ut);dt&&(L[dt.label]||(L[dt.label]={projected:[],edgeLabel:dt.label}),L[dt.label].projected.push({graphId:E.id,edge:L,preNode:nt}),K=e.dfsEdgeList[P[G]].fromNode,S=!0)})},F=P.length-1;F>U;F--){var W=j(F);if(W==="break")break}if(S){var w=s.findMinLabel(L);e.dfsEdgeList.push(new y(x,K,T.kr,w.edgeLabel,T.kr));var z=e.dfsEdgeList.length-1;return s.dfsCode.dfsEdgeList[z]!==e.dfsEdgeList[z]?!1:O(L[w.edgeLabel].projected)}var H={};S=!1;var Y=0;D.forEach(function(tt){var G=new m(tt),nt=s.findForwardPureEdges(E,G.edges[P[0]],b,G);nt.length>0&&(S=!0,Y=x,nt.forEach(function(ut){var dt="".concat(ut.label,"-").concat(p[ut.to].label);H[dt]||(H[dt]={projected:[],edgeLabel:ut.label,nodeLabel2:p[ut.to].label}),H[dt].projected.push({graphId:E.id,edge:ut,preNode:tt})}))});for(var V=P.length,$=function(G){if(S)return"break";var nt=P[G];D.forEach(function(ut){var dt=new m(ut),et=s.findForwardRmpathEdges(E,dt.edges[nt],b,dt);et.length>0&&(S=!0,Y=e.dfsEdgeList[nt].fromNode,et.forEach(function(_t){var mt="".concat(_t.label,"-").concat(p[_t.to].label);H[mt]||(H[mt]={projected:[],edgeLabel:_t.label,nodeLabel2:p[_t.to].label}),H[mt].projected.push({graphId:E.id,edge:_t,preNode:ut})}))})},F=0;F<V;F++){var J=$(F);if(J==="break")break}if(!S)return!0;var rt=s.findMinLabel(H);e.dfsEdgeList.push(new y(Y,x+1,T.kr,rt.edgeLabel,rt.nodeLabel2));var lt=e.dfsEdgeList.length-1;return u.dfsEdgeList[lt]!==e.dfsEdgeList[lt]?!1:O(H["".concat(rt.edgeLabel,"-").concat(rt.nodeLabel2)].projected)},M="".concat(n.nodeLabel1,"-").concat(n.edgeLabel,"-").concat(n.nodeLabel2);return l(i[M].projected)}},a.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var s=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push((0,d.d9)(s))}},a.prototype.subGraphMining=function(s){var u=this,c=this.getSupport(s);if(!(c<this.minSupport)&&this.isMin()){this.report();var E=this.dfsCode.getNodeNum(),p=this.dfsCode.buildRmpath(),e=this.dfsCode.dfsEdgeList[p[0]].toNode,i=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,n={},l={};s.forEach(function(M){for(var O=u.graphs[M.graphId],D=O.nodeMap,P=new m(M),b=p.length-1;b>=0;b--){var x=u.findBackwardEdge(O,P.edges[p[b]],P.edges[p[0]],P);if(x){var L="".concat(u.dfsCode.dfsEdgeList[p[b]].fromNode,"-").concat(x.label);l[L]||(l[L]={projected:[],toNodeId:u.dfsCode.dfsEdgeList[p[b]].fromNode,edgeLabel:x.label}),l[L].projected.push({graphId:M.graphId,edge:x,preNode:M})}}if(!(E>=u.maxNodeNum)){var S=u.findForwardPureEdges(O,P.edges[p[0]],i,P);S.forEach(function(U){var j="".concat(e,"-").concat(U.label,"-").concat(D[U.to].label);n[j]||(n[j]={projected:[],fromNodeId:e,edgeLabel:U.label,nodeLabel2:D[U.to].label}),n[j].projected.push({graphId:M.graphId,edge:U,preNode:M})});for(var K=function(j){var F=u.findForwardRmpathEdges(O,P.edges[p[j]],i,P);F.forEach(function(W){var w="".concat(u.dfsCode.dfsEdgeList[p[j]].fromNode,"-").concat(W.label,"-").concat(D[W.to].label);n[w]||(n[w]={projected:[],fromNodeId:u.dfsCode.dfsEdgeList[p[j]].fromNode,edgeLabel:W.label,nodeLabel2:D[W.to].label}),n[w].projected.push({graphId:M.graphId,edge:W,preNode:M})})},b=0;b<p.length;b++)K(b)}}),Object.keys(l).forEach(function(M){var O=l[M],D=O.toNodeId,P=O.edgeLabel;u.dfsCode.dfsEdgeList.push(new y(e,D,"-1",P,"-1")),u.subGraphMining(l[M].projected),u.dfsCode.dfsEdgeList.pop()}),Object.keys(n).forEach(function(M){var O=n[M],D=O.fromNodeId,P=O.edgeLabel,b=O.nodeLabel2;u.dfsCode.dfsEdgeList.push(new y(D,e+1,T.kr,P,b)),u.subGraphMining(n[M].projected),u.dfsCode.dfsEdgeList.pop()})}},a.prototype.generate1EdgeFrequentSubGraphs=function(){var s=this.graphs,u=this.directed,c=this.minSupport,E=this.frequentSize1Subgraphs,p={},e={},i={},n={};return Object.keys(s).forEach(function(l){var M=s[l],O=M.nodeMap;M.nodes.forEach(function(D,P){var b=D.label,x="".concat(l,"-").concat(b);if(!i[x]){var L=p[b]||0;L++,p[b]=L}i[x]={graphKey:l,label:b},D.edges.forEach(function(S){var K=b,U=O[S.to].label;if(!u&&K>U){var j=U;U=K,K=j}var F=S.label,W="".concat(l,"-").concat(K,"-").concat(F,"-").concat(U),w="".concat(K,"-").concat(F,"-").concat(U);if(!e[w]){var z=e[w]||0;z++,e[w]=z}n[W]={graphId:l,nodeLabel1:K,edgeLabel:F,nodeLabel2:U}})})}),Object.keys(p).forEach(function(l){var M=p[l];if(!(M<c)){var O={nodes:[],edges:[]};O.nodes.push({id:"0",label:l}),E.push(O)}}),E},a.prototype.run=function(){var s=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var u=this.graphs,c=this.directed,E={};Object.keys(u).forEach(function(p){var e=u[p],i=e.nodeMap;e.nodes.forEach(function(n){var l=s.findForwardRootEdges(e,n);l.forEach(function(M){var O=i[M.to],D="".concat(n.label,"-").concat(M.label,"-").concat(O.label);E[D]||(E[D]={projected:[],nodeLabel1:n.label,edgeLabel:M.label,nodeLabel2:O.label});var P={graphId:p,edge:M,preNode:null};E[D].projected.push(P)})})}),Object.keys(E).forEach(function(p){var e=E[p],i=e.projected,n=e.nodeLabel1,l=e.edgeLabel,M=e.nodeLabel2;s.dfsCode.dfsEdgeList.push(new y(0,1,n,l,M)),s.subGraphMining(i),s.dfsCode.dfsEdgeList.pop()})}},a}(),h=function(s,u,c,E){var p={};return Object.keys(s).forEach(function(e,i){var n=s[e],l=new T.kJ(i,!0,u),M={};n.nodes.forEach(function(O,D){l.addNode(D,O[c]),M[O.id]=D}),n.edges.forEach(function(O,D){var P=M[O.source],b=M[O.target];l.addEdge(-1,P,b,O[E])}),l&&l.getNodeNum()&&(p[l.id]=l)}),p},v=function(s,u,c){var E=[];return s.forEach(function(p){var e={nodes:[],edges:[]};p.nodes.forEach(function(i){var n;e.nodes.push((n={id:"".concat(i.id)},n[u]=i.label,n))}),p.edges.forEach(function(i){var n;e.edges.push((n={source:"".concat(i.from),target:"".concat(i.to)},n[c]=i.label,n))}),E.push(e)}),E},o="cluster",r=function(s){var u=s.graphs,c=s.directed,E=c===void 0?!1:c,p=s.nodeLabelProp,e=p===void 0?o:p,i=s.edgeLabelProp,n=i===void 0?o:i,l=h(u,E,e,n),M=s.minSupport,O=s.maxNodeNum,D=s.minNodeNum,P=s.verbose,b=s.top,x={graphs:l,minSupport:M,maxNodeNum:O,minNodeNum:D,top:b,verbose:P,directed:E},L=new f(x);L.run();var S=v(L.frequentSubgraphs,e,n);return S};N.Z=r},74678:function(at,N,t){"use strict";t.d(N,{G:function(){return y},kJ:function(){return o},kr:function(){return C},p6:function(){return m}});var d=-1,T=-1,y="-1",C="-1",m=-1,f="-1",h=function(){function r(a,s,u,c){a===void 0&&(a=d),s===void 0&&(s=T),u===void 0&&(u=T),c===void 0&&(c=y),this.id=a,this.from=s,this.to=u,this.label=c}return r}(),v=function(){function r(a,s){a===void 0&&(a=T),s===void 0&&(s=C),this.id=a,this.label=s,this.edges=[],this.edgeMap={}}return r.prototype.addEdge=function(a){this.edges.push(a),this.edgeMap[a.id]=a},r}(),o=function(){function r(a,s,u){a===void 0&&(a=T),s===void 0&&(s=!0),u===void 0&&(u=!1),this.id=a,this.edgeIdAutoIncrease=s,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=u}return r.prototype.getNodeNum=function(){return this.nodes.length},r.prototype.addNode=function(a,s){if(!this.nodeMap[a]){var u=new v(a,s);this.nodes.push(u),this.nodeMap[a]=u,this.nodeLabelMap[s]||(this.nodeLabelMap[s]=[]),this.nodeLabelMap[s].push(a)}},r.prototype.addEdge=function(a,s,u,c){if((this.edgeIdAutoIncrease||a===void 0)&&(a=this.counter++),!(this.nodeMap[s]&&this.nodeMap[u]&&this.nodeMap[u].edgeMap[a])){var E=new h(a,s,u,c);if(this.edges.push(E),this.edgeMap[a]=E,this.nodeMap[s].addEdge(E),this.edgeLabelMap[c]||(this.edgeLabelMap[c]=[]),this.edgeLabelMap[c].push(E),!this.directed){var p=new h(a,u,s,c);this.nodeMap[u].addEdge(p),this.edgeLabelMap[c].push(p)}}},r}()},34154:function(at,N,t){"use strict";var d=t(15767),T=t(23662),y=t(73142),C=t(99433),m=t(68048),f=function(n,l,M,O){M===void 0&&(M="cluster"),O===void 0&&(O=2);var D=[],P=n.nodes;return l.forEach(function(b,x){D.push(h(P,b,x,M,O))}),D},h=function(n,l,M,O,D){var P=[M],b=[],x={};return l.forEach(function(L,S){if(L<=D&&M!==S){P.push(S),b.push(n[S]);var K=n[S][O];x[K]?(x[K].count++,x[K].dists.push(L)):x[K]={count:1,dists:[L]}}}),Object.keys(x).forEach(function(L){x[L].dists=x[L].dists.sort(function(S,K){return S-K})}),{nodeIdx:M,nodeId:n[M].id,nodeIdxs:P,neighbors:b,neighborNum:P.length-1,nodeLabelCountMap:x}},v=function(n,l,M,O,D){var P=Math.ceil(M/l),b={},x=0;return O.forEach(function(L,S){for(var K=0,U=0,j=L.nodeIdxs,F=L.neighborNum-1;K<P;){for(var W=j[1+Math.floor(Math.random()*F)],w=0;(b["".concat(S,"-").concat(W)]||b["".concat(W,"-").concat(S)])&&(W=Math.floor(Math.random()*l),w++,!(w>2*l)););if(w<2*l&&(b["".concat(S,"-").concat(W)]={start:S,end:W,distance:D[S][W]},K++,x++,x>=M))return b;if(U++,U>2*l)break}if(K<P){var z=P-K;P=(P+z)/(l-S-1)}}),b},o=function(n,l,M,O){var D=M.nodes;return O||(O={}),Object.keys(n).forEach(function(P){var b,x;if(!(O&&O[P])){O[P]={nodes:[],edges:[]};var L=n[P],S=(b=l[L.start])===null||b===void 0?void 0:b.nodeIdxs,K=(x=l[L.end])===null||x===void 0?void 0:x.nodeIdxs;if(!(!S||!K)){var U=new Set(K),j=S.filter(function(H){return U.has(H)});if(!(!j||!j.length)){for(var F={},W=j.length,w=0;w<W;w++){var z=D[j[w]];O[P].nodes.push(z),F[z.id]=!0}M.edges.forEach(function(H){F[H.source]&&F[H.target]&&O[P].edges.push(H)})}}}}),O},r=function(n,l,M,O){var D,P,b={};n.nodes.forEach(function(L){b[L.id]=L});var x=0;return!(!((D=l==null?void 0:l.edges)===null||D===void 0)&&D.length)||((P=l==null?void 0:l.nodes)===null||P===void 0?void 0:P.length)<2?0:(n.edges.forEach(function(L){var S=b[L.source][M],K=b[L.target][M],U=l==null?void 0:l.nodes[0][M],j=l==null?void 0:l.nodes[1][M],F=l==null?void 0:l.edges[0][O];L[O]===F&&(S===U&&K===j||S===j&&K===U)&&x++}),x)},a=function(n,l,M){for(var O=1/0,D=0,P=function(L){var S=n[L],K=Object.keys(S).sort(function(H,Y){return S[H]-S[Y]}),U=10,j=[];K.forEach(function(H,Y){j[Y%U]||(j[Y%U]={graphs:[],totalCount:0,aveCount:0}),j[Y%U].graphs.push(H),j[Y%U].totalCount+=S[H]});var F=0,W=[];j.forEach(function(H){var Y=H.totalCount/H.graphs.length;H.aveCount=Y,W.push(Y);var V=0,$=H.length;H.graphs.forEach(function(J,rt){var lt=S[J];H.graphs.forEach(function(tt,G){rt!==G&&(V+=Math.abs(lt-S[tt]))})}),V/=$*($-1)/2,F+=V}),F/=j.length;var w=0;W.forEach(function(H,Y){W.forEach(function(V,$){Y!==$&&(w+=Math.abs(H-V))}),w/=W.length*(W.length-1)/2});var z=w-F;O<z&&(O=z,D=L)},b=0;b<l;b++)P(b);return{structure:M[D],structureCountMap:n[D]}},s=function(n,l){var M={},O={};return n.forEach(function(D,P){M[D.id]={idx:P,node:D,degree:0,inDegree:0,outDegree:0};var b=D[l];O[b]||(O[b]=[]),O[b].push(D)}),{nodeMap:M,nodeLabelMap:O}},u=function(n,l,M){var O={},D={};return n.forEach(function(P,b){O["".concat(m.EL)]={idx:b,edge:P};var x=P[l];D[x]||(D[x]=[]),D[x].push(P);var L=M[P.source];L&&(L.degree++,L.outDegree++);var S=M[P.target];S&&(S.degree++,S.inDegree++)}),{edgeMap:O,edgeLabelMap:D}},c=function(n,l,M){var O=l.length,D={};return l.forEach(function(P,b){for(var x=M?0:b+1,L=n[b].id,S=x;S<O;S++)if(b!==S){var K=n[S].id,U=P[S];D["".concat(L,"-").concat(K)]=U,M||(D["".concat(K,"-").concat(L)]=U)}}),D},E=function(n,l,M,O,D,P,b,x,L,S,K){var U,j="".concat(l.id,"-").concat(M.id);if(S&&S[j])return S[j];var F=K?K[j]:void 0;if(!F){var W=(U={},U[j]={start:O[l.id].idx,end:O[M.id].idx,distance:D},U);K=o(W,P,n,K),F=K[j]}return r(F,b,x,L)},p=function(n,l,M,O){var D,P,b,x=(D=n[l])===null||D===void 0?void 0:D.degree,L=(P=n[l])===null||P===void 0?void 0:P.inDegree,S=(b=n[l])===null||b===void 0?void 0:b.outDegree;return n[l]===void 0&&(x=1/0,L=1/0,S=1/0,O[l].forEach(function(K){var U=M[K.id].degree;x>U&&(x=U);var j=M[K.id].inDegree;L>j&&(L=j);var F=M[K.id].outDegree;S>F&&(S=F)}),n[l]={degree:x,inDegree:L,outDegree:S}),{minPatternNodeLabelDegree:x,minPatternNodeLabelInDegree:L,minPatternNodeLabelOutDegree:S}},e=function(n,l,M,O,D,P,b){var x;if(M===void 0&&(M=!1),P===void 0&&(P="cluster"),b===void 0&&(b="cluster"),!(!n||!n.nodes)){var L=n.nodes.length;if(L){var S=(0,T.Z)(n,M),K=(0,T.Z)(l,M),U=c(n.nodes,S,M),j=c(l.nodes,K,M),F=s(n.nodes,P),W=F.nodeMap,w=F.nodeLabelMap,z=s(l.nodes,P),H=z.nodeMap,Y=z.nodeLabelMap;u(n.edges,b,W);var V=u(l.edges,b,H).edgeLabelMap,$=[];K==null||K.forEach(function(Zt){$=$.concat(Zt)}),D||(D=Math.max.apply(Math,(0,d.ev)((0,d.ev)([],$,!1),[2],!1))),O||(O=D);var J=f(n,S,P,O),rt=f(l,K,P,O),lt=Math.min(100,L*(L-1)/2),tt=v(O,L,lt,J,S),G=o(tt,J,n),nt=10,ut=1,dt=1,et=4,_t={graphs:G,nodeLabelProp:P,edgeLabelProp:b,minSupport:ut,minNodeNum:dt,maxNodeNum:et,directed:M},mt=(0,y.Z)(_t).slice(0,nt),ot=mt.length,Et=[];mt.forEach(function(Zt,Vt){Et[Vt]={},Object.keys(G).forEach(function(Qt){var re=G[Qt],ee=r(re,Zt,P,b);Et[Vt][Qt]=ee})});var Ot=a(Et,ot,mt),B=Ot.structure,X=Ot.structureCountMap,pt=l.nodes[0],Mt=[],bt=(x=l.nodes[0])===null||x===void 0?void 0:x[P],Rt=-1/0;l.nodes.forEach(function(Zt){var Vt=Zt[P],Qt=w[Vt];(Qt==null?void 0:Qt.length)>Rt&&(Rt=Qt.length,Mt=Qt,bt=Vt,pt=Zt)});var It={},st={},Q={},ct={},ht={},ft={};Object.keys(Y).forEach(function(Zt,Vt){ht[Zt]=[],M&&(ft[Zt]=[]);var Qt=-1/0,re=Y[Zt],ee={};re.forEach(function(ce){var me=j["".concat(pt.id,"-").concat(ce.id)];if(me&&ht[Zt].push(me),Qt<me&&(Qt=me),ee["".concat(pt.id,"-").concat(ce.id)]={start:0,end:H[ce.id].idx,distance:me},M){var De=j["".concat(ce.id,"-").concat(pt.id)];De&&ft[Zt].push(De)}}),ht[Zt]=ht[Zt].sort(function(ce,me){return ce-me}),M&&(ft[Zt]=ft[Zt].sort(function(ce,me){return ce-me})),st=o(ee,rt,l,st);var Ht=[];if(Object.keys(ee).forEach(function(ce){if(Q[ce]){Ht.push(Q[ce]);return}var me=st[ce];Q[ce]=r(me,B,P,b),Ht.push(Q[ce])}),Ht=Ht.sort(function(ce,me){return me-ce}),ct["".concat(pt.id,"-").concat(Zt)]=Ht,Zt!==bt)for(var he=(Mt==null?void 0:Mt.length)||0,ie=function(me){var De=Mt[me],Te=J[W[De.id].idx],ve=Te.nodeLabelCountMap[Zt],Ne=Y[Zt].length;if(!ve||ve.count<Ne)return Mt.splice(me,1),"continue";for(var vn=!1,Ft=0;Ft<Ne;Ft++)if(ve.dists[Ft]>ht[Zt][Ft]){vn=!0;break}if(vn)return Mt.splice(me,1),"continue";var Bt={};Te.neighbors.forEach(function(qt){var ae=U["".concat(De.id,"-").concat(qt.id)];Bt["".concat(De.id,"-").concat(qt.id)]={start:W[De.id].idx,end:W[qt.id].idx,distance:ae}}),G=o(Bt,J,n,G);var Lt=[];Object.keys(Bt).forEach(function(qt){if(X[qt]){Lt.push(X[qt]);return}var ae=G[qt];X[qt]=r(ae,B,P,b),Lt.push(X[qt])}),Lt=Lt.sort(function(qt,ae){return ae-qt});for(var wt=!1,Ft=0;Ft<Ne;Ft++)if(Lt[Ft]<Ht[Ft]){wt=!0;break}if(wt)return Mt.splice(me,1),"continue"},_e=he-1;_e>=0;_e--)ie(_e)});var gt=[];Mt==null||Mt.forEach(function(Zt){for(var Vt=W[Zt.id].idx,Qt=h(n.nodes,S[Vt],Vt,P,D),re=Qt.neighbors,ee=re.length,Ht=!1,he=ee-1;he>=0;he--){if(re.length+1<l.nodes.length){Ht=!0;return}var ie=re[he],_e=ie[P];if(!Y[_e]||!Y[_e].length){re.splice(he,1);continue}if(!ht[_e]||!ht[_e].length){re.splice(he,1);continue}var ce="".concat(Zt.id,"-").concat(ie.id),me=U[ce],De=ht[_e].length-1,Te=ht[_e][De];if(me>Te){re.splice(he,1);continue}if(M){var ve="".concat(ie.id,"-").concat(Zt.id),Ne=U[ve];De=ft[_e].length-1;var vn=ft[_e][De];if(Ne>vn){re.splice(he,1);continue}}var Ft=X[ce]?X[ce]:E(n,Zt,ie,W,me,J,B,P,b,X,G),Bt="".concat(pt.id,"-").concat(_e),Lt=ct[Bt][ct[Bt].length-1];if(Ft<Lt){re.splice(he,1);continue}var wt=p(It,_e,H,Y),qt=wt.minPatternNodeLabelDegree,ae=wt.minPatternNodeLabelInDegree,oe=wt.minPatternNodeLabelOutDegree;if(W[ie.id].degree<qt){re.splice(he,1);continue}}Ht||gt.push({nodes:[Zt].concat(re)})});var yt=(0,C.Z)(l,pt.id,!1).length,Tt={};M?(Object.keys(yt).forEach(function(Zt){var Vt=H[Zt].node[P];Tt[Vt]?Tt[Vt].push(yt[Zt]):Tt[Vt]=[yt[Zt]]}),Object.keys(Tt).forEach(function(Zt){Tt[Zt].sort(function(Vt,Qt){return Vt-Qt})})):Tt=ht;for(var Dt=gt.length,Ct=function(Vt){var Qt=gt[Vt],re=Qt.nodes[0],ee={},Ht={};Qt.nodes.forEach(function(we,Je){Ht[we.id]={idx:Je,node:we,degree:0,inDegree:0,outDegree:0};var Ze=we[P];ee[Ze]?ee[Ze]++:ee[Ze]=1});var he=[],ie={};n.edges.forEach(function(we){Ht[we.source]&&Ht[we.target]&&(he.push(we),ie[we[b]]?ie[we[b]]++:ie[we[b]]=1,Ht[we.source].degree++,Ht[we.target].degree++,Ht[we.source].outDegree++,Ht[we.target].inDegree++)});for(var _e=Object.keys(V).length,ce=!1,me=0;me<_e;me++){var De=Object.keys(V)[me];if(!ie[De]||ie[De]<V[De].length){ce=!0;break}}if(ce)return gt.splice(Vt,1),"continue";var Te=he.length;if(Te<l.edges.length)return gt.splice(Vt,1),"break";for(var ve=!1,Ne=function(Je){var Ze=he[Je],ln=Ze[b],cn=V[ln];if(!cn||!cn.length)return ie[ln]--,cn&&ie[ln]<cn.length?(ve=!0,"break"):(he.splice(Je,1),Ht[Ze.source].degree--,Ht[Ze.target].degree--,Ht[Ze.source].outDegree--,Ht[Ze.target].inDegree--,"continue");var Mn=Ht[Ze.source].node[P],un=Ht[Ze.target].node[P],Bn=!1;if(cn.forEach(function(Vn){var Gn=H[Vn.source].node,Wn=H[Vn.target].node;Gn[P]===Mn&&Wn[P]===un&&(Bn=!0),!M&&Gn[P]===un&&Wn[P]===Mn&&(Bn=!0)}),!Bn)return ie[ln]--,cn&&ie[ln]<cn.length?(ve=!0,"break"):(he.splice(Je,1),Ht[Ze.source].degree--,Ht[Ze.target].degree--,Ht[Ze.source].outDegree--,Ht[Ze.target].inDegree--,"continue")},me=Te-1;me>=0;me--){var vn=Ne(me);if(vn==="break")break}if(ve)return gt.splice(Vt,1),"continue";Qt.edges=he;var Ft=(0,C.Z)(Qt,Qt.nodes[0].id,!1).length;if(Object.keys(Ft).reverse().forEach(function(we){if(!(we===Qt.nodes[0].id||ve)){if(Ft[we]===1/0){var Je=Ht[we].node[P];if(ee[Je]--,ee[Je]<Y[Je].length){ve=!0;return}var Ze=Qt.nodes.indexOf(Ht[we].node);Qt.nodes.splice(Ze,1),Ht[we]=void 0;return}var ln=W[we].node[P];if(!Tt[ln]||!Tt[ln].length||Ft[we]>Tt[ln][Tt[ln].length-1]){var Je=Ht[we].node[P];if(ee[Je]--,ee[Je]<Y[Je].length){ve=!0;return}var Ze=Qt.nodes.indexOf(Ht[we].node);Qt.nodes.splice(Ze,1),Ht[we]=void 0}}}),ve)return gt.splice(Vt,1),"continue";for(var Bt=!0,Lt=0;Bt&&!ve;){Bt=!1;var wt=M?Ht[re.id].degree<H[pt.id].degree||Ht[re.id].inDegree<H[pt.id].inDegree||Ht[re.id].outDegree<H[pt.id].outDegree:Ht[re.id].degree<H[pt.id].degree;if(wt){ve=!0;break}if(ee[re[P]]<Y[re[P]].length){ve=!0;break}for(var qt=Qt.nodes.length,ae=qt-1;ae>=0;ae--){var oe=Qt.nodes[ae],Me=Ht[oe.id].degree,Oe=Ht[oe.id].inDegree,Ce=Ht[oe.id].outDegree,Se=oe[P],Le=p(It,Se,H,Y),We=Le.minPatternNodeLabelDegree,Ye=Le.minPatternNodeLabelInDegree,je=Le.minPatternNodeLabelOutDegree,tn=M?Me<We||Oe<Ye||Ce<je:Me<We;if(tn){if(ee[oe[P]]--,ee[oe[P]]<Y[oe[P]].length){ve=!0;break}Qt.nodes.splice(ae,1),Ht[oe.id]=void 0,Bt=!0}}if(ve||!Bt&&Lt!==0)break;Te=he.length;for(var on=Te-1;on>=0;on--){var ue=he[on];if(!Ht[ue.source]||!Ht[ue.target]){he.splice(on,1);var rn=ue[b];if(ie[rn]--,Ht[ue.source]&&(Ht[ue.source].degree--,Ht[ue.source].outDegree--),Ht[ue.target]&&(Ht[ue.target].degree--,Ht[ue.target].inDegree--),V[rn]&&ie[rn]<V[rn].length){ve=!0;break}Bt=!0}}Lt++}if(ve||ve||Qt.nodes.length<l.nodes.length||he.length<l.edges.length)return gt.splice(Vt,1),"continue"},At=Dt-1;At>=0;At--){var Ut=Ct(At);if(Ut==="break")break}for(var St=gt.length,zt=function(Vt){var Qt=gt[Vt],re={};Qt.edges.forEach(function(he){var ie="".concat(he.source,"-").concat(he.target,"-").concat(he.label);re[ie]?re[ie]++:re[ie]=1});for(var ee=function(ie){var _e=gt[ie],ce={};_e.edges.forEach(function(De){var Te="".concat(De.source,"-").concat(De.target,"-").concat(De.label);ce[Te]?ce[Te]++:ce[Te]=1});var me=!0;Object.keys(ce).length!==Object.keys(re).length?me=!1:Object.keys(re).forEach(function(De){ce[De]!==re[De]&&(me=!1)}),me&&gt.splice(ie,1)},Ht=St-1;Ht>Vt;Ht--)ee(Ht);St=gt.length},At=0;At<=St-1;At++)zt(At);return gt}}};N.Z=e},64341:function(at,N,t){"use strict";var d=t(65965),T=function(C,m,f,h,v,o,r,a){return m===void 0&&(m=!1),f===void 0&&(f="weight"),h===void 0&&(h=1e-4),v===void 0&&(v=void 0),o===void 0&&(o=[]),r===void 0&&(r=["id"]),a===void 0&&(a=1),(0,d.Z)(C,m,f,h,!0,v,o,r,a)};N.Z=T},27209:function(at,N,t){"use strict";t.d(N,{EF:function(){return i.Z},ni:function(){return v.n}});var d=t(59774),T=t(30178),y=t(23768),C=t(52842),m=t(10208),f=t(32868),h=t(99433),v=t(51866),o=t(23662),r=t(37459),a=t(65965),s=t(64341),u=t(82898),c=t(129),E=t(19027),p=t(609),e=t(21765),i=t(54512),n=t(34154),l=t(59605),M=t(68048),O=m.ZP,D={getAdjMatrix:d.Z,breadthFirstSearch:T.Z,connectedComponent:y.ZP,getDegree:C.ZP,getInDegree:C.rU,getOutDegree:C.K_,detectCycle:m.ZP,detectDirectedCycle:O,detectAllCycles:m.wT,detectAllDirectedCycle:m.iK,detectAllUndirectedCycle:m.l1,depthFirstSearch:f.Z,dijkstra:h.Z,findAllPath:v.T,findShortestPath:v.n,floydWarshall:o.Z,labelPropagation:r.Z,louvain:a.Z,iLouvain:s.Z,kCore:u.Z,kMeans:c.Z,cosineSimilarity:E.Z,nodesCosineSimilarity:p.Z,minimumSpanningTree:e.Z,pageRank:i.Z,getNeighbors:M.Cy,Stack:l.Z,GADDI:n.Z}},82898:function(at,N,t){"use strict";var d=t(72691),T=t(52842),y=function(m,f){var h;f===void 0&&(f=1);for(var v=(0,d.d9)(m),o=v.nodes,r=o===void 0?[]:o,a=v.edges,s=a===void 0?[]:a,u=function(){var p=(0,T.ZP)({nodes:r,edges:s}),e=Object.keys(p);e.sort(function(l,M){var O,D;return((O=p[l])===null||O===void 0?void 0:O.degree)-((D=p[M])===null||D===void 0?void 0:D.degree)});var i=e[0];if(!r.length||((h=p[i])===null||h===void 0?void 0:h.degree)>=f)return"break";var n=r.findIndex(function(l){return l.id===i});r.splice(n,1),s=s.filter(function(l){return!(l.source===i||l.target===i)})};;){var c=u();if(c==="break")break}return{nodes:r,edges:s}};N.Z=y},129:function(at,N,t){"use strict";var d=t(72691),T=t(40473),y=t(68530),C=t(39007),m=t(19821),f=function(o,r,a){var s=[];switch(o){case m.n.EuclideanDistance:s=r[a];break;default:s=[];break}return s},h=function(o,r,a,s,u,c){r===void 0&&(r=3),a===void 0&&(a=void 0),s===void 0&&(s=[]),u===void 0&&(u=["id"]),c===void 0&&(c=m.n.EuclideanDistance);var E=o.nodes,p=E===void 0?[]:E,e=o.edges,i=e===void 0?[]:e,n={clusters:[{id:"0",nodes:p}],clusterEdges:[]};if(c===m.n.EuclideanDistance&&!p.every(function(nt){return nt.hasOwnProperty(a)}))return n;var l=[],M=[];if(c===m.n.EuclideanDistance&&(l=(0,T.uC)(p,a),M=(0,y.lf)(l,s,u)),!M.length)return n;for(var O=(0,d.jj)(M.map(function(nt){return nt.join("")})),D=Math.min(r,p.length,O.length),P=0;P<p.length;P++)p[P].originIndex=P;for(var b=[],x=[],L=[],P=0;P<D;P++)if(P===0){var S=Math.floor(Math.random()*p.length);switch(c){case m.n.EuclideanDistance:b[P]=M[S];break;default:b[P]=[];break}x.push(S),L[P]=[p[S]],p[S].clusterId=String(P)}else{for(var K=-1/0,U=0,j=function(dt){if(!x.includes(dt)){for(var et=0,_t=0;_t<b.length;_t++){var mt=0;switch(c){case m.n.EuclideanDistance:mt=(0,y.Sp)(M[p[dt].originIndex],b[_t],c);break;default:break}et+=mt}var ot=et/b.length;ot>K&&!b.find(function(Et){return(0,d.Xy)(Et,f(c,M,p[dt].originIndex))})&&(K=ot,U=dt)}},F=0;F<p.length;F++)j(F);b[P]=f(c,M,U),x.push(U),L[P]=[p[U]],p[U].clusterId=String(P)}for(var W=0;;){for(var P=0;P<p.length;P++){var w=0,z=1/0;if(!(W===0&&x.includes(P))){for(var H=0;H<b.length;H++){var Y=0;switch(c){case m.n.EuclideanDistance:Y=(0,y.Sp)(M[P],b[H],c);break;default:break}Y<z&&(z=Y,w=H)}if(p[P].clusterId!==void 0)for(var V=L[Number(p[P].clusterId)].length-1;V>=0;V--)L[Number(p[P].clusterId)][V].id===p[P].id&&L[Number(p[P].clusterId)].splice(V,1);p[P].clusterId=String(w),L[w].push(p[P])}}for(var $=!1,P=0;P<L.length;P++){for(var J=L[P],rt=new C.Z([]),H=0;H<J.length;H++)rt=rt.add(new C.Z(M[J[H].originIndex]));var lt=rt.avg(J.length);lt.equal(new C.Z(b[P]))||($=!0,b[P]=lt.getArr())}if(W++,p.every(function(nt){return nt.clusterId!==void 0})&&$||W>=1e3)break}var tt=[],G={};return i.forEach(function(nt){var ut,dt,et=nt.source,_t=nt.target,mt=(ut=p.find(function(B){return B.id===et}))===null||ut===void 0?void 0:ut.clusterId,ot=(dt=p.find(function(B){return B.id===_t}))===null||dt===void 0?void 0:dt.clusterId,Et="".concat(mt,"---").concat(ot);if(G[Et])G[Et].count++;else{var Ot={source:mt,target:ot,count:1};G[Et]=Ot,tt.push(Ot)}}),{clusters:L,clusterEdges:tt}};N.Z=h},37459:function(at,N,t){"use strict";var d=t(59774),T=t(68048),y=function(m,f,h,v){f===void 0&&(f=!1),h===void 0&&(h="weight"),v===void 0&&(v=1e3);var o=m.nodes,r=o===void 0?[]:o,a=m.edges,s=a===void 0?[]:a,u={},c={};r.forEach(function(P,b){var x=(0,T.EL)();P.clusterId=x,u[x]={id:x,nodes:[P]},c[P.id]={node:P,idx:b}});var E=(0,d.Z)(m,f),p=[],e={};E.forEach(function(P,b){var x=0,L=r[b].id;e[L]={},P.forEach(function(S,K){if(S){x+=S;var U=r[K].id;e[L][U]=S}}),p.push(x)});for(var i=0,n=function(){var b=!1;if(r.forEach(function(x){var L={};Object.keys(e[x.id]).forEach(function(z){var H=e[x.id][z],Y=c[z].node,V=Y.clusterId;L[V]||(L[V]=0),L[V]+=H});var S=-1/0,K=[];if(Object.keys(L).forEach(function(z){S<L[z]?(S=L[z],K=[z]):S===L[z]&&K.push(z)}),!(K.length===1&&K[0]===x.clusterId)){var U=K.indexOf(x.clusterId);if(U>=0&&K.splice(U,1),K&&K.length){b=!0;var j=u[x.clusterId],F=j.nodes.indexOf(x);j.nodes.splice(F,1);var W=Math.floor(Math.random()*K.length),w=u[K[W]];w.nodes.push(x),x.clusterId=w.id}}}),!b)return"break";i++};i<v;){var l=n();if(l==="break")break}Object.keys(u).forEach(function(P){var b=u[P];(!b.nodes||!b.nodes.length)&&delete u[P]});var M=[],O={};s.forEach(function(P){var b=P.source,x=P.target,L=P[h]||1,S=c[b].node.clusterId,K=c[x].node.clusterId,U="".concat(S,"---").concat(K);if(O[U])O[U].weight+=L,O[U].count++;else{var j={source:S,target:K,weight:L,count:1};O[U]=j,M.push(j)}});var D=[];return Object.keys(u).forEach(function(P){D.push(u[P])}),{clusters:D,clusterEdges:M}};N.Z=y},65965:function(at,N,t){"use strict";var d=t(72691),T=t(59774),y=t(39007),C=t(40473),m=t(68530),f=function(r,a,s,u){for(var c=a.length,E=2*u,p=0,e=0;e<c;e++)for(var i=r[e].clusterId,n=0;n<c;n++){var l=r[n].clusterId;if(i===l){var M=a[e][n]||0,O=s[e]||0,D=s[n]||0;p+=M-O*D/E}}return p*=1/E,p},h=function(r,a){r===void 0&&(r=[]);for(var s=r.length,u=new y.Z([]),c=0;c<s;c++)u=u.add(new y.Z(a[c]));var E=u.avg(s);E.normalize();for(var p=0,c=0;c<s;c++){var e=new y.Z(a[c]),i=e.squareEuclideanDistance(E);p+=i}var n=[];r.forEach(function(){n.push([])});for(var c=0;c<s;c++){var e=new y.Z(a[c]);r[c].clusterInertial=0;for(var l=0;l<s;l++){if(c===l){n[c][l]=0;continue}var M=new y.Z(a[l]);n[c][l]=e.squareEuclideanDistance(M),r[c].clusterInertial+=n[c][l]}}for(var O=0,D=2*s*p,c=0;c<s;c++)for(var P=r[c].clusterId,l=0;l<s;l++){var b=r[l].clusterId;if(!(c===l||P!==b)){var x=r[c].clusterInertial*r[l].clusterInertial/Math.pow(D,2)-n[c][l]/D;O+=x}}return Number(O.toFixed(4))},v=function(r,a,s,u,c,E,p,e,i){a===void 0&&(a=!1),s===void 0&&(s="weight"),u===void 0&&(u=1e-4),c===void 0&&(c=!1),E===void 0&&(E=void 0),p===void 0&&(p=[]),e===void 0&&(e=["id"]),i===void 0&&(i=1);var n=r.nodes,l=n===void 0?[]:n,M=r.edges,O=M===void 0?[]:M,D=[];if(c){l.forEach(function(G,nt){G.properties=G.properties||{},G.originIndex=nt});var P=[];l.every(function(G){return G.hasOwnProperty("nodeType")})&&(P=Array.from(new Set(l.map(function(G){return G.nodeType}))),l.forEach(function(G){G.properties.nodeType=P.findIndex(function(nt){return nt===G.nodeType})}));var b=(0,C.uC)(l,E);D=(0,m.lf)(b,p,e)}var x=1,L={},S={};l.forEach(function(G,nt){var ut=String(x++);G.clusterId=ut,L[ut]={id:ut,nodes:[G]},S[G.id]={node:G,idx:nt}});var K=(0,T.Z)(r,a),U=[],j={},F=0;K.forEach(function(G,nt){var ut=0,dt=l[nt].id;j[dt]={},G.forEach(function(et,_t){if(et){ut+=et;var mt=l[_t].id;j[dt][mt]=et,F+=et}}),U.push(ut)}),F/=2;for(var W=1/0,w=1/0,z=0,H=[],Y={};;){c&&l.every(function(G){return G.hasOwnProperty("properties")})?W=f(l,K,U,F)+h(l,D)*i:W=f(l,K,U,F),z===0&&(w=W,H=l,Y=L);var V=W>0&&W>w&&W-w<u;if(W>w&&(H=l.map(function(G){return{node:G,clusterId:G.clusterId}}),Y=(0,d.d9)(L),w=W),V||z>100)break;z++,Object.keys(L).forEach(function(G){var nt=0;O.forEach(function(ut){var dt=ut.source,et=ut.target,_t=S[dt].node.clusterId,mt=S[et].node.clusterId;(_t===G&&mt!==G||mt===G&&_t!==G)&&(nt=nt+(ut[s]||1))}),L[G].sumTot=nt}),l.forEach(function(G,nt){var ut=L[G.clusterId],dt=0,et,_t=U[nt]/(2*F),mt=0,ot=ut.nodes;ot.forEach(function(st){var Q=S[st.id].idx;mt+=K[nt][Q]||0});var Et=mt-ut.sumTot*_t,Ot=ot.filter(function(st){return st.id!==G.id}),B=[];Ot.forEach(function(st,Q){B[Q]=D[st.originIndex]});var X=h(Ot,D)*i,pt=j[G.id];if(Object.keys(pt).forEach(function(st){var Q=S[st].node,ct=Q.clusterId;if(ct!==G.clusterId){var ht=L[ct],ft=ht.nodes;if(!(!ft||!ft.length)){var gt=0;ft.forEach(function(Ut){var St=S[Ut.id].idx;gt+=K[nt][St]||0});var yt=gt-ht.sumTot*_t,Tt=ft.concat([G]),Dt=[];Tt.forEach(function(Ut,St){Dt[St]=D[Ut.originIndex]});var Ct=h(Tt,D)*i,At=yt-Et;c&&(At=yt+Ct-(Et+X)),At>dt&&(dt=At,et=ht)}}}),dt>0){et.nodes.push(G);var Mt=G.clusterId;G.clusterId=et.id;var bt=ut.nodes.indexOf(G);ut.nodes.splice(bt,1);var Rt=0,It=0;O.forEach(function(st){var Q=st.source,ct=st.target,ht=S[Q].node.clusterId,ft=S[ct].node.clusterId;(ht===et.id&&ft!==et.id||ft===et.id&&ht!==et.id)&&(Rt=Rt+(st[s]||1)),(ht===Mt&&ft!==Mt||ft===Mt&&ht!==Mt)&&(It=It+(st[s]||1))}),et.sumTot=Rt,ut.sumTot=It}})}var $={},J=0;Object.keys(Y).forEach(function(G){var nt=Y[G];if(!nt.nodes||!nt.nodes.length){delete Y[G];return}var ut=String(J+1);ut!==G&&(nt.id=ut,nt.nodes=nt.nodes.map(function(dt){return{id:dt.id,clusterId:ut}}),Y[ut]=nt,$[G]=ut,delete Y[G],J++)}),H.forEach(function(G){var nt=G.node,ut=G.clusterId;nt&&(nt.clusterId=ut,nt.clusterId&&$[nt.clusterId]&&(nt.clusterId=$[nt.clusterId]))});var rt=[],lt={};O.forEach(function(G){var nt=G.source,ut=G.target,dt=G[s]||1,et=S[nt].node.clusterId,_t=S[ut].node.clusterId;if(!(!et||!_t)){var mt="".concat(et,"---").concat(_t);if(lt[mt])lt[mt].weight+=dt,lt[mt].count++;else{var ot={source:et,target:_t,weight:dt,count:1};lt[mt]=ot,rt.push(ot)}}});var tt=[];return Object.keys(Y).forEach(function(G){tt.push(Y[G])}),{clusters:tt,clusterEdges:rt}};N.Z=v},21765:function(at,N,t){"use strict";var d=t(34476),T=t(80269),y=t(68048),C=function(v,o){var r=[],a=v.nodes,s=a===void 0?[]:a,u=v.edges,c=u===void 0?[]:u;if(s.length===0)return r;var E=s[0],p=new Set;p.add(E);var e=function(D,P){return o?D.weight-P.weight:0},i=new T.Z(e);for((0,y.VO)(E.id,c).forEach(function(O){i.insert(O)});!i.isEmpty();){var n=i.delMin(),l=n.source,M=n.target;p.has(l)&&p.has(M)||(r.push(n),p.has(l)||(p.add(l),(0,y.VO)(l,c).forEach(function(O){i.insert(O)})),p.has(M)||(p.add(M),(0,y.VO)(M,c).forEach(function(O){i.insert(O)})))}return r},m=function(v,o){var r=[],a=v.nodes,s=a===void 0?[]:a,u=v.edges,c=u===void 0?[]:u;if(s.length===0)return r;var E=c.map(function(l){return l});o&&E.sort(function(l,M){return l.weight-M.weight});for(var p=new d.Z(s.map(function(l){return l.id}));E.length>0;){var e=E.shift(),i=e.source,n=e.target;p.connected(i,n)||(r.push(e),p.union(i,n))}return r},f=function(v,o,r){var a={prim:C,kruskal:m};return r?a[r](v,o):m(v,o)};N.Z=f},609:function(at,N,t){"use strict";var d=t(72691),T=t(40473),y=t(68530),C=t(19027),m=function(h,v,o,r,a){h===void 0&&(h=[]),o===void 0&&(o=void 0),r===void 0&&(r=[]),a===void 0&&(a=[]);var s=(0,d.d9)(h.filter(function(i){return i.id!==v.id})),u=h.findIndex(function(i){return i.id===v.id}),c=(0,T.uC)(h,o),E=(0,y.lf)(c,r,a),p=E[u],e=[];return s.forEach(function(i,n){if(i.id!==v.id){var l=E[n],M=(0,C.Z)(l,p);e.push(M),i.cosineSimilarity=M}}),s.sort(function(i,n){return n.cosineSimilarity-i.cosineSimilarity}),{allCosineSimilarity:e,similarNodes:s}};N.Z=m},54512:function(at,N,t){"use strict";var d=t(52842),T=t(68048),y=function(m,f,h){typeof f!="number"&&(f=1e-6),typeof h!="number"&&(h=.85);for(var v=1,o=0,r=1e3,a=m.nodes,s=a===void 0?[]:a,u=m.edges,c=u===void 0?[]:u,E=s.length,p,e={},i={},n=0;n<E;++n){var l=s[n],M=l.id;e[M]=1/E,i[M]=1/E}for(var O=(0,d.ZP)(m);r>0&&v>f;){o=0;for(var n=0;n<E;++n){var l=s[n],M=l.id;if(p=0,O[l.id].inDegree===0)e[M]=0;else{for(var D=(0,T.Cy)(M,c,"source"),P=0;P<D.length;++P){var b=D[P],x=O[b].outDegree;x>0&&(p+=i[b]/x)}e[M]=h*p,o+=e[M]}}o=(1-o)/E,v=0;for(var n=0;n<E;++n){var l=s[n],M=l.id;p=e[M]+o,v+=Math.abs(p-i[M]),i[M]=p}r-=1}return i};N.Z=y},80269:function(at,N){"use strict";var t=function(y,C){return y-C},d=function(){function T(y){y===void 0&&(y=t),this.compareFn=y,this.list=[]}return T.prototype.getLeft=function(y){return 2*y+1},T.prototype.getRight=function(y){return 2*y+2},T.prototype.getParent=function(y){return y===0?null:Math.floor((y-1)/2)},T.prototype.isEmpty=function(){return this.list.length<=0},T.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},T.prototype.delMin=function(){var y=this.top(),C=this.list.pop();return this.list.length>0&&(this.list[0]=C,this.moveDown(0)),y},T.prototype.insert=function(y){if(y!==null){this.list.push(y);var C=this.list.length-1;return this.moveUp(C),!0}return!1},T.prototype.moveUp=function(y){for(var C=this.getParent(y);y&&y>0&&this.compareFn(this.list[C],this.list[y])>0;){var m=this.list[C];this.list[C]=this.list[y],this.list[y]=m,y=C,C=this.getParent(y)}},T.prototype.moveDown=function(y){var C,m=y,f=this.getLeft(y),h=this.getRight(y),v=this.list.length;f!==null&&f<v&&this.compareFn(this.list[m],this.list[f])>0?m=f:h!==null&&h<v&&this.compareFn(this.list[m],this.list[h])>0&&(m=h),y!==m&&(C=[this.list[m],this.list[y]],this.list[y]=C[0],this.list[m]=C[1],this.moveDown(m))},T}();N.Z=d},81141:function(at,N,t){"use strict";var d=function(m,f){return m===f},T=function(){function C(m,f){f===void 0&&(f=null),this.value=m,this.next=f}return C.prototype.toString=function(m){return m?m(this.value):"".concat(this.value)},C}(),y=function(){function C(m){m===void 0&&(m=d),this.head=null,this.tail=null,this.compare=m}return C.prototype.prepend=function(m){var f=new T(m,this.head);return this.head=f,this.tail||(this.tail=f),this},C.prototype.append=function(m){var f=new T(m);return this.head?(this.tail.next=f,this.tail=f,this):(this.head=f,this.tail=f,this)},C.prototype.delete=function(m){if(!this.head)return null;for(var f=null;this.head&&this.compare(this.head.value,m);)f=this.head,this.head=this.head.next;var h=this.head;if(h!==null)for(;h.next;)this.compare(h.next.value,m)?(f=h.next,h.next=h.next.next):h=h.next;return this.compare(this.tail.value,m)&&(this.tail=h),f},C.prototype.find=function(m){var f=m.value,h=f===void 0?void 0:f,v=m.callback,o=v===void 0?void 0:v;if(!this.head)return null;for(var r=this.head;r;){if(o&&o(r.value)||h!==void 0&&this.compare(r.value,h))return r;r=r.next}return null},C.prototype.deleteTail=function(){var m=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,m;for(var f=this.head;f.next;)f.next.next?f=f.next:f.next=null;return this.tail=f,m},C.prototype.deleteHead=function(){if(!this.head)return null;var m=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),m},C.prototype.fromArray=function(m){var f=this;return m.forEach(function(h){return f.append(h)}),this},C.prototype.toArray=function(){for(var m=[],f=this.head;f;)m.push(f),f=f.next;return m},C.prototype.reverse=function(){for(var m=this.head,f=null,h=null;m;)h=m.next,m.next=f,f=m,m=h;this.tail=this.head,this.head=f},C.prototype.toString=function(m){return m===void 0&&(m=void 0),this.toArray().map(function(f){return f.toString(m)}).toString()},C}();N.Z=y},47582:function(at,N,t){"use strict";var d=t(81141),T=function(){function y(){this.linkedList=new d.Z}return y.prototype.isEmpty=function(){return!this.linkedList.head},y.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},y.prototype.enqueue=function(C){this.linkedList.append(C)},y.prototype.dequeue=function(){var C=this.linkedList.deleteHead();return C?C.value:null},y.prototype.toString=function(C){return this.linkedList.toString(C)},y}();N.Z=T},59605:function(at,N,t){"use strict";var d=t(81141),T=function(){function y(C){C===void 0&&(C=10),this.linkedList=new d.Z,this.maxStep=C}return Object.defineProperty(y.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),y.prototype.isEmpty=function(){return!this.linkedList.head},y.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},y.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},y.prototype.push=function(C){this.linkedList.prepend(C),this.length>this.maxStep&&this.linkedList.deleteTail()},y.prototype.pop=function(){var C=this.linkedList.deleteHead();return C?C.value:null},y.prototype.toArray=function(){return this.linkedList.toArray().map(function(C){return C.value})},y.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},y}();N.Z=T},34476:function(at,N){"use strict";var t=function(){function d(T){this.count=T.length,this.parent={};for(var y=0,C=T;y<C.length;y++){var m=C[y];this.parent[m]=m}}return d.prototype.find=function(T){for(;this.parent[T]!==T;)T=this.parent[T];return T},d.prototype.union=function(T,y){var C=this.find(T),m=this.find(y);C!==m&&(C<m?(this.parent[y]!==y&&this.union(this.parent[y],T),this.parent[y]=this.parent[T]):(this.parent[T]!==T&&this.union(this.parent[T],y),this.parent[T]=this.parent[y]))},d.prototype.connected=function(T,y){return this.find(T)===this.find(y)},d}();N.Z=t},19821:function(at,N,t){"use strict";t.d(N,{n:function(){return d}});var d;(function(T){T.EuclideanDistance="euclideanDistance"})(d||(d={}))},68048:function(at,N,t){"use strict";t.d(N,{Cy:function(){return d},EL:function(){return C},VO:function(){return y},g7:function(){return T}});var d=function(f,h,v){h===void 0&&(h=[]);var o=h.filter(function(u){return u.source===f||u.target===f});if(v==="target"){var r=function(c){return c.source===f};return o.filter(r).map(function(u){return u.target})}if(v==="source"){var a=function(c){return c.target===f};return o.filter(a).map(function(u){return u.source})}var s=function(c){return c.source===f?c.target:c.source};return o.map(s)},T=function(f,h){return h.filter(function(v){return v.source===f})},y=function(f,h){return h.filter(function(v){return v.source===f||v.target===f})},C=function(f){f===void 0&&(f=0);var h="".concat(Math.random()).split(".")[1].substr(0,5),v="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(f,"-").concat(h).concat(v)}},68530:function(at,N,t){"use strict";t.d(N,{Sp:function(){return f},lf:function(){return m}});var d=t(72691),T=t(19821),y=t(39007),C=function(o,r,a){var s=[];r!=null&&r.length?s=r:(o.forEach(function(c){s=s.concat(Object.keys(c))}),s=(0,d.jj)(s));var u={};return s.forEach(function(c){var E=[];o.forEach(function(p){p[c]!==void 0&&p[c]!==""&&E.push(p[c])}),E.length&&!(a!=null&&a.includes(c))&&(u[c]=(0,d.jj)(E))}),u},m=function(o,r,a){var s=C(o,r,a),u=[];if(!Object.keys(s).length)return u;var c=Object.values(s),E=c.every(function(p){return p.every(function(e){return typeof e=="number"})});return o.forEach(function(p,e){var i=[];Object.keys(s).forEach(function(n){var l=p[n],M=s[n],O=M.findIndex(function(b){return l===b}),D=[];if(E)D.push(l);else for(var P=0;P<M.length;P++)P===O?D.push(1):D.push(0);i=i.concat(D)}),u[e]=i}),u},f=function(o,r,a,s){a===void 0&&(a=T.n.EuclideanDistance);var u=0;switch(a){case T.n.EuclideanDistance:u=new y.Z(o).euclideanDistance(new y.Z(r));break;default:break}return u},h={getAllKeyValueMap:C,oneHot:m,getDistance:f}},40473:function(at,N,t){"use strict";t.d(N,{uC:function(){return m}});var d=t(30708),T=function(v,o){v===void 0&&(v=[]),o===void 0&&(o=100);var r={};v.forEach(function(s){s.properties&&Object.keys(s.properties).forEach(function(u){if(u==="id"||!"".concat(s.properties[u]).match(d.F)&&!"".concat(s.properties[u]).match(d.B)&&isNaN(Number(s.properties[u]))){r.hasOwnProperty(u)&&delete r[u];return}r.hasOwnProperty(u)?r[u]+=1:r[u]=1})});var a=Object.keys(r).sort(function(s,u){return r[u]-r[s]});return a.length<o?a:a.slice(0,o)},y=function(v,o){return o.map(function(r){return v.hasOwnProperty(r)?v[r]:0})},C=function(v){for(var o=T(v),r=[],a=0;a<v.length;a++)r[a]=y(v[a].properties,o);return r},m=function(v,o){o===void 0&&(o=void 0);var r=[];return v.forEach(function(a){o===void 0&&r.push(a),a[o]!==void 0&&r.push(a[o])}),r},f={getAllSortProperties:T,getPropertyWeight:C,getAllProperties:m}},39007:function(at,N,t){"use strict";var d=t(72691),T=function(){function y(C){this.arr=C}return y.prototype.getArr=function(){return this.arr||[]},y.prototype.add=function(C){var m,f=C.arr;if(!(!((m=this.arr)===null||m===void 0)&&m.length))return new y(f);if(!(f!=null&&f.length))return new y(this.arr);if(this.arr.length===f.length){var h=[];for(var v in this.arr)h[v]=this.arr[v]+f[v];return new y(h)}},y.prototype.subtract=function(C){var m,f=C.arr;if(!(!((m=this.arr)===null||m===void 0)&&m.length))return new y(f);if(!(f!=null&&f.length))return new y(this.arr);if(this.arr.length===f.length){var h=[];for(var v in this.arr)h[v]=this.arr[v]-f[v];return new y(h)}},y.prototype.avg=function(C){var m=[];if(C!==0)for(var f in this.arr)m[f]=this.arr[f]/C;return new y(m)},y.prototype.negate=function(){var C=[];for(var m in this.arr)C[m]=-this.arr[m];return new y(C)},y.prototype.squareEuclideanDistance=function(C){var m,f=C.arr;if(!(!((m=this.arr)===null||m===void 0)&&m.length)||!(f!=null&&f.length))return 0;if(this.arr.length===f.length){var h=0;for(var v in this.arr)h+=Math.pow(this.arr[v]-C.arr[v],2);return h}},y.prototype.euclideanDistance=function(C){var m,f=C.arr;if(!(!((m=this.arr)===null||m===void 0)&&m.length)||!(f!=null&&f.length))return 0;if(this.arr.length===f.length){var h=0;for(var v in this.arr)h+=Math.pow(this.arr[v]-C.arr[v],2);return Math.sqrt(h)}else console.error("The two vectors are unequal in length.")},y.prototype.normalize=function(){var C=[],m=(0,d.d9)(this.arr);m.sort(function(o,r){return o-r});var f=m[m.length-1],h=m[0];for(var v in this.arr)C[v]=(this.arr[v]-h)/(f-h);return new y(C)},y.prototype.norm2=function(){var C;if(!(!((C=this.arr)===null||C===void 0)&&C.length))return 0;var m=0;for(var f in this.arr)m+=Math.pow(this.arr[f],2);return Math.sqrt(m)},y.prototype.dot=function(C){var m,f=C.arr;if(!(!((m=this.arr)===null||m===void 0)&&m.length)||!(f!=null&&f.length))return 0;if(this.arr.length===f.length){var h=0;for(var v in this.arr)h+=this.arr[v]*C.arr[v];return h}else console.error("The two vectors are unequal in length.")},y.prototype.equal=function(C){var m,f=C.arr;if(((m=this.arr)===null||m===void 0?void 0:m.length)!==(f==null?void 0:f.length))return!1;for(var h in this.arr)if(this.arr[h]!==f[h])return!1;return!0},y}();N.Z=T},61638:function(at,N,t){"use strict";t.d(N,{Z:function(){return T}});var d=t(20009);function T(y,C){return y.style.opacity||(y.style.opacity=1),(0,d.eR)(y,{opacity:0},C)}},20009:function(at,N,t){"use strict";t.d(N,{MG:function(){return m},V7:function(){return h},Yq:function(){return f},eR:function(){return s},jt:function(){return o},tT:function(){return a}});var d=t(15767),T=t(89148),y=t(57170);function C(u){return typeof u=="boolean"?!1:"enter"in u&&"update"in u&&"exit"in u}function m(u){if(!u)return{enter:!1,update:!1,exit:!1};var c=["enter","update","exit"],E=Object.fromEntries(Object.entries(u).filter(function(p){var e=(0,d.CR)(p,1),i=e[0];return!c.includes(i)}));return Object.fromEntries(c.map(function(p){return C(u)?u[p]===!1?[p,!1]:[p,(0,d.pi)((0,d.pi)({},u[p]),E)]:[p,E]}))}function f(u,c){u?u.finished.then(c):c()}function h(u,c){u.length===0?c():Promise.all(u.map(function(E){return E==null?void 0:E.finished})).then(c)}function v(u,c){"update"in u?u.update(c):u.attr(c)}function o(u,c,E){if(c.length===0)return null;if(!E){var p=c.slice(-1)[0];return v(u,{style:p}),null}return u.animate(c,E)}function r(u,c){return!(u.nodeName!=="text"||c.nodeName!=="text"||u.attributes.text!==c.attributes.text)}function a(u,c,E,p){if(p===void 0&&(p="destroy"),r(u,c))return u.remove(),[null];var e=function(){p==="destroy"?u.destroy():p==="hide"&&(0,y.Cp)(u),c.isVisible()&&(0,y.$Z)(c)};if(!E)return e(),[null];var i=E.duration,n=i===void 0?0:i,l=E.delay,M=l===void 0?0:l,O=Math.ceil(+n/2),D=+n/4,P=(0,d.CR)(u.getGeometryBounds().center,2),b=P[0],x=P[1],L=(0,d.CR)(c.getGeometryBounds().center,2),S=L[0],K=L[1],U=(0,d.CR)([(b+S)/2-b,(x+K)/2-x],2),j=U[0],F=U[1],W=u.style.opacity,w=W===void 0?1:W,z=c.style.opacity,H=z===void 0?1:z,Y=u.style.transform||"",V=c.style.transform||"",$=u.animate([{opacity:w,transform:"translate(0, 0) ".concat(Y)},{opacity:0,transform:"translate(".concat(j,", ").concat(F,") ").concat(Y)}],(0,d.pi)((0,d.pi)({fill:"both"},E),{duration:M+O+D})),J=c.animate([{opacity:0,transform:"translate(".concat(-j,", ").concat(-F,") ").concat(V),offset:.01},{opacity:H,transform:"translate(0, 0) ".concat(V)}],(0,d.pi)((0,d.pi)({fill:"both"},E),{duration:O+D,delay:M+O-D}));return f(J,e),[$,J]}function s(u,c,E){var p={},e={};return Object.entries(c).forEach(function(i){var n=(0,d.CR)(i,2),l=n[0],M=n[1];if(!(0,T.Z)(M)){var O=u.style[l]||u.parsedStyle[l]||0;O!==M&&(p[l]=O,e[l]=M)}}),E?o(u,[p,e],(0,d.pi)({fill:"both"},E)):(v(u,e),null)}},3759:function(at,N,t){"use strict";t.d(N,{w:function(){return h}});var d=t(15767),T=t(81614),y=t(57170),C=t(28213),m=t(14048);function f(){(0,y.WD)(this,this.attributes.visibility!=="hidden")}var h=function(v){(0,d.ZT)(o,v);function o(r,a){a===void 0&&(a={});var s=v.call(this,(0,C.n)({},{style:a},r))||this;return s.initialized=!1,s._defaultOptions=a,s}return Object.defineProperty(o.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=(0,m.g)(this)),this._offscreen},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"defaultOptions",{get:function(){return this._defaultOptions},enumerable:!1,configurable:!0}),o.prototype.connectedCallback=function(){this.render(this.attributes,this),this.bindEvents(this.attributes,this),this.initialized=!0},o.prototype.disconnectedCallback=function(){var r;(r=this._offscreen)===null||r===void 0||r.destroy()},o.prototype.attributeChangedCallback=function(r){r==="visibility"&&f.call(this)},o.prototype.update=function(r,a){var s;return this.attr((0,C.n)({},this.attributes,r||{})),(s=this.render)===null||s===void 0?void 0:s.call(this,this.attributes,this,a)},o.prototype.clear=function(){this.removeChildren()},o.prototype.bindEvents=function(r,a){},o.prototype.getSubShapeStyle=function(r){var a=r.x,s=r.y,u=r.transform,c=r.transformOrigin,E=r.class,p=r.className,e=r.zIndex,i=(0,d._T)(r,["x","y","transform","transformOrigin","class","className","zIndex"]);return i},o}(T.b_)},35315:function(at,N,t){"use strict";t.d(N,{x:function(){return C}});var d=t(15767),T=t(81614),y=t(14048),C=function(m){(0,d.ZT)(f,m);function f(h){h===void 0&&(h={});var v=h.style,o=(0,d._T)(h,["style"]);return m.call(this,(0,d.pi)({style:(0,d.pi)({text:"",fill:"black",fontFamily:"sans-serif",fontSize:16,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",lineWidth:1,textAlign:"start",textBaseline:"middle"},v)},o))||this}return Object.defineProperty(f.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=(0,y.g)(this)),this._offscreen},enumerable:!1,configurable:!0}),f.prototype.disconnectedCallback=function(){var h;(h=this._offscreen)===null||h===void 0||h.destroy()},f}(T.xv)},58643:function(at,N,t){"use strict";t.d(N,{R:function(){return c}});var d=t(15767),T=t(20009),y=t(3759),C=t(53395),m=t(62719),f=t(82750),h=t(35235),v=t(98417),o=t(58286),r=t(58124),a=t(44969),s=t(1538);function u(E,p,e,i){var n=E.showLine,l=E.showTick,M=E.showLabel,O=p.maybeAppendByClassName(h.Ec.lineGroup,"g"),D=(0,C.z)(n,O,function(S){return(0,r.UA)(S,E,i)})||[],P=p.maybeAppendByClassName(h.Ec.tickGroup,"g"),b=(0,C.z)(l,P,function(S){return(0,a.$3)(S,e,E,i)})||[],x=p.maybeAppendByClassName(h.Ec.labelGroup,"g"),L=(0,C.z)(M,x,function(S){return(0,o.l)(S,e,E,i,p.node())})||[];return(0,d.ev)((0,d.ev)((0,d.ev)([],(0,d.CR)(D),!1),(0,d.CR)(b),!1),(0,d.CR)(L),!1).filter(function(S){return!!S})}var c=function(E){(0,d.ZT)(p,E);function p(e){return E.call(this,e,h.m5)||this}return p.prototype.render=function(e,i,n){var l=this,M=e.titleText,O=e.data,D=e.animate,P=e.showTitle,b=e.showGrid,x=e.dataThreshold,L=e.truncRange,S=(0,m.w)(O,x).filter(function(H){var Y=H.value;return!(L&&Y>L[0]&&Y<L[1])}),K=(0,T.MG)(n===void 0?D:n),U=(0,f.Ys)(i).maybeAppendByClassName(h.Ec.gridGroup,"g"),j=(0,C.z)(b,U,function(H){return(0,v.R)(H,S,e,K)})||[],F=(0,f.Ys)(i).maybeAppendByClassName(h.Ec.mainGroup,"g");M&&(!this.initialized&&K.enter||this.initialized&&K.update)&&u(e,(0,f.Ys)(this.offscreenGroup),S,(0,T.MG)(!1));var W=u(e,(0,f.Ys)(F.node()),S,K),w=(0,f.Ys)(i).maybeAppendByClassName(h.Ec.titleGroup,"g"),z=(0,C.z)(P,w,function(H){return(0,s.u)(H,l,e,K)})||[];return(0,d.ev)((0,d.ev)((0,d.ev)([],(0,d.CR)(j),!1),(0,d.CR)(W),!1),(0,d.CR)(z),!1).flat().filter(function(H){return!!H})},p}(y.w)},35235:function(at,N,t){"use strict";t.d(N,{Ec:function(){return h},m5:function(){return C}});var d=t(48690),T=t(81614),y=t(48537),C={data:[],animate:{enter:!1,update:{duration:100,easing:"ease-in-out-sine",fill:"both"},exit:{duration:100,fill:"both"}},showArrow:!0,showGrid:!0,showLabel:!0,showLine:!0,showTick:!0,showTitle:!0,showTrunc:!1,dataThreshold:100,lineLineWidth:1,lineStroke:"black",crossPadding:10,titleFill:"black",titleFontSize:12,titlePosition:"lb",titleSpacing:0,titleTextAlign:"center",titleTextBaseline:"middle",lineArrow:function(){return new T.y$({style:{d:[["M",10,10],["L",-10,0],["L",10,-10],["L",0,0],["L",10,10],["Z"]],fill:"black",transformOrigin:"center"}})},labelAlign:"parallel",labelDirection:"positive",labelFontSize:12,labelSpacing:0,gridConnect:"line",gridControlAngles:[],gridDirection:"positive",gridLength:0,gridType:"segment",lineArrowOffset:15,lineArrowSize:10,tickDirection:"positive",tickLength:5,tickLineWidth:1,tickStroke:"black",labelOverlap:[]},m=(0,d.Z)({},C,{style:{type:"arc"}}),f=(0,d.Z)({},C,{style:{}}),h=(0,y.A)({mainGroup:"main-group",gridGroup:"grid-group",grid:"grid",lineGroup:"line-group",line:"line",tickGroup:"tick-group",tick:"tick",tickItem:"tick-item",labelGroup:"label-group",label:"label",labelItem:"label-item",titleGroup:"title-group",title:"title",lineFirst:"line-first",lineSecond:"line-second"},"axis")},98417:function(at,N,t){"use strict";t.d(N,{R:function(){return E}});var d=t(15767),T=t(84237),y=t(37331),C=t(17431),m=t(16841),f=t(10315),h=t(38561),v=t(35235),o=t(58124),r=t(57967);function a(p,e){return(0,r.Hw)(p,e.gridDirection,e)}function s(p){var e=p.type,i=p.gridCenter;return e==="linear"?i:i||p.center}function u(p,e){var i=e.gridLength;return p.map(function(n,l){var M=n.value,O=(0,d.CR)((0,o.mC)(M,e),2),D=O[0],P=O[1],b=(0,d.CR)((0,y.bA)(a(M,e),i),2),x=b[0],L=b[1];return{id:l,points:[[D,P],[D+x,P+L]]}})}function c(p,e){var i=e.gridControlAngles,n=s(e);if(!n)throw new Error("grid center is not provide");if(p.length<2)throw new Error("Invalid grid data");if(!i||i.length===0)throw new Error("Invalid gridControlAngles");var l=(0,d.CR)(n,2),M=l[0],O=l[1];return p.map(function(D,P){var b=D.value,x=(0,d.CR)((0,o.mC)(b,e),2),L=x[0],S=x[1],K=(0,d.CR)([L-M,S-O],2),U=K[0],j=K[1],F=[];return i.forEach(function(W){var w=(0,C.I)(W),z=(0,d.CR)([Math.cos(w),Math.sin(w)],2),H=z[0],Y=z[1],V=U*H-j*Y+M,$=U*Y+j*H+O;F.push([V,$])}),{points:F,id:P}})}function E(p,e,i,n){var l=(0,m.zs)(i,"grid"),M=l.type,O=l.areaFill,D=s(i),P=(0,r.i5)(e,i.gridFilter),b=M==="segment"?u(P,i):c(P,i),x=(0,d.pi)((0,d.pi)({},l),{center:D,areaFill:(0,T.Z)(O)?P.map(function(L,S){return(0,f.S)(O,[L,S,P])}):O,animate:n,data:b});return p.selectAll(v.Ec.grid.class).data([1]).join(function(L){return L.append(function(){return new h.r({style:x})}).attr("className",v.Ec.grid.name)},function(L){return L.transition(function(){return this.update(x)})},function(L){return L.remove()}).transitions()}},58286:function(at,N,t){"use strict";t.d(N,{l:function(){return z}});var d=t(15767),T=t(84237),y=t(22040),C=t(20009),m=t(61638),f=t(20868),h=t(17431),v=t(10315),o=t(37331),r=t(36653),a=t(89459),s=t(57170),u=t(56998),c=t(14116),E=t(82750),p=t(16841),e=t(34309),i=t(35235),n=t(57187),l=t(37316),M=t(58124),O=t(57967);function D(H){for(var Y=H;Y<0;)Y+=360;return Math.round(Y%360)}function P(H,Y){var V=(0,d.CR)(H,2),$=V[0],J=V[1],rt=(0,d.CR)(Y,2),lt=rt[0],tt=rt[1],G=(0,d.CR)([$*lt+J*tt,$*tt-J*lt],2),nt=G[0],ut=G[1];return Math.atan2(ut,nt)}function b(H){var Y=(H+360)%180;return(0,f.Z)(Y,-90,90)||(Y+=180),Y}function x(H,Y,V){var $,J=V.labelAlign,rt=($=Y.style.transform)===null||$===void 0?void 0:$.includes("rotate");if(rt)return Y.getLocalEulerAngles();var lt=0,tt=(0,O.eK)(H.value,V),G=(0,O.pZ)(H.value,V);return J==="horizontal"?0:(J==="perpendicular"?lt=P([1,0],tt):lt=P([G[0]<0?-1:1,0],G),b((0,h.Z)(lt)))}function L(H,Y,V){var $=V.type,J=V.labelAlign,rt=(0,O.eK)(H,V),lt=D(Y),tt=D((0,h.Z)(P([1,0],rt))),G="center",nt="middle";return $==="linear"?[90,270].includes(tt)&&lt===0?(G="center",nt=rt[1]===1?"top":"bottom"):!(tt%180)&&[90,270].includes(lt)?G="center":tt===0?((0,f.Z)(lt,0,90,!1,!0)||(0,f.Z)(lt,0,90)||(0,f.Z)(lt,270,360))&&(G="start"):tt===90?(0,f.Z)(lt,0,90,!1,!0)?G="start":((0,f.Z)(lt,90,180)||(0,f.Z)(lt,270,360))&&(G="end"):tt===270?(0,f.Z)(lt,0,90,!1,!0)?G="end":((0,f.Z)(lt,90,180)||(0,f.Z)(lt,270,360))&&(G="start"):tt===180&&(lt===90?G="start":((0,f.Z)(lt,0,90)||(0,f.Z)(lt,270,360))&&(G="end")):J==="parallel"?(0,f.Z)(tt,0,180,!0)?nt="top":nt="bottom":J==="horizontal"?(0,f.Z)(tt,90,270,!1)?G="end":((0,f.Z)(tt,270,360,!1)||(0,f.Z)(tt,0,90))&&(G="start"):J==="perpendicular"&&((0,f.Z)(tt,90,270)?G="end":G="start"),{textAlign:G,textBaseline:nt}}function S(H,Y,V){Y.setLocalEulerAngles(H);var $=Y.__data__.value,J=L($,H,V),rt=Y.querySelector(i.Ec.labelItem.class);rt&&F(rt,J)}function K(H,Y,V){var $=V.showTick,J=V.tickLength,rt=V.tickDirection,lt=V.labelDirection,tt=V.labelSpacing,G=Y.indexOf(H),nt=(0,v.S)(tt,[H,G,Y]),ut=(0,d.CR)([(0,O.eK)(H.value,V),(0,l.y)(lt,rt)],2),dt=ut[0],et=ut[1],_t=et===1?(0,v.S)($?J:0,[H,G,Y]):0,mt=(0,d.CR)((0,o.IH)((0,o.bA)(dt,nt+_t),(0,M.mC)(H.value,V)),2),ot=mt[0],Et=mt[1];return{x:ot,y:Et}}function U(H,Y,V,$){var J=$.labelFormatter,rt=(0,T.Z)(J)?function(){return(0,r.S)((0,v.S)(J,[H,Y,V,(0,O.eK)(H.value,$)]))}:function(){return(0,r.S)(H.label||"")};return rt}function j(H,Y,V,$){var J=$.labelRender,rt=((0,y.Z)($,"endPos.0",400)-(0,y.Z)($,"startPos.0",0))/V.length,lt=(0,T.Z)(J)?(0,v.S)(J,[H,Y,V,(0,O.eK)(H.value,$)]):H.label||"",tt=(0,a.r)(lt)||30;return function(){return(0,r.$)(lt,{width:rt,height:tt})}}function F(H,Y){["text","html"].includes(H.nodeName)&&H.attr(Y)}function W(H,Y){(0,n.jD)(this.node().childNodes,H,Y,{hide:s.Cp,show:s.$Z,rotate:function(V,$){S(+$,V,H)},ellipsis:function(V,$,J){V&&(0,u.O)(V,$||1/0,J)},wrap:function(V,$,J){V&&(0,c.A)(V,$,J)},getTextShape:function(V){return V.querySelector("text")}})}function w(H,Y,V,$,J){var rt=V.indexOf(Y),lt=J.labelRender,tt=(0,E.Ys)(H).append(lt?j(Y,rt,V,J):U(Y,rt,V,J)).attr("className",i.Ec.labelItem.name).node(),G=(0,d.CR)((0,p.Hm)((0,O.qW)($,[Y,rt,V])),2),nt=G[0],ut=G[1],dt=ut.transform,et=(0,d._T)(ut,["transform"]);(0,e.e)(tt,dt);var _t=x(Y,tt,J);return tt.getLocalEulerAngles()||tt.setLocalEulerAngles(_t),F(tt,(0,d.pi)((0,d.pi)({},L(Y.value,_t,J)),nt)),H.attr(et),tt}function z(H,Y,V,$,J){var rt=(0,O.i5)(Y,V.labelFilter),lt=(0,p.zs)(V,"label"),tt,G=H.selectAll(i.Ec.label.class).data(rt,function(nt,ut){return ut}).join(function(nt){return nt.append("g").attr("className",i.Ec.label.name).transition(function(ut){w(this,ut,Y,lt,V);var dt=K(ut,Y,V),et=dt.x,_t=dt.y;return this.style.transform="translate(".concat(et,", ").concat(_t,")"),null})},function(nt){return nt.transition(function(ut){var dt=this.querySelector(i.Ec.labelItem.class),et=w(this,ut,Y,lt,V),_t=(0,C.tT)(dt,et,$.update),mt=K(ut,Y,V),ot=mt.x,Et=mt.y,Ot=(0,C.eR)(this,{transform:"translate(".concat(ot,", ").concat(Et,")")},$.update);return(0,d.ev)((0,d.ev)([],(0,d.CR)(_t),!1),[Ot],!1)})},function(nt){return tt=nt,nt.transition(function(){var ut=this,dt=(0,m.Z)(this.childNodes[0],$.exit);return(0,C.Yq)(dt,function(){return(0,E.Ys)(ut).remove()}),dt}),tt}).transitions();return(0,C.V7)(G,function(){W.call(H,V,J)}),G}},58124:function(at,N,t){"use strict";t.d(N,{UA:function(){return x},_1:function(){return p},mC:function(){return c},tz:function(){return E}});var d=t(15767),T=t(22040),y=t(20009),C=t(17431),m=t(46732),f=t(36653),h=t(35140),v=t(16841),o=t(72793),r=t(35235),a=t(57967);function s(L,S){var K=(0,d.CR)(S.startPos,2),U=K[0],j=K[1],F=(0,d.CR)(S.endPos,2),W=F[0],w=F[1],z=(0,d.CR)([W-U,w-j],2),H=z[0],Y=z[1];return[U+H*L,j+Y*L]}function u(L,S){var K=S.radius,U=(0,d.CR)(S.center,2),j=U[0],F=U[1],W=(0,C.I)((0,a.zw)(L,S));return[j+K*Math.cos(W),F+K*Math.sin(W)]}function c(L,S){return S.type==="linear"?s(L,S):u(L,S)}function E(L){return(0,a.pZ)(0,L)[1]===0}function p(L){return(0,a.pZ)(0,L)[0]===0}function e(L,S){return S-L===360}function i(L,S,K,U,j){var F=S-L,W=(0,d.CR)([j,j],2),w=W[0],z=W[1],H=(0,d.CR)([(0,C.I)(L),(0,C.I)(S)],2),Y=H[0],V=H[1],$=function(Ot){return[K+j*Math.cos(Ot),U+j*Math.sin(Ot)]},J=(0,d.CR)($(Y),2),rt=J[0],lt=J[1],tt=(0,d.CR)($(V),2),G=tt[0],nt=tt[1];if(e(L,S)){var ut=(V+Y)/2,dt=(0,d.CR)($(ut),2),et=dt[0],_t=dt[1];return[["M",rt,lt],["A",w,z,0,1,0,et,_t],["A",w,z,0,1,0,G,nt]]}var mt=F>180?1:0,ot=L>S?0:1,Et=!1;return Et?"M".concat(K,",").concat(U,",L").concat(rt,",").concat(lt,",A").concat(w,",").concat(z,",0,").concat(mt,",").concat(ot,",").concat(G,",").concat(nt,",L").concat(K,",").concat(U):"M".concat(rt,",").concat(lt,",A").concat(w,",").concat(z,",0,").concat(mt,",").concat(ot,",").concat(G,",").concat(nt)}function n(L){var S=L.attributes,K=S.startAngle,U=S.endAngle,j=S.center,F=S.radius;return(0,d.ev)((0,d.ev)([K,U],(0,d.CR)(j),!1),[F],!1)}function l(L,S,K,U){var j=S.startAngle,F=S.endAngle,W=S.center,w=S.radius;return L.selectAll(r.Ec.line.class).data([{d:i.apply(void 0,(0,d.ev)((0,d.ev)([j,F],(0,d.CR)(W),!1),[w],!1))}],function(z,H){return H}).join(function(z){return z.append("path").attr("className",r.Ec.line.name).styles(S).styles({d:function(H){return H.d}})},function(z){return z.transition(function(){var H=this,Y=(0,m.F)(this,n(this),(0,d.ev)((0,d.ev)([j,F],(0,d.CR)(W),!1),[w],!1),U.update);if(Y){var V=function(){var $=(0,T.Z)(H.attributes,"__keyframe_data__");H.style.d=i.apply(void 0,(0,d.ev)([],(0,d.CR)($),!1))};Y.onframe=V,Y.onfinish=V}return Y}).styles(S)},function(z){return z.remove()}).styles(K).transitions()}function M(L,S){var K=S.truncRange,U=S.truncShape,j=S.lineExtension}function O(L,S,K){K===void 0&&(K=[0,0]);var U=(0,d.CR)([L,S,K],3),j=(0,d.CR)(U[0],2),F=j[0],W=j[1],w=(0,d.CR)(U[1],2),z=w[0],H=w[1],Y=(0,d.CR)(U[2],2),V=Y[0],$=Y[1],J=(0,d.CR)([z-F,H-W],2),rt=J[0],lt=J[1],tt=Math.sqrt(Math.pow(rt,2)+Math.pow(lt,2)),G=(0,d.CR)([-V/tt,$/tt],2),nt=G[0],ut=G[1];return[nt*rt,nt*lt,ut*rt,ut*lt]}function D(L){var S=(0,d.CR)(L,2),K=(0,d.CR)(S[0],2),U=K[0],j=K[1],F=(0,d.CR)(S[1],2),W=F[0],w=F[1];return{x1:U,y1:j,x2:W,y2:w}}function P(L,S,K,U){var j=S.showTrunc,F=S.startPos,W=S.endPos,w=S.truncRange,z=S.lineExtension,H=(0,d.CR)([F,W],2),Y=(0,d.CR)(H[0],2),V=Y[0],$=Y[1],J=(0,d.CR)(H[1],2),rt=J[0],lt=J[1],tt=(0,d.CR)(z?O(F,W,z):new Array(4).fill(0),4),G=tt[0],nt=tt[1],ut=tt[2],dt=tt[3],et=function(st){return L.selectAll(r.Ec.line.class).data(st,function(Q,ct){return ct}).join(function(Q){return Q.append("line").attr("className",function(ct){return"".concat(r.Ec.line.name," ").concat(ct.className)}).styles(K).transition(function(ct){return(0,y.eR)(this,D(ct.line),!1)})},function(Q){return Q.styles(K).transition(function(ct){var ht=ct.line;return(0,y.eR)(this,D(ht),U.update)})},function(Q){return Q.remove()}).transitions()};if(!j||!w)return et([{line:[[V+G,$+nt],[rt+ut,lt+dt]],className:r.Ec.line.name}]);var _t=(0,d.CR)(w,2),mt=_t[0],ot=_t[1],Et=rt-V,Ot=lt-$,B=(0,d.CR)([V+Et*mt,$+Ot*mt],2),X=B[0],pt=B[1],Mt=(0,d.CR)([V+Et*ot,$+Ot*ot],2),bt=Mt[0],Rt=Mt[1],It=et([{line:[[V+G,$+nt],[X,pt]],className:r.Ec.lineFirst.name},{line:[[bt,Rt],[rt+ut,lt+dt]],className:r.Ec.lineSecond.name}]);return M(L,S),It}function b(L,S,K,U){var j=K.showArrow,F=K.showTrunc,W=K.lineArrow,w=K.lineArrowOffset,z=K.lineArrowSize,H;if(S==="arc"?H=L.select(r.Ec.line.class):F?H=L.select(r.Ec.lineSecond.class):H=L.select(r.Ec.line.class),!j||!W||K.type==="arc"&&e(K.startAngle,K.endAngle)){var Y=H.node();Y&&(Y.style.markerEnd=void 0);return}var V=(0,f.S)(W);V.attr(U),(0,h.b)(V,z,!0),H.style("markerEnd",V).style("markerEndOffset",-w)}function x(L,S,K){var U=S.type,j,F=(0,v.zs)(S,"line");return U==="linear"?j=P(L,S,(0,o.C)(F,"arrow"),K):j=l(L,S,(0,o.C)(F,"arrow"),K),b(L,U,S,F),j}},44969:function(at,N,t){"use strict";t.d(N,{$3:function(){return e}});var d=t(15767),T=t(84237),y=t(20009),C=t(61638),m=t(10315),f=t(16841),h=t(82750),v=t(35235),o=t(58124),r=t(57967);function a(i,n){return(0,r.Hw)(i,n.tickDirection,n)}function s(i,n){var l=(0,d.CR)(i,2),M=l[0],O=l[1];return[[0,0],[M*n,O*n]]}function u(i,n,l,M,O){var D=O.tickLength,P=(0,d.CR)(s(M,(0,m.S)(D,[i,n,l])),2),b=(0,d.CR)(P[0],2),x=b[0],L=b[1],S=(0,d.CR)(P[1],2),K=S[0],U=S[1];return{x1:x,x2:K,y1:L,y2:U}}function c(i,n,l,M,O){var D=O.tickFormatter,P=a(n.value,O),b="line";return(0,T.Z)(D)&&(b=function(){return(0,m.S)(D,[n,l,M,P])}),i.append(b).attr("className",v.Ec.tickItem.name)}function E(i,n,l,M,O,D,P){var b=a(i.value,D),x=u(i,n,l,b,D),L=x.x1,S=x.x2,K=x.y1,U=x.y2,j=(0,d.CR)((0,f.Hm)((0,r.qW)(P,[i,n,l,b])),2),F=j[0],W=j[1];M.node().nodeName==="line"&&M.styles((0,d.pi)({x1:L,x2:S,y1:K,y2:U},F)),O.attr(W),M.styles(F)}function p(i,n,l,M,O,D){var P=c((0,h.Ys)(this),i,n,l,M);E(i,n,l,P,this,M,O);var b=(0,d.CR)((0,o.mC)(i.value,M),2),x=b[0],L=b[1];return(0,y.eR)(this,{transform:"translate(".concat(x,", ").concat(L,")")},D)}function e(i,n,l,M){var O=(0,r.i5)(n,l.tickFilter),D=(0,f.zs)(l,"tick");return i.selectAll(v.Ec.tick.class).data(O,function(P){return P.id||P.label}).join(function(P){return P.append("g").attr("className",v.Ec.tick.name).transition(function(b,x){return p.call(this,b,x,O,l,D,!1)})},function(P){return P.transition(function(b,x){return this.removeChildren(),p.call(this,b,x,O,l,D,M.update)})},function(P){return P.transition(function(){var b=this,x=(0,C.Z)(this.childNodes[0],M.exit);return(0,y.Yq)(x,function(){return b.remove()}),x})}).transitions()}},1538:function(at,N,t){"use strict";t.d(N,{u:function(){return c}});var d=t(15767),T=t(20009),y=t(98),C=t(60698),m=t(37331),f=t(16841),h=t(34309),v=t(82750),o=t(36653),r=t(35235);function a(E,p,e){var i=e.titlePosition,n=i===void 0?"lb":i,l=e.titleSpacing,M=(0,y.l)(n),O=E.node().getLocalBounds(),D=(0,d.CR)(O.min,2),P=D[0],b=D[1],x=(0,d.CR)(O.halfExtents,2),L=x[0],S=x[1],K=(0,d.CR)(p.node().getLocalBounds().halfExtents,2),U=K[0],j=K[1],F=(0,d.CR)([P+L,b+S],2),W=F[0],w=F[1],z=(0,d.CR)((0,C.j)(l),4),H=z[0],Y=z[1],V=z[2],$=z[3];if(["start","end"].includes(n)&&e.type==="linear"){var J=e.startPos,rt=e.endPos,lt=(0,d.CR)(n==="start"?[J,rt]:[rt,J],2),tt=lt[0],G=lt[1],nt=(0,m.Fv)([-G[0]+tt[0],-G[1]+tt[1]]),ut=(0,d.CR)((0,m.bA)(nt,H),2),dt=ut[0],et=ut[1];return{x:tt[0]+dt,y:tt[1]+et}}return M.includes("t")&&(w-=S+j+H),M.includes("r")&&(W+=L+U+Y),M.includes("l")&&(W-=L+U+$),M.includes("b")&&(w+=S+j+V),{x:W,y:w}}function s(E,p,e){var i=E.getGeometryBounds().halfExtents,n=i[1]*2;if(p==="vertical"){if(e==="left")return"rotate(-90) translate(0, ".concat(n/2,")");if(e==="right")return"rotate(-90) translate(0, -".concat(n/2,")")}return""}function u(E,p,e,i,n){var l=(0,f.zs)(i,"title"),M=(0,d.CR)((0,f.Hm)(l),2),O=M[0],D=M[1],P=D.transform,b=D.transformOrigin,x=(0,d._T)(D,["transform","transformOrigin"]);p.styles(x);var L=P||s(E.node(),O.direction,O.position);E.styles((0,d.pi)((0,d.pi)({},O),{transformOrigin:b})),(0,h.e)(E.node(),L);var S=a((0,v.Ys)(e._offscreen||e.querySelector(r.Ec.mainGroup.class)),p,i),K=S.x,U=S.y,j=(0,T.eR)(p.node(),{transform:"translate(".concat(K,", ").concat(U,")")},n);return j}function c(E,p,e,i){var n=e.titleText;return E.selectAll(r.Ec.title.class).data([{title:n}].filter(function(l){return!!l.title}),function(l,M){return l.title}).join(function(l){return l.append(function(){return(0,o.S)(n)}).attr("className",r.Ec.title.name).transition(function(){return u((0,v.Ys)(this),E,p,e,i.enter)})},function(l){return l.transition(function(){return u((0,v.Ys)(this),E,p,e,i.update)})},function(l){return l.remove()}).transitions()}},57967:function(at,N,t){"use strict";t.d(N,{Hw:function(){return a},eK:function(){return s},i5:function(){return v},pZ:function(){return r},qW:function(){return f},zw:function(){return o}});var d=t(15767),T=t(84237),y=t(10315),C=t(37331),m=t(17431);function f(u,c){return Object.fromEntries(Object.entries(u).map(function(E){var p=(0,d.CR)(E,2),e=p[0],i=p[1];return[e,(0,y.S)(i,c)]}))}function h(u){if(u.type==="linear"){var c=u.startPos,E=u.endPos;return __spreadArray(__spreadArray([],__read(c),!1),__read(E),!1)}var p=u.startAngle,e=u.endAngle,i=u.center,n=u.radius;return __spreadArray(__spreadArray([p,e],__read(i),!1),[n],!1)}function v(u,c){return c&&(0,T.Z)(c)?u.filter(c):u}function o(u,c){var E=c.startAngle,p=c.endAngle;return(p-E)*u+E}function r(u,c){if(c.type==="linear"){var E=(0,d.CR)(c.startPos,2),p=E[0],e=E[1],i=(0,d.CR)(c.endPos,2),n=i[0],l=i[1],M=(0,d.CR)([n-p,l-e],2),O=M[0],D=M[1];return(0,C.Fv)([O,D])}var P=(0,m.I)(o(u,c));return[-Math.sin(P),Math.cos(P)]}function a(u,c,E){var p=r(u,E);return(0,C.KR)(p,c!=="positive")}function s(u,c){return a(u,c.labelDirection,c)}},68818:function(at,N,t){"use strict";t.d(N,{Z:function(){return f}});var d=t(15767),T=t(89148),y=t(9075),C=t(22067);function m(h,v){return v===void 0&&(v={}),(0,T.Z)(h)?0:typeof h=="number"?h:Math.floor((0,y.Ux)(h,v))}function f(h,v,o,r){if(!(h.length<=0)){var a=v.suffix,s=a===void 0?"...":a,u=v.minLength,c=v.maxLength,E=c===void 0?1/0:c,p=v.step,e=p===void 0?" ":p,i=v.margin,n=i===void 0?[0,0,0,0]:i,l=(0,y.qT)(r.getTextShape(h[0])),M=m(e,l),O=u?m(u,l):M,D=m(E,l);((0,T.Z)(D)||D===1/0)&&(D=Math.max.apply(null,h.map(function(Y){return Y.getBBox().width})));for(var P=h.slice(),b=(0,d.CR)(n,4),x=b[0],L=x===void 0?0:x,S=b[1],K=S===void 0?0:S,U=b[2],j=U===void 0?L:U,F=b[3],W=F===void 0?K:F,w=function(Y){if(P.forEach(function(V){r.ellipsis(r.getTextShape(V),Y,s)}),P=(0,C.x)(h,o,n),P.length<1)return{value:void 0}},z=D;z>O+M;z-=M){var H=w(z);if(typeof H=="object")return H.value}}}},78250:function(at,N,t){"use strict";t.d(N,{Z:function(){return o}});var d=t(15767),T=t(57170),y=t(94055),C=t(32497),m=t(58124),f=t(22067),h={parity:function(r,a){var s=a.seq,u=s===void 0?2:s;return r.filter(function(c,E){return E%u?((0,T.Cp)(c),!1):!0})}},v=function(r){return r.filter(y.r)};function o(r,a,s,u){var c=r.length,E=a.keepHeader,p=a.keepTail;if(!(c<=1||c===2&&E&&p)){var e=h.parity,i=function(K){return K.forEach(u.show),K},n=2,l=r.slice(),M=r.slice(),O=Math.min.apply(Math,(0,d.ev)([1],(0,d.CR)(r.map(function(K){return K.getBBox().width})),!1));if(s.type==="linear"&&((0,m.tz)(s)||(0,m._1)(s))){var D=(0,C._v)(r[0]).left,P=(0,C._v)(r[c-1]).right,b=Math.abs(P-D)||1;n=Math.max(Math.floor(c*O/b),n)}var x,L;for(E&&(x=l.splice(0,1)[0]),p&&(L=l.splice(-1,1)[0],l.reverse()),i(l);n<r.length&&(0,f.x)(v(L?(0,d.ev)((0,d.ev)([L],(0,d.CR)(M),!1),[x],!1):(0,d.ev)([x],(0,d.CR)(M),!1)),s,a==null?void 0:a.margin).length;){if(L&&!x&&n%2===0){var S=l.splice(0,1);S.forEach(u.hide)}else if(L&&x){var S=l.splice(0,1);S.forEach(u.hide)}M=e(i(l),{seq:n}),n++}}}},31839:function(at,N,t){"use strict";t.d(N,{Z:function(){return y}});var d=t(15767),T=t(22067);function y(C,m,f,h){var v,o,r=m.optionalAngles,a=r===void 0?[0,45,90]:r,s=m.margin,u=m.recoverWhenFailed,c=u===void 0?!0:u,E=C.map(function(M){return M.getLocalEulerAngles()}),p=function(){return(0,T.x)(C,f,s).length<1},e=function(M){return C.forEach(function(O,D){var P=Array.isArray(M)?M[D]:M;h.rotate(O,+P)})};try{for(var i=(0,d.XA)(a),n=i.next();!n.done;n=i.next()){var l=n.value;if(e(l),p())return}}catch(M){v={error:M}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(v)throw v.error}}c&&e(E)}},42781:function(at,N,t){"use strict";t.d(N,{Z:function(){return f}});var d=t(15767),T=t(10315),y=t(58124),C=t(22067);function m(h){var v=h.type,o=h.labelDirection;return v==="linear"&&(0,y.tz)(h)?o==="negative"?"bottom":"top":"middle"}function f(h,v,o,r,a){var s,u=v.maxLines,c=u===void 0?3:u,E=v.recoverWhenFailed,p=E===void 0?!0:E,e=v.margin,i=e===void 0?[0,0,0,0]:e,n=(0,T.S)((s=v.wordWrapWidth)!==null&&s!==void 0?s:50,[a]),l=h.map(function(x){return x.attr("maxLines")||1}),M=Math.min.apply(Math,(0,d.ev)([],(0,d.CR)(l),!1)),O=function(){return(0,C.x)(h,o,i).length<1},D=m(o),P=function(x){return h.forEach(function(L,S){var K=Array.isArray(x)?x[S]:x;r.wrap(L,n,K,D)})};if(!(M>c)){if(o.type==="linear"&&(0,y.tz)(o)){if(P(c),O())return}else for(var b=M;b<=c;b++)if(P(b),O())return;p&&P(l)}}},57187:function(at,N,t){"use strict";t.d(N,{jD:function(){return v}});var d=t(14048),T=t(68818),y=t(78250),C=t(31839),m=t(42781),f=new Map([["hide",y.Z],["rotate",C.Z],["ellipsis",T.Z],["wrap",m.Z]]);function h(o,r,a){return r.labelOverlap.length<1?!1:a==="hide"?!(0,d.X)(o[0]):a==="rotate"?!o.some(function(s){var u;return!!(!((u=s.attr("transform"))===null||u===void 0)&&u.includes("rotate"))}):a==="ellipsis"||a==="wrap"?o.filter(function(s){return s.querySelector("text")}).length>=1:!0}function v(o,r,a,s){var u=r.labelOverlap,c=u===void 0?[]:u;c.length&&c.forEach(function(E){var p=E.type,e=f.get(p);h(o,r,p)&&(e==null||e(o,E,r,s,a))})}},1831:function(at,N,t){"use strict";t.d(N,{Y:function(){return m},z:function(){return f}});var d=t(15767),T=t(9075),y=t(60698),C=t(17431),m=function(){function h(v,o,r,a){this.set(v,o,r,a)}return Object.defineProperty(h.prototype,"left",{get:function(){return this.x1},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"top",{get:function(){return this.y1},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"right",{get:function(){return this.x2},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"bottom",{get:function(){return this.y2},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"width",{get:function(){return this.defined("x2")&&this.defined("x1")?this.x2-this.x1:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"height",{get:function(){return this.defined("y2")&&this.defined("y1")?this.y2-this.y1:void 0},enumerable:!1,configurable:!0}),h.prototype.rotatedPoints=function(v,o,r){var a=this,s=a.x1,u=a.y1,c=a.x2,E=a.y2,p=Math.cos(v),e=Math.sin(v),i=o-o*p+r*e,n=r-o*e-r*p,l=[[p*s-e*E+i,e*s+p*E+n],[p*c-e*E+i,e*c+p*E+n],[p*s-e*u+i,e*s+p*u+n],[p*c-e*u+i,e*c+p*u+n]];return l},h.prototype.set=function(v,o,r,a){return r<v?(this.x2=v,this.x1=r):(this.x1=v,this.x2=r),a<o?(this.y2=o,this.y1=a):(this.y1=o,this.y2=a),this},h.prototype.defined=function(v){return this[v]!==Number.MAX_VALUE&&this[v]!==-Number.MAX_VALUE},h}();function f(h,v){var o=h.getEulerAngles()||0;h.setEulerAngles(0);var r=h.getBounds(),a=(0,d.CR)(r.min,2),s=a[0],u=a[1],c=(0,d.CR)(r.max,2),E=c[0],p=c[1],e=h.getBBox(),i=e.width,n=e.height,l=n,M=0,O=0,D=s,P=u,b=(0,T.U4)(h);if(b){l-=1.5;var x=b.style.textAlign,L=b.style.textBaseline;x==="center"?D=(s+E)/2:(x==="right"||x==="end")&&(D=E),L==="middle"?P=(u+p)/2:L==="bottom"&&(P=p)}var S=(0,d.CR)((0,y.j)(v),4),K=S[0],U=K===void 0?0:K,j=S[1],F=j===void 0?0:j,W=S[2],w=W===void 0?U:W,z=S[3],H=z===void 0?F:z,Y=new m((M+=s)-H,(O+=u)-U,M+i+F,O+l+w);return h.setEulerAngles(o),Y.rotatedPoints((0,C.I)(o),D,P)}},98872:function(at,N,t){"use strict";t.d(N,{XS:function(){return h}});var d=t(1831);function T(v,o){return o[0]<=Math.max(v[0][0],v[1][0])&&o[0]<=Math.min(v[0][0],v[1][0])&&o[1]<=Math.max(v[0][1],v[1][1])&&o[1]<=Math.min(v[0][1],v[1][1])}function y(v,o,r){var a=(o[1]-v[1])*(r[0]-o[0])-(o[0]-v[0])*(r[1]-o[1]);return a===0?0:a<0?2:1}function C(v,o){var r=y(v[0],v[1],o[0]),a=y(v[0],v[1],o[1]),s=y(o[0],o[1],v[0]),u=y(o[0],o[1],v[1]);return!!(r!==a&&s!==u||r===0&&T(v,o[0])||a===0&&T(v,o[1])||s===0&&T(o,v[0])||u===0&&T(o,v[1]))}function m(v,o){var r=v.length;if(r<3)return!1;var a=[o,[9999,o[1]]],s=0,u=0;do{var c=[v[u],v[(u+1)%r]];if(C(c,a)){if(y(c[0],o,c[1])===0)return T(c,o);s++}u=(u+1)%r}while(u!==0);return!!(s&1)}function f(v,o){return o.every(function(r){return m(v,r)})}function h(v,o,r){var a=v.x1,s=v.x2,u=v.y1,c=v.y2,E=[[a,u],[s,u],[s,c],[a,c]],p=(0,d.z)(o,r);return f(E,p)}},37316:function(at,N,t){"use strict";t.d(N,{y:function(){return d}});function d(){for(var T=[],y=0;y<arguments.length;y++)T[y]=arguments[y];var C=function(m){return m==="positive"?-1:1};return T.reduce(function(m,f){return m*C(f)},1)}},98931:function(at,N,t){"use strict";t.d(N,{w:function(){return f}});var d=t(15767),T=t(1831);function y(h,v){var o=(0,d.CR)(h,4),r=o[0],a=o[1],s=o[2],u=o[3],c=(0,d.CR)(v,4),E=c[0],p=c[1],e=c[2],i=c[3],n=s-r,l=u-a,M=e-E,O=i-p,D=n*O-M*l;if(D===0)return!1;var P=D>0,b=r-E,x=a-p,L=n*x-l*b;if(L<0===P)return!1;var S=M*x-O*b;return!(S<0===P||L>D===P||S>D===P)}function C(h,v){var o=[[h[0],h[1],h[2],h[3]],[h[2],h[3],h[4],h[5]],[h[4],h[5],h[6],h[7]],[h[6],h[7],h[0],h[1]]];return o.some(function(r){return y(v,r)})}var m={lineToLine:y,intersectBoxLine:C,getBounds:T.z};function f(h,v,o){var r,a,s=(0,T.z)(h,o).flat(1),u=(0,T.z)(v,o).flat(1),c=[[s[0],s[1],s[2],s[3]],[s[0],s[1],s[4],s[5]],[s[4],s[5],s[6],s[7]],[s[2],s[3],s[6],s[7]]];try{for(var E=(0,d.XA)(c),p=E.next();!p.done;p=E.next()){var e=p.value;if(C(u,e))return!0}}catch(i){r={error:i}}finally{try{p&&!p.done&&(a=E.return)&&a.call(E)}finally{if(r)throw r.error}}return!1}},22067:function(at,N,t){"use strict";t.d(N,{x:function(){return r}});var d=t(15767),T=t(60698),y=t(37331),C=t(57967),m=t(58124),f=t(1831),h=t(98872),v=t(98931);function o(a,s){var u=a.type,c=a.labelDirection,E=a.crossSize;if(!E)return!1;if(u==="arc"){var p=a.center,e=a.radius,i=(0,d.CR)(p,2),n=i[0],l=i[1],M=c==="negative"?0:E,O=-e-M,D=e+M,P=(0,d.CR)((0,T.j)(s),4),b=P[0],x=P[1],L=P[2],S=P[3];return new f.Y(n+O-S,l+O-b,n+D+x,l+D+L)}var K=(0,d.CR)(a.startPos,2),U=K[0],j=K[1],F=(0,d.CR)(a.endPos,2),W=F[0],w=F[1],z=(0,d.CR)((0,m._1)(a)?[-s,0,s,0]:[0,s,0,-s],4),H=z[0],Y=z[1],V=z[2],$=z[3],J=(0,C.eK)(0,a),rt=(0,y.bA)(J,E),lt=new f.Y(U,j,W,w);return lt.x1+=$,lt.y1+=H,lt.x2+=Y+rt[0],lt.y2+=V+rt[1],lt}function r(a,s,u){var c,E,p=s.crossPadding,e=new Set,i=null,n=o(s,p),l=function(b){return n?(0,h.XS)(n,b):!0},M=function(b,x){return!b||!b.firstChild?!0:!(0,v.w)(b.firstChild,x.firstChild,(0,T.j)(u))};try{for(var O=(0,d.XA)(a),D=O.next();!D.done;D=O.next()){var P=D.value;l(P)?!i||M(i,P)?i=P:(e.add(i),e.add(P)):e.add(P)}}catch(b){c={error:b}}finally{try{D&&!D.done&&(E=O.return)&&E.call(O)}finally{if(c)throw c.error}}return Array.from(e)}},38561:function(at,N,t){"use strict";t.d(N,{r:function(){return i}});var d=t(15767),T=t(20009),y=t(61638),C=t(3759),m=t(48537),f=t(37331),h=t(10315),v=t(99985),o=t(82750),r=(0,m.A)({lineGroup:"line-group",line:"line",regionGroup:"region-group",region:"region"},"grid");function a(n){return n.reduce(function(l,M,O){return l.push((0,d.ev)([O===0?"M":"L"],(0,d.CR)(M),!1)),l},[])}function s(n,l,M){var O=l.connect,D=O===void 0?"line":O,P=l.center;if(D==="line")return a(n);if(!P)return[];var b=(0,f.TE)(n[0],P),x=M?0:1;return n.reduce(function(L,S,K){return K===0?L.push((0,d.ev)(["M"],(0,d.CR)(S),!1)):L.push((0,d.ev)(["A",b,b,0,0,x],(0,d.CR)(S),!1)),L},[])}function u(n,l,M){return l.type==="surround"?s(n,l,M):a(n)}function c(n,l,M){var O=M.type,D=M.connect,P=M.center,b=M.closed,x=b?[["Z"]]:[],L=(0,d.CR)([u(n,M),u(l.slice().reverse(),M,!0)],2),S=L[0],K=L[1],U=(0,d.CR)([n[0],l.slice(-1)[0]],2),j=U[0],F=U[1],W=function(Y,V){return[S,Y,K,V,x].flat()};if(D==="line"||O==="surround")return W([(0,d.ev)(["L"],(0,d.CR)(F),!1)],[(0,d.ev)(["L"],(0,d.CR)(j),!1)]);if(!P)throw new Error("Arc grid need to specified center");var w=(0,d.CR)([(0,f.TE)(F,P),(0,f.TE)(j,P)],2),z=w[0],H=w[1];return W([(0,d.ev)(["A",z,z,0,0,1],(0,d.CR)(F),!1),(0,d.ev)(["L"],(0,d.CR)(F),!1)],[(0,d.ev)(["A",H,H,0,0,0],(0,d.CR)(j),!1),(0,d.ev)(["L"],(0,d.CR)(j),!1)])}function E(n,l,M,O){var D=M.animate,P=M.isBillboard,b=l.map(function(x,L){return{id:x.id||"grid-line-".concat(L),d:u(x.points,M)}});return n.selectAll(r.line.class).data(b,function(x){return x.id}).join(function(x){return x.append("path").each(function(L,S){var K=(0,h.S)((0,v.M8)((0,d.pi)({d:L.d},O)),[L,S,b]);this.attr((0,d.pi)({class:r.line.name,stroke:"#D9D9D9",lineWidth:1,lineDash:[4,4],isBillboard:P},K))})},function(x){return x.transition(function(L,S){var K=(0,h.S)((0,v.M8)((0,d.pi)({d:L.d},O)),[L,S,b]);return(0,T.eR)(this,K,D.update)})},function(x){return x.transition(function(){var L=this,S=(0,y.Z)(this,D.exit);return(0,T.Yq)(S,function(){return L.remove()}),S})}).transitions()}function p(n,l,M){var O=M.animate,D=M.connect,P=M.areaFill;if(l.length<2||!P||!D)return[];for(var b=Array.isArray(P)?P:[P,"transparent"],x=function(W){return b[W%b.length]},L=[],S=0;S<l.length-1;S++){var K=(0,d.CR)([l[S].points,l[S+1].points],2),U=K[0],j=K[1],F=c(U,j,M);L.push({d:F,fill:x(S)})}return n.selectAll(r.region.class).data(L,function(W,w){return w}).join(function(W){return W.append("path").each(function(w,z){var H=(0,h.S)(w,[w,z,L]);this.attr(H)}).attr("className",r.region.name)},function(W){return W.transition(function(w,z){var H=(0,h.S)(w,[w,z,L]);return(0,T.eR)(this,H,O.update)})},function(W){return W.transition(function(){var w=this,z=(0,y.Z)(this,O.exit);return(0,T.Yq)(z,function(){return w.remove()}),z})}).transitions()}function e(n){var l=n.data,M=l===void 0?[]:l,O=n.closed;return O?M.map(function(D){var P=D.points,b=(0,d.CR)(P,1),x=b[0];return(0,d.pi)((0,d.pi)({},D),{points:(0,d.ev)((0,d.ev)([],(0,d.CR)(P),!1),[x],!1)})}):M}var i=function(n){(0,d.ZT)(l,n);function l(){return n!==null&&n.apply(this,arguments)||this}return l.prototype.render=function(M,O){var D=M.type,P=M.center,b=M.areaFill,x=M.closed,L=(0,d._T)(M,["type","center","areaFill","closed"]),S=e(M),K=(0,o.Ys)(O).maybeAppendByClassName(r.lineGroup,"g"),U=(0,o.Ys)(O).maybeAppendByClassName(r.regionGroup,"g"),j=E(K,S,M,L),F=p(U,S,M);return(0,d.ev)((0,d.ev)([],(0,d.CR)(j),!1),(0,d.CR)(F),!1)},l}(C.w)},61373:function(at,N,t){"use strict";t.d(N,{J:function(){return d}});var d={backgroundFill:"#262626",backgroundLineCap:"round",backgroundLineWidth:1,backgroundStroke:"#333",backgroundZIndex:-1,formatter:function(T){return T.toString()},labelFill:"#fff",labelFontSize:12,labelTextBaseline:"middle",padding:[2,4],position:"right",radius:0,zIndex:999}},15745:function(at,N,t){"use strict";t.d(N,{z:function(){return c}});var d=t(15767),T=t(81614),y=t(3759),C=t(48537),m=t(60698),f=t(58105),h=t(16841),v=t(82750),o=t(36653),r=t(32497),a=t(57170),s=t(61373),u=(0,C.A)({background:"background",labelGroup:"label-group",label:"label"},"indicator"),c=function(E){(0,d.ZT)(p,E);function p(e){var i=E.call(this,e,s.J)||this;return i.point=[0,0],i.group=i.appendChild(new T.ZA({})),i.isMutationObserved=!0,i}return p.prototype.renderBackground=function(){if(this.label){var e=this.attributes,i=e.position,n=e.padding,l=(0,d.CR)((0,m.j)(n),4),M=l[0],O=l[1],D=l[2],P=l[3],b=this.label.node().getLocalBounds(),x=b.min,L=b.max,S=new f.b(x[0]-P,x[1]-M,L[0]+O-x[0]+P,L[1]+D-x[1]+M),K=this.getPath(i,S),U=(0,h.zs)(this.attributes,"background");this.background=(0,v.Ys)(this.group).maybeAppendByClassName(u.background,"path").styles((0,d.pi)((0,d.pi)({},U),{d:K})),this.group.appendChild(this.label.node())}},p.prototype.renderLabel=function(){var e=this.attributes,i=e.formatter,n=e.labelText,l=(0,h.zs)(this.attributes,"label"),M=(0,d.CR)((0,h.Hm)(l),2),O=M[0],D=M[1],P=O.text,b=(0,d._T)(O,["text"]);if(this.label=(0,v.Ys)(this.group).maybeAppendByClassName(u.labelGroup,"g").styles(D),!!n){var x=this.label.maybeAppendByClassName(u.label,function(){return(0,o.S)(i(n))}).style("text",i(n).toString());x.selectAll("text").styles(b)}},p.prototype.adjustLayout=function(){var e=(0,d.CR)(this.point,2),i=e[0],n=e[1],l=this.attributes,M=l.x,O=l.y;this.group.attr("transform","translate(".concat(M-i,", ").concat(O-n,")"))},p.prototype.getPath=function(e,i){var n=this.attributes.radius,l=i.x,M=i.y,O=i.width,D=i.height,P=[["M",l+n,M],["L",l+O-n,M],["A",n,n,0,0,1,l+O,M+n],["L",l+O,M+D-n],["A",n,n,0,0,1,l+O-n,M+D],["L",l+n,M+D],["A",n,n,0,0,1,l,M+D-n],["L",l,M+n],["A",n,n,0,0,1,l+n,M],["Z"]],b={top:4,right:6,bottom:0,left:2},x=b[e],L=this.createCorner([P[x].slice(-2),P[x+1].slice(-2)]);return P.splice.apply(P,(0,d.ev)([x+1,1],(0,d.CR)(L),!1)),P[0][0]="M",P},p.prototype.createCorner=function(e,i){i===void 0&&(i=10);var n=.8,l=r.wE.apply(void 0,(0,d.ev)([],(0,d.CR)(e),!1)),M=(0,d.CR)(e,2),O=(0,d.CR)(M[0],2),D=O[0],P=O[1],b=(0,d.CR)(M[1],2),x=b[0],L=b[1],S=(0,d.CR)(l?[x-D,[D,x]]:[L-P,[P,L]],2),K=S[0],U=(0,d.CR)(S[1],2),j=U[0],F=U[1],W=K/2,w=K/Math.abs(K),z=i*w,H=z/2,Y=z*Math.sqrt(3)/2*n,V=(0,d.CR)([j,j+W-H,j+W,j+W+H,F],5),$=V[0],J=V[1],rt=V[2],lt=V[3],tt=V[4];return l?(this.point=[rt,P-Y],[["L",$,P],["L",J,P],["L",rt,P-Y],["L",lt,P],["L",tt,P]]):(this.point=[D+Y,rt],[["L",D,$],["L",D,J],["L",D+Y,rt],["L",D,lt],["L",D,tt]])},p.prototype.applyVisibility=function(){var e=this.attributes.visibility;e==="hidden"?(0,a.Cp)(this):(0,a.$Z)(this)},p.prototype.bindEvents=function(){this.label.on(T.Dk.BOUNDS_CHANGED,this.renderBackground)},p.prototype.render=function(){this.renderLabel(),this.renderBackground(),this.adjustLayout(),this.applyVisibility()},p}(y.w)},41339:function(at,N,t){"use strict";t.d(N,{W:function(){return o}});var d=t(15767),T=t(3759),y=t(16841),C=t(82750),m=t(58105),f=t(92857),h=t(7271),v=t(71829),o=function(r){(0,d.ZT)(a,r);function a(s){return r.call(this,s,v.bD)||this}return a.prototype.renderTitle=function(s,u,c){var E=this.attributes,p=E.showTitle,e=E.titleText,i=(0,y.zs)(this.attributes,"title"),n=(0,d.CR)((0,y.Hm)(i),2),l=n[0],M=n[1];this.titleGroup=s.maybeAppendByClassName(v.Ec.titleGroup,"g").styles(M);var O=(0,d.pi)((0,d.pi)({width:u,height:c},l),{text:p?e:""});this.title=this.titleGroup.maybeAppendByClassName(v.Ec.title,function(){return new f.D({style:O})}).update(O)},a.prototype.renderItems=function(s,u){var c=u.x,E=u.y,p=u.width,e=u.height,i=(0,y.zs)(this.attributes,"title",!0),n=(0,d.CR)((0,y.Hm)(i),2),l=n[0],M=n[1],O=(0,d.pi)((0,d.pi)({},l),{width:p,height:e,x:0,y:0});this.itemsGroup=s.maybeAppendByClassName(v.Ec.itemsGroup,"g").styles((0,d.pi)((0,d.pi)({},M),{transform:"translate(".concat(c,", ").concat(E,")")}));var D=this;this.itemsGroup.selectAll(v.Ec.items.class).data(["items"]).join(function(P){return P.append(function(){return new h.l({style:O})}).attr("className",v.Ec.items.name).each(function(){D.items=(0,C.Ys)(this)})},function(P){return P.update(O)},function(P){return P.remove()})},a.prototype.adjustLayout=function(){var s=this.attributes.showTitle;if(s){var u=this.title.node().getAvailableSpace(),c=u.x,E=u.y;this.itemsGroup.node().style.transform="translate(".concat(c,", ").concat(E,")")}},Object.defineProperty(a.prototype,"availableSpace",{get:function(){var s=this.attributes,u=s.showTitle,c=s.width,E=s.height;return u?this.title.node().getAvailableSpace():new m.b(0,0,c,E)},enumerable:!1,configurable:!0}),a.prototype.getBBox=function(){var s,u,c=(s=this.title)===null||s===void 0?void 0:s.node(),E=(u=this.items)===null||u===void 0?void 0:u.node();return!c||!E?r.prototype.getBBox.call(this):(0,f.j)(c,E)},a.prototype.render=function(s,u){var c=this.attributes,E=c.width,p=c.height,e=c.x,i=e===void 0?0:e,n=c.y,l=n===void 0?0:n,M=(0,C.Ys)(u);u.style.transform="translate(".concat(i,", ").concat(l,")"),this.renderTitle(M,E,p),this.renderItems(M,this.availableSpace),this.adjustLayout()},a}(T.w)},52302:function(at,N,t){"use strict";t.d(N,{P:function(){return l}});var d=t(15767),T=t(81614),y=t(36179),C=t(30829),m=t(3759),f=t(48537),h=t(60698),v=t(16841),o=t(53395),r=t(82750),a=t(32497),s=t(35140),u=t(36653),c=t(28213),E=t(56998),p=t(27663),e=(0,f.A)({layout:"flex",markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label",valueGroup:"value-group",focusGroup:"focus-group",focus:"focus",value:"value",backgroundGroup:"background-group",background:"background"},"legend-category-item"),i={offset:[0,20],domStyles:{".component-poptip":{opacity:"1",padding:"8px 12px",background:"#fff",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)"},".component-poptip-arrow":{display:"none"},".component-poptip-text":{color:"#000",lineHeight:"20px"}}};function n(M){var O=M.querySelector(e.marker.class);return O?O.style:{}}var l=function(M){(0,d.ZT)(O,M);function O(D){return M.call(this,D,{span:[1,1],marker:function(){return new T.Cd({style:{r:6}})},markerSize:10,labelFill:"#646464",valueFill:"#646464",labelFontSize:12,valueFontSize:12,labelTextBaseline:"middle",valueTextBaseline:"middle"})||this}return Object.defineProperty(O.prototype,"showValue",{get:function(){var D=this.attributes.valueText;return D?typeof D=="string"||typeof D=="number"?D!=="":typeof D=="function"?!0:D.attr("text")!=="":!1},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"actualSpace",{get:function(){var D=this.labelGroup,P=this.valueGroup,b=this.attributes,x=b.markerSize,L=b.focus,S=b.focusMarkerSize,K=D.node().getBBox(),U=K.width,j=K.height,F=P.node().getBBox(),W=F.width,w=F.height,z=L?S!=null?S:12:0;return{markerWidth:x,labelWidth:U,valueWidth:W,focusWidth:z,height:Math.max(x,j,w)}},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"span",{get:function(){var D=this.attributes.span;if(!D)return[1,1];var P=(0,d.CR)((0,h.j)(D),2),b=P[0],x=P[1],L=this.showValue?x:0,S=b+L;return[b/S,L/S]},enumerable:!1,configurable:!0}),O.prototype.setAttribute=function(D,P){M.prototype.setAttribute.call(this,D,P)},Object.defineProperty(O.prototype,"shape",{get:function(){var D,P=this.attributes,b=P.markerSize,x=P.width,L=this.actualSpace,S=L.markerWidth,K=L.focusWidth,U=L.height,j=this.actualSpace,F=j.labelWidth,W=j.valueWidth,w=(0,d.CR)(this.spacing,3),z=w[0],H=w[1],Y=w[2];if(x){var V=x-b-z-H-K-Y,$=(0,d.CR)(this.span,2),J=$[0],rt=$[1];D=(0,d.CR)([J*V,rt*V],2),F=D[0],W=D[1]}var lt=S+F+W+z+H+K+Y;return{width:lt,height:U,markerWidth:S,labelWidth:F,valueWidth:W,focusWidth:K}},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"spacing",{get:function(){var D=this.attributes,P=D.spacing,b=D.focus;if(!P)return[0,0,0];var x=(0,d.CR)((0,h.j)(P),3),L=x[0],S=x[1],K=x[2];return[L,this.showValue?S:0,b?K:0]},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"layout",{get:function(){var D=this.shape,P=D.markerWidth,b=D.labelWidth,x=D.valueWidth,L=D.focusWidth,S=D.width,K=D.height,U=(0,d.CR)(this.spacing,3),j=U[0],F=U[1],W=U[2];return{height:K,width:S,markerWidth:P,labelWidth:b,valueWidth:x,focusWidth:L,position:[P/2,P+j,P+b+j+F,P+b+x+j+F+W+L/2]}},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"scaleSize",{get:function(){var D=n(this.markerGroup.node()),P=this.attributes,b=P.markerSize,x=P.markerStrokeWidth,L=x===void 0?D.strokeWidth:x,S=P.markerLineWidth,K=S===void 0?D.lineWidth:S,U=P.markerStroke,j=U===void 0?D.stroke:U,F=+(L||K||(j?1:0))*Math.sqrt(2),W=this.markerGroup.node().getBBox(),w=W.width,z=W.height;return(1-F/Math.max(w,z))*b},enumerable:!1,configurable:!0}),O.prototype.renderMarker=function(D){var P=this,b=this.attributes.marker,x=(0,v.zs)(this.attributes,"marker");this.markerGroup=D.maybeAppendByClassName(e.markerGroup,"g").style("zIndex",0),(0,o.z)(!!b,this.markerGroup,function(){var L,S=P.markerGroup.node(),K=(L=S.childNodes)===null||L===void 0?void 0:L[0],U=typeof b=="string"?new C.J({style:{symbol:b},className:e.marker.name}):b();K?U.nodeName===K.nodeName?K instanceof C.J?K.update((0,d.pi)((0,d.pi)({},x),{symbol:b})):((0,a.DM)(K,U),(0,r.Ys)(K).styles(x)):(K.remove(),(0,r.Ys)(U).attr("className",e.marker.name).styles(x),S.appendChild(U)):(U instanceof C.J||(0,r.Ys)(U).attr("className",e.marker.name).styles(x),S.appendChild(U)),P.markerGroup.node().scale(1/P.markerGroup.node().getScale()[0]);var j=(0,s.b)(P.markerGroup.node(),P.scaleSize,!0);P.markerGroup.node().style._transform="scale(".concat(j,")")})},O.prototype.renderLabel=function(D){var P=(0,v.zs)(this.attributes,"label"),b=P.text,x=(0,d._T)(P,["text"]);this.labelGroup=D.maybeAppendByClassName(e.labelGroup,"g").style("zIndex",0),this.labelGroup.maybeAppendByClassName(e.label,function(){return(0,u.S)(b)}).styles(x)},O.prototype.renderValue=function(D){var P=this,b=(0,v.zs)(this.attributes,"value"),x=b.text,L=(0,d._T)(b,["text"]);this.valueGroup=D.maybeAppendByClassName(e.valueGroup,"g").style("zIndex",0),(0,o.z)(this.showValue,this.valueGroup,function(){P.valueGroup.maybeAppendByClassName(e.value,function(){return(0,u.S)(x)}).styles(L)})},O.prototype.createPoptip=function(){var D=this.attributes.poptip,P=D||{},b=P.render,x=(0,d._T)(P,["render"]),L=new p.Q({style:(0,c.n)(i,x)});return this.poptipGroup=L,L},O.prototype.bindPoptip=function(D){var P=this,b=this.attributes.poptip;if(b){var x=this.poptipGroup||this.createPoptip();x.bind(D,function(){var L=P.attributes,S=L.labelText,K=L.valueText,U=L.markerFill,j=typeof S=="string"?S:S==null?void 0:S.attr("text"),F=typeof K=="string"?K:K==null?void 0:K.attr("text");if(typeof b.render=="function")return{html:b.render({label:j,value:F,color:U})};var W="";return(typeof j=="string"||typeof j=="number")&&(W+='<div class="component-poptip-label">'.concat(j,"</div>")),(typeof F=="string"||typeof F=="number")&&(W+='<div class="component-poptip-value">'.concat(F,"</div>")),{html:W}})}},O.prototype.renderFocus=function(D){var P=this,b=this.attributes,x=b.focus,L=b.focusMarkerSize,S={x:0,y:0,size:L,opacity:.6,symbol:"focus",stroke:"#aaaaaa",lineWidth:1};(0,y.Z)(x)||(this.focusGroup=D.maybeAppendByClassName(e.focusGroup,"g").style("zIndex",0),(0,o.z)(x,this.focusGroup,function(){var K=new C.J({style:(0,d.pi)((0,d.pi)({},S),{symbol:"focus"})}),U=new T.Cd({style:{r:S.size/2,fill:"transparent"}}),j=P.focusGroup.node();j.appendChild(U),j.appendChild(K),K.update({opacity:0}),D.node().addEventListener("pointerenter",function(){K.update({opacity:1})}),D.node().addEventListener("pointerleave",function(){K.update({opacity:0})})}))},O.prototype.renderPoptip=function(D){var P=this,b=this.attributes.poptip;if(b){var x=D.maybeAppendByClassName(e.value,"g").node(),L=D.maybeAppendByClassName(e.label,"g").node();[x,L].forEach(function(S){S&&P.bindPoptip(S)})}},O.prototype.renderBackground=function(D){var P=this.shape,b=P.width,x=P.height,L=(0,v.zs)(this.attributes,"background");this.background=D.maybeAppendByClassName(e.backgroundGroup,"g").style("zIndex",-1),this.background.maybeAppendByClassName(e.background,"rect").styles((0,d.pi)({width:b,height:x},L))},O.prototype.adjustLayout=function(){var D=this.layout,P=D.labelWidth,b=D.valueWidth,x=D.height,L=(0,d.CR)(D.position,4),S=L[0],K=L[1],U=L[2],j=L[3],F=x/2;this.markerGroup.styles({transform:"translate(".concat(S,", ").concat(F,")").concat(this.markerGroup.node().style._transform)}),this.labelGroup.styles({transform:"translate(".concat(K,", ").concat(F,")")}),this.focusGroup&&this.focusGroup.styles({transform:"translate(".concat(j,", ").concat(F,")")}),(0,E.O)(this.labelGroup.select(e.label.class).node(),Math.ceil(P)),this.showValue&&(this.valueGroup.styles({transform:"translate(".concat(U,", ").concat(F,")")}),(0,E.O)(this.valueGroup.select(e.value.class).node(),Math.ceil(b)))},O.prototype.render=function(D,P){var b=(0,r.Ys)(P),x=D.x,L=x===void 0?0:x,S=D.y,K=S===void 0?0:S;b.styles({transform:"translate(".concat(L,", ").concat(K,")")}),this.renderMarker(b),this.renderLabel(b),this.renderValue(b),this.renderBackground(b),this.renderPoptip(b),this.renderFocus(b),this.adjustLayout()},O}(m.w)},7271:function(at,N,t){"use strict";t.d(N,{l:function(){return e}});var d=t(15767),T=t(81614),y=t(52847),C=t(28767),m=t(3759),f=t(48537),h=t(16841),v=t(10315),o=t(82750),r=t(36109),a=t(28213),s=t(46781),u=t(20099),c=t(52302),E=(0,f.A)({page:"item-page",navigator:"navigator",item:"item"},"items"),p=function(i,n,l){return l===void 0&&(l=!0),i?n(i):l},e=function(i){(0,d.ZT)(n,i);function n(l){var M=i.call(this,l,{data:[],gridRow:1/0,gridCol:void 0,padding:0,width:1e3,height:100,rowPadding:0,colPadding:0,layout:"flex",orientation:"horizontal",click:y.Z,mouseenter:y.Z,mouseleave:y.Z})||this;return M.navigatorShape=[0,0],M}return Object.defineProperty(n.prototype,"pageViews",{get:function(){return this.navigator.getContainer()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"grid",{get:function(){var l=this.attributes,M=l.gridRow,O=l.gridCol,D=l.data;if(!M&&!O)throw new Error("gridRow and gridCol can not be set null at the same time");return M&&O?[M,O]:M?[M,D.length]:[D.length,O]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"renderData",{get:function(){var l=this.attributes,M=l.data,O=l.layout,D=l.poptip,P=l.focus,b=l.focusMarkerSize,x=(0,h.zs)(this.attributes,"item"),L=M.map(function(S,K){var U=S.id,j=U===void 0?K:U,F=S.label,W=S.value;return{id:"".concat(j),index:K,style:(0,d.pi)({layout:O,labelText:F,valueText:W,poptip:D,focus:P,focusMarkerSize:b},Object.fromEntries(Object.entries(x).map(function(w){var z=(0,d.CR)(w,2),H=z[0],Y=z[1];return[H,(0,v.S)(Y,[S,K,M])]})))}});return L},enumerable:!1,configurable:!0}),n.prototype.getGridLayout=function(){var l=this,M=this.attributes,O=M.orientation,D=M.width,P=M.rowPadding,b=M.colPadding,x=(0,d.CR)(this.navigatorShape,1),L=x[0],S=(0,d.CR)(this.grid,2),K=S[0],U=S[1],j=U*K,F=0;return this.pageViews.children.map(function(W,w){var z,H,Y=Math.floor(w/j),V=w%j,$=l.ifHorizontal(U,K),J=[Math.floor(V/$),V%$];O==="vertical"&&J.reverse();var rt=(0,d.CR)(J,2),lt=rt[0],tt=rt[1],G=(D-L-(U-1)*b)/U,nt=W.getBBox().height,ut=(0,d.CR)([0,0],2),dt=ut[0],et=ut[1];return O==="horizontal"?(z=(0,d.CR)([F,lt*(nt+P)],2),dt=z[0],et=z[1],F=tt===U-1?0:F+G+b):(H=(0,d.CR)([tt*(G+b),F],2),dt=H[0],et=H[1],F=lt===K-1?0:F+nt+P),{page:Y,index:w,row:lt,col:tt,pageIndex:V,width:G,height:nt,x:dt,y:et}})},n.prototype.getFlexLayout=function(){var l=this.attributes,M=l.width,O=l.height,D=l.rowPadding,P=l.colPadding,b=(0,d.CR)(this.navigatorShape,1),x=b[0],L=(0,d.CR)(this.grid,2),S=L[0],K=L[1],U=(0,d.CR)([M-x,O],2),j=U[0],F=U[1],W=(0,d.CR)([0,0,0,0,0,0,0,0],8),w=W[0],z=W[1],H=W[2],Y=W[3],V=W[4],$=W[5],J=W[6],rt=W[7];return this.pageViews.children.map(function(lt,tt){var G,nt,ut,dt,et=lt.getBBox(),_t=et.width,mt=et.height,ot=J===0?0:P,Et=J+ot+_t;if(Et<=j&&p(V,function(B){return B<K}))return G=(0,d.CR)([J+ot,rt,Et],3),w=G[0],z=G[1],J=G[2],{width:_t,height:mt,x:w,y:z,page:H,index:tt,pageIndex:Y++,row:$,col:V++};nt=(0,d.CR)([$+1,0,0,rt+mt+D],4),$=nt[0],V=nt[1],J=nt[2],rt=nt[3];var Ot=rt+mt;return Ot<=F&&p($,function(B){return B<S})?(ut=(0,d.CR)([J,rt,_t],3),w=ut[0],z=ut[1],J=ut[2],{width:_t,height:mt,x:w,y:z,page:H,index:tt,pageIndex:Y++,row:$,col:V++}):(dt=(0,d.CR)([0,0,_t,0,H+1,0,0,0],8),w=dt[0],z=dt[1],J=dt[2],rt=dt[3],H=dt[4],Y=dt[5],$=dt[6],V=dt[7],{width:_t,height:mt,x:w,y:z,page:H,index:tt,pageIndex:Y++,row:$,col:V++})})},Object.defineProperty(n.prototype,"itemsLayout",{get:function(){this.navigatorShape=[0,0];var l=this.attributes.layout==="grid"?this.getGridLayout:this.getFlexLayout,M=l.call(this);return M.slice(-1)[0].page>0?(this.navigatorShape=[55,0],l.call(this)):M},enumerable:!1,configurable:!0}),n.prototype.ifHorizontal=function(l,M){var O=this.attributes.orientation;return(0,u._h)(O,l,M)},n.prototype.flattenPage=function(l){l.querySelectorAll(E.item.class).forEach(function(M){l.appendChild(M)}),l.querySelectorAll(E.page.class).forEach(function(M){var O=l.removeChild(M);O.destroy()})},n.prototype.renderItems=function(l){var M=this.attributes,O=M.click,D=M.mouseenter,P=M.mouseleave;this.flattenPage(l);var b=this.dispatchCustomEvent.bind(this);(0,o.Ys)(l).selectAll(E.item.class).data(this.renderData,function(x){return x.id}).join(function(x){return x.append(function(L){var S=L.style;return new c.P({style:S})}).attr("className",E.item.name).on("click",function(){O==null||O(this),b("itemClick",{item:this})}).on("pointerenter",function(){D==null||D(this),b("itemMouseenter",{item:this})}).on("pointerleave",function(){P==null||P(this),b("itemMouseleave",{item:this})})},function(x){return x.each(function(L){var S=L.style;this.update(S)})},function(x){return x.remove()})},n.prototype.relayoutNavigator=function(){var l,M=this.attributes,O=M.layout,D=M.width,P=((l=this.pageViews.children[0])===null||l===void 0?void 0:l.getBBox().height)||0,b=(0,d.CR)(this.navigatorShape,2),x=b[0],L=b[1];this.navigator.update(O==="grid"?{pageWidth:D-x,pageHeight:P-L}:{})},n.prototype.adjustLayout=function(){var l=this,M=Object.entries((0,r.v)(this.itemsLayout,"page")).map(function(D){var P=(0,d.CR)(D,2),b=P[0],x=P[1];return{page:b,layouts:x}}),O=(0,d.ev)([],(0,d.CR)(this.navigator.getContainer().children),!1);M.forEach(function(D){var P=D.layouts,b=l.pageViews.appendChild(new T.ZA({className:E.page.name}));P.forEach(function(x){var L=x.x,S=x.y,K=x.index,U=x.width,j=x.height,F=O[K];b.appendChild(F),(0,C.Z)(F,"__layout__",x),F.update({x:L,y:S,width:U,height:j})})}),this.relayoutNavigator()},n.prototype.renderNavigator=function(l){var M=this.attributes.orientation,O=(0,h.zs)(this.attributes,"nav"),D=(0,a.n)({orientation:M},O),P=this;return l.selectAll(E.navigator.class).data(["nav"]).join(function(b){return b.append(function(){return new s.C({style:D})}).attr("className",E.navigator.name).each(function(){P.navigator=this})},function(b){return b.each(function(){this.update(D)})},function(b){return b.remove()}),this.navigator},n.prototype.getBBox=function(){return this.navigator.getBBox()},n.prototype.render=function(l,M){var O=this.attributes.data;if(!(!O||O.length===0)){var D=this.renderNavigator((0,o.Ys)(M));this.renderItems(D.getContainer()),this.adjustLayout()}},n.prototype.dispatchCustomEvent=function(l,M){var O=new T.Aw(l,{detail:M});this.dispatchEvent(O)},n}(m.w)},71829:function(at,N,t){"use strict";t.d(N,{Ec:function(){return r},bD:function(){return f}});var d=t(28213),T=t(16841),y=t(48537),C=t(97497),m={showTitle:!0,padding:0,orientation:"horizontal",backgroundFill:"transparent",titleText:"",titleSpacing:4,titlePosition:"top-left",titleFill:"#2C3542",titleFontWeight:"bold",titleFontFamily:"sans-serif",titleFontSize:12},f=(0,d.n)({},m,{}),h=(0,d.n)({},m,(0,T.dq)(C.x,"handle"),{color:["#d0e3fa","#acc7f6","#8daaf2","#6d8eea","#4d73cd","#325bb1","#5a3e75","#8c3c79","#e23455","#e7655b"],indicatorBackgroundFill:"#262626",indicatorLabelFill:"white",indicatorLabelFontSize:12,indicatorVisibility:"hidden",labelAlign:"value",labelDirection:"positive",labelSpacing:5,showHandle:!0,showIndicator:!0,showLabel:!0,slidable:!0,titleText:"",type:"continuous"}),v=.01,o=.5,r=(0,y.A)({title:"title",titleGroup:"title-group",items:"items",itemsGroup:"items-group",contentGroup:"content-group",ribbonGroup:"ribbon-group",ribbon:"ribbon",handlesGroup:"handles-group",handle:"handle",startHandle:"start-handle",endHandle:"end-handle",labelGroup:"label-group",label:"label",indicator:"indicator"},"legend")},97497:function(at,N,t){"use strict";t.d(N,{x:function(){return r}});var d=t(15767),T=t(3759),y=t(48537),C=t(82750),m=t(53395),f=t(16841),h=t(30829),v=t(20099),o=(0,y.A)({markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label"},"handle"),r={showLabel:!0,formatter:function(s){return s.toString()},markerSize:25,markerStroke:"#c5c5c5",markerFill:"#fff",markerLineWidth:1,labelFontSize:12,labelFill:"#c5c5c5",labelText:"",orientation:"vertical",spacing:0},a=function(s){(0,d.ZT)(u,s);function u(c){return s.call(this,c,r)||this}return u.prototype.render=function(c,E){var p=(0,C.Ys)(E).maybeAppendByClassName(o.markerGroup,"g");this.renderMarker(p);var e=(0,C.Ys)(E).maybeAppendByClassName(o.labelGroup,"g");this.renderLabel(e)},u.prototype.renderMarker=function(c){var E=this,p=this.attributes,e=p.orientation,i=p.markerSymbol,n=i===void 0?(0,v._h)(e,"horizontalHandle","verticalHandle"):i;(0,m.z)(!!n,c,function(l){var M=(0,f.zs)(E.attributes,"marker"),O=(0,d.pi)({symbol:n},M);E.marker=l.maybeAppendByClassName(o.marker,function(){return new h.J({style:O})}).update(O)})},u.prototype.renderLabel=function(c){var E=this,p=this.attributes,e=p.showLabel,i=p.orientation,n=p.spacing,l=n===void 0?0:n,M=p.formatter;(0,m.z)(e,c,function(O){var D,P=(0,f.zs)(E.attributes,"label"),b=P.text,x=(0,d._T)(P,["text"]),L=((D=O.select(o.marker.class))===null||D===void 0?void 0:D.node().getBBox())||{},S=L.width,K=S===void 0?0:S,U=L.height,j=U===void 0?0:U,F=(0,d.CR)((0,v._h)(i,[0,j+l,"center","top"],[K+l,0,"start","middle"]),4),W=F[0],w=F[1],z=F[2],H=F[3];O.maybeAppendByClassName(o.label,"text").styles((0,d.pi)((0,d.pi)({},x),{x:W,y:w,text:M(b).toString(),textAlign:z,textBaseline:H}))})},u}(T.w)},92857:function(at,N,t){"use strict";t.d(N,{D:function(){return c},j:function(){return a}});var d=t(15767),T=t(3759),y=t(48537),C=t(98),m=t(60698),f=t(58105),h=t(16841),v=t(53395),o=t(82750),r=(0,y.A)({text:"text"},"title");function a(E,p){var e=E.attributes,i=e.position,n=e.spacing,l=e.inset,M=e.text,O=E.getBBox(),D=p.getBBox(),P=(0,C.l)(i),b=(0,d.CR)((0,m.j)(M?n:0),4),x=b[0],L=b[1],S=b[2],K=b[3],U=(0,d.CR)((0,m.j)(l),4),j=U[0],F=U[1],W=U[2],w=U[3],z=(0,d.CR)([K+L,x+S],2),H=z[0],Y=z[1],V=(0,d.CR)([w+F,j+W],2),$=V[0],J=V[1];if(P[0]==="l")return new f.b(O.x,O.y,D.width+O.width+H+$,Math.max(D.height+J,O.height));if(P[0]==="t")return new f.b(O.x,O.y,Math.max(D.width+$,O.width),D.height+O.height+Y+J);var rt=(0,d.CR)([p.attributes.width||D.width,p.attributes.height||D.height],2),lt=rt[0],tt=rt[1];return new f.b(D.x,D.y,lt+O.width+H+$,tt+O.height+Y+J)}function s(E,p){var e=Object.entries(p).reduce(function(i,n){var l=(0,d.CR)(n,2),M=l[0],O=l[1],D=E.node().attr(M);return D||(i[M]=O),i},{});E.styles(e)}function u(E){var p,e,i,n,l=E,M=l.width,O=l.height,D=l.position,P=(0,d.CR)([+M/2,+O/2],2),b=P[0],x=P[1],L=(0,d.CR)([+b,+x,"center","middle"],4),S=L[0],K=L[1],U=L[2],j=L[3],F=(0,C.l)(D);return F.includes("l")&&(p=(0,d.CR)([0,"start"],2),S=p[0],U=p[1]),F.includes("r")&&(e=(0,d.CR)([+M,"end"],2),S=e[0],U=e[1]),F.includes("t")&&(i=(0,d.CR)([0,"top"],2),K=i[0],j=i[1]),F.includes("b")&&(n=(0,d.CR)([+O,"bottom"],2),K=n[0],j=n[1]),{x:S,y:K,textAlign:U,textBaseline:j}}var c=function(E){(0,d.ZT)(p,E);function p(e){return E.call(this,e,{text:"",width:0,height:0,fill:"#4a505a",fontWeight:"bold",fontSize:12,fontFamily:"sans-serif",inset:0,spacing:0,position:"top-left"})||this}return p.prototype.getAvailableSpace=function(){var e=this,i=this.attributes,n=i.width,l=i.height,M=i.position,O=i.spacing,D=i.inset,P=e.querySelector(r.text.class);if(!P)return new f.b(0,0,+n,+l);var b=P.getBBox(),x=b.width,L=b.height,S=(0,d.CR)((0,m.j)(O),4),K=S[0],U=S[1],j=S[2],F=S[3],W=(0,d.CR)([0,0,+n,+l],4),w=W[0],z=W[1],H=W[2],Y=W[3],V=(0,C.l)(M);if(V.includes("i"))return new f.b(w,z,H,Y);V.forEach(function(dt,et){var _t,mt,ot,Et;dt==="t"&&(_t=(0,d.CR)(et===0?[L+j,+l-L-j]:[0,+l],2),z=_t[0],Y=_t[1]),dt==="r"&&(mt=(0,d.CR)([+n-x-F],1),H=mt[0]),dt==="b"&&(ot=(0,d.CR)([+l-L-K],1),Y=ot[0]),dt==="l"&&(Et=(0,d.CR)(et===0?[x+U,+n-x-U]:[0,+n],2),w=Et[0],H=Et[1])});var $=(0,d.CR)((0,m.j)(D),4),J=$[0],rt=$[1],lt=$[2],tt=$[3],G=(0,d.CR)([tt+rt,J+lt],2),nt=G[0],ut=G[1];return new f.b(w+tt,z+J,H-nt,Y-ut)},p.prototype.getBBox=function(){return this.title?this.title.getBBox():new f.b(0,0,0,0)},p.prototype.render=function(e,i){var n=this,l=e.width,M=e.height,O=e.position,D=e.spacing,P=(0,d._T)(e,["width","height","position","spacing"]),b=(0,d.CR)((0,h.Hm)(P),1),x=b[0],L=u(e),S=L.x,K=L.y,U=L.textAlign,j=L.textBaseline;(0,v.z)(!!P.text,(0,o.Ys)(i),function(F){n.title=F.maybeAppendByClassName(r.text,"text").styles(x).call(s,{x:S,y:K,textAlign:U,textBaseline:j}).node()})},p}(T.w)},20099:function(at,N,t){"use strict";t.d(N,{_h:function(){return r}});var d=t(30829);function T(a,s,u){var c=Math.round((a-u)/s);return u+c*s}function y(a,s,u){var c=1.4,E=c*u;return[["M",a-u,s-E],["L",a+u,s-E],["L",a+u,s+E],["L",a-u,s+E],["Z"]]}var C=1.4,m=.4;function f(a,s,u){var c=u,E=c*C,p=c/2,e=c/6,i=a+E*m;return[["M",a,s],["L",i,s+p],["L",a+E,s+p],["L",a+E,s-p],["L",i,s-p],["Z"],["M",i,s+e],["L",a+E-2,s+e],["M",i,s-e],["L",a+E-2,s-e]]}function h(a,s,u){var c=u,E=c*C,p=c/2,e=c/6,i=s+E*m;return[["M",a,s],["L",a-p,i],["L",a-p,s+E],["L",a+p,s+E],["L",a+p,i],["Z"],["M",a-e,i],["L",a-e,s+E-2],["M",a+e,i],["L",a+e,s+E-2]]}d.J.registerSymbol("hiddenHandle",y),d.J.registerSymbol("verticalHandle",f),d.J.registerSymbol("horizontalHandle",h);var v=function(a,s,u){return a===void 0&&(a="horizontal"),a==="horizontal"?s:u};function o(a,s,u,c){var E;c===void 0&&(c=4);var p=__read(a,2),e=p[0],i=p[1],n=__read(s,2),l=n[0],M=n[1],O=__read(u,2),D=O[0],P=O[1],b=__read([l,M],2),x=b[0],L=b[1],S=L-x;return x>L&&(E=__read([L,x],2),x=E[0],L=E[1]),S>i-e?[e,i]:x<e?D===e&&P===L?[e,L]:[e,S+e]:L>i?P===i&&D===x?[x,i]:[i-S,i]:[x,L]}function r(a,s,u){return a===void 0&&(a="horizontal"),a==="horizontal"?s:u}},30829:function(at,N,t){"use strict";t.d(N,{J:function(){return o}});var d=t(15767),T=t(84237),y=t(3759),C=t(53395),m=t(82750),f=t(47786),h=t(12245);function v(r){var a=(0,h.z)(r);return["base64","url","image"].includes(a)?"image":r&&a==="symbol"?"path":null}var o=function(r){(0,d.ZT)(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a.prototype.render=function(s,u){var c=s.x,E=c===void 0?0:c,p=s.y,e=p===void 0?0:p,i=this.getSubShapeStyle(s),n=i.symbol,l=i.size,M=l===void 0?16:l,O=(0,d._T)(i,["symbol","size"]),D=v(n);(0,C.z)(!!D,(0,m.Ys)(u),function(P){P.maybeAppendByClassName("marker",D).attr("className","marker ".concat(D,"-marker")).call(function(b){if(D==="image"){var x=M*2;b.styles({img:n,width:x,height:x,x:E-M,y:e-M})}else{var x=M/2,L=(0,T.Z)(n)?n:a.getSymbol(n);b.styles((0,d.pi)({d:L==null?void 0:L(E,e,x)},O))}})})},a.MARKER_SYMBOL_MAP=new Map,a.registerSymbol=function(s,u){a.MARKER_SYMBOL_MAP.set(s,u)},a.getSymbol=function(s){return a.MARKER_SYMBOL_MAP.get(s)},a.getSymbols=function(){return Array.from(a.MARKER_SYMBOL_MAP.keys())},a}(y.w);o.registerSymbol("cross",f.kC),o.registerSymbol("hyphen",f.Zb),o.registerSymbol("line",f.jv),o.registerSymbol("plus",f.PD),o.registerSymbol("tick",f.Ky),o.registerSymbol("circle",f.Xw),o.registerSymbol("point",f.xm),o.registerSymbol("bowtie",f.XF),o.registerSymbol("hexagon",f.bL),o.registerSymbol("square",f.h6),o.registerSymbol("diamond",f.tf),o.registerSymbol("triangle",f.cP),o.registerSymbol("triangle-down",f.MG),o.registerSymbol("line",f.jv),o.registerSymbol("dot",f.AK),o.registerSymbol("dash",f.P2),o.registerSymbol("smooth",f.ip),o.registerSymbol("hv",f.hv),o.registerSymbol("vh",f.vh),o.registerSymbol("hvh",f.t7),o.registerSymbol("vhv",f.sN),o.registerSymbol("focus",f.T_)},47786:function(at,N,t){"use strict";t.d(N,{AK:function(){return c},Ky:function(){return a},LI:function(){return M},MG:function(){return f},P2:function(){return E},PD:function(){return s},T_:function(){return O},XF:function(){return v},Xw:function(){return d},Zb:function(){return u},bL:function(){return h},cP:function(){return m},h6:function(){return y},hv:function(){return e},ip:function(){return p},jv:function(){return o},kC:function(){return r},sN:function(){return l},t7:function(){return n},tf:function(){return C},vh:function(){return i},xm:function(){return T}});var d=function(D,P,b){return[["M",D-b,P],["A",b,b,0,1,0,D+b,P],["A",b,b,0,1,0,D-b,P],["Z"]]},T=d,y=function(D,P,b){return[["M",D-b,P-b],["L",D+b,P-b],["L",D+b,P+b],["L",D-b,P+b],["Z"]]},C=function(D,P,b){return[["M",D-b,P],["L",D,P-b],["L",D+b,P],["L",D,P+b],["Z"]]},m=function(D,P,b){var x=b*Math.sin(.3333333333333333*Math.PI);return[["M",D-b,P+x],["L",D,P-x],["L",D+b,P+x],["Z"]]},f=function(D,P,b){var x=b*Math.sin(.3333333333333333*Math.PI);return[["M",D-b,P-x],["L",D+b,P-x],["L",D,P+x],["Z"]]},h=function(D,P,b){var x=b/2*Math.sqrt(3);return[["M",D,P-b],["L",D+x,P-b/2],["L",D+x,P+b/2],["L",D,P+b],["L",D-x,P+b/2],["L",D-x,P-b/2],["Z"]]},v=function(D,P,b){var x=b-1.5;return[["M",D-b,P-x],["L",D+b,P+x],["L",D+b,P-x],["L",D-b,P+x],["Z"]]},o=function(D,P,b){return[["M",D,P+b],["L",D,P-b]]},r=function(D,P,b){return[["M",D-b,P-b],["L",D+b,P+b],["M",D+b,P-b],["L",D-b,P+b]]},a=function(D,P,b){return[["M",D-b/2,P-b],["L",D+b/2,P-b],["M",D,P-b],["L",D,P+b],["M",D-b/2,P+b],["L",D+b/2,P+b]]},s=function(D,P,b){return[["M",D-b,P],["L",D+b,P],["M",D,P-b],["L",D,P+b]]},u=function(D,P,b){return[["M",D-b,P],["L",D+b,P]]},c=function(D,P,b){return[["M",D-b,P],["L",D+b,P]]},E=c,p=function(D,P,b){return[["M",D-b,P],["A",b/2,b/2,0,1,1,D,P],["A",b/2,b/2,0,1,0,D+b,P]]},e=function(D,P,b){return[["M",D-b-1,P-2.5],["L",D,P-2.5],["L",D,P+2.5],["L",D+b+1,P+2.5]]},i=function(D,P,b){return[["M",D-b-1,P+2.5],["L",D,P+2.5],["L",D,P-2.5],["L",D+b+1,P-2.5]]},n=function(D,P,b){return[["M",D-(b+1),P+2.5],["L",D-b/2,P+2.5],["L",D-b/2,P-2.5],["L",D+b/2,P-2.5],["L",D+b/2,P+2.5],["L",D+b+1,P+2.5]]};function l(D,P){return[["M",D-5,P+2.5],["L",D-5,P],["L",D,P],["L",D,P-3],["L",D,P+3],["L",D+6.5,P+3]]}var M=function(D,P,b){return[["M",D-b,P-b],["L",D+b,P],["L",D-b,P+b],["Z"]]},O=function(D,P,b){var x=b,L=b*.2,S=b*.7;return[["M",D-x,P],["A",x,x,0,1,0,D+x,P],["A",x,x,0,1,0,D-x,P],["Z"],["M",D-S,P],["L",D-L,P],["M",D+L,P],["L",D+S,P],["M",D,P-S],["L",D,P-L],["M",D,P+L],["L",D,P+S]]}},12245:function(at,N,t){"use strict";t.d(N,{z:function(){return C}});var d=t(70373),T=t(84237),y=t(27412);function C(m){var f="default";if((0,d.Z)(m)&&m instanceof Image)f="image";else if((0,T.Z)(m))f="symbol";else if((0,y.Z)(m)){var h=new RegExp("data:(image|text)");m.match(h)?f="base64":/^(https?:\/\/(([a-zA-Z0-9]+-?)+[a-zA-Z0-9]+\.)+[a-zA-Z]+)(:\d+)?(\/.*)?(\?.*)?(#.*)?$/.test(m)?f="url":f="symbol"}return f}},46781:function(at,N,t){"use strict";t.d(N,{C:function(){return p}});var d=t(15767),T=t(81614),y=t(15378),C=t(83633),m=t(20009),f=t(3759),h=t(48537),v=t(52862),o=t(58105),r=t(57170),a=t(16841),s=t(35140),u=t(82750),c=t(47786),E=(0,h.A)({prevBtnGroup:"prev-btn-group",prevBtn:"prev-btn",nextBtnGroup:"next-btn-group",nextBtn:"next-btn",pageInfoGroup:"page-info-group",pageInfo:"page-info",playWindow:"play-window",contentGroup:"content-group",controller:"controller",clipPath:"clip-path"},"navigator"),p=function(e){(0,d.ZT)(i,e);function i(n){var l=e.call(this,n,{x:0,y:0,animate:{easing:"linear",duration:200,fill:"both"},buttonCursor:"pointer",buttonFill:"black",buttonD:(0,c.LI)(0,0,6),buttonSize:12,controllerPadding:5,controllerSpacing:5,formatter:function(M,O){return"".concat(M,"/").concat(O)},defaultPage:0,loop:!1,orientation:"horizontal",pageNumFill:"black",pageNumFontSize:12,pageNumTextAlign:"start",pageNumTextBaseline:"middle"})||this;return l.playState="idle",l.contentGroup=l.appendChild(new T.ZA({class:E.contentGroup.name})),l.playWindow=l.contentGroup.appendChild(new T.ZA({class:E.playWindow.name})),l.innerCurrPage=l.defaultPage,l}return Object.defineProperty(i.prototype,"defaultPage",{get:function(){var n=this.attributes.defaultPage;return(0,y.Z)(n,0,Math.max(this.pageViews.length-1,0))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"pageViews",{get:function(){return this.playWindow.children},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"controllerShape",{get:function(){return this.totalPages>1?{width:55,height:0}:{width:0,height:0}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"pageShape",{get:function(){var n=this.pageViews,l=(0,d.CR)((0,v.p)(n.map(function(S){var K=S.getBBox(),U=K.width,j=K.height;return[U,j]})).map(function(S){return Math.max.apply(Math,(0,d.ev)([],(0,d.CR)(S),!1))}),2),M=l[0],O=l[1],D=this.attributes,P=D.pageWidth,b=P===void 0?M:P,x=D.pageHeight,L=x===void 0?O:x;return{pageWidth:b,pageHeight:L}},enumerable:!1,configurable:!0}),i.prototype.getContainer=function(){return this.playWindow},Object.defineProperty(i.prototype,"totalPages",{get:function(){return this.pageViews.length},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"currPage",{get:function(){return this.innerCurrPage},enumerable:!1,configurable:!0}),i.prototype.getBBox=function(){var n=e.prototype.getBBox.call(this),l=n.x,M=n.y,O=this.controllerShape,D=this.pageShape,P=D.pageWidth,b=D.pageHeight;return new o.b(l,M,P+O.width,b)},i.prototype.goTo=function(n){var l=this,M=this.attributes.animate,O=this,D=O.currPage,P=O.playState,b=O.playWindow,x=O.pageViews;if(P!=="idle"||n<0||x.length<=0||n>=x.length)return null;x[D].setLocalPosition(0,0),this.prepareFollowingPage(n);var L=(0,d.CR)(this.getFollowingPageDiff(n),2),S=L[0],K=L[1];this.playState="running";var U=(0,m.jt)(b,[{transform:"translate(0, 0)"},{transform:"translate(".concat(-S,", ").concat(-K,")")}],M);return(0,m.Yq)(U,function(){l.innerCurrPage=n,l.playState="idle",l.setVisiblePages([n]),l.updatePageInfo()}),U},i.prototype.prev=function(){var n=this.attributes.loop,l=this.pageViews.length,M=this.currPage;if(!n&&M<=0)return null;var O=n?(M-1+l)%l:(0,y.Z)(M-1,0,l);return this.goTo(O)},i.prototype.next=function(){var n=this.attributes.loop,l=this.pageViews.length,M=this.currPage;if(!n&&M>=l-1)return null;var O=n?(M+1)%l:(0,y.Z)(M+1,0,l);return this.goTo(O)},i.prototype.renderClipPath=function(n){var l=this.pageShape,M=l.pageWidth,O=l.pageHeight;if(!M||!O){this.contentGroup.style.clipPath=void 0;return}this.clipPath=n.maybeAppendByClassName(E.clipPath,"rect").styles({width:M,height:O}),this.contentGroup.attr("clipPath",this.clipPath.node())},i.prototype.setVisiblePages=function(n){this.playWindow.children.forEach(function(l,M){n.includes(M)?(0,r.$Z)(l):(0,r.Cp)(l)})},i.prototype.adjustControllerLayout=function(){var n=this,l=n.prevBtnGroup,M=n.nextBtnGroup,O=n.pageInfoGroup,D=this.attributes,P=D.orientation,b=D.controllerPadding,x=O.getBBox(),L=x.width,S=x.height,K=(0,d.CR)(P==="horizontal"?[-180,0]:[-90,90],2),U=K[0],j=K[1];l.setLocalEulerAngles(U),M.setLocalEulerAngles(j);var F=l.getBBox(),W=F.width,w=F.height,z=M.getBBox(),H=z.width,Y=z.height,V=Math.max(W,L,H),$=P==="horizontal"?{offset:[[0,0],[W/2+b,0],[W+L+b*2,0]],textAlign:"start"}:{offset:[[V/2,-w-b],[V/2,0],[V/2,Y+b]],textAlign:"center"},J=(0,d.CR)($.offset,3),rt=(0,d.CR)(J[0],2),lt=rt[0],tt=rt[1],G=(0,d.CR)(J[1],2),nt=G[0],ut=G[1],dt=(0,d.CR)(J[2],2),et=dt[0],_t=dt[1],mt=$.textAlign,ot=O.querySelector("text");ot&&(ot.style.textAlign=mt),l.setLocalPosition(lt,tt),O.setLocalPosition(nt,ut),M.setLocalPosition(et,_t)},i.prototype.updatePageInfo=function(){var n,l=this,M=l.currPage,O=l.pageViews,D=l.attributes.formatter;O.length<2||((n=this.pageInfoGroup.querySelector(E.pageInfo.class))===null||n===void 0||n.attr("text",D(M+1,O.length)),this.adjustControllerLayout())},i.prototype.getFollowingPageDiff=function(n){var l=this.currPage;if(l===n)return[0,0];var M=this.attributes.orientation,O=this.pageShape,D=O.pageWidth,P=O.pageHeight,b=n<l?-1:1;return M==="horizontal"?[b*D,0]:[0,b*P]},i.prototype.prepareFollowingPage=function(n){var l=this,M=l.currPage,O=l.pageViews;if(this.setVisiblePages([n,M]),n!==M){var D=(0,d.CR)(this.getFollowingPageDiff(n),2),P=D[0],b=D[1];O[n].setLocalPosition(P,b)}},i.prototype.renderController=function(n){var l=this,M=this.attributes.controllerSpacing,O=this.pageShape,D=O.pageWidth,P=O.pageHeight,b=this.pageViews.length>=2,x=n.maybeAppendByClassName(E.controller,"g");if((0,r.WD)(x.node(),b),!!b){var L=(0,a.zs)(this.attributes,"button"),S=(0,a.zs)(this.attributes,"pageNum"),K=(0,d.CR)((0,a.Hm)(L),2),U=K[0],j=K[1],F=U.size,W=(0,d._T)(U,["size"]),w=!x.select(E.prevBtnGroup.class).node(),z=x.maybeAppendByClassName(E.prevBtnGroup,"g").styles(j);this.prevBtnGroup=z.node();var H=z.maybeAppendByClassName(E.prevBtn,"path"),Y=x.maybeAppendByClassName(E.nextBtnGroup,"g").styles(j);this.nextBtnGroup=Y.node();var V=Y.maybeAppendByClassName(E.nextBtn,"path");[H,V].forEach(function(J){J.styles((0,d.pi)((0,d.pi)({},W),{transformOrigin:"center"})),(0,s.b)(J.node(),F,!0)});var $=x.maybeAppendByClassName(E.pageInfoGroup,"g");this.pageInfoGroup=$.node(),$.maybeAppendByClassName(E.pageInfo,"text").styles(S),this.updatePageInfo(),x.node().setLocalPosition(D+M,P/2),w&&(this.prevBtnGroup.addEventListener("click",function(){l.prev()}),this.nextBtnGroup.addEventListener("click",function(){l.next()}))}},i.prototype.render=function(n,l){var M=n.x,O=M===void 0?0:M,D=n.y,P=D===void 0?0:D;this.attr("transform","translate(".concat(O,", ").concat(P,")"));var b=(0,u.Ys)(l);this.renderClipPath(b),this.renderController(b),this.setVisiblePages([this.defaultPage]),this.goTo(this.defaultPage)},i.prototype.bindEvents=function(){var n=this,l=(0,C.Z)(function(){return n.render(n.attributes,n)},50);this.playWindow.addEventListener(T.Dk.INSERTED,l),this.playWindow.addEventListener(T.Dk.REMOVED,l)},i}(f.w)},13977:function(at,N,t){"use strict";t.d(N,{dR:function(){return C},vE:function(){return T},x2:function(){return y}});var d,T="component-poptip",y={CONTAINER:"component-poptip",ARROW:"component-poptip-arrow",TEXT:"component-poptip-text"},C=(d={},d[".".concat(y.CONTAINER)]={visibility:"visible",position:"absolute","background-color":"rgba(0, 0, 0)","box-shadow":"0px 0px 10px #aeaeae","border-radius":"3px",color:"#fff",opacity:.8,"font-size":"12px",padding:"4px 6px",display:"flex","justify-content":"center","align-items":"center","z-index":8,transition:"visibility 50ms"},d[".".concat(y.TEXT)]={"text-align":"center"},d[".".concat(y.CONTAINER,"[data-position='top']")]={transform:"translate(-50%, -100%)"},d[".".concat(y.CONTAINER,"[data-position='left']")]={transform:"translate(-100%, -50%)"},d[".".concat(y.CONTAINER,"[data-position='right']")]={transform:"translate(0, -50%)"},d[".".concat(y.CONTAINER,"[data-position='bottom']")]={transform:"translate(-50%, 0)"},d[".".concat(y.CONTAINER,"[data-position='top-left']")]={transform:"translate(0,-100%)"},d[".".concat(y.CONTAINER,"[data-position='top-right']")]={transform:"translate(-100%,-100%)"},d[".".concat(y.CONTAINER,"[data-position='left-top']")]={transform:"translate(-100%, 0)"},d[".".concat(y.CONTAINER,"[data-position='left-bottom']")]={transform:"translate(-100%, -100%)"},d[".".concat(y.CONTAINER,"[data-position='right-top']")]={transform:"translate(0, 0)"},d[".".concat(y.CONTAINER,"[data-position='right-bottom']")]={transform:"translate(0, -100%)"},d[".".concat(y.CONTAINER,"[data-position='bottom-left']")]={transform:"translate(0, 0)"},d[".".concat(y.CONTAINER,"[data-position='bottom-right']")]={transform:"translate(-100%, 0)"},d[".".concat(y.ARROW)]={width:"4px",height:"4px",transform:"rotate(45deg)","background-color":"rgba(0, 0, 0)",position:"absolute","z-index":-1},d[".".concat(y.CONTAINER,"[data-position='top']")]={transform:"translate(-50%, calc(-100% - 5px))"},d["[data-position='top'] .".concat(y.ARROW)]={bottom:"-2px"},d[".".concat(y.CONTAINER,"[data-position='left']")]={transform:"translate(calc(-100% - 5px), -50%)"},d["[data-position='left'] .".concat(y.ARROW)]={right:"-2px"},d[".".concat(y.CONTAINER,"[data-position='right']")]={transform:"translate(5px, -50%)"},d["[data-position='right'] .".concat(y.ARROW)]={left:"-2px"},d[".".concat(y.CONTAINER,"[data-position='bottom']")]={transform:"translate(-50%, 5px)"},d["[data-position='bottom'] .".concat(y.ARROW)]={top:"-2px"},d[".".concat(y.CONTAINER,"[data-position='top-left']")]={transform:"translate(0, calc(-100% - 5px))"},d["[data-position='top-left'] .".concat(y.ARROW)]={left:"10px",bottom:"-2px"},d[".".concat(y.CONTAINER,"[data-position='top-right']")]={transform:"translate(-100%, calc(-100% - 5px))"},d["[data-position='top-right'] .".concat(y.ARROW)]={right:"10px",bottom:"-2px"},d[".".concat(y.CONTAINER,"[data-position='left-top']")]={transform:"translate(calc(-100% - 5px), 0)"},d["[data-position='left-top'] .".concat(y.ARROW)]={right:"-2px",top:"8px"},d[".".concat(y.CONTAINER,"[data-position='left-bottom']")]={transform:"translate(calc(-100% - 5px), -100%)"},d["[data-position='left-bottom'] .".concat(y.ARROW)]={right:"-2px",bottom:"8px"},d[".".concat(y.CONTAINER,"[data-position='right-top']")]={transform:"translate(5px, 0)"},d["[data-position='right-top'] .".concat(y.ARROW)]={left:"-2px",top:"8px"},d[".".concat(y.CONTAINER,"[data-position='right-bottom']")]={transform:"translate(5px, -100%)"},d["[data-position='right-bottom'] .".concat(y.ARROW)]={left:"-2px",bottom:"8px"},d[".".concat(y.CONTAINER,"[data-position='bottom-left']")]={transform:"translate(0, 5px)"},d["[data-position='bottom-left'] .".concat(y.ARROW)]={top:"-2px",left:"8px"},d[".".concat(y.CONTAINER,"[data-position='bottom-right']")]={transform:"translate(-100%, 5px)"},d["[data-position='bottom-right'] .".concat(y.ARROW)]={top:"-2px",right:"8px"},d)},27663:function(at,N,t){"use strict";t.d(N,{Q:function(){return a}});var d=t(15767),T=t(48690),y=t(34466),C=t(22040),m=t(27412),f=t(68627),h=t(3759),v=t(28213),o=t(13977),r=t(35671),a=function(s){(0,d.ZT)(u,s);function u(c){var E=s.call(this,(0,T.Z)({style:{id:o.vE}},u.defaultOptions,c))||this;return E.visibility="visible",E.map=new Map,E.domStyles="",E.initShape(),E.render(E.attributes,E),E}return Object.defineProperty(u.prototype,"visible",{get:function(){return this.visibility==="visible"},enumerable:!1,configurable:!0}),u.prototype.render=function(c,E){this.visibility=this.style.visibility,this.updatePoptipElement()},u.prototype.update=function(c){this.attr((0,T.Z)({},this.style,c)),this.render(this.attributes,this)},u.prototype.bind=function(c,E){var p=this;if(c){var e=this.style.text,i=function(l){var M=c,O=p.style,D=e;if(E){var P=typeof E=="function"?E.call(null,l):E,b=P.html,x=P.target,L=(0,d._T)(P,["html","target"]);O=(0,y.Z)({},p.style,L),(x||x===!1)&&(M=x),typeof b=="string"&&(D=b)}var S=O.position,K=O.arrowPointAtCenter,U=O.follow,j=O.offset;if(M){var F=l,W=F.clientX,w=F.clientY,z=(0,d.CR)((0,r.Z)(W,w,M,S,K,U),2),H=z[0],Y=z[1];p.showTip(H,Y,{text:D,position:S,offset:j})}else p.hideTip()},n=function(){p.hideTip()};c.addEventListener("mousemove",i),c.addEventListener("mouseleave",n),this.map.set(c,[i,n])}},u.prototype.unbind=function(c){if(this.map.has(c)){var E=(0,d.CR)(this.map.get(c)||[],2),p=E[0],e=E[1];p&&c.removeEventListener("mousemove",p),e&&c.removeEventListener("mouseleave",e),this.map.delete(c)}},u.prototype.clear=function(){this.container.innerHTML=""},u.prototype.destroy=function(){var c=this,E;(0,d.ev)([],(0,d.CR)(this.map.keys()),!1).forEach(function(p){return c.unbind(p)}),(E=this.container)===null||E===void 0||E.remove(),s.prototype.destroy.call(this)},u.prototype.showTip=function(c,E,p){var e=(0,C.Z)(p,"text");if(!(e&&typeof e!="string")&&(this.applyStyles(),c&&E&&p)){var i=p.offset,n=p.position;if(n&&this.container.setAttribute("data-position",n),this.setOffsetPosition(c,E,i),typeof e=="string"){var l=this.container.querySelector(".".concat(o.x2.TEXT));l&&(l.innerHTML=e)}this.visibility="visible",this.container.style.visibility="visible"}},u.prototype.hideTip=function(){this.visibility="hidden",this.container.style.visibility="hidden"},u.prototype.getContainer=function(){return this.container},u.prototype.getClassName=function(){var c=this.style.containerClassName;return"".concat(o.x2.CONTAINER).concat(c?" ".concat(c):"")},u.prototype.initShape=function(){var c=this,E=this.style.id;this.container=(0,r.I)(E),this.container.className=this.getClassName(),this.container.addEventListener("mousemove",function(){return c.showTip()}),this.container.addEventListener("mouseleave",function(){return c.hideTip()})},u.prototype.updatePoptipElement=function(){var c=this.container;this.clear();var E=this.style,p=E.id,e=E.template,i=E.text;this.container.setAttribute("id",p),this.container.className=this.getClassName();var n='<span class="'.concat(o.x2.ARROW,'"></span>');c.innerHTML=n,(0,m.Z)(e)?c.innerHTML+=e:e&&(0,f.Z)(e)&&c.appendChild(e),i&&(c.getElementsByClassName(o.x2.TEXT)[0].textContent=i),this.applyStyles(),this.container.style.visibility=this.visibility},u.prototype.applyStyles=function(){var c=(0,v.n)({},o.dR,this.style.domStyles),E=Object.entries(c).reduce(function(e,i){var n=(0,d.CR)(i,2),l=n[0],M=n[1],O=Object.entries(M).reduce(function(D,P){var b=(0,d.CR)(P,2),x=b[0],L=b[1];return"".concat(D).concat(x,": ").concat(L,";")},"");return"".concat(e).concat(l,"{").concat(O,"}")},"");if(this.domStyles!==E){this.domStyles=E;var p=this.container.querySelector("style");p&&this.container.removeChild(p),p=document.createElement("style"),p.innerHTML=E,this.container.appendChild(p)}},u.prototype.setOffsetPosition=function(c,E,p){p===void 0&&(p=this.style.offset);var e=(0,d.CR)(p,2),i=e[0],n=i===void 0?0:i,l=e[1],M=l===void 0?0:l;this.container.style.left="".concat(c+n,"px"),this.container.style.top="".concat(E+M,"px")},u.tag="poptip",u.defaultOptions={style:{x:0,y:0,width:0,height:0,target:null,visibility:"hidden",text:"",position:"top",follow:!1,offset:[0,0],domStyles:o.dR,template:'<div class="'.concat(o.x2.TEXT,'"></div>')}},u}(h.w)},35671:function(at,N,t){"use strict";t.d(N,{I:function(){return m},Z:function(){return T}});var d=void 0;function T(f,h,v,o,r,a){if(r===void 0&&(r=!1),a===void 0&&(a=!1),a)return[f,h];var s=v.getBoundingClientRect(),u=s.x,c=s.y,E=s.width,p=s.height;switch(o){case"top":return r?[u+E/2,c]:[f,c];case"left":return r?[u,c+p/2]:[u,h];case"bottom":return r?[u+E/2,c+p]:[f,c+p];case"right":return r?[u+E,c+p/2]:[u+E,h];case"top-right":case"right-top":return[u+E,c];case"left-bottom":case"bottom-left":return[u,c+p];case"right-bottom":case"bottom-right":return[u+E,c+p];case"top-left":case"left-top":default:return[u,c]}}var y=function(f){var h;return function(){for(var v=[],o=0;o<arguments.length;o++)v[o]=arguments[o];return h||(h=f.apply(d,v)),h}};function C(f){var h=f&&document.getElementById(f);return h||(h=document.createElement("div"),h.setAttribute("id",f),document.body.appendChild(h)),h}function m(f){var h=y(C)(f);return h}},34894:function(at,N,t){"use strict";t.d(N,{W:function(){return o}});var d=t(15767),T=t(3759),y=t(81614),C=t(60698),m=t(16841),f=t(82750),h=t(36653),v=t(28213),o=function(r){(0,d.ZT)(a,r);function a(s){var u=r.call(this,(0,v.n)({},a.defaultOptions,s))||this;return u.hoverColor="#f5f5f5",u.selectedColor="#e6f7ff",u.background=u.appendChild(new y.UL({})),u.label=u.background.appendChild(new y.ZA({})),u}return Object.defineProperty(a.prototype,"padding",{get:function(){return(0,C.j)(this.style.padding)},enumerable:!1,configurable:!0}),a.prototype.renderLabel=function(){var s=this.style,u=s.label,c=s.value,E=(0,m.zs)(this.attributes,"label");(0,f.Ys)(this.label).maybeAppend(".label",function(){return(0,h.S)(u)}).attr("className","label").styles(E),this.label.attr("__data__",c)},a.prototype.renderBackground=function(){var s=this.label.getBBox(),u=(0,d.CR)(this.padding,4),c=u[0],E=u[1],p=u[2],e=u[3],i=s.width,n=s.height,l=i+e+E,M=n+c+p,O=(0,m.zs)(this.attributes,"background"),D=this.style,P=D.width,b=P===void 0?0:P,x=D.height,L=x===void 0?0:x,S=D.selected;this.background.attr((0,d.pi)((0,d.pi)({},O),{width:Math.max(l,b),height:Math.max(M,L),fill:S?this.selectedColor:"#fff"})),this.label.attr({transform:"translate(".concat(e,", ").concat((M-n)/2,")")})},a.prototype.render=function(){this.renderLabel(),this.renderBackground()},a.prototype.bindEvents=function(){var s=this;this.addEventListener("pointerenter",function(){s.style.selected||s.background.attr("fill",s.hoverColor)}),this.addEventListener("pointerleave",function(){s.style.selected||s.background.attr("fill",s.style.backgroundFill)});var u=this;this.addEventListener("click",function(){var c=s.style,E=c.label,p=c.value,e=c.onClick;e==null||e(p,{label:E,value:p},u)})},a.defaultOptions={style:{value:"",label:"",cursor:"pointer"}},a}(T.w)},2733:function(at,N,t){"use strict";t.d(N,{P:function(){return a}});var d=t(15767),T=t(81614),y=t(3759),C=t(60698),m=t(16841),f=t(82750),h=t(36653),v=t(57170),o=t(28213),r=t(34894),a=function(s){(0,d.ZT)(u,s);function u(c){var E,p,e=s.call(this,(0,o.n)({},u.defaultOptions,c))||this;e.currentValue=(E=u.defaultOptions.style)===null||E===void 0?void 0:E.defaultValue,e.isPointerInSelect=!1,e.select=e.appendChild(new T.UL({className:"select",style:{cursor:"pointer",width:0,height:0}})),e.dropdown=e.appendChild(new T.UL({className:"dropdown"}));var i=e.style.defaultValue;return i&&(!((p=e.style.options)===null||p===void 0)&&p.some(function(n){return n.value===i}))&&(e.currentValue=i),e}return u.prototype.setValue=function(c){this.currentValue=c,this.render()},u.prototype.getValue=function(){return this.currentValue},Object.defineProperty(u.prototype,"dropdownPadding",{get:function(){return(0,C.j)(this.style.dropdownPadding)},enumerable:!1,configurable:!0}),u.prototype.renderSelect=function(){var c=this,E,p=this.style,e=p.x,i=p.y,n=p.width,l=p.height,M=p.bordered,O=p.showDropdownIcon,D=(0,m.zs)(this.attributes,"select"),P=(0,m.zs)(this.attributes,"placeholder");this.select.attr((0,d.pi)((0,d.pi)({x:e,y:i,width:n,height:l},D),{fill:"#fff",strokeWidth:M?1:0}));var b=this.dropdownPadding,x=10;O&&(0,f.Ys)(this.select).maybeAppend(".dropdown-icon","path").style("d","M-5,-3.5 L0,3.5 L5,-3.5").style("transform","translate(".concat(e+n-x-b[1]-b[3],", ").concat(i+l/2,")")).style("lineWidth",1).style("stroke",this.select.style.stroke);var L=(E=this.style.options)===null||E===void 0?void 0:E.find(function(j){return j.value===c.currentValue}),S=(0,d.pi)({x:e+b[3]},P);(0,f.Ys)(this.select).selectAll(".placeholder").data(L?[]:[1]).join(function(j){return j.append("text").attr("className","placeholder").styles(S).style("y",function(){var F=this.getBBox();return i+(l-F.height)/2})},function(j){return j.styles(S)},function(j){return j.remove()});var K=(0,m.zs)(this.attributes,"optionLabel"),U=(0,d.pi)({x:e+b[3]},K);(0,f.Ys)(this.select).selectAll(".value").data(L?[L]:[]).join(function(j){return j.append(function(F){return(0,h.S)(F.label)}).attr("className","value").styles(U).style("y",function(){var F=this.getBBox();return i+(l-F.height)/2})},function(j){return j.styles(U)},function(j){return j.remove()})},u.prototype.renderDropdown=function(){var c=this,E,p,e=this.style,i=e.x,n=e.y,l=e.width,M=e.height,O=e.options,D=e.onSelect,P=e.open,b=(0,m.zs)(this.attributes,"dropdown"),x=(0,m.zs)(this.attributes,"option"),L=this.dropdownPadding;(0,f.Ys)(this.dropdown).maybeAppend(".dropdown-container","g").attr("className","dropdown-container").selectAll(".dropdown-item").data(O,function(U){return U.value}).join(function(U){return U.append(function(j){return new r.W({className:"dropdown-item",style:(0,d.pi)((0,d.pi)((0,d.pi)({},j),x),{width:l-L[1]-L[3],selected:j.value===c.currentValue,onClick:function(F,W,w){c.setValue(F),D==null||D(F,W,w),c.dispatchEvent(new T.Aw("change",{detail:{value:F,option:W,item:w}})),(0,v.Cp)(c.dropdown)}})})}).each(function(j,F){var W,w=(W=this.parentNode)===null||W===void 0?void 0:W.children,z=w.reduce(function(H,Y,V){return V<F&&(H+=Y.getBBox().height),H},0);this.attr("transform","translate(".concat(L[3],", ").concat(L[0]+z,")"))})},function(U){return U.update(function(j){return{selected:j.value===c.currentValue}})},function(U){return U.remove()});var S=(p=(E=this.dropdown.getElementsByClassName("dropdown-container"))===null||E===void 0?void 0:E[0])===null||p===void 0?void 0:p.getBBox(),K=b.spacing;this.dropdown.attr((0,d.pi)({transform:"translate(".concat(i,", ").concat(n+M+K,")"),width:S.width+L[1]+L[3],height:S.height+L[0]+L[2]},b)),!P&&(0,v.Cp)(this.dropdown)},u.prototype.render=function(){this.renderSelect(),this.renderDropdown()},u.prototype.bindEvents=function(){var c=this;this.addEventListener("click",function(E){E.stopPropagation()}),this.select.addEventListener("click",function(){c.dropdown.style.visibility==="visible"?(0,v.Cp)(c.dropdown):(0,v.$Z)(c.dropdown)}),this.addEventListener("pointerenter",function(){c.isPointerInSelect=!0}),this.addEventListener("pointerleave",function(){c.isPointerInSelect=!1}),document==null||document.addEventListener("click",function(){c.isPointerInSelect||(0,v.Cp)(c.dropdown)})},u.defaultOptions={style:{x:0,y:0,width:140,height:32,options:[],bordered:!0,defaultValue:"",selectRadius:8,selectStroke:"#d9d9d9",showDropdownIcon:!0,placeholderText:"\u8BF7\u9009\u62E9",placeholderFontSize:12,placeholderTextBaseline:"top",placeholderFill:"#c2c2c2",dropdownFill:"#fff",dropdownStroke:"#d9d9d9",dropdownRadius:8,dropdownShadowBlur:4,dropdownShadowColor:"rgba(0, 0, 0, 0.08)",dropdownPadding:8,dropdownSpacing:10,optionPadding:[8,12],optionFontSize:12,optionTextBaseline:"top",optionBackgroundFill:"#fff",optionBackgroundRadius:4,optionLabelFontSize:12,optionLabelTextBaseline:"top"}},u}(y.w)},19236:function(at,N,t){"use strict";t.d(N,{Ec:function(){return m},Qi:function(){return T},b0:function(){return y},fI:function(){return C}});var d=t(48537),T={fill:"#fff",lineWidth:1,radius:2,size:10,stroke:"#bfbfbf",strokeOpacity:1,zIndex:0},y={fill:"#000",fillOpacity:.45,fontSize:12,textAlign:"center",textBaseline:"middle",zIndex:1},C={x:0,y:0,orientation:"horizontal",showLabel:!0,type:"start"},m=(0,d.A)({foreground:"foreground",handle:"handle",selection:"selection",sparkline:"sparkline",sparklineGroup:"sparkline-group",track:"track",brushArea:"brush-area"},"slider")},70394:function(at,N,t){"use strict";t.d(N,{H:function(){return r}});var d=t(15767),T=t(3759),y=t(48537),C=t(82750),m=t(16841),f=t(53395),h=t(19236),v=(0,y.A)({labelGroup:"label-group",label:"label",iconGroup:"icon-group",icon:"icon",iconRect:"icon-rect",iconLine:"icon-line"},"handle"),o=function(a){(0,d.ZT)(s,a);function s(){return a!==null&&a.apply(this,arguments)||this}return s.prototype.render=function(u,c){var E=u.x,p=u.y,e=u.size,i=e===void 0?10:e,n=u.radius,l=n===void 0?i/4:n,M=u.orientation,O=(0,d._T)(u,["x","y","size","radius","orientation"]),D=i,P=D*2.4,b=(0,C.Ys)(c).maybeAppendByClassName(v.iconRect,"rect").styles((0,d.pi)((0,d.pi)({},O),{width:D,height:P,radius:l,x:E-D/2,y:p-P/2,transformOrigin:"center"})),x=E+1/3*D-D/2,L=E+2/3*D-D/2,S=p+1/4*P-P/2,K=p+3/4*P-P/2;b.maybeAppendByClassName("".concat(v.iconLine,"-1"),"line").styles((0,d.pi)({x1:x,x2:x,y1:S,y2:K},O)),b.maybeAppendByClassName("".concat(v.iconLine,"-2"),"line").styles((0,d.pi)({x1:L,x2:L,y1:S,y2:K},O)),M==="vertical"&&(b.node().style.transform="rotate(90)")},s}(T.w),r=function(a){(0,d.ZT)(s,a);function s(u){return a.call(this,u,h.fI)||this}return s.prototype.renderLabel=function(u){var c=this,E=this.attributes,p=E.x,e=E.y,i=E.showLabel,n=(0,m.zs)(this.attributes,"label"),l=n.x,M=l===void 0?0:l,O=n.y,D=O===void 0?0:O,P=n.transform,b=n.transformOrigin,x=(0,d._T)(n,["x","y","transform","transformOrigin"]),L=(0,d.CR)((0,m.Hm)(x,[]),2),S=L[0],K=L[1],U=(0,C.Ys)(u).maybeAppendByClassName(v.labelGroup,"g").styles(K),j=(0,d.pi)((0,d.pi)({},h.b0),S),F=j.text,W=(0,d._T)(j,["text"]);(0,f.z)(!!i,U,function(w){c.label=w.maybeAppendByClassName(v.label,"text").styles((0,d.pi)((0,d.pi)({},W),{x:p+M,y:e+D,transform:P,transformOrigin:b,text:"".concat(F)})),c.label.on("mousedown",function(z){z.stopPropagation()}),c.label.on("touchstart",function(z){z.stopPropagation()})})},s.prototype.renderIcon=function(u){var c=this.attributes,E=c.x,p=c.y,e=c.orientation,i=c.type,n=(0,d.pi)((0,d.pi)({x:E,y:p,orientation:e},h.Qi),(0,m.zs)(this.attributes,"icon")),l=this.attributes.iconShape,M=l===void 0?function(){return new o({style:n})}:l,O=(0,C.Ys)(u).maybeAppendByClassName(v.iconGroup,"g");O.selectAll(v.icon.class).data([M]).join(function(D){return D.append(typeof M=="string"?M:function(){return M(i)}).attr("className",v.icon.name)},function(D){return D.update(n)},function(D){return D.remove()})},s.prototype.render=function(u,c){this.renderIcon(c),this.renderLabel(c)},s}(T.w)},54321:function(at,N,t){"use strict";t.d(N,{i:function(){return p}});var d=t(15767),T=t(81614),y=t(15378),C=t(20009),m=t(3759),f=t(35315),h=t(16841),v=t(68151),o=t(60698),r=t(82750),a=t(53395),s=t(46082),u=t(53489),c=t(19236),E=t(70394),p=function(e){(0,d.ZT)(i,e);function i(n){var l=e.call(this,n,(0,d.pi)((0,d.pi)((0,d.pi)({x:0,y:0,animate:{duration:100,fill:"both"},brushable:!0,formatter:function(M){return M.toString()},handleSpacing:2,orientation:"horizontal",padding:0,autoFitLabel:!0,scrollable:!0,selectionFill:"#5B8FF9",selectionFillOpacity:.45,selectionZIndex:2,showHandle:!0,showLabel:!0,slidable:!0,trackFill:"#416180",trackLength:200,trackOpacity:.05,trackSize:20,trackZIndex:-1,values:[0,1],type:"range",selectionType:"select",handleIconOffset:0},(0,h.dq)(c.fI,"handle")),(0,h.dq)(c.Qi,"handleIcon")),(0,h.dq)(c.b0,"handleLabel")))||this;return l.range=[0,1],l.onDragStart=function(M){return function(O){O.stopPropagation(),l.target=M,l.prevPos=l.getOrientVal((0,v.s)(O));var D=l.availableSpace,P=D.x,b=D.y,x=l.getBBox(),L=x.x,S=x.y;l.selectionStartPos=l.getRatio(l.prevPos-l.getOrientVal([P,b])-l.getOrientVal([+L,+S])),l.selectionWidth=0,document.addEventListener("pointermove",l.onDragging),document.addEventListener("pointerup",l.onDragEnd)}},l.onDragging=function(M){var O=l.attributes,D=O.slidable,P=O.brushable,b=O.type;M.stopPropagation();var x=l.getOrientVal((0,v.s)(M)),L=x-l.prevPos;if(L){var S=l.getRatio(L);switch(l.target){case"start":D&&l.setValuesOffset(S);break;case"end":D&&l.setValuesOffset(0,S);break;case"selection":D&&l.setValuesOffset(S,S);break;case"track":if(!P)return;l.selectionWidth+=S,b==="range"?l.innerSetValues([l.selectionStartPos,l.selectionStartPos+l.selectionWidth].sort(),!0):l.innerSetValues([0,l.selectionStartPos+l.selectionWidth],!0);break;default:break}l.prevPos=x}},l.onDragEnd=function(){document.removeEventListener("pointermove",l.onDragging),document.removeEventListener("pointermove",l.onDragging),document.removeEventListener("pointerup",l.onDragEnd),l.target="",l.updateHandlesPosition(!1)},l.onValueChange=function(M){var O=l.attributes,D=O.onChange,P=O.type,b=P==="range"?M:M[1],x=P==="range"?l.getValues():l.getValues()[1],L=new T.Aw("valuechange",{detail:{oldValue:b,value:x}});l.dispatchEvent(L),D==null||D(x)},l.selectionStartPos=0,l.selectionWidth=0,l.prevPos=0,l.target="",l}return Object.defineProperty(i.prototype,"values",{get:function(){return this.attributes.values},set:function(n){this.attributes.values=this.clampValues(n)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"sparklineStyle",{get:function(){var n=this.attributes.orientation;if(n!=="horizontal")return null;var l=(0,h.zs)(this.attributes,"sparkline");return(0,d.pi)((0,d.pi)({zIndex:0},this.availableSpace),l)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"shape",{get:function(){var n=this.attributes,l=n.trackLength,M=n.trackSize,O=(0,d.CR)(this.getOrientVal([[l,M],[M,l]]),2),D=O[0],P=O[1];return{width:D,height:P}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"availableSpace",{get:function(){var n=this.attributes,l=n.x,M=n.y,O=n.padding,D=(0,d.CR)((0,o.j)(O),4),P=D[0],b=D[1],x=D[2],L=D[3],S=this.shape,K=S.width,U=S.height;return{x:L,y:P,width:K-(L+b),height:U-(P+x)}},enumerable:!1,configurable:!0}),i.prototype.getValues=function(){return this.values},i.prototype.setValues=function(n,l){n===void 0&&(n=[0,0]),l===void 0&&(l=!1),this.attributes.values=n;var M=l===!1?!1:this.attributes.animate;this.updateSelectionArea(M),this.updateHandlesPosition(M)},i.prototype.updateSelectionArea=function(n){var l=this.calcSelectionArea();this.foregroundGroup.selectAll(c.Ec.selection.class).each(function(M,O){(0,C.eR)(this,l[O],n)})},i.prototype.updateHandlesPosition=function(n){this.attributes.showHandle&&(this.startHandle&&(0,C.eR)(this.startHandle,this.getHandleStyle("start"),n),this.endHandle&&(0,C.eR)(this.endHandle,this.getHandleStyle("end"),n))},i.prototype.innerSetValues=function(n,l){n===void 0&&(n=[0,0]),l===void 0&&(l=!1);var M=this.values,O=this.clampValues(n);this.attributes.values=O,this.setValues(O),l&&this.onValueChange(M)},i.prototype.renderTrack=function(n){var l=this.attributes,M=l.x,O=l.y,D=(0,h.zs)(this.attributes,"track");this.trackShape=(0,r.Ys)(n).maybeAppendByClassName(c.Ec.track,"rect").styles((0,d.pi)((0,d.pi)({x:M,y:O},this.shape),D))},i.prototype.renderBrushArea=function(n){var l=this.attributes,M=l.x,O=l.y,D=l.brushable;this.brushArea=(0,r.Ys)(n).maybeAppendByClassName(c.Ec.brushArea,"rect").styles((0,d.pi)({x:M,y:O,fill:"transparent",cursor:D?"crosshair":"default"},this.shape))},i.prototype.renderSparkline=function(n){var l=this,M=this.attributes,O=M.x,D=M.y,P=M.orientation,b=(0,r.Ys)(n).maybeAppendByClassName(c.Ec.sparklineGroup,"g");(0,a.z)(P==="horizontal",b,function(x){var L=(0,d.pi)((0,d.pi)({},l.sparklineStyle),{x:O,y:D});x.maybeAppendByClassName(c.Ec.sparkline,function(){return new u.b({style:L})}).update(L)})},i.prototype.renderHandles=function(){var n=this,l,M=this.attributes,O=M.showHandle,D=M.type,P=D==="range"?["start","end"]:["end"],b=O?P:[],x=this;(l=this.foregroundGroup)===null||l===void 0||l.selectAll(c.Ec.handle.class).data(b.map(function(L){return{type:L}}),function(L){return L.type}).join(function(L){return L.append(function(S){var K=S.type;return new E.H({style:n.getHandleStyle(K)})}).each(function(S){var K=S.type;this.attr("class","".concat(c.Ec.handle.name," ").concat(K,"-handle"));var U="".concat(K,"Handle");x[U]=this,this.addEventListener("pointerdown",x.onDragStart(K))})},function(L){return L.each(function(S){var K=S.type;this.update(x.getHandleStyle(K))})},function(L){return L.each(function(S){var K=S.type,U="".concat(K,"Handle");x[U]=void 0}).remove()})},i.prototype.renderSelection=function(n){var l=this.attributes,M=l.x,O=l.y,D=l.type,P=l.selectionType;this.foregroundGroup=(0,r.Ys)(n).maybeAppendByClassName(c.Ec.foreground,"g");var b=(0,h.zs)(this.attributes,"selection"),x=function(S){return S.style("visibility",function(K){return K.show?"visible":"hidden"}).style("cursor",function(K){return P==="select"?"grab":P==="invert"?"crosshair":"default"}).styles((0,d.pi)((0,d.pi)({},b),{transform:"translate(".concat(M,", ").concat(O,")")}))},L=this;this.foregroundGroup.selectAll(c.Ec.selection.class).data(D==="value"?[]:this.calcSelectionArea().map(function(S,K){return{style:(0,d.pi)({},S),index:K,show:P==="select"?K===1:K!==1}}),function(S){return S.index}).join(function(S){return S.append("rect").attr("className",c.Ec.selection.name).call(x).each(function(K,U){var j=this;U===1?(L.selectionShape=(0,r.Ys)(this),this.on("pointerdown",function(F){j.attr("cursor","grabbing"),L.onDragStart("selection")(F)}),L.dispatchCustomEvent(this,"pointerenter","selectionMouseenter"),L.dispatchCustomEvent(this,"pointerleave","selectionMouseleave"),L.dispatchCustomEvent(this,"click","selectionClick"),this.addEventListener("pointerdown",function(){j.attr("cursor","grabbing")}),this.addEventListener("pointerup",function(){j.attr("cursor","pointer")}),this.addEventListener("pointerover",function(){j.attr("cursor","pointer")})):this.on("pointerdown",L.onDragStart("track"))})},function(S){return S.call(x)},function(S){return S.remove()}),this.updateSelectionArea(!1),this.renderHandles()},i.prototype.render=function(n,l){this.renderTrack(l),this.renderSparkline(l),this.renderBrushArea(l),this.renderSelection(l)},i.prototype.clampValues=function(n,l){var M;l===void 0&&(l=4);var O=(0,d.CR)(this.range,2),D=O[0],P=O[1],b=(0,d.CR)(this.getValues().map(function(W){return(0,s.Zd)(W,l)}),2),x=b[0],L=b[1],S=Array.isArray(n)?n:[x,n!=null?n:L],K=(0,d.CR)((S||[x,L]).map(function(W){return(0,s.Zd)(W,l)}),2),U=K[0],j=K[1];if(this.attributes.type==="value")return[0,(0,y.Z)(j,D,P)];U>j&&(M=(0,d.CR)([j,U],2),U=M[0],j=M[1]);var F=j-U;return F>P-D?[D,P]:U<D?x===D&&L===j?[D,j]:[D,F+D]:j>P?L===P&&x===U?[U,P]:[P-F,P]:[U,j]},i.prototype.calcSelectionArea=function(n){var l=(0,d.CR)(this.clampValues(n),2),M=l[0],O=l[1],D=this.availableSpace,P=D.x,b=D.y,x=D.width,L=D.height;return this.getOrientVal([[{y:b,height:L,x:P,width:M*x},{y:b,height:L,x:M*x+P,width:(O-M)*x},{y:b,height:L,x:O*x,width:(1-O)*x}],[{x:P,width:x,y:b,height:M*L},{x:P,width:x,y:M*L+b,height:(O-M)*L},{x:P,width:x,y:O*L,height:(1-O)*L}]])},i.prototype.calcHandlePosition=function(n){var l=this.attributes.handleIconOffset,M=this.availableSpace,O=M.x,D=M.y,P=M.width,b=M.height,x=(0,d.CR)(this.clampValues(),2),L=x[0],S=x[1],K=n==="start"?-l:l,U=(n==="start"?L:S)*this.getOrientVal([P,b])+K;return{x:O+this.getOrientVal([U,P/2]),y:D+this.getOrientVal([b/2,U])}},i.prototype.inferTextStyle=function(n){var l=this.attributes.orientation;return l==="horizontal"?{}:n==="start"?{transformOrigin:"left center",transform:"rotate(90)",textAlign:"start"}:n==="end"?{transformOrigin:"right center",transform:"rotate(90)",textAlign:"end"}:{}},i.prototype.calcHandleText=function(n){var l,M=this.attributes,O=M.type,D=M.orientation,P=M.formatter,b=M.autoFitLabel,x=(0,h.zs)(this.attributes,"handle"),L=(0,h.zs)(x,"label"),S=x.spacing,K=this.getHandleSize(),U=this.clampValues(),j=n==="start"?U[0]:U[1],F=P(j),W=new f.x({style:(0,d.pi)((0,d.pi)((0,d.pi)({},L),this.inferTextStyle(n)),{text:F})}),w=W.getBBox(),z=w.width,H=w.height;if(W.destroy(),!b){if(O==="value")return{text:F,x:0,y:-H-S};var Y=S+K+(D==="horizontal"?z/2:0);return l={text:F},l[D==="horizontal"?"x":"y"]=n==="start"?-Y:Y,l}var V=0,$=0,J=this.availableSpace,rt=J.width,lt=J.height,tt=this.calcSelectionArea()[1],G=tt.x,nt=tt.y,ut=tt.width,dt=tt.height,et=S+K;if(D==="horizontal"){var _t=et+z/2;if(n==="start"){var mt=G-et-z;V=mt>0?-_t:_t}else{var ot=rt-G-ut-et>z;V=ot?_t:-_t}}else{var Et=et,Ot=H+et;n==="start"?$=nt-K>H?-Ot:Et:$=lt-(nt+dt)-K>H?Ot:-Et}return{x:V,y:$,text:F}},i.prototype.getHandleLabelStyle=function(n){var l=(0,h.zs)(this.attributes,"handleLabel");return(0,d.pi)((0,d.pi)((0,d.pi)({},l),this.calcHandleText(n)),this.inferTextStyle(n))},i.prototype.getHandleIconStyle=function(){var n=this.attributes.handleIconShape,l=(0,h.zs)(this.attributes,"handleIcon"),M=this.getOrientVal(["ew-resize","ns-resize"]),O=this.getHandleSize();return(0,d.pi)({cursor:M,shape:n,size:O},l)},i.prototype.getHandleStyle=function(n){var l=this.attributes,M=l.x,O=l.y,D=l.showLabel,P=l.showLabelOnInteraction,b=l.orientation,x=this.calcHandlePosition(n),L=x.x,S=x.y,K=this.calcHandleText(n),U=D;return!D&&P&&(this.target?U=!0:U=!1),(0,d.pi)((0,d.pi)((0,d.pi)({},(0,h.dq)(this.getHandleIconStyle(),"icon")),(0,h.dq)((0,d.pi)((0,d.pi)({},this.getHandleLabelStyle(n)),K),"label")),{transform:"translate(".concat(L+M,", ").concat(S+O,")"),orientation:b,showLabel:U,type:n,zIndex:3})},i.prototype.getHandleSize=function(){var n=this.attributes,l=n.handleIconSize,M=n.width,O=n.height;return l||Math.floor((this.getOrientVal([+O,+M])+4)/2.4)},i.prototype.getOrientVal=function(n){var l=(0,d.CR)(n,2),M=l[0],O=l[1],D=this.attributes.orientation;return D==="horizontal"?M:O},i.prototype.setValuesOffset=function(n,l){l===void 0&&(l=0);var M=this.attributes.type,O=(0,d.CR)(this.getValues(),2),D=O[0],P=O[1],b=M==="range"?n:0,x=[D+b,P+l].sort();this.innerSetValues(x,!0)},i.prototype.getRatio=function(n){var l=this.availableSpace,M=l.width,O=l.height;return n/this.getOrientVal([M,O])},i.prototype.dispatchCustomEvent=function(n,l,M){var O=this;n.on(l,function(D){D.stopPropagation(),O.dispatchEvent(new T.Aw(M,{detail:D}))})},i.prototype.bindEvents=function(){this.addEventListener("wheel",this.onScroll);var n=this.brushArea;this.dispatchCustomEvent(n,"click","trackClick"),this.dispatchCustomEvent(n,"pointerenter","trackMouseenter"),this.dispatchCustomEvent(n,"pointerleave","trackMouseleave"),n.on("pointerdown",this.onDragStart("track"))},i.prototype.onScroll=function(n){var l=this.attributes.scrollable;if(l){var M=n.deltaX,O=n.deltaY,D=O||M,P=this.getRatio(D);this.setValuesOffset(P,P)}},i.tag="slider",i}(m.w)},6053:function(at,N,t){"use strict";t.d(N,{o:function(){return f}});var d=t(15767),T=t(48690),y=t(81614),C=t(82750),m=t(28213),f=function(h){(0,d.ZT)(v,h);function v(o){var r=this,a=o.style,s=(0,d._T)(o,["style"]);return r=h.call(this,(0,T.Z)({},{type:"column"},(0,d.pi)({style:a},s)))||this,r.columnsGroup=new y.ZA({name:"columns"}),r.appendChild(r.columnsGroup),r.render(),r}return v.prototype.render=function(){var o=this.attributes,r=o.columns,a=o.x,s=o.y;this.columnsGroup.style.transform="translate(".concat(a,", ").concat(s,")"),(0,C.Ys)(this.columnsGroup).selectAll(".column").data(r.flat()).join(function(u){return u.append("rect").attr("className","column").each(function(c){this.attr(c)})},function(u){return u.each(function(c){this.attr(c)})},function(u){return u.remove()})},v.prototype.update=function(o){this.attr((0,m.n)({},this.attributes,o)),this.render()},v.prototype.clear=function(){this.removeChildren()},v}(y.s$)},53489:function(at,N,t){"use strict";t.d(N,{b:function(){return E}});var d=t(15767),T=t(12454),y=t(56608),C=t(21914),m=t(26912),f=t(83262),h=t(84237),v=t(3759),o=t(16841),r=t(82750),a=t(6053),s=t(32295),u=t(33632),c=t(89272),E=function(p){(0,d.ZT)(e,p);function e(i){return p.call(this,i,{type:"line",x:0,y:0,width:200,height:20,isStack:!1,color:["#83daad","#edbf45","#d2cef9","#e290b3","#6f63f4"],smooth:!0,lineLineWidth:1,areaOpacity:0,isGroup:!1,columnLineWidth:1,columnStroke:"#fff",scale:1,spacing:0})||this}return Object.defineProperty(e.prototype,"rawData",{get:function(){var i=this.attributes.data;if(!i||(i==null?void 0:i.length)===0)return[[]];var n=(0,C.Z)(i);return(0,m.Z)(n[0])?[n]:n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.attributes.isStack?(0,c.u)(this.rawData):this.rawData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scales",{get:function(){return this.createScales(this.data)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseline",{get:function(){var i=this.scales.y,n=(0,d.CR)(i.getOptions().domain||[0,0],2),l=n[0],M=n[1];return M<0?i.map(M):i.map(l<0?0:l)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"containerShape",{get:function(){var i=this.attributes,n=i.width,l=i.height;return{width:n,height:l}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linesStyle",{get:function(){var i=this,n=this.attributes,l=n.type,M=n.isStack,O=n.smooth;if(l!=="line")throw new Error("linesStyle can only be used in line type");var D=(0,o.zs)(this.attributes,"area"),P=(0,o.zs)(this.attributes,"line"),b=this.containerShape.width,x=this.data;if(x[0].length===0)return{lines:[],areas:[]};var L=this.scales,S=L.x,K=L.y,U=(0,u.Yv)(x,{type:"line",x:S,y:K}),j=[];if(D){var F=this.baseline;M?j=O?(0,u.hm)(U,b,F):(0,u.R7)(U,b,F):j=(0,u.U1)(U,O,b,F)}return{lines:U.map(function(W,w){return(0,d.pi)({stroke:i.getColor(w),d:O?(0,u.QI)(W):(0,u._Q)(W)},P)}),areas:j.map(function(W,w){return(0,d.pi)({d:W,fill:i.getColor(w)},D)})}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"columnsStyle",{get:function(){var i=this,n=(0,o.zs)(this.attributes,"column"),l=this.attributes,M=l.isStack,O=l.type,D=l.scale;if(O!=="column")throw new Error("columnsStyle can only be used in column type");var P=this.containerShape.height,b=this.rawData;if(!b)return{columns:[]};M&&(b=(0,c.u)(b));var x=this.createScales(b),L=x.x,S=x.y,K=(0,d.CR)((0,c.r)(b),2),U=K[0],j=K[1],F=new T.b({domain:[0,j-(U>0?0:U)],range:[0,P*D]}),W=L.getBandWidth(),w=this.rawData;return{columns:b.map(function(z,H){return z.map(function(Y,V){var $=W/b.length,J=function(){return{x:L.map(V)+$*H,y:Y>=0?S.map(Y):S.map(0),width:$,height:F.map(Math.abs(Y))}},rt=function(){return{x:L.map(V),y:S.map(Y),width:W,height:F.map(w[H][V])}};return(0,d.pi)((0,d.pi)({fill:i.getColor(H)},n),M?rt():J())})})}},enumerable:!1,configurable:!0}),e.prototype.render=function(i,n){(0,r.OV)(n,".container","rect").attr("className","container").node();var l=i.type,M=i.x,O=i.y,D="spark".concat(l),P=(0,d.pi)({x:M,y:O},l==="line"?this.linesStyle:this.columnsStyle);(0,r.Ys)(n).selectAll(".spark").data([l]).join(function(b){return b.append(function(x){return x==="line"?new s.x({className:D,style:P}):new a.o({className:D,style:P})}).attr("className","spark ".concat(D))},function(b){return b.update(P)},function(b){return b.remove()})},e.prototype.getColor=function(i){var n=this.attributes.color;return(0,f.Z)(n)?n[i%n.length]:(0,h.Z)(n)?n.call(null,i):n},e.prototype.createScales=function(i){var n,l,M=this.attributes,O=M.type,D=M.scale,P=M.range,b=P===void 0?[]:P,x=M.spacing,L=this.containerShape,S=L.width,K=L.height,U=(0,d.CR)((0,c.r)(i),2),j=U[0],F=U[1],W=new T.b({domain:[(n=b[0])!==null&&n!==void 0?n:j,(l=b[1])!==null&&l!==void 0?l:F],range:[K,K*(1-D)]});return O==="line"?{type:O,x:new T.b({domain:[0,i[0].length-1],range:[0,S]}),y:W}:{type:O,x:new y.t({domain:i[0].map(function(w,z){return z}),range:[0,S],paddingInner:x,paddingOuter:x/2,align:.5}),y:W}},e.tag="sparkline",e}(v.w)},32295:function(at,N,t){"use strict";t.d(N,{x:function(){return f}});var d=t(15767),T=t(48690),y=t(81614),C=t(28213),m=t(82750),f=function(h){(0,d.ZT)(v,h);function v(o){var r=this,a=o.style,s=(0,d._T)(o,["style"]);return r=h.call(this,(0,T.Z)({},{type:"lines"},(0,d.pi)({style:a},s)))||this,r.linesGroup=r.appendChild(new y.ZA),r.areasGroup=r.appendChild(new y.ZA),r.render(),r}return v.prototype.render=function(){var o=this.attributes,r=o.lines,a=o.areas,s=o.x,u=o.y;this.style.transform="translate(".concat(s,", ").concat(u,")"),r&&this.renderLines(r),a&&this.renderAreas(a)},v.prototype.clear=function(){this.linesGroup.removeChildren(),this.areasGroup.removeChildren()},v.prototype.update=function(o){this.attr((0,C.n)({},this.attributes,o)),this.render()},v.prototype.renderLines=function(o){(0,m.Ys)(this.linesGroup).selectAll(".line").data(o).join(function(r){return r.append("path").attr("className","line").each(function(a){this.attr(a)})},function(r){return r.each(function(a){this.attr(a)})},function(r){return r.remove()})},v.prototype.renderAreas=function(o){(0,m.Ys)(this.linesGroup).selectAll(".area").data(o).join(function(r){return r.append("path").attr("className","area").each(function(a){this.attr(a)})},function(r){return r.each(function(a){this.style(a)})},function(r){return r.remove()})},v}(y.s$)},33632:function(at,N,t){"use strict";t.d(N,{QI:function(){return v},R7:function(){return a},U1:function(){return r},Yv:function(){return f},_Q:function(){return h},hm:function(){return s}});var d=t(15767),T=t(15378),y=t(99666),C=t(21914),m=t(19484);function f(u,c){var E,p=c.x,e=c.y,i=(0,d.CR)(e.getOptions().range||[0,0],2),n=i[0],l=i[1];return l>n&&(E=(0,d.CR)([n,l],2),l=E[0],n=E[1]),u.map(function(M){var O=M.map(function(D,P){return[p.map(P),(0,T.Z)(e.map(D),l,n)]});return O})}function h(u,c){c===void 0&&(c=!1);var E=c?u.length-1:0,p=u.map(function(e,i){return(0,d.ev)([i===E?"M":"L"],(0,d.CR)(e),!1)});return c?p.reverse():p}function v(u,c){if(c===void 0&&(c=!1),u.length<=2)return h(u);for(var E=[],p=u.length,e=0;e<p;e+=1){var i=c?u[p-e-1]:u[e];(0,y.Z)(i,E.slice(-2))||E.push.apply(E,(0,d.ev)([],(0,d.CR)(i),!1))}var n=(0,m.e)(E,!1);return c?n.unshift((0,d.ev)(["M"],(0,d.CR)(u[p-1]),!1)):n.unshift((0,d.ev)(["M"],(0,d.CR)(u[0]),!1)),n}function o(u,c,E){var p=(0,C.Z)(u);return p.push(["L",c,E],["L",0,E],["Z"]),p}function r(u,c,E,p){return u.map(function(e){return o(c?v(e):h(e),E,p)})}function a(u,c,E){for(var p=[],e=u.length-1;e>=0;e-=1){var i=u[e],n=h(i),l=void 0;if(e===0)l=o(n,c,E);else{var M=u[e-1],O=h(M,!0);O[0][0]="L",l=(0,d.ev)((0,d.ev)((0,d.ev)([],(0,d.CR)(n),!1),(0,d.CR)(O),!1),[["Z"]],!1)}p.push(l)}return p}function s(u,c,E){for(var p=[],e=u.length-1;e>=0;e-=1){var i=u[e],n=v(i),l=void 0;if(e===0)l=o(n,c,E);else{var M=u[e-1],O=v(M,!0),D=i[0];O[0][0]="L",l=(0,d.ev)((0,d.ev)((0,d.ev)([],(0,d.CR)(n),!1),(0,d.CR)(O),!1),[(0,d.ev)(["M"],(0,d.CR)(D),!1),["Z"]],!1)}p.push(l)}return p}},89272:function(at,N,t){"use strict";t.d(N,{r:function(){return h},u:function(){return v}});var d=t(15767),T=t(20203),y=t(54994),C=t(7086),m=t(22043),f=t(21914);function h(o){return o.length===0?[0,0]:[(0,T.Z)((0,y.Z)(o,function(r){return(0,T.Z)(r)||0})),(0,C.Z)((0,m.Z)(o,function(r){return(0,C.Z)(r)||0}))]}function v(o){for(var r=(0,f.Z)(o),a=r[0].length,s=(0,d.CR)([Array(a).fill(0),Array(a).fill(0)],2),u=s[0],c=s[1],E=0;E<r.length;E+=1)for(var p=r[E],e=0;e<a;e+=1)p[e]>=0?(p[e]+=u[e],u[e]=p[e]):(p[e]+=c[e],c[e]=p[e]);return r}},99719:function(at,N,t){"use strict";t.d(N,{Q:function(){return o}});var d=t(15767),T=t(3759),y=t(81614),C=t(28213),m=t(60698),f=t(16841),h=t(21788),v={reset:h.AG,speed:h.O3,backward:h.T_,playPause:h.Fd,forward:h.OU,selectionType:h.RT,chartType:h.oX,split:h.P},o=function(r){(0,d.ZT)(a,r);function a(s){var u=r.call(this,(0,C.n)({},a.defaultOptions,s))||this;return u.background=u.appendChild(new y.UL({})),u.functions=u.appendChild(new y.ZA({})),u}return Object.defineProperty(a.prototype,"padding",{get:function(){return(0,m.j)(this.attributes.padding)},enumerable:!1,configurable:!0}),a.prototype.renderBackground=function(){var s=this.style,u=s.x,c=s.y,E=s.width,p=s.height,e=(0,f.zs)(this.attributes,"background");this.background.attr((0,d.pi)({x:u,y:c,width:E,height:p},e))},a.prototype.renderFunctions=function(){var s=this,u,c=this.attributes,E=c.functions,p=c.iconSize,e=c.iconSpacing,i=c.x,n=c.y,l=c.width,M=c.height,O=c.align,D=(0,d.CR)(this.padding,4),P=D[1],b=D[3],x=E.reduce(function(K,U){return K.length&&U.length?K.concat.apply(K,(0,d.ev)(["split"],(0,d.CR)(U),!1)):K.concat.apply(K,(0,d.ev)([],(0,d.CR)(U),!1))},[]),L=x.length*(p+e)-e,S={left:b+p/2,center:(l-L)/2+p/2,right:l-L-b-P+p/2}[O]||0;(u=this.speedSelect)===null||u===void 0||u.destroy(),this.functions.removeChildren(),x.forEach(function(K,U){var j,F=v[K],W={x:i+U*(p+e)+S,y:n+M/2,size:p};if(F===h.O3?(W.speed=s.attributes.speed,W.onSelect=function(z){return s.handleFunctionChange(K,{value:z})}):[h.Fd,h.RT,h.oX].includes(F)?(W.onChange=function(z){return s.handleFunctionChange(K,{value:z})},F===h.Fd&&(W.type=s.attributes.state==="play"?"pause":"play"),F===h.RT&&(W.type=s.attributes.selectionType==="range"?"value":"range"),F===h.oX&&(W.type=s.attributes.chartType==="line"?"column":"line")):W.onClick=function(){return s.handleFunctionChange(K,{value:K})},F===h.O3){var w=(j=s.ownerDocument)===null||j===void 0?void 0:j.defaultView;w&&(s.speedSelect=new F({style:(0,d.pi)((0,d.pi)({},W),{zIndex:100})}),w.appendChild(s.speedSelect))}else s.functions.appendChild(new F({style:W}))})},a.prototype.disconnectedCallback=function(){var s;r.prototype.disconnectedCallback.call(this),(s=this.speedSelect)===null||s===void 0||s.destroy()},a.prototype.render=function(){this.renderBackground(),this.renderFunctions()},a.prototype.handleFunctionChange=function(s,u){var c=this.attributes.onChange;c==null||c(s,u)},a.defaultOptions={style:{x:0,y:0,width:300,height:40,padding:0,align:"center",iconSize:25,iconSpacing:0,speed:1,state:"pause",chartType:"line",selectionType:"range",backgroundFill:"#fbfdff",backgroundStroke:"#ebedf0",functions:[["reset","speed"],["backward","playPause","forward"],["selectionType","chartType"]]}},a}(T.w)},54830:function(at,N,t){"use strict";t.d(N,{b:function(){return v},u:function(){return h}});var d=t(15767),T=t(3759),y=t(81614),C=t(16841),m=t(82750),f=t(28213),h=function(o){(0,d.ZT)(r,o);function r(a){var s=o.call(this,(0,f.n)({},r.defaultOptions,a))||this;return s.bindEvents(),s}return r.prototype.bindEvents=function(){var a=this;this.addEventListener("mouseenter",function(){a.attr("lineWidth",Math.ceil(+(a.style.r||0)/2))}),this.addEventListener("mouseleave",function(){a.attr("lineWidth",0)})},r.defaultOptions={style:{r:5,fill:"#3f7cf7",lineWidth:0,stroke:"#3f7cf7",strokeOpacity:.5,cursor:"pointer"}},r}(y.Cd),v=function(o){(0,d.ZT)(r,o);function r(a){return o.call(this,(0,f.n)({},r.defaultOptions,a))||this}return r.prototype.renderBackground=function(){var a=this.attributes,s=a.x,u=a.y,c=a.width,E=a.height,p=(0,C.zs)(this.attributes,"background");(0,m.Ys)(this).maybeAppend("background","rect").attr("className","background").styles((0,d.pi)({x:s-c/2,y:u-E/2,width:c,height:E},p))},r.prototype.renderIcon=function(){var a=this.attributes,s=a.x,u=a.y,c=a.iconSize,E=(0,C.zs)(this.attributes,"icon"),p=1,e=c/2;(0,m.Ys)(this).maybeAppend("icon-left-line","line").attr("className","icon-left-line").styles((0,d.pi)({x1:s-p,y1:u-e,x2:s-p,y2:u+e},E)),(0,m.Ys)(this).maybeAppend("icon-right-line","line").attr("className","icon-right-line").styles((0,d.pi)({x1:s+p,y1:u-e,x2:s+p,y2:u+e},E))},r.prototype.renderBorder=function(){var a=this.attributes,s=a.x,u=a.y,c=a.width,E=a.height,p=a.type,e=(0,C.zs)(this.attributes,"border"),i=p==="start"?+c/2:-c/2;(0,m.Ys)(this).maybeAppend("border","line").attr("className","border").styles((0,d.pi)({x1:i+s,y1:u-E/2,x2:i+s,y2:u+E/2},e))},r.prototype.render=function(){this.renderBackground(),this.renderIcon(),this.renderBorder()},r.defaultOptions={style:{x:0,y:0,width:10,height:50,iconSize:10,type:"start",backgroundFill:"#fff",backgroundFillOpacity:.5,iconStroke:"#9a9a9a",iconLineWidth:1,borderStroke:"#e8e8e8",borderLineWidth:1}},r}(T.w)},21788:function(at,N,t){"use strict";t.d(N,{AG:function(){return c},Fd:function(){return L},O3:function(){return b},OU:function(){return p},P:function(){return P},RT:function(){return S},T_:function(){return E},oX:function(){return K}});var d=t(15767),T=t(97067),y=t(15378),C=t(3759),m=t(81614),f=t(28213),h=t(60698),v=t(16841),o=t(82750),r=t(15745),a=t(2733),s=function(U){(0,d.ZT)(j,U);function j(F){var W=U.call(this,(0,f.n)({},{style:{backgroundOpacity:j.backgroundOpacities.default}},j.defaultOptions,F))||this;return W.showBackground=!0,W.background=W.appendChild(new m.UL({})),W.icon=W.appendChild(new m.ZA({})),W}return Object.defineProperty(j.prototype,"label",{get:function(){return"BaseIcon"},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"lineWidth",{get:function(){return Math.log10(this.attributes.size)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"padding",{get:function(){return(0,h.j)(this.attributes.size/5)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"iconSize",{get:function(){var F=this.attributes.size,W=(0,d.CR)(this.padding,4),w=W[0],z=W[1],H=W[2],Y=W[3];return Math.max(F-Math.max(Y+z,w+H),this.lineWidth*2+1)},enumerable:!1,configurable:!0}),j.prototype.renderBackground=function(){var F=this.attributes,W=F.x,w=F.y,z=F.size,H=z/2,Y=(0,v.zs)(this.attributes,"background");this.background.attr((0,d.pi)({x:W-H,y:w-H,width:z,height:z},Y))},j.prototype.showIndicator=function(){if(this.label){var F=this.attributes.size,W=this.background.getBBox(),w=W.x,z=W.y;this.indicator.update({x:w+F/2,y:z-5,labelText:this.label,visibility:"visible"})}},j.prototype.hideIndicator=function(){this.indicator.update({visibility:"hidden"})},j.prototype.connectedCallback=function(){var F;U.prototype.connectedCallback.call(this);var W=this.attributes.size,w=this.background.getBBox(),z=w.x,H=w.y,Y=(F=this.ownerDocument)===null||F===void 0?void 0:F.defaultView;Y&&(this.indicator=Y.appendChild(new r.z({style:{x:z+W/2,y:H-W/2,visibility:"hidden",position:"top",radius:3,zIndex:100}})))},j.prototype.disconnectedCallback=function(){this.indicator.destroy()},j.prototype.render=function(){this.renderIcon(),this.showBackground&&this.renderBackground()},j.prototype.bindEvents=function(){var F=this,W=this.attributes.onClick;if(this.addEventListener("click",function(){W==null||W(F)}),this.showBackground){var w=function(){return F.background.attr({opacity:j.backgroundOpacities.default})},z=function(){return F.background.attr({opacity:j.backgroundOpacities.hover})},H=function(){return F.background.attr({opacity:j.backgroundOpacities.active})};this.addEventListener("pointerenter",function(){z(),F.showIndicator()}),this.addEventListener("pointerleave",function(){w(),F.hideIndicator()}),this.addEventListener("pointerdown",function(){H()}),this.addEventListener("pointerup",function(){w()})}},j.tag="IconBase",j.defaultOptions={style:{x:0,y:0,size:10,color:"#565758",backgroundRadius:4,backgroundFill:"#e2e2e2"}},j.backgroundOpacities={default:0,hover:.8,active:1},j}(C.w),u=function(U,j){return j===void 0&&(j="#565758"),new m.y$({style:{fill:j,d:"M ".concat(U,",").concat(U," L -").concat(U,",0 L ").concat(U,",-").concat(U," Z"),transformOrigin:"center"}})},c=function(U){(0,d.ZT)(j,U);function j(){return U!==null&&U.apply(this,arguments)||this}return j.prototype.arcPath=function(F,W,w){var z=(0,d.CR)([w,w],2),H=z[0],Y=z[1],V=function(nt){return[F+w*Math.cos(nt),W+w*Math.sin(nt)]},$=(0,d.CR)(V(-5/4*Math.PI),2),J=$[0],rt=$[1],lt=(0,d.CR)(V(1/4*Math.PI),2),tt=lt[0],G=lt[1];return"M".concat(J,",").concat(rt,",A").concat(H,",").concat(Y,",0,1,1,").concat(tt,",").concat(G)},Object.defineProperty(j.prototype,"label",{get:function(){return"\u91CD\u7F6E"},enumerable:!1,configurable:!0}),j.prototype.renderIcon=function(){var F=this.attributes,W=F.x,w=F.y,z=F.color,H=this.iconSize,Y=this.lineWidth,V=Y+.5;(0,o.Ys)(this.icon).maybeAppend(".reset","path").styles({stroke:z,lineWidth:Y,d:this.arcPath(W,w,H/2-Y),markerStart:u(V,z)})},j}(s),E=function(U){(0,d.ZT)(j,U);function j(){return U!==null&&U.apply(this,arguments)||this}return Object.defineProperty(j.prototype,"label",{get:function(){return"\u5FEB\u9000"},enumerable:!1,configurable:!0}),j.prototype.renderIcon=function(){var F=this.attributes,W=F.x,w=F.y,z=F.color,H=this.iconSize,Y=H/2,V=H/2/Math.pow(3,.5),$=[[W,w],[W,w-V],[W-Y,w],[W,w+V],[W,w],[W+Y,w-V],[W+Y,w+V],[W,w]];(0,o.Ys)(this.icon).maybeAppend(".backward","polygon").styles({points:$,fill:z})},j}(s),p=function(U){(0,d.ZT)(j,U);function j(){return U!==null&&U.apply(this,arguments)||this}return Object.defineProperty(j.prototype,"label",{get:function(){return"\u5FEB\u8FDB"},enumerable:!1,configurable:!0}),j.prototype.renderIcon=function(){var F=this.attributes,W=F.x,w=F.y,z=F.color,H=this.iconSize,Y=H/2,V=H/2/Math.pow(3,.5),$=[[W,w],[W,w-V],[W+Y,w],[W,w+V],[W,w],[W-Y,w-V],[W-Y,w+V],[W,w]];(0,o.Ys)(this.icon).maybeAppend(".forward","polygon").styles({points:$,fill:z})},j}(s),e=function(U){(0,d.ZT)(j,U);function j(){return U!==null&&U.apply(this,arguments)||this}return Object.defineProperty(j.prototype,"label",{get:function(){return"\u64AD\u653E"},enumerable:!1,configurable:!0}),j.prototype.renderIcon=function(){var F=this.attributes,W=F.x,w=F.y,z=F.color,H=this.iconSize,Y=H/3*Math.pow(3,.5)*.8,V=[[W+Y,w],[W-Y/2,w-H/2*.8],[W-Y/2,w+H/2*.8],[W+Y,w]];(0,o.Ys)(this.icon).maybeAppend(".play","polygon").styles({points:V,fill:z})},j}(s),i=function(U){(0,d.ZT)(j,U);function j(){return U!==null&&U.apply(this,arguments)||this}return Object.defineProperty(j.prototype,"label",{get:function(){return"\u6682\u505C"},enumerable:!1,configurable:!0}),j.prototype.renderIcon=function(){var F=this.attributes,W=F.x,w=F.y,z=F.color,H=this.iconSize,Y=H/3,V=[[W-Y,w-H/2],[W-Y,w+H/2],[W-Y/2,w+H/2],[W-Y/2,w-H/2],[W-Y,w-H/2],[W+Y/2,w-H/2],[W+Y/2,w+H/2],[W+Y,w+H/2],[W+Y,w-H/2]];(0,o.Ys)(this.icon).maybeAppend(".pause","polygon").styles({points:V,fill:z})},j}(s),n=function(U){(0,d.ZT)(j,U);function j(){return U!==null&&U.apply(this,arguments)||this}return Object.defineProperty(j.prototype,"label",{get:function(){return"\u8303\u56F4\u65F6\u95F4"},enumerable:!1,configurable:!0}),j.prototype.renderIcon=function(){var F=this.attributes,W=F.x,w=F.y,z=F.color,H=this,Y=H.iconSize,V=H.lineWidth,$=V;(0,o.Ys)(this.icon).maybeAppend(".left-line","line").styles({x1:W-Y/2,y1:w-Y/2,x2:W-Y/2,y2:w+Y/2,stroke:z,lineWidth:V}),(0,o.Ys)(this.icon).maybeAppend(".right-line","line").styles({x1:W+Y/2,y1:w-Y/2,x2:W+Y/2,y2:w+Y/2,stroke:z,lineWidth:V}),(0,o.Ys)(this.icon).maybeAppend(".left-arrow","line").styles({x1:W,y1:w,x2:W-Y/2+$*2,y2:w,stroke:z,lineWidth:V,markerEnd:u(V*2,z)}),(0,o.Ys)(this.icon).maybeAppend(".right-arrow","line").styles({x1:W,y1:w,x2:W+Y/2-$*2,y2:w,stroke:z,lineWidth:V,markerEnd:u(V*2,z)})},j}(s),l=function(U){(0,d.ZT)(j,U);function j(){return U!==null&&U.apply(this,arguments)||this}return Object.defineProperty(j.prototype,"label",{get:function(){return"\u5355\u4E00\u65F6\u95F4"},enumerable:!1,configurable:!0}),j.prototype.renderIcon=function(){var F=this.attributes,W=F.x,w=F.y,z=F.color,H=this,Y=H.iconSize,V=H.lineWidth;(0,o.Ys)(this.icon).maybeAppend(".line","line").styles({x1:W,y1:w-Y/2,x2:W,y2:w+Y/2,stroke:z,lineWidth:V});var $=V;(0,o.Ys)(this.icon).maybeAppend(".left-arrow","line").styles({x1:W-Y/2-$*2,y1:w,x2:W-$*2,y2:w,stroke:z,lineWidth:V,markerEnd:u(V*2,z)}),(0,o.Ys)(this.icon).maybeAppend(".right-arrow","line").styles({x1:W+Y/2+$*2,y1:w,x2:W+$*2,y2:w,stroke:z,lineWidth:V,markerEnd:u(V*2,z)})},j}(s),M=function(U){return[[-U/2,-U/2],[-U/2,U/2],[U/2,U/2]]},O=function(U){(0,d.ZT)(j,U);function j(){return U!==null&&U.apply(this,arguments)||this}return Object.defineProperty(j.prototype,"label",{get:function(){return"\u6298\u7EBF\u56FE"},enumerable:!1,configurable:!0}),j.prototype.renderIcon=function(){var F=this.attributes,W=F.x,w=F.y,z=F.color,H=this,Y=H.iconSize,V=H.lineWidth,$=V,J=(Y-$*2-V)/4,rt=(Y-$*2-V)/2,lt=(0,d.CR)([W-Y/2+$,w+Y/2-$*2],2),tt=lt[0],G=lt[1];(0,o.Ys)(this.icon).maybeAppend(".coordinate","polyline").styles({points:M(Y).map(function(nt){var ut=(0,d.CR)(nt,2),dt=ut[0],et=ut[1];return[dt+W,et+w]}),stroke:z,lineWidth:V}),(0,o.Ys)(this.icon).maybeAppend(".line","polyline").styles({points:[[tt,G],[tt+J,G-rt],[tt+J*2,G],[tt+J*4,G-rt*2]],stroke:z,lineWidth:V})},j}(s),D=function(U){(0,d.ZT)(j,U);function j(){return U!==null&&U.apply(this,arguments)||this}return Object.defineProperty(j.prototype,"label",{get:function(){return"\u6761\u5F62\u56FE"},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"data",{get:function(){return[1,4,2,4,3]},enumerable:!1,configurable:!0}),j.prototype.renderIcon=function(){var F=this.data,W=this.attributes,w=W.x,z=W.y,H=W.color,Y=this,V=Y.iconSize,$=Y.lineWidth,J=$,rt=(V-J)/F.length,lt=(V-J*2)/4,tt=(0,d.CR)([w-V/2+J*2,z+V/2-J],2),G=tt[0],nt=tt[1];(0,o.Ys)(this.icon).maybeAppend(".coordinate","polyline").styles({points:M(V).map(function(ut){var dt=(0,d.CR)(ut,2),et=dt[0],_t=dt[1];return[et+w,_t+z]}),stroke:H,lineWidth:$}),(0,o.Ys)(this.icon).maybeAppend(".bars","g").selectAll(".column").data(this.data.map(function(ut,dt){return{value:ut,index:dt}})).join(function(ut){return ut.append("line").attr("className","column").style("x1",function(dt){var et=dt.index;return G+rt*et}).style("y1",nt).style("x2",function(dt){var et=dt.index;return G+rt*et}).style("y2",function(dt){var et=dt.value;return nt-lt*et}).styles({y1:nt,stroke:H,lineWidth:$})})},j}(s),P=function(U){(0,d.ZT)(j,U);function j(F){var W=U.call(this,(0,f.n)({},{style:{color:"#d8d9d9"}},F))||this;return W.showBackground=!1,W}return j.prototype.renderIcon=function(){var F=this.attributes,W=F.x,w=F.y,z=F.color,H=this,Y=H.iconSize,V=H.lineWidth;(0,o.Ys)(this.icon).maybeAppend(".split","line").styles({x1:W,y1:w-Y/2,x2:W,y2:w+Y/2,stroke:z,lineWidth:V})},j}(s),b=function(U){(0,d.ZT)(j,U);function j(){var F=U.apply(this,(0,d.ev)([],(0,d.CR)(arguments),!1))||this;return F.showBackground=!1,F}return Object.defineProperty(j.prototype,"padding",{get:function(){return(0,h.j)(0)},enumerable:!1,configurable:!0}),j.prototype.renderIcon=function(){var F=this.iconSize,W=this.attributes,w=W.x,z=W.y,H=W.speed,Y=H===void 0?1:H,V=(0,T.Z)(this.attributes,["x","y","transform","transformOrigin","width","height","size","color","speed"]),$=(0,y.Z)(F,20,1/0),J=20,rt=(0,d.pi)((0,d.pi)({},V),{x:w-$/2,y:z-J/2,width:$,height:J,defaultValue:Y,bordered:!1,showDropdownIcon:!1,selectRadius:2,dropdownPadding:this.padding,dropdownRadius:2,dropdownSpacing:F/5,placeholderFontSize:F/2,optionPadding:0,optionLabelFontSize:F/2,optionBackgroundRadius:1,options:[{label:"1x",value:1},{label:"1.5x",value:1.5},{label:"2x",value:2}]});(0,o.Ys)(this.icon).maybeAppend(".speed",function(){return new a.P({style:rt})}).attr("className","speed").each(function(){this.update(rt)})},j.tag="SpeedSelect",j}(s),x=function(U){(0,d.ZT)(j,U);function j(F){var W=U.call(this,F)||this;return W.icon=W.appendChild(new m.ZA({})),W.currentType=W.attributes.type,W}return j.prototype.getType=function(){return this.currentType},j.prototype.render=function(){var F=this,W=this.attributes,w=W.onChange,z=(0,d._T)(W,["onChange"]);(0,o.Ys)(this.icon).selectAll(".icon").data([this.currentType]).join(function(H){return H.append(function(Y){var V,$=(V=F.toggles.find(function(J){var rt=(0,d.CR)(J,1),lt=rt[0];return lt===Y}))===null||V===void 0?void 0:V[1];if(!$)throw new Error("Invalid type: ".concat(Y));return new $({})}).attr("className","icon").styles(z,!1).update({})},function(H){return H.styles({restStyles:z}).update({})},function(H){return H.remove()})},j.prototype.bindEvents=function(){var F=this,W=this.attributes.onChange;this.addEventListener("click",function(w){w.preventDefault(),w.stopPropagation();var z=(F.toggles.findIndex(function(Y){var V=(0,d.CR)(Y,1),$=V[0];return $===F.currentType})+1)%F.toggles.length,H=F.toggles[z][0];W==null||W(F.currentType),F.currentType=H,F.render()})},j.tag="ToggleIcon",j}(C.w),L=function(U){(0,d.ZT)(j,U);function j(F){var W=U.call(this,(0,f.n)({},{style:{type:"play"}},F))||this;return W.toggles=[["play",e],["pause",i]],W}return j}(x),S=function(U){(0,d.ZT)(j,U);function j(F){var W=U.call(this,(0,f.n)({},{style:{type:"range"}},F))||this;return W.toggles=[["range",n],["value",l]],W}return j}(x),K=function(U){(0,d.ZT)(j,U);function j(F){var W=U.call(this,(0,f.n)({},{style:{type:"column"}},F))||this;return W.toggles=[["line",O],["column",D]],W}return j}(x)},29371:function(at,N,t){"use strict";t.d(N,{s:function(){return c}});var d=t(15767),T=t(15378),y=t(3759),C=t(81614),m=t(28213),f=t(58105),h=t(16841),v=t(85104),o=t(58643),r=t(54321),a=t(99719),s=t(54830),u=t(2077),c=function(E){(0,d.ZT)(p,E);function p(e){var i=E.call(this,(0,m.n)({},p.defaultOptions,e))||this;i.axis=i.appendChild(new o.R({style:{type:"linear",startPos:[0,0],endPos:[0,0],data:[],showArrow:!1,animate:!1}})),i.timeline=i.appendChild(new r.i({style:{onChange:function(x){i.handleSliderChange(x)}}})),i.controller=i.appendChild(new a.Q({})),i.states={},i.handleSliderChange=function(x){var L=function(){var S=i.states.values;return Array.isArray(S)?(0,d.ev)([],(0,d.CR)(S),!1):S}();i.setBySliderValues(x),i.dispatchOnChange(L)};var n=i.attributes,l=n.selectionType,M=n.chartType,O=n.speed,D=n.state,P=n.playMode,b=n.values;return i.states={chartType:M,playMode:P,selectionType:l,speed:O,state:D},i.setByTimebarValues(b),i}return Object.defineProperty(p.prototype,"data",{get:function(){var e=this.attributes.data,i=function(n,l){return n.time<l.time?-1:n.time>l.time?1:0};return e.sort(i)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"space",{get:function(){var e=this.attributes,i=e.x,n=e.y,l=e.width,M=e.height,O=e.type,D=e.controllerHeight,P=(0,T.Z)(+M-D,0,+M),b=new f.b(i,n+ +M-D,+l,D),x,L=0;O==="chart"?(L=35,x=new f.b(i,n+P-L,+l,L)):x=new f.b;var S=O==="time"?10:P,K=new f.b(i,n+(O==="time"?P:P-S),+l,S-L);return{axisBBox:x,controllerBBox:b,timelineBBox:K}},enumerable:!1,configurable:!0}),p.prototype.setBySliderValues=function(e){var i,n,l=this.data,M=(0,d.CR)(Array.isArray(e)?e:[0,e],2),O=M[0],D=M[1],P=l.length,b=l[Math.floor(O*P)],x=l[Math.ceil(D*P)-(Array.isArray(e)?0:1)];this.states.values=[(i=b==null?void 0:b.time)!==null&&i!==void 0?i:l[0].time,(n=x==null?void 0:x.time)!==null&&n!==void 0?n:1/0]},p.prototype.setByTimebarValues=function(e){var i,n,l,M=this.data,O=(0,d.CR)(Array.isArray(e)?e:[void 0,e],2),D=O[0],P=O[1],b=M.find(function(L){var S=L.time;return S===D}),x=M.find(function(L){var S=L.time;return S===P});this.states.values=[(i=b==null?void 0:b.time)!==null&&i!==void 0?i:(n=M[0])===null||n===void 0?void 0:n.time,(l=x==null?void 0:x.time)!==null&&l!==void 0?l:1/0]},p.prototype.setByIndex=function(e){var i,n,l,M,O=this.data,D=(0,d.CR)(e,2),P=D[0],b=D[1];this.states.values=[(n=(i=O[P])===null||i===void 0?void 0:i.time)!==null&&n!==void 0?n:O[0].time,(M=(l=this.data[b])===null||l===void 0?void 0:l.time)!==null&&M!==void 0?M:1/0]},Object.defineProperty(p.prototype,"sliderValues",{get:function(){var e=this.states,i=e.values,n=e.selectionType,l=(0,d.CR)(Array.isArray(i)?i:[void 0,i],2),M=l[0],O=l[1],D=this.data,P=D.length,b=n==="value",x=function(){var S=D.findIndex(function(K){var U=K.time;return U===M});return b?0:S>-1?S/P:0},L=function(){if(O===1/0)return 1;var S=D.findIndex(function(K){var U=K.time;return U===O});return S>-1?S/P:b?.5:1};return[x(),L()]},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"values",{get:function(){var e=this.states,i=e.values,n=e.selectionType,l=(0,d.CR)(Array.isArray(i)?i:[this.data[0].time,i],2),M=l[0],O=l[1];return n==="value"?O:[M,O]},enumerable:!1,configurable:!0}),p.prototype.getDatumByRatio=function(e){var i=this.data,n=i.length,l=Math.floor(e*(n-1));return i[l]},Object.defineProperty(p.prototype,"chartHandleIconShape",{get:function(){var e=this.states.selectionType,i=this.space.timelineBBox.height;return e==="range"?function(n){return new s.b({style:{type:n,height:i,iconSize:i/6}})}:function(){return new C.x1({style:{x1:0,y1:-i/2,x2:0,y2:i/2,lineWidth:2,stroke:"#c8c8c8"}})}},enumerable:!1,configurable:!0}),p.prototype.getChartStyle=function(e){var i=this,n=e.x,l=e.y,M=e.width,O=e.height,D=this.states,P=D.selectionType,b=D.chartType,x=this.data,L=this.attributes,S=L.type,K=L.labelFormatter,U=(0,h.zs)(this.attributes,"chart"),j=U.type,F=(0,d._T)(U,["type"]),W=P==="range";if(S==="time")return(0,d.pi)({handleIconShape:function(){return new s.u({})},selectionFill:"#2e7ff8",selectionFillOpacity:1,showLabelOnInteraction:!0,handleLabelDy:W?-15:0,autoFitLabel:W,handleSpacing:W?-15:0,trackFill:"#edeeef",trackLength:M,trackOpacity:.5,trackRadius:O/2,trackSize:O/2,type:P,values:this.sliderValues,formatter:function(H){if(K)return K(H);var Y=i.getDatumByRatio(H).time;return typeof Y=="number"?(0,u.Dw)(Y):(0,v.mr)(Y,"YYYY-MM-DD HH:mm:ss")},transform:"translate(".concat(n,", ").concat(l,")"),zIndex:1},F);var w=P==="range"?5:0,z=x.map(function(H){var Y=H.value;return Y});return(0,d.pi)({handleIconOffset:w,handleIconShape:this.chartHandleIconShape,selectionFill:"#fff",selectionFillOpacity:.5,selectionType:"invert",sparklineSpacing:.1,sparklineColumnLineWidth:0,sparklineColor:"#d4e5fd",sparklineAreaOpacity:1,sparklineAreaLineWidth:0,sparklineData:z,sparklineType:b,sparklineScale:.8,trackLength:M,trackSize:O,type:P,values:this.sliderValues,transform:"translate(".concat(n,", ").concat(l,")"),zIndex:1},F)},p.prototype.renderChart=function(e){e===void 0&&(e=this.space.timelineBBox),this.timeline.update(this.getChartStyle(e))},p.prototype.updateSelection=function(){this.timeline.setValues(this.sliderValues,!0),this.handleSliderChange(this.sliderValues)},p.prototype.getAxisStyle=function(e){var i=this.data,n=this.attributes,l=n.interval,M=n.labelFormatter,O=(0,h.zs)(this.attributes,"axis"),D=e.x,P=e.y,b=e.width,x=(0,d.ev)((0,d.ev)([],(0,d.CR)(i),!1),[{time:0}],!1).map(function(S,K,U){var j=S.time;return{label:"".concat(j),value:K/(U.length-1),time:j}}),L=(0,d.pi)({startPos:[D,P],endPos:[D+b,P],data:x,labelFilter:function(S,K){return K<x.length-1},labelFormatter:function(S){var K=S.time;return M?M(K):(0,u.rM)(K,l)}},O);return L},p.prototype.renderAxis=function(e){e===void 0&&(e=this.space.axisBBox);var i=this.attributes.type;i==="chart"&&this.axis.update(this.getAxisStyle(e))},p.prototype.renderController=function(e){e===void 0&&(e=this.space.controllerBBox);var i=this.attributes.type,n=this.states,l=n.state,M=n.speed,O=n.selectionType,D=n.chartType,P=(0,h.zs)(this.attributes,"controller"),b=this,x=(0,d.pi)((0,d.pi)((0,d.pi)({},e),{iconSize:20,speed:M,state:l,selectionType:O,chartType:D,onChange:function(L,S){var K=S.value;switch(L){case"reset":b.internalReset();break;case"speed":b.handleSpeedChange(K);break;case"backward":b.internalBackward();break;case"playPause":K==="play"?b.internalPlay():b.internalPause();break;case"forward":b.internalForward();break;case"selectionType":b.handleSelectionTypeChange(K);break;case"chartType":b.handleChartTypeChange(K);break;default:break}}}),P);i==="time"&&(x.functions=[["reset","speed"],["backward","playPause","forward"],["selectionType"]]),this.controller.update(x)},p.prototype.dispatchOnChange=function(e){var i=this.data,n=this.attributes.onChange,l=this.states,M=l.values,O=l.selectionType,D=(0,d.CR)(M,2),P=D[0],b=D[1],x=b===1/0?i.at(-1).time:b,L=O==="range"?[P,x]:x,S=function(K,U){return Array.isArray(K)?Array.isArray(U)?K[0]===U[0]&&(K[1]===U[1]||K[1]===1/0||U[1]===1/0):!1:Array.isArray(U)?!1:K===U};(!e||!S(e,L))&&(n==null||n(O==="range"?[P,x]:x))},p.prototype.internalReset=function(e){var i,n,l=this.states.selectionType;this.internalPause(),this.setBySliderValues(l==="range"?[0,1]:[0,0]),this.renderController(),this.updateSelection(),e||((n=(i=this.attributes)===null||i===void 0?void 0:i.onReset)===null||n===void 0||n.call(i),this.dispatchOnChange())},p.prototype.reset=function(){this.internalReset()},p.prototype.moveSelection=function(e,i){var n=this.data,l=n.length,M=this.states,O=M.values,D=M.selectionType,P=M.playMode,b=(0,d.CR)(O,2),x=b[0],L=b[1],S=n.findIndex(function(w){var z=w.time;return z===x}),K=n.findIndex(function(w){var z=w.time;return z===L});K===-1&&(K=l);var U=e==="backward"?-1:1,j;D==="range"?P==="acc"?(j=[S,K+U],U===-1&&S===K&&(j=[S,l])):j=[S+U,K+U]:j=[S,K+U];var F=function(w){var z=(0,d.CR)(w.sort(function($,J){return $-J}),2),H=z[0],Y=z[1],V=function($){return(0,T.Z)($,0,l)};return Y>l?D==="value"?[0,0]:P==="acc"?[V(H),V(H)]:[0,V(Y-H)]:H<0?P==="acc"?[0,V(Y)]:[V(H+l-Y),l]:[V(H),V(Y)]},W=F(j);return this.setByIndex(W),this.updateSelection(),W},p.prototype.internalBackward=function(e){var i,n,l=this.moveSelection("backward",e);return e||((n=(i=this.attributes)===null||i===void 0?void 0:i.onBackward)===null||n===void 0||n.call(i),this.dispatchOnChange()),l},p.prototype.backward=function(){this.internalBackward()},p.prototype.internalPlay=function(e){var i=this,n,l,M=this.data,O=this.attributes.loop,D=this.states.speed,P=D===void 0?1:D;this.playInterval=window.setInterval(function(){var b=i.internalForward();b[1]===M.length&&!O&&(i.internalPause(),i.renderController())},1e3/P),this.states.state="play",!e&&((l=(n=this.attributes)===null||n===void 0?void 0:n.onPlay)===null||l===void 0||l.call(n))},p.prototype.play=function(){this.internalPlay()},p.prototype.internalPause=function(e){var i,n;clearInterval(this.playInterval),this.states.state="pause",!e&&((n=(i=this.attributes)===null||i===void 0?void 0:i.onPause)===null||n===void 0||n.call(i))},p.prototype.pause=function(){this.internalPause()},p.prototype.internalForward=function(e){var i,n,l=this.moveSelection("forward",e);return e||((n=(i=this.attributes)===null||i===void 0?void 0:i.onForward)===null||n===void 0||n.call(i),this.dispatchOnChange()),l},p.prototype.forward=function(){this.internalForward()},p.prototype.handleSpeedChange=function(e){var i,n;this.states.speed=e;var l=this.states.state;l==="play"&&(this.internalPause(!0),this.internalPlay(!0)),(n=(i=this.attributes)===null||i===void 0?void 0:i.onSpeedChange)===null||n===void 0||n.call(i,e)},p.prototype.handleSelectionTypeChange=function(e){var i,n;this.states.selectionType=e,this.renderChart(),(n=(i=this.attributes)===null||i===void 0?void 0:i.onSelectionTypeChange)===null||n===void 0||n.call(i,e)},p.prototype.handleChartTypeChange=function(e){var i,n;this.states.chartType=e,this.renderChart(),(n=(i=this.attributes)===null||i===void 0?void 0:i.onChartTypeChange)===null||n===void 0||n.call(i,e)},p.prototype.render=function(){var e=this.space,i=e.axisBBox,n=e.controllerBBox,l=e.timelineBBox;this.renderController(n),this.renderAxis(i),this.renderChart(l),this.states.state==="play"&&this.internalPlay()},p.prototype.destroy=function(){E.prototype.destroy.call(this),this.internalPause(!0)},p.defaultOptions={style:{x:0,y:0,axisLabelFill:"#6e6e6e",axisLabelTextAlign:"left",axisLabelTextBaseline:"top",axisLabelTransform:"translate(5, -12)",axisLineLineWidth:1,axisLineStroke:"#cacdd1",axisTickLength:15,axisTickLineWidth:1,axisTickStroke:"#cacdd1",chartShowLabel:!1,chartType:"line",controllerAlign:"center",controllerHeight:40,data:[],interval:"day",loop:!1,playMode:"acc",selectionType:"range",type:"time"}},p}(y.w)},2077:function(at,N,t){"use strict";t.d(N,{Dw:function(){return C},rM:function(){return T}});var d=t(85104);function T(m,f){return typeof m=="number"?C(m):y(m,f)}function y(m,f){var h=new Date(m);switch(f){case"half-hour":case"hour":case"four-hour":return[0,6,12,18].includes(h.getHours())&&h.getMinutes()===0?(0,d.mr)(h,`HH:mm
YYYY-MM-DD`):(0,d.mr)(h,"HH:mm");case"half-day":return h.getHours()<12?`AM
`.concat((0,d.mr)(h,"YYYY-MM-DD")):"PM";case"day":return[1,10,20].includes(h.getDate())?(0,d.mr)(h,`DD
YYYY-MM`):(0,d.mr)(h,"DD");case"week":return h.getDate()<=7?(0,d.mr)(h,`DD
YYYY-MM`):(0,d.mr)(h,"DD");case"month":return[0,6].includes(h.getMonth())?(0,d.mr)(h,`MM\u6708
YYYY`):(0,d.mr)(h,"MM\u6708");case"season":return[0].includes(h.getMonth())?(0,d.mr)(h,`MM\u6708
YYYY`):(0,d.mr)(h,"MM\u6708");case"year":return(0,d.mr)(h,"YYYY");default:return(0,d.mr)(h,"YYYY-MM-DD HH:mm")}}function C(m){var f=String(Math.floor(m/3600)).padStart(2,"0"),h=String(Math.floor(m%3600/60)).padStart(2,"0"),v=String(Math.floor(m%60)).padStart(2,"0");return m<3600?"".concat(h,":").concat(v):"".concat(f,":").concat(h,":").concat(v)}},8314:function(at,N,t){"use strict";t.d(N,{M:function(){return C},f:function(){return T}});var d=t(15767);function T(m){return m===void 0&&(m=""),{CONTAINER:"".concat(m,"tooltip"),TITLE:"".concat(m,"tooltip-title"),LIST:"".concat(m,"tooltip-list"),LIST_ITEM:"".concat(m,"tooltip-list-item"),NAME:"".concat(m,"tooltip-list-item-name"),MARKER:"".concat(m,"tooltip-list-item-marker"),NAME_LABEL:"".concat(m,"tooltip-list-item-name-label"),VALUE:"".concat(m,"tooltip-list-item-value"),CROSSHAIR_X:"".concat(m,"tooltip-crosshair-x"),CROSSHAIR_Y:"".concat(m,"tooltip-crosshair-y")}}var y={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"};function C(m){var f;m===void 0&&(m="");var h=T(m);return f={},f[".".concat(h.CONTAINER)]={position:"absolute",visibility:"visible","z-index":8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)","background-color":"rgba(255, 255, 255, 0.96)","box-shadow":"0 6px 12px 0 rgba(0, 0, 0, 0.12)","border-radius":"4px",color:"rgba(0, 0, 0, 0.65)","font-size":"12px","line-height":"20px",padding:"12px","min-width":"120px","max-width":"360px","font-family":"Roboto-Regular"},f[".".concat(h.TITLE)]={color:"rgba(0, 0, 0, 0.45)"},f[".".concat(h.LIST)]={margin:"0px","list-style-type":"none",padding:"0px"},f[".".concat(h.LIST_ITEM)]={"list-style-type":"none",display:"flex","line-height":"2em","align-items":"center","justify-content":"space-between","white-space":"nowrap"},f[".".concat(h.MARKER)]={width:"8px",height:"8px","border-radius":"50%",display:"inline-block","margin-right":"4px"},f[".".concat(h.NAME)]={display:"flex","align-items":"center","max-width":"216px"},f[".".concat(h.NAME_LABEL)]=(0,d.pi)({flex:1},y),f[".".concat(h.VALUE)]=(0,d.pi)({display:"inline-block",float:"right",flex:1,"text-align":"right","min-width":"28px","margin-left":"30px",color:"rgba(0, 0, 0, 0.85)"},y),f[".".concat(h.CROSSHAIR_X)]={position:"absolute",width:"1px","background-color":"rgba(0, 0, 0, 0.25)"},f[".".concat(h.CROSSHAIR_Y)]={position:"absolute",height:"1px","background-color":"rgba(0, 0, 0, 0.25)"},f}},8701:function(at,N,t){"use strict";t.d(N,{u:function(){return o}});var d=t(15767),T=t(39559),y=t(94193),C=t(3759),m=t(1795),f=t(16841),h=t(58105),v=t(8314),o=function(r){(0,d.ZT)(a,r);function a(s){var u=this,c,E,p=(E=(c=s.style)===null||c===void 0?void 0:c.template)===null||E===void 0?void 0:E.prefixCls,e=(0,v.f)(p);return u=r.call(this,s,{data:[],x:0,y:0,visibility:"visible",title:"",position:"bottom-right",offset:[5,5],enterable:!1,container:{x:0,y:0},bounding:null,template:{prefixCls:"",container:'<div class="'.concat(e.CONTAINER,'"></div>'),title:'<div class="'.concat(e.TITLE,'"></div>'),item:'<li class="'.concat(e.LIST_ITEM,`" data-index={index}>
        <span class="`).concat(e.NAME,`">
          <span class="`).concat(e.MARKER,`" style="background:{color}"></span>
          <span class="`).concat(e.NAME_LABEL,`" title="{name}">{name}</span>
        </span>
        <span class="`).concat(e.VALUE,`" title="{value}">{value}</span>
      </li>`)},style:(0,v.M)(p)})||this,u.timestamp=-1,u.prevCustomContentKey=u.attributes.contentKey,u.initShape(),u.render(u.attributes,u),u}return Object.defineProperty(a.prototype,"HTMLTooltipElement",{get:function(){return this.element},enumerable:!1,configurable:!0}),a.prototype.getContainer=function(){return this.element},Object.defineProperty(a.prototype,"elementSize",{get:function(){var s=this.element.offsetWidth,u=this.element.offsetHeight;return{width:s,height:u}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"HTMLTooltipItemsElements",{get:function(){var s=this.attributes,u=s.data,c=s.template;return u.map(function(E,p){var e=E.name,i=e===void 0?"":e,n=E.color,l=n===void 0?"black":n,M=E.index,O=(0,d._T)(E,["name","color","index"]),D=(0,d.pi)({name:i,color:l,index:M!=null?M:p},O);return(0,T.L)((0,y.Z)(c.item,D))})},enumerable:!1,configurable:!0}),a.prototype.render=function(s,u){this.renderHTMLTooltipElement(),this.updatePosition()},a.prototype.destroy=function(){var s;(s=this.element)===null||s===void 0||s.remove(),r.prototype.destroy.call(this)},a.prototype.show=function(s,u){var c=this;if(s!==void 0&&u!==void 0){var E=this.element.style.visibility==="hidden",p=function(){c.attributes.x=s!=null?s:c.attributes.x,c.attributes.y=u!=null?u:c.attributes.y,c.updatePosition()};E?this.closeTransition(p):p()}this.element.style.visibility="visible"},a.prototype.hide=function(s,u){s===void 0&&(s=0),u===void 0&&(u=0);var c=this.attributes.enterable;c&&this.isCursorEntered(s,u)||(this.element.style.visibility="hidden")},a.prototype.initShape=function(){var s=this.attributes.template;this.element=(0,T.L)(s.container),this.id&&this.element.setAttribute("id",this.id)},a.prototype.renderCustomContent=function(){if(!(this.prevCustomContentKey!==void 0&&this.prevCustomContentKey===this.attributes.contentKey)){this.prevCustomContentKey=this.attributes.contentKey;var s=this.attributes.content;s&&(typeof s=="string"?this.element.innerHTML=s:(0,m.h)(this.element,s))}},a.prototype.renderHTMLTooltipElement=function(){var s,u,c=this.attributes,E=c.template,p=c.title,e=c.enterable,i=c.style,n=c.content,l=(0,v.f)(E.prefixCls),M=this.element;if(this.element.style.pointerEvents=e?"auto":"none",n)this.renderCustomContent();else{p?(M.innerHTML=E.title,M.getElementsByClassName(l.TITLE)[0].innerHTML=p):(u=(s=M.getElementsByClassName(l.TITLE))===null||s===void 0?void 0:s[0])===null||u===void 0||u.remove();var O=this.HTMLTooltipItemsElements,D=document.createElement("ul");D.className=l.LIST,(0,m.h)(D,O);var P=this.element.querySelector(".".concat(l.LIST));P?P.replaceWith(D):M.appendChild(D)}(0,f.MC)(M,i)},a.prototype.getRelativeOffsetFromCursor=function(s){var u=this.attributes,c=u.position,E=u.offset,p=s||c,e=p.split("-"),i={left:[-1,0],right:[1,0],top:[0,-1],bottom:[0,1]},n=this.elementSize,l=n.width,M=n.height,O=[-l/2,-M/2];return e.forEach(function(D){var P=(0,d.CR)(O,2),b=P[0],x=P[1],L=(0,d.CR)(i[D],2),S=L[0],K=L[1];O=[b+(l/2+E[0])*S,x+(M/2+E[1])*K]}),O},a.prototype.setOffsetPosition=function(s){var u=(0,d.CR)(s,2),c=u[0],E=u[1],p=this.attributes,e=p.x,i=e===void 0?0:e,n=p.y,l=n===void 0?0:n,M=p.container,O=M.x,D=M.y;this.element.style.left="".concat(+i+O+c,"px"),this.element.style.top="".concat(+l+D+E,"px")},a.prototype.updatePosition=function(){var s=this.attributes.showDelay,u=s===void 0?60:s,c=Date.now();this.timestamp>0&&c-this.timestamp<u||(this.timestamp=c,this.setOffsetPosition(this.autoPosition(this.getRelativeOffsetFromCursor())))},a.prototype.autoPosition=function(s){var u=(0,d.CR)(s,2),c=u[0],E=u[1],p=this.attributes,e=p.x,i=p.y,n=p.bounding,l=p.position;if(!n)return[c,E];var M=this.element,O=M.offsetWidth,D=M.offsetHeight,P=(0,d.CR)([+e+c,+i+E],2),b=P[0],x=P[1],L={left:"right",right:"left",top:"bottom",bottom:"top"},S=n.x,K=n.y,U=n.width,j=n.height,F={left:b<S,right:b+O>S+U,top:x<K,bottom:x+D>K+j},W=[];l.split("-").forEach(function(z){F[z]?W.push(L[z]):W.push(z)});var w=W.join("-");return this.getRelativeOffsetFromCursor(w)},a.prototype.isCursorEntered=function(s,u){if(this.element){var c=this.element.getBoundingClientRect(),E=c.x,p=c.y,e=c.width,i=c.height;return new h.b(E,p,e,i).isPointIn(s,u)}return!1},a.prototype.closeTransition=function(s){var u=this,c=this.element.style.transition;this.element.style.transition="none",s(),setTimeout(function(){u.element.style.transition=c},10)},a.tag="tooltip",a}(C.w)},17431:function(at,N,t){"use strict";t.d(N,{I:function(){return d},Z:function(){return T}});function d(y){return y*Math.PI/180}function T(y){return Number((y*180/Math.PI).toPrecision(5))}},58105:function(at,N,t){"use strict";t.d(N,{b:function(){return d}});var d=function(){function y(C,m,f,h){C===void 0&&(C=0),m===void 0&&(m=0),f===void 0&&(f=0),h===void 0&&(h=0),this.x=0,this.y=0,this.width=0,this.height=0,this.x=C,this.y=m,this.width=f,this.height=h}return Object.defineProperty(y.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),y.fromRect=function(C){return new y(C.x,C.y,C.width,C.height)},y.prototype.toJSON=function(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.top,right:this.right,bottom:this.bottom,left:this.left}},y.prototype.isPointIn=function(C,m){return C>=this.left&&C<=this.right&&m>=this.top&&m<=this.bottom},y}();function T(y){var C=y.getRenderBounds(),m=__read(C.min,2),f=m[0],h=m[1],v=__read(C.max,2),o=v[0],r=v[1],a=o-f,s=r-h;return new d(f,h,a,s)}},10315:function(at,N,t){"use strict";t.d(N,{S:function(){return y}});var d=t(15767),T=t(84237);function y(C,m){return(0,T.Z)(C)?C.apply(void 0,(0,d.ev)([],(0,d.CR)(m),!1)):C}},48537:function(at,N,t){"use strict";t.d(N,{A:function(){return T}});var d=t(15767),T=function(y,C){var m=function(h){return"".concat(C,"-").concat(h)},f=Object.fromEntries(Object.entries(y).map(function(h){var v=(0,d.CR)(h,2),o=v[0],r=v[1],a=m(r);return[o,{name:a,class:".".concat(a),id:"#".concat(a),toString:function(){return a}}]}));return Object.assign(f,{prefix:m}),f}},28213:function(at,N,t){"use strict";t.d(N,{n:function(){return f}});var d=t(15767),T=t(66520),y=t(83262),C=5,m=function(h,v,o,r){o===void 0&&(o=0),r===void 0&&(r=C),Object.entries(v).forEach(function(a){var s=(0,d.CR)(a,2),u=s[0],c=s[1],E=h;Object.prototype.hasOwnProperty.call(v,u)&&(c?(0,T.Z)(c)?((0,T.Z)(h[u])||(E[u]={}),o<r?m(h[u],c,o+1,r):E[u]=v[u]):(0,y.Z)(c)?(E[u]=[],E[u]=E[u].concat(c)):E[u]=c:E[u]=c)})},f=function(h){for(var v=[],o=1;o<arguments.length;o++)v[o-1]=arguments[o];for(var r=0;r<v.length;r+=1)m(h,v[r]);return h}},94055:function(at,N,t){"use strict";t.d(N,{r:function(){return d}});var d=function(T){return T!==void 0&&T!=null&&!Number.isNaN(T)}},56998:function(at,N,t){"use strict";t.d(N,{O:function(){return T}});var d=t(9075);function T(y,C,m){m===void 0&&(m="..."),(0,d.Rm)(y,{wordWrap:!0,wordWrapWidth:C,maxLines:1,textOverflow:m})}},68151:function(at,N,t){"use strict";t.d(N,{s:function(){return d}});function d(T){var y=T.canvas,C=T.touches,m=T.offsetX,f=T.offsetY;if(y){var h=y.x,v=y.y;return[h,v]}if(C){var o=C[0],r=o.clientX,a=o.clientY;return[r,a]}return m&&f?[m,f]:[0,0]}},36653:function(at,N,t){"use strict";t.d(N,{$:function(){return h},S:function(){return f}});var d=t(15767),T=t(27412),y=t(26912),C=t(35315),m=t(81614);function f(v){return typeof v=="function"?v():(0,T.Z)(v)||(0,y.Z)(v)?new C.x({style:{text:String(v)}}):v}function h(v,o){return typeof v=="function"?v():(0,T.Z)(v)||(0,y.Z)(v)?new m.k9({style:(0,d.pi)((0,d.pi)({},o),{innerHTML:String(v)})}):v}},36109:function(at,N,t){"use strict";t.d(N,{v:function(){return d}});function d(T,y){return T.reduce(function(C,m){return(C[m[y]]=C[m[y]]||[]).push(m),C},{})}},97782:function(at,N,t){"use strict";t.d(N,{r:function(){return d}});function d(T,y){var C=new Map;return T.forEach(function(m){var f=y(m);C.has(f)||C.set(f,[]),C.get(f).push(m)}),C}},53395:function(at,N,t){"use strict";t.d(N,{z:function(){return d}});function d(T,y,C,m,f){return m===void 0&&(m=!0),f===void 0&&(f=function(h){h.node().removeChildren()}),T?C(y):(m&&f(y),null)}},20868:function(at,N,t){"use strict";t.d(N,{Z:function(){return d}});function d(T,y,C,m,f){return m===void 0&&(m=!0),f===void 0&&(f=!1),m&&T===y||f&&T===C?!0:T>y&&T<C}},38146:function(at,N,t){"use strict";t.d(N,{sX:function(){return m}});var d=t(15767),T=function(f,h){return function(v){return f*(1-v)+h*v}};function y(f,h){var v=h?h.length:0,o=f?Math.min(v,f.length):0;return function(r){var a=new Array(o),s=new Array(v),u=0;for(u=0;u<o;++u)a[u]=m(f[u],h[u]);for(;u<v;++u)s[u]=h[u];for(u=0;u<o;++u)s[u]=a[u](r);return s}}function C(f,h){f===void 0&&(f={}),h===void 0&&(h={});var v={},o={};return Object.entries(h).forEach(function(r){var a=(0,d.CR)(r,2),s=a[0],u=a[1];s in f?v[s]=m(f[s],u):o[s]=u}),function(r){return Object.entries(v).forEach(function(a){var s=(0,d.CR)(a,2),u=s[0],c=s[1];return o[u]=c(r)}),o}}function m(f,h){return typeof f=="number"&&typeof h=="number"?T(f,h):Array.isArray(f)&&Array.isArray(h)?y(f,h):typeof f=="object"&&typeof h=="object"?C(f,h):function(v){return f}}},46732:function(at,N,t){"use strict";t.d(N,{F:function(){return y}});var d=t(15767),T=t(38146);function y(C,m,f,h){if(!h)return C.attr("__keyframe_data__",f),null;var v=h.duration,o=v===void 0?0:v,r=(0,T.sX)(m,f),a=Math.ceil(+o/16),s=new Array(a).fill(0).map(function(u,c,E){return{__keyframe_data__:r(c/(E.length-1))}});return C.animate(s,(0,d.pi)({fill:"both"},h))}},37331:function(at,N,t){"use strict";t.d(N,{Fp:function(){return m},Fv:function(){return h},IH:function(){return T},KR:function(){return o},TE:function(){return f},VV:function(){return C},bA:function(){return d},lu:function(){return y}});function d(r,a){return[r[0]*a,r[1]*a]}function T(r,a){return[r[0]+a[0],r[1]+a[1]]}function y(r,a){return[r[0]-a[0],r[1]-a[1]]}function C(r,a){return[Math.min(r[0],a[0]),Math.min(r[1],a[1])]}function m(r,a){return[Math.max(r[0],a[0]),Math.max(r[1],a[1])]}function f(r,a){return Math.sqrt(Math.pow(r[0]-a[0],2)+Math.pow(r[1]-a[1],2))}function h(r){if(r[0]===0&&r[1]===0)return[0,0];var a=Math.sqrt(Math.pow(r[0],2)+Math.pow(r[1],2));return[r[0]/a,r[1]/a]}function v(r,a,s){var u=__read(r,2),c=u[0],E=u[1],p=__read(a,2),e=p[0],i=p[1],n=c-e,l=E-i,M=Math.sin(s),O=Math.cos(s);return[n*O-l*M+e,n*M+l*O+i]}function o(r,a){return a?[r[1],-r[0]]:[-r[1],r[0]]}},46082:function(at,N,t){"use strict";t.d(N,{Zd:function(){return d}});function d(o,r){return+o.toPrecision(r)}function T(o){return o.toLocaleString()}function y(o){return o.toExponential()}function C(o,r){return r===void 0&&(r=0),Math.abs(o)<1e3?String(o):"".concat(d(o/1e3,r).toLocaleString(),"K")}var m=function(o,r,a){return o<0&&Number.isFinite(o)?r:a},f=function(o,r,a){return o>0&&Number.isFinite(o)?r:a},h=function(o,r){return o*r},v=function(o,r){return o/2+(r||0)/2}},14048:function(at,N,t){"use strict";t.d(N,{X:function(){return f},g:function(){return m}});var d=t(15767),T=t(81614),y=t(57170),C=function(h){(0,d.ZT)(v,h);function v(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];var a=h.apply(this,(0,d.ev)([],(0,d.CR)(o),!1))||this;return a.isMutationObserved=!0,a.addEventListener(T.Dk.INSERTED,function(){(0,y.Cp)(a)}),a}return v}(T.ZA);function m(h){var v=h.appendChild(new C({class:"offscreen"}));return(0,y.Cp)(v),v}function f(h){for(var v=h;v;){if(v.className==="offscreen")return!0;v=v.parent}return!1}},72793:function(at,N,t){"use strict";t.d(N,{C:function(){return d}});function d(T,y){var C={},m=Array.isArray(y)?y:[y];for(var f in T)m.includes(f)||(C[f]=T[f]);return C}},89459:function(at,N,t){"use strict";t.d(N,{r:function(){return T}});var d=t(15767),T=function(y){var C=new DOMParser,m=C.parseFromString(y,"text/html"),f=m.body.firstElementChild;if(console.log(f==null?void 0:f.getClientRects(),11),!f)return 0;var h=f.getAttribute("style")||"",v=Object.fromEntries(h.split(";").map(function(n){return n.trim()}).filter(function(n){return n.includes(":")}).map(function(n){var l=(0,d.CR)(n.split(":").map(function(D){return D.trim()}),2),M=l[0],O=l[1];return[M.toLowerCase(),O]})),o=function(n){if(!n)return 0;var l=n.match(/([\d.]+)px/);return l?parseFloat(l[1]):0};if(v.height)return o(v.height);var r=o(v["font-size"])||16,a=v["line-height"],s;!a||a==="normal"?s=1.2*r:a.endsWith("px")?s=o(a):/^[\d.]+$/.test(a)?s=parseFloat(a)*r:s=r;var u=o(v["padding-top"]),c=o(v["padding-bottom"]);if(v.padding){var E=v.padding.split(/\s+/).map(o);E.length===1||E.length===2?(u=E[0],c=E[0]):(E.length===3||E.length===4)&&(u=E[0],c=E[2])}var p=o(v["border-top-width"]),e=o(v["border-bottom-width"]);if(v.border){var i=v.border.match(/([\d.]+)px/);i&&(p=parseFloat(i[1]),e=parseFloat(i[1]))}if(v["border-width"]){var E=v["border-width"].split(/\s+/).map(o);E.length===1||E.length===2?(p=E[0],e=E[0]):(E.length===3||E.length===4)&&(p=E[0],e=E[2])}return s+u+c+p+e}},98:function(at,N,t){"use strict";t.d(N,{l:function(){return d}});function d(T){return/\S+-\S+/g.test(T)?T.split("-").map(function(y){return y[0]}):T.length>2?[T[0]]:T.split("")}},19484:function(at,N,t){"use strict";t.d(N,{e:function(){return C}});var d=t(15767),T=t(37331);function y(m,f,h,v){var o,r=[],a=!!v,s,u,c=[1/0,1/0],E=[-1/0,-1/0],p,e,i;if(a){o=(0,d.CR)(v,2),c=o[0],E=o[1];for(var n=0,l=m.length;n<l;n+=1){var M=m[n];c=(0,T.VV)(c,M),E=(0,T.Fp)(E,M)}}for(var n=0,O=m.length;n<O;n+=1){var M=m[n];if(n===0&&!h)i=M;else if(n===O-1&&!h)e=M,r.push(i),r.push(e);else{var D=[n?n-1:O-1,n-1][h?0:1];s=m[D],u=m[h?(n+1)%O:n+1];var P=[0,0];P=(0,T.lu)(u,s),P=(0,T.bA)(P,f);var b=(0,T.TE)(M,s),x=(0,T.TE)(M,u),L=b+x;L!==0&&(b/=L,x/=L);var S=(0,T.bA)(P,-b),K=(0,T.bA)(P,x);e=(0,T.IH)(M,S),p=(0,T.IH)(M,K),p=(0,T.VV)(p,(0,T.Fp)(u,M)),p=(0,T.Fp)(p,(0,T.VV)(u,M)),S=(0,T.lu)(p,M),S=(0,T.bA)(S,-b/x),e=(0,T.IH)(M,S),e=(0,T.VV)(e,(0,T.Fp)(s,M)),e=(0,T.Fp)(e,(0,T.VV)(s,M)),K=(0,T.lu)(M,e),K=(0,T.bA)(K,x/b),p=(0,T.IH)(M,K),a&&(e=(0,T.Fp)(e,c),e=(0,T.VV)(e,E),p=(0,T.Fp)(p,c),p=(0,T.VV)(p,E)),r.push(i),r.push(e),i=p}}return h&&r.push(r.shift()),r}function C(m,f,h){var v;f===void 0&&(f=!1),h===void 0&&(h=[[0,0],[1,1]]);for(var o=!!f,r=[],a=0,s=m.length;a<s;a+=2)r.push([m[a],m[a+1]]);for(var u=y(r,.4,o,h),c=r.length,E=[],p,e,i,a=0;a<c-1;a+=1)p=u[a*2],e=u[a*2+1],i=r[a+1],E.push(["C",p[0],p[1],e[0],e[1],i[0],i[1]]);return o&&(p=u[c],e=u[c+1],v=(0,d.CR)(r,1),i=v[0],E.push(["C",p[0],p[1],e[0],e[1],i[0],i[1]])),E}},99985:function(at,N,t){"use strict";t.d(N,{M8:function(){return y}});var d=["$el","cx","cy","d","dx","dy","fill","fillOpacity","filter","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","height","img","increasedLineWidthForHitTesting","innerHTML","isBillboard","billboardRotation","isSizeAttenuation","isClosed","isOverflowing","leading","letterSpacing","lineDash","lineHeight","lineWidth","markerEnd","markerEndOffset","markerMid","markerStart","markerStartOffset","maxLines","metrics","miterLimit","offsetX","offsetY","opacity","path","points","r","radius","rx","ry","shadowColor","src","stroke","strokeOpacity","text","textAlign","textBaseline","textDecorationColor","textDecorationLine","textDecorationStyle","textOverflow","textPath","textPathSide","textPathStartOffset","transform","transformOrigin","visibility","width","wordWrap","wordWrapWidth","x","x1","x2","y","y1","y2","z1","z2","zIndex"];function T(C){return d.includes(C)}function y(C){var m={};for(var f in C)T(f)&&(m[f]=C[f]);return m}},1795:function(at,N,t){"use strict";t.d(N,{h:function(){return T}});var d=t(15767),T=function(y,C){if(C==null){y.innerHTML="";return}y.replaceChildren?Array.isArray(C)?y.replaceChildren.apply(y,(0,d.ev)([],(0,d.CR)(C),!1)):y.replaceChildren(C):(y.innerHTML="",Array.isArray(C)?C.forEach(function(m){return y.appendChild(m)}):y.appendChild(C))}},62719:function(at,N,t){"use strict";t.d(N,{w:function(){return d}});function d(T,y){if(T.length<=y)return T;for(var C=Math.floor(T.length/y),m=[],f=0;f<T.length;f+=C)m.push(T[f]);return m}},35140:function(at,N,t){"use strict";t.d(N,{b:function(){return d}});function d(T,y,C){C===void 0&&(C=!1);var m=T.getBBox(),f=m.width,h=m.height,v=y/Math.max(f,h);return C&&(T.style.transform="scale(".concat(v,")")),v}},82750:function(at,N,t){"use strict";t.d(N,{OV:function(){return o},Ys:function(){return v}});var d=t(15767),T=t(42204),y=t(81614),C=t(35315),m=t(97782);function f(r){throw new Error(r)}var h=function(){function r(c,E,p,e,i,n,l){c===void 0&&(c=null),E===void 0&&(E=null),p===void 0&&(p=null),e===void 0&&(e=null),i===void 0&&(i=[null,null,null,null,null]),n===void 0&&(n=[]),l===void 0&&(l=[]),a.add(this),this._elements=Array.from(c),this._data=E,this._parent=p,this._document=e,this._enter=i[0],this._update=i[1],this._exit=i[2],this._merge=i[3],this._split=i[4],this._transitions=n,this._facetElements=l}r.prototype.selectAll=function(c){var E=typeof c=="string"?this._parent.querySelectorAll(c):c;return new s(E,null,this._elements[0],this._document)},r.prototype.selectFacetAll=function(c){var E=typeof c=="string"?this._parent.querySelectorAll(c):c;return new s(this._elements,null,this._parent,this._document,void 0,void 0,E)},r.prototype.select=function(c){var E=typeof c=="string"?this._parent.querySelectorAll(c)[0]||null:c;return new s([E],null,E,this._document)},r.prototype.append=function(c){var E=this,p=typeof c=="function"?c:function(){return E.createElement(c)},e=[];if(this._data!==null){for(var i=0;i<this._data.length;i++){var n=this._data[i],l=(0,d.CR)(Array.isArray(n)?n:[n,null],2),M=l[0],O=l[1],D=p(M,i);D.__data__=M,O!==null&&(D.__fromElements__=O),this._parent.appendChild(D),e.push(D)}return new s(e,null,this._parent,this._document)}for(var i=0;i<this._elements.length;i++){var P=this._elements[i],M=P.__data__,D=p(M,i);P.appendChild(D),e.push(D)}return new s(e,null,e[0],this._document)},r.prototype.maybeAppend=function(c,E){var p=(0,d.Q_)(this,a,"m",u).call(this,c[0]==="#"?c:"#".concat(c),E);return p.attr("id",c),p},r.prototype.maybeAppendByClassName=function(c,E){var p=c.toString(),e=(0,d.Q_)(this,a,"m",u).call(this,p[0]==="."?p:".".concat(p),E);return e.attr("className",p),e},r.prototype.maybeAppendByName=function(c,E){var p=(0,d.Q_)(this,a,"m",u).call(this,'[name="'.concat(c,'"]'),E);return p.attr("name",c),p},r.prototype.data=function(c,E,p){var e,i;E===void 0&&(E=function(H){return H}),p===void 0&&(p=function(){return null});for(var n=[],l=[],M=new Set(this._elements),O=[],D=new Set,P=new Map(this._elements.map(function(H,Y){return[E(H.__data__,Y),H]})),b=new Map(this._facetElements.map(function(H,Y){return[E(H.__data__,Y),H]})),x=(0,m.r)(this._elements,function(H){return p(H.__data__)}),L=0;L<c.length;L++){var S=c[L],K=E(S,L),U=p(S,L);if(P.has(K)){var j=P.get(K);j.__data__=S,j.__facet__=!1,l.push(j),M.delete(j),P.delete(K)}else if(b.has(K)){var j=b.get(K);j.__data__=S,j.__facet__=!0,l.push(j),b.delete(K)}else if(x.has(K)){var F=x.get(K);O.push([S,F]);try{for(var W=(e=void 0,(0,d.XA)(F)),w=W.next();!w.done;w=W.next()){var j=w.value;M.delete(j)}}catch(H){e={error:H}}finally{try{w&&!w.done&&(i=W.return)&&i.call(W)}finally{if(e)throw e.error}}x.delete(K)}else if(P.has(U)){var j=P.get(U);j.__toData__?j.__toData__.push(S):j.__toData__=[S],D.add(j),M.delete(j)}else n.push(S)}var z=[new s([],n,this._parent,this._document),new s(l,null,this._parent,this._document),new s(M,null,this._parent,this._document),new s([],O,this._parent,this._document),new s(D,null,this._parent,this._document)];return new s(this._elements,null,this._parent,this._document,z)},r.prototype.merge=function(c){var E=(0,d.ev)((0,d.ev)([],(0,d.CR)(this._elements),!1),(0,d.CR)(c._elements),!1),p=(0,d.ev)((0,d.ev)([],(0,d.CR)(this._transitions),!1),(0,d.CR)(c._transitions),!1);return new s(E,null,this._parent,this._document,void 0,p)},r.prototype.createElement=function(c){if(this._document)return this._document.createElement(c,{});var E=s.registry[c];return E?new E:f("Unknown node type: ".concat(c))},r.prototype.join=function(c,E,p,e,i){c===void 0&&(c=function(P){return P}),E===void 0&&(E=function(P){return P}),p===void 0&&(p=function(P){return P.remove()}),e===void 0&&(e=function(P){return P}),i===void 0&&(i=function(P){return P.remove()});var n=c(this._enter),l=E(this._update),M=p(this._exit),O=e(this._merge),D=i(this._split);return l.merge(n).merge(M).merge(O).merge(D)},r.prototype.remove=function(){for(var c=function(e){var i=E._elements[e],n=E._transitions[e];n?n.then(function(){return i.remove()}):i.remove()},E=this,p=0;p<this._elements.length;p++)c(p);return new s([],null,this._parent,this._document,void 0,this._transitions)},r.prototype.each=function(c){for(var E=0;E<this._elements.length;E++){var p=this._elements[E],e=p.__data__;c.call(p,e,E)}return this},r.prototype.attr=function(c,E){var p=typeof E!="function"?function(){return E}:E;return this.each(function(e,i){E!==void 0&&(this[c]=p.call(this,e,i))})},r.prototype.style=function(c,E,p){p===void 0&&(p=!0);var e=typeof E!="function"||!p?function(){return E}:E;return this.each(function(i,n){E!==void 0&&(this.style[c]=e.call(this,i,n))})},r.prototype.styles=function(c,E){return c===void 0&&(c={}),E===void 0&&(E=!0),this.each(function(p,e){var i=this;Object.entries(c).forEach(function(n){var l=(0,d.CR)(n,2),M=l[0],O=l[1],D=typeof O!="function"||!E?function(){return O}:O;O!==void 0&&i.attr(M,D.call(i,p,e))})})},r.prototype.update=function(c,E){E===void 0&&(E=!0);var p=typeof c!="function"||!E?function(){return c}:c;return this.each(function(e,i){c&&this.update&&this.update(p.call(this,e,i))})},r.prototype.maybeUpdate=function(c,E){E===void 0&&(E=!0);var p=typeof c!="function"||!E?function(){return c}:c;return this.each(function(e,i){c&&this.update&&this.update(p.call(this,e,i))})},r.prototype.transition=function(c){var E=this._transitions,p=new Array(this._elements.length);return this.each(function(e,i){p[i]=c.call(this,e,i)}),this._transitions=(0,T.Z)(p),this},r.prototype.on=function(c,E){return this.each(function(){this.addEventListener(c,E)}),this},r.prototype.call=function(c){for(var E=[],p=1;p<arguments.length;p++)E[p-1]=arguments[p];return c.call.apply(c,(0,d.ev)([this._parent,this],(0,d.CR)(E),!1)),this},r.prototype.node=function(){return this._elements[0]},r.prototype.nodes=function(){return this._elements},r.prototype.transitions=function(){return this._transitions.filter(function(c){return!!c})},r.prototype.parent=function(){return this._parent};var a,s,u;return s=r,a=new WeakSet,u=function(E,p){var e=this._elements[0],i=e.querySelector(E);if(i)return new s([i],null,this._parent,this._document);var n=typeof p=="string"?this.createElement(p):p();return e.appendChild(n),new s([n],null,this._parent,this._document)},r.registry={g:y.ZA,rect:y.UL,circle:y.Cd,path:y.y$,text:C.x,ellipse:y.Pj,image:y.Ee,line:y.x1,polygon:y.mg,polyline:y.aH,html:y.k9},r}();function v(r){return new h([r],null,r,r.ownerDocument)}function o(r,a,s){return r.querySelector(a)?v(r).select(a):v(r).append(s)}},60698:function(at,N,t){"use strict";t.d(N,{j:function(){return y}});var d=t(26912),T=t(83262);function y(C){if((0,d.Z)(C))return[C,C,C,C];if((0,T.Z)(C)){var m=C.length;if(m===1)return[C[0],C[0],C[0],C[0]];if(m===2)return[C[0],C[1],C[0],C[1]];if(m===3)return[C[0],C[1],C[2],C[1]];if(m===4)return C}return[0,0,0,0]}},32497:function(at,N,t){"use strict";t.d(N,{DM:function(){return h},_v:function(){return y},wE:function(){return m}});var d=t(15767);function T(v){var o=v&&v.getRenderBounds();if(!o)return{width:0,height:0};var r=o.getMax(),a=o.getMin();return{width:r[0]-a[0],height:r[1]-a[1]}}function y(v){var o=v.getLocalBounds(),r=o.min,a=o.max,s=(0,d.CR)([r,a],2),u=(0,d.CR)(s[0],2),c=u[0],E=u[1],p=(0,d.CR)(s[1],2),e=p[0],i=p[1];return{x:c,y:E,width:e-c,height:i-E,left:c,bottom:i,top:E,right:e}}function C(v,o){var r=select(v).append("text").node();return r.attr(__assign(__assign({},o),{visibility:"hidden"})),r}function m(v,o){var r=(0,d.CR)(v,2),a=r[0],s=r[1],u=(0,d.CR)(o,2),c=u[0],E=u[1];return a!==c&&s===E}function f(v,o){var r=__read(v,2),a=r[0],s=r[1],u=__read(o,2),c=u[0],E=u[1];return a===c&&s!==E}function h(v,o){var r,a,s=o.attributes;try{for(var u=(0,d.XA)(Object.entries(s)),c=u.next();!c.done;c=u.next()){var E=(0,d.CR)(c.value,2),p=E[0],e=E[1];p!=="id"&&p!=="className"&&v.attr(p,e)}}catch(i){r={error:i}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(r)throw r.error}}}},99131:function(at,N,t){"use strict";t.d(N,{KQ:function(){return d},Qm:function(){return C},U9:function(){return y}});function d(m){return m.toString().charAt(0).toUpperCase()+m.toString().slice(1)}function T(m){return m.toString().charAt(0).toLowerCase()+m.toString().slice(1)}function y(m,f){return"".concat(f).concat(d(m))}function C(m,f,h){var v;h===void 0&&(h=!0);var o=f||((v=m.match(/^([a-z][a-z0-9]+)/))===null||v===void 0?void 0:v[0])||"",r=m.replace(new RegExp("^(".concat(o,")")),"");return h?T(r):r}},16841:function(at,N,t){"use strict";t.d(N,{Hm:function(){return h},MC:function(){return y},dq:function(){return f},zs:function(){return m}});var d=t(15767),T=t(99131);function y(v,o){Object.entries(o).forEach(function(r){var a=(0,d.CR)(r,2),s=a[0],u=a[1];(0,d.ev)([v],(0,d.CR)(v.querySelectorAll(s)),!1).filter(function(c){return c.matches(s)}).forEach(function(c){if(c){var E=c;E.style.cssText+=Object.entries(u).reduce(function(p,e){return"".concat(p).concat(e.join(":"),";")},"")}})})}var C=function(v,o){if(!(v!=null&&v.startsWith(o)))return!1;var r=v[o.length];return r>="A"&&r<="Z"};function m(v,o,r){r===void 0&&(r=!1);var a={};return Object.entries(v).forEach(function(s){var u=(0,d.CR)(s,2),c=u[0],E=u[1];if(!(c==="className"||c==="class")){if(C(c,"show")&&C((0,T.Qm)(c,"show"),o)!==r)c===(0,T.U9)(o,"show")?a[c]=E:a[c.replace(new RegExp((0,T.KQ)(o)),"")]=E;else if(!C(c,"show")&&C(c,o)!==r){var p=(0,T.Qm)(c,o);p==="filter"&&typeof E=="function"||(a[p]=E)}}}),a}function f(v,o){return Object.entries(v).reduce(function(r,a){var s=(0,d.CR)(a,2),u=s[0],c=s[1];return u.startsWith("show")?r["show".concat(o).concat(u.slice(4))]=c:r["".concat(o).concat((0,T.KQ)(u))]=c,r},{})}function h(v,o){o===void 0&&(o=["x","y","class","className"]);var r=["transform","transformOrigin","anchor","visibility","pointerEvents","zIndex","cursor","clipPath","clipPathTargets","offsetPath","offsetPathTargets","offsetDistance","draggable","droppable"],a={},s={};return Object.entries(v).forEach(function(u){var c=(0,d.CR)(u,2),E=c[0],p=c[1];o.includes(E)||(r.indexOf(E)!==-1?s[E]=p:a[E]=p)}),[a,s]}},9075:function(at,N,t){"use strict";t.d(N,{Rm:function(){return o},U4:function(){return v},Ux:function(){return f},qT:function(){return h}});var d=t(81614),T=t(15427),y,C;function m(r){C=r}var f=(0,T.Z)(function(r,a){var s=a.fontSize,u=a.fontFamily,c=a.fontWeight,E=a.fontStyle,p=a.fontVariant;return C?C(r,s):(y||(y=d.GZ.offscreenCanvasCreator.getOrCreateContext(void 0)),y.font=[E,p,c,"".concat(s,"px"),u].join(" "),y.measureText(r).width)},function(r,a){return[r,Object.values(a||h(r)).join()].join("")},4096),h=function(r){var a=r.style.fontFamily||"sans-serif",s=r.style.fontWeight||"normal",u=r.style.fontStyle||"normal",c=r.style.fontVariant,E=r.style.fontSize;return E=typeof E=="object"?E.value:E,{fontSize:E,fontFamily:a,fontWeight:s,fontStyle:u,fontVariant:c}};function v(r){return r.nodeName==="text"?r:r.nodeName==="g"&&r.children.length===1&&r.children[0].nodeName==="text"?r.children[0]:null}function o(r,a){var s=v(r);s&&s.attr(a)}},85104:function(at,N,t){"use strict";t.d(N,{mr:function(){return m}});var d=null,T=null;function y(o){return o instanceof Date?o:new Date(o)}function C(o){for(var r=__read(o,2),a=r[0],s=r[1],u=d.indexOf(a),c=d.indexOf(s),E="",p=u;p<=c;p+=1)if(E+=T[p],p<c){var e="-";p===2?e=" ":p>2&&(e=":"),E+=e}return E}function m(o,r){var a={YYYY:o.getFullYear(),MM:o.getMonth()+1,DD:o.getDate(),HH:o.getHours(),mm:o.getMinutes(),ss:o.getSeconds()},s=r;return Object.keys(a).forEach(function(u){var c=a[u];s=s.replace(u,u==="YYYY"?"".concat(c):"".concat(c).padStart(2,"0"))}),s}function f(o,r){return y(o).getTime()-y(r).getTime()}function h(o,r){var a=__read([y(o),y(r)],2),s=a[0],u=a[1];return s.getFullYear()!==u.getFullYear()?"year":s.getMonth()!==u.getMonth()?"month":s.getDay()!==u.getDay()?"day":s.getHours()!==u.getHours()?"hour":s.getMinutes()!==u.getMinutes()?"minute":"second"}function v(o,r){var a=new Date(o),s={year:function(u){u.setMonth(0),u.setHours(0,0,0,0)},month:function(u){u.setDate(1),u.setHours(0,0,0,0)},day:function(u){return u.setHours(0,0,0,0)},hour:function(u){return u.setMinutes(0,0,0)},minute:function(u){return u.setSeconds(0,0)},second:function(u){return u.setMilliseconds(0)}};return s[r](a),m(a,C(["year",r]))}},34309:function(at,N,t){"use strict";t.d(N,{e:function(){return y}});var d=t(15767);function T(C,m,f){var h=C.getBBox(),v=h.width,o=h.height,r=(0,d.CR)([m,f].map(function(u,c){var E;return u.includes("%")?parseFloat(((E=u.match(/[+-]?([0-9]*[.])?[0-9]+/))===null||E===void 0?void 0:E[0])||"0")/100*(c===0?v:o):u}),2),a=r[0],s=r[1];return[a,s]}function y(C,m){if(m)try{var f=/translate\(([+-]*[\d]+[%]*),[ ]*([+-]*[\d]+[%]*)\)/g,h=m.replace(f,function(v,o,r){return"translate(".concat(T(C,o,r),")")});C.attr("transform",h)}catch(v){}}},52862:function(at,N,t){"use strict";t.d(N,{p:function(){return d}});function d(T){var y;return((y=T[0])===null||y===void 0?void 0:y.map(function(C,m){return T.map(function(f){return f[m]})}))||[]}},40343:function(at,N,t){"use strict";t.d(N,{f:function(){return d}});function d(T,y){y(T),T.children&&T.children.forEach(function(C){C&&d(C,y)})}},57170:function(at,N,t){"use strict";t.d(N,{$Z:function(){return T},Cp:function(){return y},WD:function(){return C}});var d=t(40343);function T(m){C(m,!0)}function y(m){C(m,!1)}function C(m,f){var h=f?"visible":"hidden";(0,d.f)(m,function(v){v.attr("visibility",h)})}},14116:function(at,N,t){"use strict";t.d(N,{A:function(){return T}});var d=t(9075);function T(y,C,m,f){m===void 0&&(m=2),f===void 0&&(f="top"),(0,d.Rm)(y,{wordWrap:!0,wordWrapWidth:C,maxLines:m,textBaseline:f})}},72112:function(at,N,t){"use strict";var d=t(46911),T=t(76132),y=t(99190),C=t(87974),m=t(61912),f=t(27412),h=t(26912),v=t(10953),o=t(14690),r=t(35136);var a=function(s){function u(){var c;(0,T.Z)(this,u);for(var E=arguments.length,p=new Array(E),e=0;e<E;e++)p[e]=arguments[e];return c=(0,C.Z)(this,u,[].concat(p)),c.landmarks=[],c}return(0,m.Z)(u,s),(0,y.Z)(u,[{key:"rotate",value:function(E,p,e){if(this.relElevation=(0,d._O)(p),this.relAzimuth=(0,d._O)(E),this.relRoll=(0,d._O)(e),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.type===d.iM.EXPLORING){var i=v.yY(v.Ue(),[1,0,0],(0,d.Vl)((this.rotateWorld?1:-1)*this.relElevation)),n=v.yY(v.Ue(),[0,1,0],(0,d.Vl)((this.rotateWorld?1:-1)*this.relAzimuth)),l=v.yY(v.Ue(),[0,0,1],(0,d.Vl)(this.relRoll)),M=v.Jp(v.Ue(),n,i);M=v.Jp(v.Ue(),M,l);var O=o.fromQuat(o.create(),M);o.translate(this.matrix,this.matrix,[0,0,-this.distance]),o.multiply(this.matrix,this.matrix,O),o.translate(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation)>90)return this;this.computeMatrix()}return this._getAxes(),this.type===d.iM.ORBITING||this.type===d.iM.EXPLORING?this._getPosition():this.type===d.iM.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(E,p){var e=(0,d.O4)(E,p,0),i=r.d9(this.position);return r.IH(i,i,r.bA(r.Ue(),this.right,e[0])),r.IH(i,i,r.bA(r.Ue(),this.up,e[1])),this._setPosition(i),this.triggerUpdate(),this}},{key:"dolly",value:function(E){var p=this.forward,e=r.d9(this.position),i=E*this.dollyingStep,n=this.distance+E*this.dollyingStep;return i=Math.max(Math.min(n,this.maxDistance),this.minDistance)-this.distance,e[0]+=i*p[0],e[1]+=i*p[1],e[2]+=i*p[2],this._setPosition(e),this.type===d.iM.ORBITING||this.type===d.iM.EXPLORING?this._getDistance():this.type===d.iM.TRACKING&&r.IH(this.focalPoint,e,this.distanceVector),this.triggerUpdate(),this}},{key:"cancelLandmarkAnimation",value:function(){this.landmarkAnimationID!==void 0&&this.canvas.cancelAnimationFrame(this.landmarkAnimationID)}},{key:"createLandmark",value:function(E){var p,e,i,n,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},M=l.position,O=M===void 0?this.position:M,D=l.focalPoint,P=D===void 0?this.focalPoint:D,b=l.roll,x=l.zoom,L=new d.GZ.CameraContribution;L.setType(this.type,void 0),L.setPosition(O[0],(p=O[1])!==null&&p!==void 0?p:this.position[1],(e=O[2])!==null&&e!==void 0?e:this.position[2]),L.setFocalPoint(P[0],(i=P[1])!==null&&i!==void 0?i:this.focalPoint[1],(n=P[2])!==null&&n!==void 0?n:this.focalPoint[2]),L.setRoll(b!=null?b:this.roll),L.setZoom(x!=null?x:this.zoom);var S={name:E,matrix:o.clone(L.getWorldTransform()),right:r.d9(L.right),up:r.d9(L.up),forward:r.d9(L.forward),position:r.d9(L.getPosition()),focalPoint:r.d9(L.getFocalPoint()),distanceVector:r.d9(L.getDistanceVector()),distance:L.getDistance(),dollyingStep:L.getDollyingStep(),azimuth:L.getAzimuth(),elevation:L.getElevation(),roll:L.getRoll(),relAzimuth:L.relAzimuth,relElevation:L.relElevation,relRoll:L.relRoll,zoom:L.getZoom()};return this.landmarks.push(S),S}},{key:"gotoLandmark",value:function(E){var p=this,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=(0,f.Z)(E)?this.landmarks.find(function($){return $.name===E}):E;if(i){var n=(0,h.Z)(e)?{duration:e}:e,l=n.easing,M=l===void 0?"linear":l,O=n.duration,D=O===void 0?100:O,P=n.easingFunction,b=P===void 0?void 0:P,x=n.onfinish,L=x===void 0?void 0:x,S=n.onframe,K=S===void 0?void 0:S,U=.01;this.cancelLandmarkAnimation();var j=i.position,F=i.focalPoint,W=i.zoom,w=i.roll,z=b||d.GZ.EasingFunction(M),H,Y=function(){p.setFocalPoint(F),p.setPosition(j),p.setRoll(w),p.setZoom(W),p.computeMatrix(),p.triggerUpdate(),L==null||L()};if(D===0)return Y();var V=function(J){H===void 0&&(H=J);var rt=J-H;if(rt>=D){Y();return}var lt=z(rt/D),tt=r.Ue(),G=r.Ue(),nt=1,ut=0;r.t7(tt,p.focalPoint,F,lt),r.t7(G,p.position,j,lt),ut=p.roll*(1-lt)+w*lt,nt=p.zoom*(1-lt)+W*lt,p.setFocalPoint(tt),p.setPosition(G),p.setRoll(ut),p.setZoom(nt);var dt=r.TK(tt,F)+r.TK(G,j);if(dt<=U&&W===void 0&&w===void 0)return Y();p.computeMatrix(),p.triggerUpdate(),rt<D&&(K==null||K(lt),p.landmarkAnimationID=p.canvas.requestAnimationFrame(V))};this.canvas.requestAnimationFrame(V)}}}])}(d.V1);d.GZ.CameraContribution=a},61075:function(at,N,t){"use strict";t.d(N,{Th:function(){return e}});var d=t(99190),T=t(76132),y=t(87974),C=t(61912),m=t(46911),f=t(80110),h=t(81003),v=t(89445),o=t(49832),r=t(48745),a=t(46689),s=t(94882),u=t(7556),c=t(27412);var E=function(){function i(n){(0,T.Z)(this,i),this.renderingContext=n.renderingContext,this.canvasConfig=n.config}return(0,d.Z)(i,[{key:"init",value:function(){var l=this.canvasConfig,M=l.container,O=l.canvas;if(O)this.$canvas=O,M&&O.parentElement!==M&&M.appendChild(O),this.$container=O.parentElement,this.canvasConfig.container=this.$container;else if(M&&(this.$container=(0,c.Z)(M)?document.getElementById(M):M,this.$container)){var D=document.createElement("canvas");this.$container.appendChild(D),this.$container.style.position||(this.$container.style.position="relative"),this.$canvas=D}this.context=this.$canvas.getContext("2d"),this.resize(this.canvasConfig.width,this.canvasConfig.height)}},{key:"getContext",value:function(){return this.context}},{key:"getDomElement",value:function(){return this.$canvas}},{key:"getDPR",value:function(){return this.dpr}},{key:"getBoundingClientRect",value:function(){if(this.$canvas.getBoundingClientRect)return this.$canvas.getBoundingClientRect()}},{key:"destroy",value:function(){this.$container&&this.$canvas&&this.$canvas.parentNode&&this.$container.removeChild(this.$canvas)}},{key:"resize",value:function(l,M){var O=this.canvasConfig.devicePixelRatio;this.dpr=O,this.$canvas&&(this.$canvas.width=this.dpr*l,this.$canvas.height=this.dpr*M,(0,m.$p)(this.$canvas,l,M)),this.renderingContext.renderReasons.add(m.Rr.CAMERA_CHANGED)}},{key:"applyCursorStyle",value:function(l){this.$container&&this.$container.style&&(this.$container.style.cursor=l)}},{key:"toDataURL",value:function(){var n=(0,u.Z)((0,s.Z)().mark(function M(){var O,D,P,b=arguments;return(0,s.Z)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return O=b.length>0&&b[0]!==void 0?b[0]:{},D=O.type,P=O.encoderOptions,x.abrupt("return",this.context.canvas.toDataURL(D,P));case 1:case"end":return x.stop()}},M,this)}));function l(){return n.apply(this,arguments)}return l}()}])}(),p=function(i){function n(){var l;(0,T.Z)(this,n);for(var M=arguments.length,O=new Array(M),D=0;D<M;D++)O[D]=arguments[D];return l=(0,y.Z)(this,n,[].concat(O)),l.name="canvas-context-register",l}return(0,C.Z)(n,i),(0,d.Z)(n,[{key:"init",value:function(){this.context.ContextService=E}},{key:"destroy",value:function(){delete this.context.ContextService}}])}(m.F6),e=function(i){function n(l){var M;return(0,T.Z)(this,n),M=(0,y.Z)(this,n,[l]),M.registerPlugin(new p),M.registerPlugin(new a.S),M.registerPlugin(new f.S),M.registerPlugin(new v.Sy),M.registerPlugin(new o.S),M.registerPlugin(new h.S),M.registerPlugin(new r.S),M}return(0,C.Z)(n,i),(0,d.Z)(n)}(m.I8)},31916:function(at,N,t){"use strict";var d=t(46911);var T=null,y=0,C=new WeakMap,m=null,f=null,h,v;function o(l,M){return h=new T(l,M)}function r(l){return v||(v=T.copy(h),v.oldValue=l,v)}function a(){h=v=void 0}function s(l){return l===v||l===h}function u(l,M){return l===M?l:v&&s(l)?v:null}function c(l){l.nodes.forEach(function(M){var O=C.get(M);O&&O.forEach(function(D){D.observer===l&&D.removeTransientObservers()})})}function E(l,M){for(var O=l;O;O=O.parentNode){var D=C.get(O);if(D)for(var P=0;P<D.length;P++){var b=D[P],x=b.options;if(!(O!==l&&!x.subtree)){var L=M(x);L&&b.enqueue(L)}}}}var p=!1,e=null;function i(l){e.push(l),p||(p=!0,typeof runtime.globalThis!="undefined"?runtime.globalThis.setTimeout(n):n())}function n(){p=!1;var l=e;e=[],l.sort(function(O,D){return O.uid-D.uid});var M=!1;l.forEach(function(O){var D=O.takeRecords();c(O),D.length&&(O.callback(D,O),M=!0)}),M&&n()}},46911:function(at,N,t){"use strict";t.d(N,{$6:function(){return Sn},$p:function(){return oo},Aw:function(){return fn},BB:function(){return ga},BV:function(){return St},Cd:function(){return si},Cm:function(){return pe},Dk:function(){return an},E9:function(){return Q},Ee:function(){return ui},F6:function(){return mt},G$:function(){return Fi},G0:function(){return aa},GL:function(){return Qn},GZ:function(){return se},I8:function(){return ot},L1:function(){return ho},N1:function(){return Vi},NB:function(){return He},O4:function(){return Dt},Oi:function(){return Yi},Pj:function(){return oi},R:function(){return Ci},RV:function(){return ze},Rr:function(){return ir},Rx:function(){return $a},UL:function(){return hi},V1:function(){return Oe},Vl:function(){return At},Xz:function(){return Wl},ZA:function(){return or},_O:function(){return yt},aH:function(){return fi},b_:function(){return _a},bn:function(){return et},gz:function(){return jr},iM:function(){return wt},jB:function(){return la},jf:function(){return ht},k9:function(){return li},mN:function(){return bt},mg:function(){return lr},nR:function(){return Mr},o6:function(){return Ya},qA:function(){return Kr},s$:function(){return $e},x1:function(){return ci},xA:function(){return yr},xv:function(){return Tr},y$:function(){return di}});var d=t(59942),T=t(76132),y=t(99190),C=t(87948),m=t(87974),f=t(61912),h=t(8818),v=t(73983),o=t(35136),r=t(72647),a=t(14690),s=t(61899),u=t(10953),c=t(75837),E=t(26912),p=t(35476),e=t(89148),i=t(27412),n=t(15378),l=t(59548),M=t(20203),O=t(7086),D=t(45378),P=t(44502),b=t(50758),x=t(60246),L=t(29873),S=t(63701),K=t(2854),U=t(62370),j=t(79011),F=t(36179),W=t(83262),w=t(29803),z=t(84237),H=t(70373),Y=t(59123),V=t(59125),$=t(46793),J=t(17457),rt=t(94882),lt=t(7556),tt=t(36249),G=t(41766);var nt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof t.g!="undefined"?t.g:typeof self!="undefined"?self:{},ut={exports:{}};(function(A,I){(function(_,g){A.exports=g()})(nt,function(){function _($t,kt,jt,Yt,de){g($t,kt,jt||0,Yt||$t.length-1,de||Z)}function g($t,kt,jt,Yt,de){for(;Yt>jt;){if(Yt-jt>600){var le=Yt-jt+1,ge=kt-jt+1,fe=Math.log(le),Pe=.5*Math.exp(2*fe/3),xe=.5*Math.sqrt(fe*Pe*(le-Pe)/le)*(ge-le/2<0?-1:1),Ie=Math.max(jt,Math.floor(kt-ge*Pe/le+xe)),Be=Math.min(Yt,Math.floor(kt+(le-ge)*Pe/le+xe));g($t,kt,Ie,Be,de)}var ye=$t[kt],Ae=jt,Re=Yt;for(R($t,jt,kt),de($t[Yt],ye)>0&&R($t,jt,Yt);Ae<Re;){for(R($t,Ae,Re),Ae++,Re--;de($t[Ae],ye)<0;)Ae++;for(;de($t[Re],ye)>0;)Re--}de($t[jt],ye)===0?R($t,jt,Re):(Re++,R($t,Re,Yt)),Re<=kt&&(jt=Re+1),kt<=Re&&(Yt=Re-1)}}function R($t,kt,jt){var Yt=$t[kt];$t[kt]=$t[jt],$t[jt]=Yt}function Z($t,kt){return $t<kt?-1:$t>kt?1:0}var k=function(kt){kt===void 0&&(kt=9),this._maxEntries=Math.max(4,kt),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()};k.prototype.all=function(){return this._all(this.data,[])},k.prototype.search=function(kt){var jt=this.data,Yt=[];if(!Xt(kt,jt))return Yt;for(var de=this.toBBox,le=[];jt;){for(var ge=0;ge<jt.children.length;ge++){var fe=jt.children[ge],Pe=jt.leaf?de(fe):fe;Xt(kt,Pe)&&(jt.leaf?Yt.push(fe):te(kt,Pe)?this._all(fe,Yt):le.push(fe))}jt=le.pop()}return Yt},k.prototype.collides=function(kt){var jt=this.data;if(!Xt(kt,jt))return!1;for(var Yt=[];jt;){for(var de=0;de<jt.children.length;de++){var le=jt.children[de],ge=jt.leaf?this.toBBox(le):le;if(Xt(kt,ge)){if(jt.leaf||te(kt,ge))return!0;Yt.push(le)}}jt=Yt.pop()}return!1},k.prototype.load=function(kt){if(!(kt&&kt.length))return this;if(kt.length<this._minEntries){for(var jt=0;jt<kt.length;jt++)this.insert(kt[jt]);return this}var Yt=this._build(kt.slice(),0,kt.length-1,0);if(!this.data.children.length)this.data=Yt;else if(this.data.height===Yt.height)this._splitRoot(this.data,Yt);else{if(this.data.height<Yt.height){var de=this.data;this.data=Yt,Yt=de}this._insert(Yt,this.data.height-Yt.height-1,!0)}return this},k.prototype.insert=function(kt){return kt&&this._insert(kt,this.data.height-1),this},k.prototype.clear=function(){return this.data=ne([]),this},k.prototype.remove=function(kt,jt){if(!kt)return this;for(var Yt=this.data,de=this.toBBox(kt),le=[],ge=[],fe,Pe,xe;Yt||le.length;){if(Yt||(Yt=le.pop(),Pe=le[le.length-1],fe=ge.pop(),xe=!0),Yt.leaf){var Ie=q(kt,Yt.children,jt);if(Ie!==-1)return Yt.children.splice(Ie,1),le.push(Yt),this._condense(le),this}!xe&&!Yt.leaf&&te(Yt,de)?(le.push(Yt),ge.push(fe),fe=0,Pe=Yt,Yt=Yt.children[0]):Pe?(fe++,Yt=Pe.children[fe],xe=!1):Yt=null}return this},k.prototype.toBBox=function(kt){return kt},k.prototype.compareMinX=function(kt,jt){return kt.minX-jt.minX},k.prototype.compareMinY=function(kt,jt){return kt.minY-jt.minY},k.prototype.toJSON=function(){return this.data},k.prototype.fromJSON=function(kt){return this.data=kt,this},k.prototype._all=function(kt,jt){for(var Yt=[];kt;)kt.leaf?jt.push.apply(jt,kt.children):Yt.push.apply(Yt,kt.children),kt=Yt.pop();return jt},k.prototype._build=function(kt,jt,Yt,de){var le=Yt-jt+1,ge=this._maxEntries,fe;if(le<=ge)return fe=ne(kt.slice(jt,Yt+1)),it(fe,this.toBBox),fe;de||(de=Math.ceil(Math.log(le)/Math.log(ge)),ge=Math.ceil(le/Math.pow(ge,de-1))),fe=ne([]),fe.leaf=!1,fe.height=de;var Pe=Math.ceil(le/ge),xe=Pe*Math.ceil(Math.sqrt(ge));Ee(kt,jt,Yt,xe,this.compareMinX);for(var Ie=jt;Ie<=Yt;Ie+=xe){var Be=Math.min(Ie+xe-1,Yt);Ee(kt,Ie,Be,Pe,this.compareMinY);for(var ye=Ie;ye<=Be;ye+=Pe){var Ae=Math.min(ye+Pe-1,Be);fe.children.push(this._build(kt,ye,Ae,de-1))}}return it(fe,this.toBBox),fe},k.prototype._chooseSubtree=function(kt,jt,Yt,de){for(;de.push(jt),!(jt.leaf||de.length-1===Yt);){for(var le=1/0,ge=1/0,fe=void 0,Pe=0;Pe<jt.children.length;Pe++){var xe=jt.children[Pe],Ie=Kt(xe),Be=Gt(kt,xe)-Ie;Be<ge?(ge=Be,le=Ie<le?Ie:le,fe=xe):Be===ge&&Ie<le&&(le=Ie,fe=xe)}jt=fe||jt.children[0]}return jt},k.prototype._insert=function(kt,jt,Yt){var de=Yt?kt:this.toBBox(kt),le=[],ge=this._chooseSubtree(de,this.data,jt,le);for(ge.children.push(kt),Pt(ge,de);jt>=0&&le[jt].children.length>this._maxEntries;)this._split(le,jt),jt--;this._adjustParentBBoxes(de,le,jt)},k.prototype._split=function(kt,jt){var Yt=kt[jt],de=Yt.children.length,le=this._minEntries;this._chooseSplitAxis(Yt,le,de);var ge=this._chooseSplitIndex(Yt,le,de),fe=ne(Yt.children.splice(ge,Yt.children.length-ge));fe.height=Yt.height,fe.leaf=Yt.leaf,it(Yt,this.toBBox),it(fe,this.toBBox),jt?kt[jt-1].children.push(fe):this._splitRoot(Yt,fe)},k.prototype._splitRoot=function(kt,jt){this.data=ne([kt,jt]),this.data.height=kt.height+1,this.data.leaf=!1,it(this.data,this.toBBox)},k.prototype._chooseSplitIndex=function(kt,jt,Yt){for(var de,le=1/0,ge=1/0,fe=jt;fe<=Yt-jt;fe++){var Pe=vt(kt,0,fe,this.toBBox),xe=vt(kt,fe,Yt,this.toBBox),Ie=Jt(Pe,xe),Be=Kt(Pe)+Kt(xe);Ie<le?(le=Ie,de=fe,ge=Be<ge?Be:ge):Ie===le&&Be<ge&&(ge=Be,de=fe)}return de||Yt-jt},k.prototype._chooseSplitAxis=function(kt,jt,Yt){var de=kt.leaf?this.compareMinX:xt,le=kt.leaf?this.compareMinY:Wt,ge=this._allDistMargin(kt,jt,Yt,de),fe=this._allDistMargin(kt,jt,Yt,le);ge<fe&&kt.children.sort(de)},k.prototype._allDistMargin=function(kt,jt,Yt,de){kt.children.sort(de);for(var le=this.toBBox,ge=vt(kt,0,jt,le),fe=vt(kt,Yt-jt,Yt,le),Pe=Nt(ge)+Nt(fe),xe=jt;xe<Yt-jt;xe++){var Ie=kt.children[xe];Pt(ge,kt.leaf?le(Ie):Ie),Pe+=Nt(ge)}for(var Be=Yt-jt-1;Be>=jt;Be--){var ye=kt.children[Be];Pt(fe,kt.leaf?le(ye):ye),Pe+=Nt(fe)}return Pe},k.prototype._adjustParentBBoxes=function(kt,jt,Yt){for(var de=Yt;de>=0;de--)Pt(jt[de],kt)},k.prototype._condense=function(kt){for(var jt=kt.length-1,Yt=void 0;jt>=0;jt--)kt[jt].children.length===0?jt>0?(Yt=kt[jt-1].children,Yt.splice(Yt.indexOf(kt[jt]),1)):this.clear():it(kt[jt],this.toBBox)};function q($t,kt,jt){if(!jt)return kt.indexOf($t);for(var Yt=0;Yt<kt.length;Yt++)if(jt($t,kt[Yt]))return Yt;return-1}function it($t,kt){vt($t,0,$t.children.length,kt,$t)}function vt($t,kt,jt,Yt,de){de||(de=ne(null)),de.minX=1/0,de.minY=1/0,de.maxX=-1/0,de.maxY=-1/0;for(var le=kt;le<jt;le++){var ge=$t.children[le];Pt(de,$t.leaf?Yt(ge):ge)}return de}function Pt($t,kt){return $t.minX=Math.min($t.minX,kt.minX),$t.minY=Math.min($t.minY,kt.minY),$t.maxX=Math.max($t.maxX,kt.maxX),$t.maxY=Math.max($t.maxY,kt.maxY),$t}function xt($t,kt){return $t.minX-kt.minX}function Wt($t,kt){return $t.minY-kt.minY}function Kt($t){return($t.maxX-$t.minX)*($t.maxY-$t.minY)}function Nt($t){return $t.maxX-$t.minX+($t.maxY-$t.minY)}function Gt($t,kt){return(Math.max(kt.maxX,$t.maxX)-Math.min(kt.minX,$t.minX))*(Math.max(kt.maxY,$t.maxY)-Math.min(kt.minY,$t.minY))}function Jt($t,kt){var jt=Math.max($t.minX,kt.minX),Yt=Math.max($t.minY,kt.minY),de=Math.min($t.maxX,kt.maxX),le=Math.min($t.maxY,kt.maxY);return Math.max(0,de-jt)*Math.max(0,le-Yt)}function te($t,kt){return $t.minX<=kt.minX&&$t.minY<=kt.minY&&kt.maxX<=$t.maxX&&kt.maxY<=$t.maxY}function Xt($t,kt){return kt.minX<=$t.maxX&&kt.minY<=$t.maxY&&kt.maxX>=$t.minX&&kt.maxY>=$t.minY}function ne($t){return{children:$t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Ee($t,kt,jt,Yt,de){for(var le=[kt,jt];le.length;)if(jt=le.pop(),kt=le.pop(),!(jt-kt<=Yt)){var ge=kt+Math.ceil((jt-kt)/Yt/2)*Yt;_($t,ge,kt,jt,de),le.push(kt,ge,ge,jt)}}return k})})(ut);var dt=ut.exports,et=function(A){return A.GROUP="g",A.FRAGMENT="fragment",A.CIRCLE="circle",A.ELLIPSE="ellipse",A.IMAGE="image",A.RECT="rect",A.LINE="line",A.POLYLINE="polyline",A.POLYGON="polygon",A.TEXT="text",A.PATH="path",A.HTML="html",A.MESH="mesh",A}({}),_t=function(A){return A[A.ZERO=0]="ZERO",A[A.NEGATIVE_ONE=1]="NEGATIVE_ONE",A}({}),mt=function(){function A(){(0,T.Z)(this,A),this.plugins=[]}return(0,y.Z)(A,[{key:"addRenderingPlugin",value:function(_){this.plugins.push(_),this.context.renderingPlugins.push(_)}},{key:"removeAllRenderingPlugins",value:function(){var _=this;this.plugins.forEach(function(g){var R=_.context.renderingPlugins.indexOf(g);R>=0&&_.context.renderingPlugins.splice(R,1)})}}])}(),ot=function(){function A(I){(0,T.Z)(this,A),this.clipSpaceNearZ=_t.NEGATIVE_ONE,this.plugins=[],this.config=(0,d.Z)({enableDirtyCheck:!0,enableCulling:!1,enableAutoRendering:!0,enableDirtyRectangleRendering:!0,enableDirtyRectangleRenderingDebug:!1,enableSizeAttenuation:!0,enableRenderingOptimization:!1},I)}return(0,y.Z)(A,[{key:"registerPlugin",value:function(_){var g=this.plugins.findIndex(function(R){return R===_});g===-1&&this.plugins.push(_)}},{key:"unregisterPlugin",value:function(_){var g=this.plugins.findIndex(function(R){return R===_});g>-1&&this.plugins.splice(g,1)}},{key:"getPlugins",value:function(){return this.plugins}},{key:"getPlugin",value:function(_){return this.plugins.find(function(g){return g.name===_})}},{key:"getConfig",value:function(){return this.config}},{key:"setConfig",value:function(_){Object.assign(this.config,_)}}])}(),Et=o.IH,Ot=o.JG,B=o.Fp,X=o.VV,pt=o.bA,Mt=o.lu,bt=function(){function A(){(0,T.Z)(this,A),this.center=[0,0,0],this.halfExtents=[0,0,0],this.min=[0,0,0],this.max=[0,0,0]}return(0,y.Z)(A,[{key:"update",value:function(_,g){Ot(this.center,_),Ot(this.halfExtents,g),Mt(this.min,this.center,this.halfExtents),Et(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(_,g){Et(this.center,g,_),pt(this.center,this.center,.5),Mt(this.halfExtents,g,_),pt(this.halfExtents,this.halfExtents,.5),Ot(this.min,_),Ot(this.max,g)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(_){if(!A.isEmpty(_)){if(A.isEmpty(this)){this.setMinMax(_.getMin(),_.getMax());return}var g=this.center,R=g[0],Z=g[1],k=g[2],q=this.halfExtents,it=q[0],vt=q[1],Pt=q[2],xt=R-it,Wt=R+it,Kt=Z-vt,Nt=Z+vt,Gt=k-Pt,Jt=k+Pt,te=_.center,Xt=te[0],ne=te[1],Ee=te[2],$t=_.halfExtents,kt=$t[0],jt=$t[1],Yt=$t[2],de=Xt-kt,le=Xt+kt,ge=ne-jt,fe=ne+jt,Pe=Ee-Yt,xe=Ee+Yt;de<xt&&(xt=de),le>Wt&&(Wt=le),ge<Kt&&(Kt=ge),fe>Nt&&(Nt=fe),Pe<Gt&&(Gt=Pe),xe>Jt&&(Jt=xe),g[0]=(xt+Wt)*.5,g[1]=(Kt+Nt)*.5,g[2]=(Gt+Jt)*.5,q[0]=(Wt-xt)*.5,q[1]=(Nt-Kt)*.5,q[2]=(Jt-Gt)*.5,this.min[0]=xt,this.min[1]=Kt,this.min[2]=Gt,this.max[0]=Wt,this.max[1]=Nt,this.max[2]=Jt}}},{key:"setFromTransformedAABB",value:function(_,g){var R=this.center,Z=this.halfExtents,k=_.center,q=_.halfExtents,it=g[0],vt=g[4],Pt=g[8],xt=g[1],Wt=g[5],Kt=g[9],Nt=g[2],Gt=g[6],Jt=g[10],te=Math.abs(it),Xt=Math.abs(vt),ne=Math.abs(Pt),Ee=Math.abs(xt),$t=Math.abs(Wt),kt=Math.abs(Kt),jt=Math.abs(Nt),Yt=Math.abs(Gt),de=Math.abs(Jt);R[0]=g[12]+it*k[0]+vt*k[1]+Pt*k[2],R[1]=g[13]+xt*k[0]+Wt*k[1]+Kt*k[2],R[2]=g[14]+Nt*k[0]+Gt*k[1]+Jt*k[2],Z[0]=te*q[0]+Xt*q[1]+ne*q[2],Z[1]=Ee*q[0]+$t*q[1]+kt*q[2],Z[2]=jt*q[0]+Yt*q[1]+de*q[2],Mt(this.min,R,Z),Et(this.max,R,Z)}},{key:"intersects",value:function(_){var g=this.getMax(),R=this.getMin(),Z=_.getMax(),k=_.getMin();return R[0]<=Z[0]&&g[0]>=k[0]&&R[1]<=Z[1]&&g[1]>=k[1]&&R[2]<=Z[2]&&g[2]>=k[2]}},{key:"intersection",value:function(_){if(!this.intersects(_))return null;var g=new A,R=B([0,0,0],this.getMin(),_.getMin()),Z=X([0,0,0],this.getMax(),_.getMax());return g.setMinMax(R,Z),g}},{key:"getNegativeFarPoint",value:function(_){return _.pnVertexFlag===273?Ot([0,0,0],this.min):_.pnVertexFlag===272?[this.min[0],this.min[1],this.max[2]]:_.pnVertexFlag===257?[this.min[0],this.max[1],this.min[2]]:_.pnVertexFlag===256?[this.min[0],this.max[1],this.max[2]]:_.pnVertexFlag===17?[this.max[0],this.min[1],this.min[2]]:_.pnVertexFlag===16?[this.max[0],this.min[1],this.max[2]]:_.pnVertexFlag===1?[this.max[0],this.max[1],this.min[2]]:[this.max[0],this.max[1],this.max[2]]}},{key:"getPositiveFarPoint",value:function(_){return _.pnVertexFlag===273?Ot([0,0,0],this.max):_.pnVertexFlag===272?[this.max[0],this.max[1],this.min[2]]:_.pnVertexFlag===257?[this.max[0],this.min[1],this.max[2]]:_.pnVertexFlag===256?[this.max[0],this.min[1],this.min[2]]:_.pnVertexFlag===17?[this.min[0],this.max[1],this.max[2]]:_.pnVertexFlag===16?[this.min[0],this.max[1],this.min[2]]:_.pnVertexFlag===1?[this.min[0],this.min[1],this.max[2]]:[this.min[0],this.min[1],this.min[2]]}}],[{key:"isEmpty",value:function(_){return!_||_.halfExtents[0]===0&&_.halfExtents[1]===0&&_.halfExtents[2]===0}}])}(),Rt=function(){function A(I,_){(0,T.Z)(this,A),this.distance=I||0,this.normal=_||o.al(0,1,0),this.updatePNVertexFlag()}return(0,y.Z)(A,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(+(this.normal[0]>=0)<<8)+(+(this.normal[1]>=0)<<4)+ +(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(_){return o.AK(_,this.normal)-this.distance}},{key:"normalize",value:function(){var _=1/o.Zh(this.normal);o.bA(this.normal,this.normal,_),this.distance*=_}},{key:"intersectsLine",value:function(_,g,R){var Z=this.distanceToPoint(_),k=this.distanceToPoint(g),q=Z/(Z-k),it=q>=0&&q<=1;return it&&R&&o.t7(R,_,g,q),it}}])}(),It=function(A){return A[A.OUTSIDE=4294967295]="OUTSIDE",A[A.INSIDE=0]="INSIDE",A[A.INDETERMINATE=2147483647]="INDETERMINATE",A}({}),st=function(){function A(I){if((0,T.Z)(this,A),this.planes=[],I)this.planes=I;else for(var _=0;_<6;_++)this.planes.push(new Rt)}return(0,y.Z)(A,[{key:"extractFromVPMatrix",value:function(_){var g=(0,h.Z)(_,16),R=g[0],Z=g[1],k=g[2],q=g[3],it=g[4],vt=g[5],Pt=g[6],xt=g[7],Wt=g[8],Kt=g[9],Nt=g[10],Gt=g[11],Jt=g[12],te=g[13],Xt=g[14],ne=g[15];o.t8(this.planes[0].normal,q-R,xt-it,Gt-Wt),this.planes[0].distance=ne-Jt,o.t8(this.planes[1].normal,q+R,xt+it,Gt+Wt),this.planes[1].distance=ne+Jt,o.t8(this.planes[2].normal,q+Z,xt+vt,Gt+Kt),this.planes[2].distance=ne+te,o.t8(this.planes[3].normal,q-Z,xt-vt,Gt-Kt),this.planes[3].distance=ne-te,o.t8(this.planes[4].normal,q-k,xt-Pt,Gt-Nt),this.planes[4].distance=ne-Xt,o.t8(this.planes[5].normal,q+k,xt+Pt,Gt+Nt),this.planes[5].distance=ne+Xt,this.planes.forEach(function(Ee){Ee.normalize(),Ee.updatePNVertexFlag()})}}])}(),Q=function(){function A(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;(0,T.Z)(this,A),this.x=0,this.y=0,this.x=I,this.y=_}return(0,y.Z)(A,[{key:"clone",value:function(){return new A(this.x,this.y)}},{key:"copyFrom",value:function(_){this.x=_.x,this.y=_.y}}])}(),ct=function(){function A(I,_,g,R){(0,T.Z)(this,A),this.x=I,this.y=_,this.width=g,this.height=R,this.left=I,this.right=I+g,this.top=_,this.bottom=_+R}return(0,y.Z)(A,[{key:"toJSON",value:function(){}}],[{key:"fromRect",value:function(_){return new A(_.x,_.y,_.width,_.height)}},{key:"applyTransform",value:function(_,g){var R=r.al(_.x,_.y,0,1),Z=r.al(_.x+_.width,_.y,0,1),k=r.al(_.x,_.y+_.height,0,1),q=r.al(_.x+_.width,_.y+_.height,0,1),it=r.Ue(),vt=r.Ue(),Pt=r.Ue(),xt=r.Ue();r.fF(it,R,g),r.fF(vt,Z,g),r.fF(Pt,k,g),r.fF(xt,q,g);var Wt=Math.min(it[0],vt[0],Pt[0],xt[0]),Kt=Math.min(it[1],vt[1],Pt[1],xt[1]),Nt=Math.max(it[0],vt[0],Pt[0],xt[0]),Gt=Math.max(it[1],vt[1],Pt[1],xt[1]);return A.fromRect({x:Wt,y:Kt,width:Nt-Wt,height:Gt-Kt})}}])}(),ht="Method not implemented.",ft="Use document.documentElement instead.",gt="Cannot append a destroyed element.";function yt(A){return A===void 0?0:A>360||A<-360?A%360:A}var Tt=o.Ue();function Dt(A){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return Array.isArray(A)&&A.length===3?g?o.d9(A):o.JG(Tt,A):(0,E.Z)(A)?g?o.al(A,I,_):o.t8(Tt,A,I,_):g?o.al(A[0],A[1]||I,A[2]||_):o.t8(Tt,A[0],A[1]||I,A[2]||_)}var Ct=Math.PI/180;function At(A){return A*Ct}var Ut=180/Math.PI;function St(A){return A*Ut}var zt=.9;function Zt(A){return A%=400,A<0&&(A+=400),A*zt}function Vt(A){return A/360}function Qt(A){return 360*A}var re=Math.PI/2;function ee(A,I){var _=I[0],g=I[1],R=I[2],Z=I[3],k=_*_,q=g*g,it=R*R,vt=Z*Z,Pt=k+q+it+vt,xt=_*Z-g*R;return xt>.499995*Pt?(A[0]=re,A[1]=2*Math.atan2(g,_),A[2]=0):xt<-.499995*Pt?(A[0]=-re,A[1]=2*Math.atan2(g,_),A[2]=0):(A[0]=Math.asin(2*(_*R-Z*g)),A[1]=Math.atan2(2*(_*Z+g*R),1-2*(it+vt)),A[2]=Math.atan2(2*(_*g+R*Z),1-2*(q+it))),A}function Ht(A,I){var _,g,R=a.getScaling(o.Ue(),I),Z=(0,h.Z)(R,3),k=Z[0],q=Z[1],it=Z[2],vt=Math.asin(-I[2]/k);return vt<re?vt>-re?(_=Math.atan2(I[6]/q,I[10]/it),g=Math.atan2(I[1]/k,I[0]/k)):(g=0,_=-Math.atan2(I[4]/q,I[5]/q)):(g=0,_=Math.atan2(I[4]/q,I[5]/q)),A[0]=_,A[1]=vt,A[2]=g,A}function he(A,I){return I.length===16?Ht(A,I):ee(A,I)}function ie(A,I,_,g,R){var Z=Math.cos(A),k=Math.sin(A);return s.al(g*Z,R*k,0,-g*k,R*Z,0,I,_,1)}function _e(A,I,_,g,R,Z,k){var q=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,it=2*Z,vt=_-I,Pt=g-R,xt=it/vt,Wt=it/Pt,Kt=(_+I)/vt,Nt=(g+R)/Pt,Gt,Jt,te=k-Z,Xt=k*Z;return q?(Gt=-k/te,Jt=-Xt/te):(Gt=-(k+Z)/te,Jt=-2*Xt/te),A[0]=xt,A[1]=0,A[2]=0,A[3]=0,A[4]=0,A[5]=Wt,A[6]=0,A[7]=0,A[8]=Kt,A[9]=Nt,A[10]=Gt,A[11]=-1,A[12]=0,A[13]=0,A[14]=Jt,A[15]=0,A}function ce(A){var I=A[0],_=A[1],g=A[3],R=A[4],Z=Math.sqrt(I*I+_*_),k=Math.sqrt(g*g+R*R),q=I*R-_*g;if(q<0&&(I<R?Z=-Z:k=-k),Z){var it=1/Z;I*=it,_*=it}if(k){var vt=1/k;g*=vt,R*=vt}var Pt=Math.atan2(_,I),xt=St(Pt);return[A[6],A[7],Z,k,xt]}var me=a.create(),De=a.create(),Te=r.Ue(),ve=[o.Ue(),o.Ue(),o.Ue()],Ne=o.Ue();function vn(A,I,_,g,R,Z){if(!Ft(me,A)||(a.copy(De,me),De[3]=0,De[7]=0,De[11]=0,De[15]=1,Math.abs(a.determinant(De))<1e-8))return!1;var k=me[3],q=me[7],it=me[11],vt=me[12],Pt=me[13],xt=me[14],Wt=me[15];if(k!==0||q!==0||it!==0){Te[0]=k,Te[1]=q,Te[2]=it,Te[3]=Wt;var Kt=a.invert(De,De);if(!Kt)return!1;a.transpose(De,De),r.fF(R,Te,De)}else R[0]=R[1]=R[2]=0,R[3]=1;if(I[0]=vt,I[1]=Pt,I[2]=xt,Bt(ve,me),_[0]=o.kE(ve[0]),o.Fv(ve[0],ve[0]),g[0]=o.AK(ve[0],ve[1]),Lt(ve[1],ve[1],ve[0],1,-g[0]),_[1]=o.kE(ve[1]),o.Fv(ve[1],ve[1]),g[0]/=_[1],g[1]=o.AK(ve[0],ve[2]),Lt(ve[2],ve[2],ve[0],1,-g[1]),g[2]=o.AK(ve[1],ve[2]),Lt(ve[2],ve[2],ve[1],1,-g[2]),_[2]=o.kE(ve[2]),o.Fv(ve[2],ve[2]),g[1]/=_[2],g[2]/=_[2],o.kC(Ne,ve[1],ve[2]),o.AK(ve[0],Ne)<0)for(var Nt=0;Nt<3;Nt++)_[Nt]*=-1,ve[Nt][0]*=-1,ve[Nt][1]*=-1,ve[Nt][2]*=-1;return Z[0]=.5*Math.sqrt(Math.max(1+ve[0][0]-ve[1][1]-ve[2][2],0)),Z[1]=.5*Math.sqrt(Math.max(1-ve[0][0]+ve[1][1]-ve[2][2],0)),Z[2]=.5*Math.sqrt(Math.max(1-ve[0][0]-ve[1][1]+ve[2][2],0)),Z[3]=.5*Math.sqrt(Math.max(1+ve[0][0]+ve[1][1]+ve[2][2],0)),ve[2][1]>ve[1][2]&&(Z[0]=-Z[0]),ve[0][2]>ve[2][0]&&(Z[1]=-Z[1]),ve[1][0]>ve[0][1]&&(Z[2]=-Z[2]),!0}function Ft(A,I){var _=I[15];if(_===0)return!1;for(var g=1/_,R=0;R<16;R++)A[R]=I[R]*g;return!0}function Bt(A,I){A[0][0]=I[0],A[0][1]=I[1],A[0][2]=I[2],A[1][0]=I[4],A[1][1]=I[5],A[1][2]=I[6],A[2][0]=I[8],A[2][1]=I[9],A[2][2]=I[10]}function Lt(A,I,_,g,R){A[0]=I[0]*g+_[0]*R,A[1]=I[1]*g+_[1]*R,A[2]=I[2]*g+_[2]*R}var wt=function(A){return A[A.ORBITING=0]="ORBITING",A[A.EXPLORING=1]="EXPLORING",A[A.TRACKING=2]="TRACKING",A}({}),qt=function(A){return A[A.DEFAULT=0]="DEFAULT",A[A.ROTATIONAL=1]="ROTATIONAL",A[A.TRANSLATIONAL=2]="TRANSLATIONAL",A[A.CINEMATIC=3]="CINEMATIC",A}({}),ae=function(A){return A[A.ORTHOGRAPHIC=0]="ORTHOGRAPHIC",A[A.PERSPECTIVE=1]="PERSPECTIVE",A}({}),oe={UPDATED:"updated"},Me=2e-4,Oe=function(){function A(){(0,T.Z)(this,A),this.clipSpaceNearZ=_t.NEGATIVE_ONE,this.eventEmitter=new v.Z,this.matrix=a.create(),this.right=o.al(1,0,0),this.up=o.al(0,1,0),this.forward=o.al(0,0,1),this.position=o.al(0,0,1),this.focalPoint=o.al(0,0,0),this.distanceVector=o.al(0,0,-1),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.zoom=1,this.rotateWorld=!1,this.fov=30,this.near=.1,this.far=1e3,this.aspect=1,this.projectionMatrix=a.create(),this.projectionMatrixInverse=a.create(),this.jitteredProjectionMatrix=void 0,this.enableUpdate=!0,this.type=wt.EXPLORING,this.trackingMode=qt.DEFAULT,this.projectionMode=ae.PERSPECTIVE,this.frustum=new st,this.orthoMatrix=a.create()}return(0,y.Z)(A,[{key:"isOrtho",value:function(){return this.projectionMode===ae.ORTHOGRAPHIC}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.jitteredProjectionMatrix||this.projectionMatrix}},{key:"getPerspectiveInverse",value:function(){return this.projectionMatrixInverse}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getDollyingStep",value:function(){return this.dollyingStep}},{key:"getNear",value:function(){return this.near}},{key:"getFar",value:function(){return this.far}},{key:"getZoom",value:function(){return this.zoom}},{key:"getOrthoMatrix",value:function(){return this.orthoMatrix}},{key:"getView",value:function(){return this.view}},{key:"setEnableUpdate",value:function(_){this.enableUpdate=_}},{key:"setType",value:function(_,g){return this.type=_,this.type===wt.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===wt.TRACKING&&g!==void 0&&this.setTrackingMode(g),this}},{key:"setProjectionMode",value:function(_){return this.projectionMode=_,this}},{key:"setTrackingMode",value:function(_){if(this.type!==wt.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=_,this}},{key:"setWorldRotation",value:function(_){return this.rotateWorld=_,this._getAngles(),this}},{key:"getViewTransform",value:function(){return a.invert(a.create(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"jitterProjectionMatrix",value:function(_,g){var R=a.fromTranslation(a.create(),[_,g,0]);this.jitteredProjectionMatrix=a.multiply(a.create(),R,this.projectionMatrix)}},{key:"clearJitterProjectionMatrix",value:function(){this.jitteredProjectionMatrix=void 0}},{key:"setMatrix",value:function(_){return this.matrix=_,this._update(),this}},{key:"setProjectionMatrix",value:function(_){this.projectionMatrix=_}},{key:"setFov",value:function(_){return this.setPerspective(this.near,this.far,_,this.aspect),this}},{key:"setAspect",value:function(_){return this.setPerspective(this.near,this.far,this.fov,_),this}},{key:"setNear",value:function(_){return this.projectionMode===ae.PERSPECTIVE?this.setPerspective(_,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,_,this.far),this}},{key:"setFar",value:function(_){return this.projectionMode===ae.PERSPECTIVE?this.setPerspective(this.near,_,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,_),this}},{key:"setViewOffset",value:function(_,g,R,Z,k,q){return this.aspect=_/g,this.view===void 0&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=_,this.view.fullHeight=g,this.view.offsetX=R,this.view.offsetY=Z,this.view.width=k,this.view.height=q,this.projectionMode===ae.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return this.view!==void 0&&(this.view.enabled=!1),this.projectionMode===ae.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setZoom",value:function(_){return this.zoom=_,this.projectionMode===ae.ORTHOGRAPHIC?this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far):this.projectionMode===ae.PERSPECTIVE&&this.setPerspective(this.near,this.far,this.fov,this.aspect),this}},{key:"setZoomByViewportPoint",value:function(_,g){var R=this.canvas.viewport2Canvas({x:g[0],y:g[1]}),Z=R.x,k=R.y,q=this.roll;this.rotate(0,0,-q),this.setPosition(Z,k),this.setFocalPoint(Z,k),this.setZoom(_),this.rotate(0,0,q);var it=this.canvas.viewport2Canvas({x:g[0],y:g[1]}),vt=it.x,Pt=it.y,xt=o.al(vt-Z,Pt-k,0),Wt=o.AK(xt,this.right)/o.kE(this.right),Kt=o.AK(xt,this.up)/o.kE(this.up),Nt=this.getPosition(),Gt=(0,h.Z)(Nt,2),Jt=Gt[0],te=Gt[1],Xt=this.getFocalPoint(),ne=(0,h.Z)(Xt,2),Ee=ne[0],$t=ne[1];return this.setPosition(Jt-Wt,te-Kt),this.setFocalPoint(Ee-Wt,$t-Kt),this}},{key:"setPerspective",value:function(_,g,R,Z){var k;this.projectionMode=ae.PERSPECTIVE,this.fov=R,this.near=_,this.far=g,this.aspect=Z;var q=this.near*Math.tan(At(.5*this.fov))/this.zoom,it=2*q,vt=this.aspect*it,Pt=-.5*vt;if((k=this.view)!==null&&k!==void 0&&k.enabled){var xt=this.view.fullWidth,Wt=this.view.fullHeight;Pt+=this.view.offsetX*vt/xt,q-=this.view.offsetY*it/Wt,vt*=this.view.width/xt,it*=this.view.height/Wt}return _e(this.projectionMatrix,Pt,Pt+vt,q-it,q,_,this.far,this.clipSpaceNearZ===_t.ZERO),a.invert(this.projectionMatrixInverse,this.projectionMatrix),this.triggerUpdate(),this}},{key:"setOrthographic",value:function(_,g,R,Z,k,q){var it;this.projectionMode=ae.ORTHOGRAPHIC,this.rright=g,this.left=_,this.top=R,this.bottom=Z,this.near=k,this.far=q;var vt=(this.rright-this.left)/(2*this.zoom),Pt=(this.top-this.bottom)/(2*this.zoom),xt=(this.rright+this.left)/2,Wt=(this.top+this.bottom)/2,Kt=xt-vt,Nt=xt+vt,Gt=Wt+Pt,Jt=Wt-Pt;if((it=this.view)!==null&&it!==void 0&&it.enabled){var te=(this.rright-this.left)/this.view.fullWidth/this.zoom,Xt=(this.top-this.bottom)/this.view.fullHeight/this.zoom;Kt+=te*this.view.offsetX,Nt=Kt+te*this.view.width,Gt-=Xt*this.view.offsetY,Jt=Gt-Xt*this.view.height}return this.clipSpaceNearZ===_t.NEGATIVE_ONE?a.ortho(this.projectionMatrix,Kt,Nt,Gt,Jt,k,q):a.orthoZO(this.projectionMatrix,Kt,Nt,Gt,Jt,k,q),a.invert(this.projectionMatrixInverse,this.projectionMatrix),this._getOrthoMatrix(),this.triggerUpdate(),this}},{key:"setPosition",value:function(_){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.position[1],R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.position[2],Z=Dt(_,g,R);return this._setPosition(Z),this.setFocalPoint(this.focalPoint),this.triggerUpdate(),this}},{key:"setFocalPoint",value:function(_){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.focalPoint[1],R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.focalPoint[2],Z=o.al(0,1,0);if(this.focalPoint=Dt(_,g,R),this.trackingMode===qt.CINEMATIC){var k=o.$X(o.Ue(),this.focalPoint,this.position);_=k[0],g=k[1],R=k[2];var q=o.kE(k),it=St(Math.asin(g/q)),vt=90+St(Math.atan2(R,_)),Pt=a.create();a.rotateY(Pt,Pt,At(vt)),a.rotateX(Pt,Pt,At(it)),Z=o.fF(o.Ue(),[0,1,0],Pt)}return a.invert(this.matrix,a.lookAt(a.create(),this.position,this.focalPoint,Z)),this._getAxes(),this._getDistance(),this._getAngles(),this.triggerUpdate(),this}},{key:"getDistance",value:function(){return this.distance}},{key:"getDistanceVector",value:function(){return this.distanceVector}},{key:"setDistance",value:function(_){if(this.distance===_||_<0)return this;this.distance=_,this.distance<Me&&(this.distance=Me),this.dollyingStep=this.distance/100;var g=o.Ue();_=this.distance;var R=this.forward,Z=this.focalPoint;return g[0]=_*R[0]+Z[0],g[1]=_*R[1]+Z[1],g[2]=_*R[2]+Z[2],this._setPosition(g),this.triggerUpdate(),this}},{key:"setMaxDistance",value:function(_){return this.maxDistance=_,this}},{key:"setMinDistance",value:function(_){return this.minDistance=_,this}},{key:"setAzimuth",value:function(_){return this.azimuth=yt(_),this.computeMatrix(),this._getAxes(),this.type===wt.ORBITING||this.type===wt.EXPLORING?this._getPosition():this.type===wt.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(_){return this.elevation=yt(_),this.computeMatrix(),this._getAxes(),this.type===wt.ORBITING||this.type===wt.EXPLORING?this._getPosition():this.type===wt.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getElevation",value:function(){return this.elevation}},{key:"setRoll",value:function(_){return this.roll=yt(_),this.computeMatrix(),this._getAxes(),this.type===wt.ORBITING||this.type===wt.EXPLORING?this._getPosition():this.type===wt.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getRoll",value:function(){return this.roll}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles(),this._getOrthoMatrix(),this.triggerUpdate()}},{key:"computeMatrix",value:function(){var _=u.yY(u.Ue(),[0,0,1],At(this.roll));a.identity(this.matrix);var g=u.yY(u.Ue(),[1,0,0],At((this.rotateWorld&&this.type!==wt.TRACKING||this.type===wt.TRACKING?1:-1)*this.elevation)),R=u.yY(u.Ue(),[0,1,0],At((this.rotateWorld&&this.type!==wt.TRACKING||this.type===wt.TRACKING?1:-1)*this.azimuth)),Z=u.Jp(u.Ue(),R,g);Z=u.Jp(u.Ue(),Z,_);var k=a.fromQuat(a.create(),Z);this.type===wt.ORBITING||this.type===wt.EXPLORING?(a.translate(this.matrix,this.matrix,this.focalPoint),a.multiply(this.matrix,this.matrix,k),a.translate(this.matrix,this.matrix,[0,0,this.distance])):this.type===wt.TRACKING&&(a.translate(this.matrix,this.matrix,this.position),a.multiply(this.matrix,this.matrix,k))}},{key:"_setPosition",value:function(_,g,R){this.position=Dt(_,g,R);var Z=this.matrix;Z[12]=this.position[0],Z[13]=this.position[1],Z[14]=this.position[2],Z[15]=1,this._getOrthoMatrix()}},{key:"_getAxes",value:function(){o.JG(this.right,Dt(r.fF(r.Ue(),[1,0,0,0],this.matrix))),o.JG(this.up,Dt(r.fF(r.Ue(),[0,1,0,0],this.matrix))),o.JG(this.forward,Dt(r.fF(r.Ue(),[0,0,1,0],this.matrix))),o.Fv(this.right,this.right),o.Fv(this.up,this.up),o.Fv(this.forward,this.forward)}},{key:"_getAngles",value:function(){var _=this.distanceVector[0],g=this.distanceVector[1],R=this.distanceVector[2],Z=o.kE(this.distanceVector);if(Z===0){this.elevation=0,this.azimuth=0;return}this.type===wt.TRACKING?(this.elevation=St(Math.asin(g/Z)),this.azimuth=St(Math.atan2(-_,-R))):this.rotateWorld?(this.elevation=St(Math.asin(g/Z)),this.azimuth=St(Math.atan2(-_,-R))):(this.elevation=-St(Math.asin(g/Z)),this.azimuth=-St(Math.atan2(-_,-R)))}},{key:"_getPosition",value:function(){o.JG(this.position,Dt(r.fF(r.Ue(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){o.kK(this.distanceVector,[0,0,-this.distance],s.xO(s.Ue(),this.matrix)),o.IH(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=o.$X(o.Ue(),this.focalPoint,this.position),this.distance=o.kE(this.distanceVector),this.dollyingStep=this.distance/100}},{key:"_getOrthoMatrix",value:function(){if(this.projectionMode===ae.ORTHOGRAPHIC){var _=this.position,g=u.yY(u.Ue(),[0,0,1],-this.roll*Math.PI/180);a.fromRotationTranslationScaleOrigin(this.orthoMatrix,g,o.al((this.rright-this.left)/2-_[0],(this.top-this.bottom)/2-_[1],0),o.al(this.zoom,this.zoom,1),_)}}},{key:"triggerUpdate",value:function(){if(this.enableUpdate){var _=this.getViewTransform(),g=a.multiply(a.create(),this.getPerspective(),_);this.getFrustum().extractFromVPMatrix(g),this.eventEmitter.emit(oe.UPDATED)}}},{key:"rotate",value:function(_,g,R){throw new Error(ht)}},{key:"pan",value:function(_,g){throw new Error(ht)}},{key:"dolly",value:function(_){throw new Error(ht)}},{key:"createLandmark",value:function(_,g){throw new Error(ht)}},{key:"gotoLandmark",value:function(_,g){throw new Error(ht)}},{key:"cancelLandmarkAnimation",value:function(){throw new Error(ht)}}])}(),Ce=function(A){return A[A.Standard=0]="Standard",A}({}),Se=function(A){return A[A.ADDED=0]="ADDED",A[A.REMOVED=1]="REMOVED",A[A.Z_INDEX_CHANGED=2]="Z_INDEX_CHANGED",A}({}),Le=o.Ue(),We=a.create(),Ye=u.Ue();function je(A){if(A.localDirtyFlag){var I=A.localSkew[0]!==0||A.localSkew[1]!==0;if(I){a.fromRotationTranslationScaleOrigin(A.localTransform,A.localRotation,A.localPosition,o.al(1,1,1),A.origin),(A.localSkew[0]!==0||A.localSkew[1]!==0)&&(a.identity(We),We[4]=Math.tan(A.localSkew[0]),We[1]=Math.tan(A.localSkew[1]),a.multiply(A.localTransform,A.localTransform,We));var _=a.fromRotationTranslationScaleOrigin(We,u.t8(Ye,0,0,0,1),o.t8(Le,1,1,1),A.localScale,A.origin);a.multiply(A.localTransform,A.localTransform,_)}else{var g=A.localTransform,R=A.localPosition,Z=A.localRotation,k=A.localScale,q=A.origin,it=R[0]!==0||R[1]!==0||R[2]!==0,vt=Z[3]!==1||Z[0]!==0||Z[1]!==0||Z[2]!==0,Pt=k[0]!==1||k[1]!==1||k[2]!==1,xt=q[0]!==0||q[1]!==0||q[2]!==0;!vt&&!Pt&&!xt?it?a.fromTranslation(g,R):a.identity(g):a.fromRotationTranslationScaleOrigin(g,Z,R,k,q)}A.localDirtyFlag=!1}}function tn(A,I){A.dirtyFlag&&(I?a.multiply(A.worldTransform,I.worldTransform,A.localTransform):a.copy(A.worldTransform,A.localTransform),A.dirtyFlag=!1)}var on={absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new ct(0,0,0,0)},ue=function(A){return A.COORDINATE="<coordinate>",A.COLOR="<color>",A.PAINT="<paint>",A.NUMBER="<number>",A.ANGLE="<angle>",A.OPACITY_VALUE="<opacity-value>",A.SHADOW_BLUR="<shadow-blur>",A.LENGTH="<length>",A.PERCENTAGE="<percentage>",A.LENGTH_PERCENTAGE="<length> | <percentage>",A.LENGTH_PERCENTAGE_12="[<length> | <percentage>]{1,2}",A.LENGTH_PERCENTAGE_14="[<length> | <percentage>]{1,4}",A.LIST_OF_POINTS="<list-of-points>",A.PATH="<path>",A.FILTER="<filter>",A.Z_INDEX="<z-index>",A.OFFSET_DISTANCE="<offset-distance>",A.DEFINED_PATH="<defined-path>",A.MARKER="<marker>",A.TRANSFORM="<transform>",A.TRANSFORM_ORIGIN="<transform-origin>",A.TEXT="<text>",A.TEXT_TRANSFORM="<text-transform>",A}({});function rn(A,I,_){A.prototype=I.prototype=_,_.constructor=A}function we(A,I){var _=Object.create(A.prototype);for(var g in I)_[g]=I[g];return _}function Je(){}var Ze=.7,ln=1/Ze,cn="\\s*([+-]?\\d+)\\s*",Mn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",un="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Bn=/^#([0-9a-f]{3,8})$/,Vn=new RegExp(`^rgb\\(${cn},${cn},${cn}\\)$`),Gn=new RegExp(`^rgb\\(${un},${un},${un}\\)$`),Wn=new RegExp(`^rgba\\(${cn},${cn},${cn},${Mn}\\)$`),dr=new RegExp(`^rgba\\(${un},${un},${un},${Mn}\\)$`),wn=new RegExp(`^hsl\\(${Mn},${un},${un}\\)$`),Ir=new RegExp(`^hsla\\(${Mn},${un},${un},${Mn}\\)$`),Yn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rn(Je,be,{copy(A){return Object.assign(new this.constructor,this,A)},displayable(){return this.rgb().displayable()},hex:Xn,formatHex:Xn,formatHex8:fr,formatHsl:Sr,formatRgb:Ue,toString:Ue});function Xn(){return this.rgb().formatHex()}function fr(){return this.rgb().formatHex8()}function Sr(){return Ei(this).formatHsl()}function Ue(){return this.rgb().formatRgb()}function be(A){var I,_;return A=(A+"").trim().toLowerCase(),(I=Bn.exec(A))?(_=I[1].length,I=parseInt(I[1],16),_===6?Ke(I):_===3?new Ge(I>>8&15|I>>4&240,I>>4&15|I&240,(I&15)<<4|I&15,1):_===8?Fe(I>>24&255,I>>16&255,I>>8&255,(I&255)/255):_===4?Fe(I>>12&15|I>>8&240,I>>8&15|I>>4&240,I>>4&15|I&240,((I&15)<<4|I&15)/255):null):(I=Vn.exec(A))?new Ge(I[1],I[2],I[3],1):(I=Gn.exec(A))?new Ge(I[1]*255/100,I[2]*255/100,I[3]*255/100,1):(I=Wn.exec(A))?Fe(I[1],I[2],I[3],I[4]):(I=dr.exec(A))?Fe(I[1]*255/100,I[2]*255/100,I[3]*255/100,I[4]):(I=wn.exec(A))?Jn(I[1],I[2]/100,I[3]/100,1):(I=Ir.exec(A))?Jn(I[1],I[2]/100,I[3]/100,I[4]):Yn.hasOwnProperty(A)?Ke(Yn[A]):A==="transparent"?new Ge(NaN,NaN,NaN,0):null}function Ke(A){return new Ge(A>>16&255,A>>8&255,A&255,1)}function Fe(A,I,_,g){return g<=0&&(A=I=_=NaN),new Ge(A,I,_,g)}function en(A){return A instanceof Je||(A=be(A)),A?(A=A.rgb(),new Ge(A.r,A.g,A.b,A.opacity)):new Ge}function xn(A,I,_,g){return arguments.length===1?en(A):new Ge(A,I,_,g==null?1:g)}function Ge(A,I,_,g){this.r=+A,this.g=+I,this.b=+_,this.opacity=+g}rn(Ge,xn,we(Je,{brighter(A){return A=A==null?ln:Math.pow(ln,A),new Ge(this.r*A,this.g*A,this.b*A,this.opacity)},darker(A){return A=A==null?Ze:Math.pow(Ze,A),new Ge(this.r*A,this.g*A,this.b*A,this.opacity)},rgb(){return this},clamp(){return new Ge(dn(this.r),dn(this.g),dn(this.b),Pn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:En,formatHex:En,formatHex8:On,formatRgb:An,toString:An}));function En(){return`#${mn(this.r)}${mn(this.g)}${mn(this.b)}`}function On(){return`#${mn(this.r)}${mn(this.g)}${mn(this.b)}${mn((isNaN(this.opacity)?1:this.opacity)*255)}`}function An(){const A=Pn(this.opacity);return`${A===1?"rgb(":"rgba("}${dn(this.r)}, ${dn(this.g)}, ${dn(this.b)}${A===1?")":`, ${A})`}`}function Pn(A){return isNaN(A)?1:Math.max(0,Math.min(1,A))}function dn(A){return Math.max(0,Math.min(255,Math.round(A)||0))}function mn(A){return A=dn(A),(A<16?"0":"")+A.toString(16)}function Jn(A,I,_,g){return g<=0?A=I=_=NaN:_<=0||_>=1?A=I=NaN:I<=0&&(A=NaN),new Dn(A,I,_,g)}function Ei(A){if(A instanceof Dn)return new Dn(A.h,A.s,A.l,A.opacity);if(A instanceof Je||(A=be(A)),!A)return new Dn;if(A instanceof Dn)return A;A=A.rgb();var I=A.r/255,_=A.g/255,g=A.b/255,R=Math.min(I,_,g),Z=Math.max(I,_,g),k=NaN,q=Z-R,it=(Z+R)/2;return q?(I===Z?k=(_-g)/q+(_<g)*6:_===Z?k=(g-I)/q+2:k=(I-_)/q+4,q/=it<.5?Z+R:2-Z-R,k*=60):q=it>0&&it<1?0:k,new Dn(k,q,it,A.opacity)}function Ia(A,I,_,g){return arguments.length===1?Ei(A):new Dn(A,I,_,g==null?1:g)}function Dn(A,I,_,g){this.h=+A,this.s=+I,this.l=+_,this.opacity=+g}rn(Dn,Ia,we(Je,{brighter(A){return A=A==null?ln:Math.pow(ln,A),new Dn(this.h,this.s,this.l*A,this.opacity)},darker(A){return A=A==null?Ze:Math.pow(Ze,A),new Dn(this.h,this.s,this.l*A,this.opacity)},rgb(){var A=this.h%360+(this.h<0)*360,I=isNaN(A)||isNaN(this.s)?0:this.s,_=this.l,g=_+(_<.5?_:1-_)*I,R=2*_-g;return new Ge(Br(A>=240?A-240:A+120,R,g),Br(A,R,g),Br(A<120?A+240:A-120,R,g),this.opacity)},clamp(){return new Dn(mi(this.h),hr(this.s),hr(this.l),Pn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const A=Pn(this.opacity);return`${A===1?"hsl(":"hsla("}${mi(this.h)}, ${hr(this.s)*100}%, ${hr(this.l)*100}%${A===1?")":`, ${A})`}`}}));function mi(A){return A=(A||0)%360,A<0?A+360:A}function hr(A){return Math.max(0,Math.min(1,A||0))}function Br(A,I,_){return(A<60?I+(_-I)*A/60:A<180?_:A<240?I+(_-I)*(240-A)/60:I)*255}function Qe(A,I){if(typeof A!="function"||I!=null&&typeof I!="function")throw new TypeError("Expected a function");var _=function(){for(var R=arguments.length,Z=new Array(R),k=0;k<R;k++)Z[k]=arguments[k];var q=I?I.apply(this,Z):Z[0],it=_.cache;if(it.has(q))return it.get(q);var vt=A.apply(this,Z);return _.cache=it.set(q,vt)||it,vt};return _.cache=new(Qe.Cache||Map),Qe.cacheList.push(_.cache),_}Qe.Cache=Map,Qe.cacheList=[],Qe.clearCache=function(){Qe.cacheList.forEach(function(A){return A.clear()})};var pe=function(A){return A[A.kUnknown=0]="kUnknown",A[A.kNumber=1]="kNumber",A[A.kPercentage=2]="kPercentage",A[A.kEms=3]="kEms",A[A.kPixels=4]="kPixels",A[A.kRems=5]="kRems",A[A.kDegrees=6]="kDegrees",A[A.kRadians=7]="kRadians",A[A.kGradians=8]="kGradians",A[A.kTurns=9]="kTurns",A[A.kMilliseconds=10]="kMilliseconds",A[A.kSeconds=11]="kSeconds",A[A.kInteger=12]="kInteger",A}({}),Cn=function(A){return A[A.kUNumber=0]="kUNumber",A[A.kUPercent=1]="kUPercent",A[A.kULength=2]="kULength",A[A.kUAngle=3]="kUAngle",A[A.kUTime=4]="kUTime",A[A.kUOther=5]="kUOther",A}({}),Sa=function(A){return A[A.kYes=0]="kYes",A[A.kNo=1]="kNo",A}({}),Ba=function(A){return A[A.kYes=0]="kYes",A[A.kNo=1]="kNo",A}({}),Wa=[{name:"em",unit_type:pe.kEms},{name:"px",unit_type:pe.kPixels},{name:"deg",unit_type:pe.kDegrees},{name:"rad",unit_type:pe.kRadians},{name:"grad",unit_type:pe.kGradians},{name:"ms",unit_type:pe.kMilliseconds},{name:"s",unit_type:pe.kSeconds},{name:"rem",unit_type:pe.kRems},{name:"turn",unit_type:pe.kTurns}],Hn=function(A){return A[A.kUnknownType=0]="kUnknownType",A[A.kUnparsedType=1]="kUnparsedType",A[A.kKeywordType=2]="kKeywordType",A[A.kUnitType=3]="kUnitType",A[A.kSumType=4]="kSumType",A[A.kProductType=5]="kProductType",A[A.kNegateType=6]="kNegateType",A[A.kInvertType=7]="kInvertType",A[A.kMinType=8]="kMinType",A[A.kMaxType=9]="kMaxType",A[A.kClampType=10]="kClampType",A[A.kTransformType=11]="kTransformType",A[A.kPositionType=12]="kPositionType",A[A.kURLImageType=13]="kURLImageType",A[A.kColorType=14]="kColorType",A[A.kUnsupportedColorType=15]="kUnsupportedColorType",A}({}),wa=function(I){return Wa.find(function(_){return _.name===I}).unit_type},Ua=function(I){return I?I==="number"?pe.kNumber:I==="percent"||I==="%"?pe.kPercentage:wa(I):pe.kUnknown},Na=function(I){switch(I){case pe.kNumber:case pe.kInteger:return Cn.kUNumber;case pe.kPercentage:return Cn.kUPercent;case pe.kPixels:return Cn.kULength;case pe.kMilliseconds:case pe.kSeconds:return Cn.kUTime;case pe.kDegrees:case pe.kRadians:case pe.kGradians:case pe.kTurns:return Cn.kUAngle;default:return Cn.kUOther}},Ka=function(I){switch(I){case Cn.kUNumber:return pe.kNumber;case Cn.kULength:return pe.kPixels;case Cn.kUPercent:return pe.kPercentage;case Cn.kUTime:return pe.kSeconds;case Cn.kUAngle:return pe.kDegrees;default:return pe.kUnknown}},yi=function(I){var _=1;switch(I){case pe.kPixels:case pe.kDegrees:case pe.kSeconds:break;case pe.kMilliseconds:_=.001;break;case pe.kRadians:_=180/Math.PI;break;case pe.kGradians:_=.9;break;case pe.kTurns:_=360;break}return _},Wr=function(I){switch(I){case pe.kNumber:case pe.kInteger:return"";case pe.kPercentage:return"%";case pe.kEms:return"em";case pe.kRems:return"rem";case pe.kPixels:return"px";case pe.kDegrees:return"deg";case pe.kRadians:return"rad";case pe.kGradians:return"grad";case pe.kMilliseconds:return"ms";case pe.kSeconds:return"s";case pe.kTurns:return"turn"}return""},vr=function(){function A(){(0,T.Z)(this,A)}return(0,y.Z)(A,[{key:"toString",value:function(){return this.buildCSSText(Sa.kNo,Ba.kNo,"")}},{key:"isNumericValue",value:function(){return this.getType()>=Hn.kUnitType&&this.getType()<=Hn.kClampType}}],[{key:"isAngle",value:function(_){return _===pe.kDegrees||_===pe.kRadians||_===pe.kGradians||_===pe.kTurns}},{key:"isLength",value:function(_){return _>=pe.kEms&&_<pe.kDegrees}},{key:"isRelativeUnit",value:function(_){return _===pe.kPercentage||_===pe.kEms||_===pe.kRems}},{key:"isTime",value:function(_){return _===pe.kSeconds||_===pe.kMilliseconds}}])}(),ka=function(A){function I(_){var g;return(0,T.Z)(this,I),g=(0,m.Z)(this,I),g.colorSpace=_,g}return(0,f.Z)(I,A),(0,y.Z)(I,[{key:"getType",value:function(){return Hn.kColorType}},{key:"to",value:function(g){return this}}])}(vr),Qn=function(A){return A[A.Constant=0]="Constant",A[A.LinearGradient=1]="LinearGradient",A[A.RadialGradient=2]="RadialGradient",A}({}),_r=function(A){function I(_,g){var R;return(0,T.Z)(this,I),R=(0,m.Z)(this,I),R.type=_,R.value=g,R}return(0,f.Z)(I,A),(0,y.Z)(I,[{key:"clone",value:function(){return new I(this.type,this.value)}},{key:"buildCSSText",value:function(g,R,Z){return Z}},{key:"getType",value:function(){return Hn.kColorType}}])}(vr),yn=function(A){function I(_){var g;return(0,T.Z)(this,I),g=(0,m.Z)(this,I),g.value=_,g}return(0,f.Z)(I,A),(0,y.Z)(I,[{key:"clone",value:function(){return new I(this.value)}},{key:"getType",value:function(){return Hn.kKeywordType}},{key:"buildCSSText",value:function(g,R,Z){return Z+this.value}}])}(vr),Za=function(I){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",g="";return Number.isFinite(I)?g="NaN":I>0?g="infinity":g="-infinity",g+=_},wr=function(I){return Ka(Na(I))},ke=function(A){function I(_){var g,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pe.kNumber;(0,T.Z)(this,I),g=(0,m.Z)(this,I);var Z;return typeof R=="string"?Z=Ua(R):Z=R,g.unit=Z,g.value=_,g}return(0,f.Z)(I,A),(0,y.Z)(I,[{key:"clone",value:function(){return new I(this.value,this.unit)}},{key:"equals",value:function(g){var R=g;return this.value===R.value&&this.unit===R.unit}},{key:"getType",value:function(){return Hn.kUnitType}},{key:"convertTo",value:function(g){if(this.unit===g)return new I(this.value,this.unit);var R=wr(this.unit);if(R!==wr(g)||R===pe.kUnknown)return null;var Z=yi(this.unit)/yi(g);return new I(this.value*Z,g)}},{key:"buildCSSText",value:function(g,R,Z){var k;switch(this.unit){case pe.kUnknown:break;case pe.kInteger:k=Number(this.value).toFixed(0);break;case pe.kNumber:case pe.kPercentage:case pe.kEms:case pe.kRems:case pe.kPixels:case pe.kDegrees:case pe.kRadians:case pe.kGradians:case pe.kMilliseconds:case pe.kSeconds:case pe.kTurns:{var q=-999999,it=999999,vt=this.value,Pt=Wr(this.unit);if(vt<q||vt>it){var xt=Wr(this.unit);!Number.isFinite(vt)||Number.isNaN(vt)?k=Za(vt,xt):k=vt+(xt||"")}else k="".concat(vt).concat(Pt)}}return Z+=k,Z}}])}(vr),Tn=new ke(0,"px");new ke(1,"px");var Un=new ke(0,"deg"),Ur=function(A){function I(_,g,R){var Z,k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,q=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return(0,T.Z)(this,I),Z=(0,m.Z)(this,I,["rgb"]),Z.r=_,Z.g=g,Z.b=R,Z.alpha=k,Z.isNone=q,Z}return(0,f.Z)(I,A),(0,y.Z)(I,[{key:"clone",value:function(){return new I(this.r,this.g,this.b,this.alpha)}},{key:"buildCSSText",value:function(g,R,Z){return"".concat(Z,"rgba(").concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.alpha,")")}}])}(ka),Mi=new yn("unset"),Fa=new yn("initial"),za=new yn("inherit"),Nr={"":Mi,unset:Mi,initial:Fa,inherit:za},ja=function(I){return Nr[I]||(Nr[I]=new yn(I)),Nr[I]},Oi=new Ur(0,0,0,0,!0),Pi=new Ur(0,0,0,0),Va=Qe(function(A,I,_,g){return new Ur(A,I,_,g)},function(A,I,_,g){return"rgba(".concat(A,",").concat(I,",").concat(_,",").concat(g,")")}),Ve=function(I){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pe.kNumber;return new ke(I,_)};new ke(50,"%");function Ga(A){var I=A.type,_=A.value;return I==="hex"?"#".concat(_):I==="literal"?_:I==="rgb"?"rgb(".concat(_.join(","),")"):"rgba(".concat(_.join(","),")")}var Ha=function(){var A={linearGradient:/^(linear\-gradient)/i,repeatingLinearGradient:/^(repeating\-linear\-gradient)/i,radialGradient:/^(radial\-gradient)/i,repeatingRadialGradient:/^(repeating\-radial\-gradient)/i,conicGradient:/^(conic\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},I="";function _(ye){throw new Error("".concat(I,": ").concat(ye))}function g(){var ye=R();return I.length>0&&_("Invalid input not EOF"),ye}function R(){return ne(Z)}function Z(){return k("linear-gradient",A.linearGradient,it)||k("repeating-linear-gradient",A.repeatingLinearGradient,it)||k("radial-gradient",A.radialGradient,xt)||k("repeating-radial-gradient",A.repeatingRadialGradient,xt)||k("conic-gradient",A.conicGradient,xt)}function k(ye,Ae,Re){return q(Ae,function(nn){var sn=Re();return sn&&(Ie(A.comma)||_("Missing comma before color stops")),{type:ye,orientation:sn,colorStops:ne(Ee)}})}function q(ye,Ae){var Re=Ie(ye);if(Re){Ie(A.startCall)||_("Missing (");var nn=Ae(Re);return Ie(A.endCall)||_("Missing )"),nn}}function it(){return vt()||Pt()}function vt(){return xe("directional",A.sideOrCorner,1)}function Pt(){return xe("angular",A.angleValue,1)}function xt(){var ye,Ae=Wt(),Re;return Ae&&(ye=[],ye.push(Ae),Re=I,Ie(A.comma)&&(Ae=Wt(),Ae?ye.push(Ae):I=Re)),ye}function Wt(){var ye=Kt()||Nt();if(ye)ye.at=Jt();else{var Ae=Gt();if(Ae){ye=Ae;var Re=Jt();Re&&(ye.at=Re)}else{var nn=te();nn&&(ye={type:"default-radial",at:nn})}}return ye}function Kt(){var ye=xe("shape",/^(circle)/i,0);return ye&&(ye.style=Pe()||Gt()),ye}function Nt(){var ye=xe("shape",/^(ellipse)/i,0);return ye&&(ye.style=ge()||Gt()),ye}function Gt(){return xe("extent-keyword",A.extentKeywords,1)}function Jt(){if(xe("position",/^at/,0)){var ye=te();return ye||_("Missing positioning value"),ye}}function te(){var ye=Xt();if(ye.x||ye.y)return{type:"position",value:ye}}function Xt(){return{x:ge(),y:ge()}}function ne(ye){var Ae=ye(),Re=[];if(Ae)for(Re.push(Ae);Ie(A.comma);)Ae=ye(),Ae?Re.push(Ae):_("One extra comma");return Re}function Ee(){var ye=$t();return ye||_("Expected color definition"),ye.length=ge(),ye}function $t(){return jt()||de()||Yt()||kt()}function kt(){return xe("literal",A.literalColor,0)}function jt(){return xe("hex",A.hexColor,1)}function Yt(){return q(A.rgbColor,function(){return{type:"rgb",value:ne(le)}})}function de(){return q(A.rgbaColor,function(){return{type:"rgba",value:ne(le)}})}function le(){return Ie(A.number)[1]}function ge(){return xe("%",A.percentageValue,1)||fe()||Pe()}function fe(){return xe("position-keyword",A.positionKeywords,1)}function Pe(){return xe("px",A.pixelValue,1)||xe("em",A.emValue,1)}function xe(ye,Ae,Re){var nn=Ie(Ae);if(nn)return{type:ye,value:nn[Re]}}function Ie(ye){var Ae=/^[\n\r\t\s]+/.exec(I);Ae&&Be(Ae[0].length);var Re=ye.exec(I);return Re&&Be(Re[0].length),Re}function Be(ye){I=I.substring(ye)}return function(ye){return I=ye,g()}}();function $a(A,I,_,g){var R=At(g.value),Z=0,k=0,q=Z+I/2,it=k+_/2,vt=Math.abs(I*Math.cos(R))+Math.abs(_*Math.sin(R)),Pt=A[0]+q-Math.cos(R)*vt/2,xt=A[1]+it-Math.sin(R)*vt/2,Wt=A[0]+q+Math.cos(R)*vt/2,Kt=A[1]+it+Math.sin(R)*vt/2;return{x1:Pt,y1:xt,x2:Wt,y2:Kt}}function Ya(A,I,_,g,R,Z){var k=g.value,q=R.value;g.unit===pe.kPercentage&&(k=g.value/100*I),R.unit===pe.kPercentage&&(q=R.value/100*_);var it=Math.max((0,p.y)([0,0],[k,q]),(0,p.y)([0,_],[k,q]),(0,p.y)([I,_],[k,q]),(0,p.y)([I,0],[k,q]));return Z&&(Z instanceof ke?it=Z.value:Z instanceof yn&&(Z.value==="closest-side"?it=Math.min(k,I-k,q,_-q):Z.value==="farthest-side"?it=Math.max(k,I-k,q,_-q):Z.value==="closest-corner"&&(it=Math.min((0,p.y)([0,0],[k,q]),(0,p.y)([0,_],[k,q]),(0,p.y)([I,_],[k,q]),(0,p.y)([I,0],[k,q]))))),{x:k+A[0],y:q+A[1],r:it}}var Xa=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Ja=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Qa=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Di=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function qa(A){var I,_=A.length;if(A[_-1].length=(I=A[_-1].length)!==null&&I!==void 0?I:{type:"%",value:"100"},_>1){var g;A[0].length=(g=A[0].length)!==null&&g!==void 0?g:{type:"%",value:"0"}}for(var R=0,Z=Number(A[0].length.value),k=1;k<_;k++){var q,it=(q=A[k].length)===null||q===void 0?void 0:q.value;if(!(0,e.Z)(it)&&!(0,e.Z)(Z)){for(var vt=1;vt<k-R;vt++)A[R+vt].length={type:"%",value:"".concat(Z+(Number(it)-Z)*vt/(k-R))};R=k,Z=Number(it)}}}var ts={left:180,top:-90,bottom:90,right:0,"left top":225,"top left":225,"left bottom":135,"bottom left":135,"right top":-45,"top right":-45,"right bottom":45,"bottom right":45},es=Qe(function(A){var I;return A.type==="angular"?I=Number(A.value):I=ts[A.value]||0,Ve(I,"deg")}),ns=Qe(function(A){var I=50,_=50,g="%",R="%";if((A==null?void 0:A.type)==="position"){var Z=A.value,k=Z.x,q=Z.y;(k==null?void 0:k.type)==="position-keyword"&&(k.value==="left"?I=0:k.value==="center"?I=50:k.value==="right"?I=100:k.value==="top"?_=0:k.value==="bottom"&&(_=100)),(q==null?void 0:q.type)==="position-keyword"&&(q.value==="left"?I=0:q.value==="center"?_=50:q.value==="right"?I=100:q.value==="top"?_=0:q.value==="bottom"&&(_=100)),((k==null?void 0:k.type)==="px"||(k==null?void 0:k.type)==="%"||(k==null?void 0:k.type)==="em")&&(g=k==null?void 0:k.type,I=Number(k.value)),((q==null?void 0:q.type)==="px"||(q==null?void 0:q.type)==="%"||(q==null?void 0:q.type)==="em")&&(R=q==null?void 0:q.type,_=Number(q.value))}return{cx:Ve(I,g),cy:Ve(_,R)}}),rs=Qe(function(A){if(A.indexOf("linear")>-1||A.indexOf("radial")>-1){var I=Ha(A);return I.map(function(q){var it=q.type,vt=q.orientation,Pt=q.colorStops;qa(Pt);var xt=Pt.map(function(ne){return{offset:Ve(Number(ne.length.value),"%"),color:Ga(ne)}});if(it==="linear-gradient")return new _r(Qn.LinearGradient,{angle:vt?es(vt):Un,steps:xt});if(it==="radial-gradient"&&(vt||(vt=[{type:"shape",value:"circle"}]),vt[0].type==="shape"&&vt[0].value==="circle")){var Wt=ns(vt[0].at),Kt=Wt.cx,Nt=Wt.cy,Gt;if(vt[0].style){var Jt=vt[0].style,te=Jt.type,Xt=Jt.value;te==="extent-keyword"?Gt=ja(Xt):Gt=Ve(Xt,te)}return new _r(Qn.RadialGradient,{cx:Kt,cy:Nt,size:Gt,steps:xt})}})}var _=A[0];if(A[1]==="("||A[2]==="("){if(_==="l"){var g=Xa.exec(A);if(g){var R,Z=((R=g[2].match(Di))===null||R===void 0?void 0:R.map(function(q){return q.split(":")}))||[];return[new _r(Qn.LinearGradient,{angle:Ve(parseFloat(g[1]),"deg"),steps:Z.map(function(q){var it=(0,h.Z)(q,2),vt=it[0],Pt=it[1];return{offset:Ve(Number(vt)*100,"%"),color:Pt}})})]}}else if(_==="r"){var k=is(A);if(k)if((0,i.Z)(k))A=k;else return[new _r(Qn.RadialGradient,k)]}else if(_==="p")return as(A)}});function is(A){var I=Ja.exec(A);if(I){var _,g=((_=I[4].match(Di))===null||_===void 0?void 0:_.map(function(R){return R.split(":")}))||[];return{cx:Ve(50,"%"),cy:Ve(50,"%"),steps:g.map(function(R){var Z=(0,h.Z)(R,2),k=Z[0],q=Z[1];return{offset:Ve(Number(k)*100,"%"),color:q}})}}return null}function as(A){var I=Qa.exec(A);if(I){var _=I[1],g=I[2];switch(_){case"a":_="repeat";break;case"x":_="repeat-x";break;case"y":_="repeat-y";break;case"n":_="no-repeat";break;default:_="no-repeat"}return{image:g,repetition:_}}return null}function Gl(A){return!!A.type&&!!A.value}function Ci(A){return A&&!!A.image}function Kr(A){return A&&!(0,e.Z)(A.r)&&!(0,e.Z)(A.g)&&!(0,e.Z)(A.b)}var qn=Qe(function(A){if(Ci(A))return(0,d.Z)({repetition:"repeat"},A);if((0,e.Z)(A)&&(A=""),A==="transparent")return Pi;if(A==="currentColor")A="black";else if(A==="none")return Oi;var I=rs(A);if(I)return I;var _=be(A),g=[0,0,0,0];return _!==null&&(g[0]=_.r||0,g[1]=_.g||0,g[2]=_.b||0,g[3]=_.opacity),Va.apply(void 0,g)});function ss(A,I){if(!(!Kr(A)||!Kr(I)))return[[Number(A.r),Number(A.g),Number(A.b),Number(A.alpha)],[Number(I.r),Number(I.g),Number(I.b),Number(I.alpha)],function(_){var g=_.slice();if(g[3])for(var R=0;R<3;R++)g[R]=Math.round((0,n.Z)(g[R],0,255));return g[3]=(0,n.Z)(g[3],0,1),"rgba(".concat(g.join(","),")")}]}function tr(A,I){if((0,e.Z)(I))return Ve(0,"px");if(I="".concat(I).trim().toLowerCase(),isFinite(Number(I))){if("px".search(A)>=0)return Ve(Number(I),"px");if("deg".search(A)>=0)return Ve(Number(I),"deg")}var _=[];I=I.replace(A,function(R){return _.push(R),"U".concat(R)});var g="U(".concat(A.source,")");return _.map(function(R){return Ve(Number(I.replace(new RegExp("U".concat(R),"g"),"").replace(new RegExp(g,"g"),"*0")),R)})[0]}var Ti=function(I){return tr(new RegExp("px","g"),I)},os=Qe(Ti),ls=function(I){return tr(new RegExp("%","g"),I)};Qe(ls);var bi=function(I){return(0,E.Z)(I)||isFinite(Number(I))?Ve(Number(I)||0,"px"):tr(new RegExp("px|%|em|rem","g"),I)},kr=Qe(bi),xi=function(I){return tr(new RegExp("deg|rad|grad|turn","g"),I)},us=Qe(xi);function cs(A,I,_,g){var R=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,Z="",k=A.value||0,q=I.value||0,it=wr(A.unit),vt=A.convertTo(it),Pt=I.convertTo(it);return vt&&Pt?(k=vt.value,q=Pt.value,Z=Wr(A.unit)):(ke.isLength(A.unit)||ke.isLength(I.unit))&&(k=pn(A,R,_),q=pn(I,R,_),Z="px"),[k,q,function(xt){return g&&(xt=Math.max(xt,0)),xt+Z}]}function _n(A){var I=0;return A.unit===pe.kDegrees?I=A.value:A.unit===pe.kRadians?I=St(Number(A.value)):A.unit===pe.kTurns?I=Qt(Number(A.value)):A.value&&(I=A.value),I}function Ai(A,I){var _;return Array.isArray(A)?_=A.map(function(g){return Number(g)}):(0,i.Z)(A)?_=A.split(" ").map(function(g){return Number(g)}):(0,E.Z)(A)&&(_=[A]),I===2?_.length===1?[_[0],_[0]]:[_[0],_[1]]:I===4?_.length===1?[_[0],_[0],_[0],_[0]]:_.length===2?[_[0],_[1],_[0],_[1]]:_.length===3?[_[0],_[1],_[2],_[1]]:[_[0],_[1],_[2],_[3]]:I==="even"&&_.length%2===1?[].concat((0,C.Z)(_),(0,C.Z)(_)):_}function pn(A,I,_){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(A.unit===pe.kPixels)return Number(A.value);if(A.unit===pe.kPercentage&&_){var R=_.nodeName===et.GROUP?_.getLocalBounds():_.getGeometryBounds();return(g?R.min[I]:0)+A.value/100*R.halfExtents[I]*2}return 0}var ds=function(I){return tr(/deg|rad|grad|turn|px|%/g,I)},fs=["blur","brightness","drop-shadow","contrast","grayscale","sepia","saturate","hue-rotate","invert"];function hs(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(A=A.toLowerCase().trim(),A==="none")return[];for(var I=/\s*([\w-]+)\(([^)]*)\)/g,_=[],g,R=0;g=I.exec(A);){if(g.index!==R)return[];if(R=g.index+g[0].length,fs.indexOf(g[1])>-1&&_.push({name:g[1],params:g[2].split(" ").map(function(Z){return ds(Z)||qn(Z)})}),I.lastIndex===A.length)return _}return[]}function Ri(A){return A.toString()}var Li=function(I){return typeof I=="number"?Ve(I):/^\s*[-+]?(\d*\.)?\d+\s*$/.test(I)?Ve(Number(I)):Ve(0)},Zr=Qe(Li);Qe(function(A){return(0,i.Z)(A)?A.split(" ").map(Zr):A.map(Zr)});function Fr(A,I){return[A,I,Ri]}function zr(A,I){return function(_,g){return[_,g,function(R){return Ri((0,n.Z)(R,A,I))}]}}function Ii(A,I){if(A.length===I.length)return[A,I,function(_){return _}]}function jr(A){return A.parsedStyle.d.totalLength===0&&(A.parsedStyle.d.totalLength=(0,l.D)(A.parsedStyle.d.absolutePath)),A.parsedStyle.d.totalLength}function vs(A){return A.parsedStyle.points.totalLength===0&&(A.parsedStyle.points.totalLength=(0,J.hE)(A.parsedStyle.points.points)),A.parsedStyle.points.totalLength}function _s(A){for(var I=0;I<A.length;I++){var _=A[I-1],g=A[I],R=g[0];if(R==="M"&&_){var Z=_[0],k=[g[1],g[2]],q=void 0;Z==="L"||Z==="M"?q=[_[1],_[2]]:(Z==="C"||Z==="A"||Z==="Q")&&(q=[_[_.length-2],_[_.length-1]]),q&&gr(k,q)&&(A.splice(I,1),I--)}}}function gs(A){for(var I=!1,_=A.length,g=0;g<_;g++){var R=A[g],Z=R[0];if(Z==="C"||Z==="A"||Z==="Q"){I=!0;break}}return I}function ps(A){for(var I=[],_=[],g=[],R=0;R<A.length;R++){var Z=A[R],k=Z[0];k==="M"?(g.length&&(_.push(g),g=[]),g.push([Z[1],Z[2]])):k==="Z"?g.length&&(I.push(g),g=[]):g.push([Z[1],Z[2]])}return g.length>0&&_.push(g),{polygons:I,polylines:_}}function gr(A,I){return A[0]===I[0]&&A[1]===I[1]}function Es(A,I){for(var _=[],g=[],R=[],Z=0;Z<A.length;Z++){var k=A[Z],q=k.currentPoint,it=k.params,vt=k.prePoint,Pt=void 0;switch(k.command){case"Q":Pt=(0,J.x4)(vt[0],vt[1],it[1],it[2],it[3],it[4]);break;case"C":Pt=(0,J.l5)(vt[0],vt[1],it[1],it[2],it[3],it[4],it[5],it[6]);break;case"A":var xt=k.arcParams;Pt=(0,J.vp)(xt.cx,xt.cy,xt.rx,xt.ry,xt.xRotation,xt.startAngle,xt.endAngle);break;default:_.push(q[0]),g.push(q[1]);break}Pt&&(k.box=Pt,_.push(Pt.x,Pt.x+Pt.width),g.push(Pt.y,Pt.y+Pt.height)),I&&(k.command==="L"||k.command==="M")&&k.prePoint&&k.nextPoint&&R.push(k)}_=_.filter(function(Ee){return!Number.isNaN(Ee)&&Ee!==1/0&&Ee!==-1/0}),g=g.filter(function(Ee){return!Number.isNaN(Ee)&&Ee!==1/0&&Ee!==-1/0});var Wt=(0,M.Z)(_),Kt=(0,M.Z)(g),Nt=(0,O.Z)(_),Gt=(0,O.Z)(g);if(R.length===0)return{x:Wt,y:Kt,width:Nt-Wt,height:Gt-Kt};for(var Jt=0;Jt<R.length;Jt++){var te=R[Jt],Xt=te.currentPoint,ne=void 0;Xt[0]===Wt?(ne=pr(te,I),Wt-=ne.xExtra):Xt[0]===Nt&&(ne=pr(te,I),Nt+=ne.xExtra),Xt[1]===Kt?(ne=pr(te,I),Kt-=ne.yExtra):Xt[1]===Gt&&(ne=pr(te,I),Gt+=ne.yExtra)}return{x:Wt,y:Kt,width:Nt-Wt,height:Gt-Kt}}function pr(A,I){var _=A.prePoint,g=A.currentPoint,R=A.nextPoint,Z=Math.pow(g[0]-_[0],2)+Math.pow(g[1]-_[1],2),k=Math.pow(g[0]-R[0],2)+Math.pow(g[1]-R[1],2),q=Math.pow(_[0]-R[0],2)+Math.pow(_[1]-R[1],2),it=Math.acos((Z+k-q)/(2*Math.sqrt(Z)*Math.sqrt(k)));if(!it||Math.sin(it)===0||(0,D.Z)(it,0))return{xExtra:0,yExtra:0};var vt=Math.abs(Math.atan2(R[1]-g[1],R[0]-g[0])),Pt=Math.abs(Math.atan2(R[0]-g[0],R[1]-g[1]));vt=vt>Math.PI/2?Math.PI-vt:vt,Pt=Pt>Math.PI/2?Math.PI-Pt:Pt;var xt={xExtra:Math.cos(it/2-vt)*(I/2*(1/Math.sin(it/2)))-I/2||0,yExtra:Math.cos(Pt-it/2)*(I/2*(1/Math.sin(it/2)))-I/2||0};return xt}function Si(A,I){return[I[0]+(I[0]-A[0]),I[1]+(I[1]-A[1])]}var Bi=function(I,_){var g=I.x*_.x+I.y*_.y,R=Math.sqrt((Math.pow(I.x,2)+Math.pow(I.y,2))*(Math.pow(_.x,2)+Math.pow(_.y,2))),Z=I.x*_.y-I.y*_.x<0?-1:1,k=Z*Math.acos(g/R);return k},Wi=function(I,_,g,R,Z,k,q,it){_=Math.abs(_),g=Math.abs(g),R=(0,P.Z)(R,360);var vt=At(R);if(I.x===q.x&&I.y===q.y)return{x:I.x,y:I.y,ellipticalArcAngle:0};if(_===0||g===0)return{x:0,y:0,ellipticalArcAngle:0};var Pt=(I.x-q.x)/2,xt=(I.y-q.y)/2,Wt={x:Math.cos(vt)*Pt+Math.sin(vt)*xt,y:-Math.sin(vt)*Pt+Math.cos(vt)*xt},Kt=Math.pow(Wt.x,2)/Math.pow(_,2)+Math.pow(Wt.y,2)/Math.pow(g,2);Kt>1&&(_*=Math.sqrt(Kt),g*=Math.sqrt(Kt));var Nt=Math.pow(_,2)*Math.pow(g,2)-Math.pow(_,2)*Math.pow(Wt.y,2)-Math.pow(g,2)*Math.pow(Wt.x,2),Gt=Math.pow(_,2)*Math.pow(Wt.y,2)+Math.pow(g,2)*Math.pow(Wt.x,2),Jt=Nt/Gt;Jt=Jt<0?0:Jt;var te=(Z!==k?1:-1)*Math.sqrt(Jt),Xt={x:te*(_*Wt.y/g),y:te*(-(g*Wt.x)/_)},ne={x:Math.cos(vt)*Xt.x-Math.sin(vt)*Xt.y+(I.x+q.x)/2,y:Math.sin(vt)*Xt.x+Math.cos(vt)*Xt.y+(I.y+q.y)/2},Ee={x:(Wt.x-Xt.x)/_,y:(Wt.y-Xt.y)/g},$t=Bi({x:1,y:0},Ee),kt={x:(-Wt.x-Xt.x)/_,y:(-Wt.y-Xt.y)/g},jt=Bi(Ee,kt);!k&&jt>0?jt-=2*Math.PI:k&&jt<0&&(jt+=2*Math.PI),jt%=2*Math.PI;var Yt=$t+jt*it,de=_*Math.cos(Yt),le=g*Math.sin(Yt),ge={x:Math.cos(vt)*de-Math.sin(vt)*le+ne.x,y:Math.sin(vt)*de+Math.cos(vt)*le+ne.y,ellipticalArcStartAngle:$t,ellipticalArcEndAngle:$t+jt,ellipticalArcAngle:Yt,ellipticalArcCenter:ne,resultantRx:_,resultantRy:g};return ge};function ms(A){for(var I=[],_=null,g=null,R=null,Z=0,k=A.length,q=0;q<k;q++){var it=A[q];g=A[q+1];var vt=it[0],Pt={command:vt,prePoint:_,params:it,startTangent:null,endTangent:null,currentPoint:null,nextPoint:null,arcParams:null,box:null,cubicParams:null};switch(vt){case"M":R=[it[1],it[2]],Z=q;break;case"A":var xt=ys(_,it);Pt.arcParams=xt;break}if(vt==="Z")_=R,g=A[Z+1];else{var Wt=it.length;_=[it[Wt-2],it[Wt-1]]}g&&g[0]==="Z"&&(g=A[Z],I[Z]&&(I[Z].prePoint=_)),Pt.currentPoint=_,I[Z]&&gr(_,I[Z].currentPoint)&&(I[Z].prePoint=Pt.prePoint);var Kt=g?[g[g.length-2],g[g.length-1]]:null;Pt.nextPoint=Kt;var Nt=Pt.prePoint;if(["L","H","V"].includes(vt))Pt.startTangent=[Nt[0]-_[0],Nt[1]-_[1]],Pt.endTangent=[_[0]-Nt[0],_[1]-Nt[1]];else if(vt==="Q"){var Gt=[it[1],it[2]];Pt.startTangent=[Nt[0]-Gt[0],Nt[1]-Gt[1]],Pt.endTangent=[_[0]-Gt[0],_[1]-Gt[1]]}else if(vt==="T"){var Jt=I[q-1],te=Si(Jt.currentPoint,Nt);Jt.command==="Q"?(Pt.command="Q",Pt.startTangent=[Nt[0]-te[0],Nt[1]-te[1]],Pt.endTangent=[_[0]-te[0],_[1]-te[1]]):(Pt.command="TL",Pt.startTangent=[Nt[0]-_[0],Nt[1]-_[1]],Pt.endTangent=[_[0]-Nt[0],_[1]-Nt[1]])}else if(vt==="C"){var Xt=[it[1],it[2]],ne=[it[3],it[4]];Pt.startTangent=[Nt[0]-Xt[0],Nt[1]-Xt[1]],Pt.endTangent=[_[0]-ne[0],_[1]-ne[1]],Pt.startTangent[0]===0&&Pt.startTangent[1]===0&&(Pt.startTangent=[Xt[0]-ne[0],Xt[1]-ne[1]]),Pt.endTangent[0]===0&&Pt.endTangent[1]===0&&(Pt.endTangent=[ne[0]-Xt[0],ne[1]-Xt[1]])}else if(vt==="S"){var Ee=I[q-1],$t=Si(Ee.currentPoint,Nt),kt=[it[1],it[2]];Ee.command==="C"?(Pt.command="C",Pt.startTangent=[Nt[0]-$t[0],Nt[1]-$t[1]],Pt.endTangent=[_[0]-kt[0],_[1]-kt[1]]):(Pt.command="SQ",Pt.startTangent=[Nt[0]-kt[0],Nt[1]-kt[1]],Pt.endTangent=[_[0]-kt[0],_[1]-kt[1]])}else if(vt==="A"){var jt=wi(Pt,0),Yt=jt.x,de=jt.y,le=wi(Pt,1,!1),ge=le.x,fe=le.y;Pt.startTangent=[Yt,de],Pt.endTangent=[ge,fe]}I.push(Pt)}return I}function wi(A,I){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,g=A.arcParams,R=g.rx,Z=R===void 0?0:R,k=g.ry,q=k===void 0?0:k,it=g.xRotation,vt=g.arcFlag,Pt=g.sweepFlag,xt=Wi({x:A.prePoint[0],y:A.prePoint[1]},Z,q,it,!!vt,!!Pt,{x:A.currentPoint[0],y:A.currentPoint[1]},I),Wt=Wi({x:A.prePoint[0],y:A.prePoint[1]},Z,q,it,!!vt,!!Pt,{x:A.currentPoint[0],y:A.currentPoint[1]},_?I+.005:I-.005),Kt=Wt.x-xt.x,Nt=Wt.y-xt.y,Gt=Math.sqrt(Kt*Kt+Nt*Nt);return{x:-Kt/Gt,y:-Nt/Gt}}function Er(A){return Math.sqrt(A[0]*A[0]+A[1]*A[1])}function Vr(A,I){return Er(A)*Er(I)?(A[0]*I[0]+A[1]*I[1])/(Er(A)*Er(I)):1}function Ui(A,I){return(A[0]*I[1]<A[1]*I[0]?-1:1)*Math.acos(Vr(A,I))}function ys(A,I){var _=I[1],g=I[2],R=(0,P.Z)(At(I[3]),Math.PI*2),Z=I[4],k=I[5],q=A[0],it=A[1],vt=I[6],Pt=I[7],xt=Math.cos(R)*(q-vt)/2+Math.sin(R)*(it-Pt)/2,Wt=-1*Math.sin(R)*(q-vt)/2+Math.cos(R)*(it-Pt)/2,Kt=xt*xt/(_*_)+Wt*Wt/(g*g);Kt>1&&(_*=Math.sqrt(Kt),g*=Math.sqrt(Kt));var Nt=_*_*(Wt*Wt)+g*g*(xt*xt),Gt=Nt?Math.sqrt((_*_*(g*g)-Nt)/Nt):1;Z===k&&(Gt*=-1),isNaN(Gt)&&(Gt=0);var Jt=g?Gt*_*Wt/g:0,te=_?Gt*-g*xt/_:0,Xt=(q+vt)/2+Math.cos(R)*Jt-Math.sin(R)*te,ne=(it+Pt)/2+Math.sin(R)*Jt+Math.cos(R)*te,Ee=[(xt-Jt)/_,(Wt-te)/g],$t=[(-1*xt-Jt)/_,(-1*Wt-te)/g],kt=Ui([1,0],Ee),jt=Ui(Ee,$t);return Vr(Ee,$t)<=-1&&(jt=Math.PI),Vr(Ee,$t)>=1&&(jt=0),k===0&&jt>0&&(jt-=2*Math.PI),k===1&&jt<0&&(jt+=2*Math.PI),{cx:Xt,cy:ne,rx:gr(A,[vt,Pt])?0:_,ry:gr(A,[vt,Pt])?0:g,startAngle:kt,endAngle:kt+jt,xRotation:R,arcFlag:Z,sweepFlag:k}}function Ms(A,I,_){return A.reduce(function(g,R){var Z="";if(R[0]==="M"||R[0]==="L"){var k=vec3.fromValues(R[1],R[2],0);_&&vec3.transformMat4(k,k,_),Z="".concat(R[0]).concat(k[0],",").concat(k[1])}else if(R[0]==="Z")Z=R[0];else if(R[0]==="C"){var q=vec3.fromValues(R[1],R[2],0),it=vec3.fromValues(R[3],R[4],0),vt=vec3.fromValues(R[5],R[6],0);_&&(vec3.transformMat4(q,q,_),vec3.transformMat4(it,it,_),vec3.transformMat4(vt,vt,_)),Z="".concat(R[0]).concat(q[0],",").concat(q[1],",").concat(it[0],",").concat(it[1],",").concat(vt[0],",").concat(vt[1])}else if(R[0]==="A"){var Pt=vec3.fromValues(R[6],R[7],0);_&&vec3.transformMat4(Pt,Pt,_),Z="".concat(R[0]).concat(R[1],",").concat(R[2],",").concat(R[3],",").concat(R[4],",").concat(R[5],",").concat(Pt[0],",").concat(Pt[1])}else if(R[0]==="Q"){var xt=vec3.fromValues(R[1],R[2],0),Wt=vec3.fromValues(R[3],R[4],0);_&&(vec3.transformMat4(xt,xt,_),vec3.transformMat4(Wt,Wt,_)),Z="".concat(R[0]).concat(R[1],",").concat(R[2],",").concat(R[3],",").concat(R[4],"}")}return g+=Z},"")}function Os(A,I,_,g){return[["M",A,I],["L",_,g]]}function Ni(A,I,_,g){var R=(-1+Math.sqrt(2))/3*4,Z=A*R,k=I*R,q=_-A,it=_+A,vt=g-I,Pt=g+I;return[["M",q,g],["C",q,g-k,_-Z,vt,_,vt],["C",_+Z,vt,it,g-k,it,g],["C",it,g+k,_+Z,Pt,_,Pt],["C",_-Z,Pt,q,g+k,q,g],["Z"]]}function Ps(A,I){var _=A.map(function(g,R){return[R===0?"M":"L",g[0],g[1]]});return I&&_.push(["Z"]),_}function Ds(A,I,_,g,R){if(R){var Z=_slicedToArray(R,4),k=Z[0],q=Z[1],it=Z[2],vt=Z[3],Pt=A>0?1:-1,xt=I>0?1:-1,Wt=Pt+xt!==0?1:0;return[["M",Pt*k+_,g],["L",A-Pt*q+_,g],q?["A",q,q,0,0,Wt,A+_,xt*q+g]:null,["L",A+_,I-xt*it+g],it?["A",it,it,0,0,Wt,A+_-Pt*it,I+g]:null,["L",_+Pt*vt,I+g],vt?["A",vt,vt,0,0,Wt,_,I+g-xt*vt]:null,["L",_,xt*k+g],k?["A",k,k,0,0,Wt,Pt*k+_,g]:null,["Z"]].filter(function(Kt){return Kt})}return[["M",_,g],["L",_+A,g],["L",_+A,g+I],["L",_,g+I],["Z"]]}function Hl(A){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:A.getLocalTransform(),_=[];switch(A.nodeName){case et.LINE:var g=A.parsedStyle,R=g.x1,Z=R===void 0?0:R,k=g.y1,q=k===void 0?0:k,it=g.x2,vt=it===void 0?0:it,Pt=g.y2,xt=Pt===void 0?0:Pt;_=Os(Z,q,vt,xt);break;case et.CIRCLE:{var Wt=A.parsedStyle,Kt=Wt.r,Nt=Kt===void 0?0:Kt,Gt=Wt.cx,Jt=Gt===void 0?0:Gt,te=Wt.cy,Xt=te===void 0?0:te;_=Ni(Nt,Nt,Jt,Xt);break}case et.ELLIPSE:{var ne=A.parsedStyle,Ee=ne.rx,$t=Ee===void 0?0:Ee,kt=ne.ry,jt=kt===void 0?0:kt,Yt=ne.cx,de=Yt===void 0?0:Yt,le=ne.cy,ge=le===void 0?0:le;_=Ni($t,jt,de,ge);break}case et.POLYLINE:case et.POLYGON:var fe=A.parsedStyle.points;_=Ps(fe.points,A.nodeName===et.POLYGON);break;case et.RECT:var Pe=A.parsedStyle,xe=Pe.width,Ie=xe===void 0?0:xe,Be=Pe.height,ye=Be===void 0?0:Be,Ae=Pe.x,Re=Ae===void 0?0:Ae,nn=Pe.y,sn=nn===void 0?0:nn,bn=Pe.radius,gi=bn&&bn.some(function(ur){return ur!==0});_=Ds(Ie,ye,Re,sn,gi&&bn.map(function(ur){return clamp(ur,0,Math.min(Math.abs(Ie)/2,Math.abs(ye)/2))}));break;case et.PATH:var pi=A.parsedStyle.d.absolutePath;_=_toConsumableArray(pi);break}if(_.length)return Ms(_,A,I)}function $l(A){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,R=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,Z=A.map(function(k,q){var it=k[0],vt=A[q+1],Pt=q===0&&(I!==0||_!==0),xt=(q===A.length-1||vt&&(vt[0]==="M"||vt[0]==="Z"))&&g!==0&&R!==0,Wt=Pt?[I,_]:[0,0],Kt=_slicedToArray(Wt,2),Nt=Kt[0],Gt=Kt[1],Jt=xt?[g,R]:[0,0],te=_slicedToArray(Jt,2),Xt=te[0],ne=te[1];switch(it){case"M":return"M ".concat(k[1]+Nt,",").concat(k[2]+Gt);case"L":return"L ".concat(k[1]+Xt,",").concat(k[2]+ne);case"Q":return"Q ".concat(k[1]," ").concat(k[2],",").concat(k[3]+Xt," ").concat(k[4]+ne);case"C":return"C ".concat(k[1]," ").concat(k[2],",").concat(k[3]," ").concat(k[4],",").concat(k[5]+Xt," ").concat(k[6]+ne);case"A":return"A ".concat(k[1]," ").concat(k[2]," ").concat(k[3]," ").concat(k[4]," ").concat(k[5]," ").concat(k[6]," ").concat(k[7]).concat(xt?" L ".concat(k[6]+g,",").concat(k[7]+R):"");case"Z":return"Z";default:return null}}).filter(function(k){return k!==null}).join(" ");return~Z.indexOf("NaN")?"":Z}var Ki=function(I){if(I===""||Array.isArray(I)&&I.length===0)return{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:{x:0,y:0,width:0,height:0}};var _;try{_=(0,b.A)(I)}catch(Kt){_=(0,b.A)(""),console.error("[g]: Invalid SVG Path definition: ".concat(I))}_s(_);var g=gs(_),R=ps(_),Z=R.polygons,k=R.polylines,q=ms(_),it=Es(q,0),vt=it.x,Pt=it.y,xt=it.width,Wt=it.height;return{absolutePath:_,hasArc:g,segments:q,polygons:Z,polylines:k,totalLength:0,rect:{x:Number.isFinite(vt)?vt:0,y:Number.isFinite(Pt)?Pt:0,width:Number.isFinite(xt)?xt:0,height:Number.isFinite(Wt)?Wt:0}}},Cs=Qe(Ki);function ki(A){return(0,i.Z)(A)?Cs(A):Ki(A)}function Ts(A,I,_){var g=A.curve,R=I.curve;(!g||g.length===0)&&(g=(0,x.Y)(A.absolutePath,!1),A.curve=g),(!R||R.length===0)&&(R=(0,x.Y)(I.absolutePath,!1),I.curve=R);var Z=[g,R];g.length!==R.length&&(Z=(0,L.x)(g,R));var k=(0,S.b)(Z[0])!==(0,S.b)(Z[1])?(0,K.G)(Z[0]):(0,U.U)(Z[0]);return[k,(0,j.g)(Z[1],k),function(q){return q}]}function bs(A,I){var _;return(0,i.Z)(A)?_=A.split(" ").map(function(g){var R=g.split(","),Z=(0,h.Z)(R,2),k=Z[0],q=Z[1];return[Number(k),Number(q)]}):_=A,{points:_,totalLength:0,segments:[]}}function xs(A,I){return[A.points,I.points,function(_){return _}]}var Xe=null,$n=/\s*(\w+)\(([^)]*)\)/g;function gn(A){return function(I){var _=0;return A.map(function(g){return g===Xe?I[_++]:g})}}function Nn(A){return A}var er={matrix:["NNNNNN",[Xe,Xe,0,0,Xe,Xe,0,0,0,0,1,0,Xe,Xe,0,1],Nn],matrix3d:["NNNNNNNNNNNNNNNN",Nn],rotate:["A"],rotateX:["A"],rotateY:["A"],rotateZ:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",gn([Xe,Xe,new ke(1)]),Nn],scaleX:["N",gn([Xe,new ke(1),new ke(1)]),gn([Xe,new ke(1)])],scaleY:["N",gn([new ke(1),Xe,new ke(1)]),gn([new ke(1),Xe])],scaleZ:["N",gn([new ke(1),new ke(1),Xe])],scale3d:["NNN",Nn],skew:["Aa",null,Nn],skewX:["A",null,gn([Xe,Un])],skewY:["A",null,gn([Un,Xe])],translate:["Tt",gn([Xe,Xe,Tn]),Nn],translateX:["T",gn([Xe,Tn,Tn]),gn([Xe,Tn])],translateY:["T",gn([Tn,Xe,Tn]),gn([Tn,Xe])],translateZ:["L",gn([Tn,Tn,Xe])],translate3d:["TTL",Nn]};function Zi(A){for(var I=[],_=A.length,g=0;g<_;g++){var R=A[g],Z=R[0],k=R.slice(1);Z==="translate"||Z==="skew"?k.length===1&&k.push(0):Z==="scale"&&k.length===1&&k.push(k[0]);var q=er[Z];if(!q)return[];var it=k.map(function(vt){return Ve(vt)});I.push({t:Z,d:it})}return I}function Fi(A){if(Array.isArray(A))return Zi(A);if(A=(A||"none").trim(),A==="none")return[];var I=[],_,g=0;for($n.lastIndex=0;_=$n.exec(A);){if(_.index!==g)return[];g=_.index+_[0].length;var R=_[1],Z=er[R];if(!Z)return[];var k=_[2].split(","),q=Z[0];if(q.length<k.length)return[];for(var it=[],vt=0;vt<q.length;vt++){var Pt=k[vt],xt=q[vt],Wt=void 0;if(Pt?Wt={A:function(Nt){return Nt.trim()==="0"?Un:us(Nt)},N:Zr,T:kr,L:os}[xt.toUpperCase()](Pt):Wt={a:Un,n:it[0],t:Tn}[xt],Wt===void 0)return[];it.push(Wt)}if(I.push({t:R,d:it}),$n.lastIndex===A.length)return I}return[]}function As(A){if(Array.isArray(A))return Zi(A);if(A=(A||"none").trim(),A==="none")return[];var I=[],_,g=0;for($n.lastIndex=0;_=$n.exec(A);){if(_.index!==g)return[];g=_.index+_[0].length;var R=_[1],Z=er[R];if(!Z)return[];var k=_[2].split(","),q=Z[0];if(q.length<k.length)return[];for(var it=[],vt=0;vt<q.length;vt++){var Pt=k[vt],xt=q[vt],Wt=void 0;if(Pt?Wt={A:function(Nt){return Nt.trim()==="0"?Un:xi(Nt)},N:Li,T:bi,L:Ti}[xt.toUpperCase()](Pt):Wt={a:Un,n:it[0],t:Tn}[xt],Wt===void 0)return[];it.push(Wt)}if(I.push({t:R,d:it}),$n.lastIndex===A.length)return I}return[]}function Rs(A){var I,_,g,R;switch(A.t){case"rotateX":return R=At(_n(A.d[0])),[1,0,0,0,0,Math.cos(R),Math.sin(R),0,0,-Math.sin(R),Math.cos(R),0,0,0,0,1];case"rotateY":return R=At(_n(A.d[0])),[Math.cos(R),0,-Math.sin(R),0,0,1,0,0,Math.sin(R),0,Math.cos(R),0,0,0,0,1];case"rotate":case"rotateZ":return R=At(_n(A.d[0])),[Math.cos(R),Math.sin(R),0,0,-Math.sin(R),Math.cos(R),0,0,0,0,1,0,0,0,0,1];case"rotate3d":I=A.d[0].value,_=A.d[1].value,g=A.d[2].value,R=At(_n(A.d[3]));var Z=I*I+_*_+g*g;if(Z===0)I=1,_=0,g=0;else if(Z!==1){var k=Math.sqrt(Z);I/=k,_/=k,g/=k}var q=Math.sin(R/2),it=q*Math.cos(R/2),vt=q*q;return[1-2*(_*_+g*g)*vt,2*(I*_*vt+g*it),2*(I*g*vt-_*it),0,2*(I*_*vt-g*it),1-2*(I*I+g*g)*vt,2*(_*g*vt+I*it),0,2*(I*g*vt+_*it),2*(_*g*vt-I*it),1-2*(I*I+_*_)*vt,0,0,0,0,1];case"scale":return[A.d[0].value,0,0,0,0,A.d[1].value,0,0,0,0,1,0,0,0,0,1];case"scaleX":return[A.d[0].value,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaleY":return[1,0,0,0,0,A.d[0].value,0,0,0,0,1,0,0,0,0,1];case"scaleZ":return[1,0,0,0,0,1,0,0,0,0,A.d[0].value,0,0,0,0,1];case"scale3d":return[A.d[0].value,0,0,0,0,A.d[1].value,0,0,0,0,A.d[2].value,0,0,0,0,1];case"skew":var Pt=At(_n(A.d[0])),xt=At(_n(A.d[1]));return[1,Math.tan(xt),0,0,Math.tan(Pt),1,0,0,0,0,1,0,0,0,0,1];case"skewX":return R=At(_n(A.d[0])),[1,0,0,0,Math.tan(R),1,0,0,0,0,1,0,0,0,0,1];case"skewY":return R=At(_n(A.d[0])),[1,Math.tan(R),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return I=pn(A.d[0],0,null)||0,_=pn(A.d[1],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,I,_,0,1];case"translateX":return I=pn(A.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,I,0,0,1];case"translateY":return _=pn(A.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,_,0,1];case"translateZ":return g=pn(A.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,g,1];case"translate3d":return I=pn(A.d[0],0,null)||0,_=pn(A.d[1],0,null)||0,g=pn(A.d[2],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,I,_,g,1];case"perspective":var Wt=pn(A.d[0],0,null)||0,Kt=Wt?-1/Wt:0;return[1,0,0,0,0,1,0,0,0,0,1,Kt,0,0,0,1];case"matrix":return[A.d[0].value,A.d[1].value,0,0,A.d[2].value,A.d[3].value,0,0,0,0,1,0,A.d[4].value,A.d[5].value,0,1];case"matrix3d":return A.d.map(function(Nt){return Nt.value})}}function Ls(A,I){return[A[0]*I[0]+A[4]*I[1]+A[8]*I[2]+A[12]*I[3],A[1]*I[0]+A[5]*I[1]+A[9]*I[2]+A[13]*I[3],A[2]*I[0]+A[6]*I[1]+A[10]*I[2]+A[14]*I[3],A[3]*I[0]+A[7]*I[1]+A[11]*I[2]+A[15]*I[3],A[0]*I[4]+A[4]*I[5]+A[8]*I[6]+A[12]*I[7],A[1]*I[4]+A[5]*I[5]+A[9]*I[6]+A[13]*I[7],A[2]*I[4]+A[6]*I[5]+A[10]*I[6]+A[14]*I[7],A[3]*I[4]+A[7]*I[5]+A[11]*I[6]+A[15]*I[7],A[0]*I[8]+A[4]*I[9]+A[8]*I[10]+A[12]*I[11],A[1]*I[8]+A[5]*I[9]+A[9]*I[10]+A[13]*I[11],A[2]*I[8]+A[6]*I[9]+A[10]*I[10]+A[14]*I[11],A[3]*I[8]+A[7]*I[9]+A[11]*I[10]+A[15]*I[11],A[0]*I[12]+A[4]*I[13]+A[8]*I[14]+A[12]*I[15],A[1]*I[12]+A[5]*I[13]+A[9]*I[14]+A[13]*I[15],A[2]*I[12]+A[6]*I[13]+A[10]*I[14]+A[14]*I[15],A[3]*I[12]+A[7]*I[13]+A[11]*I[14]+A[15]*I[15]]}function Is(A){return A.length===0?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:A.map(Rs).reduce(Ls)}function zi(A){var I=[0,0,0],_=[1,1,1],g=[0,0,0],R=[0,0,0,1],Z=[0,0,0,1];return vn(Is(A),I,_,g,R,Z),[[I,_,g,Z,R]]}var Ss=function(){function A(g,R){for(var Z=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],k=0;k<4;k++)for(var q=0;q<4;q++)for(var it=0;it<4;it++)Z[k][q]+=R[k][it]*g[it][q];return Z}function I(g){return g[0][2]===0&&g[0][3]===0&&g[1][2]===0&&g[1][3]===0&&g[2][0]===0&&g[2][1]===0&&g[2][2]===1&&g[2][3]===0&&g[3][2]===0&&g[3][3]===1}function _(g,R,Z,k,q){for(var it=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],vt=0;vt<4;vt++)it[vt][3]=q[vt];for(var Pt=0;Pt<3;Pt++)for(var xt=0;xt<3;xt++)it[3][Pt]+=g[xt]*it[xt][Pt];var Wt=k[0],Kt=k[1],Nt=k[2],Gt=k[3],Jt=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];Jt[0][0]=1-2*(Kt*Kt+Nt*Nt),Jt[0][1]=2*(Wt*Kt-Nt*Gt),Jt[0][2]=2*(Wt*Nt+Kt*Gt),Jt[1][0]=2*(Wt*Kt+Nt*Gt),Jt[1][1]=1-2*(Wt*Wt+Nt*Nt),Jt[1][2]=2*(Kt*Nt-Wt*Gt),Jt[2][0]=2*(Wt*Nt-Kt*Gt),Jt[2][1]=2*(Kt*Nt+Wt*Gt),Jt[2][2]=1-2*(Wt*Wt+Kt*Kt),it=A(it,Jt);var te=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];Z[2]&&(te[2][1]=Z[2],it=A(it,te)),Z[1]&&(te[2][1]=0,te[2][0]=Z[0],it=A(it,te)),Z[0]&&(te[2][0]=0,te[1][0]=Z[0],it=A(it,te));for(var Xt=0;Xt<3;Xt++)for(var ne=0;ne<3;ne++)it[Xt][ne]*=R[Xt];return I(it)?[it[0][0],it[0][1],it[1][0],it[1][1],it[3][0],it[3][1]]:it[0].concat(it[1],it[2],it[3])}return _}();function Bs(A){return A.toFixed(6).replace(".000000","")}function Gr(A,I){var _,g;return A.decompositionPair!==I&&(A.decompositionPair=I,_=zi(A)),I.decompositionPair!==A&&(I.decompositionPair=A,g=zi(I)),_[0]===null||g[0]===null?[[!1],[!0],function(R){return R?I[0].d:A[0].d}]:(_[0].push(0),g[0].push(1),[_,g,function(R){var Z=ws(_[0][3],g[0][3],R[5]),k=Ss(R[0],R[1],R[2],Z,R[4]),q=k.map(Bs).join(",");return q}])}function Ws(A,I){for(var _=0,g=0;g<A.length;g++)_+=A[g]*I[g];return _}function ws(A,I,_){var g=Ws(A,I);g=(0,n.Z)(g,-1,1);var R=[];if(g===1)R=A;else for(var Z=Math.acos(g),k=Math.sin(_*Z)*1/Math.sqrt(1-g*g),q=0;q<4;q++)R.push(A[q]*(Math.cos(_*Z)-g*k)+I[q]*k);return R}function Hr(A){return A.replace(/[XY]/,"")}function $r(A){return A.replace(/(X|Y|Z|3d)?$/,"3d")}var Us=function(I,_){return I==="perspective"&&_==="perspective"||(I==="matrix"||I==="matrix3d")&&(_==="matrix"||_==="matrix3d")};function Ns(A,I,_){var g=!1;if(!A.length||!I.length){A.length||(g=!0,A=I,I=[]);for(var R=function(){var ge=A[Z],fe=ge.t,Pe=ge.d,xe=fe.substring(0,5)==="scale"?1:0;I.push({t:fe,d:Pe.map(function(Ie){return typeof Ie=="number"?Ve(xe):Ve(xe,Ie.unit)})})},Z=0;Z<A.length;Z++)R()}var k=[],q=[],it=[];if(A.length!==I.length){var vt=Gr(A,I);k=[vt[0]],q=[vt[1]],it=[["matrix",[vt[2]]]]}else for(var Pt=0;Pt<A.length;Pt++){var xt=A[Pt].t,Wt=I[Pt].t,Kt=A[Pt].d,Nt=I[Pt].d,Gt=er[xt],Jt=er[Wt],te=void 0;if(Us(xt,Wt)){var Xt=Gr([A[Pt]],[I[Pt]]);k.push(Xt[0]),q.push(Xt[1]),it.push(["matrix",[Xt[2]]]);continue}else if(xt===Wt)te=xt;else if(Gt[2]&&Jt[2]&&Hr(xt)===Hr(Wt))te=Hr(xt),Kt=Gt[2](Kt),Nt=Jt[2](Nt);else if(Gt[1]&&Jt[1]&&$r(xt)===$r(Wt))te=$r(xt),Kt=Gt[1](Kt),Nt=Jt[1](Nt);else{var ne=Gr(A,I);k=[ne[0]],q=[ne[1]],it=[["matrix",[ne[2]]]];break}for(var Ee=[],$t=[],kt=[],jt=0;jt<Kt.length;jt++){var Yt=cs(Kt[jt],Nt[jt],_,!1,jt);Ee[jt]=Yt[0],$t[jt]=Yt[1],kt.push(Yt[2])}k.push(Ee),q.push($t),it.push([te,kt])}if(g){var de=k;k=q,q=de}return[k,q,function(le){return le.map(function(ge,fe){var Pe=ge.map(function(xe,Ie){return it[fe][1][Ie](xe)}).join(",");return it[fe][0]==="matrix"&&Pe.split(",").length===16&&(it[fe][0]="matrix3d"),it[fe][0]==="matrix3d"&&Pe.split(",").length===6&&(it[fe][0]="matrix"),"".concat(it[fe][0],"(").concat(Pe,")")}).join(" ")}]}var Ks=Qe(function(A){if((0,i.Z)(A)){if(A==="text-anchor")return[Ve(0,"px"),Ve(0,"px")];var I=A.split(" ");return I.length===1&&(I[0]==="top"||I[0]==="bottom"?(I[1]=I[0],I[0]="center"):I[1]="center"),I.length!==2?null:[kr(ji(I[0])),kr(ji(I[1]))]}return[Ve(A[0]||0,"px"),Ve(A[1]||0,"px")]});function ji(A){return A==="center"?"50%":A==="left"||A==="top"?"0%":A==="right"||A==="bottom"?"100%":A}var Yr=[{n:"display",k:["none"]},{n:"opacity",int:!0,inh:!0,d:"1",syntax:ue.OPACITY_VALUE},{n:"fillOpacity",int:!0,inh:!0,d:"1",syntax:ue.OPACITY_VALUE},{n:"strokeOpacity",int:!0,inh:!0,d:"1",syntax:ue.OPACITY_VALUE},{n:"fill",int:!0,k:["none"],d:"none",syntax:ue.PAINT},{n:"fillRule",k:["nonzero","evenodd"],d:"nonzero"},{n:"stroke",int:!0,k:["none"],d:"none",syntax:ue.PAINT,l:!0},{n:"shadowType",k:["inner","outer","both"],d:"outer",l:!0},{n:"shadowColor",int:!0,syntax:ue.COLOR},{n:"shadowOffsetX",int:!0,l:!0,d:"0",syntax:ue.LENGTH_PERCENTAGE},{n:"shadowOffsetY",int:!0,l:!0,d:"0",syntax:ue.LENGTH_PERCENTAGE},{n:"shadowBlur",int:!0,l:!0,d:"0",syntax:ue.SHADOW_BLUR},{n:"lineWidth",int:!0,inh:!0,d:"1",l:!0,a:["strokeWidth"],syntax:ue.LENGTH_PERCENTAGE},{n:"increasedLineWidthForHitTesting",inh:!0,d:"0",l:!0,syntax:ue.LENGTH_PERCENTAGE},{n:"lineJoin",inh:!0,l:!0,a:["strokeLinejoin"],k:["miter","bevel","round"],d:"miter"},{n:"lineCap",inh:!0,l:!0,a:["strokeLinecap"],k:["butt","round","square"],d:"butt"},{n:"lineDash",int:!0,inh:!0,k:["none"],a:["strokeDasharray"],syntax:ue.LENGTH_PERCENTAGE_12},{n:"lineDashOffset",int:!0,inh:!0,d:"0",a:["strokeDashoffset"],syntax:ue.LENGTH_PERCENTAGE},{n:"offsetPath",syntax:ue.DEFINED_PATH},{n:"offsetDistance",int:!0,syntax:ue.OFFSET_DISTANCE},{n:"dx",int:!0,l:!0,d:"0",syntax:ue.LENGTH_PERCENTAGE},{n:"dy",int:!0,l:!0,d:"0",syntax:ue.LENGTH_PERCENTAGE},{n:"zIndex",ind:!0,int:!0,d:"0",k:["auto"],syntax:ue.Z_INDEX},{n:"visibility",k:["visible","hidden"],ind:!0,inh:!0,int:!0,d:"visible"},{n:"pointerEvents",inh:!0,k:["none","auto","stroke","fill","painted","visible","visiblestroke","visiblefill","visiblepainted","all"],d:"auto"},{n:"filter",ind:!0,l:!0,k:["none"],d:"none",syntax:ue.FILTER},{n:"clipPath",syntax:ue.DEFINED_PATH},{n:"textPath",syntax:ue.DEFINED_PATH},{n:"textPathSide",k:["left","right"],d:"left"},{n:"textPathStartOffset",l:!0,d:"0",syntax:ue.LENGTH_PERCENTAGE},{n:"transform",p:100,int:!0,k:["none"],d:"none",syntax:ue.TRANSFORM},{n:"transformOrigin",p:100,d:"0 0",l:!0,syntax:ue.TRANSFORM_ORIGIN},{n:"cx",int:!0,l:!0,d:"0",syntax:ue.COORDINATE},{n:"cy",int:!0,l:!0,d:"0",syntax:ue.COORDINATE},{n:"cz",int:!0,l:!0,d:"0",syntax:ue.COORDINATE},{n:"r",int:!0,l:!0,d:"0",syntax:ue.LENGTH_PERCENTAGE},{n:"rx",int:!0,l:!0,d:"0",syntax:ue.LENGTH_PERCENTAGE},{n:"ry",int:!0,l:!0,d:"0",syntax:ue.LENGTH_PERCENTAGE},{n:"x",int:!0,l:!0,d:"0",syntax:ue.COORDINATE},{n:"y",int:!0,l:!0,d:"0",syntax:ue.COORDINATE},{n:"z",int:!0,l:!0,d:"0",syntax:ue.COORDINATE},{n:"width",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:ue.LENGTH_PERCENTAGE},{n:"height",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:ue.LENGTH_PERCENTAGE},{n:"radius",int:!0,l:!0,d:"0",syntax:ue.LENGTH_PERCENTAGE_14},{n:"x1",int:!0,l:!0,syntax:ue.COORDINATE},{n:"y1",int:!0,l:!0,syntax:ue.COORDINATE},{n:"z1",int:!0,l:!0,syntax:ue.COORDINATE},{n:"x2",int:!0,l:!0,syntax:ue.COORDINATE},{n:"y2",int:!0,l:!0,syntax:ue.COORDINATE},{n:"z2",int:!0,l:!0,syntax:ue.COORDINATE},{n:"d",int:!0,l:!0,d:"",syntax:ue.PATH,p:50},{n:"points",int:!0,l:!0,syntax:ue.LIST_OF_POINTS,p:50},{n:"text",l:!0,d:"",syntax:ue.TEXT,p:50},{n:"textTransform",l:!0,inh:!0,k:["capitalize","uppercase","lowercase","none"],d:"none",syntax:ue.TEXT_TRANSFORM,p:51},{n:"font",l:!0},{n:"fontSize",int:!0,inh:!0,d:"16px",l:!0,syntax:ue.LENGTH_PERCENTAGE},{n:"fontFamily",l:!0,inh:!0,d:"sans-serif"},{n:"fontStyle",l:!0,inh:!0,k:["normal","italic","oblique"],d:"normal"},{n:"fontWeight",l:!0,inh:!0,k:["normal","bold","bolder","lighter"],d:"normal"},{n:"fontVariant",l:!0,inh:!0,k:["normal","small-caps"],d:"normal"},{n:"lineHeight",l:!0,syntax:ue.LENGTH,int:!0,d:"0"},{n:"letterSpacing",l:!0,syntax:ue.LENGTH,int:!0,d:"0"},{n:"miterLimit",l:!0,syntax:ue.NUMBER,d:function(I){return I===et.PATH||I===et.POLYGON||I===et.POLYLINE?"4":"10"}},{n:"wordWrap",l:!0},{n:"wordWrapWidth",l:!0},{n:"maxLines",l:!0},{n:"textOverflow",l:!0,d:"clip"},{n:"leading",l:!0},{n:"textBaseline",l:!0,inh:!0,k:["top","hanging","middle","alphabetic","ideographic","bottom"],d:"alphabetic"},{n:"textAlign",l:!0,inh:!0,k:["start","center","middle","end","left","right"],d:"start"},{n:"markerStart",syntax:ue.MARKER},{n:"markerEnd",syntax:ue.MARKER},{n:"markerMid",syntax:ue.MARKER},{n:"markerStartOffset",syntax:ue.LENGTH,l:!0,int:!0,d:"0"},{n:"markerEndOffset",syntax:ue.LENGTH,l:!0,int:!0,d:"0"}],ks=new Set(Yr.filter(function(A){return!!A.l}).map(function(A){return A.n})),Vi={},Zs=function(){function A(I){var _=this;(0,T.Z)(this,A),this.runtime=I,Yr.forEach(function(g){_.registerMetadata(g)})}return(0,y.Z)(A,[{key:"registerMetadata",value:function(_){[_.n].concat((0,C.Z)(_.a||[])).forEach(function(g){Vi[g]=_})}},{key:"getPropertySyntax",value:function(_){return this.runtime.CSSPropertySyntaxFactory[_]}},{key:"processProperties",value:function(_,g){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{skipUpdateAttribute:!1,skipParse:!1,forceUpdateGeometry:!1,usedAttributes:[],memoize:!0};Object.assign(_.attributes,g);var Z=_.parsedStyle.clipPath,k=_.parsedStyle.offsetPath;Fs(_,g);var q=!!R.forceUpdateGeometry;if(!q){for(var it in g)if(ks.has(it)){q=!0;break}}var vt=Gi(_);vt.has("fill")&&g.fill&&(_.parsedStyle.fill=qn(g.fill)),vt.has("stroke")&&g.stroke&&(_.parsedStyle.stroke=qn(g.stroke)),vt.has("shadowColor")&&g.shadowColor&&(_.parsedStyle.shadowColor=qn(g.shadowColor)),vt.has("filter")&&g.filter&&(_.parsedStyle.filter=hs(g.filter)),vt.has("radius")&&!(0,e.Z)(g.radius)&&(_.parsedStyle.radius=Ai(g.radius,4)),vt.has("lineDash")&&!(0,e.Z)(g.lineDash)&&(_.parsedStyle.lineDash=Ai(g.lineDash,"even")),vt.has("points")&&g.points&&(_.parsedStyle.points=bs(g.points)),vt.has("d")&&g.d===""&&(_.parsedStyle.d=(0,d.Z)({},on)),vt.has("d")&&g.d&&(_.parsedStyle.d=ki(g.d)),vt.has("textTransform")&&g.textTransform&&this.runtime.CSSPropertySyntaxFactory[ue.TEXT_TRANSFORM].calculator(null,null,{value:g.textTransform},_,null),vt.has("clipPath")&&!(0,F.Z)(g.clipPath)&&this.runtime.CSSPropertySyntaxFactory[ue.DEFINED_PATH].calculator("clipPath",Z,g.clipPath,_,this.runtime),vt.has("offsetPath")&&g.offsetPath&&this.runtime.CSSPropertySyntaxFactory[ue.DEFINED_PATH].calculator("offsetPath",k,g.offsetPath,_,this.runtime),vt.has("transform")&&g.transform&&(_.parsedStyle.transform=Fi(g.transform)),vt.has("transformOrigin")&&g.transformOrigin&&(_.parsedStyle.transformOrigin=Ks(g.transformOrigin)),vt.has("markerStart")&&g.markerStart&&(_.parsedStyle.markerStart=this.runtime.CSSPropertySyntaxFactory[ue.MARKER].calculator(null,g.markerStart,g.markerStart,null,null)),vt.has("markerEnd")&&g.markerEnd&&(_.parsedStyle.markerEnd=this.runtime.CSSPropertySyntaxFactory[ue.MARKER].calculator(null,g.markerEnd,g.markerEnd,null,null)),vt.has("markerMid")&&g.markerMid&&(_.parsedStyle.markerMid=this.runtime.CSSPropertySyntaxFactory[ue.MARKER].calculator("",g.markerMid,g.markerMid,null,null)),vt.has("zIndex")&&!(0,e.Z)(g.zIndex)&&this.runtime.CSSPropertySyntaxFactory[ue.Z_INDEX].postProcessor(_),vt.has("offsetDistance")&&!(0,e.Z)(g.offsetDistance)&&this.runtime.CSSPropertySyntaxFactory[ue.OFFSET_DISTANCE].postProcessor(_),vt.has("transform")&&g.transform&&this.runtime.CSSPropertySyntaxFactory[ue.TRANSFORM].postProcessor(_),vt.has("transformOrigin")&&g.transformOrigin&&this.runtime.CSSPropertySyntaxFactory[ue.TRANSFORM_ORIGIN].postProcessor(_),q&&(_.geometry.dirty=!0,_.dirty(!0,!0),R.forceUpdateGeometry||this.runtime.sceneGraphService.dirtyToRoot(_))}},{key:"updateGeometry",value:function(_){var g=_.nodeName,R=this.runtime.geometryUpdaterFactory[g];if(R){var Z=_.geometry;Z.contentBounds||(Z.contentBounds=new bt),Z.renderBounds||(Z.renderBounds=new bt);var k=_.parsedStyle,q=R.update(k,_),it=q.cx,vt=it===void 0?0:it,Pt=q.cy,xt=Pt===void 0?0:Pt,Wt=q.cz,Kt=Wt===void 0?0:Wt,Nt=q.hwidth,Gt=Nt===void 0?0:Nt,Jt=q.hheight,te=Jt===void 0?0:Jt,Xt=q.hdepth,ne=Xt===void 0?0:Xt,Ee=[Math.abs(Gt),Math.abs(te),ne],$t=k.stroke,kt=k.lineWidth,jt=kt===void 0?1:kt,Yt=k.increasedLineWidthForHitTesting,de=Yt===void 0?0:Yt,le=k.shadowType,ge=le===void 0?"outer":le,fe=k.shadowColor,Pe=k.filter,xe=Pe===void 0?[]:Pe,Ie=k.transformOrigin,Be=[vt,xt,Kt];Z.contentBounds.update(Be,Ee);var ye=g===et.POLYLINE||g===et.POLYGON||g===et.PATH?Math.SQRT2:.5,Ae=$t&&!$t.isNone;if(Ae){var Re=((jt||0)+(de||0))*ye;Ee[0]+=Re,Ee[1]+=Re}if(Z.renderBounds.update(Be,Ee),fe&&ge&&ge!=="inner"){var nn=Z.renderBounds,sn=nn.min,bn=nn.max,gi=k.shadowBlur,pi=k.shadowOffsetX,ur=k.shadowOffsetY,Ar=gi||0,Oa=pi||0,Pa=ur||0,wl=sn[0]-Ar+Oa,Ul=bn[0]+Ar+Oa,Nl=sn[1]-Ar+Pa,Kl=bn[1]+Ar+Pa;sn[0]=Math.min(sn[0],wl),bn[0]=Math.max(bn[0],Ul),sn[1]=Math.min(sn[1],Nl),bn[1]=Math.max(bn[1],Kl),Z.renderBounds.setMinMax(sn,bn)}xe.forEach(function(Ta){var ba=Ta.name,Rr=Ta.params;if(ba==="blur"){var xa=Rr[0].value;Z.renderBounds.update(Z.renderBounds.center,o.IH(Z.renderBounds.halfExtents,Z.renderBounds.halfExtents,[xa,xa,0]))}else if(ba==="drop-shadow"){var Aa=Rr[0].value,Ra=Rr[1].value,Lr=Rr[2].value,La=Z.renderBounds,zn=La.min,jn=La.max,Fl=zn[0]-Lr+Aa,zl=jn[0]+Lr+Aa,jl=zn[1]-Lr+Ra,Vl=jn[1]+Lr+Ra;zn[0]=Math.min(zn[0],Fl),jn[0]=Math.max(jn[0],zl),zn[1]=Math.min(zn[1],jl),jn[1]=Math.max(jn[1],Vl),Z.renderBounds.setMinMax(zn,jn)}}),_.geometry.dirty=!1;var kl=Gt<0,Zl=te<0,Da=(kl?-1:1)*(Ie?pn(Ie[0],0,_,!0):0),Ca=(Zl?-1:1)*(Ie?pn(Ie[1],1,_,!0):0);(Da||Ca)&&_.setOrigin(Da,Ca)}}},{key:"updateSizeAttenuation",value:function(_,g){_.style.isSizeAttenuation?(_.style.rawLineWidth||(_.style.rawLineWidth=_.style.lineWidth),_.style.lineWidth=(_.style.rawLineWidth||1)/g,_.nodeName===et.CIRCLE&&(_.style.rawR||(_.style.rawR=_.style.r),_.style.r=(_.style.rawR||1)/g)):(_.style.rawLineWidth&&(_.style.lineWidth=_.style.rawLineWidth,delete _.style.rawLineWidth),_.nodeName===et.CIRCLE&&_.style.rawR&&(_.style.r=_.style.rawR,delete _.style.rawR))}}])}();function Fs(A,I){var _=Gi(A);for(var g in I)_.has(g)&&(A.parsedStyle[g]=I[g])}function Gi(A){return A.constructor.PARSED_STYLE_LIST}var zs=function(){function A(){(0,T.Z)(this,A),this.mixer=Fr}return(0,y.Z)(A,[{key:"calculator",value:function(_,g,R,Z){return _n(R)}}])}(),js=function(){function A(){(0,T.Z)(this,A)}return(0,y.Z)(A,[{key:"calculator",value:function(_,g,R,Z,k){return R instanceof yn&&(R=null),k.sceneGraphService.updateDisplayObjectDependency(_,g,R,Z),_==="clipPath"&&Z.forEach(function(q){q.childNodes.length===0&&k.sceneGraphService.dirtyToRoot(q)}),R}}])}(),Vs=function(){function A(){(0,T.Z)(this,A),this.parser=qn,this.mixer=ss}return(0,y.Z)(A,[{key:"calculator",value:function(_,g,R,Z){return R instanceof yn?R.value==="none"?Oi:Pi:R}}])}(),Gs=function(){function A(){(0,T.Z)(this,A)}return(0,y.Z)(A,[{key:"calculator",value:function(_,g,R){return R instanceof yn?[]:R}}])}();function Hi(A){var I=A.parsedStyle,_=I.fontSize;return(0,e.Z)(_)?null:_}var Xr=function(){function A(){(0,T.Z)(this,A),this.mixer=Fr}return(0,y.Z)(A,[{key:"calculator",value:function(_,g,R,Z,k){if((0,E.Z)(R))return R;if(ke.isRelativeUnit(R.unit)){if(R.unit===pe.kPercentage)return 0;if(R.unit===pe.kEms){if(Z.parentNode){var q=Hi(Z.parentNode);if(q)return q*=R.value,q}return 0}if(R.unit===pe.kRems){var it;if(Z!=null&&(it=Z.ownerDocument)!==null&&it!==void 0&&it.documentElement){var vt=Hi(Z.ownerDocument.documentElement);if(vt)return vt*=R.value,vt}return 0}}else return R.value}}])}(),Hs=function(){function A(){(0,T.Z)(this,A),this.mixer=Ii}return(0,y.Z)(A,[{key:"calculator",value:function(_,g,R){return R.map(function(Z){return Z.value})}}])}(),$s=function(){function A(){(0,T.Z)(this,A),this.mixer=Ii}return(0,y.Z)(A,[{key:"calculator",value:function(_,g,R){return R.map(function(Z){return Z.value})}}])}(),Ys=function(){function A(){(0,T.Z)(this,A)}return(0,y.Z)(A,[{key:"calculator",value:function(_,g,R,Z){var k;R instanceof yn&&(R=null);var q=(k=R)===null||k===void 0?void 0:k.cloneNode(!0);return q&&(q.style.isMarker=!0),q}}])}(),Xs=function(){function A(){(0,T.Z)(this,A),this.mixer=Fr}return(0,y.Z)(A,[{key:"calculator",value:function(_,g,R){return R.value}}])}(),Js=function(){function A(){(0,T.Z)(this,A),this.mixer=zr(0,1)}return(0,y.Z)(A,[{key:"calculator",value:function(_,g,R){return R.value}},{key:"postProcessor",value:function(_){var g=_.parsedStyle,R=g.offsetPath,Z=g.offsetDistance;if(R){var k=R.nodeName;if(k===et.LINE||k===et.PATH||k===et.POLYLINE){var q=R.getPoint(Z);q&&_.setLocalPosition(q.x,q.y)}}}}])}(),Qs=function(){function A(){(0,T.Z)(this,A),this.mixer=zr(0,1)}return(0,y.Z)(A,[{key:"calculator",value:function(_,g,R){return R.value}}])}(),qs=function(){function A(){(0,T.Z)(this,A),this.parser=ki,this.mixer=Ts}return(0,y.Z)(A,[{key:"calculator",value:function(_,g,R){return R instanceof yn&&R.value==="unset"?{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new ct(0,0,0,0)}:R}}])}(),to=(0,y.Z)(function A(){(0,T.Z)(this,A),this.mixer=xs}),eo=function(A){function I(){var _;(0,T.Z)(this,I);for(var g=arguments.length,R=new Array(g),Z=0;Z<g;Z++)R[Z]=arguments[Z];return _=(0,m.Z)(this,I,[].concat(R)),_.mixer=zr(0,1/0),_}return(0,f.Z)(I,A),(0,y.Z)(I)}(Xr),no=function(){function A(){(0,T.Z)(this,A)}return(0,y.Z)(A,[{key:"calculator",value:function(_,g,R,Z){return R instanceof yn?R.value==="unset"?"":R.value:"".concat(R)}},{key:"postProcessor",value:function(_){_.nodeValue="".concat(_.parsedStyle.text)||""}}])}(),ro=function(){function A(){(0,T.Z)(this,A)}return(0,y.Z)(A,[{key:"calculator",value:function(_,g,R,Z){var k=Z.getAttribute("text");if(k){var q=k;R.value==="capitalize"?q=k.charAt(0).toUpperCase()+k.slice(1):R.value==="lowercase"?q=k.toLowerCase():R.value==="uppercase"&&(q=k.toUpperCase()),Z.parsedStyle.text=q}return R.value}}])}(),Yl=function(I){return Object.fromEntries(Object.entries(I).filter(function(_){var g=_slicedToArray(_,2),R=g[1];return R!==void 0}))},Jr=new WeakMap;function io(A,I,_){if(A){var g=typeof A=="string"?document.getElementById(A):A;Jr.has(g)&&Jr.get(g).destroy(_),Jr.set(g,I)}}var Qr=typeof window!="undefined"&&typeof window.document!="undefined";function ao(A){return!!A.getAttribute}function so(A,I){for(var _=0,g=A.length;_<g;){var R=_+g>>>1;$i(A[R],I)<0?_=R+1:g=R}return _}function $i(A,I){var _=Number(A.parsedStyle.zIndex||0),g=Number(I.parsedStyle.zIndex||0);if(_===g){var R=A.parentNode;if(R){var Z=R.childNodes||[];return Z.indexOf(A)-Z.indexOf(I)}}return _-g}function Yi(A){var I=A;do{var _,g=(_=I.parsedStyle)===null||_===void 0?void 0:_.clipPath;if(g)return I;I=I.parentElement}while(I!==null);return null}var Xi="px";function oo(A,I,_){Qr&&A.style&&(A.style.width=I+Xi,A.style.height=_+Xi)}function Ji(A,I){if(Qr)return document.defaultView.getComputedStyle(A,null).getPropertyValue(I)}function lo(A){var I=Ji(A,"width");return I==="auto"?A.offsetWidth:parseFloat(I)}function uo(A){var I=Ji(A,"height");return I==="auto"?A.offsetHeight:parseFloat(I)}var co=1,fo={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},qr=typeof performance=="object"&&performance.now?performance:Date;function mr(A){return A.nodeName===et.FRAGMENT?!0:A.getRootNode().nodeName===et.FRAGMENT}function ho(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"auto",I=arguments.length>1?arguments[1]:void 0,_=arguments.length>2?arguments[2]:void 0,g=!1,R=!1,Z=!!I&&!I.isNone,k=!!_&&!_.isNone;return A==="visiblepainted"||A==="painted"||A==="auto"?(g=Z,R=k):A==="visiblefill"||A==="fill"?g=!0:A==="visiblestroke"||A==="stroke"?R=!0:(A==="visible"||A==="all")&&(g=!0,R=!0),[g,R]}var vo=1,_o=function(){return vo++},Rn=typeof self=="object"&&self.self===self?self:typeof t.g=="object"&&t.g.global===t.g?t.g:{},go=Date.now(),po=function(){return Rn.performance&&typeof Rn.performance.now=="function"?Rn.performance.now():Date.now()-go},nr={},Qi=Date.now(),Eo=function(I){if(typeof I!="function")throw new TypeError("".concat(I," is not a function"));var _=Date.now(),g=_-Qi,R=g>16?0:16-g,Z=_o();return nr[Z]=I,Object.keys(nr).length>1||setTimeout(function(){Qi=_;var k=nr;nr={},Object.keys(k).forEach(function(q){return k[q](po())})},R),Z},mo=function(I){delete nr[I]},yo=["","webkit","moz","ms","o"],qi=function(I){return typeof I!="string"?Eo:I===""?Rn.requestAnimationFrame:Rn["".concat(I,"RequestAnimationFrame")]},Mo=function(I){return typeof I!="string"?mo:I===""?Rn.cancelAnimationFrame:Rn["".concat(I,"CancelAnimationFrame")]||Rn["".concat(I,"CancelRequestAnimationFrame")]},Oo=function(I,_){for(var g=0;I[g]!==void 0;){if(_(I[g]))return I[g];g+=1}},ta=Oo(yo,function(A){return!!qi(A)}),ti=qi(ta),ea=Mo(ta);Rn.requestAnimationFrame=ti,Rn.cancelAnimationFrame=ea;var Po=function(){function A(){(0,T.Z)(this,A),this.callbacks=[]}return(0,y.Z)(A,[{key:"getCallbacksNum",value:function(){return this.callbacks.length}},{key:"tapPromise",value:function(_,g){this.callbacks.push(g)}},{key:"promise",value:function(){for(var _=arguments.length,g=new Array(_),R=0;R<_;R++)g[R]=arguments[R];return Promise.all(this.callbacks.map(function(Z){return Z.apply(void 0,g)}))}}])}(),Do=function(){function A(){(0,T.Z)(this,A),this.callbacks=[]}return(0,y.Z)(A,[{key:"tapPromise",value:function(_,g){this.callbacks.push(g)}},{key:"promise",value:function(){var I=(0,lt.Z)((0,rt.Z)().mark(function g(){var R,Z,k,q,it=arguments;return(0,rt.Z)().wrap(function(vt){for(;;)switch(vt.prev=vt.next){case 0:if(!this.callbacks.length){vt.next=6;break}return vt.next=1,(R=this.callbacks)[0].apply(R,it);case 1:Z=vt.sent,k=0;case 2:if(!(k<this.callbacks.length-1)){vt.next=5;break}return q=this.callbacks[k],vt.next=3,q(Z);case 3:Z=vt.sent;case 4:k++,vt.next=2;break;case 5:return vt.abrupt("return",Z);case 6:return vt.abrupt("return",null);case 7:case"end":return vt.stop()}},g,this)}));function _(){return I.apply(this,arguments)}return _}()}])}(),hn=function(){function A(){(0,T.Z)(this,A),this.callbacks=[]}return(0,y.Z)(A,[{key:"tap",value:function(_,g){this.callbacks.push(g)}},{key:"call",value:function(){for(var _=arguments.length,g=new Array(_),R=0;R<_;R++)g[R]=arguments[R];var Z=arguments;this.callbacks.forEach(function(k){k.apply(void 0,Z)})}}])}(),ei=function(){function A(){(0,T.Z)(this,A),this.callbacks=[]}return(0,y.Z)(A,[{key:"tap",value:function(_,g){this.callbacks.push(g)}},{key:"call",value:function(){for(var _=arguments.length,g=new Array(_),R=0;R<_;R++)g[R]=arguments[R];if(this.callbacks.length){for(var Z=arguments,k=this.callbacks[0].apply(void 0,Z),q=0;q<this.callbacks.length-1;q++){var it=this.callbacks[q];k=it(k)}return k}return null}}])}(),Co=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],To=/([\"\'])[^\'\"]+\1/;function na(A){var I=A.fontSize,_=I===void 0?16:I,g=A.fontFamily,R=g===void 0?"sans-serif":g,Z=A.fontStyle,k=Z===void 0?"normal":Z,q=A.fontVariant,it=q===void 0?"normal":q,vt=A.fontWeight,Pt=vt===void 0?"normal":vt;return{fontSize:_,fontFamily:R,fontStyle:k,fontVariant:it,fontWeight:Pt}}var ra=Qe(function(I){for(var _=na(I),g=_.fontSize,R=_.fontFamily,Z=_.fontStyle,k=_.fontVariant,q=_.fontWeight,it=(0,E.Z)(g)&&"".concat(g,"px")||"16px",vt=R.split(","),Pt=vt.length-1;Pt>=0;Pt--){var xt=vt[Pt].trim();!To.test(xt)&&Co.indexOf(xt)<0&&(xt='"'.concat(xt,'"')),vt[Pt]=xt}return"".concat(Z," ").concat(k," ").concat(q," ").concat(it," ").concat(vt.join(","))},function(A){var I=na(A),_=I.fontSize,g=I.fontFamily,R=I.fontStyle,Z=I.fontVariant,k=I.fontWeight;return"".concat(R,"_").concat(Z,"_").concat(k,"_").concat(_,"_").concat(g)}),bo=1e-6,rr=function(I){return Math.max(I,bo)};function ni(A,I,_){return a.identity(A),A[4]=Math.tan(I),A[1]=Math.tan(_),A}var qe=a.create(),xo=a.create(),Ao={scale:function(I){a.fromScaling(qe,[I[0].value,I[1].value,1].map(function(_){return rr(_)}))},scaleX:function(I){a.fromScaling(qe,[I[0].value,1,1].map(function(_){return rr(_)}))},scaleY:function(I){a.fromScaling(qe,[1,I[0].value,1].map(function(_){return rr(_)}))},scaleZ:function(I){a.fromScaling(qe,[1,1,I[0].value].map(function(_){return rr(_)}))},scale3d:function(I){a.fromScaling(qe,[I[0].value,I[1].value,I[2].value].map(function(_){return rr(_)}))},translate:function(I){a.fromTranslation(qe,[I[0].value,I[1].value,0])},translateX:function(I){a.fromTranslation(qe,[I[0].value,0,0])},translateY:function(I){a.fromTranslation(qe,[0,I[0].value,0])},translateZ:function(I){a.fromTranslation(qe,[0,0,I[0].value])},translate3d:function(I){a.fromTranslation(qe,[I[0].value,I[1].value,I[2].value])},rotate:function(I){a.fromZRotation(qe,At(_n(I[0])))},rotateX:function(I){a.fromXRotation(qe,At(_n(I[0])))},rotateY:function(I){a.fromYRotation(qe,At(_n(I[0])))},rotateZ:function(I){a.fromZRotation(qe,At(_n(I[0])))},rotate3d:function(I){a.fromRotation(qe,At(_n(I[3])),[I[0].value,I[1].value,I[2].value])},skew:function(I){ni(qe,At(I[0].value),At(I[1].value))},skewX:function(I){ni(qe,At(I[0].value),0)},skewY:function(I){ni(qe,0,At(I[0].value))},matrix:function(I){a.set(qe,I[0].value,I[1].value,0,0,I[2].value,I[3].value,0,0,0,0,1,0,I[4].value,I[5].value,0,1)},matrix3d:function(I){a.set.apply(a,[qe].concat((0,C.Z)(I.map(function(_){return _.value}))))}},Ro=o.al(1,1,1),Lo=o.Ue(),ia={translate:function(I,_){se.sceneGraphService.setLocalScale(I,Ro,!1),se.sceneGraphService.setLocalEulerAngles(I,Lo,void 0,void 0,!1),se.sceneGraphService.setLocalPosition(I,[_[0].value,_[1].value,0],!1),se.sceneGraphService.dirtyLocalTransform(I,I.transformable)}};function aa(A,I){if(A.length){if(A.length===1&&ia[A[0].t]){ia[A[0].t](I,A[0].d);return}for(var _=a.identity(xo),g=0;g<A.length;g++){var R=A[g],Z=R.t,k=R.d,q=Ao[Z];q&&(q(k),a.mul(_,_,qe))}I.setLocalTransform(_)}else I.resetLocalTransform();return I.getLocalTransform()}var Io=function(){function A(){(0,T.Z)(this,A),this.parser=As,this.mixer=Ns}return(0,y.Z)(A,[{key:"calculator",value:function(_,g,R,Z){return R instanceof yn?[]:R}},{key:"postProcessor",value:function(_){aa(_.parsedStyle.transform,_)}}])}(),So=function(){function A(){(0,T.Z)(this,A)}return(0,y.Z)(A,[{key:"postProcessor",value:function(_){var g=_.parsedStyle.transformOrigin;g[0].unit===pe.kPixels&&g[1].unit===pe.kPixels?_.setOrigin(g[0].value,g[1].value):_.getGeometryBounds()}}])}(),Bo=function(){function A(){(0,T.Z)(this,A)}return(0,y.Z)(A,[{key:"calculator",value:function(_,g,R,Z){return R.value}},{key:"postProcessor",value:function(_){if(_.parentNode){var g=_.parentNode,R=g.renderable,Z=g.sortable;R&&g.dirty(),Z&&(Z.dirty=!0,Z.dirtyReason=Se.Z_INDEX_CHANGED)}}}])}(),Wo=function(){function A(){(0,T.Z)(this,A)}return(0,y.Z)(A,[{key:"update",value:function(_,g){var R=_.cx,Z=R===void 0?0:R,k=_.cy,q=k===void 0?0:k,it=_.r,vt=it===void 0?0:it;return{cx:Z,cy:q,hwidth:vt,hheight:vt}}}])}(),wo=function(){function A(){(0,T.Z)(this,A)}return(0,y.Z)(A,[{key:"update",value:function(_,g){var R=_.cx,Z=R===void 0?0:R,k=_.cy,q=k===void 0?0:k,it=_.rx,vt=it===void 0?0:it,Pt=_.ry,xt=Pt===void 0?0:Pt;return{cx:Z,cy:q,hwidth:vt,hheight:xt}}}])}(),Uo=function(){function A(){(0,T.Z)(this,A)}return(0,y.Z)(A,[{key:"update",value:function(_){var g=_.x1,R=_.y1,Z=_.x2,k=_.y2,q=Math.min(g,Z),it=Math.max(g,Z),vt=Math.min(R,k),Pt=Math.max(R,k),xt=it-q,Wt=Pt-vt,Kt=xt/2,Nt=Wt/2;return{cx:q+Kt,cy:vt+Nt,hwidth:Kt,hheight:Nt}}}])}(),No=function(){function A(){(0,T.Z)(this,A)}return(0,y.Z)(A,[{key:"update",value:function(_){var g=_.d,R=g.rect,Z=R.x,k=R.y,q=R.width,it=R.height,vt=q/2,Pt=it/2;return{cx:Z+vt,cy:k+Pt,hwidth:vt,hheight:Pt}}}])}(),Ko=function(){function A(){(0,T.Z)(this,A)}return(0,y.Z)(A,[{key:"update",value:function(_){if(_.points&&(0,W.Z)(_.points.points)){var g=_.points.points,R=Math.min.apply(Math,(0,C.Z)(g.map(function(Wt){return Wt[0]}))),Z=Math.max.apply(Math,(0,C.Z)(g.map(function(Wt){return Wt[0]}))),k=Math.min.apply(Math,(0,C.Z)(g.map(function(Wt){return Wt[1]}))),q=Math.max.apply(Math,(0,C.Z)(g.map(function(Wt){return Wt[1]}))),it=Z-R,vt=q-k,Pt=it/2,xt=vt/2;return{cx:R+Pt,cy:k+xt,hwidth:Pt,hheight:xt}}return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),ko=function(){function A(){(0,T.Z)(this,A)}return(0,y.Z)(A,[{key:"update",value:function(_,g){var R=_.x,Z=R===void 0?0:R,k=_.y,q=k===void 0?0:k,it=_.src,vt=_.width,Pt=vt===void 0?0:vt,xt=_.height,Wt=xt===void 0?0:xt,Kt=Pt,Nt=Wt;return it&&!(0,i.Z)(it)&&(Kt||(Kt=it.width,_.width=Kt),Nt||(Nt=it.height,_.height=Nt)),{cx:Z+Kt/2,cy:q+Nt/2,hwidth:Kt/2,hheight:Nt/2}}}])}(),Zo=function(){function A(I){(0,T.Z)(this,A),this.globalRuntime=I}return(0,y.Z)(A,[{key:"isReadyToMeasure",value:function(_,g){var R=_.text;return R}},{key:"update",value:function(_,g){var R,Z=_.text,k=_.textAlign,q=k===void 0?"start":k,it=_.lineWidth,vt=it===void 0?1:it,Pt=_.textBaseline,xt=Pt===void 0?"alphabetic":Pt,Wt=_.dx,Kt=Wt===void 0?0:Wt,Nt=_.dy,Gt=Nt===void 0?0:Nt,Jt=_.x,te=Jt===void 0?0:Jt,Xt=_.y,ne=Xt===void 0?0:Xt;if(!this.isReadyToMeasure(_,g))return _.metrics={font:"",width:0,height:0,lines:[],lineWidths:[],lineHeight:0,maxLineWidth:0,fontProperties:{ascent:0,descent:0,fontSize:0},lineMetrics:[]},{hwidth:0,hheight:0,cx:0,cy:0};var Ee=(g==null||(R=g.ownerDocument)===null||R===void 0||(R=R.defaultView)===null||R===void 0?void 0:R.getConfig())||{},$t=Ee.offscreenCanvas,kt=this.globalRuntime.textService.measureText(Z,_,$t);_.metrics=kt;var jt=kt.width,Yt=kt.height,de=jt/2,le=Yt/2,ge=te+de;q==="center"||q==="middle"?ge+=vt/2-de:(q==="right"||q==="end")&&(ge+=vt-de*2);var fe=ne-le;return xt==="middle"?fe+=le:xt==="top"||xt==="hanging"?fe+=le*2:xt==="alphabetic"||(xt==="bottom"||xt==="ideographic")&&(fe+=0),Kt&&(ge+=Kt),Gt&&(fe+=Gt),{cx:ge,cy:fe,hwidth:de,hheight:le}}}])}(),Fo=function(){function A(){(0,T.Z)(this,A)}return(0,y.Z)(A,[{key:"update",value:function(_,g){return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),zo=function(){function A(){(0,T.Z)(this,A)}return(0,y.Z)(A,[{key:"update",value:function(_,g){var R=_.x,Z=R===void 0?0:R,k=_.y,q=k===void 0?0:k,it=_.width,vt=it===void 0?0:it,Pt=_.height,xt=Pt===void 0?0:Pt;return{cx:Z+vt/2,cy:q+xt/2,hwidth:vt/2,hheight:xt/2}}}])}();function Xl(A){return!!A.type}var yr=function(){function A(I){(0,T.Z)(this,A),this.eventPhase=A.prototype.NONE,this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.defaultPrevented=!1,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Q,this.page=new Q,this.canvas=new Q,this.viewport=new Q,this.composed=!1,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=I}return(0,y.Z)(A,[{key:"name",get:function(){return this.type}},{key:"layerX",get:function(){return this.layer.x}},{key:"layerY",get:function(){return this.layer.y}},{key:"pageX",get:function(){return this.page.x}},{key:"pageY",get:function(){return this.page.y}},{key:"x",get:function(){return this.canvas.x}},{key:"y",get:function(){return this.canvas.y}},{key:"canvasX",get:function(){return this.canvas.x}},{key:"canvasY",get:function(){return this.canvas.y}},{key:"viewportX",get:function(){return this.viewport.x}},{key:"viewportY",get:function(){return this.viewport.y}},{key:"composedPath",value:function(){return this.manager&&(!this.path||this.path[0]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}},{key:"propagationPath",get:function(){return this.composedPath()}},{key:"preventDefault",value:function(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}},{key:"stopImmediatePropagation",value:function(){this.propagationImmediatelyStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"initEvent",value:function(){}},{key:"initUIEvent",value:function(){}},{key:"clone",value:function(){throw new Error(ht)}}])}(),sa=function(A){function I(){var _;(0,T.Z)(this,I);for(var g=arguments.length,R=new Array(g),Z=0;Z<g;Z++)R[Z]=arguments[Z];return _=(0,m.Z)(this,I,[].concat(R)),_.client=new Q,_.movement=new Q,_.offset=new Q,_.global=new Q,_.screen=new Q,_}return(0,f.Z)(I,A),(0,y.Z)(I,[{key:"clientX",get:function(){return this.client.x}},{key:"clientY",get:function(){return this.client.y}},{key:"movementX",get:function(){return this.movement.x}},{key:"movementY",get:function(){return this.movement.y}},{key:"offsetX",get:function(){return this.offset.x}},{key:"offsetY",get:function(){return this.offset.y}},{key:"globalX",get:function(){return this.global.x}},{key:"globalY",get:function(){return this.global.y}},{key:"screenX",get:function(){return this.screen.x}},{key:"screenY",get:function(){return this.screen.y}},{key:"getModifierState",value:function(g){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(g)}},{key:"initMouseEvent",value:function(){throw new Error(ht)}}])}(yr),Mr=function(A){function I(){var _;(0,T.Z)(this,I);for(var g=arguments.length,R=new Array(g),Z=0;Z<g;Z++)R[Z]=arguments[Z];return _=(0,m.Z)(this,I,[].concat(R)),_.width=0,_.height=0,_.isPrimary=!1,_}return(0,f.Z)(I,A),(0,y.Z)(I,[{key:"getCoalescedEvents",value:function(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}},{key:"getPredictedEvents",value:function(){throw new Error("getPredictedEvents is not supported!")}},{key:"clone",value:function(){return this.manager.clonePointerEvent(this)}}])}(sa),ri=function(A){function I(){return(0,T.Z)(this,I),(0,m.Z)(this,I,arguments)}return(0,f.Z)(I,A),(0,y.Z)(I,[{key:"clone",value:function(){return this.manager.cloneWheelEvent(this)}}])}(sa),fn=function(A){function I(_,g){var R;return(0,T.Z)(this,I),R=(0,m.Z)(this,I,[null]),R.type=_,R.detail=g,Object.assign(R,g),R}return(0,f.Z)(I,A),(0,y.Z)(I)}(yr),oa=function(){function A(){(0,T.Z)(this,A),this.emitter=new v.Z}return(0,y.Z)(A,[{key:"on",value:function(_,g,R){return this.addEventListener(_,g,R),this}},{key:"addEventListener",value:function(_,g,R){var Z=!1,k=!1;if((0,w.Z)(R))Z=R;else if(R){var q=R.capture;Z=q===void 0?!1:q;var it=R.once;k=it===void 0?!1:it}Z&&(_+="capture"),g=(0,z.Z)(g)?g:g.handleEvent;var vt=(0,z.Z)(g)?void 0:g;return k?this.emitter.once(_,g,vt):this.emitter.on(_,g,vt),this}},{key:"off",value:function(_,g,R){return _?this.removeEventListener(_,g,R):this.removeAllEventListeners(),this}},{key:"removeAllEventListeners",value:function(){var _;(_=this.emitter)===null||_===void 0||_.removeAllListeners()}},{key:"removeEventListener",value:function(_,g,R){var Z;if(!this.emitter)return this;var k=(0,w.Z)(R)?R:R==null?void 0:R.capture;k&&(_+="capture"),g=(0,z.Z)(g)?g:(Z=g)===null||Z===void 0?void 0:Z.handleEvent;var q=(0,z.Z)(g)?void 0:g;return this.emitter.off(_,g,q),this}},{key:"emit",value:function(_,g){this.dispatchEvent(new fn(_,g))}},{key:"dispatchEventToSelf",value:function(_){_.target||(_.target=this),_.currentTarget=this,this.emitter.emit(_.type,_)}},{key:"dispatchEvent",value:function(_){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,R=arguments.length>2?arguments[2]:void 0;if(R)return this.dispatchEventToSelf(_),!0;var Z;if(this.document)Z=this;else if(this.defaultView)Z=this.defaultView;else{var k;Z=(k=this.ownerDocument)===null||k===void 0?void 0:k.defaultView}if(Z){if(_.manager=Z.getEventService(),!_.manager)return!1;_.defaultPrevented=!1,_.path?_.path.length=0:_.page=[],g||(_.target=this),_.manager.dispatchEvent(_,_.type,g)}else this.dispatchEventToSelf(_);return!_.defaultPrevented}}])}(),He=function(A){function I(){var _;(0,T.Z)(this,I);for(var g=arguments.length,R=new Array(g),Z=0;Z<g;Z++)R[Z]=arguments[Z];return _=(0,m.Z)(this,I,[].concat(R)),_.shadow=!1,_.ownerDocument=null,_.isConnected=!1,_.baseURI="",_.childNodes=[],_.nodeType=0,_.nodeName="",_.nodeValue=null,_.parentNode=null,_.destroyed=!1,_}return(0,f.Z)(I,A),(0,y.Z)(I,[{key:"textContent",get:function(){var g="";this.nodeName===et.TEXT&&(g+=this.style.text);var R=(0,tt.Z)(this.childNodes),Z;try{for(R.s();!(Z=R.n()).done;){var k=Z.value;k.nodeName===et.TEXT?g+=k.nodeValue:g+=k.textContent}}catch(q){R.e(q)}finally{R.f()}return g},set:function(g){var R=this;this.childNodes.slice().forEach(function(Z){R.removeChild(Z)}),this.nodeName===et.TEXT&&(this.style.text="".concat(g))}},{key:"getRootNode",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.parentNode?this.parentNode.getRootNode(g):g.composed&&this.host?this.host.getRootNode(g):this}},{key:"hasChildNodes",value:function(){return this.childNodes.length>0}},{key:"isDefaultNamespace",value:function(g){throw new Error(ht)}},{key:"lookupNamespaceURI",value:function(g){throw new Error(ht)}},{key:"lookupPrefix",value:function(g){throw new Error(ht)}},{key:"normalize",value:function(){throw new Error(ht)}},{key:"isEqualNode",value:function(g){return this===g}},{key:"isSameNode",value:function(g){return this.isEqualNode(g)}},{key:"parent",get:function(){return this.parentNode}},{key:"parentElement",get:function(){return null}},{key:"nextSibling",get:function(){return null}},{key:"previousSibling",get:function(){return null}},{key:"firstChild",get:function(){return this.childNodes.length>0?this.childNodes[0]:null}},{key:"lastChild",get:function(){return this.childNodes.length>0?this.childNodes[this.childNodes.length-1]:null}},{key:"compareDocumentPosition",value:function(g){if(g===this)return 0;for(var R=g,Z=this,k=[R],q=[Z];(it=R.parentNode)!==null&&it!==void 0?it:Z.parentNode;){var it;R=R.parentNode?(k.push(R.parentNode),R.parentNode):R,Z=Z.parentNode?(q.push(Z.parentNode),Z.parentNode):Z}if(R!==Z)return I.DOCUMENT_POSITION_DISCONNECTED|I.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC|I.DOCUMENT_POSITION_PRECEDING;var vt=k.length>q.length?k:q,Pt=vt===k?q:k;if(vt[vt.length-Pt.length]===Pt[0])return vt===k?I.DOCUMENT_POSITION_CONTAINED_BY|I.DOCUMENT_POSITION_FOLLOWING:I.DOCUMENT_POSITION_CONTAINS|I.DOCUMENT_POSITION_PRECEDING;for(var xt=vt.length-Pt.length,Wt=Pt.length-1;Wt>=0;Wt--){var Kt=Pt[Wt],Nt=vt[xt+Wt];if(Nt!==Kt){var Gt=Kt.parentNode.childNodes;return Gt.indexOf(Kt)<Gt.indexOf(Nt)?Pt===k?I.DOCUMENT_POSITION_PRECEDING:I.DOCUMENT_POSITION_FOLLOWING:vt===k?I.DOCUMENT_POSITION_PRECEDING:I.DOCUMENT_POSITION_FOLLOWING}}return I.DOCUMENT_POSITION_FOLLOWING}},{key:"contain",value:function(g){return this.contains(g)}},{key:"contains",value:function(g){for(var R=g;R&&this!==R;)R=R.parentNode;return!!R}},{key:"getAncestor",value:function(g){for(var R=this;g>0&&R;)R=R.parentNode,g--;return R}},{key:"forEach",value:function(g){for(var R=[this];R.length>0;){var Z=R.pop(),k=g(Z);if(k===!1)break;for(var q=Z.childNodes.length-1;q>=0;q--)R.push(Z.childNodes[q])}}}],[{key:"isNode",value:function(g){return!!g.childNodes}}])}(oa);He.DOCUMENT_POSITION_DISCONNECTED=1,He.DOCUMENT_POSITION_PRECEDING=2,He.DOCUMENT_POSITION_FOLLOWING=4,He.DOCUMENT_POSITION_CONTAINS=8,He.DOCUMENT_POSITION_CONTAINED_BY=16,He.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32;var jo=2048,Vo=function(){function A(I,_){var g=this;(0,T.Z)(this,A),this.nativeHTMLMap=new WeakMap,this.cursor="default",this.mappingTable={},this.mappingState={trackingData:{}},this.eventPool=new Map,this.tmpMatrix=a.create(),this.tmpVec3=o.Ue(),this.onPointerDown=function(R){var Z=g.createPointerEvent(R);if(g.dispatchEvent(Z,"pointerdown"),Z.pointerType==="touch")g.dispatchEvent(Z,"touchstart");else if(Z.pointerType==="mouse"||Z.pointerType==="pen"){var k=Z.button===2;g.dispatchEvent(Z,k?"rightdown":"mousedown")}var q=g.trackingData(R.pointerId);q.pressTargetsByButton[R.button]=Z.composedPath(),g.freeEvent(Z)},this.onPointerUp=function(R){var Z=qr.now(),k=g.createPointerEvent(R,void 0,void 0,g.context.config.alwaysTriggerPointerEventOnCanvas?g.rootTarget:void 0);if(g.dispatchEvent(k,"pointerup"),k.pointerType==="touch")g.dispatchEvent(k,"touchend");else if(k.pointerType==="mouse"||k.pointerType==="pen"){var q=k.button===2;g.dispatchEvent(k,q?"rightup":"mouseup")}var it=g.trackingData(R.pointerId),vt=g.findMountedTarget(it.pressTargetsByButton[R.button]),Pt=vt;if(vt&&!k.composedPath().includes(vt)){for(var xt=vt;xt&&!k.composedPath().includes(xt);){if(k.currentTarget=xt,g.notifyTarget(k,"pointerupoutside"),k.pointerType==="touch")g.notifyTarget(k,"touchendoutside");else if(k.pointerType==="mouse"||k.pointerType==="pen"){var Wt=k.button===2;g.notifyTarget(k,Wt?"rightupoutside":"mouseupoutside")}He.isNode(xt)&&(xt=xt.parentNode)}delete it.pressTargetsByButton[R.button],Pt=xt}if(Pt){var Kt,Nt=g.clonePointerEvent(k,"click");Nt.target=Pt,Nt.path=[],it.clicksByButton[R.button]||(it.clicksByButton[R.button]={clickCount:0,target:Nt.target,timeStamp:Z});var Gt=g.context.renderingContext.root.ownerDocument.defaultView,Jt=it.clicksByButton[R.button];Jt.target===Nt.target&&Z-Jt.timeStamp<Gt.getConfig().dblClickSpeed?++Jt.clickCount:Jt.clickCount=1,Jt.target=Nt.target,Jt.timeStamp=Z,Nt.detail=Jt.clickCount,(Kt=k.detail)!==null&&Kt!==void 0&&Kt.preventClick||(!g.context.config.useNativeClickEvent&&(Nt.pointerType==="mouse"||Nt.pointerType==="touch")&&g.dispatchEvent(Nt,"click"),g.dispatchEvent(Nt,"pointertap")),g.freeEvent(Nt)}g.freeEvent(k)},this.onPointerMove=function(R){var Z=g.createPointerEvent(R,void 0,void 0,g.context.config.alwaysTriggerPointerEventOnCanvas?g.rootTarget:void 0),k=Z.pointerType==="mouse"||Z.pointerType==="pen",q=g.trackingData(R.pointerId),it=g.findMountedTarget(q.overTargets);if(q.overTargets&&it!==Z.target){var vt=R.type==="mousemove"?"mouseout":"pointerout",Pt=g.createPointerEvent(R,vt,it||void 0);if(g.dispatchEvent(Pt,"pointerout"),k&&g.dispatchEvent(Pt,"mouseout"),!Z.composedPath().includes(it)){var xt=g.createPointerEvent(R,"pointerleave",it||void 0);for(xt.eventPhase=xt.AT_TARGET;xt.target&&!Z.composedPath().includes(xt.target);)xt.currentTarget=xt.target,g.notifyTarget(xt),k&&g.notifyTarget(xt,"mouseleave"),He.isNode(xt.target)&&(xt.target=xt.target.parentNode);g.freeEvent(xt)}g.freeEvent(Pt)}if(it!==Z.target){var Wt=R.type==="mousemove"?"mouseover":"pointerover",Kt=g.clonePointerEvent(Z,Wt);g.dispatchEvent(Kt,"pointerover"),k&&g.dispatchEvent(Kt,"mouseover");for(var Nt=it&&He.isNode(it)&&it.parentNode;Nt&&Nt!==(He.isNode(g.rootTarget)&&g.rootTarget.parentNode)&&Nt!==Z.target;)Nt=Nt.parentNode;var Gt=!Nt||Nt===(He.isNode(g.rootTarget)&&g.rootTarget.parentNode);if(Gt){var Jt=g.clonePointerEvent(Z,"pointerenter");for(Jt.eventPhase=Jt.AT_TARGET;Jt.target&&Jt.target!==it&&Jt.target!==(He.isNode(g.rootTarget)&&g.rootTarget.parentNode);)Jt.currentTarget=Jt.target,g.notifyTarget(Jt),k&&g.notifyTarget(Jt,"mouseenter"),He.isNode(Jt.target)&&(Jt.target=Jt.target.parentNode);g.freeEvent(Jt)}g.freeEvent(Kt)}g.dispatchEvent(Z,"pointermove"),Z.pointerType==="touch"&&g.dispatchEvent(Z,"touchmove"),k&&(g.dispatchEvent(Z,"mousemove"),g.cursor=g.getCursor(Z.target)),q.overTargets=Z.composedPath(),g.freeEvent(Z)},this.onPointerOut=function(R){var Z=g.trackingData(R.pointerId);if(Z.overTargets){var k=R.pointerType==="mouse"||R.pointerType==="pen",q=g.findMountedTarget(Z.overTargets),it=g.createPointerEvent(R,"pointerout",q||void 0);g.dispatchEvent(it),k&&g.dispatchEvent(it,"mouseout");var vt=g.createPointerEvent(R,"pointerleave",q||void 0);for(vt.eventPhase=vt.AT_TARGET;vt.target&&vt.target!==(He.isNode(g.rootTarget)&&g.rootTarget.parentNode);)vt.currentTarget=vt.target,g.notifyTarget(vt),k&&g.notifyTarget(vt,"mouseleave"),He.isNode(vt.target)&&(vt.target=vt.target.parentNode);Z.overTargets=null,g.freeEvent(it),g.freeEvent(vt)}g.cursor=null},this.onPointerOver=function(R){var Z=g.trackingData(R.pointerId),k=g.createPointerEvent(R),q=k.pointerType==="mouse"||k.pointerType==="pen";g.dispatchEvent(k,"pointerover"),q&&g.dispatchEvent(k,"mouseover"),k.pointerType==="mouse"&&(g.cursor=g.getCursor(k.target));var it=g.clonePointerEvent(k,"pointerenter");for(it.eventPhase=it.AT_TARGET;it.target&&it.target!==(He.isNode(g.rootTarget)&&g.rootTarget.parentNode);)it.currentTarget=it.target,g.notifyTarget(it),q&&g.notifyTarget(it,"mouseenter"),He.isNode(it.target)&&(it.target=it.target.parentNode);Z.overTargets=k.composedPath(),g.freeEvent(k),g.freeEvent(it)},this.onPointerUpOutside=function(R){var Z=g.trackingData(R.pointerId),k=g.findMountedTarget(Z.pressTargetsByButton[R.button]),q=g.createPointerEvent(R);if(k){for(var it=k;it;)q.currentTarget=it,g.notifyTarget(q,"pointerupoutside"),q.pointerType==="touch"||(q.pointerType==="mouse"||q.pointerType==="pen")&&g.notifyTarget(q,q.button===2?"rightupoutside":"mouseupoutside"),He.isNode(it)&&(it=it.parentNode);delete Z.pressTargetsByButton[R.button]}g.freeEvent(q)},this.onWheel=function(R){var Z=g.createWheelEvent(R);g.dispatchEvent(Z),g.freeEvent(Z)},this.onClick=function(R){if(g.context.config.useNativeClickEvent){var Z=g.createPointerEvent(R);g.dispatchEvent(Z),g.freeEvent(Z)}},this.onPointerCancel=function(R){var Z=g.createPointerEvent(R,void 0,void 0,g.context.config.alwaysTriggerPointerEventOnCanvas?g.rootTarget:void 0);g.dispatchEvent(Z),g.freeEvent(Z)},this.globalRuntime=I,this.context=_}return(0,y.Z)(A,[{key:"init",value:function(){this.rootTarget=this.context.renderingContext.root.parentNode,this.addEventMapping("pointerdown",this.onPointerDown),this.addEventMapping("pointerup",this.onPointerUp),this.addEventMapping("pointermove",this.onPointerMove),this.addEventMapping("pointerout",this.onPointerOut),this.addEventMapping("pointerleave",this.onPointerOut),this.addEventMapping("pointercancel",this.onPointerCancel),this.addEventMapping("pointerover",this.onPointerOver),this.addEventMapping("pointerupoutside",this.onPointerUpOutside),this.addEventMapping("wheel",this.onWheel),this.addEventMapping("click",this.onClick)}},{key:"destroy",value:function(){this.mappingTable={},this.mappingState={},this.eventPool.clear()}},{key:"getScale",value:function(){var _=this.context.contextService.getBoundingClientRect(),g=1,R=1,Z=this.context.contextService.getDomElement();if(Z&&_){var k=Z.offsetWidth,q=Z.offsetHeight;k&&q&&(g=_.width/k,R=_.height/q)}return{scaleX:g,scaleY:R,bbox:_}}},{key:"client2Viewport",value:function(_){var g=this.getScale(),R=g.scaleX,Z=g.scaleY,k=g.bbox;return new Q((_.x-((k==null?void 0:k.left)||0))/R,(_.y-((k==null?void 0:k.top)||0))/Z)}},{key:"viewport2Client",value:function(_){var g=this.getScale(),R=g.scaleX,Z=g.scaleY,k=g.bbox;return new Q((_.x+((k==null?void 0:k.left)||0))*R,(_.y+((k==null?void 0:k.top)||0))*Z)}},{key:"viewport2Canvas",value:function(_){var g=_.x,R=_.y,Z=this.rootTarget.defaultView,k=Z.getCamera(),q=this.context.config,it=q.width,vt=q.height,Pt=k.getPerspectiveInverse(),xt=k.getWorldTransform(),Wt=a.multiply(this.tmpMatrix,xt,Pt),Kt=o.t8(this.tmpVec3,g/it*2-1,(1-R/vt)*2-1,0);return o.fF(Kt,Kt,Wt),new Q(Kt[0],Kt[1])}},{key:"canvas2Viewport",value:function(_){var g=this.rootTarget.defaultView,R=g.getCamera(),Z=R.getPerspective(),k=R.getViewTransform(),q=a.multiply(this.tmpMatrix,Z,k),it=o.t8(this.tmpVec3,_.x,_.y,0);o.fF(this.tmpVec3,this.tmpVec3,q);var vt=this.context.config,Pt=vt.width,xt=vt.height;return new Q((it[0]+1)/2*Pt,(1-(it[1]+1)/2)*xt)}},{key:"setPickHandler",value:function(_){this.pickHandler=_}},{key:"addEventMapping",value:function(_,g){this.mappingTable[_]||(this.mappingTable[_]=[]),this.mappingTable[_].push({fn:g,priority:0}),this.mappingTable[_].sort(function(R,Z){return R.priority-Z.priority})}},{key:"mapEvent",value:function(_){if(this.rootTarget){var g=this.mappingTable[_.type];if(g)for(var R=0,Z=g.length;R<Z;R++)g[R].fn(_);else console.warn("[EventService]: Event mapping not defined for ".concat(_.type))}}},{key:"dispatchEvent",value:function(_,g,R){if(!R)_.propagationStopped=!1,_.propagationImmediatelyStopped=!1,this.propagate(_,g);else{_.eventPhase=_.AT_TARGET;var Z=this.rootTarget.defaultView||null;_.currentTarget=Z,this.notifyListeners(_,g)}}},{key:"propagate",value:function(_,g){if(_.target){var R=_.composedPath();_.eventPhase=_.CAPTURING_PHASE;for(var Z=R.length-1;Z>=1;Z--)if(_.currentTarget=R[Z],this.notifyTarget(_,g),_.propagationStopped||_.propagationImmediatelyStopped)return;if(_.eventPhase=_.AT_TARGET,_.currentTarget=_.target,this.notifyTarget(_,g),!(_.propagationStopped||_.propagationImmediatelyStopped)){var k=R.indexOf(_.currentTarget);_.eventPhase=_.BUBBLING_PHASE;for(var q=k+1;q<R.length;q++)if(_.currentTarget=R[q],this.notifyTarget(_,g),_.propagationStopped||_.propagationImmediatelyStopped)return}}}},{key:"propagationPath",value:function(_){var g=[_],R=this.rootTarget.defaultView||null;if(R&&R===_)return g.unshift(R.document),g;for(var Z=0;Z<jo&&_!==this.rootTarget;Z++)He.isNode(_)&&_.parentNode&&(g.push(_.parentNode),_=_.parentNode);return R&&g.push(R),g}},{key:"hitTest",value:function(_){var g=_.viewportX,R=_.viewportY,Z=this.context.config,k=Z.width,q=Z.height,it=Z.disableHitTesting;return g<0||R<0||g>k||R>q?null:!it&&this.pickHandler(_)||this.rootTarget||null}},{key:"isNativeEventFromCanvas",value:function(_,g){var R,Z=g==null?void 0:g.target;if((R=Z)!==null&&R!==void 0&&R.shadowRoot&&(Z=g.composedPath()[0]),Z){if(Z===_)return!0;if(_&&_.contains)return _.contains(Z)}return g!=null&&g.composedPath?g.composedPath().indexOf(_)>-1:!1}},{key:"getExistedHTML",value:function(_){if(_.nativeEvent.composedPath)for(var g=0,R=_.nativeEvent.composedPath();g<R.length;g++){var Z=R[g],k=this.nativeHTMLMap.get(Z);if(k)return k}return null}},{key:"pickTarget",value:function(_){return this.hitTest({clientX:_.clientX,clientY:_.clientY,viewportX:_.viewportX,viewportY:_.viewportY,x:_.canvasX,y:_.canvasY})}},{key:"createPointerEvent",value:function(_,g,R,Z){var k=this.allocateEvent(Mr);this.copyPointerData(_,k),this.copyMouseData(_,k),this.copyData(_,k),k.nativeEvent=_.nativeEvent,k.originalEvent=_;var q=this.getExistedHTML(k),it=this.context.contextService.getDomElement();return k.target=R!=null?R:q||this.isNativeEventFromCanvas(it,k.nativeEvent)&&this.pickTarget(k)||Z,typeof g=="string"&&(k.type=g),k}},{key:"createWheelEvent",value:function(_){var g=this.allocateEvent(ri);this.copyWheelData(_,g),this.copyMouseData(_,g),this.copyData(_,g),g.nativeEvent=_.nativeEvent,g.originalEvent=_;var R=this.getExistedHTML(g),Z=this.context.contextService.getDomElement();return g.target=R||this.isNativeEventFromCanvas(Z,g.nativeEvent)&&this.pickTarget(g),g}},{key:"trackingData",value:function(_){return this.mappingState.trackingData[_]||(this.mappingState.trackingData[_]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[_]}},{key:"cloneWheelEvent",value:function(_){var g=this.allocateEvent(ri);return g.nativeEvent=_.nativeEvent,g.originalEvent=_.originalEvent,this.copyWheelData(_,g),this.copyMouseData(_,g),this.copyData(_,g),g.target=_.target,g.path=_.composedPath().slice(),g.type=_.type,g}},{key:"clonePointerEvent",value:function(_,g){var R=this.allocateEvent(Mr);return R.nativeEvent=_.nativeEvent,R.originalEvent=_.originalEvent,this.copyPointerData(_,R),this.copyMouseData(_,R),this.copyData(_,R),R.target=_.target,R.path=_.composedPath().slice(),R.type=g!=null?g:R.type,R}},{key:"copyPointerData",value:function(_,g){g.pointerId=_.pointerId,g.width=_.width,g.height=_.height,g.isPrimary=_.isPrimary,g.pointerType=_.pointerType,g.pressure=_.pressure,g.tangentialPressure=_.tangentialPressure,g.tiltX=_.tiltX,g.tiltY=_.tiltY,g.twist=_.twist}},{key:"copyMouseData",value:function(_,g){g.altKey=_.altKey,g.button=_.button,g.buttons=_.buttons,g.ctrlKey=_.ctrlKey,g.metaKey=_.metaKey,g.shiftKey=_.shiftKey,g.client.copyFrom(_.client),g.movement.copyFrom(_.movement),g.canvas.copyFrom(_.canvas),g.screen.copyFrom(_.screen),g.global.copyFrom(_.global),g.offset.copyFrom(_.offset)}},{key:"copyWheelData",value:function(_,g){g.deltaMode=_.deltaMode,g.deltaX=_.deltaX,g.deltaY=_.deltaY,g.deltaZ=_.deltaZ}},{key:"copyData",value:function(_,g){g.isTrusted=_.isTrusted,g.timeStamp=qr.now(),g.type=_.type,g.detail=_.detail,g.view=_.view,g.page.copyFrom(_.page),g.viewport.copyFrom(_.viewport)}},{key:"allocateEvent",value:function(_){this.eventPool.has(_)||this.eventPool.set(_,[]);var g=this.eventPool.get(_).pop()||new _(this);return g.eventPhase=g.NONE,g.currentTarget=null,g.path=[],g.target=null,g}},{key:"freeEvent",value:function(_){if(_.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");var g=_.constructor;this.eventPool.has(g)||this.eventPool.set(g,[]),this.eventPool.get(g).push(_)}},{key:"notifyTarget",value:function(_,g){g=g!=null?g:_.type;var R=_.eventPhase===_.CAPTURING_PHASE||_.eventPhase===_.AT_TARGET?"".concat(g,"capture"):g;this.notifyListeners(_,R),_.eventPhase===_.AT_TARGET&&this.notifyListeners(_,g)}},{key:"notifyListeners",value:function(_,g){var R=_.currentTarget.emitter,Z=R._events[g];if(Z)if("fn"in Z)Z.once&&R.removeListener(g,Z.fn,void 0,!0),Z.fn.call(_.currentTarget||Z.context,_);else for(var k=0;k<Z.length&&!_.propagationImmediatelyStopped;k++)Z[k].once&&R.removeListener(g,Z[k].fn,void 0,!0),Z[k].fn.call(_.currentTarget||Z[k].context,_)}},{key:"findMountedTarget",value:function(_){if(!_)return null;for(var g=_[_.length-1],R=_.length-2;R>=0;R--){var Z=_[R];if(Z===this.rootTarget||He.isNode(Z)&&Z.parentNode===g)g=_[R];else break}return g}},{key:"getCursor",value:function(_){for(var g=_;g;){var R=ao(g)&&g.getAttribute("cursor");if(R)return R;g=He.isNode(g)&&g.parentNode}}}])}(),la=function(){function A(){(0,T.Z)(this,A)}return(0,y.Z)(A,[{key:"getOrCreateCanvas",value:function(_,g){if(this.canvas)return this.canvas;if(_||se.offscreenCanvas)this.canvas=_||se.offscreenCanvas,this.context=this.canvas.getContext("2d",(0,d.Z)({willReadFrequently:!0},g));else try{this.canvas=new window.OffscreenCanvas(0,0),this.context=this.canvas.getContext("2d",(0,d.Z)({willReadFrequently:!0},g)),(!this.context||!this.context.measureText)&&(this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"))}catch(R){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d",(0,d.Z)({willReadFrequently:!0},g))}return this.canvas.width=10,this.canvas.height=10,this.canvas}},{key:"getOrCreateContext",value:function(_,g){return this.context?this.context:(this.getOrCreateCanvas(_,g),this.context)}}],[{key:"createCanvas",value:function(){try{return new window.OffscreenCanvas(0,0)}catch(_){}try{return document.createElement("canvas")}catch(_){}return null}}])}(),ir=function(A){return A[A.CAMERA_CHANGED=0]="CAMERA_CHANGED",A[A.DISPLAY_OBJECT_CHANGED=1]="DISPLAY_OBJECT_CHANGED",A[A.NONE=2]="NONE",A}({}),Go=function(){function A(I,_){(0,T.Z)(this,A),this.inited=!1,this.stats={total:0,rendered:0},this.zIndexCounter=0,this.hooks={init:new hn,initAsync:new Po,dirtycheck:new ei,cull:new ei,beginFrame:new hn,beforeRender:new hn,render:new hn,afterRender:new hn,endFrame:new hn,destroy:new hn,pick:new Do,pickSync:new ei,pointerDown:new hn,pointerUp:new hn,pointerMove:new hn,pointerOut:new hn,pointerOver:new hn,pointerWheel:new hn,pointerCancel:new hn,click:new hn},this.globalRuntime=I,this.context=_}return(0,y.Z)(A,[{key:"init",value:function(_){var g=this,R=(0,d.Z)((0,d.Z)({},this.globalRuntime),this.context);this.context.renderingPlugins.forEach(function(Z){Z.apply(R,g.globalRuntime)}),this.hooks.init.call(),this.hooks.initAsync.getCallbacksNum()===0?(this.inited=!0,_()):this.hooks.initAsync.promise().then(function(){g.inited=!0,_()}).catch(function(Z){})}},{key:"getStats",value:function(){return this.stats}},{key:"disableDirtyRectangleRendering",value:function(){var _=this.context.config.renderer,g=_.getConfig(),R=g.enableDirtyRectangleRendering;return!R||this.context.renderingContext.renderReasons.has(ir.CAMERA_CHANGED)}},{key:"render",value:function(_,g,R){var Z=this;this.stats.total=0,this.stats.rendered=0,this.zIndexCounter=0;var k=this.context.renderingContext;if(this.globalRuntime.sceneGraphService.syncHierarchy(k.root),this.globalRuntime.sceneGraphService.triggerPendingEvents(),k.renderReasons.size&&this.inited){k.dirtyRectangleRenderingDisabled=this.disableDirtyRectangleRendering();var q=k.renderReasons.size===1&&k.renderReasons.has(ir.CAMERA_CHANGED),it=!_.disableRenderHooks||!q;it&&this.renderDisplayObject(k.root,_,k),this.hooks.beginFrame.call(g),it&&k.renderListCurrentFrame.forEach(function(vt){Z.hooks.beforeRender.call(vt),Z.hooks.render.call(vt),Z.hooks.afterRender.call(vt)}),this.hooks.endFrame.call(g),k.renderListCurrentFrame=[],k.renderReasons.clear(),R()}}},{key:"renderDisplayObject",value:function(_,g,R){var Z=this,k=g.renderer.getConfig(),q=k.enableDirtyCheck,it=k.enableCulling;function vt(Gt){var Jt=Gt.renderable,te=Gt.sortable,Xt=q?Jt.dirty||R.dirtyRectangleRenderingDisabled?Gt:null:Gt,ne=null;Xt&&(ne=it?Z.hooks.cull.call(Xt,Z.context.camera):Xt,ne&&(Z.stats.rendered+=1,R.renderListCurrentFrame.push(ne))),Gt.dirty(!1),te.renderOrder=Z.zIndexCounter,Z.zIndexCounter+=1,Z.stats.total+=1,te.dirty&&(Z.sort(Gt,te),te.dirty=!1,te.dirtyChildren=[],te.dirtyReason=void 0)}for(var Pt=[_];Pt.length>0;){var xt,Wt=Pt.pop();vt(Wt);for(var Kt=((xt=Wt.sortable)===null||xt===void 0||(xt=xt.sorted)===null||xt===void 0?void 0:xt.length)>0?Wt.sortable.sorted:Wt.childNodes,Nt=Kt.length-1;Nt>=0;Nt--)Pt.push(Kt[Nt])}}},{key:"sort",value:function(_,g){var R,Z;(g==null||(R=g.sorted)===null||R===void 0?void 0:R.length)>0&&g.dirtyReason!==Se.Z_INDEX_CHANGED?g.dirtyChildren.forEach(function(k){var q=g.sorted.indexOf(k);q>-1&&g.sorted.splice(q,1);var it=_.childNodes.indexOf(k);if(it>-1)if(g.sorted.length===0)g.sorted.push(k);else{var vt=so(g.sorted,k);g.sorted.splice(vt,0,k)}}):g.sorted=_.childNodes.slice().sort($i),((Z=g.sorted)===null||Z===void 0?void 0:Z.length)>0&&_.childNodes.filter(function(k){return k.parsedStyle.zIndex}).length===0&&(g.sorted=[])}},{key:"destroy",value:function(){this.inited=!1,this.hooks.destroy.call(),this.globalRuntime.sceneGraphService.clearPendingEvents()}},{key:"dirtify",value:function(){this.context.renderingContext.renderReasons.add(ir.DISPLAY_OBJECT_CHANGED)}}])}(),Ho=/\[\s*(.*)=(.*)\s*\]/,$o=function(){function A(){(0,T.Z)(this,A)}return(0,y.Z)(A,[{key:"selectOne",value:function(_,g){var R=this;if(_.startsWith("."))return g.find(function(it){return((it==null?void 0:it.classList)||[]).indexOf(R.getIdOrClassname(_))>-1});if(_.startsWith("#"))return g.find(function(it){return it.id===R.getIdOrClassname(_)});if(_.startsWith("[")){var Z=this.getAttribute(_),k=Z.name,q=Z.value;return k?g.find(function(it){return g!==it&&(k==="name"?it.name===q:R.attributeToString(it,k)===q)}):null}return g.find(function(it){return g!==it&&it.nodeName===_})}},{key:"selectAll",value:function(_,g){var R=this;if(_.startsWith("."))return g.findAll(function(it){return g!==it&&((it==null?void 0:it.classList)||[]).indexOf(R.getIdOrClassname(_))>-1});if(_.startsWith("#"))return g.findAll(function(it){return g!==it&&it.id===R.getIdOrClassname(_)});if(_.startsWith("[")){var Z=this.getAttribute(_),k=Z.name,q=Z.value;return k?g.findAll(function(it){return g!==it&&(k==="name"?it.name===q:R.attributeToString(it,k)===q)}):[]}return g.findAll(function(it){return g!==it&&it.nodeName===_})}},{key:"is",value:function(_,g){if(_.startsWith("."))return g.className===this.getIdOrClassname(_);if(_.startsWith("#"))return g.id===this.getIdOrClassname(_);if(_.startsWith("[")){var R=this.getAttribute(_),Z=R.name,k=R.value;return Z==="name"?g.name===k:this.attributeToString(g,Z)===k}return g.nodeName===_}},{key:"getIdOrClassname",value:function(_){return _.substring(1)}},{key:"getAttribute",value:function(_){var g=_.match(Ho),R="",Z="";return g&&g.length>2&&(R=g[1].replace(/"/g,""),Z=g[2].replace(/"/g,"")),{name:R,value:Z}}},{key:"attributeToString",value:function(_,g){if(!_.getAttribute)return"";var R=_.getAttribute(g);return(0,e.Z)(R)?"":R.toString?R.toString():""}}])}(),an=function(A){return A.ATTR_MODIFIED="DOMAttrModified",A.INSERTED="DOMNodeInserted",A.MOUNTED="DOMNodeInsertedIntoDocument",A.REMOVED="removed",A.UNMOUNTED="DOMNodeRemovedFromDocument",A.REPARENT="reparent",A.DESTROY="destroy",A.BOUNDS_CHANGED="bounds-changed",A.CULLED="culled",A}({}),Ln=function(A){function I(_,g,R,Z,k,q,it,vt){var Pt;return(0,T.Z)(this,I),Pt=(0,m.Z)(this,I,[null]),Pt.relatedNode=g,Pt.prevValue=R,Pt.newValue=Z,Pt.attrName=k,Pt.attrChange=q,Pt.prevParsedValue=it,Pt.newParsedValue=vt,Pt.type=_,Pt}return(0,f.Z)(I,A),(0,y.Z)(I)}(yr);Ln.ADDITION=2,Ln.MODIFICATION=1,Ln.REMOVAL=3;var Yo=new Ln(an.REPARENT,null,"","","",0,"",""),Xo=c.Ue(),Or=o.Ue(),Jo=o.al(1,1,1),Qo=a.create(),qo=c.Ue(),Kn=o.Ue(),tl=a.create(),kn=u.Ue(),el=o.Ue(),nl=u.Ue(),rl=o.Ue(),ar=o.Ue(),Zn=o.Ue(),Pr=a.create(),ua=u.Ue(),ca=u.Ue(),Dr=u.Ue(),Cr={affectChildren:!0},il=function(){function A(I){(0,T.Z)(this,A),this.pendingEvents=new Map,this.boundsChangedEvent=new fn(an.BOUNDS_CHANGED),this.displayObjectDependencyMap=new WeakMap,this.runtime=I}return(0,y.Z)(A,[{key:"matches",value:function(_,g){return this.runtime.sceneGraphSelector.is(_,g)}},{key:"querySelector",value:function(_,g){return this.runtime.sceneGraphSelector.selectOne(_,g)}},{key:"querySelectorAll",value:function(_,g){return this.runtime.sceneGraphSelector.selectAll(_,g)}},{key:"attach",value:function(_,g,R){var Z,k=!1;_.parentNode&&(k=_.parentNode!==g,this.detach(_));var q=_.nodeName===et.FRAGMENT,it=mr(g);_.parentNode=g;var vt=q?_.childNodes:[_];(0,E.Z)(R)?vt.forEach(function(Gt){g.childNodes.splice(R,0,Gt),Gt.parentNode=g}):vt.forEach(function(Gt){g.childNodes.push(Gt),Gt.parentNode=g});var Pt=g,xt=Pt.sortable;if((xt!=null&&(Z=xt.sorted)!==null&&Z!==void 0&&Z.length||xt.dirty||_.parsedStyle.zIndex)&&(xt.dirtyChildren.indexOf(_)===-1&&xt.dirtyChildren.push(_),xt.dirty=!0,xt.dirtyReason=Se.ADDED),!it){if(q)this.dirtifyFragment(_);else{var Wt=_.transformable;Wt&&this.dirtyWorldTransform(_,Wt)}if(k){var Kt,Nt=((Kt=g.ownerDocument)===null||Kt===void 0||(Kt=Kt.defaultView)===null||Kt===void 0||(Kt=Kt.getConfig())===null||Kt===void 0||(Kt=Kt.future)===null||Kt===void 0?void 0:Kt.experimentalCancelEventPropagation)===!0;_.dispatchEvent(Yo,Nt,Nt)}}}},{key:"detach",value:function(_){var g,R;if(_.parentNode){var Z=_.transformable,k=_.parentNode,q=k.sortable;(q!=null&&(g=q.sorted)!==null&&g!==void 0&&g.length||(R=_.style)!==null&&R!==void 0&&R.zIndex)&&(q.dirtyChildren.indexOf(_)===-1&&q.dirtyChildren.push(_),q.dirty=!0,q.dirtyReason=Se.REMOVED);var it=_.parentNode.childNodes.indexOf(_);it>-1&&_.parentNode.childNodes.splice(it,1),Z&&this.dirtyWorldTransform(_,Z),_.parentNode=null}}},{key:"getLocalPosition",value:function(_){return _.transformable.localPosition}},{key:"getLocalRotation",value:function(_){return _.transformable.localRotation}},{key:"getLocalScale",value:function(_){return _.transformable.localScale}},{key:"getLocalSkew",value:function(_){return _.transformable.localSkew}},{key:"getLocalTransform",value:function(_){var g=_.transformable;return je(g),g.localTransform}},{key:"setLocalPosition",value:function(_,g){var R,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,k=_.transformable;ar[0]=g[0],ar[1]=g[1],ar[2]=(R=g[2])!==null&&R!==void 0?R:0,!o.fS(k.localPosition,ar)&&(o.JG(k.localPosition,ar),Z&&this.dirtyLocalTransform(_,k))}},{key:"translateLocal",value:function(_,g){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof g=="number"&&(g=o.al(g,R,Z));var k=_.transformable;o.fS(g,Or)||(o.VC(g,g,k.localRotation),o.IH(k.localPosition,k.localPosition,g),this.dirtyLocalTransform(_,k))}},{key:"setLocalRotation",value:function(_,g,R,Z,k){var q=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;typeof g=="number"&&(g=u.t8(kn,g,R,Z,k));var it=_.transformable;u.JG(it.localRotation,g),q&&this.dirtyLocalTransform(_,it)}},{key:"rotateLocal",value:function(_,g){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof g=="number"&&(g=o.al(g,R,Z));var k=_.transformable;u.Su(ca,g[0],g[1],g[2]),u.dC(k.localRotation,k.localRotation,ca),this.dirtyLocalTransform(_,k)}},{key:"setLocalScale",value:function(_,g){var R,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,k=_.transformable;o.t8(Kn,g[0],g[1],(R=g[2])!==null&&R!==void 0?R:k.localScale[2]),!o.fS(Kn,k.localScale)&&(o.JG(k.localScale,Kn),Z&&this.dirtyLocalTransform(_,k))}},{key:"scaleLocal",value:function(_,g){var R,Z=_.transformable;o.Jp(Z.localScale,Z.localScale,o.t8(Kn,g[0],g[1],(R=g[2])!==null&&R!==void 0?R:1)),this.dirtyLocalTransform(_,Z)}},{key:"setLocalSkew",value:function(_,g,R){var Z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;typeof g=="number"&&(g=c.t8(qo,g,R));var k=_.transformable;c.JG(k.localSkew,g),Z&&this.dirtyLocalTransform(_,k)}},{key:"setLocalEulerAngles",value:function(_,g){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,k=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;typeof g=="number"&&(g=o.al(g,R,Z));var q=_.transformable;u.Su(q.localRotation,g[0],g[1],g[2]),k&&this.dirtyLocalTransform(_,q)}},{key:"setLocalTransform",value:function(_,g){var R=a.getTranslation(el,g),Z=a.getRotation(nl,g),k=a.getScaling(rl,g);this.setLocalScale(_,k,!1),this.setLocalPosition(_,R,!1),this.setLocalRotation(_,Z,void 0,void 0,void 0,!1),this.dirtyLocalTransform(_,_.transformable)}},{key:"resetLocalTransform",value:function(_){this.setLocalScale(_,Jo,!1),this.setLocalPosition(_,Or,!1),this.setLocalEulerAngles(_,Or,void 0,void 0,!1),this.setLocalSkew(_,Xo,void 0,!1),this.dirtyLocalTransform(_,_.transformable)}},{key:"getPosition",value:function(_){var g=_.transformable;return a.getTranslation(g.position,this.getWorldTransform(_,g))}},{key:"getRotation",value:function(_){var g=_.transformable;return a.getRotation(g.rotation,this.getWorldTransform(_,g))}},{key:"getScale",value:function(_){var g=_.transformable;return a.getScaling(g.scaling,this.getWorldTransform(_,g))}},{key:"getOrigin",value:function(_){return _.getGeometryBounds(),_.transformable.origin}},{key:"getWorldTransform",value:function(_){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_.transformable;return!g.localDirtyFlag&&!g.dirtyFlag||(_.parentNode&&_.parentNode.transformable&&this.getWorldTransform(_.parentNode),this.internalUpdateTransform(_)),g.worldTransform}},{key:"setPosition",value:function(_,g){var R,Z=_.transformable;if(Zn[0]=g[0],Zn[1]=g[1],Zn[2]=(R=g[2])!==null&&R!==void 0?R:0,!o.fS(this.getPosition(_),Zn)){if(o.JG(Z.position,Zn),_.parentNode===null||!_.parentNode.transformable)o.JG(Z.localPosition,Zn);else{var k=_.parentNode.transformable;a.copy(Pr,k.worldTransform),a.invert(Pr,Pr),o.fF(Z.localPosition,Zn,Pr)}this.dirtyLocalTransform(_,Z)}}},{key:"translate",value:function(_,g){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof g=="number"&&(g=o.t8(Kn,g,R,Z)),!o.fS(g,Or)&&(o.IH(Kn,this.getPosition(_),g),this.setPosition(_,Kn))}},{key:"setRotation",value:function(_,g,R,Z,k){var q=_.transformable;if(typeof g=="number"&&(g=u.al(g,R,Z,k)),_.parentNode===null||!_.parentNode.transformable)this.setLocalRotation(_,g);else{var it=this.getRotation(_.parentNode);u.JG(kn,it),u.U_(kn,kn),u.Jp(q.localRotation,kn,g),u.Fv(q.localRotation,q.localRotation),this.dirtyLocalTransform(_,q)}}},{key:"rotate",value:function(_,g){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof g=="number"&&(g=o.al(g,R,Z));var k=_.transformable;if(_.parentNode===null||!_.parentNode.transformable)this.rotateLocal(_,g);else{var q=kn;u.Su(q,g[0],g[1],g[2]);var it=this.getRotation(_),vt=this.getRotation(_.parentNode);u.JG(Dr,vt),u.U_(Dr,Dr),u.Jp(q,Dr,q),u.Jp(k.localRotation,q,it),u.Fv(k.localRotation,k.localRotation),this.dirtyLocalTransform(_,k)}}},{key:"setOrigin",value:function(_,g){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof g=="number"&&(g=[g,R,Z]);var k=_.transformable;if(!(g[0]===k.origin[0]&&g[1]===k.origin[1]&&g[2]===k.origin[2])){var q=k.origin;q[0]=g[0],q[1]=g[1],q[2]=g[2]||0,this.dirtyLocalTransform(_,k)}}},{key:"setEulerAngles",value:function(_,g){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof g=="number"&&(g=o.al(g,R,Z));var k=_.transformable;if(_.parentNode===null||!_.parentNode.transformable)this.setLocalEulerAngles(_,g);else{u.Su(k.localRotation,g[0],g[1],g[2]);var q=this.getRotation(_.parentNode);u.JG(ua,u.U_(kn,q)),u.dC(k.localRotation,k.localRotation,ua),this.dirtyLocalTransform(_,k)}}},{key:"getTransformedGeometryBounds",value:function(_){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,R=arguments.length>2?arguments[2]:void 0,Z=this.getGeometryBounds(_,g);if(!bt.isEmpty(Z)){var k=R||new bt;return k.setFromTransformedAABB(Z,this.getWorldTransform(_)),k}return null}},{key:"getGeometryBounds",value:function(_){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,R=_,Z=R.geometry;Z.dirty&&se.styleValueRegistry.updateGeometry(_);var k=g?Z.renderBounds:Z.contentBounds||null;return k||new bt}},{key:"getBounds",value:function(_){var g=this,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Z=_,k=Z.renderable;if(!k.boundsDirty&&!R&&k.bounds)return k.bounds;if(!k.renderBoundsDirty&&R&&k.renderBounds)return k.renderBounds;var q=R?k.renderBounds:k.bounds,it=this.getTransformedGeometryBounds(_,R,q),vt=_.childNodes;if(vt.forEach(function(Wt){var Kt=g.getBounds(Wt,R);Kt&&(it?it.add(Kt):(it=q||new bt,it.update(Kt.center,Kt.halfExtents)))}),it||(it=new bt),R){var Pt=Yi(_);if(Pt){var xt=Pt.parsedStyle.clipPath.getBounds(R);it?xt&&(it=xt.intersection(it)):it.update(xt.center,xt.halfExtents)}}return R?(k.renderBounds=it,k.renderBoundsDirty=!1):(k.bounds=it,k.boundsDirty=!1),it}},{key:"getLocalBounds",value:function(_){if(_.parentNode){var g=Qo;_.parentNode.transformable&&(g=a.invert(tl,this.getWorldTransform(_.parentNode)));var R=this.getBounds(_);if(!bt.isEmpty(R)){var Z=new bt;return Z.setFromTransformedAABB(R,g),Z}}return this.getBounds(_)}},{key:"getBoundingClientRect",value:function(_){var g,R,Z=this.getGeometryBounds(_);bt.isEmpty(Z)||(R=new bt,R.setFromTransformedAABB(Z,this.getWorldTransform(_)));var k=(g=_.ownerDocument)===null||g===void 0||(g=g.defaultView)===null||g===void 0?void 0:g.getContextService().getBoundingClientRect();if(R){var q=R.getMin(),it=(0,h.Z)(q,2),vt=it[0],Pt=it[1],xt=R.getMax(),Wt=(0,h.Z)(xt,2),Kt=Wt[0],Nt=Wt[1];return new ct(vt+((k==null?void 0:k.left)||0),Pt+((k==null?void 0:k.top)||0),Kt-vt,Nt-Pt)}return new ct((k==null?void 0:k.left)||0,(k==null?void 0:k.top)||0,0,0)}},{key:"internalUpdateTransform",value:function(_){var g,R=(g=_.parentNode)===null||g===void 0?void 0:g.transformable;je(_.transformable),tn(_.transformable,R)}},{key:"internalUpdateElement",value:function(_,g){var R,Z,k,q,it=((R=_.ownerDocument)===null||R===void 0||(R=R.defaultView)===null||R===void 0||(R=R.getConfig())===null||R===void 0||(R=R.future)===null||R===void 0?void 0:R.experimentalAttributeUpdateOptimization)===!0,vt=g[g.length-1],Pt=(vt==null?void 0:vt.transformDirty)||((Z=_.transformable)===null||Z===void 0?void 0:Z.localDirtyFlag);if(_.transformable){var xt;(xt=_.transformable).dirtyFlag||(xt.dirtyFlag=Pt)}if(this.internalUpdateTransform(_),Pt){var Wt;(Wt=_.dirty)===null||Wt===void 0||Wt.call(_,!0,!0)}var Kt=((k=_.renderable)===null||k===void 0?void 0:k.boundsDirty)||((q=_.renderable)===null||q===void 0?void 0:q.renderBoundsDirty);if((Pt||Kt)&&(vt==null?void 0:vt.shapeUpdated)===!1&&it)for(var Nt=g.length-1;Nt>=0;){var Gt,Jt,te=g[Nt];if(te.shapeUpdated)break;(Gt=(Jt=te.node).dirty)===null||Gt===void 0||Gt.call(Jt,!0,!0),te.shapeUpdated=!0,Nt-=1}return Pt}},{key:"syncHierarchy",value:function(_){for(var g,R,Z=[_],k=_.parentNode?[{node:_.parentNode,transformDirty:((g=_.parentNode.transformable)===null||g===void 0?void 0:g.localDirtyFlag)||((R=_.parentNode.transformable)===null||R===void 0?void 0:R.dirtyFlag),shapeUpdated:!1}]:[];Z.length>0;){for(var q=Z.pop(),it=k[k.length-1];k.length>0&&q.parentNode!==it.node;)it=k.pop();var vt=this.internalUpdateElement(q,k);if(q.childNodes.length>0){for(var Pt=q.childNodes.length-1;Pt>=0;Pt--)Z.push(q.childNodes[Pt]);k.push({node:q,transformDirty:vt,shapeUpdated:!1})}}}},{key:"dirtyLocalTransform",value:function(_,g){mr(_)||g.localDirtyFlag||(g.localDirtyFlag=!0,g.dirtyFlag||this.dirtyWorldTransform(_,g))}},{key:"dirtyWorldTransform",value:function(_,g){this.dirtifyWorldInternal(_,g),this.dirtyToRoot(_,!0)}},{key:"dirtifyWorldInternal",value:function(_,g){var R,Z=this,k=((R=_.ownerDocument)===null||R===void 0||(R=R.defaultView)===null||R===void 0||(R=R.getConfig())===null||R===void 0||(R=R.future)===null||R===void 0?void 0:R.experimentalAttributeUpdateOptimization)===!0;g.dirtyFlag||(g.dirtyFlag=!0,_.dirty(!0,!0),k||_.childNodes.forEach(function(q){var it=q.transformable;Z.dirtifyWorldInternal(q,it)}))}},{key:"dirtyToRoot",value:function(_){for(var g,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Z=_,k=((g=_.ownerDocument)===null||g===void 0||(g=g.defaultView)===null||g===void 0||(g=g.getConfig())===null||g===void 0||(g=g.future)===null||g===void 0?void 0:g.experimentalAttributeUpdateOptimization)===!0;Z;){var q,it;if((q=(it=Z).dirty)===null||q===void 0||q.call(it,!0,!0),k)break;Z=Z.parentNode}R&&_.forEach(function(vt){var Pt;(Pt=vt.dirty)===null||Pt===void 0||Pt.call(vt,!0,!0)}),this.informDependentDisplayObjects(_),this.pendingEvents.set(_,R)}},{key:"dirtifyFragment",value:function(_){var g,R,Z=_.transformable;Z&&(Z.dirtyFlag=!0,Z.localDirtyFlag=!0),(g=(R=_).dirty)===null||g===void 0||g.call(R,!0,!0);for(var k=_.childNodes.length,q=0;q<k;q++)this.dirtifyFragment(_.childNodes[q]);_.nodeName===et.FRAGMENT&&this.pendingEvents.set(_,!1)}},{key:"triggerPendingEvents",value:function(){var _=this,g=new Set,R,Z,k=function(it,vt){if(!(!it.isConnected||g.has(it)||it.nodeName===et.FRAGMENT)){if(_.boundsChangedEvent.detail=vt,_.boundsChangedEvent.target=it,it.isMutationObserved)it.dispatchEvent(_.boundsChangedEvent);else{if(R===void 0){var Pt;R=((Pt=it.ownerDocument.defaultView)===null||Pt===void 0||(Pt=Pt.getConfig())===null||Pt===void 0||(Pt=Pt.future)===null||Pt===void 0?void 0:Pt.experimentalCancelEventPropagation)===!0}it.ownerDocument.defaultView.dispatchEvent(_.boundsChangedEvent,!0,R)}g.add(it)}};this.pendingEvents.forEach(function(q,it){if(it.nodeName!==et.FRAGMENT){if(Z===void 0){var vt;Z=((vt=it.ownerDocument)===null||vt===void 0||(vt=vt.defaultView)===null||vt===void 0||(vt=vt.getConfig())===null||vt===void 0||(vt=vt.future)===null||vt===void 0?void 0:vt.experimentalAttributeUpdateOptimization)===!0}Cr.affectChildren=q,Z?k(it,Cr):q?it.forEach(function(Pt){k(Pt,Cr)}):k(it,Cr)}}),g.clear(),this.clearPendingEvents()}},{key:"clearPendingEvents",value:function(){this.pendingEvents.clear()}},{key:"updateDisplayObjectDependency",value:function(_,g,R,Z){if(g&&g!==R){var k=this.displayObjectDependencyMap.get(g);if(k&&k[_]){var q=k[_].indexOf(Z);k[_].splice(q,1)}}if(R){var it=this.displayObjectDependencyMap.get(R);it||(this.displayObjectDependencyMap.set(R,{}),it=this.displayObjectDependencyMap.get(R)),it[_]||(it[_]=[]),it[_].push(Z)}}},{key:"informDependentDisplayObjects",value:function(_){var g,R=this,Z=this.displayObjectDependencyMap.get(_);if(Z){var k=(g=_.ownerDocument)===null||g===void 0||(g=g.defaultView)===null||g===void 0||(g=g.getConfig())===null||g===void 0||(g=g.future)===null||g===void 0?void 0:g.experimentalCancelEventPropagation;Object.keys(Z).forEach(function(q){Z[q].forEach(function(it){R.dirtyToRoot(it,!0),it.dispatchEvent(new Ln(an.ATTR_MODIFIED,it,R,R,q,Ln.MODIFICATION,R,R),k,k),it.isCustomElement&&it.isConnected&&it.attributeChangedCallback&&it.attributeChangedCallback(q,R,R)})})}}}])}(),da=function(){function A(I){if((0,T.Z)(this,A),I<=0)throw new Error("LRU capacity must be a positive number.");this.capacity=I,this.cache=new Map}return(0,y.Z)(A,[{key:"get",value:function(_){if(this.cache.has(_)){var g=this.cache.get(_);return this.cache.delete(_),this.cache.set(_,g),g}}},{key:"put",value:function(_,g){if(this.cache.has(_)&&this.cache.delete(_),this.cache.set(_,g),this.cache.size>this.capacity){var R=this.cache.keys().next().value;this.cache.delete(R)}}},{key:"len",value:function(){return this.cache.size}},{key:"clear",value:function(){this.cache.clear()}}])}(),Fn={MetricsString:"|\xC9q\xC5",BaselineSymbol:"M",BaselineMultiplier:1.4,HeightMultiplier:2,Newlines:[10,13],BreakingSpaces:[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},fa=/[a-zA-Z0-9\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff!"#$%&'()*+,-./:;]/,al=/[!%),.:;?\]}'""]/,sl=/[$('"]/,ol=/[!),.:;?\]}'""]/,ll=/[([{'"]/,ul=/[)\]'"?!:;,.]/,cl=/[(['"...]/,dl=/[!%),.:;?\]}'"]/,fl=/[$([{'"#]/,hl=new RegExp("".concat(al.source,"|").concat(ol.source,"|").concat(ul.source,"|").concat(dl.source)),vl=new RegExp("".concat(sl.source,"|").concat(ll.source,"|").concat(cl.source,"|").concat(fl.source)),_l=function(){function A(I){var _=this;(0,T.Z)(this,A),this.fontMetricsCache={},this.shouldBreakByKinsokuShorui=function(g,R){return _.isBreakingSpace(R)?!1:!!(g&&(vl.exec(R)||hl.exec(g)))},this.trimByKinsokuShorui=function(g){var R=(0,C.Z)(g),Z=R[R.length-2];if(!Z)return g;var k=Z[Z.length-1];return R[R.length-2]=Z.slice(0,-1),R[R.length-1]=k+R[R.length-1],R},this.runtime=I,this.charWidthCache=new da(100)}return(0,y.Z)(A,[{key:"measureFont",value:function(_,g){if(this.fontMetricsCache[_])return this.fontMetricsCache[_];var R={ascent:0,descent:0,fontSize:0},Z=this.runtime.offscreenCanvasCreator.getOrCreateCanvas(g),k=this.runtime.offscreenCanvasCreator.getOrCreateContext(g,{willReadFrequently:!0});k.font=_;var q=Fn.MetricsString+Fn.BaselineSymbol,it=Math.ceil(k.measureText(q).width),vt=Math.ceil(k.measureText(Fn.BaselineSymbol).width),Pt=Fn.HeightMultiplier*vt;vt=vt*Fn.BaselineMultiplier|0,Z.width=it,Z.height=Pt,k.fillStyle="#f00",k.fillRect(0,0,it,Pt),k.font=_,k.textBaseline="alphabetic",k.fillStyle="#000",k.fillText(q,0,vt);var xt=k.getImageData(0,0,it||1,Pt||1).data,Wt=xt.length,Kt=it*4,Nt=0,Gt=0,Jt=!1;for(Nt=0;Nt<vt;++Nt){for(var te=0;te<Kt;te+=4)if(xt[Gt+te]!==255){Jt=!0;break}if(!Jt)Gt+=Kt;else break}for(R.ascent=vt-Nt,Gt=Wt-Kt,Jt=!1,Nt=Pt;Nt>vt;--Nt){for(var Xt=0;Xt<Kt;Xt+=4)if(xt[Gt+Xt]!==255){Jt=!0;break}if(!Jt)Gt-=Kt;else break}return R.descent=Nt-vt,R.fontSize=R.ascent+R.descent,this.fontMetricsCache[_]=R,R}},{key:"measureText",value:function(_,g,R){var Z=g.fontSize,k=Z===void 0?16:Z,q=g.wordWrap,it=q===void 0?!1:q,vt=g.lineHeight,Pt=g.lineWidth,xt=Pt===void 0?1:Pt,Wt=g.textBaseline,Kt=Wt===void 0?"alphabetic":Wt,Nt=g.textAlign,Gt=Nt===void 0?"start":Nt,Jt=g.letterSpacing,te=Jt===void 0?0:Jt,Xt=g.textPath;g.textPathSide,g.textPathStartOffset;var ne=g.leading,Ee=ne===void 0?0:ne,$t=ra(g),kt=this.measureFont($t,R);kt.fontSize===0&&(kt.fontSize=k,kt.ascent=k);var jt=this.runtime.offscreenCanvasCreator.getOrCreateContext(R);jt.font=$t,g.isOverflowing=!1;var Yt=it?this.wordWrap(_,g,R):_,de=Yt.split(/(?:\r\n|\r|\n)/),le=new Array(de.length),ge=0;if(Xt){Xt.getTotalLength();for(var fe=0;fe<de.length;fe++)jt.measureText(de[fe]).width+(de[fe].length-1)*te}else{for(var Pe=0;Pe<de.length;Pe++){var xe=jt.measureText(de[Pe]).width+(de[Pe].length-1)*te;le[Pe]=xe,ge=Math.max(ge,xe)}var Ie=ge+xt,Be=vt||kt.fontSize+xt,ye=Math.max(Be,kt.fontSize+xt)+(de.length-1)*(Be+Ee);Be+=Ee;var Ae=0;return Kt==="middle"?Ae=-ye/2:Kt==="bottom"||Kt==="alphabetic"||Kt==="ideographic"?Ae=-ye:(Kt==="top"||Kt==="hanging")&&(Ae=0),{font:$t,width:Ie,height:ye,lines:de,lineWidths:le,lineHeight:Be,maxLineWidth:ge,fontProperties:kt,lineMetrics:le.map(function(Re,nn){var sn=0;return Gt==="center"||Gt==="middle"?sn-=Re/2:(Gt==="right"||Gt==="end")&&(sn-=Re),new ct(sn-xt/2,Ae+nn*Be,Re+xt,Be)})}}}},{key:"wordWrap",value:function(_,g,R){var Z=this,k=Array.from(_);if(k.length===0)return"";var q=this,it=g.wordWrapWidth,vt=it===void 0?0:it,Pt=g.letterSpacing,xt=Pt===void 0?0:Pt,Wt=g.maxLines,Kt=Wt===void 0?1/0:Wt,Nt=g.textOverflow,Gt=this.runtime.offscreenCanvasCreator.getOrCreateContext(R),Jt=vt+xt,te="";Nt==="ellipsis"?te="...":Nt&&Nt!=="clip"&&(te=Nt);var Xt=[""],ne=0,Ee=0,$t=-1,kt=ra(g),jt=this.charWidthCache.get(kt);jt||(jt=new da(500),this.charWidthCache.put(kt,jt));var Yt=function(Re){return Z.getFromCache(Re,xt,jt,Gt)},de=Yt(te);function le(Ae,Re,nn,sn){for(;Yt(Ae)<sn&&Re<k.length-1&&!q.isNewline(k[Re+1]);)Re+=1,Ae+=k[Re];for(;Yt(Ae)>sn&&Re>=nn;)Re-=1,Ae=Ae.slice(0,-1);return{lineTxt:Ae,txtLastCharIndex:Re}}function ge(Ae,Re){if(!(de<=0||de>Jt)){if(!Xt[Ae]){Xt[Ae]=te;return}var nn=le(Xt[Ae],Re,$t+1,Jt-de);Xt[Ae]=nn.lineTxt+te}}for(var fe=0;fe<k.length;fe++){var Pe=k[fe],xe=k[fe-1],Ie=k[fe+1],Be=Yt(Pe);if(this.isNewline(Pe)){if(ne+1>=Kt){fe<k.length-1&&ge(ne,fe-1),g.isOverflowing=!0;break}$t=fe-1,ne+=1,Ee=0,Xt[ne]="";continue}if(Be>Jt){ge(ne,fe-1),g.isOverflowing=!0;break}if(Ee>0&&Ee+Be>Jt){var ye=le(Xt[ne],fe-1,$t+1,Jt);if(ye.txtLastCharIndex!==fe-1){if(Xt[ne]=ye.lineTxt,ye.txtLastCharIndex===k.length-1)break;fe=ye.txtLastCharIndex+1,Pe=k[fe],xe=k[fe-1],Ie=k[fe+1],Be=Yt(Pe)}if(ne+1>=Kt){ge(ne,fe-1),g.isOverflowing=!0;break}if($t=fe-1,ne+=1,Ee=0,Xt[ne]="",this.isBreakingSpace(Pe))continue;this.canBreakInLastChar(Pe)||(Xt=this.trimToBreakable(Xt),Ee=this.sumTextWidthByCache(Xt[ne]||"",Yt)),this.shouldBreakByKinsokuShorui(Pe,Ie)&&(Xt=this.trimByKinsokuShorui(Xt),Ee+=Yt(xe||""))}Ee+=Be,Xt[ne]+=Pe}return Xt.join(`
`)}},{key:"isBreakingSpace",value:function(_){return typeof _!="string"?!1:Fn.BreakingSpaces.indexOf(_.charCodeAt(0))>=0}},{key:"isNewline",value:function(_){return typeof _!="string"?!1:Fn.Newlines.indexOf(_.charCodeAt(0))>=0}},{key:"trimToBreakable",value:function(_){var g=(0,C.Z)(_),R=g[g.length-2],Z=this.findBreakableIndex(R);if(Z===-1||!R)return g;var k=R.slice(Z,Z+1),q=this.isBreakingSpace(k),it=Z+1,vt=Z+(q?0:1);return g[g.length-1]+=R.slice(it,R.length),g[g.length-2]=R.slice(0,vt),g}},{key:"canBreakInLastChar",value:function(_){return!(_&&fa.test(_))}},{key:"sumTextWidthByCache",value:function(_,g){return _.split("").reduce(function(R,Z){return R+g(Z)},0)}},{key:"findBreakableIndex",value:function(_){for(var g=_.length-1;g>=0;g--)if(!fa.test(_[g]))return g;return-1}},{key:"getFromCache",value:function(_,g,R,Z){var k=R.get(_);if(typeof k!="number"){var q=_.length*g,it=Z.measureText(_);k=it.width+q,R.put(_,k)}return k}},{key:"clearCache",value:function(){this.fontMetricsCache={},this.charWidthCache.clear()}}])}(),se={},gl=function(A){var I=new ko,_=new Ko;return A={},(0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)(A,et.FRAGMENT,null),et.CIRCLE,new Wo),et.ELLIPSE,new wo),et.RECT,I),et.IMAGE,I),et.GROUP,new Fo),et.LINE,new Uo),et.TEXT,new Zo(se)),et.POLYLINE,_),et.POLYGON,_),(0,V.Z)((0,V.Z)((0,V.Z)(A,et.PATH,new No),et.HTML,new zo),et.MESH,null)}(),pl=function(A){var I=new Vs,_=new Xr;return A={},(0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)(A,ue.PERCENTAGE,null),ue.NUMBER,new Xs),ue.ANGLE,new zs),ue.DEFINED_PATH,new js),ue.PAINT,I),ue.COLOR,I),ue.FILTER,new Gs),ue.LENGTH,_),ue.LENGTH_PERCENTAGE,_),ue.LENGTH_PERCENTAGE_12,new Hs),(0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)(A,ue.LENGTH_PERCENTAGE_14,new $s),ue.COORDINATE,new Xr),ue.OFFSET_DISTANCE,new Js),ue.OPACITY_VALUE,new Qs),ue.PATH,new qs),ue.LIST_OF_POINTS,new to),ue.SHADOW_BLUR,new eo),ue.TEXT,new no),ue.TEXT_TRANSFORM,new ro),ue.TRANSFORM,new Io),(0,V.Z)((0,V.Z)((0,V.Z)(A,ue.TRANSFORM_ORIGIN,new So),ue.Z_INDEX,new Bo),ue.MARKER,new Ys)}(),El=function(){return typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof t.g!="undefined"?t.g:{}};se.CameraContribution=Oe,se.AnimationTimeline=null,se.EasingFunction=null,se.offscreenCanvasCreator=new la,se.sceneGraphSelector=new $o,se.sceneGraphService=new il(se),se.textService=new _l(se),se.geometryUpdaterFactory=gl,se.CSSPropertySyntaxFactory=pl,se.styleValueRegistry=new Zs(se),se.layoutRegistry=null,se.globalThis=El(),se.enableStyleSyntax=!0,se.enableSizeAttenuation=!1;var ha=0;function Jl(){ha=0}var ii=new Ln(an.INSERTED,null,"","","",0,"",""),ai=new Ln(an.REMOVED,null,"","","",0,"",""),va=new fn(an.DESTROY),ml=function(A){function I(){var _;(0,T.Z)(this,I);for(var g=arguments.length,R=new Array(g),Z=0;Z<g;Z++)R[Z]=arguments[Z];return _=(0,m.Z)(this,I,[].concat(R)),_.entity=ha++,_.transformable={dirtyFlag:!1,localDirtyFlag:!1,localPosition:[0,0,0],localRotation:[0,0,0,1],localScale:[1,1,1],localTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],localSkew:[0,0],position:[0,0,0],rotation:[0,0,0,1],scaling:[1,1,1],worldTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],origin:[0,0,0]},_.renderable={bounds:void 0,boundsDirty:!0,renderBounds:void 0,renderBoundsDirty:!0,dirtyRenderBounds:void 0,dirty:!1},_.geometry={contentBounds:void 0,renderBounds:void 0,dirty:!0},_.cullable={strategy:Ce.Standard,visibilityPlaneMask:-1,visible:!0,enable:!0},_.sortable={dirty:!1,sorted:void 0,renderOrder:0,dirtyChildren:[],dirtyReason:void 0},_.rBushNode={aabb:void 0},_.namespaceURI="g",_.scrollLeft=0,_.scrollTop=0,_.clientTop=0,_.clientLeft=0,_.style={},_.computedStyle={},_.parsedStyle={},_.attributes={},_}return(0,f.Z)(I,A),(0,y.Z)(I,[{key:"dirty",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.renderable.dirty=g,R&&(this.renderable.boundsDirty=g,this.renderable.renderBoundsDirty=g)}},{key:"className",get:function(){return this.getAttribute("class")||""},set:function(g){this.setAttribute("class",g)}},{key:"classList",get:function(){return this.className.split(" ").filter(function(g){return g!==""})}},{key:"tagName",get:function(){return this.nodeName}},{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"parentElement",get:function(){return this.parentNode}},{key:"nextSibling",get:function(){if(this.parentNode){var g=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[g+1]||null}return null}},{key:"previousSibling",get:function(){if(this.parentNode){var g=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[g-1]||null}return null}},{key:"cloneNode",value:function(g){throw new Error(ht)}},{key:"appendChild",value:function(g,R){var Z;if(g.destroyed)throw new Error(gt);return se.sceneGraphService.attach(g,this,R),(Z=this.ownerDocument)!==null&&Z!==void 0&&Z.defaultView&&(!mr(this)&&g.nodeName===et.FRAGMENT?this.ownerDocument.defaultView.mountFragment(g):this.ownerDocument.defaultView.mountChildren(g)),this.isMutationObserved&&(ii.relatedNode=this,g.dispatchEvent(ii)),g}},{key:"insertBefore",value:function(g,R){if(!R)this.appendChild(g);else{g.parentElement&&g.parentElement.removeChild(g);var Z=this.childNodes.indexOf(R);Z===-1?this.appendChild(g):this.appendChild(g,Z)}return g}},{key:"replaceChild",value:function(g,R){var Z=this.childNodes.indexOf(R);return this.removeChild(R),this.appendChild(g,Z),R}},{key:"removeChild",value:function(g){var R,Z,k=((R=this.ownerDocument)===null||R===void 0||(R=R.defaultView)===null||R===void 0||(R=R.getConfig().future)===null||R===void 0?void 0:R.experimentalCancelEventPropagation)===!0;return ai.relatedNode=this,g.dispatchEvent(ai,k,k),(Z=g.ownerDocument)!==null&&Z!==void 0&&Z.defaultView&&g.ownerDocument.defaultView.unmountChildren(g),se.sceneGraphService.detach(g),g}},{key:"removeChildren",value:function(){for(var g=this.childNodes.length-1;g>=0;g--){var R=this.childNodes[g];this.removeChild(R)}}},{key:"destroyChildren",value:function(){for(var g=this.childNodes.length-1;g>=0;g--){var R=this.childNodes[g];R.childNodes.length>0&&R.destroyChildren(),R.destroy()}}},{key:"matches",value:function(g){return se.sceneGraphService.matches(g,this)}},{key:"getElementById",value:function(g){return se.sceneGraphService.querySelector("#".concat(g),this)}},{key:"getElementsByName",value:function(g){return se.sceneGraphService.querySelectorAll('[name="'.concat(g,'"]'),this)}},{key:"getElementsByClassName",value:function(g){return se.sceneGraphService.querySelectorAll(".".concat(g),this)}},{key:"getElementsByTagName",value:function(g){return se.sceneGraphService.querySelectorAll(g,this)}},{key:"querySelector",value:function(g){return se.sceneGraphService.querySelector(g,this)}},{key:"querySelectorAll",value:function(g){return se.sceneGraphService.querySelectorAll(g,this)}},{key:"closest",value:function(g){var R=this;do{if(se.sceneGraphService.matches(g,R))return R;R=R.parentElement}while(R!==null);return null}},{key:"find",value:function(g){var R=this,Z=null;return this.forEach(function(k){return k!==R&&g(k)?(Z=k,!1):!0}),Z}},{key:"findAll",value:function(g){var R=this,Z=[];return this.forEach(function(k){k!==R&&g(k)&&Z.push(k)}),Z}},{key:"after",value:function(){var g=this;if(this.parentNode){for(var R=this.parentNode.childNodes.indexOf(this),Z=arguments.length,k=new Array(Z),q=0;q<Z;q++)k[q]=arguments[q];k.forEach(function(it,vt){var Pt;return(Pt=g.parentNode)===null||Pt===void 0?void 0:Pt.appendChild(it,R+vt+1)})}}},{key:"before",value:function(){if(this.parentNode){for(var g,R=this.parentNode.childNodes.indexOf(this),Z=arguments.length,k=new Array(Z),q=0;q<Z;q++)k[q]=arguments[q];var it=k[0],vt=k.slice(1);this.parentNode.appendChild(it,R),(g=it).after.apply(g,(0,C.Z)(vt))}}},{key:"replaceWith",value:function(){this.after.apply(this,arguments),this.remove()}},{key:"append",value:function(){for(var g=this,R=arguments.length,Z=new Array(R),k=0;k<R;k++)Z[k]=arguments[k];Z.forEach(function(q){return g.appendChild(q)})}},{key:"prepend",value:function(){for(var g=this,R=arguments.length,Z=new Array(R),k=0;k<R;k++)Z[k]=arguments[k];Z.forEach(function(q,it){return g.appendChild(q,it)})}},{key:"replaceChildren",value:function(){for(;this.childNodes.length&&this.firstChild;)this.removeChild(this.firstChild);this.append.apply(this,arguments)}},{key:"remove",value:function(){return this.parentNode?this.parentNode.removeChild(this):this}},{key:"destroy",value:function(){var g,R=((g=this.ownerDocument)===null||g===void 0||(g=g.defaultView)===null||g===void 0||(g=g.getConfig().future)===null||g===void 0?void 0:g.experimentalCancelEventPropagation)===!0;this.destroyChildren(),this.dispatchEvent(va,R,R),this.remove(),this.emitter.removeAllListeners(),this.destroyed=!0}},{key:"getGeometryBounds",value:function(){return se.sceneGraphService.getGeometryBounds(this)}},{key:"getRenderBounds",value:function(){return se.sceneGraphService.getBounds(this,!0)}},{key:"getBounds",value:function(){return se.sceneGraphService.getBounds(this)}},{key:"getLocalBounds",value:function(){return se.sceneGraphService.getLocalBounds(this)}},{key:"getBoundingClientRect",value:function(){return se.sceneGraphService.getBoundingClientRect(this)}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"computedStyleMap",value:function(){return new Map(Object.entries(this.computedStyle))}},{key:"getAttributeNames",value:function(){return Object.keys(this.attributes)}},{key:"getAttribute",value:function(g){if(typeof g!="symbol"){var R=this.attributes[g];return R}}},{key:"hasAttribute",value:function(g){return this.getAttributeNames().includes(g)}},{key:"hasAttributes",value:function(){return!!this.getAttributeNames().length}},{key:"removeAttribute",value:function(g){this.setAttribute(g,null),delete this.attributes[g]}},{key:"setAttribute",value:function(g,R,Z,k){this.attributes[g]=R}},{key:"getAttributeNS",value:function(g,R){throw new Error(ht)}},{key:"getAttributeNode",value:function(g){throw new Error(ht)}},{key:"getAttributeNodeNS",value:function(g,R){throw new Error(ht)}},{key:"hasAttributeNS",value:function(g,R){throw new Error(ht)}},{key:"removeAttributeNS",value:function(g,R){throw new Error(ht)}},{key:"removeAttributeNode",value:function(g){throw new Error(ht)}},{key:"setAttributeNS",value:function(g,R,Z){throw new Error(ht)}},{key:"setAttributeNode",value:function(g){throw new Error(ht)}},{key:"setAttributeNodeNS",value:function(g){throw new Error(ht)}},{key:"toggleAttribute",value:function(g,R){throw new Error(ht)}}])}(He);function ze(A){return!!(A!=null&&A.nodeName)}var yl=se.globalThis.Proxy?se.globalThis.Proxy:function(){},In=new Ln(an.ATTR_MODIFIED,null,null,null,null,Ln.MODIFICATION,null,null),sr=o.Ue(),Ml=u.Ue(),$e=function(A){function I(_){var g;return(0,T.Z)(this,I),g=(0,m.Z)(this,I),g.isCustomElement=!1,g.isMutationObserved=!1,g.activeAnimations=[],g.config=_,g.id=_.id||"",g.name=_.name||"",(_.className||_.class)&&(g.className=_.className||_.class),g.nodeName=_.type||et.GROUP,_.initialParsedStyle&&Object.assign(g.parsedStyle,_.initialParsedStyle),g.initAttributes(_.style),se.enableStyleSyntax&&(g.style=new yl({setProperty:function(Z,k){g.setAttribute(Z,k)},getPropertyValue:function(Z){return g.getAttribute(Z)},removeProperty:function(Z){g.removeAttribute(Z)},item:function(){return""}},{get:function(Z,k){return Z[k]!==void 0?Z[k]:g.getAttribute(k)},set:function(Z,k,q){return g.setAttribute(k,q),!0}})),g}return(0,f.Z)(I,A),(0,y.Z)(I,[{key:"destroy",value:function(){(0,$.Z)(I,"destroy",this,3)([]),this.getAnimations().forEach(function(g){g.cancel()})}},{key:"cloneNode",value:function(g,R){var Z=(0,d.Z)({},this.attributes);for(var k in Z){var q=Z[k];ze(q)&&k!=="clipPath"&&k!=="offsetPath"&&k!=="textPath"&&(Z[k]=q.cloneNode(g)),R&&(Z[k]=R(k,q))}var it=new this.constructor((0,d.Z)((0,d.Z)({},this.config),{},{style:Z}));return it.setLocalTransform(this.getLocalTransform()),g&&this.children.forEach(function(vt){if(!vt.style.isMarker){var Pt=vt.cloneNode(g);it.appendChild(Pt)}}),it}},{key:"initAttributes",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R={forceUpdateGeometry:!0};se.styleValueRegistry.processProperties(this,g,R),this.dirty()}},{key:"setAttribute",value:function(g,R){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;(0,F.Z)(R)||(Z||R!==this.attributes[g])&&(this.internalSetAttribute(g,R,{memoize:k}),(0,$.Z)(I,"setAttribute",this,3)([g,R]))}},{key:"internalSetAttribute",value:function(g,R){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},k=this.attributes[g],q=this.parsedStyle[g];se.styleValueRegistry.processProperties(this,(0,V.Z)({},g,R),Z),this.dirty();var it=this.parsedStyle[g];if(this.isConnected)if(In.relatedNode=this,In.prevValue=k,In.newValue=R,In.attrName=g,In.prevParsedValue=q,In.newParsedValue=it,this.isMutationObserved)this.dispatchEvent(In);else{var vt,Pt=((vt=this.ownerDocument.defaultView.getConfig().future)===null||vt===void 0?void 0:vt.experimentalCancelEventPropagation)===!0;In.target=this,this.ownerDocument.defaultView.dispatchEvent(In,!0,Pt)}if(this.isCustomElement&&this.isConnected||!this.isCustomElement){var xt,Wt;(xt=(Wt=this).attributeChangedCallback)===null||xt===void 0||xt.call(Wt,g,k,R,q,it)}}},{key:"getBBox",value:function(){var g=this.getBounds(),R=g.getMin(),Z=(0,h.Z)(R,2),k=Z[0],q=Z[1],it=g.getMax(),vt=(0,h.Z)(it,2),Pt=vt[0],xt=vt[1];return new ct(k,q,Pt-k,xt-q)}},{key:"setOrigin",value:function(g){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return se.sceneGraphService.setOrigin(this,Dt(g,R,Z,!1)),this}},{key:"getOrigin",value:function(){return se.sceneGraphService.getOrigin(this)}},{key:"setPosition",value:function(g){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return se.sceneGraphService.setPosition(this,Dt(g,R,Z,!1)),this}},{key:"setLocalPosition",value:function(g){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return se.sceneGraphService.setLocalPosition(this,Dt(g,R,Z,!1)),this}},{key:"translate",value:function(g){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return se.sceneGraphService.translate(this,Dt(g,R,Z,!1)),this}},{key:"translateLocal",value:function(g){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return se.sceneGraphService.translateLocal(this,Dt(g,R,Z,!1)),this}},{key:"getPosition",value:function(){return se.sceneGraphService.getPosition(this)}},{key:"getLocalPosition",value:function(){return se.sceneGraphService.getLocalPosition(this)}},{key:"scale",value:function(g,R,Z){return this.scaleLocal(g,R,Z)}},{key:"scaleLocal",value:function(g,R,Z){return typeof g=="number"&&(R=R||g,Z=Z||g,g=Dt(g,R,Z,!1)),se.sceneGraphService.scaleLocal(this,g),this}},{key:"setLocalScale",value:function(g,R,Z){return typeof g=="number"&&(R=R||g,Z=Z||g,g=Dt(g,R,Z,!1)),se.sceneGraphService.setLocalScale(this,g),this}},{key:"getLocalScale",value:function(){return se.sceneGraphService.getLocalScale(this)}},{key:"getScale",value:function(){return se.sceneGraphService.getScale(this)}},{key:"getEulerAngles",value:function(){var g=he(sr,se.sceneGraphService.getWorldTransform(this)),R=(0,h.Z)(g,3),Z=R[2];return St(Z)}},{key:"getLocalEulerAngles",value:function(){var g=he(sr,se.sceneGraphService.getLocalRotation(this)),R=(0,h.Z)(g,3),Z=R[2];return St(Z)}},{key:"setEulerAngles",value:function(g){return se.sceneGraphService.setEulerAngles(this,0,0,g),this}},{key:"setLocalEulerAngles",value:function(g){return se.sceneGraphService.setLocalEulerAngles(this,0,0,g),this}},{key:"rotateLocal",value:function(g,R,Z){return(0,e.Z)(R)&&(0,e.Z)(Z)?se.sceneGraphService.rotateLocal(this,0,0,g):se.sceneGraphService.rotateLocal(this,g,R,Z),this}},{key:"rotate",value:function(g,R,Z){return(0,e.Z)(R)&&(0,e.Z)(Z)?se.sceneGraphService.rotate(this,0,0,g):se.sceneGraphService.rotate(this,g,R,Z),this}},{key:"setRotation",value:function(g,R,Z,k){return se.sceneGraphService.setRotation(this,g,R,Z,k),this}},{key:"setLocalRotation",value:function(g,R,Z,k){return se.sceneGraphService.setLocalRotation(this,g,R,Z,k),this}},{key:"setLocalSkew",value:function(g,R){return se.sceneGraphService.setLocalSkew(this,g,R),this}},{key:"getRotation",value:function(){return se.sceneGraphService.getRotation(this)}},{key:"getLocalRotation",value:function(){return se.sceneGraphService.getLocalRotation(this)}},{key:"getLocalSkew",value:function(){return se.sceneGraphService.getLocalSkew(this)}},{key:"getLocalTransform",value:function(){return se.sceneGraphService.getLocalTransform(this)}},{key:"getWorldTransform",value:function(){return se.sceneGraphService.getWorldTransform(this)}},{key:"setLocalTransform",value:function(g){return se.sceneGraphService.setLocalTransform(this,g),this}},{key:"resetLocalTransform",value:function(){se.sceneGraphService.resetLocalTransform(this)}},{key:"getAnimations",value:function(){return this.activeAnimations}},{key:"animate",value:function(g,R){var Z,k=(Z=this.ownerDocument)===null||Z===void 0?void 0:Z.timeline;return k?k.play(this,g,R):null}},{key:"isVisible",value:function(){var g;return((g=this.parsedStyle)===null||g===void 0?void 0:g.visibility)!=="hidden"}},{key:"interactive",get:function(){return this.isInteractive()},set:function(g){this.style.pointerEvents=g?"auto":"none"}},{key:"isInteractive",value:function(){var g;return((g=this.parsedStyle)===null||g===void 0?void 0:g.pointerEvents)!=="none"}},{key:"isCulled",value:function(){return!!(this.cullable&&this.cullable.enable&&!this.cullable.visible)}},{key:"toFront",value:function(){return this.parentNode&&(this.style.zIndex=Math.max.apply(Math,(0,C.Z)(this.parentNode.children.map(function(g){return Number(g.style.zIndex)})))+1),this}},{key:"toBack",value:function(){return this.parentNode&&(this.style.zIndex=Math.min.apply(Math,(0,C.Z)(this.parentNode.children.map(function(g){return Number(g.style.zIndex)})))-1),this}},{key:"getConfig",value:function(){return this.config}},{key:"attr",value:function(){for(var g=this,R=arguments.length,Z=new Array(R),k=0;k<R;k++)Z[k]=arguments[k];var q=Z[0],it=Z[1];return q?(0,H.Z)(q)?(Object.keys(q).forEach(function(vt){g.setAttribute(vt,q[vt])}),this):Z.length===2?(this.setAttribute(q,it),this):this.attributes[q]:this.attributes}},{key:"getMatrix",value:function(g){var R=g||this.getWorldTransform(),Z=a.getTranslation(sr,R),k=(0,h.Z)(Z,2),q=k[0],it=k[1],vt=a.getScaling(sr,R),Pt=(0,h.Z)(vt,2),xt=Pt[0],Wt=Pt[1],Kt=a.getRotation(Ml,R),Nt=he(sr,Kt),Gt=(0,h.Z)(Nt,3),Jt=Gt[0],te=Gt[2];return ie(Jt||te,q,it,xt,Wt)}},{key:"getLocalMatrix",value:function(){return this.getMatrix(this.getLocalTransform())}},{key:"setMatrix",value:function(g){var R=ce(g),Z=(0,h.Z)(R,5),k=Z[0],q=Z[1],it=Z[2],vt=Z[3],Pt=Z[4];this.setEulerAngles(Pt).setPosition(k,q).setLocalScale(it,vt)}},{key:"setLocalMatrix",value:function(g){var R=ce(g),Z=(0,h.Z)(R,5),k=Z[0],q=Z[1],it=Z[2],vt=Z[3],Pt=Z[4];this.setLocalEulerAngles(Pt).setLocalPosition(k,q).setLocalScale(it,vt)}},{key:"show",value:function(){this.forEach(function(g){g.style.visibility="visible"})}},{key:"hide",value:function(){this.forEach(function(g){g.style.visibility="hidden"})}},{key:"getCount",value:function(){return this.childElementCount}},{key:"getParent",value:function(){return this.parentElement}},{key:"getChildren",value:function(){return this.children}},{key:"getFirst",value:function(){return this.firstElementChild}},{key:"getLast",value:function(){return this.lastElementChild}},{key:"getChildByIndex",value:function(g){return this.children[g]||null}},{key:"add",value:function(g,R){return this.appendChild(g,R)}},{key:"set",value:function(g,R){this.config[g]=R}},{key:"get",value:function(g){return this.config[g]}},{key:"moveTo",value:function(g){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return this.setPosition(g,R,Z),this}},{key:"move",value:function(g){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return this.setPosition(g,R,Z),this}},{key:"setZIndex",value:function(g){return this.style.zIndex=g,this}}])}(ml);$e.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","display","draggable","droppable","fill","fillOpacity","fillRule","filter","increasedLineWidthForHitTesting","lineCap","lineDash","lineDashOffset","lineJoin","lineWidth","miterLimit","hitArea","offsetDistance","offsetPath","offsetX","offsetY","opacity","pointerEvents","shadowColor","shadowType","shadowBlur","shadowOffsetX","shadowOffsetY","stroke","strokeOpacity","strokeWidth","strokeLinecap","strokeLineJoin","strokeDasharray","strokeDashoffset","transform","transformOrigin","textTransform","visibility","zIndex"]);var si=function(A){function I(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,T.Z)(this,I),(0,m.Z)(this,I,[(0,d.Z)({type:et.CIRCLE},_)])}return(0,f.Z)(I,A),(0,y.Z)(I)}($e);si.PARSED_STYLE_LIST=new Set([].concat((0,C.Z)($e.PARSED_STYLE_LIST),["cx","cy","cz","r","isBillboard","isSizeAttenuation"]));var Ol=["style"],_a=function(A){function I(){var _,g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=g.style,Z=(0,G.Z)(g,Ol);return(0,T.Z)(this,I),_=(0,m.Z)(this,I,[(0,d.Z)({style:R},Z)]),_.isCustomElement=!0,_}return(0,f.Z)(I,A),(0,y.Z)(I)}($e);_a.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var oi=function(A){function I(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,T.Z)(this,I),(0,m.Z)(this,I,[(0,d.Z)({type:et.ELLIPSE},_)])}return(0,f.Z)(I,A),(0,y.Z)(I)}($e);oi.PARSED_STYLE_LIST=new Set([].concat((0,C.Z)($e.PARSED_STYLE_LIST),["cx","cy","cz","rx","ry","isBillboard","isSizeAttenuation"]));var Pl=function(A){function I(){return(0,T.Z)(this,I),(0,m.Z)(this,I,[{type:et.FRAGMENT}])}return(0,f.Z)(I,A),(0,y.Z)(I)}($e);Pl.PARSED_STYLE_LIST=new Set(["class","className"]);var or=function(A){function I(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,T.Z)(this,I),(0,m.Z)(this,I,[(0,d.Z)({type:et.GROUP},_)])}return(0,f.Z)(I,A),(0,y.Z)(I)}($e);or.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var Dl=["style"],li=function(A){function I(){var _,g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=g.style,Z=(0,G.Z)(g,Dl);return(0,T.Z)(this,I),_=(0,m.Z)(this,I,[(0,d.Z)({type:et.HTML,style:R},Z)]),_.cullable.enable=!1,_}return(0,f.Z)(I,A),(0,y.Z)(I,[{key:"getDomElement",value:function(){return this.parsedStyle.$el}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"getLocalBounds",value:function(){if(this.parentNode){var g=a.invert(a.create(),this.parentNode.getWorldTransform()),R=this.getBounds();if(!bt.isEmpty(R)){var Z=new bt;return Z.setFromTransformedAABB(R,g),Z}}return this.getBounds()}}])}($e);li.PARSED_STYLE_LIST=new Set([].concat((0,C.Z)($e.PARSED_STYLE_LIST),["x","y","$el","innerHTML","width","height"]));var ui=function(A){function I(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,T.Z)(this,I),(0,m.Z)(this,I,[(0,d.Z)({type:et.IMAGE},_)])}return(0,f.Z)(I,A),(0,y.Z)(I)}($e);ui.PARSED_STYLE_LIST=new Set([].concat((0,C.Z)($e.PARSED_STYLE_LIST),["x","y","z","src","width","height","isBillboard","billboardRotation","isSizeAttenuation","keepAspectRatio"]));var Cl=["style"],ci=function(A){function I(){var _,g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=g.style,Z=(0,G.Z)(g,Cl);(0,T.Z)(this,I),_=(0,m.Z)(this,I,[(0,d.Z)({type:et.LINE,style:(0,d.Z)({x1:0,y1:0,x2:0,y2:0,z1:0,z2:0},R)},Z)]),_.markerStartAngle=0,_.markerEndAngle=0;var k=_.parsedStyle,q=k.markerStart,it=k.markerEnd;return q&&ze(q)&&(_.markerStartAngle=q.getLocalEulerAngles(),_.appendChild(q)),it&&ze(it)&&(_.markerEndAngle=it.getLocalEulerAngles(),_.appendChild(it)),_.transformMarker(!0),_.transformMarker(!1),_}return(0,f.Z)(I,A),(0,y.Z)(I,[{key:"attributeChangedCallback",value:function(g,R,Z,k,q){g==="x1"||g==="y1"||g==="x2"||g==="y2"||g==="markerStartOffset"||g==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):g==="markerStart"?(k&&ze(k)&&(this.markerStartAngle=0,k.remove()),q&&ze(q)&&(this.markerStartAngle=q.getLocalEulerAngles(),this.appendChild(q),this.transformMarker(!0))):g==="markerEnd"&&(k&&ze(k)&&(this.markerEndAngle=0,k.remove()),q&&ze(q)&&(this.markerEndAngle=q.getLocalEulerAngles(),this.appendChild(q),this.transformMarker(!1)))}},{key:"transformMarker",value:function(g){var R=this.parsedStyle,Z=R.markerStart,k=R.markerEnd,q=R.markerStartOffset,it=R.markerEndOffset,vt=R.x1,Pt=R.x2,xt=R.y1,Wt=R.y2,Kt=g?Z:k;if(!(!Kt||!ze(Kt))){var Nt=0,Gt,Jt,te,Xt,ne,Ee;g?(te=vt,Xt=xt,Gt=Pt-vt,Jt=Wt-xt,ne=q||0,Ee=this.markerStartAngle):(te=Pt,Xt=Wt,Gt=vt-Pt,Jt=xt-Wt,ne=it||0,Ee=this.markerEndAngle),Nt=Math.atan2(Jt,Gt),Kt.setLocalEulerAngles(Nt*180/Math.PI+Ee),Kt.setLocalPosition(te+Math.cos(Nt)*ne,Xt+Math.sin(Nt)*ne)}}},{key:"getPoint",value:function(g){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Z=this.parsedStyle,k=Z.x1,q=Z.y1,it=Z.x2,vt=Z.y2,Pt=(0,J.U4)(k,q,it,vt,g),xt=Pt.x,Wt=Pt.y,Kt=o.fF(o.Ue(),o.al(xt,Wt,0),R?this.getWorldTransform():this.getLocalTransform());return new Q(Kt[0],Kt[1])}},{key:"getPointAtLength",value:function(g){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPoint(g/this.getTotalLength(),R)}},{key:"getTotalLength",value:function(){var g=this.parsedStyle,R=g.x1,Z=g.y1,k=g.x2,q=g.y2;return(0,J.Xk)(R,Z,k,q)}}])}($e);ci.PARSED_STYLE_LIST=new Set([].concat((0,C.Z)($e.PARSED_STYLE_LIST),["x1","y1","x2","y2","z1","z2","isBillboard","isSizeAttenuation","markerStart","markerEnd","markerStartOffset","markerEndOffset"]));var Tl=["style"],di=function(A){function I(){var _,g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=g.style,Z=(0,G.Z)(g,Tl);(0,T.Z)(this,I),_=(0,m.Z)(this,I,[(0,d.Z)({type:et.PATH,style:R,initialParsedStyle:{miterLimit:4,d:(0,d.Z)({},on)}},Z)]),_.markerStartAngle=0,_.markerEndAngle=0,_.markerMidList=[];var k=_.parsedStyle,q=k.markerStart,it=k.markerEnd,vt=k.markerMid;return q&&ze(q)&&(_.markerStartAngle=q.getLocalEulerAngles(),_.appendChild(q)),vt&&ze(vt)&&_.placeMarkerMid(vt),it&&ze(it)&&(_.markerEndAngle=it.getLocalEulerAngles(),_.appendChild(it)),_.transformMarker(!0),_.transformMarker(!1),_}return(0,f.Z)(I,A),(0,y.Z)(I,[{key:"attributeChangedCallback",value:function(g,R,Z,k,q){g==="d"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):g==="markerStartOffset"||g==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):g==="markerStart"?(k&&ze(k)&&(this.markerStartAngle=0,k.remove()),q&&ze(q)&&(this.markerStartAngle=q.getLocalEulerAngles(),this.appendChild(q),this.transformMarker(!0))):g==="markerEnd"?(k&&ze(k)&&(this.markerEndAngle=0,k.remove()),q&&ze(q)&&(this.markerEndAngle=q.getLocalEulerAngles(),this.appendChild(q),this.transformMarker(!1))):g==="markerMid"&&this.placeMarkerMid(q)}},{key:"transformMarker",value:function(g){var R=this.parsedStyle,Z=R.markerStart,k=R.markerEnd,q=R.markerStartOffset,it=R.markerEndOffset,vt=g?Z:k;if(!(!vt||!ze(vt))){var Pt=0,xt,Wt,Kt,Nt,Gt,Jt;if(g){var te=this.getStartTangent(),Xt=(0,h.Z)(te,2),ne=Xt[0],Ee=Xt[1];Kt=Ee[0],Nt=Ee[1],xt=ne[0]-Ee[0],Wt=ne[1]-Ee[1],Gt=q||0,Jt=this.markerStartAngle}else{var $t=this.getEndTangent(),kt=(0,h.Z)($t,2),jt=kt[0],Yt=kt[1];Kt=Yt[0],Nt=Yt[1],xt=jt[0]-Yt[0],Wt=jt[1]-Yt[1],Gt=it||0,Jt=this.markerEndAngle}Pt=Math.atan2(Wt,xt),vt.setLocalEulerAngles(Pt*180/Math.PI+Jt),vt.setLocalPosition(Kt+Math.cos(Pt)*Gt,Nt+Math.sin(Pt)*Gt)}}},{key:"placeMarkerMid",value:function(g){var R=this.parsedStyle.d.segments;if(this.markerMidList.forEach(function(Pt){Pt.remove()}),g&&ze(g))for(var Z=1;Z<R.length-1;Z++){var k=(0,h.Z)(R[Z].currentPoint,2),q=k[0],it=k[1],vt=Z===1?g:g.cloneNode(!0);this.markerMidList.push(vt),this.appendChild(vt),vt.setLocalPosition(q,it)}}},{key:"getTotalLength",value:function(){return jr(this)}},{key:"getPointAtLength",value:function(g){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Z=this.parsedStyle.d.absolutePath,k=(0,Y.r)(Z,g),q=k.x,it=k.y,vt=o.fF(o.Ue(),o.al(q,it,0),R?this.getWorldTransform():this.getLocalTransform());return new Q(vt[0],vt[1])}},{key:"getPoint",value:function(g){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPointAtLength(g*jr(this),R)}},{key:"getStartTangent",value:function(){var g=this.parsedStyle.d.segments,R=[];if(g.length>1){var Z=g[0].currentPoint,k=g[1].currentPoint,q=g[1].startTangent;R=[],q?(R.push([Z[0]-q[0],Z[1]-q[1]]),R.push([Z[0],Z[1]])):(R.push([k[0],k[1]]),R.push([Z[0],Z[1]]))}return R}},{key:"getEndTangent",value:function(){var g=this.parsedStyle.d.segments,R=g.length,Z=[];if(R>1){var k=g[R-2].currentPoint,q=g[R-1].currentPoint,it=g[R-1].endTangent;Z=[],it?(Z.push([q[0]-it[0],q[1]-it[1]]),Z.push([q[0],q[1]])):(Z.push([k[0],k[1]]),Z.push([q[0],q[1]]))}return Z}}])}($e);di.PARSED_STYLE_LIST=new Set([].concat((0,C.Z)($e.PARSED_STYLE_LIST),["d","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard","isSizeAttenuation"]));var bl=["style"],lr=function(A){function I(){var _,g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=g.style,Z=(0,G.Z)(g,bl);(0,T.Z)(this,I),_=(0,m.Z)(this,I,[(0,d.Z)({type:et.POLYGON,style:R,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!0}},Z)]),_.markerStartAngle=0,_.markerEndAngle=0,_.markerMidList=[];var k=_.parsedStyle,q=k.markerStart,it=k.markerEnd,vt=k.markerMid;return q&&ze(q)&&(_.markerStartAngle=q.getLocalEulerAngles(),_.appendChild(q)),vt&&ze(vt)&&_.placeMarkerMid(vt),it&&ze(it)&&(_.markerEndAngle=it.getLocalEulerAngles(),_.appendChild(it)),_.transformMarker(!0),_.transformMarker(!1),_}return(0,f.Z)(I,A),(0,y.Z)(I,[{key:"attributeChangedCallback",value:function(g,R,Z,k,q){g==="points"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):g==="markerStartOffset"||g==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):g==="markerStart"?(k&&ze(k)&&(this.markerStartAngle=0,k.remove()),q&&ze(q)&&(this.markerStartAngle=q.getLocalEulerAngles(),this.appendChild(q),this.transformMarker(!0))):g==="markerEnd"?(k&&ze(k)&&(this.markerEndAngle=0,k.remove()),q&&ze(q)&&(this.markerEndAngle=q.getLocalEulerAngles(),this.appendChild(q),this.transformMarker(!1))):g==="markerMid"&&this.placeMarkerMid(q)}},{key:"transformMarker",value:function(g){var R=this.parsedStyle,Z=R.markerStart,k=R.markerEnd,q=R.markerStartOffset,it=R.markerEndOffset,vt=R.points,Pt=vt||{},xt=Pt.points,Wt=g?Z:k;if(!(!Wt||!ze(Wt)||!xt)){var Kt=0,Nt,Gt,Jt,te,Xt,ne;if(Jt=xt[0][0],te=xt[0][1],g)Nt=xt[1][0]-xt[0][0],Gt=xt[1][1]-xt[0][1],Xt=q||0,ne=this.markerStartAngle;else{var Ee=xt.length;this.parsedStyle.isClosed?(Nt=xt[Ee-1][0]-xt[0][0],Gt=xt[Ee-1][1]-xt[0][1]):(Jt=xt[Ee-1][0],te=xt[Ee-1][1],Nt=xt[Ee-2][0]-xt[Ee-1][0],Gt=xt[Ee-2][1]-xt[Ee-1][1]),Xt=it||0,ne=this.markerEndAngle}Kt=Math.atan2(Gt,Nt),Wt.setLocalEulerAngles(Kt*180/Math.PI+ne),Wt.setLocalPosition(Jt+Math.cos(Kt)*Xt,te+Math.sin(Kt)*Xt)}}},{key:"placeMarkerMid",value:function(g){var R=this.parsedStyle.points,Z=R||{},k=Z.points;if(this.markerMidList.forEach(function(xt){xt.remove()}),this.markerMidList=[],g&&ze(g)&&k)for(var q=1;q<(this.parsedStyle.isClosed?k.length:k.length-1);q++){var it=k[q][0],vt=k[q][1],Pt=q===1?g:g.cloneNode(!0);this.markerMidList.push(Pt),this.appendChild(Pt),Pt.setLocalPosition(it,vt)}}}])}($e);lr.PARSED_STYLE_LIST=new Set([].concat((0,C.Z)($e.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isClosed","isBillboard","isSizeAttenuation"]));var xl=["style"],fi=function(A){function I(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=_.style,R=(0,G.Z)(_,xl);return(0,T.Z)(this,I),(0,m.Z)(this,I,[(0,d.Z)({type:et.POLYLINE,style:g,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!1}},R)])}return(0,f.Z)(I,A),(0,y.Z)(I,[{key:"getTotalLength",value:function(){return vs(this)}},{key:"getPointAtLength",value:function(g){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPoint(g/this.getTotalLength(),R)}},{key:"getPoint",value:function(g){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Z=this.parsedStyle.points.points;if(this.parsedStyle.points.segments.length===0){var k=[],q=0,it,vt,Pt=this.getTotalLength();Z.forEach(function(te,Xt){Z[Xt+1]&&(it=[0,0],it[0]=q/Pt,vt=(0,J.Xk)(te[0],te[1],Z[Xt+1][0],Z[Xt+1][1]),q+=vt,it[1]=q/Pt,k.push(it))}),this.parsedStyle.points.segments=k}var xt=0,Wt=0;this.parsedStyle.points.segments.forEach(function(te,Xt){g>=te[0]&&g<=te[1]&&(xt=(g-te[0])/(te[1]-te[0]),Wt=Xt)});var Kt=(0,J.U4)(Z[Wt][0],Z[Wt][1],Z[Wt+1][0],Z[Wt+1][1],xt),Nt=Kt.x,Gt=Kt.y,Jt=o.fF(o.Ue(),o.al(Nt,Gt,0),R?this.getWorldTransform():this.getLocalTransform());return new Q(Jt[0],Jt[1])}},{key:"getStartTangent",value:function(){var g=this.parsedStyle.points.points,R=[];return R.push([g[1][0],g[1][1]]),R.push([g[0][0],g[0][1]]),R}},{key:"getEndTangent",value:function(){var g=this.parsedStyle.points.points,R=g.length-1,Z=[];return Z.push([g[R-1][0],g[R-1][1]]),Z.push([g[R][0],g[R][1]]),Z}}])}(lr);fi.PARSED_STYLE_LIST=new Set([].concat((0,C.Z)(lr.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard"]));var hi=function(A){function I(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,T.Z)(this,I),(0,m.Z)(this,I,[(0,d.Z)({type:et.RECT},_)])}return(0,f.Z)(I,A),(0,y.Z)(I)}($e);hi.PARSED_STYLE_LIST=new Set([].concat((0,C.Z)($e.PARSED_STYLE_LIST),["x","y","z","width","height","isBillboard","isSizeAttenuation","radius"]));var Al=["style"],Tr=function(A){function I(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=_.style,R=(0,G.Z)(_,Al);return(0,T.Z)(this,I),(0,m.Z)(this,I,[(0,d.Z)({type:et.TEXT,style:(0,d.Z)({fill:"black"},g)},R)])}return(0,f.Z)(I,A),(0,y.Z)(I,[{key:"getComputedTextLength",value:function(){var g;return this.getGeometryBounds(),((g=this.parsedStyle.metrics)===null||g===void 0?void 0:g.maxLineWidth)||0}},{key:"getLineBoundingRects",value:function(){var g;return this.getGeometryBounds(),((g=this.parsedStyle.metrics)===null||g===void 0?void 0:g.lineMetrics)||[]}},{key:"isOverflowing",value:function(){return this.getGeometryBounds(),!!this.parsedStyle.isOverflowing}}])}($e);Tr.PARSED_STYLE_LIST=new Set([].concat((0,C.Z)($e.PARSED_STYLE_LIST),["x","y","z","isBillboard","billboardRotation","isSizeAttenuation","text","textAlign","textBaseline","fontStyle","fontSize","fontFamily","fontWeight","fontVariant","lineHeight","letterSpacing","leading","wordWrap","wordWrapWidth","maxLines","textOverflow","isOverflowing","textPath","textDecorationLine","textDecorationColor","textDecorationStyle","textPathSide","textPathStartOffset","metrics","dx","dy"]));var Rl=function(){function A(){(0,T.Z)(this,A),this.registry={},this.define(et.CIRCLE,si),this.define(et.ELLIPSE,oi),this.define(et.RECT,hi),this.define(et.IMAGE,ui),this.define(et.LINE,ci),this.define(et.GROUP,or),this.define(et.PATH,di),this.define(et.POLYGON,lr),this.define(et.POLYLINE,fi),this.define(et.TEXT,Tr),this.define(et.HTML,li)}return(0,y.Z)(A,[{key:"define",value:function(_,g){this.registry[_]=g}},{key:"get",value:function(_){return this.registry[_]}}])}(),Ql={number:function(I){return new ke(I)},percent:function(I){return new ke(I,"%")},px:function(I){return new ke(I,"px")},em:function(I){return new ke(I,"em")},rem:function(I){return new ke(I,"rem")},deg:function(I){return new ke(I,"deg")},grad:function(I){return new ke(I,"grad")},rad:function(I){return new ke(I,"rad")},turn:function(I){return new ke(I,"turn")},s:function(I){return new ke(I,"s")},ms:function(I){return new ke(I,"ms")},registerProperty:function(I){var _=I.name,g=I.inherits,R=I.interpolable,Z=I.initialValue,k=I.syntax;se.styleValueRegistry.registerMetadata({n:_,inh:g,int:R,d:Z,syntax:k})},registerLayout:function(I,_){se.layoutRegistry.registerLayout(I,_)}},ga=function(A){function I(){var _;(0,T.Z)(this,I),_=(0,m.Z)(this,I),_.defaultView=null,_.ownerDocument=null,_.nodeName="document";try{_.timeline=new se.AnimationTimeline(_)}catch(R){}var g={};return Yr.forEach(function(R){var Z=R.n,k=R.inh,q=R.d;k&&q&&(g[Z]=(0,z.Z)(q)?q(et.GROUP):q)}),_.documentElement=new or({id:"g-root",style:g}),_.documentElement.ownerDocument=_,_.documentElement.parentNode=_,_.childNodes=[_.documentElement],_}return(0,f.Z)(I,A),(0,y.Z)(I,[{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"createElement",value:function(g,R){if(g==="svg")return this.documentElement;var Z=this.defaultView.customElements.get(g);Z||(console.warn("Unsupported tagName: ",g),Z=g==="tspan"?Tr:or);var k=new Z(R);return k.ownerDocument=this,k}},{key:"createElementNS",value:function(g,R,Z){return this.createElement(R,Z)}},{key:"cloneNode",value:function(g){throw new Error(ht)}},{key:"destroy",value:function(){try{this.documentElement.destroyChildren(),this.timeline.destroy()}catch(g){}}},{key:"elementsFromBBox",value:function(g,R,Z,k){var q=this.defaultView.context.rBushRoot,it=q.search({minX:g,minY:R,maxX:Z,maxY:k}),vt=[];return it.forEach(function(Pt){var xt=Pt.displayObject,Wt=xt.parsedStyle.pointerEvents,Kt=Wt===void 0?"auto":Wt,Nt=["auto","visiblepainted","visiblefill","visiblestroke","visible"].includes(Kt);(!Nt||Nt&&xt.isVisible())&&!xt.isCulled()&&xt.isInteractive()&&vt.push(xt)}),vt.sort(function(Pt,xt){return xt.sortable.renderOrder-Pt.sortable.renderOrder}),vt}},{key:"elementFromPointSync",value:function(g,R){var Z=this.defaultView.canvas2Viewport({x:g,y:R}),k=Z.x,q=Z.y,it=this.defaultView.getConfig(),vt=it.width,Pt=it.height;if(k<0||q<0||k>vt||q>Pt)return null;var xt=this.defaultView.viewport2Client({x:k,y:q}),Wt=xt.x,Kt=xt.y,Nt=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!0,position:{x:g,y:R,viewportX:k,viewportY:q,clientX:Wt,clientY:Kt},picked:[]}),Gt=Nt.picked;return Gt&&Gt[0]||this.documentElement}},{key:"elementFromPoint",value:function(){var _=(0,lt.Z)((0,rt.Z)().mark(function R(Z,k){var q,it,vt,Pt,xt,Wt,Kt,Nt,Gt,Jt,te;return(0,rt.Z)().wrap(function(Xt){for(;;)switch(Xt.prev=Xt.next){case 0:if(q=this.defaultView.canvas2Viewport({x:Z,y:k}),it=q.x,vt=q.y,Pt=this.defaultView.getConfig(),xt=Pt.width,Wt=Pt.height,!(it<0||vt<0||it>xt||vt>Wt)){Xt.next=1;break}return Xt.abrupt("return",null);case 1:return Kt=this.defaultView.viewport2Client({x:it,y:vt}),Nt=Kt.x,Gt=Kt.y,Xt.next=2,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!0,position:{x:Z,y:k,viewportX:it,viewportY:vt,clientX:Nt,clientY:Gt},picked:[]});case 2:return Jt=Xt.sent,te=Jt.picked,Xt.abrupt("return",te&&te[0]||this.documentElement);case 3:case"end":return Xt.stop()}},R,this)}));function g(R,Z){return _.apply(this,arguments)}return g}()},{key:"elementsFromPointSync",value:function(g,R){var Z=this.defaultView.canvas2Viewport({x:g,y:R}),k=Z.x,q=Z.y,it=this.defaultView.getConfig(),vt=it.width,Pt=it.height;if(k<0||q<0||k>vt||q>Pt)return[];var xt=this.defaultView.viewport2Client({x:k,y:q}),Wt=xt.x,Kt=xt.y,Nt=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!1,position:{x:g,y:R,viewportX:k,viewportY:q,clientX:Wt,clientY:Kt},picked:[]}),Gt=Nt.picked;return Gt[Gt.length-1]!==this.documentElement&&Gt.push(this.documentElement),Gt}},{key:"elementsFromPoint",value:function(){var _=(0,lt.Z)((0,rt.Z)().mark(function R(Z,k){var q,it,vt,Pt,xt,Wt,Kt,Nt,Gt,Jt,te;return(0,rt.Z)().wrap(function(Xt){for(;;)switch(Xt.prev=Xt.next){case 0:if(q=this.defaultView.canvas2Viewport({x:Z,y:k}),it=q.x,vt=q.y,Pt=this.defaultView.getConfig(),xt=Pt.width,Wt=Pt.height,!(it<0||vt<0||it>xt||vt>Wt)){Xt.next=1;break}return Xt.abrupt("return",[]);case 1:return Kt=this.defaultView.viewport2Client({x:it,y:vt}),Nt=Kt.x,Gt=Kt.y,Xt.next=2,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!1,position:{x:Z,y:k,viewportX:it,viewportY:vt,clientX:Nt,clientY:Gt},picked:[]});case 2:return Jt=Xt.sent,te=Jt.picked,te[te.length-1]!==this.documentElement&&te.push(this.documentElement),Xt.abrupt("return",te);case 3:case"end":return Xt.stop()}},R,this)}));function g(R,Z){return _.apply(this,arguments)}return g}()},{key:"appendChild",value:function(g,R){throw new Error(ft)}},{key:"insertBefore",value:function(g,R){throw new Error(ft)}},{key:"removeChild",value:function(g,R){throw new Error(ft)}},{key:"replaceChild",value:function(g,R,Z){throw new Error(ft)}},{key:"append",value:function(){throw new Error(ft)}},{key:"prepend",value:function(){throw new Error(ft)}},{key:"getElementById",value:function(g){return this.documentElement.getElementById(g)}},{key:"getElementsByName",value:function(g){return this.documentElement.getElementsByName(g)}},{key:"getElementsByTagName",value:function(g){return this.documentElement.getElementsByTagName(g)}},{key:"getElementsByClassName",value:function(g){return this.documentElement.getElementsByClassName(g)}},{key:"querySelector",value:function(g){return this.documentElement.querySelector(g)}},{key:"querySelectorAll",value:function(g){return this.documentElement.querySelectorAll(g)}},{key:"find",value:function(g){return this.documentElement.find(g)}},{key:"findAll",value:function(g){return this.documentElement.findAll(g)}}])}(He),pa=function(){function A(I){(0,T.Z)(this,A),this.strategies=I}return(0,y.Z)(A,[{key:"apply",value:function(_){var g=_.config,R=_.camera,Z=_.renderingService,k=_.renderingContext,q=this.strategies;Z.hooks.cull.tap(A.tag,function(it){if(it){var vt,Pt=it.cullable;if(q.length===0?Pt.visible=k.unculledEntities.indexOf(it.entity)>-1:Pt.visible=q.every(function(Wt){return Wt.isVisible(R,it)}),!it.isCulled()&&it.isVisible())return it;var xt=((vt=g.future)===null||vt===void 0?void 0:vt.experimentalCancelEventPropagation)===!0;return it.dispatchEvent(new fn(an.CULLED),xt,xt),null}return it}),Z.hooks.afterRender.tap(A.tag,function(it){it.cullable.visibilityPlaneMask=-1})}}])}();pa.tag="Culling";var Ea=function(){function A(){var I=this;(0,T.Z)(this,A),this.autoPreventDefault=!1,this.rootPointerEvent=new Mr(null),this.rootWheelEvent=new ri(null),this.onPointerMove=function(_){var g,R=(g=I.context.renderingContext.root)===null||g===void 0||(g=g.ownerDocument)===null||g===void 0?void 0:g.defaultView;if(!(R.supportsTouchEvents&&_.pointerType==="touch")){var Z=I.normalizeToPointerEvent(_,R),k=(0,tt.Z)(Z),q;try{for(k.s();!(q=k.n()).done;){var it=q.value,vt=I.bootstrapEvent(I.rootPointerEvent,it,R,_);I.context.eventService.mapEvent(vt)}}catch(Pt){k.e(Pt)}finally{k.f()}I.setCursor(I.context.eventService.cursor)}},this.onClick=function(_){var g,R=(g=I.context.renderingContext.root)===null||g===void 0||(g=g.ownerDocument)===null||g===void 0?void 0:g.defaultView,Z=I.normalizeToPointerEvent(_,R),k=(0,tt.Z)(Z),q;try{for(k.s();!(q=k.n()).done;){var it=q.value,vt=I.bootstrapEvent(I.rootPointerEvent,it,R,_);I.context.eventService.mapEvent(vt)}}catch(Pt){k.e(Pt)}finally{k.f()}I.setCursor(I.context.eventService.cursor)}}return(0,y.Z)(A,[{key:"apply",value:function(_){var g=this;this.context=_;var R=_.renderingService,Z=this.context.renderingContext.root.ownerDocument.defaultView;this.context.eventService.setPickHandler(function(k){var q=g.context.renderingService.hooks.pickSync.call({position:k,picked:[],topmost:!0}),it=q.picked;return it[0]||null}),R.hooks.pointerWheel.tap(A.tag,function(k){var q=g.normalizeWheelEvent(k);g.context.eventService.mapEvent(q)}),R.hooks.pointerDown.tap(A.tag,function(k){if(!(Z.supportsTouchEvents&&k.pointerType==="touch")){var q=g.normalizeToPointerEvent(k,Z);if(g.autoPreventDefault&&q[0].isNormalized){var it=k.cancelable||!("cancelable"in k);it&&k.preventDefault()}var vt=(0,tt.Z)(q),Pt;try{for(vt.s();!(Pt=vt.n()).done;){var xt=Pt.value,Wt=g.bootstrapEvent(g.rootPointerEvent,xt,Z,k);g.context.eventService.mapEvent(Wt)}}catch(Kt){vt.e(Kt)}finally{vt.f()}g.setCursor(g.context.eventService.cursor)}}),R.hooks.pointerUp.tap(A.tag,function(k){if(!(Z.supportsTouchEvents&&k.pointerType==="touch")){var q=g.context.contextService.getDomElement(),it=g.context.eventService.isNativeEventFromCanvas(q,k),vt=it?"":"outside",Pt=g.normalizeToPointerEvent(k,Z),xt=(0,tt.Z)(Pt),Wt;try{for(xt.s();!(Wt=xt.n()).done;){var Kt=Wt.value,Nt=g.bootstrapEvent(g.rootPointerEvent,Kt,Z,k);Nt.type+=vt,g.context.eventService.mapEvent(Nt)}}catch(Gt){xt.e(Gt)}finally{xt.f()}g.setCursor(g.context.eventService.cursor)}}),R.hooks.pointerMove.tap(A.tag,this.onPointerMove),R.hooks.pointerOver.tap(A.tag,this.onPointerMove),R.hooks.pointerOut.tap(A.tag,this.onPointerMove),R.hooks.click.tap(A.tag,this.onClick),R.hooks.pointerCancel.tap(A.tag,function(k){var q=g.normalizeToPointerEvent(k,Z),it=(0,tt.Z)(q),vt;try{for(it.s();!(vt=it.n()).done;){var Pt=vt.value,xt=g.bootstrapEvent(g.rootPointerEvent,Pt,Z,k);g.context.eventService.mapEvent(xt)}}catch(Wt){it.e(Wt)}finally{it.f()}g.setCursor(g.context.eventService.cursor)})}},{key:"bootstrapEvent",value:function(_,g,R,Z){_.view=R,_.originalEvent=null,_.nativeEvent=Z,_.pointerId=g.pointerId,_.width=g.width,_.height=g.height,_.isPrimary=g.isPrimary,_.pointerType=g.pointerType,_.pressure=g.pressure,_.tangentialPressure=g.tangentialPressure,_.tiltX=g.tiltX,_.tiltY=g.tiltY,_.twist=g.twist,this.transferMouseData(_,g);var k=this.context.eventService.client2Viewport({x:g.clientX,y:g.clientY}),q=k.x,it=k.y;_.viewport.x=q,_.viewport.y=it;var vt=this.context.eventService.viewport2Canvas(_.viewport),Pt=vt.x,xt=vt.y;return _.canvas.x=Pt,_.canvas.y=xt,_.global.copyFrom(_.canvas),_.offset.copyFrom(_.canvas),_.isTrusted=Z.isTrusted,_.type==="pointerleave"&&(_.type="pointerout"),_.type.startsWith("mouse")&&(_.type=_.type.replace("mouse","pointer")),_.type.startsWith("touch")&&(_.type=fo[_.type]||_.type),_}},{key:"normalizeWheelEvent",value:function(_){var g=this.rootWheelEvent;this.transferMouseData(g,_),g.deltaMode=_.deltaMode,g.deltaX=_.deltaX,g.deltaY=_.deltaY,g.deltaZ=_.deltaZ;var R=this.context.eventService.client2Viewport({x:_.clientX,y:_.clientY}),Z=R.x,k=R.y;g.viewport.x=Z,g.viewport.y=k;var q=this.context.eventService.viewport2Canvas(g.viewport),it=q.x,vt=q.y;return g.canvas.x=it,g.canvas.y=vt,g.global.copyFrom(g.canvas),g.offset.copyFrom(g.canvas),g.nativeEvent=_,g.type=_.type,g}},{key:"transferMouseData",value:function(_,g){_.isTrusted=g.isTrusted,_.srcElement=g.srcElement,_.timeStamp=qr.now(),_.type=g.type,_.altKey=g.altKey,_.metaKey=g.metaKey,_.shiftKey=g.shiftKey,_.ctrlKey=g.ctrlKey,_.button=g.button,_.buttons=g.buttons,_.client.x=g.clientX,_.client.y=g.clientY,_.movement.x=g.movementX,_.movement.y=g.movementY,_.page.x=g.pageX,_.page.y=g.pageY,_.screen.x=g.screenX,_.screen.y=g.screenY,_.relatedTarget=null}},{key:"setCursor",value:function(_){this.context.contextService.applyCursorStyle(_||this.context.config.cursor||"default")}},{key:"normalizeToPointerEvent",value:function(_,g){var R=[];if(g.isTouchEvent(_))for(var Z=0;Z<_.changedTouches.length;Z++){var k=_.changedTouches[Z];(0,F.Z)(k.button)&&(k.button=0),(0,F.Z)(k.buttons)&&(k.buttons=1),(0,F.Z)(k.isPrimary)&&(k.isPrimary=_.touches.length===1&&_.type==="touchstart"),(0,F.Z)(k.width)&&(k.width=k.radiusX||1),(0,F.Z)(k.height)&&(k.height=k.radiusY||1),(0,F.Z)(k.tiltX)&&(k.tiltX=0),(0,F.Z)(k.tiltY)&&(k.tiltY=0),(0,F.Z)(k.pointerType)&&(k.pointerType="touch"),(0,F.Z)(k.pointerId)&&(k.pointerId=k.identifier||0),(0,F.Z)(k.pressure)&&(k.pressure=k.force||.5),(0,F.Z)(k.twist)&&(k.twist=0),(0,F.Z)(k.tangentialPressure)&&(k.tangentialPressure=0),k.isNormalized=!0,k.type=_.type,R.push(k)}else if(g.isMouseEvent(_)){var q=_;(0,F.Z)(q.isPrimary)&&(q.isPrimary=!0),(0,F.Z)(q.width)&&(q.width=1),(0,F.Z)(q.height)&&(q.height=1),(0,F.Z)(q.tiltX)&&(q.tiltX=0),(0,F.Z)(q.tiltY)&&(q.tiltY=0),(0,F.Z)(q.pointerType)&&(q.pointerType="mouse"),(0,F.Z)(q.pointerId)&&(q.pointerId=co),(0,F.Z)(q.pressure)&&(q.pressure=.5),(0,F.Z)(q.twist)&&(q.twist=0),(0,F.Z)(q.tangentialPressure)&&(q.tangentialPressure=0),q.isNormalized=!0,R.push(q)}else R.push(_);return R}}])}();Ea.tag="Event";var Ll=[et.CIRCLE,et.ELLIPSE,et.IMAGE,et.RECT,et.LINE,et.POLYLINE,et.POLYGON,et.TEXT,et.PATH,et.HTML],Il=function(){function A(){(0,T.Z)(this,A)}return(0,y.Z)(A,[{key:"isVisible",value:function(_,g){var R,Z=g.cullable;if(!Z.enable)return!0;var k=g.getRenderBounds();if(bt.isEmpty(k))return!1;var q=_.getFrustum(),it=(R=g.parentNode)===null||R===void 0||(R=R.cullable)===null||R===void 0?void 0:R.visibilityPlaneMask;return Z.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(g,k,it||It.INDETERMINATE,q.planes),Z.visible=Z.visibilityPlaneMask!==It.OUTSIDE,Z.visible}},{key:"computeVisibilityWithPlaneMask",value:function(_,g,R,Z){if(R===It.OUTSIDE||R===It.INSIDE)return R;for(var k=It.INSIDE,q=Ll.indexOf(_.nodeName)>-1,it=0,vt=Z.length;it<vt;++it){var Pt=1<<it;if(R&Pt&&!(q&&(it===4||it===5))){var xt=Z[it],Wt=xt.normal,Kt=xt.distance;if(o.AK(Wt,g.getPositiveFarPoint(Z[it]))+Kt<0)return It.OUTSIDE;o.AK(Wt,g.getNegativeFarPoint(Z[it]))+Kt<0&&(k|=Pt)}}return k}}])}(),ma=function(){function A(){(0,T.Z)(this,A),this.syncTasks=new Map,this.isFirstTimeRendering=!0,this.syncing=!1,this.isFirstTimeRenderingFinished=!1}return(0,y.Z)(A,[{key:"apply",value:function(_){var g=this,R,Z,k=_.config,q=_.renderingService,it=_.renderingContext,vt=_.rBushRoot,Pt=it.root.ownerDocument.defaultView;this.rBush=vt;var xt=function(Xt){q.dirtify()},Wt=function(Xt){g.syncTasks.set(Xt.target,Xt.detail.affectChildren),q.dirtify()},Kt=function(Xt){var ne=Xt.target;se.enableSizeAttenuation&&se.styleValueRegistry.updateSizeAttenuation(ne,Pt.getCamera().getZoom())},Nt=function(Xt){var ne=Xt.target,Ee=ne.rBushNode;Ee!=null&&Ee.aabb&&g.rBush.remove(Ee.aabb),g.syncTasks.delete(ne),se.sceneGraphService.dirtyToRoot(ne),q.dirtify()};q.hooks.init.tap(A.tag,function(){Pt.addEventListener(an.MOUNTED,Kt),Pt.addEventListener(an.UNMOUNTED,Nt),Pt.addEventListener(an.ATTR_MODIFIED,xt),Pt.addEventListener(an.BOUNDS_CHANGED,Wt)}),q.hooks.destroy.tap(A.tag,function(){Pt.removeEventListener(an.MOUNTED,Kt),Pt.removeEventListener(an.UNMOUNTED,Nt),Pt.removeEventListener(an.ATTR_MODIFIED,xt),Pt.removeEventListener(an.BOUNDS_CHANGED,Wt),g.syncTasks.clear()});var Gt=(R=se.globalThis.requestIdleCallback)!==null&&R!==void 0?R:ti.bind(se.globalThis),Jt=((Z=k.future)===null||Z===void 0?void 0:Z.experimentalRICSyncRTree)===!0;q.hooks.endFrame.tap(A.tag,function(){g.isFirstTimeRendering?(g.isFirstTimeRendering=!1,g.syncing=!0,Gt(function(){g.syncRTree(!0),g.isFirstTimeRenderingFinished=!0})):Jt&&se.globalThis.requestIdleCallback&&se.globalThis.cancelIdleCallback?(se.globalThis.cancelIdleCallback(g.ricSyncRTreeId),g.ricSyncRTreeId=se.globalThis.requestIdleCallback(function(){return g.syncRTree()})):g.syncRTree()})}},{key:"syncNode",value:function(_){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(_.isConnected){var R=_.rBushNode;R.aabb&&this.rBush.remove(R.aabb);var Z=_.getRenderBounds();if(Z){var k=_.renderable;g&&(k.dirtyRenderBounds||(k.dirtyRenderBounds=new bt),k.dirtyRenderBounds.update(Z.center,Z.halfExtents));var q=Z.getMin(),it=(0,h.Z)(q,2),vt=it[0],Pt=it[1],xt=Z.getMax(),Wt=(0,h.Z)(xt,2),Kt=Wt[0],Nt=Wt[1];R.aabb||(R.aabb={}),R.aabb.displayObject=_,R.aabb.minX=vt,R.aabb.minY=Pt,R.aabb.maxX=Kt,R.aabb.maxY=Nt}if(R.aabb&&!isNaN(R.aabb.maxX)&&!isNaN(R.aabb.maxX)&&!isNaN(R.aabb.minX)&&!isNaN(R.aabb.minY))return R.aabb}}},{key:"syncRTree",value:function(){var _=this,g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!g&&(this.syncing||this.syncTasks.size===0))){this.syncing=!0;var R=[],Z=new Set,k=function(it){if(!Z.has(it)&&it.renderable){var vt=_.syncNode(it,g);vt&&(R.push(vt),Z.add(it))}};this.syncTasks.forEach(function(q,it){q&&it.forEach(k);for(var vt=it;vt;)k(vt),vt=vt.parentElement}),this.rBush.load(R),R.length=0,this.syncing=!1}}}])}();ma.tag="Prepare";function ql(A){return!!A.document}var Sn=function(A){return A.READY="ready",A.BEFORE_RENDER="beforerender",A.RERENDER="rerender",A.AFTER_RENDER="afterrender",A.BEFORE_DESTROY="beforedestroy",A.AFTER_DESTROY="afterdestroy",A.RESIZE="resize",A.DIRTY_RECTANGLE="dirtyrectangle",A.RENDERER_CHANGED="rendererchanged",A}({}),ya=500,Sl=.1,Bl=1e3,br=new fn(an.MOUNTED),xr=new fn(an.UNMOUNTED),vi=new fn(Sn.BEFORE_RENDER),Ma=new fn(Sn.RERENDER),_i=new fn(Sn.AFTER_RENDER),Wl=function(A){function I(_){var g;(0,T.Z)(this,I),g=(0,m.Z)(this,I),g.Element=$e,g.inited=!1,g.context={};var R=_.container,Z=_.canvas,k=_.renderer,q=_.width,it=_.height,vt=_.background,Pt=_.cursor,xt=_.supportsMutipleCanvasesInOneContainer,Wt=_.cleanUpOnDestroy,Kt=Wt===void 0?!0:Wt,Nt=_.offscreenCanvas,Gt=_.devicePixelRatio,Jt=_.requestAnimationFrame,te=_.cancelAnimationFrame,Xt=_.createImage,ne=_.supportsTouchEvents,Ee=_.supportsPointerEvents,$t=_.isTouchEvent,kt=_.isMouseEvent,jt=_.dblClickSpeed,Yt=q,de=it,le=Gt||Qr&&window.devicePixelRatio||1;return le=le>=1?Math.ceil(le):1,Z&&(Yt=q||lo(Z)||Z.width/le,de=it||uo(Z)||Z.height/le),g.customElements=new Rl,g.devicePixelRatio=le,g.requestAnimationFrame=Jt!=null?Jt:ti.bind(se.globalThis),g.cancelAnimationFrame=te!=null?te:ea.bind(se.globalThis),g.createImage=Xt!=null?Xt:function(){return new window.Image},g.supportsTouchEvents=ne!=null?ne:"ontouchstart"in se.globalThis,g.supportsPointerEvents=Ee!=null?Ee:!!se.globalThis.PointerEvent,g.isTouchEvent=$t!=null?$t:function(ge){return g.supportsTouchEvents&&ge instanceof se.globalThis.TouchEvent},g.isMouseEvent=kt!=null?kt:function(ge){return!se.globalThis.MouseEvent||ge instanceof se.globalThis.MouseEvent&&(!g.supportsPointerEvents||!(ge instanceof se.globalThis.PointerEvent))},Nt&&(se.offscreenCanvas=Nt),g.document=new ga,g.document.defaultView=g,xt||io(R,g,Kt),g.initRenderingContext((0,d.Z)((0,d.Z)({},_),{},{width:Yt,height:de,background:vt!=null?vt:"transparent",cursor:Pt!=null?Pt:"default",cleanUpOnDestroy:Kt,devicePixelRatio:le,requestAnimationFrame:g.requestAnimationFrame,cancelAnimationFrame:g.cancelAnimationFrame,createImage:g.createImage,supportsTouchEvents:g.supportsTouchEvents,supportsPointerEvents:g.supportsPointerEvents,isTouchEvent:g.isTouchEvent,isMouseEvent:g.isMouseEvent,dblClickSpeed:jt!=null?jt:200})),g.initDefaultCamera(Yt,de,k.clipSpaceNearZ),g.initRenderer(k,!0),g}return(0,f.Z)(I,A),(0,y.Z)(I,[{key:"initRenderingContext",value:function(g){this.context.config=g,this.context.renderingContext={root:this.document.documentElement,unculledEntities:[],renderListCurrentFrame:[],renderReasons:new Set,force:!1,dirty:!1}}},{key:"initDefaultCamera",value:function(g,R,Z){var k=this,q=new se.CameraContribution;q.clipSpaceNearZ=Z,q.setType(wt.EXPLORING,qt.DEFAULT).setPosition(g/2,R/2,ya).setFocalPoint(g/2,R/2,0).setOrthographic(g/-2,g/2,R/2,R/-2,Sl,Bl),q.canvas=this,q.eventEmitter.on(oe.UPDATED,function(){k.context.renderingContext.renderReasons.add(ir.CAMERA_CHANGED),se.enableSizeAttenuation&&k.getConfig().renderer.getConfig().enableSizeAttenuation&&k.updateSizeAttenuation()}),this.context.camera=q}},{key:"updateSizeAttenuation",value:function(){var g=this.getCamera().getZoom();this.document.documentElement.forEach(function(R){se.styleValueRegistry.updateSizeAttenuation(R,g)})}},{key:"getConfig",value:function(){return this.context.config}},{key:"getRoot",value:function(){return this.document.documentElement}},{key:"getCamera",value:function(){return this.context.camera}},{key:"getContextService",value:function(){return this.context.contextService}},{key:"getEventService",value:function(){return this.context.eventService}},{key:"getRenderingService",value:function(){return this.context.renderingService}},{key:"getRenderingContext",value:function(){return this.context.renderingContext}},{key:"getStats",value:function(){return this.getRenderingService().getStats()}},{key:"ready",get:function(){var g=this;return this.readyPromise||(this.readyPromise=new Promise(function(R){g.resolveReadyPromise=function(){R(g)}}),this.inited&&this.resolveReadyPromise()),this.readyPromise}},{key:"destroy",value:function(){var g,R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,Z=arguments.length>1?arguments[1]:void 0;Qe.clearCache();var k=((g=this.getConfig().future)===null||g===void 0?void 0:g.experimentalCancelEventPropagation)===!0;Z||this.dispatchEvent(new fn(Sn.BEFORE_DESTROY),k,k),this.frameId&&this.cancelAnimationFrame(this.frameId);var q=this.getRoot();R&&(this.unmountChildren(q),this.document.destroy(),this.getEventService().destroy()),this.getRenderingService().destroy(),this.getContextService().destroy(),this.context.rBushRoot&&this.context.rBushRoot.clear(),Z||this.dispatchEvent(new fn(Sn.AFTER_DESTROY),k,k);var it=function(Pt){Pt.currentTarget=null,Pt.manager=null,Pt.target=null,Pt.relatedNode=null};it(br),it(xr),it(vi),it(Ma),it(_i),it(In),it(ii),it(ai),it(va),se.textService.clearCache()}},{key:"changeSize",value:function(g,R){this.resize(g,R)}},{key:"resize",value:function(g,R){var Z,k=this.context.config;k.width=g,k.height=R,this.getContextService().resize(g,R);var q=this.context.camera,it=q.getProjectionMode();q.setPosition(g/2,R/2,ya).setFocalPoint(g/2,R/2,0),it===ae.ORTHOGRAPHIC?q.setOrthographic(g/-2,g/2,R/2,R/-2,q.getNear(),q.getFar()):q.setAspect(g/R);var vt=((Z=k.future)===null||Z===void 0?void 0:Z.experimentalCancelEventPropagation)===!0;this.dispatchEvent(new fn(Sn.RESIZE,{width:g,height:R}),vt,vt)}},{key:"appendChild",value:function(g,R){return this.document.documentElement.appendChild(g,R)}},{key:"insertBefore",value:function(g,R){return this.document.documentElement.insertBefore(g,R)}},{key:"removeChild",value:function(g){return this.document.documentElement.removeChild(g)}},{key:"removeChildren",value:function(){this.document.documentElement.removeChildren()}},{key:"destroyChildren",value:function(){this.document.documentElement.destroyChildren()}},{key:"render",value:function(g){var R,Z=this;g&&(vi.detail=g,_i.detail=g);var k=((R=this.getConfig().future)===null||R===void 0?void 0:R.experimentalCancelEventPropagation)===!0;this.dispatchEvent(vi,k,k);var q=this.getRenderingService();q.render(this.getConfig(),g,function(){Z.dispatchEvent(Ma,k,k)}),this.dispatchEvent(_i,k,k)}},{key:"run",value:function(){var g=this,R=function(k,q){g.render(q),g.frameId=g.requestAnimationFrame(R)};R()}},{key:"initRenderer",value:function(g){var R=this,Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!g)throw new Error("Renderer is required.");this.inited=!1,this.readyPromise=void 0,this.context.rBushRoot=new dt,this.context.renderingPlugins=[],this.context.renderingPlugins.push(new Ea,new ma,new pa([new Il])),this.loadRendererContainerModule(g),this.context.contextService=new this.context.ContextService((0,d.Z)((0,d.Z)({},se),this.context)),this.context.renderingService=new Go(se,this.context),this.context.eventService=new Vo(se,this.context),this.context.eventService.init(),this.context.contextService.init?(this.context.contextService.init(),this.initRenderingService(g,Z,!0)):this.context.contextService.initAsync().then(function(){R.initRenderingService(g,Z)}).catch(function(k){console.error(k)})}},{key:"initRenderingService",value:function(g){var R=this,Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.context.renderingService.init(function(){var q;R.inited=!0;var it=((q=R.getConfig().future)===null||q===void 0?void 0:q.experimentalCancelEventPropagation)===!0;Z?k?R.requestAnimationFrame(function(){R.dispatchEvent(new fn(Sn.READY),it,it)}):R.dispatchEvent(new fn(Sn.READY),it,it):R.dispatchEvent(new fn(Sn.RENDERER_CHANGED),it,it),R.readyPromise&&R.resolveReadyPromise(),Z||R.getRoot().forEach(function(vt){var Pt,xt;(Pt=(xt=vt).dirty)===null||Pt===void 0||Pt.call(xt,!0,!0)}),R.mountChildren(R.getRoot()),g.getConfig().enableAutoRendering&&R.run()})}},{key:"loadRendererContainerModule",value:function(g){var R=this,Z=g.getPlugins();Z.forEach(function(k){k.context=R.context,k.init(se)})}},{key:"setRenderer",value:function(g){var R=this.getConfig();if(R.renderer!==g){var Z=R.renderer;R.renderer=g,this.destroy(!1,!0),(0,C.Z)((Z==null?void 0:Z.getPlugins())||[]).reverse().forEach(function(k){k.destroy(se)}),this.initRenderer(g)}}},{key:"setCursor",value:function(g){var R=this.getConfig();R.cursor=g,this.getContextService().applyCursorStyle(g)}},{key:"unmountChildren",value:function(g){var R=this;if(g.childNodes.forEach(function(q){R.unmountChildren(q)}),this.inited){if(g.isMutationObserved)g.dispatchEvent(xr);else{var Z,k=((Z=this.getConfig().future)===null||Z===void 0?void 0:Z.experimentalCancelEventPropagation)===!0;xr.target=g,this.dispatchEvent(xr,!0,k)}g!==this.document.documentElement&&(g.ownerDocument=null),g.isConnected=!1}g.isCustomElement&&g.disconnectedCallback&&g.disconnectedCallback()}},{key:"mountChildren",value:function(g){var R=this,Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mr(g);if(this.inited){if(!g.isConnected&&(g.ownerDocument=this.document,g.isConnected=!0,!Z))if(g.isMutationObserved)g.dispatchEvent(br);else{var k,q=((k=this.getConfig().future)===null||k===void 0?void 0:k.experimentalCancelEventPropagation)===!0;br.target=g,this.dispatchEvent(br,!0,q)}}else console.warn("[g]: You are trying to call `canvas.appendChild` before canvas' initialization finished. You can either await `canvas.ready` or listen to `CanvasEvent.READY` manually.","appended child: ",g.nodeName);g.childNodes.forEach(function(it){R.mountChildren(it,Z)}),g.isCustomElement&&g.connectedCallback&&g.connectedCallback()}},{key:"mountFragment",value:function(g){this.mountChildren(g,!1)}},{key:"client2Viewport",value:function(g){return this.getEventService().client2Viewport(g)}},{key:"viewport2Client",value:function(g){return this.getEventService().viewport2Client(g)}},{key:"viewport2Canvas",value:function(g){return this.getEventService().viewport2Canvas(g)}},{key:"canvas2Viewport",value:function(g){return this.getEventService().canvas2Viewport(g)}},{key:"getPointByClient",value:function(g,R){return this.client2Viewport({x:g,y:R})}},{key:"getClientByPoint",value:function(g,R){return this.viewport2Client({x:g,y:R})}}])}(oa)},17457:function(at,N,t){"use strict";t.d(N,{TE:function(){return C},U4:function(){return x},Xk:function(){return b},Y1:function(){return ht},_x:function(){return S},hE:function(){return dt},l5:function(){return z},ph:function(){return V},vp:function(){return i},x4:function(){return st}});var d=t(87948),T=t(45378),y=t(75837);function C(ft,gt,yt,Tt){var Dt=ft-yt,Ct=gt-Tt;return Math.sqrt(Dt*Dt+Ct*Ct)}function m(ft,gt){var yt=Math.min.apply(Math,(0,d.Z)(ft)),Tt=Math.min.apply(Math,(0,d.Z)(gt)),Dt=Math.max.apply(Math,(0,d.Z)(ft)),Ct=Math.max.apply(Math,(0,d.Z)(gt));return{x:yt,y:Tt,width:Dt-yt,height:Ct-Tt}}function f(ft){return(ft+Math.PI*2)%(Math.PI*2)}function h(ft,gt){var yt=Math.abs(ft);return gt>0?yt:yt*-1}function v(ft,gt,yt,Tt,Dt,Ct){var At=yt,Ut=Tt;if(At===0||Ut===0)return{x:ft,y:gt};for(var St=Dt-ft,zt=Ct-gt,Zt=Math.abs(St),Vt=Math.abs(zt),Qt=At*At,re=Ut*Ut,ee=Math.PI/4,Ht=0,he=0,ie=0;ie<4;ie++){Ht=At*Math.cos(ee),he=Ut*Math.sin(ee);var _e=(Qt-re)*Math.pow(Math.cos(ee),3)/At,ce=(re-Qt)*Math.pow(Math.sin(ee),3)/Ut,me=Ht-_e,De=he-ce,Te=Zt-_e,ve=Vt-ce,Ne=Math.hypot(De,me),vn=Math.hypot(ve,Te),Ft=Ne*Math.asin((me*ve-De*Te)/(Ne*vn)),Bt=Ft/Math.sqrt(Qt+re-Ht*Ht-he*he);ee+=Bt,ee=Math.min(Math.PI/2,Math.max(0,ee))}return{x:ft+h(Ht,St),y:gt+h(he,zt)}}function o(ft,gt,yt,Tt,Dt,Ct,At,Ut){return-1*yt*Math.cos(Dt)*Math.sin(Ut)-Tt*Math.sin(Dt)*Math.cos(Ut)}function r(ft,gt,yt,Tt,Dt,Ct,At,Ut){return-1*yt*Math.sin(Dt)*Math.sin(Ut)+Tt*Math.cos(Dt)*Math.cos(Ut)}function a(ft,gt,yt){return Math.atan(-gt/ft*Math.tan(yt))}function s(ft,gt,yt){return Math.atan(gt/(ft*Math.tan(yt)))}function u(ft,gt,yt,Tt,Dt,Ct){return yt*Math.cos(Dt)*Math.cos(Ct)-Tt*Math.sin(Dt)*Math.sin(Ct)+ft}function c(ft,gt,yt,Tt,Dt,Ct){return yt*Math.sin(Dt)*Math.cos(Ct)+Tt*Math.cos(Dt)*Math.sin(Ct)+gt}function E(ft,gt,yt,Tt){var Dt=Math.atan2(Tt*ft,yt*gt);return(Dt+Math.PI*2)%(Math.PI*2)}function p(ft,gt,yt){return{x:ft*Math.cos(yt),y:gt*Math.sin(yt)}}function e(ft,gt,yt){var Tt=Math.cos(yt),Dt=Math.sin(yt);return[ft*Tt-gt*Dt,ft*Dt+gt*Tt]}function i(ft,gt,yt,Tt,Dt,Ct,At){for(var Ut=a(yt,Tt,Dt),St=1/0,zt=-1/0,Zt=[Ct,At],Vt=-Math.PI*2;Vt<=Math.PI*2;Vt+=Math.PI){var Qt=Ut+Vt;Ct<At?Ct<Qt&&Qt<At&&Zt.push(Qt):At<Qt&&Qt<Ct&&Zt.push(Qt)}for(var re=0;re<Zt.length;re++){var ee=u(ft,gt,yt,Tt,Dt,Zt[re]);ee<St&&(St=ee),ee>zt&&(zt=ee)}for(var Ht=s(yt,Tt,Dt),he=1/0,ie=-1/0,_e=[Ct,At],ce=-Math.PI*2;ce<=Math.PI*2;ce+=Math.PI){var me=Ht+ce;Ct<At?Ct<me&&me<At&&_e.push(me):At<me&&me<Ct&&_e.push(me)}for(var De=0;De<_e.length;De++){var Te=c(ft,gt,yt,Tt,Dt,_e[De]);Te<he&&(he=Te),Te>ie&&(ie=Te)}return{x:St,y:he,width:zt-St,height:ie-he}}function n(ft,gt,yt,Tt,Dt,Ct,At,Ut,St){var zt=e(Ut-ft,St-gt,-Dt),Zt=_slicedToArray(zt,2),Vt=Zt[0],Qt=Zt[1],re=v(0,0,yt,Tt,Vt,Qt),ee=E(yt,Tt,re.x,re.y);ee<Ct?re=p(yt,Tt,Ct):ee>At&&(re=p(yt,Tt,At));var Ht=e(re.x,re.y,Dt);return{x:Ht[0]+ft,y:Ht[1]+gt}}function l(ft,gt,yt,Tt,Dt,Ct,At,Ut){var St=(At-Ct)*Ut+Ct,zt=o(ft,gt,yt,Tt,Dt,Ct,At,St),Zt=r(ft,gt,yt,Tt,Dt,Ct,At,St);return f(Math.atan2(Zt,zt))}var M=1e-4;function O(ft,gt,yt,Tt,Dt,Ct){var At=-1,Ut=1/0,St=[yt,Tt],zt=20;Ct&&Ct>200&&(zt=Ct/10);for(var Zt=1/zt,Vt=Zt/10,Qt=0;Qt<=zt;Qt++){var re=Qt*Zt,ee=[Dt.apply(void 0,(0,d.Z)(ft.concat([re]))),Dt.apply(void 0,(0,d.Z)(gt.concat([re])))],Ht=C(St[0],St[1],ee[0],ee[1]);Ht<Ut&&(At=re,Ut=Ht)}if(At===0)return{x:ft[0],y:gt[0]};if(At===1){var he=ft.length;return{x:ft[he-1],y:gt[he-1]}}Ut=1/0;for(var ie=0;ie<32&&!(Vt<M);ie++){var _e=At-Vt,ce=At+Vt,me=[Dt.apply(void 0,(0,d.Z)(ft.concat([_e]))),Dt.apply(void 0,(0,d.Z)(gt.concat([_e])))],De=C(St[0],St[1],me[0],me[1]);if(_e>=0&&De<Ut)At=_e,Ut=De;else{var Te=[Dt.apply(void 0,(0,d.Z)(ft.concat([ce]))),Dt.apply(void 0,(0,d.Z)(gt.concat([ce])))],ve=C(St[0],St[1],Te[0],Te[1]);ce<=1&&ve<Ut?(At=ce,Ut=ve):Vt*=.5}}return{x:Dt.apply(void 0,(0,d.Z)(ft.concat([At]))),y:Dt.apply(void 0,(0,d.Z)(gt.concat([At])))}}function D(ft,gt){for(var yt=0,Tt=ft.length,Dt=0;Dt<Tt;Dt++){var Ct=ft[Dt],At=gt[Dt],Ut=ft[(Dt+1)%Tt],St=gt[(Dt+1)%Tt];yt+=C(Ct,At,Ut,St)}return yt/2}function P(ft,gt,yt,Tt){return m([ft,yt],[gt,Tt])}function b(ft,gt,yt,Tt){return C(ft,gt,yt,Tt)}function x(ft,gt,yt,Tt,Dt){return{x:(1-Dt)*ft+Dt*yt,y:(1-Dt)*gt+Dt*Tt}}function L(ft,gt,yt,Tt,Dt,Ct){var At=(yt-ft)*(Dt-ft)+(Tt-gt)*(Ct-gt);if(At<0)return C(ft,gt,Dt,Ct);var Ut=(yt-ft)*(yt-ft)+(Tt-gt)*(Tt-gt);return At>Ut?C(yt,Tt,Dt,Ct):S(ft,gt,yt,Tt,Dt,Ct)}function S(ft,gt,yt,Tt,Dt,Ct){var At=[yt-ft,Tt-gt];if(y.I6(At,[0,0]))return Math.sqrt((Dt-ft)*(Dt-ft)+(Ct-gt)*(Ct-gt));var Ut=[-At[1],At[0]];y.Fv(Ut,Ut);var St=[Dt-ft,Ct-gt];return Math.abs(y.AK(St,Ut))}function K(ft,gt,yt,Tt){return Math.atan2(Tt-gt,yt-ft)}function U(ft,gt,yt,Tt,Dt){var Ct=1-Dt;return Ct*Ct*Ct*ft+3*gt*Dt*Ct*Ct+3*yt*Dt*Dt*Ct+Tt*Dt*Dt*Dt}function j(ft,gt,yt,Tt,Dt){var Ct=1-Dt;return 3*(Ct*Ct*(gt-ft)+2*Ct*Dt*(yt-gt)+Dt*Dt*(Tt-yt))}function F(ft,gt,yt,Tt){var Dt=-3*ft+9*gt-9*yt+3*Tt,Ct=6*ft-12*gt+6*yt,At=3*gt-3*ft,Ut=[],St,zt,Zt;if((0,T.Z)(Dt,0))(0,T.Z)(Ct,0)||(St=-At/Ct,St>=0&&St<=1&&Ut.push(St));else{var Vt=Ct*Ct-4*Dt*At;(0,T.Z)(Vt,0)?Ut.push(-Ct/(2*Dt)):Vt>0&&(Zt=Math.sqrt(Vt),St=(-Ct+Zt)/(2*Dt),zt=(-Ct-Zt)/(2*Dt),St>=0&&St<=1&&Ut.push(St),zt>=0&&zt<=1&&Ut.push(zt))}return Ut}function W(ft,gt,yt,Tt,Dt,Ct,At,Ut,St){var zt=U(ft,yt,Dt,At,St),Zt=U(gt,Tt,Ct,Ut,St),Vt=x(ft,gt,yt,Tt,St),Qt=x(yt,Tt,Dt,Ct,St),re=x(Dt,Ct,At,Ut,St),ee=x(Vt.x,Vt.y,Qt.x,Qt.y,St),Ht=x(Qt.x,Qt.y,re.x,re.y,St);return[[ft,gt,Vt.x,Vt.y,ee.x,ee.y,zt,Zt],[zt,Zt,Ht.x,Ht.y,re.x,re.y,At,Ut]]}function w(ft,gt,yt,Tt,Dt,Ct,At,Ut,St){if(St===0)return D([ft,yt,Dt,At],[gt,Tt,Ct,Ut]);var zt=W(ft,gt,yt,Tt,Dt,Ct,At,Ut,.5),Zt=[].concat(_toConsumableArray(zt[0]),[St-1]),Vt=[].concat(_toConsumableArray(zt[1]),[St-1]);return w.apply(void 0,_toConsumableArray(Zt))+w.apply(void 0,_toConsumableArray(Vt))}function z(ft,gt,yt,Tt,Dt,Ct,At,Ut){for(var St=[ft,At],zt=[gt,Ut],Zt=F(ft,yt,Dt,At),Vt=F(gt,Tt,Ct,Ut),Qt=0;Qt<Zt.length;Qt++)St.push(U(ft,yt,Dt,At,Zt[Qt]));for(var re=0;re<Vt.length;re++)zt.push(U(gt,Tt,Ct,Ut,Vt[re]));return m(St,zt)}function H(ft,gt,yt,Tt,Dt,Ct,At,Ut){return w(ft,gt,yt,Tt,Dt,Ct,At,Ut,3)}function Y(ft,gt,yt,Tt,Dt,Ct,At,Ut,St,zt,Zt){return O([ft,yt,Dt,At],[gt,Tt,Ct,Ut],St,zt,U,Zt)}function V(ft,gt,yt,Tt,Dt,Ct,At,Ut,St,zt,Zt){var Vt=Y(ft,gt,yt,Tt,Dt,Ct,At,Ut,St,zt,Zt);return C(Vt.x,Vt.y,St,zt)}function $(ft,gt,yt,Tt,Dt,Ct,At,Ut,St){return{x:U(ft,yt,Dt,At,St),y:U(gt,Tt,Ct,Ut,St)}}function J(ft,gt,yt,Tt,Dt,Ct,At,Ut,St){var zt=j(ft,yt,Dt,At,St),Zt=j(gt,Tt,Ct,Ut,St);return f(Math.atan2(Zt,zt))}function rt(ft){for(var gt=0,yt=[],Tt=0;Tt<ft.length-1;Tt++){var Dt=ft[Tt],Ct=ft[Tt+1],At=C(Dt[0],Dt[1],Ct[0],Ct[1]),Ut={from:Dt,to:Ct,length:At};yt.push(Ut),gt+=At}return{segments:yt,totalLength:gt}}function lt(ft){if(ft.length<2)return 0;for(var gt=0,yt=0;yt<ft.length-1;yt++){var Tt=ft[yt],Dt=ft[yt+1];gt+=C(Tt[0],Tt[1],Dt[0],Dt[1])}return gt}function tt(ft,gt){if(gt>1||gt<0||ft.length<2)return null;var yt=rt(ft),Tt=yt.segments,Dt=yt.totalLength;if(Dt===0)return{x:ft[0][0],y:ft[0][1]};for(var Ct=0,At=null,Ut=0;Ut<Tt.length;Ut++){var St=Tt[Ut],zt=St.from,Zt=St.to,Vt=St.length/Dt;if(gt>=Ct&&gt<=Ct+Vt){var Qt=(gt-Ct)/Vt;At=x(zt[0],zt[1],Zt[0],Zt[1],Qt);break}Ct+=Vt}return At}function G(ft,gt){if(gt>1||gt<0||ft.length<2)return 0;for(var yt=rt(ft),Tt=yt.segments,Dt=yt.totalLength,Ct=0,At=0,Ut=0;Ut<Tt.length;Ut++){var St=Tt[Ut],zt=St.from,Zt=St.to,Vt=St.length/Dt;if(gt>=Ct&&gt<=Ct+Vt){At=Math.atan2(Zt[1]-zt[1],Zt[0]-zt[0]);break}Ct+=Vt}return At}function nt(ft,gt,yt){for(var Tt=1/0,Dt=0;Dt<ft.length-1;Dt++){var Ct=ft[Dt],At=ft[Dt+1],Ut=L(Ct[0],Ct[1],At[0],At[1],gt,yt);Ut<Tt&&(Tt=Ut)}return Tt}function ut(ft){for(var gt=[],yt=[],Tt=0;Tt<ft.length;Tt++){var Dt=ft[Tt];gt.push(Dt[0]),yt.push(Dt[1])}return m(gt,yt)}function dt(ft){return lt(ft)}function et(ft,gt){return tt(ft,gt)}function _t(ft,gt,yt){return nt(ft,gt,yt)}function mt(ft,gt){return G(ft,gt)}function ot(ft){var gt=ft.slice(0);return ft.length&&gt.push(ft[0]),gt}function Et(ft){return ut(ft)}function Ot(ft){return lt(ot(ft))}function B(ft,gt){return tt(ot(ft),gt)}function X(ft,gt,yt){return nt(ot(ft),gt,yt)}function pt(ft,gt){return G(ot(ft),gt)}function Mt(ft,gt,yt,Tt){var Dt=1-Tt;return Dt*Dt*ft+2*Tt*Dt*gt+Tt*Tt*yt}function bt(ft,gt,yt){var Tt=ft+yt-2*gt;if((0,T.Z)(Tt,0))return[.5];var Dt=(ft-gt)/Tt;return Dt<=1&&Dt>=0?[Dt]:[]}function Rt(ft,gt,yt,Tt,Dt,Ct,At){var Ut=Mt(ft,yt,Dt,At),St=Mt(gt,Tt,Ct,At),zt=x(ft,gt,yt,Tt,At),Zt=x(yt,Tt,Dt,Ct,At);return[[ft,gt,zt.x,zt.y,Ut,St],[Ut,St,Zt.x,Zt.y,Dt,Ct]]}function It(ft,gt,yt,Tt,Dt,Ct,At){if(At===0)return(C(ft,gt,yt,Tt)+C(yt,Tt,Dt,Ct)+C(ft,gt,Dt,Ct))/2;var Ut=Rt(ft,gt,yt,Tt,Dt,Ct,.5),St=Ut[0],zt=Ut[1];return St.push(At-1),zt.push(At-1),It.apply(void 0,_toConsumableArray(St))+It.apply(void 0,_toConsumableArray(zt))}function st(ft,gt,yt,Tt,Dt,Ct){var At=bt(ft,yt,Dt)[0],Ut=bt(gt,Tt,Ct)[0],St=[ft,Dt],zt=[gt,Ct];return At!==void 0&&St.push(Mt(ft,yt,Dt,At)),Ut!==void 0&&zt.push(Mt(gt,Tt,Ct,Ut)),m(St,zt)}function Q(ft,gt,yt,Tt,Dt,Ct){return It(ft,gt,yt,Tt,Dt,Ct,3)}function ct(ft,gt,yt,Tt,Dt,Ct,At,Ut){return O([ft,yt,Dt],[gt,Tt,Ct],At,Ut,Mt)}function ht(ft,gt,yt,Tt,Dt,Ct,At,Ut){var St=ct(ft,gt,yt,Tt,Dt,Ct,At,Ut);return C(St.x,St.y,At,Ut)}},80110:function(at,N,t){"use strict";t.d(N,{S:function(){return p}});var d=t(59125),T=t(76132),y=t(99190),C=t(87974),m=t(61912),f=t(46911),h=t(8818),v=t(15378);function o(e,i){var n=i.cx,l=n===void 0?0:n,M=i.cy,O=M===void 0?0:M,D=i.r;e.arc(l,O,D,0,Math.PI*2,!1)}function r(e,i){var n=i.cx,l=n===void 0?0:n,M=i.cy,O=M===void 0?0:M,D=i.rx,P=i.ry;if(e.ellipse)e.ellipse(l,O,D,P,0,0,Math.PI*2,!1);else{var b=D>P?D:P,x=D>P?1:D/P,L=D>P?P/D:1;e.save(),e.scale(x,L),e.arc(l,O,b,0,Math.PI*2)}}function a(e,i){var n=i.x1,l=i.y1,M=i.x2,O=i.y2,D=i.markerStart,P=i.markerEnd,b=i.markerStartOffset,x=i.markerEndOffset,L=0,S=0,K=0,U=0,j=0,F,W;D&&(0,f.RV)(D)&&b&&(F=M-n,W=O-l,j=Math.atan2(W,F),L=Math.cos(j)*(b||0),S=Math.sin(j)*(b||0)),P&&(0,f.RV)(P)&&x&&(F=n-M,W=l-O,j=Math.atan2(W,F),K=Math.cos(j)*(x||0),U=Math.sin(j)*(x||0)),e.moveTo(n+L,l+S),e.lineTo(M+K,O+U)}function s(e,i){var n=i.markerStart,l=i.markerEnd,M=i.markerStartOffset,O=i.markerEndOffset,D=i.d,P=D.absolutePath,b=D.segments,x=0,L=0,S=0,K=0,U=0,j,F;if(n&&(0,f.RV)(n)&&M){var W=n.parentNode.getStartTangent(),w=(0,h.Z)(W,2),z=w[0],H=w[1];j=z[0]-H[0],F=z[1]-H[1],U=Math.atan2(F,j),x=Math.cos(U)*(M||0),L=Math.sin(U)*(M||0)}if(l&&(0,f.RV)(l)&&O){var Y=l.parentNode.getEndTangent(),V=(0,h.Z)(Y,2),$=V[0],J=V[1];j=$[0]-J[0],F=$[1]-J[1],U=Math.atan2(F,j),S=Math.cos(U)*(O||0),K=Math.sin(U)*(O||0)}for(var rt=0;rt<P.length;rt++){var lt=P[rt],tt=lt[0],G=P[rt+1],nt=rt===0&&(x!==0||L!==0),ut=(rt===P.length-1||G&&(G[0]==="M"||G[0]==="Z"))&&S!==0&&K!==0,dt=nt?[x,L]:[0,0],et=(0,h.Z)(dt,2),_t=et[0],mt=et[1],ot=ut?[S,K]:[0,0],Et=(0,h.Z)(ot,2),Ot=Et[0],B=Et[1];switch(tt){case"M":e.moveTo(lt[1]+_t,lt[2]+mt);break;case"L":e.lineTo(lt[1]+Ot,lt[2]+B);break;case"Q":e.quadraticCurveTo(lt[1],lt[2],lt[3]+Ot,lt[4]+B);break;case"C":e.bezierCurveTo(lt[1],lt[2],lt[3],lt[4],lt[5]+Ot,lt[6]+B);break;case"A":{var X=b[rt].arcParams,pt=X.cx,Mt=X.cy,bt=X.rx,Rt=X.ry,It=X.startAngle,st=X.endAngle,Q=X.xRotation,ct=X.sweepFlag;if(e.ellipse)e.ellipse(pt,Mt,bt,Rt,Q,It,st,!!(1-ct));else{var ht=bt>Rt?bt:Rt,ft=bt>Rt?1:bt/Rt,gt=bt>Rt?Rt/bt:1;e.translate(pt,Mt),e.rotate(Q),e.scale(ft,gt),e.arc(0,0,ht,It,st,!!(1-ct)),e.scale(1/ft,1/gt),e.rotate(-Q),e.translate(-pt,-Mt)}ut&&e.lineTo(lt[6]+S,lt[7]+K);break}case"Z":e.closePath();break}}}function u(e,i){var n=i.markerStart,l=i.markerEnd,M=i.markerStartOffset,O=i.markerEndOffset,D=i.points.points,P=D.length,b=D[0][0],x=D[0][1],L=D[P-1][0],S=D[P-1][1],K=0,U=0,j=0,F=0,W=0,w,z;n&&(0,f.RV)(n)&&M&&(w=D[1][0]-D[0][0],z=D[1][1]-D[0][1],W=Math.atan2(z,w),K=Math.cos(W)*(M||0),U=Math.sin(W)*(M||0)),l&&(0,f.RV)(l)&&O&&(w=D[P-1][0]-D[0][0],z=D[P-1][1]-D[0][1],W=Math.atan2(z,w),j=Math.cos(W)*(O||0),F=Math.sin(W)*(O||0)),e.moveTo(b+(K||j),x+(U||F));for(var H=1;H<P-1;H++){var Y=D[H];e.lineTo(Y[0],Y[1])}e.lineTo(L,S)}function c(e,i){var n=i.markerStart,l=i.markerEnd,M=i.markerStartOffset,O=i.markerEndOffset,D=i.points.points,P=D.length,b=D[0][0],x=D[0][1],L=D[P-1][0],S=D[P-1][1],K=0,U=0,j=0,F=0,W=0,w,z;n&&(0,f.RV)(n)&&M&&(w=D[1][0]-D[0][0],z=D[1][1]-D[0][1],W=Math.atan2(z,w),K=Math.cos(W)*(M||0),U=Math.sin(W)*(M||0)),l&&(0,f.RV)(l)&&O&&(w=D[P-2][0]-D[P-1][0],z=D[P-2][1]-D[P-1][1],W=Math.atan2(z,w),j=Math.cos(W)*(O||0),F=Math.sin(W)*(O||0)),e.moveTo(b+K,x+U);for(var H=1;H<P-1;H++){var Y=D[H];e.lineTo(Y[0],Y[1])}e.lineTo(L+j,S+F)}function E(e,i){var n=i.x,l=n===void 0?0:n,M=i.y,O=M===void 0?0:M,D=i.radius,P=i.width,b=i.height,x=P,L=b,S=D&&D.some(function(V){return V!==0});if(!S)e.rect(l,O,x,L);else{var K=P>0?1:-1,U=b>0?1:-1,j=K+U===0,F=D.map(function(V){return(0,v.Z)(V,0,Math.min(Math.abs(x)/2,Math.abs(L)/2))}),W=(0,h.Z)(F,4),w=W[0],z=W[1],H=W[2],Y=W[3];e.moveTo(K*w+l,O),e.lineTo(x-K*z+l,O),z!==0&&e.arc(x-K*z+l,U*z+O,z,-U*Math.PI/2,K>0?0:Math.PI,j),e.lineTo(x+l,L-U*H+O),H!==0&&e.arc(x-K*H+l,L-U*H+O,H,K>0?0:Math.PI,U>0?Math.PI/2:1.5*Math.PI,j),e.lineTo(K*Y+l,L+O),Y!==0&&e.arc(K*Y+l,L-U*Y+O,Y,U>0?Math.PI/2:-Math.PI/2,K>0?Math.PI:0,j),e.lineTo(l,U*w+O),w!==0&&e.arc(K*w+l,U*w+O,w,K>0?Math.PI:0,U>0?Math.PI*1.5:Math.PI/2,j)}}var p=function(e){function i(){var n;(0,T.Z)(this,i);for(var l=arguments.length,M=new Array(l),O=0;O<l;O++)M[O]=arguments[O];return n=(0,C.Z)(this,i,[].concat(M)),n.name="canvas-path-generator",n}return(0,m.Z)(i,e),(0,y.Z)(i,[{key:"init",value:function(){var l,M=(l={},(0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)(l,f.bn.CIRCLE,o),f.bn.ELLIPSE,r),f.bn.RECT,E),f.bn.LINE,a),f.bn.POLYLINE,c),f.bn.POLYGON,u),f.bn.PATH,s),f.bn.TEXT,void 0),f.bn.GROUP,void 0),f.bn.IMAGE,void 0),(0,d.Z)((0,d.Z)((0,d.Z)(l,f.bn.HTML,void 0),f.bn.MESH,void 0),f.bn.FRAGMENT,void 0));this.context.pathGeneratorFactory=M}},{key:"destroy",value:function(){delete this.context.pathGeneratorFactory}}])}(f.F6)},81003:function(at,N,t){"use strict";t.d(N,{S:function(){return G}});var d=t(59125),T=t(76132),y=t(99190),C=t(87974),m=t(61912),f=t(46911),h=t(36249),v=t(94882),o=t(7556),r=t(35136),a=t(14690),s=t(8818),u=t(17457),c=t(6477),E=t(15378),p=t(59942);var e=r.Ue(),i=r.Ue(),n=r.Ue(),l=a.create(),M=function(){function nt(){var ut=this;(0,T.Z)(this,nt),this.isHit=function(dt,et,_t,mt){var ot=ut.context.pointInPathPickerFactory[dt.nodeName];if(ot){var Et=a.invert(l,_t),Ot=r.fF(i,r.t8(n,et[0],et[1],0),Et);if(ot(dt,new f.E9(Ot[0],Ot[1]),mt,ut.isPointInPath,ut.context,ut.runtime))return!0}return!1},this.isPointInPath=function(dt,et){var _t=ut.runtime.offscreenCanvasCreator.getOrCreateContext(ut.context.config.offscreenCanvas),mt=ut.context.pathGeneratorFactory[dt.nodeName];return mt&&(_t.beginPath(),mt(_t,dt.parsedStyle),_t.closePath()),_t.isPointInPath(et.x,et.y)}}return(0,y.Z)(nt,[{key:"apply",value:function(dt,et){var _t,mt=this,ot=dt.renderingService,Et=dt.renderingContext;this.context=dt,this.runtime=et;var Ot=(_t=Et.root)===null||_t===void 0?void 0:_t.ownerDocument;ot.hooks.pick.tapPromise(nt.tag,function(){var B=(0,o.Z)((0,v.Z)().mark(function X(pt){return(0,v.Z)().wrap(function(Mt){for(;;)switch(Mt.prev=Mt.next){case 0:return Mt.abrupt("return",mt.pick(Ot,pt));case 1:case"end":return Mt.stop()}},X)}));return function(X){return B.apply(this,arguments)}}()),ot.hooks.pickSync.tap(nt.tag,function(B){return mt.pick(Ot,B)})}},{key:"pick",value:function(dt,et){var _t=et.topmost,mt=et.position,ot=mt.x,Et=mt.y,Ot=r.t8(e,ot,Et,0),B=dt.elementsFromBBox(Ot[0],Ot[1],Ot[0],Ot[1]),X=[],pt=(0,h.Z)(B),Mt;try{for(pt.s();!(Mt=pt.n()).done;){var bt=Mt.value,Rt=bt.getWorldTransform(),It=this.isHit(bt,Ot,Rt,!1);if(It){var st=(0,f.Oi)(bt);if(st){var Q=st.parsedStyle.clipPath,ct=this.isHit(Q,Ot,Q.getWorldTransform(),!0);if(ct){if(_t)return et.picked=[bt],et;X.push(bt)}}else{if(_t)return et.picked=[bt],et;X.push(bt)}}}}catch(ht){pt.e(ht)}finally{pt.f()}return et.picked=X,et}}])}();M.tag="CanvasPicker";function O(nt,ut,dt){var et=nt.parsedStyle,_t=et.cx,mt=_t===void 0?0:_t,ot=et.cy,Et=ot===void 0?0:ot,Ot=et.r,B=et.fill,X=et.stroke,pt=et.lineWidth,Mt=pt===void 0?1:pt,bt=et.increasedLineWidthForHitTesting,Rt=bt===void 0?0:bt,It=et.pointerEvents,st=It===void 0?"auto":It,Q=(Mt+Rt)/2,ct=(0,u.TE)(mt,Et,ut.x,ut.y),ht=(0,f.L1)(st,B,X),ft=(0,s.Z)(ht,2),gt=ft[0],yt=ft[1];return gt&&yt||dt?ct<=Ot+Q:gt?ct<=Ot:yt?ct>=Ot-Q&&ct<=Ot+Q:!1}function D(nt,ut,dt,et){return nt/(dt*dt)+ut/(et*et)}function P(nt,ut,dt){var et=nt.parsedStyle,_t=et.cx,mt=_t===void 0?0:_t,ot=et.cy,Et=ot===void 0?0:ot,Ot=et.rx,B=et.ry,X=et.fill,pt=et.stroke,Mt=et.lineWidth,bt=Mt===void 0?1:Mt,Rt=et.increasedLineWidthForHitTesting,It=Rt===void 0?0:Rt,st=et.pointerEvents,Q=st===void 0?"auto":st,ct=ut.x,ht=ut.y,ft=(0,f.L1)(Q,X,pt),gt=(0,s.Z)(ft,2),yt=gt[0],Tt=gt[1],Dt=(bt+It)/2,Ct=(ct-mt)*(ct-mt),At=(ht-Et)*(ht-Et);return yt&&Tt||dt?D(Ct,At,Ot+Dt,B+Dt)<=1:yt?D(Ct,At,Ot,B)<=1:Tt?D(Ct,At,Ot-Dt,B-Dt)>=1&&D(Ct,At,Ot+Dt,B+Dt)<=1:!1}function b(nt,ut,dt,et,_t,mt){return _t>=nt&&_t<=nt+dt&&mt>=ut&&mt<=ut+et}function x(nt,ut,dt,et,_t,mt,ot){var Et=_t/2;return b(nt-Et,ut-Et,dt,_t,mt,ot)||b(nt+dt-Et,ut-Et,_t,et,mt,ot)||b(nt+Et,ut+et-Et,dt,_t,mt,ot)||b(nt-Et,ut+Et,_t,et,mt,ot)}function L(nt,ut,dt,et,_t,mt,ot,Et){var Ot=(Math.atan2(Et-ut,ot-nt)+Math.PI*2)%(Math.PI*2),B={x:nt+dt*Math.cos(Ot),y:ut+dt*Math.sin(Ot)};return(0,u.TE)(B.x,B.y,ot,Et)<=mt/2}function S(nt,ut,dt,et,_t,mt,ot){var Et=Math.min(nt,dt),Ot=Math.max(nt,dt),B=Math.min(ut,et),X=Math.max(ut,et),pt=_t/2;return mt>=Et-pt&&mt<=Ot+pt&&ot>=B-pt&&ot<=X+pt?(0,u._x)(nt,ut,dt,et,mt,ot)<=_t/2:!1}function K(nt,ut,dt,et,_t){var mt=nt.length;if(mt<2)return!1;for(var ot=0;ot<mt-1;ot++){var Et=nt[ot][0],Ot=nt[ot][1],B=nt[ot+1][0],X=nt[ot+1][1];if(S(Et,Ot,B,X,ut,dt,et))return!0}if(_t){var pt=nt[0],Mt=nt[mt-1];if(S(pt[0],pt[1],Mt[0],Mt[1],ut,dt,et))return!0}return!1}var U=1e-6;function j(nt){return Math.abs(nt)<U?0:nt<0?-1:1}function F(nt,ut,dt){return(dt[0]-nt[0])*(ut[1]-nt[1])===(ut[0]-nt[0])*(dt[1]-nt[1])&&Math.min(nt[0],ut[0])<=dt[0]&&dt[0]<=Math.max(nt[0],ut[0])&&Math.min(nt[1],ut[1])<=dt[1]&&dt[1]<=Math.max(nt[1],ut[1])}function W(nt,ut,dt){var et=!1,_t=nt.length;if(_t<=2)return!1;for(var mt=0;mt<_t;mt++){var ot=nt[mt],Et=nt[(mt+1)%_t];if(F(ot,Et,[ut,dt]))return!0;j(ot[1]-dt)>0!=j(Et[1]-dt)>0&&j(ut-(dt-ot[1])*(ot[0]-Et[0])/(ot[1]-Et[1])-ot[0])<0&&(et=!et)}return et}function w(nt,ut,dt){for(var et=!1,_t=0;_t<nt.length;_t++){var mt=nt[_t];if(et=W(mt,ut,dt),et)break}return et}function z(nt,ut,dt){var et=nt.parsedStyle,_t=et.x1,mt=et.y1,ot=et.x2,Et=et.y2,Ot=et.lineWidth,B=Ot===void 0?1:Ot,X=et.increasedLineWidthForHitTesting,pt=X===void 0?0:X,Mt=et.pointerEvents,bt=Mt===void 0?"auto":Mt,Rt=et.fill,It=et.stroke,st=(0,f.L1)(bt,Rt,It),Q=(0,s.Z)(st,2),ct=Q[1];return!ct&&!dt||!B?!1:S(_t,mt,ot,Et,B+pt,ut.x,ut.y)}function H(nt,ut,dt,et,_t){for(var mt=!1,ot=ut/2,Et=0;Et<nt.length;Et++){var Ot=nt[Et],B=Ot.currentPoint,X=Ot.params,pt=Ot.prePoint,Mt=Ot.box;if(!(Mt&&!b(Mt.x-ot,Mt.y-ot,Mt.width+ut,Mt.height+ut,dt,et)))switch(Ot.command){case"L":case"Z":if(mt=S(pt[0],pt[1],B[0],B[1],ut,dt,et),mt)return!0;break;case"Q":var bt=(0,u.Y1)(pt[0],pt[1],X[1],X[2],X[3],X[4],dt,et);if(mt=bt<=ut/2,mt)return!0;break;case"C":var Rt=(0,u.ph)(pt[0],pt[1],X[1],X[2],X[3],X[4],X[5],X[6],dt,et,_t);if(mt=Rt<=ut/2,mt)return!0;break;case"A":Ot.cubicParams||(Ot.cubicParams=(0,c.W)(pt[0],pt[1],X[1],X[2],X[3],X[4],X[5],X[6],X[7],void 0));for(var It=Ot.cubicParams,st=pt,Q=0;Q<It.length;Q+=6){var ct=(0,u.ph)(st[0],st[1],It[Q],It[Q+1],It[Q+2],It[Q+3],It[Q+4],It[Q+5],dt,et,_t);if(st=[It[Q+4],It[Q+5]],mt=ct<=ut/2,mt)return!0}break}}return mt}function Y(nt,ut,dt,et,_t,mt){var ot=nt.parsedStyle,Et=ot.lineWidth,Ot=Et===void 0?1:Et,B=ot.increasedLineWidthForHitTesting,X=B===void 0?0:B,pt=ot.stroke,Mt=ot.fill,bt=ot.d,Rt=ot.pointerEvents,It=Rt===void 0?"auto":Rt,st=bt.segments,Q=bt.hasArc,ct=bt.polylines,ht=bt.polygons,ft=(0,f.L1)(It,(ht==null?void 0:ht.length)&&Mt,pt),gt=(0,s.Z)(ft,2),yt=gt[0],Tt=gt[1],Dt=(0,f.gz)(nt),Ct=!1;return yt||dt?(Q?Ct=et(nt,ut):Ct=w(ht,ut.x,ut.y)||w(ct,ut.x,ut.y),Ct):((Tt||dt)&&(Ct=H(st,Ot+X,ut.x,ut.y,Dt)),Ct)}function V(nt,ut,dt){var et=nt.parsedStyle,_t=et.stroke,mt=et.fill,ot=et.lineWidth,Et=ot===void 0?1:ot,Ot=et.increasedLineWidthForHitTesting,B=Ot===void 0?0:Ot,X=et.points,pt=et.pointerEvents,Mt=pt===void 0?"auto":pt,bt=(0,f.L1)(Mt,mt,_t),Rt=(0,s.Z)(bt,2),It=Rt[0],st=Rt[1],Q=!1;return(st||dt)&&(Q=K(X.points,Et+B,ut.x,ut.y,!0)),!Q&&(It||dt)&&(Q=W(X.points,ut.x,ut.y)),Q}function $(nt,ut,dt){var et=nt.parsedStyle,_t=et.lineWidth,mt=_t===void 0?1:_t,ot=et.increasedLineWidthForHitTesting,Et=ot===void 0?0:ot,Ot=et.points,B=et.pointerEvents,X=B===void 0?"auto":B,pt=et.fill,Mt=et.stroke,bt=(0,f.L1)(X,pt,Mt),Rt=(0,s.Z)(bt,2),It=Rt[1];return!It&&!dt||!mt?!1:K(Ot.points,mt+Et,ut.x,ut.y,!1)}function J(nt,ut,dt,et,_t){var mt=nt.parsedStyle,ot=mt.radius,Et=mt.fill,Ot=mt.stroke,B=mt.lineWidth,X=B===void 0?1:B,pt=mt.increasedLineWidthForHitTesting,Mt=pt===void 0?0:pt,bt=mt.x,Rt=bt===void 0?0:bt,It=mt.y,st=It===void 0?0:It,Q=mt.width,ct=mt.height,ht=mt.pointerEvents,ft=ht===void 0?"auto":ht,gt=(0,f.L1)(ft,Et,Ot),yt=(0,s.Z)(gt,2),Tt=yt[0],Dt=yt[1],Ct=ot&&ot.some(function(zt){return zt!==0}),At=X+Mt;if(Ct){var St=!1;return(Dt||dt)&&(St=rt(Rt,st,Q,ct,ot.map(function(zt){return(0,E.Z)(zt,0,Math.min(Math.abs(Q)/2,Math.abs(ct)/2))}),At,ut.x,ut.y)),!St&&(Tt||dt)&&(St=et(nt,ut)),St}else{var Ut=At/2;if(Tt&&Dt||dt)return b(Rt-Ut,st-Ut,Q+Ut,ct+Ut,ut.x,ut.y);if(Tt)return b(Rt,st,Q,ct,ut.x,ut.y);if(Dt)return x(Rt,st,Q,ct,At,ut.x,ut.y)}return!1}function rt(nt,ut,dt,et,_t,mt,ot,Et){var Ot=(0,s.Z)(_t,4),B=Ot[0],X=Ot[1],pt=Ot[2],Mt=Ot[3];return S(nt+B,ut,nt+dt-X,ut,mt,ot,Et)||S(nt+dt,ut+X,nt+dt,ut+et-pt,mt,ot,Et)||S(nt+dt-pt,ut+et,nt+Mt,ut+et,mt,ot,Et)||S(nt,ut+et-Mt,nt,ut+B,mt,ot,Et)||L(nt+dt-X,ut+X,X,1.5*Math.PI,2*Math.PI,mt,ot,Et)||L(nt+dt-pt,ut+et-pt,pt,0,.5*Math.PI,mt,ot,Et)||L(nt+Mt,ut+et-Mt,Mt,.5*Math.PI,Math.PI,mt,ot,Et)||L(nt+B,ut+B,B,Math.PI,1.5*Math.PI,mt,ot,Et)}function lt(nt,ut,dt,et,_t,mt){var ot=nt.parsedStyle,Et=ot.pointerEvents,Ot=Et===void 0?"auto":Et,B=ot.x,X=B===void 0?0:B,pt=ot.y,Mt=pt===void 0?0:pt,bt=ot.width,Rt=ot.height;if(Ot==="non-transparent-pixel"){var It=_t.config.offscreenCanvas,st=mt.offscreenCanvasCreator.getOrCreateCanvas(It),Q=mt.offscreenCanvasCreator.getOrCreateContext(It,{willReadFrequently:!0});st.width=bt,st.height=Rt,_t.defaultStyleRendererFactory[f.bn.IMAGE].render(Q,(0,p.Z)((0,p.Z)({},nt.parsedStyle),{},{x:0,y:0}),nt,void 0,void 0,void 0);var ct=Q.getImageData(ut.x-X,ut.y-Mt,1,1).data;return ct.every(function(ht){return ht!==0})}return!0}function tt(nt,ut,dt,et){var _t=nt.getGeometryBounds();return ut.x>=_t.min[0]&&ut.y>=_t.min[1]&&ut.x<=_t.max[0]&&ut.y<=_t.max[1]}var G=function(nt){function ut(){var dt;(0,T.Z)(this,ut);for(var et=arguments.length,_t=new Array(et),mt=0;mt<et;mt++)_t[mt]=arguments[mt];return dt=(0,C.Z)(this,ut,[].concat(_t)),dt.name="canvas-picker",dt}return(0,m.Z)(ut,nt),(0,y.Z)(ut,[{key:"init",value:function(){var et,_t=(et={},(0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)(et,f.bn.CIRCLE,O),f.bn.ELLIPSE,P),f.bn.RECT,J),f.bn.LINE,z),f.bn.POLYLINE,$),f.bn.POLYGON,V),f.bn.PATH,Y),f.bn.TEXT,tt),f.bn.GROUP,null),f.bn.IMAGE,lt),(0,d.Z)((0,d.Z)(et,f.bn.HTML,null),f.bn.MESH,null));this.context.pointInPathPickerFactory=_t,this.addRenderingPlugin(new M)}},{key:"destroy",value:function(){delete this.context.pointInPathPickerFactory,this.removeAllRenderingPlugins()}}])}(f.F6)},89445:function(at,N,t){"use strict";t.d(N,{Sy:function(){return w}});var d=t(59125),T=t(59942),y=t(76132),C=t(99190),m=t(87974),f=t(61912),h=t(46911),v=t(8818),o=t(87948),r=t(82231),a=t(44756),s=t(14690),u=t(35136),c=t(89148),E=t(46689);var p=(0,a.Z)("renderState"),e=function(){function z(H){(0,y.Z)(this,z),this.removedRBushNodeAABBs=[],this.renderQueue=[],Object.defineProperty(this,p,{writable:!0,value:{restoreStack:[],prevObject:null,currentContext:new Map}}),this.clearFullScreenLastFrame=!1,this.clearFullScreen=!1,this.vpMatrix=s.create(),this.dprMatrix=s.create(),this.tmpMat4=s.create(),this.vec3a=u.Ue(),this.vec3b=u.Ue(),this.vec3c=u.Ue(),this.vec3d=u.Ue(),this.canvasRendererPluginOptions=H}return(0,C.Z)(z,[{key:"apply",value:function(Y,V){var $=this;this.context=Y;var J=this.context,rt=J.config,lt=J.camera,tt=J.renderingService,G=J.renderingContext,nt=J.rBushRoot,ut=J.pathGeneratorFactory,dt=rt.renderer.getConfig().enableRenderingOptimization;rt.renderer.getConfig().enableDirtyCheck=!1,rt.renderer.getConfig().enableDirtyRectangleRendering=!1,this.rBush=nt,this.pathGeneratorFactory=ut;var et=Y.contextService,_t=G.root.ownerDocument.defaultView,mt=function(X){var pt=X.target,Mt=pt.rBushNode;Mt!=null&&Mt.aabb&&$.removedRBushNodeAABBs.push(Mt.aabb)},ot=function(X){var pt=X.target,Mt=pt.rBushNode;Mt.aabb&&$.removedRBushNodeAABBs.push(Mt.aabb)};tt.hooks.init.tap(z.tag,function(){_t.addEventListener(h.Dk.UNMOUNTED,mt),_t.addEventListener(h.Dk.CULLED,ot);var B=et.getDPR(),X=rt.width,pt=rt.height,Mt=et.getContext();$.clearRect(Mt,0,0,X*B,pt*B,rt.background)}),tt.hooks.destroy.tap(z.tag,function(){_t.removeEventListener(h.Dk.UNMOUNTED,mt),_t.removeEventListener(h.Dk.CULLED,ot),$.renderQueue=[],$.removedRBushNodeAABBs=[],(0,r.Z)($,p)[p]={restoreStack:[],prevObject:null,currentContext:null}});var Et=function(){var X,pt=et.getContext(),Mt=et.getDPR(),bt=rt.width,Rt=rt.height,It=$.canvasRendererPluginOptions,st=It.dirtyObjectNumThreshold,Q=It.dirtyObjectRatioThreshold,ct=tt.getStats(),ht=ct.total,ft=ct.rendered,gt=ft/ht;$.clearFullScreen=$.clearFullScreenLastFrame||!((X=_t.context.renderingPlugins[1])!==null&&X!==void 0&&X.isFirstTimeRenderingFinished)||tt.disableDirtyRectangleRendering()||ft>st&&gt>Q,pt&&(typeof pt.resetTransform=="function"?pt.resetTransform():pt.setTransform(1,0,0,1,0,0),$.clearFullScreen&&$.clearRect(pt,0,0,bt*Mt,Rt*Mt,rt.background))},Ot=function(X,pt){for(var Mt=[X];Mt.length>0;){var bt,Rt=Mt.pop();Rt.isVisible()&&!Rt.isCulled()&&(dt?$.renderDisplayObjectOptimized(Rt,pt,$.context,(0,r.Z)($,p)[p],V):$.renderDisplayObject(Rt,pt,$.context,(0,r.Z)($,p)[p],V));for(var It=((bt=Rt.sortable)===null||bt===void 0||(bt=bt.sorted)===null||bt===void 0?void 0:bt.length)>0?Rt.sortable.sorted:Rt.childNodes,st=It.length-1;st>=0;st--)Mt.push(It[st])}};tt.hooks.endFrame.tap(z.tag,function(){if(Et(),G.root.childNodes.length===0){$.clearFullScreenLastFrame=!0;return}dt=rt.renderer.getConfig().enableRenderingOptimization,(0,r.Z)($,p)[p]={restoreStack:[],prevObject:null,currentContext:(0,r.Z)($,p)[p].currentContext},(0,r.Z)($,p)[p].currentContext.clear(),$.clearFullScreenLastFrame=!1;var B=et.getContext(),X=et.getDPR();if(s.fromScaling($.dprMatrix,[X,X,1]),s.multiply($.vpMatrix,$.dprMatrix,lt.getOrthoMatrix()),$.clearFullScreen)dt?(B.save(),Ot(G.root,B),B.restore()):Ot(G.root,B),$.removedRBushNodeAABBs=[];else{var pt=$.safeMergeAABB.apply($,[$.mergeDirtyAABBs($.renderQueue)].concat((0,o.Z)($.removedRBushNodeAABBs.map(function(Qt){var re=Qt.minX,ee=Qt.minY,Ht=Qt.maxX,he=Qt.maxY,ie=new h.mN;return ie.setMinMax([re,ee,0],[Ht,he,0]),ie}))));if($.removedRBushNodeAABBs=[],h.mN.isEmpty(pt)){$.renderQueue=[];return}var Mt=$.convertAABB2Rect(pt),bt=Mt.x,Rt=Mt.y,It=Mt.width,st=Mt.height,Q=u.fF($.vec3a,[bt,Rt,0],$.vpMatrix),ct=u.fF($.vec3b,[bt+It,Rt,0],$.vpMatrix),ht=u.fF($.vec3c,[bt,Rt+st,0],$.vpMatrix),ft=u.fF($.vec3d,[bt+It,Rt+st,0],$.vpMatrix),gt=Math.min(Q[0],ct[0],ft[0],ht[0]),yt=Math.min(Q[1],ct[1],ft[1],ht[1]),Tt=Math.max(Q[0],ct[0],ft[0],ht[0]),Dt=Math.max(Q[1],ct[1],ft[1],ht[1]),Ct=Math.floor(gt),At=Math.floor(yt),Ut=Math.ceil(Tt-gt),St=Math.ceil(Dt-yt);B.save(),$.clearRect(B,Ct,At,Ut,St,rt.background),B.beginPath(),B.rect(Ct,At,Ut,St),B.clip(),B.setTransform($.vpMatrix[0],$.vpMatrix[1],$.vpMatrix[4],$.vpMatrix[5],$.vpMatrix[12],$.vpMatrix[13]);var zt=rt.renderer.getConfig(),Zt=zt.enableDirtyRectangleRenderingDebug;Zt&&_t.dispatchEvent(new h.Aw(h.$6.DIRTY_RECTANGLE,{dirtyRect:{x:Ct,y:At,width:Ut,height:St}}));var Vt=$.searchDirtyObjects(pt);Vt.sort(function(Qt,re){return Qt.sortable.renderOrder-re.sortable.renderOrder}).forEach(function(Qt){Qt&&Qt.isVisible()&&!Qt.isCulled()&&$.renderDisplayObject(Qt,B,$.context,(0,r.Z)($,p)[p],V)}),B.restore(),$.renderQueue.forEach(function(Qt){$.saveDirtyAABB(Qt)}),$.renderQueue=[]}(0,r.Z)($,p)[p].restoreStack.forEach(function(){B.restore()}),(0,r.Z)($,p)[p].restoreStack=[]}),tt.hooks.render.tap(z.tag,function(B){$.clearFullScreen||$.renderQueue.push(B)})}},{key:"clearRect",value:function(Y,V,$,J,rt,lt){Y.clearRect(V,$,J,rt),lt&&(Y.fillStyle=lt,Y.fillRect(V,$,J,rt))}},{key:"renderDisplayObjectOptimized",value:function(Y,V,$,J,rt){var lt=Y.nodeName,tt=!1,G=!1,nt=this.context.styleRendererFactory[lt],ut=this.pathGeneratorFactory[lt],dt=Y.parsedStyle.clipPath;if(dt){tt=!J.prevObject||!s.exactEquals(dt.getWorldTransform(),J.prevObject.getWorldTransform()),tt&&(this.applyWorldTransform(V,dt),J.prevObject=null);var et=this.pathGeneratorFactory[dt.nodeName];et&&(V.save(),G=!0,V.beginPath(),et(V,dt.parsedStyle),V.closePath(),V.clip())}if(nt){tt=!J.prevObject||!s.exactEquals(Y.getWorldTransform(),J.prevObject.getWorldTransform()),tt&&this.applyWorldTransform(V,Y);var _t=!J.prevObject;if(!_t){var mt=J.prevObject.nodeName;lt===h.bn.TEXT?_t=mt!==h.bn.TEXT:lt===h.bn.IMAGE?_t=mt!==h.bn.IMAGE:_t=mt===h.bn.TEXT||mt===h.bn.IMAGE}nt.applyStyleToContext(V,Y,_t,J),J.prevObject=Y}ut&&(V.beginPath(),ut(V,Y.parsedStyle),lt!==h.bn.LINE&&lt!==h.bn.PATH&&lt!==h.bn.POLYLINE&&V.closePath()),nt&&nt.drawToContext(V,Y,(0,r.Z)(this,p)[p],this,rt),G&&V.restore(),Y.dirty(!1)}},{key:"renderDisplayObject",value:function(Y,V,$,J,rt){var lt=Y.nodeName,tt=J.restoreStack[J.restoreStack.length-1];tt&&!(Y.compareDocumentPosition(tt)&h.NB.DOCUMENT_POSITION_CONTAINS)&&(V.restore(),J.restoreStack.pop());var G=this.context.styleRendererFactory[lt],nt=this.pathGeneratorFactory[lt],ut=Y.parsedStyle.clipPath;if(ut){this.applyWorldTransform(V,ut);var dt=this.pathGeneratorFactory[ut.nodeName];dt&&(V.save(),J.restoreStack.push(Y),V.beginPath(),dt(V,ut.parsedStyle),V.closePath(),V.clip())}G&&(this.applyWorldTransform(V,Y),V.save(),this.applyAttributesToContext(V,Y)),nt&&(V.beginPath(),nt(V,Y.parsedStyle),lt!==h.bn.LINE&&lt!==h.bn.PATH&&lt!==h.bn.POLYLINE&&V.closePath()),G&&(G.render(V,Y.parsedStyle,Y,$,this,rt),V.restore()),Y.dirty(!1)}},{key:"applyAttributesToContext",value:function(Y,V){var $=V.parsedStyle,J=$.stroke,rt=$.fill,lt=$.opacity,tt=$.lineDash,G=$.lineDashOffset;tt&&Y.setLineDash(tt),(0,c.Z)(G)||(Y.lineDashOffset=G),(0,c.Z)(lt)||(Y.globalAlpha*=lt),!(0,c.Z)(J)&&!Array.isArray(J)&&!J.isNone&&(Y.strokeStyle=V.attributes.stroke),!(0,c.Z)(rt)&&!Array.isArray(rt)&&!rt.isNone&&(Y.fillStyle=V.attributes.fill)}},{key:"convertAABB2Rect",value:function(Y){var V=Y.getMin(),$=Y.getMax(),J=Math.floor(V[0]),rt=Math.floor(V[1]),lt=Math.ceil($[0]),tt=Math.ceil($[1]),G=lt-J,nt=tt-rt;return{x:J,y:rt,width:G,height:nt}}},{key:"mergeDirtyAABBs",value:function(Y){var V=new h.mN;return Y.forEach(function($){var J=$.getRenderBounds();V.add(J);var rt=$.renderable.dirtyRenderBounds;rt&&V.add(rt)}),V}},{key:"searchDirtyObjects",value:function(Y){var V=Y.getMin(),$=(0,v.Z)(V,2),J=$[0],rt=$[1],lt=Y.getMax(),tt=(0,v.Z)(lt,2),G=tt[0],nt=tt[1],ut=this.rBush.search({minX:J,minY:rt,maxX:G,maxY:nt});return ut.map(function(dt){var et=dt.displayObject;return et})}},{key:"saveDirtyAABB",value:function(Y){var V=Y.renderable;V.dirtyRenderBounds||(V.dirtyRenderBounds=new h.mN);var $=Y.getRenderBounds();$&&V.dirtyRenderBounds.update($.center,$.halfExtents)}},{key:"applyWorldTransform",value:function(Y,V,$){$?(s.copy(this.tmpMat4,V.getLocalTransform()),s.multiply(this.tmpMat4,$,this.tmpMat4),s.multiply(this.tmpMat4,this.vpMatrix,this.tmpMat4)):(s.copy(this.tmpMat4,V.getWorldTransform()),s.multiply(this.tmpMat4,this.vpMatrix,this.tmpMat4)),Y.setTransform(this.tmpMat4[0],this.tmpMat4[1],this.tmpMat4[4],this.tmpMat4[5],this.tmpMat4[12],this.tmpMat4[13])}},{key:"safeMergeAABB",value:function(){for(var Y=new h.mN,V=arguments.length,$=new Array(V),J=0;J<V;J++)$[J]=arguments[J];return $.forEach(function(rt){Y.add(rt)}),Y}}])}();e.tag="CanvasRenderer";function i(z,H,Y,V,$,J,rt){var lt,tt;if(z.image.nodeName==="rect"){var G=z.image.parsedStyle,nt=G.width,ut=G.height;tt=V.contextService.getDPR();var dt=V.config.offscreenCanvas;lt=J.offscreenCanvasCreator.getOrCreateCanvas(dt),lt.width=nt*tt,lt.height=ut*tt;var et=J.offscreenCanvasCreator.getOrCreateContext(dt),_t={restoreStack:[],prevObject:null,currentContext:new Map};z.image.forEach(function(ot){$.renderDisplayObject(ot,et,V,_t,J)}),_t.restoreStack.forEach(function(){et.restore()})}var mt=rt.getOrCreatePatternSync(H,z,Y,lt,tt,H.getGeometryBounds().min,function(){H.dirty(),V.renderingService.dirtify()});return mt}function n(z,H,Y,V){var $;if(z.type===h.GL.LinearGradient||z.type===h.GL.RadialGradient){var J=H.getGeometryBounds(),rt=J&&J.halfExtents[0]*2||1,lt=J&&J.halfExtents[1]*2||1,tt=J&&J.min||[0,0];$=V.getOrCreateGradient((0,T.Z)((0,T.Z)({type:z.type},z.value),{},{min:tt,width:rt,height:lt}),Y)}return $}var l=["shadowBlur","shadowOffsetX","shadowOffsetY"],M=["lineCap","lineJoin","miterLimit"],O={globalAlpha:1,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",filter:"none",globalCompositeOperation:"source-over",strokeStyle:"#000",strokeOpacity:1,lineWidth:1,lineDash:[],lineDashOffset:0,lineCap:"butt",lineJoin:"miter",miterLimit:10,fillStyle:"#000",fillOpacity:1},D={};function P(z,H,Y,V){var $=V.has(H)?V.get(H):O[H];return $!==Y&&(H==="lineDash"?z.setLineDash(Y):z[H]=Y,V.set(H,Y)),$}var b=function(){function z(H){(0,y.Z)(this,z),this.imagePool=H}return(0,C.Z)(z,[{key:"applyAttributesToContext",value:function(Y,V){}},{key:"render",value:function(Y,V,$,J,rt,lt){}},{key:"applyCommonStyleToContext",value:function(Y,V,$,J){var rt=$?D:J.prevObject.parsedStyle,lt=V.parsedStyle;($||lt.opacity!==rt.opacity)&&P(Y,"globalAlpha",(0,c.Z)(lt.opacity)?O.globalAlpha:lt.opacity,J.currentContext),($||lt.blend!==rt.blend)&&P(Y,"globalCompositeOperation",(0,c.Z)(lt.blend)?O.globalCompositeOperation:lt.blend,J.currentContext)}},{key:"applyStrokeFillStyleToContext",value:function(Y,V,$,J){var rt=$?D:J.prevObject.parsedStyle,lt=V.parsedStyle,tt=lt.lineWidth,G=tt===void 0?O.lineWidth:tt,nt=lt.fill&&!lt.fill.isNone,ut=lt.stroke&&!lt.stroke.isNone&&G>0;if(ut){if($||V.attributes.stroke!==J.prevObject.attributes.stroke){var dt=!(0,c.Z)(lt.stroke)&&!Array.isArray(lt.stroke)&&!lt.stroke.isNone?V.attributes.stroke:O.strokeStyle;P(Y,"strokeStyle",dt,J.currentContext)}($||lt.lineWidth!==rt.lineWidth)&&P(Y,"lineWidth",(0,c.Z)(lt.lineWidth)?O.lineWidth:lt.lineWidth,J.currentContext),($||lt.lineDash!==rt.lineDash)&&P(Y,"lineDash",lt.lineDash||O.lineDash,J.currentContext),($||lt.lineDashOffset!==rt.lineDashOffset)&&P(Y,"lineDashOffset",(0,c.Z)(lt.lineDashOffset)?O.lineDashOffset:lt.lineDashOffset,J.currentContext);for(var et=0;et<M.length;et++){var _t=M[et];($||lt[_t]!==rt[_t])&&P(Y,_t,(0,c.Z)(lt[_t])?O[_t]:lt[_t],J.currentContext)}}if(nt&&($||V.attributes.fill!==J.prevObject.attributes.fill)){var mt=!(0,c.Z)(lt.fill)&&!Array.isArray(lt.fill)&&!lt.fill.isNone?V.attributes.fill:O.fillStyle;P(Y,"fillStyle",mt,J.currentContext)}}},{key:"applyStyleToContext",value:function(Y,V,$,J){var rt=V.nodeName;this.applyCommonStyleToContext(Y,V,$,J),rt===h.bn.IMAGE||this.applyStrokeFillStyleToContext(Y,V,$,J)}},{key:"applyShadowAndFilterStyleToContext",value:function(Y,V,$,J){var rt=V.parsedStyle;if($){P(Y,"shadowColor",rt.shadowColor.toString(),J.currentContext);for(var lt=0;lt<l.length;lt++){var tt=l[lt];P(Y,tt,rt[tt]||O[tt],J.currentContext)}}rt.filter&&rt.filter.length&&P(Y,"filter",V.attributes.filter,J.currentContext)}},{key:"clearShadowAndFilterStyleForContext",value:function(Y,V,$,J){var rt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(V){P(Y,"shadowColor",O.shadowColor,J.currentContext);for(var lt=0;lt<l.length;lt++){var tt=l[lt];P(Y,tt,O[tt],J.currentContext)}}if($)if(V&&rt){var G=Y.filter;!(0,c.Z)(G)&&G.indexOf("drop-shadow")>-1&&P(Y,"filter",G.replace(/drop-shadow\([^)]*\)/,"").trim()||O.filter,J.currentContext)}else P(Y,"filter",O.filter,J.currentContext)}},{key:"fillToContext",value:function(Y,V,$,J,rt){var lt=this,tt=V.parsedStyle,G=tt.fill,nt=tt.fillRule,ut=null;if(Array.isArray(G)&&G.length>0)G.forEach(function(et){var _t=P(Y,"fillStyle",n(et,V,Y,lt.imagePool),$.currentContext);ut=ut!=null?ut:_t,nt?Y.fill(nt):Y.fill()});else{if((0,h.R)(G)){var dt=i(G,V,Y,V.ownerDocument.defaultView.context,J,rt,this.imagePool);dt&&(Y.fillStyle=dt,ut=!0)}nt?Y.fill(nt):Y.fill()}ut!==null&&P(Y,"fillStyle",ut,$.currentContext)}},{key:"strokeToContext",value:function(Y,V,$,J,rt){var lt=this,tt=V.parsedStyle.stroke,G=null;if(Array.isArray(tt)&&tt.length>0)tt.forEach(function(dt){var et=P(Y,"strokeStyle",n(dt,V,Y,lt.imagePool),$.currentContext);G=G!=null?G:et,Y.stroke()});else{if((0,h.R)(tt)){var nt=i(tt,V,Y,V.ownerDocument.defaultView.context,J,rt,this.imagePool);if(nt){var ut=P(Y,"strokeStyle",nt,$.currentContext);G=G!=null?G:ut}}Y.stroke()}G!==null&&P(Y,"strokeStyle",G,$.currentContext)}},{key:"drawToContext",value:function(Y,V,$,J,rt){var lt,tt=V.nodeName,G=V.parsedStyle,nt=G.opacity,ut=nt===void 0?O.globalAlpha:nt,dt=G.fillOpacity,et=dt===void 0?O.fillOpacity:dt,_t=G.strokeOpacity,mt=_t===void 0?O.strokeOpacity:_t,ot=G.lineWidth,Et=ot===void 0?O.lineWidth:ot,Ot=G.fill&&!G.fill.isNone,B=G.stroke&&!G.stroke.isNone&&Et>0;if(!(!Ot&&!B)){var X=!(0,c.Z)(G.shadowColor)&&G.shadowBlur>0,pt=G.shadowType==="inner",Mt=((lt=G.fill)===null||lt===void 0?void 0:lt.alpha)===0,bt=!!(G.filter&&G.filter.length),Rt=X&&B&&(tt===h.bn.PATH||tt===h.bn.LINE||tt===h.bn.POLYLINE||Mt||pt),It=null;if(Ot){Rt||this.applyShadowAndFilterStyleToContext(Y,V,X,$);var st=ut*et;It=P(Y,"globalAlpha",st,$.currentContext),this.fillToContext(Y,V,$,J,rt),Rt||this.clearShadowAndFilterStyleForContext(Y,X,bt,$)}if(B){var Q=!1,ct=ut*mt,ht=P(Y,"globalAlpha",ct,$.currentContext);if(It=Ot?It:ht,Rt&&(this.applyShadowAndFilterStyleToContext(Y,V,X,$),Q=!0,pt)){var ft=Y.globalCompositeOperation;Y.globalCompositeOperation="source-atop",this.strokeToContext(Y,V,$,J,rt),Y.globalCompositeOperation=ft,this.clearShadowAndFilterStyleForContext(Y,X,bt,$,!0)}this.strokeToContext(Y,V,$,J,rt),Q&&this.clearShadowAndFilterStyleForContext(Y,X,bt,$)}It!==null&&P(Y,"globalAlpha",It,$.currentContext)}}}])}(),x=function(z){function H(){return(0,y.Z)(this,H),(0,m.Z)(this,H,arguments)}return(0,f.Z)(H,z),(0,C.Z)(H,[{key:"render",value:function(V,$,J,rt,lt,tt){var G=$.fill,nt=$.fillRule,ut=$.opacity,dt=ut===void 0?1:ut,et=$.fillOpacity,_t=et===void 0?1:et,mt=$.stroke,ot=$.strokeOpacity,Et=ot===void 0?1:ot,Ot=$.lineWidth,B=Ot===void 0?1:Ot,X=$.lineCap,pt=$.lineJoin,Mt=$.shadowType,bt=$.shadowColor,Rt=$.shadowBlur,It=$.filter,st=$.miterLimit,Q=G&&!G.isNone,ct=mt&&!mt.isNone&&B>0,ht=(G==null?void 0:G.alpha)===0,ft=!!(It&&It.length),gt=!(0,c.Z)(bt)&&Rt>0,yt=J.nodeName,Tt=Mt==="inner",Dt=ct&&gt&&(yt===h.bn.PATH||yt===h.bn.LINE||yt===h.bn.POLYLINE||ht||Tt);Q&&(V.globalAlpha=dt*_t,Dt||L(J,V,gt),S(V,J,G,nt,rt,lt,tt,this.imagePool),Dt||this.clearShadowAndFilter(V,ft,gt)),ct&&(V.globalAlpha=dt*Et,V.lineWidth=B,(0,c.Z)(st)||(V.miterLimit=st),(0,c.Z)(X)||(V.lineCap=X),(0,c.Z)(pt)||(V.lineJoin=pt),Dt&&(Tt&&(V.globalCompositeOperation="source-atop"),L(J,V,!0),Tt&&(K(V,J,mt,rt,lt,tt,this.imagePool),V.globalCompositeOperation=O.globalCompositeOperation,this.clearShadowAndFilter(V,ft,!0))),K(V,J,mt,rt,lt,tt,this.imagePool))}},{key:"clearShadowAndFilter",value:function(V,$,J){if(J&&(V.shadowColor="transparent",V.shadowBlur=0),$){var rt=V.filter;!(0,c.Z)(rt)&&rt.indexOf("drop-shadow")>-1&&(V.filter=rt.replace(/drop-shadow\([^)]*\)/,"").trim()||"none")}}}])}(b);function L(z,H,Y){var V=z.parsedStyle,$=V.filter,J=V.shadowColor,rt=V.shadowBlur,lt=V.shadowOffsetX,tt=V.shadowOffsetY;$&&$.length&&(H.filter=z.style.filter),Y&&(H.shadowColor=J.toString(),H.shadowBlur=rt||0,H.shadowOffsetX=lt||0,H.shadowOffsetY=tt||0)}function S(z,H,Y,V,$,J,rt,lt){var tt=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1;Array.isArray(Y)?Y.forEach(function(G){z.fillStyle=n(G,H,z,lt),tt||(V?z.fill(V):z.fill())}):((0,h.R)(Y)&&(z.fillStyle=i(Y,H,z,$,J,rt,lt)),tt||(V?z.fill(V):z.fill()))}function K(z,H,Y,V,$,J,rt){var lt=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1;Array.isArray(Y)?Y.forEach(function(tt){z.strokeStyle=n(tt,H,z,rt),lt||z.stroke()}):((0,h.R)(Y)&&(z.strokeStyle=i(Y,H,z,V,$,J,rt)),lt||z.stroke())}function U(z,H){var Y=(0,v.Z)(z,4),V=Y[0],$=Y[1],J=Y[2],rt=Y[3],lt=(0,v.Z)(H,4),tt=lt[0],G=lt[1],nt=lt[2],ut=lt[3],dt=Math.max(V,tt),et=Math.max($,G),_t=Math.min(V+J,tt+nt),mt=Math.min($+rt,G+ut);return _t<=dt||mt<=et?null:[dt,et,_t-dt,mt-et]}function j(z,H){var Y=u.fF(u.Ue(),[z[0],z[1],0],H),V=u.fF(u.Ue(),[z[0]+z[2],z[1],0],H),$=u.fF(u.Ue(),[z[0],z[1]+z[3],0],H),J=u.fF(u.Ue(),[z[0]+z[2],z[1]+z[3],0],H);return[Math.min(Y[0],V[0],$[0],J[0]),Math.min(Y[1],V[1],$[1],J[1]),Math.max(Y[0],V[0],$[0],J[0])-Math.min(Y[0],V[0],$[0],J[0]),Math.max(Y[1],V[1],$[1],J[1])-Math.min(Y[1],V[1],$[1],J[1])]}var F=function(z){function H(){return(0,y.Z)(this,H),(0,m.Z)(this,H,arguments)}return(0,f.Z)(H,z),(0,C.Z)(H,[{key:"renderDownSampled",value:function(V,$,J,rt){var lt=rt.src,tt=rt.imageCache;if(!tt.downSampled){this.imagePool.createDownSampledImage(lt,J).then(function(){J.ownerDocument&&(J.dirty(),J.ownerDocument.defaultView.context.renderingService.dirtify())}).catch(function(G){console.error(G)});return}V.drawImage(tt.downSampled,Math.floor(rt.drawRect[0]),Math.floor(rt.drawRect[1]),Math.ceil(rt.drawRect[2]),Math.ceil(rt.drawRect[3]))}},{key:"renderTile",value:function(V,$,J,rt){var lt=rt.src,tt=rt.imageCache,G=rt.imageRect,nt=rt.drawRect,ut=tt.size,dt=V.getTransform(),et=dt.a,_t=dt.b,mt=dt.c,ot=dt.d,Et=dt.e,Ot=dt.f;if(V.resetTransform(),!(tt!=null&&tt.gridSize)){this.imagePool.createImageTiles(lt,[],function(){J.ownerDocument&&(J.dirty(),J.ownerDocument.defaultView.context.renderingService.dirtify())},J).catch(function(gt){console.error(gt)});return}for(var B=[ut[0]/G[2],ut[1]/G[3]],X=[tt.tileSize[0]/B[0],tt.tileSize[1]/B[1]],pt=[Math.floor((nt[0]-G[0])/X[0]),Math.ceil((nt[0]+nt[2]-G[0])/X[0])],Mt=pt[0],bt=pt[1],Rt=[Math.floor((nt[1]-G[1])/X[1]),Math.ceil((nt[1]+nt[3]-G[1])/X[1])],It=Rt[0],st=Rt[1],Q=It;Q<=st;Q++)for(var ct=Mt;ct<=bt;ct++){var ht=tt.tiles[Q][ct];if(ht){var ft=[Math.floor(G[0]+ht.tileX*X[0]),Math.floor(G[1]+ht.tileY*X[1]),Math.ceil(X[0]),Math.ceil(X[1])];V.drawImage(ht.data,ft[0],ft[1],ft[2],ft[3])}}V.setTransform(et,_t,mt,ot,Et,Ot)}},{key:"render",value:function(V,$,J){var rt=$.x,lt=rt===void 0?0:rt,tt=$.y,G=tt===void 0?0:tt,nt=$.width,ut=$.height,dt=$.src,et=$.shadowColor,_t=$.shadowBlur,mt=this.imagePool.getImageSync(dt,J),ot=mt==null?void 0:mt.img,Et=nt,Ot=ut;if(ot){Et||(Et=ot.width),Ot||(Ot=ot.height);var B=!(0,c.Z)(et)&&_t>0;L(J,V,B);try{var X=J.ownerDocument.defaultView.getContextService().getDomElement(),pt=X.width,Mt=X.height,bt=V.getTransform(),Rt=bt.a,It=bt.b,st=bt.c,Q=bt.d,ct=bt.e,ht=bt.f,ft=s.fromValues(Rt,st,0,0,It,Q,0,0,0,0,1,0,ct,ht,0,1),gt=j([lt,G,Et,Ot],ft),yt=U([0,0,pt,Mt],gt);if(!yt)return;if(!J.ownerDocument.defaultView.getConfig().enableLargeImageOptimization){H.renderFull(V,$,J,{image:ot,drawRect:[lt,G,Et,Ot]});return}var Tt=gt[2]/mt.size[0];if(Tt<(mt.downSamplingRate||.5)){this.renderDownSampled(V,$,J,{src:dt,imageCache:mt,drawRect:[lt,G,Et,Ot]});return}if(!E.Z.isSupportTile){H.renderFull(V,$,J,{image:ot,drawRect:[lt,G,Et,Ot]});return}this.renderTile(V,$,J,{src:dt,imageCache:mt,imageRect:gt,drawRect:yt})}catch(Dt){}}}},{key:"drawToContext",value:function(V,$,J,rt,lt){this.render(V,$.parsedStyle,$)}}],[{key:"renderFull",value:function(V,$,J,rt){V.drawImage(rt.image,Math.floor(rt.drawRect[0]),Math.floor(rt.drawRect[1]),Math.ceil(rt.drawRect[2]),Math.ceil(rt.drawRect[3]))}}])}(x),W=function(z){function H(){return(0,y.Z)(this,H),(0,m.Z)(this,H,arguments)}return(0,f.Z)(H,z),(0,C.Z)(H,[{key:"render",value:function(V,$,J,rt,lt,tt){J.getBounds();var G=$.lineWidth,nt=G===void 0?1:G,ut=$.textAlign,dt=ut===void 0?"start":ut,et=$.textBaseline,_t=et===void 0?"alphabetic":et,mt=$.lineJoin,ot=mt===void 0?"miter":mt,Et=$.miterLimit,Ot=Et===void 0?10:Et,B=$.letterSpacing,X=B===void 0?0:B,pt=$.stroke,Mt=$.fill,bt=$.fillRule,Rt=$.fillOpacity,It=Rt===void 0?1:Rt,st=$.strokeOpacity,Q=st===void 0?1:st,ct=$.opacity,ht=ct===void 0?1:ct,ft=$.metrics,gt=$.x,yt=gt===void 0?0:gt,Tt=$.y,Dt=Tt===void 0?0:Tt,Ct=$.dx,At=$.dy,Ut=$.shadowColor,St=$.shadowBlur,zt=ft.font,Zt=ft.lines,Vt=ft.height,Qt=ft.lineHeight,re=ft.lineMetrics;V.font=zt,V.lineWidth=nt,V.textAlign=dt==="middle"?"center":dt;var ee=_t;ee==="alphabetic"&&(ee="bottom"),V.lineJoin=ot,(0,c.Z)(Ot)||(V.miterLimit=Ot);var Ht=Dt;_t==="middle"?Ht+=-Vt/2-Qt/2:_t==="bottom"||_t==="alphabetic"||_t==="ideographic"?Ht+=-Vt:(_t==="top"||_t==="hanging")&&(Ht+=-Qt);var he=yt+(Ct||0);Ht+=At||0,Zt.length===1&&(ee==="bottom"?(ee="middle",Ht-=.5*Vt):ee==="top"&&(ee="middle",Ht+=.5*Vt)),V.textBaseline=ee;var ie=!(0,c.Z)(Ut)&&St>0;L(J,V,ie);for(var _e=0;_e<Zt.length;_e++){var ce=nt/2+he;Ht+=Qt,!(0,c.Z)(pt)&&!pt.isNone&&nt&&this.drawLetterSpacing(V,J,Zt[_e],re[_e],dt,ce,Ht,X,Mt,bt,It,pt,Q,ht,!0,rt,lt,tt),(0,c.Z)(Mt)||this.drawLetterSpacing(V,J,Zt[_e],re[_e],dt,ce,Ht,X,Mt,bt,It,pt,Q,ht,!1,rt,lt,tt)}}},{key:"drawLetterSpacing",value:function(V,$,J,rt,lt,tt,G,nt,ut,dt,et,_t,mt,ot,Et,Ot,B,X){if(nt===0){Et?this.strokeText(V,$,J,tt,G,_t,mt,Ot,B,X):this.fillText(V,$,J,tt,G,ut,dt,et,ot,Ot,B,X);return}var pt=V.textAlign;V.textAlign="left";var Mt=tt;lt==="center"||lt==="middle"?Mt=tt-rt.width/2:(lt==="right"||lt==="end")&&(Mt=tt-rt.width);for(var bt=Array.from(J),Rt=V.measureText(J).width,It=0,st=0;st<bt.length;++st){var Q=bt[st];Et?this.strokeText(V,$,Q,Mt,G,_t,mt,Ot,B,X):this.fillText(V,$,Q,Mt,G,ut,dt,et,ot,Ot,B,X),It=V.measureText(J.substring(st+1)).width,Mt+=Rt-It+nt,Rt=It}V.textAlign=pt}},{key:"fillText",value:function(V,$,J,rt,lt,tt,G,nt,ut,dt,et,_t){S(V,$,tt,G,dt,et,_t,this.imagePool,!0);var mt,ot=!(0,c.Z)(nt)&&nt!==1;ot&&(mt=V.globalAlpha,V.globalAlpha=nt*ut),V.fillText(J,rt,lt),ot&&(V.globalAlpha=mt)}},{key:"strokeText",value:function(V,$,J,rt,lt,tt,G,nt,ut,dt){K(V,$,tt,nt,ut,dt,this.imagePool,!0);var et,_t=!(0,c.Z)(G)&&G!==1;_t&&(et=V.globalAlpha,V.globalAlpha=G),V.strokeText(J,rt,lt),_t&&(V.globalAlpha=et)}},{key:"drawToContext",value:function(V,$,J,rt,lt){this.render(V,$.parsedStyle,$,$.ownerDocument.defaultView.context,rt,lt)}}])}(x),w=function(z){function H(){var Y,V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,y.Z)(this,H),Y=(0,m.Z)(this,H),Y.name="canvas-renderer",Y.options=V,Y}return(0,f.Z)(H,z),(0,C.Z)(H,[{key:"init",value:function(){var V,$=(0,T.Z)({dirtyObjectNumThreshold:500,dirtyObjectRatioThreshold:.8},this.options),J=this.context.imagePool,rt=new x(J),lt=(V={},(0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)(V,h.bn.CIRCLE,rt),h.bn.ELLIPSE,rt),h.bn.RECT,rt),h.bn.IMAGE,new F(J)),h.bn.TEXT,new W(J)),h.bn.LINE,rt),h.bn.POLYLINE,rt),h.bn.POLYGON,rt),h.bn.PATH,rt),h.bn.GROUP,void 0),(0,d.Z)((0,d.Z)((0,d.Z)(V,h.bn.HTML,void 0),h.bn.MESH,void 0),h.bn.FRAGMENT,void 0));this.context.defaultStyleRendererFactory=lt,this.context.styleRendererFactory=lt,this.addRenderingPlugin(new e($))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins(),delete this.context.defaultStyleRendererFactory,delete this.context.styleRendererFactory}}])}(h.F6)},49832:function(at,N,t){"use strict";t.d(N,{S:function(){return h}});var d=t(76132),T=t(99190),y=t(87974),C=t(61912),m=t(46911);var f=function(){function v(){(0,d.Z)(this,v)}return(0,T.Z)(v,[{key:"apply",value:function(r,a){var s=this,u=r.renderingService,c=r.renderingContext,E=r.config;this.context=r;var p=c.root.ownerDocument.defaultView,e=function(F){u.hooks.pointerMove.call(F)},i=function(F){u.hooks.pointerUp.call(F)},n=function(F){u.hooks.pointerDown.call(F)},l=function(F){u.hooks.pointerOver.call(F)},M=function(F){u.hooks.pointerOut.call(F)},O=function(F){u.hooks.pointerCancel.call(F)},D=function(F){u.hooks.pointerWheel.call(F)},P=function(F){u.hooks.click.call(F)},b=function(F){a.globalThis.document.addEventListener("pointermove",e,!0),F.addEventListener("pointerdown",n,!0),F.addEventListener("pointerleave",M,!0),F.addEventListener("pointerover",l,!0),a.globalThis.addEventListener("pointerup",i,!0),a.globalThis.addEventListener("pointercancel",O,!0)},x=function(F){F.addEventListener("touchstart",n,!0),F.addEventListener("touchend",i,!0),F.addEventListener("touchmove",e,!0),F.addEventListener("touchcancel",O,!0)},L=function(F){a.globalThis.document.addEventListener("mousemove",e,!0),F.addEventListener("mousedown",n,!0),F.addEventListener("mouseout",M,!0),F.addEventListener("mouseover",l,!0),a.globalThis.addEventListener("mouseup",i,!0)},S=function(F){a.globalThis.document.removeEventListener("pointermove",e,!0),F.removeEventListener("pointerdown",n,!0),F.removeEventListener("pointerleave",M,!0),F.removeEventListener("pointerover",l,!0),a.globalThis.removeEventListener("pointerup",i,!0),a.globalThis.removeEventListener("pointercancel",O,!0)},K=function(F){F.removeEventListener("touchstart",n,!0),F.removeEventListener("touchend",i,!0),F.removeEventListener("touchmove",e,!0),F.removeEventListener("touchcancel",O,!0)},U=function(F){a.globalThis.document.removeEventListener("mousemove",e,!0),F.removeEventListener("mousedown",n,!0),F.removeEventListener("mouseout",M,!0),F.removeEventListener("mouseover",l,!0),a.globalThis.removeEventListener("mouseup",i,!0)};u.hooks.init.tap(v.tag,function(){var j=s.context.contextService.getDomElement();a.globalThis.navigator.msPointerEnabled?(j.style.msContentZooming="none",j.style.msTouchAction="none"):p.supportsPointerEvents&&(j.style.touchAction="none"),p.supportsPointerEvents?b(j):L(j),p.supportsTouchEvents&&x(j),E.useNativeClickEvent&&j.addEventListener("click",P,!0),j.addEventListener("wheel",D,{passive:!0,capture:!0})}),u.hooks.destroy.tap(v.tag,function(){var j=s.context.contextService.getDomElement();a.globalThis.navigator.msPointerEnabled?(j.style.msContentZooming="",j.style.msTouchAction=""):p.supportsPointerEvents&&(j.style.touchAction=""),p.supportsPointerEvents?S(j):U(j),p.supportsTouchEvents&&K(j),E.useNativeClickEvent&&j.removeEventListener("click",P,!0),j.removeEventListener("wheel",D,!0)})}}])}();f.tag="DOMInteraction";var h=function(v){function o(){var r;(0,d.Z)(this,o);for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];return r=(0,y.Z)(this,o,[].concat(s)),r.name="dom-interaction",r}return(0,C.Z)(o,v),(0,T.Z)(o,[{key:"init",value:function(){this.addRenderingPlugin(new f)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(m.F6)},15403:function(at,N,t){"use strict";t.d(N,{S:function(){return a}});var d=t(59942),T=t(76132),y=t(99190),C=t(87974),m=t(61912),f=t(46911),h=t(94882),v=t(7556),o=t(35476);var r=function(){function s(u){(0,T.Z)(this,s),this.dragndropPluginOptions=u}return(0,y.Z)(s,[{key:"apply",value:function(c){var E=this,p=c.renderingService,e=c.renderingContext,i=e.root.ownerDocument,n=i.defaultView,l=function(O){var D=O.target,P=D===i,b=P&&E.dragndropPluginOptions.isDocumentDraggable?i:D.closest&&D.closest("[draggable=true]");if(b){var x=!1,L=O.timeStamp,S=[O.clientX,O.clientY],K=null,U=[O.clientX,O.clientY],j=function(){var W=(0,v.Z)((0,h.Z)().mark(function w(z){var H,Y,V,$,J,rt;return(0,h.Z)().wrap(function(lt){for(;;)switch(lt.prev=lt.next){case 0:if(x){lt.next=2;break}if(H=z.timeStamp-L,Y=(0,o.y)([z.clientX,z.clientY],S),!(H<=E.dragndropPluginOptions.dragstartTimeThreshold||Y<=E.dragndropPluginOptions.dragstartDistanceThreshold)){lt.next=1;break}return lt.abrupt("return");case 1:z.type="dragstart",b.dispatchEvent(z),x=!0;case 2:if(z.type="drag",z.dx=z.clientX-U[0],z.dy=z.clientY-U[1],b.dispatchEvent(z),U=[z.clientX,z.clientY],P){lt.next=4;break}return V=E.dragndropPluginOptions.overlap==="pointer"?[z.canvasX,z.canvasY]:D.getBounds().center,lt.next=3,i.elementsFromPoint(V[0],V[1]);case 3:$=lt.sent,J=$[$.indexOf(D)+1],rt=(J==null?void 0:J.closest("[droppable=true]"))||(E.dragndropPluginOptions.isDocumentDroppable?i:null),K!==rt&&(K&&(z.type="dragleave",z.target=K,K.dispatchEvent(z)),rt&&(z.type="dragenter",z.target=rt,rt.dispatchEvent(z)),K=rt,K&&(z.type="dragover",z.target=K,K.dispatchEvent(z)));case 4:case"end":return lt.stop()}},w)}));return function(z){return W.apply(this,arguments)}}();n.addEventListener("pointermove",j);var F=function(w){if(x){w.detail={preventClick:!0};var z=w.clone();K&&(z.type="drop",z.target=K,K.dispatchEvent(z)),z.type="dragend",b.dispatchEvent(z),x=!1}n.removeEventListener("pointermove",j)};D.addEventListener("pointerup",F,{once:!0}),D.addEventListener("pointerupoutside",F,{once:!0})}};p.hooks.init.tap(s.tag,function(){n.addEventListener("pointerdown",l)}),p.hooks.destroy.tap(s.tag,function(){n.removeEventListener("pointerdown",l)})}}])}();r.tag="Dragndrop";var a=function(s){function u(){var c,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,T.Z)(this,u),c=(0,C.Z)(this,u),c.name="dragndrop",c.options=E,c}return(0,m.Z)(u,s),(0,y.Z)(u,[{key:"init",value:function(){this.addRenderingPlugin(new r((0,d.Z)({overlap:"pointer",isDocumentDraggable:!1,isDocumentDroppable:!1,dragstartDistanceThreshold:0,dragstartTimeThreshold:0},this.options)))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}},{key:"setOptions",value:function(E){Object.assign(this.plugins[0].dragndropPluginOptions,E)}}])}(f.F6)},48745:function(at,N,t){"use strict";t.d(N,{S:function(){return a}});var d=t(76132),T=t(99190),y=t(87974),C=t(61912),m=t(46911),f=t(27412),h=t(26912),v=t(89148);var o="g-canvas-camera",r=function(){function s(){(0,d.Z)(this,s),this.displayObjectHTMLElementMap=new WeakMap}return(0,T.Z)(s,[{key:"joinTransformMatrix",value:function(c){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0];return"matrix(".concat([c[0],c[1],c[4],c[5],c[12]+E[0],c[13]+E[1]].join(","),")")}},{key:"apply",value:function(c,E){var p=this,e=c.camera,i=c.renderingContext,n=c.renderingService;this.context=c;var l=i.root.ownerDocument.defaultView,M=l.context.eventService.nativeHTMLMap,O=function(K,U){U.style.transform=p.joinTransformMatrix(K.getWorldTransform(),K.getOrigin())},D=function(K){var U=K.target;if(U.nodeName===m.bn.HTML){p.$camera||(p.$camera=p.createCamera(e));var j=p.getOrCreateEl(U);p.$camera.appendChild(j),Object.keys(U.attributes).forEach(function(F){p.updateAttribute(F,U)}),O(U,j),M.set(j,U)}},P=function(K){var U=K.target;if(U.nodeName===m.bn.HTML&&p.$camera){var j=p.getOrCreateEl(U);j&&(j.remove(),M.delete(j))}},b=function(K){var U=K.target;if(U.nodeName===m.bn.HTML){var j=K.attrName;p.updateAttribute(j,U)}},x=function(K){var U=K.target,j=U.nodeName===m.bn.FRAGMENT?U.childNodes:[U];j.forEach(function(F){if(F.nodeName===m.bn.HTML){var W=p.getOrCreateEl(F);O(F,W)}})},L=function(){if(p.$camera){var K=p.context.config,U=K.width,j=K.height;p.$camera.parentElement.style.width="".concat(U||0,"px"),p.$camera.parentElement.style.height="".concat(j||0,"px")}};n.hooks.init.tap(s.tag,function(){l.addEventListener(m.$6.RESIZE,L),l.addEventListener(m.Dk.MOUNTED,D),l.addEventListener(m.Dk.UNMOUNTED,P),l.addEventListener(m.Dk.ATTR_MODIFIED,b),l.addEventListener(m.Dk.BOUNDS_CHANGED,x)}),n.hooks.endFrame.tap(s.tag,function(){p.$camera&&i.renderReasons.has(m.Rr.CAMERA_CHANGED)&&(p.$camera.style.transform=p.joinTransformMatrix(e.getOrthoMatrix()))}),n.hooks.destroy.tap(s.tag,function(){p.$camera&&p.$camera.remove(),l.removeEventListener(m.$6.RESIZE,L),l.removeEventListener(m.Dk.MOUNTED,D),l.removeEventListener(m.Dk.UNMOUNTED,P),l.removeEventListener(m.Dk.ATTR_MODIFIED,b),l.removeEventListener(m.Dk.BOUNDS_CHANGED,x)})}},{key:"createCamera",value:function(c){var E=this.context.config,p=E.document,e=E.width,i=E.height,n=this.context.contextService.getDomElement(),l=n.parentNode;if(l){var M=o,O=l.querySelector("#".concat(M));if(!O){var D=(p||document).createElement("div");D.style.overflow="hidden",D.style.pointerEvents="none",D.style.position="absolute",D.style.left="0px",D.style.top="0px",D.style.width="".concat(e||0,"px"),D.style.height="".concat(i||0,"px");var P=(p||document).createElement("div");O=P,P.id=M,P.style.position="absolute",P.style.left="".concat(n.offsetLeft||0,"px"),P.style.top="".concat(n.offsetTop||0,"px"),P.style.transformOrigin="left top",P.style.transform=this.joinTransformMatrix(c.getOrthoMatrix()),P.style.pointerEvents="none",P.style.width="100%",P.style.height="100%",D.appendChild(P),l.appendChild(D)}return O}return null}},{key:"getOrCreateEl",value:function(c){var E=this.context.config.document,p=this.displayObjectHTMLElementMap.get(c);return p||(p=(E||document).createElement("div"),c.parsedStyle.$el=p,this.displayObjectHTMLElementMap.set(c,p),c.id&&(p.id=c.id),c.name&&p.setAttribute("name",c.name),c.className&&(p.className=c.className),p.style.position="absolute",p.style["will-change"]="transform",p.style.transform=this.joinTransformMatrix(c.getWorldTransform(),c.getOrigin())),p}},{key:"updateAttribute",value:function(c,E){var p=this.getOrCreateEl(E);switch(c){case"innerHTML":var e=E.parsedStyle.innerHTML;(0,f.Z)(e)?p.innerHTML=e:(p.innerHTML="",p.appendChild(e));break;case"x":p.style.left="".concat(E.parsedStyle.x,"px");break;case"y":p.style.top="".concat(E.parsedStyle.y,"px");break;case"transformOrigin":var i=E.parsedStyle.transformOrigin;p.style["transform-origin"]="".concat(i[0].buildCSSText(null,null,"")," ").concat(i[1].buildCSSText(null,null,""));break;case"width":var n=E.parsedStyle.width;p.style.width=(0,h.Z)(n)?"".concat(n,"px"):n.toString();break;case"height":var l=E.parsedStyle.height;p.style.height=(0,h.Z)(l)?"".concat(l,"px"):l.toString();break;case"zIndex":var M=E.parsedStyle.zIndex;p.style["z-index"]="".concat(M);break;case"visibility":var O=E.parsedStyle.visibility;p.style.visibility=O;break;case"pointerEvents":var D=E.parsedStyle.pointerEvents,P=D===void 0?"auto":D;p.style.pointerEvents=P;break;case"opacity":var b=E.parsedStyle.opacity;p.style.opacity="".concat(b);break;case"fill":var x=E.parsedStyle.fill,L="";(0,m.qA)(x)?x.isNone?L="transparent":L=E.getAttribute("fill"):Array.isArray(x)?L=E.getAttribute("fill"):(0,m.R)(x),p.style.background=L;break;case"stroke":var S=E.parsedStyle.stroke,K="";(0,m.qA)(S)?S.isNone?K="transparent":K=E.getAttribute("stroke"):Array.isArray(S)?K=E.getAttribute("stroke"):(0,m.R)(S),p.style["border-color"]=K,p.style["border-style"]="solid";break;case"lineWidth":var U=E.parsedStyle.lineWidth;p.style["border-width"]="".concat(U||0,"px");break;case"lineDash":p.style["border-style"]="dashed";break;case"filter":var j=E.style.filter;p.style.filter=j;break;default:!(0,v.Z)(E.style[c])&&E.style[c]!==""&&(p.style[c]=E.style[c])}}}])}();r.tag="HTMLRendering";var a=function(s){function u(){var c;(0,d.Z)(this,u);for(var E=arguments.length,p=new Array(E),e=0;e<E;e++)p[e]=arguments[e];return c=(0,y.Z)(this,u,[].concat(p)),c.name="html-renderer",c}return(0,C.Z)(u,s),(0,T.Z)(u,[{key:"init",value:function(){this.addRenderingPlugin(new r)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(m.F6)},46689:function(at,N,t){"use strict";t.d(N,{S:function(){return l},Z:function(){return e}});var d=t(76132),T=t(99190),y=t(87974),C=t(61912),m=t(46911),f=t(94882),h=t(59942),v=t(8818),o=t(7556),r=t(27412),a=t(14690);var s=function(){function M(){(0,d.Z)(this,M),this.cacheStore=new Map}return(0,T.Z)(M,[{key:"onRefAdded",value:function(D){}},{key:"has",value:function(D){return this.cacheStore.has(D)}},{key:"put",value:function(D,P,b){return this.cacheStore.has(D)?!1:(this.cacheStore.set(D,{value:P,counter:new Set([b.entity])}),this.onRefAdded(b),!0)}},{key:"get",value:function(D,P){var b=this.cacheStore.get(D);return b?(b.counter.has(P.entity)||(b.counter.add(P.entity),this.onRefAdded(P)),b.value):null}},{key:"update",value:function(D,P,b){var x=this.cacheStore.get(D);return x?(x.value=(0,h.Z)((0,h.Z)({},x.value),P),x.counter.has(b.entity)||(x.counter.add(b.entity),this.onRefAdded(b)),!0):!1}},{key:"release",value:function(D,P){var b=this.cacheStore.get(D);return b?(b.counter.delete(P.entity),b.counter.size<=0&&this.cacheStore.delete(D),!0):!1}},{key:"releaseRef",value:function(D){var P=this;Array.from(this.cacheStore.keys()).forEach(function(b){P.release(b,D)})}},{key:"getSize",value:function(){return this.cacheStore.size}},{key:"clear",value:function(){this.cacheStore.clear()}}])}(),u=[],c=[],E=function(){function M(){(0,d.Z)(this,M)}return(0,T.Z)(M,null,[{key:"stop",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:M.api;M.rafId&&(D.cancelAnimationFrame(M.rafId),M.rafId=null)}},{key:"executeTask",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:M.api;u.length<=0&&c.length<=0||(c.forEach(function(P){return P()}),c=u.splice(0,M.TASK_NUM_PER_FRAME),M.rafId=D.requestAnimationFrame(function(){M.executeTask(D)}))}},{key:"sliceImage",value:function(D,P,b,x){for(var L=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,S=arguments.length>5&&arguments[5]!==void 0?arguments[5]:M.api,K=D.naturalWidth||D.width,U=D.naturalHeight||D.height,j=P-L,F=b-L,W=Math.ceil(K/j),w=Math.ceil(U/F),z={tileSize:[P,b],gridSize:[w,W],tiles:Array(w).fill(null).map(function(){return Array(W).fill(null)})},H=function($){for(var J=function(tt){u.push(function(){var G=tt*j,nt=$*F,ut=[Math.min(P,K-G),Math.min(b,U-nt)],dt=ut[0],et=ut[1],_t=S.createCanvas();_t.width=P,_t.height=b;var mt=_t.getContext("2d");mt.drawImage(D,G,nt,dt,et,0,0,dt,et),z.tiles[$][tt]={x:G,y:nt,tileX:tt,tileY:$,data:_t},x()})},rt=0;rt<W;rt++)J(rt)},Y=0;Y<w;Y++)H(Y);return M.stop(),M.executeTask(),z}}])}();E.TASK_NUM_PER_FRAME=10;var p=new s;p.onRefAdded=function(O){var D=this;O.addEventListener(m.Dk.DESTROY,function(){D.releaseRef(O)},{once:!0})};var e=function(){function M(O,D){(0,d.Z)(this,M),this.gradientCache={},this.patternCache={},this.context=O,this.runtime=D}return(0,T.Z)(M,[{key:"getImageSync",value:function(D,P,b){var x=(0,r.Z)(D)?D:D.src;if(p.has(x)){var L=p.get(x,P);if(L.img.complete)return b==null||b(L),L}return this.getOrCreateImage(D,P).then(function(S){b==null||b(S)}).catch(function(S){console.error(S)}),null}},{key:"getOrCreateImage",value:function(D,P){var b=this,x=(0,r.Z)(D)?D:D.src;if(!(0,r.Z)(D)&&!p.has(x)){var L={img:D,size:[D.naturalWidth||D.width,D.naturalHeight||D.height],tileSize:i(D)};p.put(x,L,P)}if(p.has(x)){var S=p.get(x,P);return S.img.complete?Promise.resolve(S):new Promise(function(K,U){S.img.addEventListener("load",function(){S.size=[S.img.naturalWidth||S.img.width,S.img.naturalHeight||S.img.height],S.tileSize=i(S.img),K(S)}),S.img.addEventListener("error",function(j){U(j)})})}return new Promise(function(K,U){var j=b.context.config.createImage();if(j){var F={img:j,size:[0,0],tileSize:i(j)};p.put(x,F,P),j.onload=function(){F.size=[j.naturalWidth||j.width,j.naturalHeight||j.height],F.tileSize=i(F.img),K(F)},j.onerror=function(W){U(W)},j.crossOrigin="Anonymous",j.src=x}})}},{key:"createDownSampledImage",value:function(){var O=(0,o.Z)((0,f.Z)().mark(function P(b,x){var L,S,K,U,j,F,W,w,z,H,Y,V,$,J;return(0,f.Z)().wrap(function(rt){for(;;)switch(rt.prev=rt.next){case 0:return rt.next=1,this.getOrCreateImage(b,x);case 1:if(L=rt.sent,typeof L.downSamplingRate=="undefined"){rt.next=2;break}return rt.abrupt("return",L);case 2:if(S=this.context.config.enableLargeImageOptimization,K=typeof S=="boolean"?{}:S,U=K.maxDownSampledImageSize,j=U===void 0?2048:U,F=K.downSamplingRateThreshold,W=F===void 0?.5:F,w=this.runtime.globalThis.createImageBitmap,z=(0,v.Z)(L.size,2),H=z[0],Y=z[1],V=L.img,$=Math.min((j+j)/(H+Y),Math.max(.01,Math.min(W,.5))),J=(0,h.Z)((0,h.Z)({},L),{},{downSamplingRate:$}),p.update(L.img.src,J,x),!w){rt.next=7;break}return rt.prev=3,rt.next=4,w(L.img,{resizeWidth:H*$,resizeHeight:Y*$});case 4:V=rt.sent,rt.next=6;break;case 5:rt.prev=5,rt.catch(3),$=1;case 6:rt.next=8;break;case 7:$=1;case 8:return J=(0,h.Z)((0,h.Z)({},this.getImageSync(b,x)),{},{downSampled:V,downSamplingRate:$}),p.update(L.img.src,J,x),rt.abrupt("return",J);case 9:case"end":return rt.stop()}},P,this,[[3,5]])}));function D(P,b){return O.apply(this,arguments)}return D}()},{key:"createImageTiles",value:function(){var O=(0,o.Z)((0,f.Z)().mark(function P(b,x,L,S){var K,U,j,F,W;return(0,f.Z)().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=1,this.getOrCreateImage(b,S);case 1:return K=w.sent,U=S.ownerDocument.defaultView,j=U.requestAnimationFrame,F=U.cancelAnimationFrame,E.api={requestAnimationFrame:j,cancelAnimationFrame:F,createCanvas:function(){return m.jB.createCanvas()}},W=(0,h.Z)((0,h.Z)({},K),E.sliceImage(K.img,K.tileSize[0],K.tileSize[0],L)),p.update(K.img.src,W,S),w.abrupt("return",W);case 2:case"end":return w.stop()}},P,this)}));function D(P,b,x,L){return O.apply(this,arguments)}return D}()},{key:"releaseImage",value:function(D,P){p.release((0,r.Z)(D)?D:D.src,P)}},{key:"releaseImageRef",value:function(D){p.releaseRef(D)}},{key:"getOrCreatePatternSync",value:function(D,P,b,x,L,S,K){var U=this.generatePatternKey(P);if(U&&this.patternCache[U])return this.patternCache[U];var j=P.image,F=P.repetition,W=P.transform,w,z=!1;if((0,r.Z)(j)){var H=this.getImageSync(j,D,K);w=H==null?void 0:H.img}else x?(w=x,z=!0):w=j;var Y=w&&b.createPattern(w,F);if(Y){var V;W?V=(0,m.G0)((0,m.G$)(W),new m.s$({})):V=a.identity(a.create()),z&&a.scale(V,V,[1/L,1/L,1]),Y.setTransform({a:V[0],b:V[1],c:V[4],d:V[5],e:V[12]+S[0],f:V[13]+S[1]})}return U&&Y&&(this.patternCache[U]=Y),Y}},{key:"getOrCreateGradient",value:function(D,P){var b=this.generateGradientKey(D),x=D.type,L=D.steps,S=D.min,K=D.width,U=D.height,j=D.angle,F=D.cx,W=D.cy,w=D.size;if(this.gradientCache[b])return this.gradientCache[b];var z=null;if(x===m.GL.LinearGradient){var H=(0,m.Rx)(S,K,U,j),Y=H.x1,V=H.y1,$=H.x2,J=H.y2;z=P.createLinearGradient(Y,V,$,J)}else if(x===m.GL.RadialGradient){var rt=(0,m.o6)(S,K,U,F,W,w),lt=rt.x,tt=rt.y,G=rt.r;z=P.createRadialGradient(lt,tt,0,lt,tt,G)}return z&&(L.forEach(function(nt){var ut=nt.offset,dt=nt.color;if(ut.unit===m.Cm.kPercentage){var et;(et=z)===null||et===void 0||et.addColorStop(ut.value/100,dt.toString())}}),this.gradientCache[b]=z),this.gradientCache[b]}},{key:"generateGradientKey",value:function(D){var P=D.type,b=D.min,x=D.width,L=D.height,S=D.steps,K=D.angle,U=D.cx,j=D.cy,F=D.size;return"gradient-".concat(P,"-").concat((K==null?void 0:K.toString())||0,"-").concat((U==null?void 0:U.toString())||0,"-").concat((j==null?void 0:j.toString())||0,"-").concat((F==null?void 0:F.toString())||0,"-").concat(b[0],"-").concat(b[1],"-").concat(x,"-").concat(L,"-").concat(S.map(function(W){var w=W.offset,z=W.color;return"".concat(w).concat(z)}).join("-"))}},{key:"generatePatternKey",value:function(D){var P=D.image,b=D.repetition;if((0,r.Z)(P))return"pattern-".concat(P,"-").concat(b);if(P.nodeName==="rect")return"pattern-".concat(P.entity,"-").concat(b)}}])}();e.isSupportTile=!!m.jB.createCanvas();function i(M){if(!M.complete)return[0,0];var O=M.naturalWidth||M.width,D=M.naturalHeight||M.height,P=256;return[256,512].forEach(function(b){var x=Math.ceil(D/b),L=Math.ceil(O/b);x*L<1e3&&(P=b)}),[P,P]}var n=function(){function M(){(0,d.Z)(this,M)}return(0,T.Z)(M,[{key:"apply",value:function(D){var P=D.renderingService,b=D.renderingContext,x=D.imagePool,L=b.root.ownerDocument.defaultView,S=function(F,W,w){var z=F.parsedStyle,H=z.width,Y=z.height;H&&!Y?F.setAttribute("height",w/W*H):!H&&Y&&F.setAttribute("width",W/w*Y)},K=function(F){var W=F.target,w=W.nodeName,z=W.attributes;if(w===m.bn.IMAGE){var H=z.src,Y=z.keepAspectRatio;x.getImageSync(H,W,function(V){var $=V.img,J=$.width,rt=$.height;Y&&S(W,J,rt),W.renderable.dirty=!0,P.dirtify()})}},U=function(F){var W=F.target,w=F.attrName,z=F.prevValue,H=F.newValue;W.nodeName!==m.bn.IMAGE||w!=="src"||(z!==H&&x.releaseImage(z,W),(0,r.Z)(H)&&x.getOrCreateImage(H,W).then(function(Y){var V=Y.img,$=V.width,J=V.height;W.attributes.keepAspectRatio&&S(W,$,J),W.renderable.dirty=!0,P.dirtify()}).catch(function(){}))};P.hooks.init.tap(M.tag,function(){L.addEventListener(m.Dk.MOUNTED,K),L.addEventListener(m.Dk.ATTR_MODIFIED,U)}),P.hooks.destroy.tap(M.tag,function(){L.removeEventListener(m.Dk.MOUNTED,K),L.removeEventListener(m.Dk.ATTR_MODIFIED,U)})}}])}();n.tag="LoadImage";var l=function(M){function O(){var D;(0,d.Z)(this,O);for(var P=arguments.length,b=new Array(P),x=0;x<P;x++)b[x]=arguments[x];return D=(0,y.Z)(this,O,[].concat(b)),D.name="image-loader",D}return(0,C.Z)(O,M),(0,T.Z)(O,[{key:"init",value:function(P){this.context.imagePool=new e(this.context,P),this.addRenderingPlugin(new n)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(m.F6)},28351:function(at,N,t){"use strict";var d=t(46911),T=t(76132),y=t(99190),C=t(87974),m=t(61912),f=t(87948),h=t(8818),v=t(15378),o=t(26912),r=t(89148);var a=function(Ft){function Bt(Lt,wt,qt,ae){var oe;return(0,T.Z)(this,Bt),oe=(0,C.Z)(this,Bt,[Lt]),oe.currentTime=qt,oe.timelineTime=ae,oe.target=wt,oe.type="finish",oe.bubbles=!1,oe.currentTarget=wt,oe.defaultPrevented=!1,oe.eventPhase=oe.AT_TARGET,oe.timeStamp=Date.now(),oe.currentTime=qt,oe.timelineTime=ae,oe}return(0,m.Z)(Bt,Ft),(0,y.Z)(Bt)}(d.xA),s=0,u=function(){function Ft(Bt,Lt){var wt;(0,T.Z)(this,Ft),this.currentTimePending=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._playbackRate=1,this._inTimeline=!0,this.effect=Bt,Bt.animation=this,this.timeline=Lt,this.id="".concat(s++),this._inEffect=!!this.effect.update(0),this._totalDuration=Number((wt=this.effect)===null||wt===void 0?void 0:wt.getComputedTiming().endTime),this._holdTime=0,this._paused=!1,this.oldPlayState="idle",this.updatePromises()}return(0,y.Z)(Ft,[{key:"pending",get:function(){return this._startTime===null&&!this._paused&&this.playbackRate!==0||this.currentTimePending}},{key:"playState",get:function(){return this._idle?"idle":this._isFinished?"finished":this._paused?"paused":"running"}},{key:"ready",get:function(){var Lt=this;return this.readyPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.readyPromise=new Promise(function(wt,qt){Lt.resolveReadyPromise=function(){wt(Lt)},Lt.rejectReadyPromise=function(){qt(new Error)}}),this.pending||this.resolveReadyPromise()),this.readyPromise}},{key:"finished",get:function(){var Lt=this;return this.finishedPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.finishedPromise=new Promise(function(wt,qt){Lt.resolveFinishedPromise=function(){wt(Lt)},Lt.rejectFinishedPromise=function(){qt(new Error)}}),this.playState==="finished"&&this.resolveFinishedPromise()),this.finishedPromise}},{key:"currentTime",get:function(){return this.updatePromises(),this._idle||this.currentTimePending?null:this._currentTime},set:function(Lt){if(Lt=Number(Lt),!isNaN(Lt)){if(this.timeline.restart(),!this._paused&&this._startTime!==null){var wt;this._startTime=Number((wt=this.timeline)===null||wt===void 0?void 0:wt.currentTime)-Lt/this.playbackRate}this.currentTimePending=!1,this._currentTime!==Lt&&(this._idle&&(this._idle=!1,this._paused=!0),this.tickCurrentTime(Lt,!0),this.timeline.applyDirtiedAnimation(this))}}},{key:"startTime",get:function(){return this._startTime},set:function(Lt){if(Lt!==null){if(this.updatePromises(),Lt=Number(Lt),isNaN(Lt)||this._paused||this._idle)return;this._startTime=Lt,this.tickCurrentTime((Number(this.timeline.currentTime)-this._startTime)*this.playbackRate),this.timeline.applyDirtiedAnimation(this),this.updatePromises()}}},{key:"playbackRate",get:function(){return this._playbackRate},set:function(Lt){if(Lt!==this._playbackRate){this.updatePromises();var wt=this.currentTime;this._playbackRate=Lt,this.startTime=null,this.playState!=="paused"&&this.playState!=="idle"&&(this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this)),wt!==null&&(this.currentTime=wt),this.updatePromises()}}},{key:"_isFinished",get:function(){return!this._idle&&(this._playbackRate>0&&Number(this._currentTime)>=this._totalDuration||this._playbackRate<0&&Number(this._currentTime)<=0)}},{key:"totalDuration",get:function(){return this._totalDuration}},{key:"_needsTick",get:function(){return this.pending||this.playState==="running"||!this._finishedFlag}},{key:"updatePromises",value:function(){var Lt;if((Lt=this.effect.target)!==null&&Lt!==void 0&&Lt.destroyed)return this.readyPromise=void 0,this.finishedPromise=void 0,!1;var wt=this.oldPlayState,qt=this.pending?"pending":this.playState;return this.readyPromise&&qt!==wt&&(qt==="idle"?(this.rejectReadyPromise(),this.readyPromise=void 0):wt==="pending"?this.resolveReadyPromise():qt==="pending"&&(this.readyPromise=void 0)),this.finishedPromise&&qt!==wt&&(qt==="idle"?(this.rejectFinishedPromise(),this.finishedPromise=void 0):qt==="finished"?this.resolveFinishedPromise():wt==="finished"&&(this.finishedPromise=void 0)),this.oldPlayState=qt,this.readyPromise||this.finishedPromise}},{key:"play",value:function(){this.updatePromises(),this._paused=!1,(this._isFinished||this._idle)&&(this.rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this),this.timeline.animations.indexOf(this)===-1&&this.timeline.animations.push(this),this.updatePromises()}},{key:"pause",value:function(){this.updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),!this._isFinished&&!this._paused&&!this._idle?this.currentTimePending=!0:this._idle&&(this.rewind(),this._idle=!1),this._startTime=null,this._paused=!0,this.updatePromises()}},{key:"finish",value:function(){this.updatePromises(),!this._idle&&(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this.currentTimePending=!1,this.timeline.applyDirtiedAnimation(this),this.updatePromises())}},{key:"cancel",value:function(){var Lt=this;if(this.updatePromises(),!!this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this.effect.update(null),this.timeline.applyDirtiedAnimation(this),this.updatePromises(),this.oncancel)){var wt=new a(null,this,this.currentTime,null);setTimeout(function(){Lt.oncancel(wt)})}}},{key:"reverse",value:function(){this.updatePromises();var Lt=this.currentTime;this.playbackRate*=-1,this.play(),Lt!==null&&(this.currentTime=Lt),this.updatePromises()}},{key:"updatePlaybackRate",value:function(Lt){this.playbackRate=Lt}},{key:"targetAnimations",value:function(){var Lt,wt=(Lt=this.effect)===null||Lt===void 0?void 0:Lt.target;return wt.getAnimations()}},{key:"markTarget",value:function(){var Lt=this.targetAnimations();Lt.indexOf(this)===-1&&Lt.push(this)}},{key:"unmarkTarget",value:function(){var Lt=this.targetAnimations(),wt=Lt.indexOf(this);wt!==-1&&Lt.splice(wt,1)}},{key:"tick",value:function(Lt,wt){!this._idle&&!this._paused&&(this._startTime===null?wt&&(this.startTime=Lt-this._currentTime/this.playbackRate):this._isFinished||this.tickCurrentTime((Lt-this._startTime)*this.playbackRate)),wt&&(this.currentTimePending=!1,this.fireEvents(Lt))}},{key:"rewind",value:function(){if(this.playbackRate>=0)this.currentTime=0;else if(this._totalDuration<1/0)this.currentTime=this._totalDuration;else throw new Error("Unable to rewind negative playback rate animation with infinite duration")}},{key:"persist",value:function(){throw new Error(d.jf)}},{key:"addEventListener",value:function(Lt,wt,qt){throw new Error(d.jf)}},{key:"removeEventListener",value:function(Lt,wt,qt){throw new Error(d.jf)}},{key:"dispatchEvent",value:function(Lt){throw new Error(d.jf)}},{key:"commitStyles",value:function(){throw new Error(d.jf)}},{key:"ensureAlive",value:function(){if(this.playbackRate<0&&this.currentTime===0){var Lt;this._inEffect=!!((Lt=this.effect)!==null&&Lt!==void 0&&Lt.update(-1))}else{var wt;this._inEffect=!!((wt=this.effect)!==null&&wt!==void 0&&wt.update(this.currentTime))}!this._inTimeline&&(this._inEffect||!this._finishedFlag)&&(this._inTimeline=!0,this.timeline.animations.push(this))}},{key:"tickCurrentTime",value:function(Lt,wt){Lt!==this._currentTime&&(this._currentTime=Lt,this._isFinished&&!wt&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this.ensureAlive())}},{key:"fireEvents",value:function(Lt){var wt=this;if(this._isFinished){if(!this._finishedFlag){if(this.onfinish){var qt=new a(null,this,this.currentTime,Lt);setTimeout(function(){wt.onfinish&&wt.onfinish(qt)})}this._finishedFlag=!0}}else{if(this.onframe&&this.playState==="running"){var ae=new a(null,this,this.currentTime,Lt);this.onframe(ae)}this._finishedFlag=!1}}}])}(),c=4,E=.001,p=1e-7,e=10,i=11,n=1/(i-1),l=typeof Float32Array=="function",M=function(Bt,Lt){return 1-3*Lt+3*Bt},O=function(Bt,Lt){return 3*Lt-6*Bt},D=function(Bt){return 3*Bt},P=function(Bt,Lt,wt){return((M(Lt,wt)*Bt+O(Lt,wt))*Bt+D(Lt))*Bt},b=function(Bt,Lt,wt){return 3*M(Lt,wt)*Bt*Bt+2*O(Lt,wt)*Bt+D(Lt)},x=function(Bt,Lt,wt,qt,ae){var oe,Me,Oe=0;do Me=Lt+(wt-Lt)/2,oe=P(Me,qt,ae)-Bt,oe>0?wt=Me:Lt=Me;while(Math.abs(oe)>p&&++Oe<e);return Me},L=function(Bt,Lt,wt,qt){for(var ae=0;ae<c;++ae){var oe=b(Lt,wt,qt);if(oe===0)return Lt;var Me=P(Lt,wt,qt)-Bt;Lt-=Me/oe}return Lt},S=function(Bt,Lt,wt,qt){if(!(Bt>=0&&Bt<=1&&wt>=0&&wt<=1))throw new Error("bezier x values must be in [0, 1] range");if(Bt===Lt&&wt===qt)return function(Oe){return Oe};for(var ae=l?new Float32Array(i):new Array(i),oe=0;oe<i;++oe)ae[oe]=P(oe*n,Bt,wt);var Me=function(Ce){for(var Se=0,Le=1,We=i-1;Le!==We&&ae[Le]<=Ce;++Le)Se+=n;--Le;var Ye=(Ce-ae[Le])/(ae[Le+1]-ae[Le]),je=Se+Ye*n,tn=b(je,Bt,wt);return tn>=E?L(Ce,je,Bt,wt):tn===0?je:x(Ce,Se,Se+n,Bt,wt)};return function(Oe){return Oe===0||Oe===1?Oe:P(Me(Oe),Lt,qt)}},K=function(Bt){return Bt=Bt.replace(/([A-Z])/g,function(Lt){return"-".concat(Lt.toLowerCase())}),Bt.charAt(0)==="-"?Bt.substring(1):Bt},U=function(Bt){return Math.pow(Bt,2)},j=function(Bt){return Math.pow(Bt,3)},F=function(Bt){return Math.pow(Bt,4)},W=function(Bt){return Math.pow(Bt,5)},w=function(Bt){return Math.pow(Bt,6)},z=function(Bt){return 1-Math.cos(Bt*Math.PI/2)},H=function(Bt){return 1-Math.sqrt(1-Bt*Bt)},Y=function(Bt){return Bt*Bt*(3*Bt-2)},V=function(Bt){for(var Lt,wt=4;Bt<((Lt=Math.pow(2,--wt))-1)/11;);return 1/Math.pow(4,3-wt)-7.5625*Math.pow((Lt*3-2)/22-Bt,2)},$=function(Bt){var Lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],wt=(0,h.Z)(Lt,2),qt=wt[0],ae=qt===void 0?1:qt,oe=wt[1],Me=oe===void 0?.5:oe,Oe=(0,v.Z)(Number(ae),1,10),Ce=(0,v.Z)(Number(Me),.1,2);return Bt===0||Bt===1?Bt:-Oe*Math.pow(2,10*(Bt-1))*Math.sin((Bt-1-Ce/(Math.PI*2)*Math.asin(1/Oe))*(Math.PI*2)/Ce)},J=function(Bt){var Lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],wt=arguments.length>2?arguments[2]:void 0,qt=(0,h.Z)(Lt,4),ae=qt[0],oe=ae===void 0?1:ae,Me=qt[1],Oe=Me===void 0?100:Me,Ce=qt[2],Se=Ce===void 0?10:Ce,Le=qt[3],We=Le===void 0?0:Le;oe=(0,v.Z)(oe,.1,1e3),Oe=(0,v.Z)(Oe,.1,1e3),Se=(0,v.Z)(Se,.1,1e3),We=(0,v.Z)(We,.1,1e3);var Ye=Math.sqrt(Oe/oe),je=Se/(2*Math.sqrt(Oe*oe)),tn=je<1?Ye*Math.sqrt(1-je*je):0,on=1,ue=je<1?(je*Ye+-We)/tn:-We+Ye,rn=wt?wt*Bt/1e3:Bt;return je<1?rn=Math.exp(-rn*je*Ye)*(on*Math.cos(tn*rn)+ue*Math.sin(tn*rn)):rn=(on+ue*rn)*Math.exp(-rn*Ye),Bt===0||Bt===1?Bt:1-rn},rt=function(Bt){var Lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],wt=Lt,qt=(0,h.Z)(wt,2),ae=qt[0],oe=ae===void 0?10:ae,Me=qt[1],Oe=Me==="start"?Math.ceil:Math.floor;return Oe((0,v.Z)(Bt,0,1)*oe)/oe},lt=function(Bt){var Lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],wt=(0,h.Z)(Lt,4),qt=wt[0],ae=wt[1],oe=wt[2],Me=wt[3];return S(qt,ae,oe,Me)(Bt)},tt=S(.42,0,1,1),G=function(Bt){return function(Lt){var wt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],qt=arguments.length>2?arguments[2]:void 0;return 1-Bt(1-Lt,wt,qt)}},nt=function(Bt){return function(Lt){var wt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],qt=arguments.length>2?arguments[2]:void 0;return Lt<.5?Bt(Lt*2,wt,qt)/2:1-Bt(Lt*-2+2,wt,qt)/2}},ut=function(Bt){return function(Lt){var wt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],qt=arguments.length>2?arguments[2]:void 0;return Lt<.5?(1-Bt(1-Lt*2,wt,qt))/2:(Bt(Lt*2-1,wt,qt)+1)/2}},dt={steps:rt,"step-start":function(Bt){return rt(Bt,[1,"start"])},"step-end":function(Bt){return rt(Bt,[1,"end"])},linear:function(Bt){return Bt},"cubic-bezier":lt,ease:function(Bt){return lt(Bt,[.25,.1,.25,1])},in:tt,out:G(tt),"in-out":nt(tt),"out-in":ut(tt),"in-quad":U,"out-quad":G(U),"in-out-quad":nt(U),"out-in-quad":ut(U),"in-cubic":j,"out-cubic":G(j),"in-out-cubic":nt(j),"out-in-cubic":ut(j),"in-quart":F,"out-quart":G(F),"in-out-quart":nt(F),"out-in-quart":ut(F),"in-quint":W,"out-quint":G(W),"in-out-quint":nt(W),"out-in-quint":ut(W),"in-expo":w,"out-expo":G(w),"in-out-expo":nt(w),"out-in-expo":ut(w),"in-sine":z,"out-sine":G(z),"in-out-sine":nt(z),"out-in-sine":ut(z),"in-circ":H,"out-circ":G(H),"in-out-circ":nt(H),"out-in-circ":ut(H),"in-back":Y,"out-back":G(Y),"in-out-back":nt(Y),"out-in-back":ut(Y),"in-bounce":V,"out-bounce":G(V),"in-out-bounce":nt(V),"out-in-bounce":ut(V),"in-elastic":$,"out-elastic":G($),"in-out-elastic":nt($),"out-in-elastic":ut($),spring:J,"spring-in":J,"spring-out":G(J),"spring-in-out":nt(J),"spring-out-in":ut(J)},et=function(Bt){return K(Bt).replace(/^ease-/,"").replace(/(\(|\s).+/,"").toLowerCase().trim()},_t=function(Bt){return dt[et(Bt)]||dt.linear},mt=function(Bt){return Bt},ot=1,Et=.5,Ot=0;function B(Ft,Bt){return function(Lt){if(Lt>=1)return 1;var wt=1/Ft;return Lt+=Bt*wt,Lt-Lt%wt}}var X="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",pt=new RegExp("cubic-bezier\\(".concat(X,",").concat(X,",").concat(X,",").concat(X,"\\)")),Mt=/steps\(\s*(\d+)\s*\)/,bt=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/;function Rt(Ft){var Bt=pt.exec(Ft);if(Bt)return S.apply(void 0,(0,f.Z)(Bt.slice(1).map(Number)));var Lt=Mt.exec(Ft);if(Lt)return B(Number(Lt[1]),Ot);var wt=bt.exec(Ft);return wt?B(Number(wt[1]),{start:ot,middle:Et,end:Ot}[wt[2]]):_t(Ft)}function It(Ft){return Math.abs(st(Ft)/(Ft.playbackRate||1))}function st(Ft){var Bt;return Ft.duration===0||Ft.iterations===0?0:(Ft.duration==="auto"?0:Number(Ft.duration))*((Bt=Ft.iterations)!==null&&Bt!==void 0?Bt:1)}var Q=0,ct=1,ht=2,ft=3;function gt(Ft,Bt,Lt){if(Bt===null)return Q;var wt=Lt.endTime;return Bt<Math.min(Lt.delay,wt)?ct:Bt>=Math.min(Lt.delay+Ft+Lt.endDelay,wt)?ht:ft}function yt(Ft,Bt,Lt,wt,qt){switch(wt){case ct:return Bt==="backwards"||Bt==="both"?0:null;case ft:return Lt-qt;case ht:return Bt==="forwards"||Bt==="both"?Ft:null;case Q:return null}}function Tt(Ft,Bt,Lt,wt,qt){var ae=qt;return Ft===0?Bt!==ct&&(ae+=Lt):ae+=wt/Ft,ae}function Dt(Ft,Bt,Lt,wt,qt,ae){var oe=Ft===1/0?Bt%1:Ft%1;return oe===0&&Lt===ht&&wt!==0&&(qt!==0||ae===0)&&(oe=1),oe}function Ct(Ft,Bt,Lt,wt){return Ft===ht&&Bt===1/0?1/0:Lt===1?Math.floor(wt)-1:Math.floor(wt)}function At(Ft,Bt,Lt){var wt=Ft;if(Ft!=="normal"&&Ft!=="reverse"){var qt=Bt;Ft==="alternate-reverse"&&(qt+=1),wt="normal",qt!==1/0&&qt%2!==0&&(wt="reverse")}return wt==="normal"?Lt:1-Lt}function Ut(Ft,Bt,Lt){var wt=gt(Ft,Bt,Lt),qt=yt(Ft,Lt.fill,Bt,wt,Lt.delay);if(qt===null)return null;var ae=Lt.duration==="auto"?0:Lt.duration,oe=Tt(ae,wt,Lt.iterations,qt,Lt.iterationStart),Me=Dt(oe,Lt.iterationStart,wt,Lt.iterations,qt,ae),Oe=Ct(wt,Lt.iterations,Me,oe),Ce=At(Lt.direction,Oe,Me);return Lt.currentIteration=Oe,Lt.progress=Ce,Lt.easingFunction(Ce)}function St(Ft,Bt,Lt){var wt=Zt(Ft,Bt),qt=Vt(wt,Lt);return function(ae,oe){if(oe!==null)qt.filter(function(Oe){return oe>=Oe.applyFrom&&oe<Oe.applyTo}).forEach(function(Oe){var Ce=oe-Oe.startOffset,Se=Oe.endOffset-Oe.startOffset,Le=Se===0?0:Ce/Se;ae.setAttribute(Oe.property,Oe.interpolation(Le),!1,!1)});else for(var Me in wt)zt(Me)&&ae.setAttribute(Me,null)}}function zt(Ft){return Ft!=="offset"&&Ft!=="easing"&&Ft!=="composite"&&Ft!=="computedOffset"}function Zt(Ft,Bt){for(var Lt={},wt=0;wt<Ft.length;wt++)for(var qt in Ft[wt])if(zt(qt)){var ae={offset:Ft[wt].offset,computedOffset:Ft[wt].computedOffset,easing:Ft[wt].easing,easingFunction:Rt(Ft[wt].easing)||Bt.easingFunction,value:Ft[wt][qt]};Lt[qt]=Lt[qt]||[],Lt[qt].push(ae)}return Lt}function Vt(Ft,Bt){var Lt=[];for(var wt in Ft)for(var qt=Ft[wt],ae=0;ae<qt.length-1;ae++){var oe=ae,Me=ae+1,Oe=qt[oe].computedOffset,Ce=qt[Me].computedOffset,Se=Oe,Le=Ce;ae===0&&(Se=-1/0,Ce===0&&(Me=oe)),ae===qt.length-2&&(Le=1/0,Oe===1&&(oe=Me)),Lt.push({applyFrom:Se,applyTo:Le,startOffset:qt[oe].computedOffset,endOffset:qt[Me].computedOffset,easingFunction:qt[oe].easingFunction,property:wt,interpolation:re(wt,qt[oe].value,qt[Me].value,Bt)})}return Lt.sort(function(We,Ye){return We.startOffset-Ye.startOffset}),Lt}var Qt=function(Bt,Lt,wt){return function(qt){var ae=ee(Bt,Lt,qt);return(0,o.Z)(ae)?ae:wt(ae)}};function re(Ft,Bt,Lt,wt){var qt=d.N1[Ft];if(qt&&qt.syntax&&qt.int){var ae=d.GZ.styleValueRegistry.getPropertySyntax(qt.syntax);if(ae){var oe=ae.parser,Me=oe?oe(Bt,wt):Bt,Oe=oe?oe(Lt,wt):Lt,Ce=ae.mixer(Me,Oe,wt);if(Ce){var Se=Qt.apply(void 0,(0,f.Z)(Ce));return function(Le){return Le===0?Bt:Le===1?Lt:Se(Le)}}}}return Qt(!1,!0,function(Le){return Le?Lt:Bt})}function ee(Ft,Bt,Lt){if(typeof Ft=="number"&&typeof Bt=="number")return Ft*(1-Lt)+Bt*Lt;if(typeof Ft=="boolean"&&typeof Bt=="boolean"||typeof Ft=="string"&&typeof Bt=="string")return Lt<.5?Ft:Bt;if(Array.isArray(Ft)&&Array.isArray(Bt)){for(var wt=Ft.length,qt=Bt.length,ae=Math.max(wt,qt),oe=[],Me=0;Me<ae;Me++)oe.push(ee(Ft[Me<wt?Me:wt-1],Bt[Me<qt?Me:qt-1],Lt));return oe}throw new Error("Mismatched interpolation arguments ".concat(Ft,":").concat(Bt))}var Ht=function(){function Ft(){(0,T.Z)(this,Ft),this.delay=0,this.direction="normal",this.duration="auto",this._easing="linear",this.easingFunction=mt,this.endDelay=0,this.fill="auto",this.iterationStart=0,this.iterations=1,this.currentIteration=null,this.progress=null}return(0,y.Z)(Ft,[{key:"easing",get:function(){return this._easing},set:function(Lt){this.easingFunction=Rt(Lt),this._easing=Lt}}])}();function he(Ft){var Bt=[];for(var Lt in Ft)if(!(Lt in["easing","offset","composite"])){var wt=Ft[Lt];Array.isArray(wt)||(wt=[wt]);for(var qt=wt.length,ae=0;ae<qt;ae++){if(!Bt[ae]){var oe={};"offset"in Ft&&(oe.offset=Number(Ft.offset)),"easing"in Ft&&(oe.easing=Ft.easing),"composite"in Ft&&(oe.composite=Ft.composite),Bt[ae]=oe}wt[ae]!==void 0&&wt[ae]!==null&&(Bt[ae][Lt]=wt[ae])}}return Bt.sort(function(Me,Oe){return(Me.computedOffset||0)-(Oe.computedOffset||0)}),Bt}function ie(Ft,Bt){if(Ft===null)return[];Array.isArray(Ft)||(Ft=he(Ft));for(var Lt=Ft.map(function(Oe){var Ce={};Bt!=null&&Bt.composite&&(Ce.composite="auto");for(var Se in Oe){var Le=Oe[Se];if(Se==="offset"){if(Le!==null){if(Le=Number(Le),!isFinite(Le))throw new Error("Keyframe offsets must be numbers.");if(Le<0||Le>1)throw new Error("Keyframe offsets must be between 0 and 1.");Ce.computedOffset=Le}}else if(Se==="composite"&&["replace","add","accumulate","auto"].indexOf(Le)===-1)throw new Error("".concat(Le," compositing is not supported"));Ce[Se]=Le}return Ce.offset===void 0&&(Ce.offset=null),Ce.easing===void 0&&(Ce.easing=(Bt==null?void 0:Bt.easing)||"linear"),Ce.composite===void 0&&(Ce.composite="auto"),Ce}),wt=!0,qt=-1/0,ae=0;ae<Lt.length;ae++){var oe=Lt[ae].offset;if((0,r.Z)(oe))wt=!1;else{if(oe<qt)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");qt=oe}}Lt=Lt.filter(function(Oe){return Number(Oe.offset)>=0&&Number(Oe.offset)<=1});function Me(){var Oe,Ce=Lt,Se=Ce.length;if(Lt[Se-1].computedOffset=Number((Oe=Lt[Se-1].offset)!==null&&Oe!==void 0?Oe:1),Se>1){var Le;Lt[0].computedOffset=Number((Le=Lt[0].offset)!==null&&Le!==void 0?Le:0)}for(var We=0,Ye=Number(Lt[0].computedOffset),je=1;je<Se;je++){var tn=Lt[je].computedOffset;if(!(0,r.Z)(tn)&&!(0,r.Z)(Ye)){for(var on=1;on<je-We;on++)Lt[We+on].computedOffset=Ye+(Number(tn)-Ye)*on/(je-We);We=je,Ye=Number(tn)}}}return wt||Me(),Lt}var _e="backwards|forwards|both|none".split("|"),ce="reverse|alternate|alternate-reverse".split("|");function me(Ft,Bt){var Lt=new Ht;return Bt&&(Lt.fill="both",Lt.duration="auto"),typeof Ft=="number"&&!isNaN(Ft)?Lt.duration=Ft:Ft!==void 0&&Object.keys(Ft).forEach(function(wt){if(Ft[wt]!==void 0&&Ft[wt]!==null&&Ft[wt]!=="auto"){if((typeof Lt[wt]=="number"||wt==="duration")&&(typeof Ft[wt]!="number"||isNaN(Ft[wt]))||wt==="fill"&&_e.indexOf(Ft[wt])===-1||wt==="direction"&&ce.indexOf(Ft[wt])===-1)return;Lt[wt]=Ft[wt]}}),Lt}function De(Ft,Bt){return Ft=Te(Ft!=null?Ft:{duration:"auto"}),me(Ft,Bt)}function Te(Ft){return typeof Ft=="number"&&(isNaN(Ft)?Ft={duration:"auto"}:Ft={duration:Ft}),Ft}var ve=function(){function Ft(Bt,Lt,wt){var qt=this;(0,T.Z)(this,Ft),this.composite="replace",this.iterationComposite="replace",this.target=Bt,this.timing=De(wt,!1),this.timing.effect=this,this.timing.activeDuration=It(this.timing),this.timing.endTime=Math.max(0,this.timing.delay+this.timing.activeDuration+this.timing.endDelay),this.normalizedKeyframes=ie(Lt,this.timing),this.interpolations=St(this.normalizedKeyframes,this.timing,this.target);var ae=d.GZ.globalThis.Proxy;this.computedTiming=ae?new ae(this.timing,{get:function(Me,Oe){return Oe==="duration"?Me.duration==="auto"?0:Me.duration:Oe==="fill"?Me.fill==="auto"?"none":Me.fill:Oe==="localTime"?qt.animation&&qt.animation.currentTime||null:Oe==="currentIteration"?!qt.animation||qt.animation.playState!=="running"?null:Me.currentIteration||0:Oe==="progress"?!qt.animation||qt.animation.playState!=="running"?null:Me.progress||0:Me[Oe]},set:function(){return!0}}):this.timing}return(0,y.Z)(Ft,[{key:"applyInterpolations",value:function(){this.interpolations(this.target,Number(this.timeFraction))}},{key:"update",value:function(Lt){return Lt===null?!1:(this.timeFraction=Ut(this.timing.activeDuration,Lt,this.timing),this.timeFraction!==null)}},{key:"getKeyframes",value:function(){return this.normalizedKeyframes}},{key:"setKeyframes",value:function(Lt){this.normalizedKeyframes=ie(Lt)}},{key:"getComputedTiming",value:function(){return this.computedTiming}},{key:"getTiming",value:function(){return this.timing}},{key:"updateTiming",value:function(Lt){var wt=this;Object.keys(Lt||{}).forEach(function(qt){wt.timing[qt]=Lt[qt]})}}])}();function Ne(Ft,Bt){return Number(Ft.id)-Number(Bt.id)}var vn=function(){function Ft(Bt){var Lt=this;(0,T.Z)(this,Ft),this.animations=[],this.ticking=!1,this.timelineTicking=!1,this.hasRestartedThisFrame=!1,this.animationsWithPromises=[],this.inTick=!1,this.pendingEffects=[],this.currentTime=null,this.rafId=0,this.rafCallbacks=[],this.webAnimationsNextTick=function(wt){Lt.currentTime=wt,Lt.discardAnimations(),Lt.animations.length===0?Lt.timelineTicking=!1:Lt.requestAnimationFrame(Lt.webAnimationsNextTick)},this.processRafCallbacks=function(wt){var qt=Lt.rafCallbacks;Lt.rafCallbacks=[],wt<Number(Lt.currentTime)&&(wt=Number(Lt.currentTime)),Lt.animations.sort(Ne),Lt.animations=Lt.tick(wt,!0,Lt.animations)[0],qt.forEach(function(ae){ae[1](wt)}),Lt.applyPendingEffects()},this.document=Bt}return(0,y.Z)(Ft,[{key:"getAnimations",value:function(){return this.discardAnimations(),this.animations.slice()}},{key:"isTicking",value:function(){return this.inTick}},{key:"play",value:function(Lt,wt,qt){var ae=new ve(Lt,wt,qt),oe=new u(ae,this);return this.animations.push(oe),this.restartWebAnimationsNextTick(),oe.updatePromises(),oe.play(),oe.updatePromises(),oe}},{key:"applyDirtiedAnimation",value:function(Lt){var wt=this;if(!this.inTick){Lt.markTarget();var qt=Lt.targetAnimations();qt.sort(Ne);var ae=this.tick(Number(this.currentTime),!1,qt.slice())[1];ae.forEach(function(oe){var Me=wt.animations.indexOf(oe);Me!==-1&&wt.animations.splice(Me,1)}),this.applyPendingEffects()}}},{key:"restart",value:function(){return this.ticking||(this.ticking=!0,this.requestAnimationFrame(function(){}),this.hasRestartedThisFrame=!0),this.hasRestartedThisFrame}},{key:"destroy",value:function(){this.document.defaultView.cancelAnimationFrame(this.frameId)}},{key:"applyPendingEffects",value:function(){this.pendingEffects.forEach(function(Lt){Lt==null||Lt.applyInterpolations()}),this.pendingEffects=[]}},{key:"updateAnimationsPromises",value:function(){this.animationsWithPromises=this.animationsWithPromises.filter(function(Lt){return Lt.updatePromises()})}},{key:"discardAnimations",value:function(){this.updateAnimationsPromises(),this.animations=this.animations.filter(function(Lt){return Lt.playState!=="finished"&&Lt.playState!=="idle"})}},{key:"restartWebAnimationsNextTick",value:function(){this.timelineTicking||(this.timelineTicking=!0,this.requestAnimationFrame(this.webAnimationsNextTick))}},{key:"rAF",value:function(Lt){var wt=this.rafId++;return this.rafCallbacks.length===0&&(this.frameId=this.document.defaultView.requestAnimationFrame(this.processRafCallbacks)),this.rafCallbacks.push([wt,Lt]),wt}},{key:"requestAnimationFrame",value:function(Lt){var wt=this;return this.rAF(function(qt){wt.updateAnimationsPromises(),Lt(qt),wt.updateAnimationsPromises()})}},{key:"tick",value:function(Lt,wt,qt){var ae=this,oe,Me;this.inTick=!0,this.hasRestartedThisFrame=!1,this.currentTime=Lt,this.ticking=!1;var Oe=[],Ce=[],Se=[],Le=[];return qt.forEach(function(We){We.tick(Lt,wt),We._inEffect?(Ce.push(We.effect),We.markTarget()):(Oe.push(We.effect),We.unmarkTarget()),We._needsTick&&(ae.ticking=!0);var Ye=We._inEffect||We._needsTick;We._inTimeline=Ye,Ye?Se.push(We):Le.push(We)}),(oe=this.pendingEffects).push.apply(oe,Oe),(Me=this.pendingEffects).push.apply(Me,Ce),this.ticking&&this.requestAnimationFrame(function(){}),this.inTick=!1,[Se,Le]}}])}();d.GZ.EasingFunction=Rt,d.GZ.AnimationTimeline=vn},57e3:function(at,N,t){"use strict";t.d(N,{L:function(){return m}});var d=t(18599),T=t(69759),y=t(40812),C=function(f,h){var v={};for(var o in f)Object.prototype.hasOwnProperty.call(f,o)&&h.indexOf(o)<0&&(v[o]=f[o]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(f);r<o.length;r++)h.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(f,o[r])&&(v[o[r]]=f[o[r]]);return v};const m=(f,h,v)=>{if(!v.length)return null;const[o,r]=h,a=E=>{var p;if(E){const e=f.getShape(E);if(!e)return null;const i=`get${(0,d.Z)(E)}Style`,n=((p=f==null?void 0:f[i])===null||p===void 0?void 0:p.bind(f))||(O=>O),l=(n==null?void 0:n(o))||{},M=(n==null?void 0:n(r))||{};return{shape:e,fromStyle:l,toStyle:M}}else return{shape:f,fromStyle:o,toStyle:r}};let s;const u=v.map(E=>{var{fields:p,shape:e,states:i}=E,n=C(E,["fields","shape","states"]);const l=a(e);if(!l)return null;const{shape:M,fromStyle:O,toStyle:D}=l,P=[{},{}];if(p.forEach(x=>{var L,S;Object.assign(P[0],{[x]:(L=O[x])!==null&&L!==void 0?L:(0,T.HK)(x)}),Object.assign(P[1],{[x]:(S=D[x])!==null&&S!==void 0?S:(0,T.HK)(x)})}),P.some(x=>Object.keys(x).some(L=>["x","y","z"].includes(L)))){const{x=0,y:L=0,z:S,transform:K=""}=M.attributes||{};P.forEach(U=>{var j,F,W;U.transform=(0,y.u)((j=U.x)!==null&&j!==void 0?j:x,(F=U.y)!==null&&F!==void 0?F:L,(W=U.z)!==null&&W!==void 0?W:S,K)})}const b=M.animate((0,T.dk)(P),n);return e===void 0&&(s=b),b}).filter(Boolean),c=s||(u==null?void 0:u[0]);return c?(0,T.zt)(c,u.filter(E=>E!==E)):null}},96057:function(at,N,t){"use strict";t.d(N,{FW:function(){return C},JC:function(){return m},b4:function(){return v},es:function(){return h},fj:function(){return o},pT:function(){return T},s6:function(){return f},vN:function(){return y}});var d=t(57e3);const T=[{fields:["opacity"]}],y=[{fields:["x","y"]}],C=[{fields:["x","y"]}],m=C,f=[{fields:["sourceNode","targetNode"]}],h=f,v=[{fields:["childrenNode","x","y"]}],o=v,r=[{fields:["childrenNode","x","y"]}]},81754:function(at,N,t){"use strict";t.d(N,{n:function(){return r}});var d=t(84237),T=t(26218),y=t(31922),C=t(23098),m=t(52877),f=t(1883),h=t(26898),v=t(88102),o=t(70372);class r extends o.Z{constructor(s,u){super(s,Object.assign({},r.defaultOptions,u)),this.isOverlapping=(c,E)=>E.some(p=>c.intersects(p)),this.occupiedBounds=[],this.detectLabelCollision=c=>{const E=this.context.viewport,p={show:[],hide:[]};return this.occupiedBounds=[],c.forEach(e=>{const i=e.getShape("label").getRenderBounds();E.isInViewport(i,!0)&&!this.isOverlapping(i,this.occupiedBounds)?(p.show.push(e),this.occupiedBounds.push((0,m.cL)(i,this.options.padding))):p.hide.push(e)}),p},this.hideLabelIfExceedViewport=(c,E)=>{const{exit:p}=(0,h.t)(c,E,e=>e.id);p==null||p.forEach(this.hideLabel)},this.nodeCentralities=new Map,this.sortNodesByCentrality=(c,E)=>{const{model:p}=this.context,e=p.getData(),i=p.getRelatedEdgesData.bind(p);return c.map(l=>(this.nodeCentralities.has(l.id)||(this.nodeCentralities=(0,f.iZ)(e,i,E)),{node:l,centrality:this.nodeCentralities.get(l.id)})).sort((l,M)=>M.centrality-l.centrality).map(l=>l.node)},this.sortLabelElementsInView=c=>{const{sort:E,sortNode:p,sortCombo:e,sortEdge:i}=this.options,{model:n}=this.context;if((0,d.Z)(E))return c.sort((x,L)=>E(n.getElementDataById(x.id),n.getElementDataById(L.id)));const{node:l=[],edge:M=[],combo:O=[]}=(0,T.Z)(c,x=>x.type),D=(0,d.Z)(e)?O.sort((x,L)=>e(...n.getComboData([x.id,L.id]))):O,P=(0,d.Z)(p)?l.sort((x,L)=>p(...n.getNodeData([x.id,L.id]))):this.sortNodesByCentrality(l,p),b=(0,d.Z)(i)?M.sort((x,L)=>i(...n.getEdgeData([x.id,L.id]))):M;return[...D,...P,...b]},this.labelElementsInView=[],this.isFirstRender=!0,this.onToggleVisibility=c=>{var E;if(((E=c.data)===null||E===void 0?void 0:E.stage)==="zIndex")return;if(!this.validate(c)){this.hiddenElements.size>0&&(this.hiddenElements.forEach(this.showLabel),this.hiddenElements.clear());return}const p=this.isFirstRender?this.getLabelElements():this.getLabelElementsInView();this.hideLabelIfExceedViewport(this.labelElementsInView,p),this.labelElementsInView=p;const e=this.sortLabelElementsInView(this.labelElementsInView),{show:i,hide:n}=this.detectLabelCollision(e);for(let l=i.length-1;l>=0;l--)this.showLabel(i[l]);n.forEach(this.hideLabel)},this.hiddenElements=new Map,this.hideLabel=c=>{const E=c.getShape("label");E&&(0,v.i)(E,"hidden"),this.hiddenElements.set(c.id,c)},this.showLabel=c=>{const E=c.getShape("label");E&&(0,v.i)(E,"visible"),c.toFront(),this.hiddenElements.delete(c.id)},this.onTransform=(0,y.Z)(this.onToggleVisibility,this.options.throttle,{leading:!0}),this.enableToggle=!0,this.toggle=c=>{this.enableToggle&&this.onToggleVisibility(c)},this.onBeforeRender=()=>{this.enableToggle=!1},this.onAfterRender=c=>{this.onToggleVisibility(c),this.enableToggle=!0},this.bindEvents()}update(s){this.unbindEvents(),super.update(s),this.bindEvents(),this.onToggleVisibility({})}getLabelElements(){const{elementMap:s}=this.context.element,u=[];for(const c in s){const E=s[c];E.isVisible()&&E.getShape("label")&&u.push(E)}return u}getLabelElementsInView(){const s=this.context.viewport;return this.getLabelElements().filter(u=>s.isInViewport(u.getShape("key").getRenderBounds()))}bindEvents(){const{graph:s}=this.context;s.on(C.VR.BEFORE_RENDER,this.onBeforeRender),s.on(C.VR.AFTER_RENDER,this.onAfterRender),s.on(C.VR.AFTER_DRAW,this.toggle),s.on(C.VR.AFTER_LAYOUT,this.toggle),s.on(C.VR.AFTER_TRANSFORM,this.onTransform)}unbindEvents(){const{graph:s}=this.context;s.off(C.VR.BEFORE_RENDER,this.onBeforeRender),s.off(C.VR.AFTER_RENDER,this.onAfterRender),s.off(C.VR.AFTER_DRAW,this.toggle),s.off(C.VR.AFTER_LAYOUT,this.toggle),s.off(C.VR.AFTER_TRANSFORM,this.onTransform)}validate(s){if(this.destroyed)return!1;const{enable:u}=this.options;return(0,d.Z)(u)?u(s):!!u}destroy(){this.unbindEvents(),super.destroy()}}r.defaultOptions={enable:!0,throttle:100,padding:0,sortNode:{type:"degree"}}},70372:function(at,N,t){"use strict";t.d(N,{Z:function(){return T}});var d=t(30054);class T extends d.j{}},54608:function(at,N,t){"use strict";t.d(N,{C:function(){return r},_:function(){return o}});var d=t(81614),T=t(48690),y=t(84237),C=t(23098),m=t(29193),f=t(59268),h=t(80860),v=t(70372);class o extends v.Z{constructor(s,u){super(s,(0,T.Z)({},o.defaultOptions,u)),this.shortcut=new h.z(s.graph),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.clearStates=this.clearStates.bind(this),this.bindEvents()}onPointerDown(s){if(!this.validate(s)||!this.isKeydown()||this.startPoint)return;const{canvas:u,graph:c}=this.context,E=Object.assign({},this.options.style);this.options.style.lineWidth&&(E.lineWidth=+this.options.style.lineWidth/c.getZoom()),this.rectShape=new d.UL({id:"g6-brush-select",style:E}),u.appendChild(this.rectShape),this.startPoint=[s.canvas.x,s.canvas.y]}onPointerMove(s){var u;if(!this.startPoint)return;const{immediately:c,mode:E}=this.options;this.endPoint=r(s,this.context.graph),(u=this.rectShape)===null||u===void 0||u.attr({x:Math.min(this.endPoint[0],this.startPoint[0]),y:Math.min(this.endPoint[1],this.startPoint[1]),width:Math.abs(this.endPoint[0]-this.startPoint[0]),height:Math.abs(this.endPoint[1]-this.startPoint[1])}),c&&E==="default"&&this.updateElementsStates((0,f.k3)(this.startPoint,this.endPoint))}onPointerUp(s){if(this.startPoint){if(!this.endPoint){this.clearBrush();return}this.endPoint=r(s,this.context.graph),this.updateElementsStates((0,f.k3)(this.startPoint,this.endPoint)),this.clearBrush()}}clearStates(){this.endPoint||this.clearElementsStates()}clearElementsStates(){const{graph:s}=this.context,u=Object.values(s.getData()).reduce((c,E)=>Object.assign({},c,E.reduce((p,e)=>{var i;const n=(i=e.states||[])===null||i===void 0?void 0:i.filter(l=>l!==this.options.state);return p[(0,m.jD)(e)]=n,p},{})),{});s.setElementState(u,this.options.animation)}updateElementsStates(s){const{graph:u}=this.context,{enableElements:c,state:E,mode:p,onSelect:e}=this.options,i=this.selector(u,s,c);let n={};switch(p){case"union":i.forEach(l=>{n[l]=[...u.getElementState(l),E]});break;case"diff":i.forEach(l=>{const M=u.getElementState(l);n[l]=M.includes(E)?M.filter(O=>O!==E):[...M,E]});break;case"intersect":i.forEach(l=>{const M=u.getElementState(l);n[l]=M.includes(E)?[E]:[]});break;case"default":default:i.forEach(l=>{n[l]=[E]});break}(0,y.Z)(e)&&(n=e(n)),u.setElementState(n,this.options.animation)}selector(s,u,c){if(!c||c.length===0)return[];const E=[],p=s.getData();if(c.forEach(e=>{p[`${e}s`].forEach(i=>{const n=(0,m.jD)(i);s.getElementVisibility(n)!=="hidden"&&(0,f.c9)(s.getElementPosition(n),u)&&E.push(n)})}),c.includes("edge")){const e=p.edges;e==null||e.forEach(i=>{const{source:n,target:l}=i;E.includes(n)&&E.includes(l)&&E.push((0,m.jD)(i))})}return E}clearBrush(){var s;(s=this.rectShape)===null||s===void 0||s.remove(),this.rectShape=void 0,this.startPoint=void 0,this.endPoint=void 0}isKeydown(){const{trigger:s}=this.options,u=Array.isArray(s)?s:[s];return this.shortcut.match(u.filter(c=>c!=="drag"))}validate(s){if(this.destroyed)return!1;const{enable:u}=this.options;return(0,y.Z)(u)?u(s):!!u}bindEvents(){const{graph:s}=this.context;s.on(C.C9.POINTER_DOWN,this.onPointerDown),s.on(C.C9.POINTER_MOVE,this.onPointerMove),s.on(C.C9.POINTER_UP,this.onPointerUp),s.on(C.$6.CLICK,this.clearStates)}unbindEvents(){const{graph:s}=this.context;s.off(C.C9.POINTER_DOWN,this.onPointerDown),s.off(C.C9.POINTER_MOVE,this.onPointerMove),s.off(C.C9.POINTER_UP,this.onPointerUp),s.off(C.$6.CLICK,this.clearStates)}update(s){this.unbindEvents(),this.options=(0,T.Z)(this.options,s),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy()}}o.defaultOptions={animation:!1,enable:!0,enableElements:["node","combo","edge"],immediately:!1,mode:"default",state:"selected",trigger:["shift"],style:{width:0,height:0,lineWidth:1,fill:"#1677FF",stroke:"#1677FF",fillOpacity:.1,zIndex:2,pointerEvents:"none"}};const r=(a,s)=>{if((a.targetType==="node"||a.targetType==="combo")&&!(a.nativeEvent.target instanceof HTMLCanvasElement)){const[u,c]=s.getCanvasByClient([a.client.x,a.client.y]);return[u,c]}return[a.canvas.x,a.canvas.y]}},53293:function(at,N,t){"use strict";t.d(N,{B:function(){return r}});var d=t(84237),T=t(23098),y=t(66185),C=t(29193),m=t(78822),f=t(80860),h=t(38499),v=t(70372),o=function(a,s,u,c){function E(p){return p instanceof u?p:new u(function(e){e(p)})}return new(u||(u=Promise))(function(p,e){function i(M){try{l(c.next(M))}catch(O){e(O)}}function n(M){try{l(c.throw(M))}catch(O){e(O)}}function l(M){M.done?p(M.value):E(M.value).then(i,n)}l((c=c.apply(a,s||[])).next())})};class r extends v.Z{constructor(s,u){super(s,Object.assign({},r.defaultOptions,u)),this.onClickSelect=c=>o(this,void 0,void 0,function*(){var E,p;this.validate(c)&&(yield this.updateState(c),(p=(E=this.options).onClick)===null||p===void 0||p.call(E,c))}),this.onClickCanvas=c=>o(this,void 0,void 0,function*(){var E,p;this.validate(c)&&(yield this.clearState(),(p=(E=this.options).onClick)===null||p===void 0||p.call(E,c))}),this.shortcut=new f.z(s.graph),this.bindEvents()}bindEvents(){const{graph:s}=this.context;this.unbindEvents(),y.Y.forEach(u=>{s.on(`${u}:${T.C9.CLICK}`,this.onClickSelect)}),s.on(T.$6.CLICK,this.onClickCanvas)}get isMultipleSelect(){const{multiple:s,trigger:u}=this.options;return s&&this.shortcut.match(u)}getNeighborIds(s){const{target:u,targetType:c}=s,{graph:E}=this.context,{degree:p}=this.options;return(0,m.g)(E,c,u.id,typeof p=="function"?p(s):p).filter(e=>e!==u.id)}updateState(s){return o(this,void 0,void 0,function*(){const{state:u,unselectedState:c,neighborState:E,animation:p}=this.options;if(!u&&!E&&!c)return;const{target:e}=s,{graph:i}=this.context,n=i.getElementData(e.id),l=(0,h.x)(n).includes(u)?"unselect":"select",M={},O=this.isMultipleSelect,D=[e.id],P=this.getNeighborIds(s);if(O)if(Object.assign(M,this.getDataStates()),l==="select"){const b=(x,L)=>{x.forEach(S=>{const K=new Set(i.getElementState(S));K.add(L),K.delete(c),M[S]=Array.from(K)})};b(D,u),b(P,E),c&&Object.keys(M).forEach(x=>{const L=M[x];!L.includes(u)&&!L.includes(E)&&!L.includes(c)&&M[x].push(c)})}else{const b=M[e.id];M[e.id]=b.filter(x=>x!==u&&x!==E),b.includes(c)||M[e.id].push(c),P.forEach(x=>{M[x]=M[x].filter(L=>L!==E),M[x].includes(u)||M[x].push(c)})}else if(l==="select"){Object.assign(M,this.getClearStates(!!c));const b=(x,L)=>{x.forEach(S=>{M[S]||(M[S]=i.getElementState(S)),M[S].push(L)})};b(D,u),b(P,E),c&&Object.keys(M).forEach(x=>{!D.includes(x)&&!P.includes(x)&&M[x].push(c)})}else Object.assign(M,this.getClearStates());yield i.setElementState(M,p)})}getDataStates(){const{graph:s}=this.context,{nodes:u,edges:c,combos:E}=s.getData(),p={};return[...u,...c,...E].forEach(e=>{p[(0,C.jD)(e)]=(0,h.x)(e)}),p}getClearStates(s=!1){const{graph:u}=this.context,{state:c,unselectedState:E,neighborState:p}=this.options,e=new Set([c,E,p]),{nodes:i,edges:n,combos:l}=u.getData(),M={};return[...i,...n,...l].forEach(O=>{const D=(0,h.x)(O),P=D.filter(b=>!e.has(b));(s||P.length!==D.length)&&(M[(0,C.jD)(O)]=P)}),M}clearState(){return o(this,void 0,void 0,function*(){const{graph:s}=this.context;yield s.setElementState(this.getClearStates(),this.options.animation)})}validate(s){if(this.destroyed)return!1;const{enable:u}=this.options;return(0,d.Z)(u)?u(s):!!u}unbindEvents(){const{graph:s}=this.context;y.Y.forEach(u=>{s.off(`${u}:${T.C9.CLICK}`,this.onClickSelect)}),s.off(T.$6.CLICK,this.onClickCanvas)}destroy(){this.unbindEvents(),super.destroy()}}r.defaultOptions={animation:!0,enable:!0,multiple:!1,trigger:["shift"],state:"selected",neighborState:"selected",unselectedState:void 0,degree:0}},12883:function(at,N,t){"use strict";t.d(N,{y:function(){return h}});var d=t(84237),T=t(23098),y=t(5343),C=t(23295),m=t(70372),f=function(v,o,r,a){function s(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function E(i){try{e(a.next(i))}catch(n){c(n)}}function p(i){try{e(a.throw(i))}catch(n){c(n)}}function e(i){i.done?u(i.value):s(i.value).then(E,p)}e((a=a.apply(v,o||[])).next())})};class h extends m.Z{constructor(o,r){super(o,Object.assign({},h.defaultOptions,r)),this.onCollapseExpand=a=>f(this,void 0,void 0,function*(){if(!this.validate(a))return;const{target:s}=a;if(!(0,C.kK)(s))return;const u=s.id,{model:c,graph:E}=this.context,p=c.getElementDataById(u);if(!p)return!1;const{onCollapse:e,onExpand:i,animation:n,align:l}=this.options;(0,y.z)(p)?(yield E.expandElement(u,{animation:n,align:l}),i==null||i(u)):(yield E.collapseElement(u,{animation:n,align:l}),e==null||e(u))}),this.bindEvents()}update(o){this.unbindEvents(),super.update(o),this.bindEvents()}bindEvents(){const{graph:o}=this.context,{trigger:r}=this.options;o.on(`node:${r}`,this.onCollapseExpand),o.on(`combo:${r}`,this.onCollapseExpand)}unbindEvents(){const{graph:o}=this.context,{trigger:r}=this.options;o.off(`node:${r}`,this.onCollapseExpand),o.off(`combo:${r}`,this.onCollapseExpand)}validate(o){if(this.destroyed)return!1;const{enable:r}=this.options;return(0,d.Z)(r)?r(o):!!r}destroy(){this.unbindEvents(),super.destroy()}}h.defaultOptions={enable:!0,animation:!0,trigger:T.C9.DBLCLICK,align:!0}},54531:function(at,N,t){"use strict";t.d(N,{P:function(){return v}});var d=t(6466),T=t(84237),y=t(23098),C=t(70372),m=function(o,r,a,s){function u(c){return c instanceof a?c:new a(function(E){E(c)})}return new(a||(a=Promise))(function(c,E){function p(n){try{i(s.next(n))}catch(l){E(l)}}function e(n){try{i(s.throw(n))}catch(l){E(l)}}function i(n){n.done?c(n.value):u(n.value).then(p,e)}i((s=s.apply(o,r||[])).next())})};const f="g6-create-edge-assist-edge-id",h="g6-create-edge-assist-node-id";class v extends C.Z{constructor(r,a){super(r,Object.assign({},v.defaultOptions,a)),this.drop=s=>m(this,void 0,void 0,function*(){const{targetType:u}=s;["combo","node"].includes(u)&&this.source?yield this.handleCreateEdge(s):yield this.cancelEdge()}),this.handleCreateEdge=s=>m(this,void 0,void 0,function*(){var u,c,E;if(!this.validate(s))return;const{graph:p,canvas:e,batch:i,element:n}=this.context,{style:l}=this.options;if(this.source){this.createEdge(s),yield this.cancelEdge();return}i.startBatch(),e.setCursor("crosshair"),this.source=this.getSelectedNodeIDs([s.target.id])[0];const M=p.getElementData(this.source);p.addNodeData([{id:h,style:{visibility:"hidden",ports:[{key:"port-1",placement:[.5,.5]}],x:(u=M.style)===null||u===void 0?void 0:u.x,y:(c=M.style)===null||c===void 0?void 0:c.y}}]),p.addEdgeData([{id:f,source:this.source,target:h,style:Object.assign({pointerEvents:"none"},l)}]),yield(E=n.draw({animation:!1}))===null||E===void 0?void 0:E.finished}),this.updateAssistEdge=s=>m(this,void 0,void 0,function*(){var u;if(!this.source)return;const{model:c,element:E}=this.context;c.translateNodeTo(h,[s.canvas.x,s.canvas.y]),yield(u=E.draw({animation:!1,silence:!0}))===null||u===void 0?void 0:u.finished}),this.createEdge=s=>{var u,c;const{graph:E}=this.context,{style:p,onFinish:e,onCreate:i}=this.options;if(((u=s.target)===null||u===void 0?void 0:u.id)===void 0||this.source===void 0)return;const l=(c=this.getSelectedNodeIDs([s.target.id]))===null||c===void 0?void 0:c[0],M=`${this.source}-${l}-${(0,d.Z)()}`,O=i({id:M,source:this.source,target:l,style:p});O&&(E.addEdgeData([O]),e(O))},this.cancelEdge=()=>m(this,void 0,void 0,function*(){var s;if(!this.source)return;const{graph:u,element:c,batch:E}=this.context;u.removeNodeData([h]),this.source=void 0,yield(s=c.draw({animation:!1}))===null||s===void 0?void 0:s.finished,E.endBatch()}),this.bindEvents()}update(r){super.update(r),this.bindEvents()}bindEvents(){const{graph:r}=this.context,{trigger:a}=this.options;this.unbindEvents(),a==="click"?(r.on(y.bG.CLICK,this.handleCreateEdge),r.on(y.jU.CLICK,this.handleCreateEdge),r.on(y.$6.CLICK,this.cancelEdge),r.on(y.qX.CLICK,this.cancelEdge)):(r.on(y.bG.DRAG_START,this.handleCreateEdge),r.on(y.jU.DRAG_START,this.handleCreateEdge),r.on(y.C9.POINTER_UP,this.drop)),r.on(y.C9.POINTER_MOVE,this.updateAssistEdge)}getSelectedNodeIDs(r){return Array.from(new Set(this.context.graph.getElementDataByState("node",this.options.state).map(a=>a.id).concat(r)))}validate(r){if(this.destroyed)return!1;const{enable:a}=this.options;return(0,T.Z)(a)?a(r):!!a}unbindEvents(){const{graph:r}=this.context;r.off(y.bG.CLICK,this.handleCreateEdge),r.off(y.jU.CLICK,this.handleCreateEdge),r.off(y.$6.CLICK,this.cancelEdge),r.off(y.qX.CLICK,this.cancelEdge),r.off(y.bG.DRAG_START,this.handleCreateEdge),r.off(y.jU.DRAG_START,this.handleCreateEdge),r.off(y.C9.POINTER_UP,this.drop),r.off(y.C9.POINTER_MOVE,this.updateAssistEdge)}destroy(){this.unbindEvents(),super.destroy()}}v.defaultOptions={animation:!0,enable:!0,style:{},trigger:"drag",onCreate:o=>o,onFinish:()=>{}}},26889:function(at,N,t){"use strict";t.d(N,{U:function(){return a}});var d=t(83633),T=t(70373),y=t(23098),C=t(52877),m=t(17439),f=t(93187),h=t(80860),v=t(26192),o=t(70372),r=function(s,u,c,E){function p(e){return e instanceof c?e:new c(function(i){i(e)})}return new(c||(c=Promise))(function(e,i){function n(O){try{M(E.next(O))}catch(D){i(D)}}function l(O){try{M(E.throw(O))}catch(D){i(D)}}function M(O){O.done?e(O.value):p(O.value).then(n,l)}M((E=E.apply(s,u||[])).next())})};class a extends o.Z{constructor(u,c){super(u,Object.assign({},a.defaultOptions,c)),this.isDragging=!1,this.onDragStart=E=>{this.validate(E)&&(this.isDragging=!0,this.context.canvas.setCursor("grabbing"))},this.onDrag=E=>{var p,e,i,n;if(!this.isDragging||f.P.isPinching)return;const l=(e=(p=E.movement)===null||p===void 0?void 0:p.x)!==null&&e!==void 0?e:E.dx,M=(n=(i=E.movement)===null||i===void 0?void 0:i.y)!==null&&n!==void 0?n:E.dy;l|M&&this.translate([l,M],!1)},this.onDragEnd=()=>{var E,p;this.isDragging=!1,this.context.canvas.setCursor(this.defaultCursor),(p=(E=this.options).onFinish)===null||p===void 0||p.call(E)},this.invokeOnFinish=(0,d.Z)(()=>{var E,p;(p=(E=this.options).onFinish)===null||p===void 0||p.call(E)},300),this.shortcut=new h.z(u.graph),this.bindEvents(),this.defaultCursor=this.context.canvas.getConfig().cursor||"default"}update(u){this.unbindEvents(),super.update(u),this.bindEvents()}bindEvents(){const{trigger:u}=this.options;if((0,T.Z)(u)){const{up:c=[],down:E=[],left:p=[],right:e=[]}=u;this.shortcut.bind(c,i=>this.onTranslate([0,1],i)),this.shortcut.bind(E,i=>this.onTranslate([0,-1],i)),this.shortcut.bind(p,i=>this.onTranslate([1,0],i)),this.shortcut.bind(e,i=>this.onTranslate([-1,0],i))}else{const{graph:c}=this.context;c.on(y.C9.DRAG_START,this.onDragStart),c.on(y.C9.DRAG,this.onDrag),c.on(y.C9.DRAG_END,this.onDragEnd)}}onTranslate(u,c){return r(this,void 0,void 0,function*(){if(!this.validate(c))return;const{sensitivity:E}=this.options,p=E*-1;yield this.translate((0,v.Jp)(u,p),this.options.animation),this.invokeOnFinish()})}translate(u,c){return r(this,void 0,void 0,function*(){u=this.clampByDirection(u),u=this.clampByRange(u),u=this.clampByRotation(u),yield this.context.graph.translateBy(u,c)})}clampByRotation([u,c]){const E=this.context.graph.getRotation();return(0,v.U1)([u,c],E)}clampByDirection([u,c]){const{direction:E}=this.options;return E==="x"?c=0:E==="y"&&(u=0),[u,c]}clampByRange([u,c]){const{viewport:E,canvas:p}=this.context,[e,i]=p.getSize(),[n,l,M,O]=(0,m.dj)(this.options.range),D=[i*n,e*l,i*M,e*O],P=(0,C.cL)((0,C.uU)(E.getCanvasCenter()),D),b=(0,v.$X)(E.getViewportCenter(),[u,c,0]);if(!(0,C.W6)(b,P)){const{min:[x,L],max:[S,K]}=P;(b[0]<x&&u>0||b[0]>S&&u<0)&&(u=0),(b[1]<L&&c>0||b[1]>K&&c<0)&&(c=0)}return[u,c]}validate(u){if(this.destroyed)return!1;const{enable:c}=this.options;return typeof c=="function"?c(u):!!c}unbindEvents(){this.shortcut.unbindAll();const{graph:u}=this.context;u.off(y.C9.DRAG_START,this.onDragStart),u.off(y.C9.DRAG,this.onDrag),u.off(y.C9.DRAG_END,this.onDragEnd)}destroy(){this.shortcut.destroy(),this.unbindEvents(),this.context.canvas.setCursor(this.defaultCursor),super.destroy()}}a.defaultOptions={enable:s=>"targetType"in s?s.targetType==="canvas":!0,sensitivity:10,direction:"both",range:1/0}},90755:function(at,N,t){"use strict";t.d(N,{F:function(){return h}});var d=t(29193),T=t(70562),y=t(90040),C=t(26192),m=t(21663),f=function(v,o,r,a){function s(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function E(i){try{e(a.next(i))}catch(n){c(n)}}function p(i){try{e(a.throw(i))}catch(n){c(n)}}function e(i){i.done?u(i.value):s(i.value).then(E,p)}e((a=a.apply(v,o||[])).next())})};class h extends m.Q{get forceLayoutInstance(){return this.context.layout.getLayoutInstance().find(o=>["d3-force","d3-force-3d"].includes(o==null?void 0:o.id))}validate(o){return this.context.layout?this.forceLayoutInstance?super.validate(o):(y.S.warn("DragElementForce only works with d3-force or d3-force-3d layout"),!1):!1}moveElement(o,r){return f(this,void 0,void 0,function*(){const a=this.forceLayoutInstance;this.context.graph.getNodeData(o).forEach((s,u)=>{const{x:c=0,y:E=0}=s.style||{};a&&(0,T.KQ)(a,"setFixedPosition",o[u],[...(0,C.IH)([+c,+E],this.clampByRotation(r))])})})}onDragStart(o){if(this.enable=this.validate(o),!this.enable)return;this.target=this.getSelectedNodeIDs([o.target.id]),this.hideEdge(),this.context.graph.frontElement(this.target);const r=this.forceLayoutInstance;r&&(0,T.yt)(r,"simulation").alphaTarget(.3).restart(),this.context.graph.getNodeData(this.target).forEach(a=>{const{x:s=0,y:u=0}=a.style||{};r&&(0,T.KQ)(r,"setFixedPosition",(0,d.jD)(a),[+s,+u])})}onDrag(o){if(!this.enable)return;const r=this.getDelta(o);this.moveElement(this.target,r)}onDragEnd(){const o=this.forceLayoutInstance;o&&(0,T.yt)(o,"simulation").alphaTarget(0),!this.options.fixed&&this.context.graph.getNodeData(this.target).forEach(r=>{o&&(0,T.KQ)(o,"setFixedPosition",(0,d.jD)(r),[null,null,null])})}}},21663:function(at,N,t){"use strict";t.d(N,{Q:function(){return a}});var d=t(81614),T=t(84237),y=t(23098),C=t(52877),m=t(23295),f=t(29193),h=t(28660),v=t(26192),o=t(70372),r=function(s,u,c,E){function p(e){return e instanceof c?e:new c(function(i){i(e)})}return new(c||(c=Promise))(function(e,i){function n(O){try{M(E.next(O))}catch(D){i(D)}}function l(O){try{M(E.throw(O))}catch(D){i(D)}}function M(O){O.done?e(O.value):p(O.value).then(n,l)}M((E=E.apply(s,u||[])).next())})};class a extends o.Z{constructor(u,c){super(u,Object.assign({},a.defaultOptions,c)),this.enable=!1,this.enableElements=["node","combo"],this.target=[],this.shadowOrigin=[0,0],this.hiddenEdges=[],this.isDragging=!1,this.onDrop=E=>r(this,void 0,void 0,function*(){var p;if(this.options.dropEffect!=="link")return;const{model:e,element:i}=this.context,n=E.target.id;this.target.forEach(l=>{const M=e.getParentData(l,y.dK);M&&(0,f.jD)(M)===n&&e.refreshComboData(n),e.setParent(l,n,y.dK)}),yield(p=i==null?void 0:i.draw({animation:!0}))===null||p===void 0?void 0:p.finished}),this.setCursor=E=>{if(this.isDragging)return;const{type:p}=E,{canvas:e}=this.context,{cursor:i}=this.options;p===y.C9.POINTER_ENTER?e.setCursor((i==null?void 0:i.grab)||"grab"):e.setCursor((i==null?void 0:i.default)||"default")},this.onDragStart=this.onDragStart.bind(this),this.onDrag=this.onDrag.bind(this),this.onDragEnd=this.onDragEnd.bind(this),this.onDrop=this.onDrop.bind(this),this.bindEvents()}update(u){this.unbindEvents(),super.update(u),this.bindEvents()}bindEvents(){const{graph:u,canvas:c}=this.context,E=c.getLayer().getContextService().$canvas;E&&(E.addEventListener("blur",this.onDragEnd),E.addEventListener("contextmenu",this.onDragEnd)),this.enableElements.forEach(p=>{u.on(`${p}:${y.C9.DRAG_START}`,this.onDragStart),u.on(`${p}:${y.C9.DRAG}`,this.onDrag),u.on(`${p}:${y.C9.DRAG_END}`,this.onDragEnd),u.on(`${p}:${y.C9.POINTER_ENTER}`,this.setCursor),u.on(`${p}:${y.C9.POINTER_LEAVE}`,this.setCursor)}),["link"].includes(this.options.dropEffect)&&(u.on(y.jU.DROP,this.onDrop),u.on(y.$6.DROP,this.onDrop))}getSelectedNodeIDs(u){return Array.from(new Set(this.context.graph.getElementDataByState("node",this.options.state).map(c=>c.id).concat(u)))}getDelta(u){const c=this.context.graph.getZoom();return(0,v.cs)([u.dx,u.dy],c)}onDragStart(u){var c;if(this.enable=this.validate(u),!this.enable)return;const{batch:E,canvas:p,graph:e}=this.context;p.setCursor(((c=this.options.cursor)===null||c===void 0?void 0:c.grabbing)||"grabbing"),this.isDragging=!0,E.startBatch();const i=u.target.id;e.getElementState(i).includes(this.options.state)?this.target=this.getSelectedNodeIDs([i]):this.target=[i],this.hideEdge(),this.context.graph.frontElement(this.target),this.options.shadow&&this.createShadow(this.target)}onDrag(u){if(!this.enable)return;const c=this.getDelta(u);this.options.shadow?this.moveShadow(c):this.moveElement(this.target,c)}onDragEnd(){var u,c,E;if(!this.enable)return;if(this.enable=!1,this.options.shadow){if(!this.shadow)return;this.shadow.style.visibility="hidden";const{x:i=0,y:n=0}=this.shadow.attributes,[l,M]=(0,v.$X)([+i,+n],this.shadowOrigin);this.moveElement(this.target,[l,M])}this.showEdges(),(c=(u=this.options).onFinish)===null||c===void 0||c.call(u,this.target);const{batch:p,canvas:e}=this.context;p.endBatch(),e.setCursor(((E=this.options.cursor)===null||E===void 0?void 0:E.grab)||"grab"),this.isDragging=!1,this.target=[]}validate(u){if(this.destroyed||(0,m.xE)(u.target)||this.context.graph.isCollapsingExpanding)return!1;const{enable:c}=this.options;return(0,T.Z)(c)?c(u):!!c}clampByRotation([u,c]){const E=this.context.graph.getRotation();return(0,v.U1)([u,c],E)}moveElement(u,c){return r(this,void 0,void 0,function*(){const{graph:E,model:p}=this.context,{dropEffect:e}=this.options;e==="move"&&u.forEach(i=>p.refreshComboData(i)),E.translateElementBy(Object.fromEntries(u.map(i=>[i,this.clampByRotation(c)])),!1)})}moveShadow(u){if(!this.shadow)return;const{x:c=0,y:E=0}=this.shadow.attributes,[p,e]=u;this.shadow.attr({x:+c+p,y:+E+e})}createShadow(u){const c=(0,h.zs)(this.options,"shadow"),E=(0,C.SV)(u.map(M=>this.context.element.getElement(M).getBounds())),[p,e]=E.min;this.shadowOrigin=[p,e];const[i,n]=(0,C.qt)(E),l={width:i,height:n,x:p,y:e};this.shadow?this.shadow.attr(Object.assign(Object.assign(Object.assign({},c),l),{visibility:"visible"})):(this.shadow=new d.UL({style:Object.assign(Object.assign(Object.assign({$layer:"transient"},c),l),{pointerEvents:"none"})}),this.context.canvas.appendChild(this.shadow))}showEdges(){this.options.shadow||this.hiddenEdges.length===0||(this.context.graph.showElement(this.hiddenEdges),this.hiddenEdges=[])}hideEdge(){const{hideEdge:u,shadow:c}=this.options;if(u==="none"||c)return;const{graph:E}=this.context;u==="all"?this.hiddenEdges=E.getEdgeData().map(f.jD):this.hiddenEdges=Array.from(new Set(this.target.map(p=>E.getRelatedEdgesData(p,u).map(f.jD)).flat())),E.hideElement(this.hiddenEdges)}unbindEvents(){const{graph:u,canvas:c}=this.context,E=c.getLayer().getContextService().$canvas;E&&(E.removeEventListener("blur",this.onDragEnd),E.removeEventListener("contextmenu",this.onDragEnd)),this.enableElements.forEach(p=>{u.off(`${p}:${y.C9.DRAG_START}`,this.onDragStart),u.off(`${p}:${y.C9.DRAG}`,this.onDrag),u.off(`${p}:${y.C9.DRAG_END}`,this.onDragEnd),u.off(`${p}:${y.C9.POINTER_ENTER}`,this.setCursor),u.off(`${p}:${y.C9.POINTER_LEAVE}`,this.setCursor)}),u.off(`combo:${y.C9.DROP}`,this.onDrop),u.off(`canvas:${y.C9.DROP}`,this.onDrop)}destroy(){var u;this.unbindEvents(),(u=this.shadow)===null||u===void 0||u.destroy(),super.destroy()}}a.defaultOptions={animation:!0,enable:s=>["node","combo"].includes(s.targetType),dropEffect:"move",state:"selected",hideEdge:"none",shadow:!1,shadowZIndex:100,shadowFill:"#F3F9FF",shadowFillOpacity:.5,shadowStroke:"#1890FF",shadowStrokeOpacity:.9,shadowLineDash:[5,5],cursor:{default:"default",grab:"grab",grabbing:"grabbing"}}},28872:function(at,N,t){"use strict";t.d(N,{x:function(){return o}});var d=t(26912),T=t(61989),y=t(84237),C=t(23098),m=t(29193),f=t(39310),h=t(70372),v=function(r,a,s,u){function c(E){return E instanceof s?E:new s(function(p){p(E)})}return new(s||(s=Promise))(function(E,p){function e(l){try{n(u.next(l))}catch(M){p(M)}}function i(l){try{n(u.throw(l))}catch(M){p(M)}}function n(l){l.done?E(l.value):c(l.value).then(e,i)}n((u=u.apply(r,a||[])).next())})};class o extends h.Z{constructor(a,s){super(a,Object.assign({},o.defaultOptions,s)),this.isZoomEvent=u=>!!(u.data&&"scale"in u.data),this.relatedEdgeToUpdate=new Set,this.zoom=this.context.graph.getZoom(),this.fixElementSize=u=>v(this,void 0,void 0,function*(){if(!this.validate(u))return;const{graph:c}=this.context,{state:E,nodeFilter:p,edgeFilter:e,comboFilter:i}=this.options,n=(E?c.getElementDataByState("node",E):c.getNodeData()).filter(p),l=(E?c.getElementDataByState("edge",E):c.getEdgeData()).filter(e),M=(E?c.getElementDataByState("combo",E):c.getComboData()).filter(i),O=this.isZoomEvent(u)?this.zoom=Math.max(.01,Math.min(u.data.scale,10)):this.zoom,D=[...n,...M];D.length>0&&D.forEach(P=>this.fixNodeLike(P,O)),this.updateRelatedEdges(),l.length>0&&l.forEach(P=>this.fixEdge(P,O))}),this.cachedStyles=new Map,this.getOriginalFieldValue=(u,c,E)=>{var p;const e=this.cachedStyles.get(u)||[],i=((p=e.find(n=>n.shape===c))===null||p===void 0?void 0:p.style)||{};return E in i||(i[E]=c.attributes[E],this.cachedStyles.set(u,[...e.filter(n=>n.shape!==c),{shape:c,style:i}])),i[E]},this.scaleEntireElement=(u,c,E)=>{c.setLocalScale(1/E);const p=this.cachedStyles.get(u)||[];p.push({shape:c}),this.cachedStyles.set(u,p)},this.scaleSpecificShapes=(u,c,E)=>{const p=(0,f.W)(u);(Array.isArray(E)?E:[E]).forEach(i=>{const{shape:n,fields:l}=i,M=typeof n=="function"?n(p):u.getShape(n);if(M){if(!l){this.scaleEntireElement(u.id,M,c);return}l.forEach(O=>{const D=this.getOriginalFieldValue(u.id,M,O);(0,d.Z)(D)&&(M.style[O]=D/c)})}})},this.skipIfExceedViewport=u=>{const{viewport:c}=this.context;return!(c!=null&&c.isInViewport(u.getRenderBounds(),!1,30))},this.fixNodeLike=(u,c)=>{const E=(0,m.jD)(u),{element:p,model:e}=this.context,i=p.getElement(E);if(!i||this.skipIfExceedViewport(i))return;e.getRelatedEdgesData(E).forEach(M=>this.relatedEdgeToUpdate.add((0,m.jD)(M)));const l=this.options[i.type];if(!l){this.scaleEntireElement(E,i,c);return}this.scaleSpecificShapes(i,c,l)},this.fixEdge=(u,c)=>{const E=(0,m.jD)(u),p=this.context.element.getElement(E);if(!p||this.skipIfExceedViewport(p))return;const e=this.options.edge;if(!e){p.style.transformOrigin="center",this.scaleEntireElement(E,p,c);return}this.scaleSpecificShapes(p,c,e)},this.updateRelatedEdges=()=>{const{element:u}=this.context;this.relatedEdgeToUpdate.size>0&&this.relatedEdgeToUpdate.forEach(c=>{const E=u.getElement(c);E==null||E.update({})}),this.relatedEdgeToUpdate.clear()},this.resetTransform=u=>v(this,void 0,void 0,function*(){var c;!((c=u.data)===null||c===void 0)&&c.firstRender||(this.options.reset?this.restoreCachedStyles():this.fixElementSize({data:{scale:this.zoom}}))}),this.bindEvents()}restoreCachedStyles(){if(this.cachedStyles.size>0){this.cachedStyles.forEach(c=>{c.forEach(({shape:E,style:p})=>{if((0,T.Z)(p))E.setLocalScale(1);else{if(this.options.state)return;Object.entries(p).forEach(([e,i])=>E.style[e]=i)}})});const{graph:a,element:s}=this.context,u=Object.keys(Object.fromEntries(this.cachedStyles)).filter(c=>c&&a.getElementType(c)==="node");if(u.length>0){const c=new Set;u.forEach(E=>{a.getRelatedEdgesData(E).forEach(p=>c.add((0,m.jD)(p)))}),c.forEach(E=>{const p=s==null?void 0:s.getElement(E);p==null||p.update({})})}}}bindEvents(){const{graph:a}=this.context;a.on(C.VR.AFTER_DRAW,this.resetTransform),a.on(C.VR.AFTER_TRANSFORM,this.fixElementSize)}unbindEvents(){const{graph:a}=this.context;a.off(C.VR.AFTER_DRAW,this.resetTransform),a.off(C.VR.AFTER_TRANSFORM,this.fixElementSize)}validate(a){if(this.destroyed)return!1;const{enable:s}=this.options;return(0,y.Z)(s)?s(a):!!s}destroy(){this.unbindEvents(),super.destroy()}}o.defaultOptions={enable:r=>r.data.scale<1,nodeFilter:()=>!0,edgeFilter:()=>!0,comboFilter:()=>!0,edge:[{shape:"key",fields:["lineWidth"]},{shape:"halo",fields:["lineWidth"]},{shape:"label"}],reset:!1}},74711:function(at,N,t){"use strict";t.d(N,{g:function(){return f}});var d=t(84237),T=t(23098),y=t(66185),C=t(70372),m=function(h,v,o,r){function a(s){return s instanceof o?s:new o(function(u){u(s)})}return new(o||(o=Promise))(function(s,u){function c(e){try{p(r.next(e))}catch(i){u(i)}}function E(e){try{p(r.throw(e))}catch(i){u(i)}}function p(e){e.done?s(e.value):a(e.value).then(c,E)}p((r=r.apply(h,v||[])).next())})};class f extends C.Z{constructor(v,o){super(v,Object.assign({},f.defaultOptions,o)),this.focus=r=>m(this,void 0,void 0,function*(){if(!this.validate(r))return;const{graph:a}=this.context;yield a.focusElement(r.target.id,this.options.animation)}),this.bindEvents()}bindEvents(){const{graph:v}=this.context;this.unbindEvents(),y.Y.forEach(o=>{v.on(`${o}:${T.C9.CLICK}`,this.focus)})}validate(v){if(this.destroyed)return!1;const{enable:o}=this.options;return(0,d.Z)(o)?o(v):!!o}unbindEvents(){const{graph:v}=this.context;y.Y.forEach(o=>{v.off(`${o}:${T.C9.CLICK}`,this.focus)})}destroy(){this.unbindEvents(),super.destroy()}}f.defaultOptions={animation:{easing:"ease-in",duration:500},enable:!0}},67379:function(at,N,t){"use strict";t.d(N,{W:function(){return v}});var d=t(84237),T=t(23098),y=t(66185),C=t(23295),m=t(29193),f=t(78822),h=t(70372);class v extends h.Z{constructor(r,a){super(r,Object.assign({},v.defaultOptions,a)),this.isFrozen=!1,this.toggleFrozen=s=>{this.isFrozen=s.type==="dragstart"},this.hoverElement=s=>{if(!this.validate(s))return;const u=s.type===T.C9.POINTER_ENTER;this.updateElementsState(s,u);const{onHover:c,onHoverEnd:E}=this.options;u?c==null||c(s):E==null||E(s)},this.updateElementsState=(s,u)=>{if(!this.options.state&&!this.options.inactiveState)return;const{graph:c}=this.context,{state:E,animation:p,inactiveState:e}=this.options,i=this.getActiveIds(s),n={};if(E&&Object.assign(n,this.getElementsState(i,E,u)),e){const l=(0,m.oI)(c.getData(),!0).filter(M=>!i.includes(M));Object.assign(n,this.getElementsState(l,e,u))}c.setElementState(n,p)},this.getElementsState=(s,u,c)=>{const{graph:E}=this.context,p={};return s.forEach(e=>{const i=E.getElementState(e);c?p[e]=i.includes(u)?i:[...i,u]:p[e]=i.filter(n=>n!==u)}),p},this.bindEvents()}bindEvents(){const{graph:r}=this.context;this.unbindEvents(),y.Y.forEach(s=>{r.on(`${s}:${T.C9.POINTER_ENTER}`,this.hoverElement),r.on(`${s}:${T.C9.POINTER_LEAVE}`,this.hoverElement)});const a=this.context.canvas.document;a.addEventListener(`${T.C9.DRAG_START}`,this.toggleFrozen),a.addEventListener(`${T.C9.DRAG_END}`,this.toggleFrozen)}getActiveIds(r){const{graph:a}=this.context,{degree:s,direction:u}=this.options,c=r.target.id;return s?(0,f.g)(a,r.targetType,c,typeof s=="function"?s(r):s,u):[c]}validate(r){if(this.destroyed||this.isFrozen||(0,C.xE)(r.target)||this.context.graph.isCollapsingExpanding)return!1;const{enable:a}=this.options;return(0,d.Z)(a)?a(r):!!a}unbindEvents(){const{graph:r}=this.context;y.Y.forEach(s=>{r.off(`${s}:${T.C9.POINTER_ENTER}`,this.hoverElement),r.off(`${s}:${T.C9.POINTER_LEAVE}`,this.hoverElement)});const a=this.context.canvas.document;a.removeEventListener(`${T.C9.DRAG_START}`,this.toggleFrozen),a.removeEventListener(`${T.C9.DRAG_END}`,this.toggleFrozen)}destroy(){this.unbindEvents(),super.destroy()}}v.defaultOptions={animation:!1,enable:!0,degree:0,direction:"both",state:"active",inactiveState:void 0}},26990:function(at,N,t){"use strict";t.d(N,{BB:function(){return C.B},CE:function(){return p.C},DJ:function(){return E.D},Fg:function(){return o.F},Iz:function(){return u.I},PZ:function(){return f.P},QG:function(){return v.Q},U$:function(){return c.U},Uo:function(){return h.U},Wp:function(){return s.W},_e:function(){return y._},gs:function(){return a.g},nC:function(){return d.n},xD:function(){return r.x},yZ:function(){return m.y}});var d=t(81754),T=t(70372),y=t(54608),C=t(53293),m=t(12883),f=t(54531),h=t(26889),v=t(21663),o=t(90755),r=t(28872),a=t(74711),s=t(67379),u=t(13561),c=t(88124),E=t(65317),p=t(8120)},13561:function(at,N,t){"use strict";t.d(N,{I:function(){return C}});var d=t(81614),T=t(38865),y=t(54608);class C extends y._{onPointerDown(f){if(!super.validate(f)||!super.isKeydown()||this.points)return;const{canvas:h,graph:v}=this.context;this.pathShape=new d.y$({id:"g6-lasso-select",style:this.options.style}),h.appendChild(this.pathShape),this.points=[(0,y.C)(f,v)]}onPointerMove(f){var h;if(!this.points)return;const{immediately:v,mode:o}=this.options;this.points.push((0,y.C)(f,this.context.graph)),(h=this.pathShape)===null||h===void 0||h.setAttribute("d",(0,T.WG)(this.points)),v&&o==="default"&&this.points.length>2&&super.updateElementsStates(this.points)}onPointerUp(){if(this.points){if(this.points.length<2){this.clearLasso();return}super.updateElementsStates(this.points),this.clearLasso()}}clearLasso(){var f;(f=this.pathShape)===null||f===void 0||f.remove(),this.pathShape=void 0,this.points=void 0}}},88124:function(at,N,t){"use strict";t.d(N,{U:function(){return f}});var d=t(84237),T=t(83633),y=t(23098),C=t(88102),m=t(70372);class f extends m.Z{constructor(v,o){super(v,Object.assign({},f.defaultOptions,o)),this.hiddenShapes=[],this.isVisible=!0,this.setElementsVisibility=(r,a,s)=>{r.filter(Boolean).forEach(u=>{a==="hidden"&&!u.isVisible()?this.hiddenShapes.push(u):a==="visible"&&this.hiddenShapes.includes(u)?this.hiddenShapes.splice(this.hiddenShapes.indexOf(u),1):(0,C.i)(u,a,s)})},this.filterShapes=(r,a)=>{if((0,d.Z)(a))return u=>!a(r,u);const s=a==null?void 0:a[r];return u=>u.className?!(s!=null&&s.includes(u.className)):!0},this.hideShapes=r=>{if(!this.validate(r)||!this.isVisible)return;const{element:a}=this.context,{shapes:s={}}=this.options;this.setElementsVisibility(a.getNodes(),"hidden",this.filterShapes("node",s)),this.setElementsVisibility(a.getEdges(),"hidden",this.filterShapes("edge",s)),this.setElementsVisibility(a.getCombos(),"hidden",this.filterShapes("combo",s)),this.isVisible=!1},this.showShapes=(0,T.Z)(r=>{if(!this.validate(r)||this.isVisible)return;const{element:a}=this.context;this.setElementsVisibility(a.getNodes(),"visible"),this.setElementsVisibility(a.getEdges(),"visible"),this.setElementsVisibility(a.getCombos(),"visible"),this.isVisible=!0},this.options.debounce),this.bindEvents()}bindEvents(){const{graph:v}=this.context;v.on(y.VR.BEFORE_TRANSFORM,this.hideShapes),v.on(y.VR.AFTER_TRANSFORM,this.showShapes)}unbindEvents(){const{graph:v}=this.context;v.off(y.VR.BEFORE_TRANSFORM,this.hideShapes),v.off(y.VR.AFTER_TRANSFORM,this.showShapes)}validate(v){if(this.destroyed)return!1;const{enable:o}=this.options;return(0,d.Z)(o)?o(v):!!o}update(v){this.unbindEvents(),super.update(v),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy()}}f.defaultOptions={enable:!0,debounce:200,shapes:h=>h==="node"}},65317:function(at,N,t){"use strict";t.d(N,{D:function(){return r}});var d=t(70373),T=t(84237),y=t(23098),C=t(52877),m=t(17439),f=t(80860),h=t(26192),v=t(70372),o=function(a,s,u,c){function E(p){return p instanceof u?p:new u(function(e){e(p)})}return new(u||(u=Promise))(function(p,e){function i(M){try{l(c.next(M))}catch(O){e(O)}}function n(M){try{l(c.throw(M))}catch(O){e(O)}}function l(M){M.done?p(M.value):E(M.value).then(i,n)}l((c=c.apply(a,s||[])).next())})};class r extends v.Z{constructor(s,u){super(s,Object.assign({},r.defaultOptions,u)),this.onWheel=c=>o(this,void 0,void 0,function*(){this.options.preventDefault&&c.preventDefault();const E=c.deltaX,p=c.deltaY;yield this.scroll([-E,-p],c)}),this.shortcut=new f.z(s.graph),this.bindEvents()}update(s){super.update(s),this.bindEvents()}bindEvents(){var s,u;const{trigger:c}=this.options;if(this.shortcut.unbindAll(),(0,d.Z)(c)){(s=this.graphDom)===null||s===void 0||s.removeEventListener(y.C9.WHEEL,this.onWheel);const{up:E=[],down:p=[],left:e=[],right:i=[]}=c;this.shortcut.bind(E,n=>this.scroll([0,-10],n)),this.shortcut.bind(p,n=>this.scroll([0,10],n)),this.shortcut.bind(e,n=>this.scroll([-10,0],n)),this.shortcut.bind(i,n=>this.scroll([10,0],n))}else(u=this.graphDom)===null||u===void 0||u.addEventListener(y.C9.WHEEL,this.onWheel,{passive:!1})}get graphDom(){return this.context.graph.getCanvas().getContextService().getDomElement()}formatDisplacement(s){const{sensitivity:u}=this.options;return s=(0,h.Jp)(s,u),s=this.clampByDirection(s),s=this.clampByRange(s),s}clampByDirection([s,u]){const{direction:c}=this.options;return c==="x"?u=0:c==="y"&&(s=0),[s,u]}clampByRange([s,u]){const{viewport:c,canvas:E}=this.context,[p,e]=E.getSize(),[i,n,l,M]=(0,m.dj)(this.options.range),O=[e*i,p*n,e*l,p*M],D=(0,C.cL)((0,C.uU)(c.getCanvasCenter()),O),P=(0,h.$X)(c.getViewportCenter(),[s,u,0]);if(!(0,C.W6)(P,D)){const{min:[b,x],max:[L,S]}=D;(P[0]<b&&s>0||P[0]>L&&s<0)&&(s=0),(P[1]<x&&u>0||P[1]>S&&u<0)&&(u=0)}return[s,u]}scroll(s,u){return o(this,void 0,void 0,function*(){if(!this.validate(u))return;const{onFinish:c}=this.options,E=this.context.graph,p=this.formatDisplacement(s);yield E.translateBy(p,!1),c==null||c()})}validate(s){if(this.destroyed)return!1;const{enable:u}=this.options;return(0,T.Z)(u)?u(s):!!u}destroy(){var s;this.shortcut.destroy(),(s=this.graphDom)===null||s===void 0||s.removeEventListener(y.C9.WHEEL,this.onWheel),super.destroy()}}r.defaultOptions={enable:!0,sensitivity:1,preventDefault:!0,range:1/0}},8120:function(at,N,t){"use strict";t.d(N,{C:function(){return v}});var d=t(15378),T=t(84237),y=t(23098),C=t(59268),m=t(80860),f=t(70372),h=function(o,r,a,s){function u(c){return c instanceof a?c:new a(function(E){E(c)})}return new(a||(a=Promise))(function(c,E){function p(n){try{i(s.next(n))}catch(l){E(l)}}function e(n){try{i(s.throw(n))}catch(l){E(l)}}function i(n){n.done?c(n.value):u(n.value).then(p,e)}i((s=s.apply(o,r||[])).next())})};class v extends f.Z{constructor(r,a){super(r,Object.assign({},v.defaultOptions,a)),this.zoom=(s,u,c)=>h(this,void 0,void 0,function*(){if(!this.validate(u))return;const{graph:E}=this.context;let p=this.options.origin;!p&&"viewport"in u&&(p=(0,C.rx)(u.viewport));const{sensitivity:e,onFinish:i}=this.options,n=1+(0,d.Z)(s,-50,50)*e/100,l=E.getZoom();yield E.zoomTo(l*n,c,p),i==null||i()}),this.onReset=()=>h(this,void 0,void 0,function*(){yield this.context.graph.zoomTo(1,this.options.animation)}),this.preventDefault=s=>{this.options.preventDefault&&s.preventDefault()},this.shortcut=new m.z(r.graph),this.bindEvents()}update(r){super.update(r),this.bindEvents()}bindEvents(){const{trigger:r}=this.options;if(this.shortcut.unbindAll(),Array.isArray(r))if(r.includes(y.C9.PINCH))this.shortcut.bind([y.C9.PINCH],a=>{this.zoom(a.scale,a,!1)});else{const a=this.context.canvas.getContainer();a==null||a.addEventListener(y.C9.WHEEL,this.preventDefault),this.shortcut.bind([...r,y.C9.WHEEL],s=>{const{deltaX:u,deltaY:c}=s;this.zoom(-(c!=null?c:u),s,!1)})}if(typeof r=="object"){const{zoomIn:a=[],zoomOut:s=[],reset:u=[]}=r;this.shortcut.bind(a,c=>this.zoom(10,c,this.options.animation)),this.shortcut.bind(s,c=>this.zoom(-10,c,this.options.animation)),this.shortcut.bind(u,this.onReset)}}validate(r){if(this.destroyed)return!1;const{enable:a}=this.options;return(0,T.Z)(a)?a(r):!!a}destroy(){var r;this.shortcut.destroy(),(r=this.context.canvas.getContainer())===null||r===void 0||r.removeEventListener(y.C9.WHEEL,this.preventDefault),super.destroy()}}v.defaultOptions={animation:{duration:200},enable:!0,sensitivity:1,trigger:[],preventDefault:!0}},64525:function(at,N,t){"use strict";t.d(N,{A:function(){return T},X:function(){return d}});const d={duration:500},T={duration:1e3,easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",iterations:1,fill:"both"}},63260:function(at,N,t){"use strict";t.d(N,{u:function(){return T}});const d={CHANGE:"change"};var T;(function(y){y.NodeAdded="NodeAdded",y.NodeUpdated="NodeUpdated",y.NodeRemoved="NodeRemoved",y.EdgeAdded="EdgeAdded",y.EdgeUpdated="EdgeUpdated",y.EdgeRemoved="EdgeRemoved",y.ComboAdded="ComboAdded",y.ComboUpdated="ComboUpdated",y.ComboRemoved="ComboRemoved"})(T||(T={}))},66185:function(at,N,t){"use strict";t.d(N,{Y:function(){return T},f:function(){return d}});const d=.8,T=["node","edge","combo"]},20666:function(at,N,t){"use strict";t.d(N,{r:function(){return d}});var d;(function(T){T.DRAW="draw",T.COLLAPSE="collapse",T.EXPAND="expand",T.TRANSFORM="transform"})(d||(d={}))},50048:function(at,N,t){"use strict";t.d(N,{$:function(){return d}});var d;(function(T){T.CLICK="canvas:click",T.DBLCLICK="canvas:dblclick",T.POINTER_OVER="canvas:pointerover",T.POINTER_LEAVE="canvas:pointerleave",T.POINTER_ENTER="canvas:pointerenter",T.POINTER_MOVE="canvas:pointermove",T.POINTER_OUT="canvas:pointerout",T.POINTER_DOWN="canvas:pointerdown",T.POINTER_UP="canvas:pointerup",T.CONTEXT_MENU="canvas:contextmenu",T.DRAG_START="canvas:dragstart",T.DRAG="canvas:drag",T.DRAG_END="canvas:dragend",T.DRAG_ENTER="canvas:dragenter",T.DRAG_OVER="canvas:dragover",T.DRAG_LEAVE="canvas:dragleave",T.DROP="canvas:drop",T.WHEEL="canvas:wheel"})(d||(d={}))},63683:function(at,N,t){"use strict";t.d(N,{j:function(){return d}});var d;(function(T){T.CLICK="combo:click",T.DBLCLICK="combo:dblclick",T.POINTER_OVER="combo:pointerover",T.POINTER_LEAVE="combo:pointerleave",T.POINTER_ENTER="combo:pointerenter",T.POINTER_MOVE="combo:pointermove",T.POINTER_OUT="combo:pointerout",T.POINTER_DOWN="combo:pointerdown",T.POINTER_UP="combo:pointerup",T.CONTEXT_MENU="combo:contextmenu",T.DRAG_START="combo:dragstart",T.DRAG="combo:drag",T.DRAG_END="combo:dragend",T.DRAG_ENTER="combo:dragenter",T.DRAG_OVER="combo:dragover",T.DRAG_LEAVE="combo:dragleave",T.DROP="combo:drop"})(d||(d={}))},79373:function(at,N,t){"use strict";t.d(N,{C:function(){return d}});var d;(function(T){T.CLICK="click",T.DBLCLICK="dblclick",T.POINTER_OVER="pointerover",T.POINTER_LEAVE="pointerleave",T.POINTER_ENTER="pointerenter",T.POINTER_MOVE="pointermove",T.POINTER_OUT="pointerout",T.POINTER_DOWN="pointerdown",T.POINTER_UP="pointerup",T.CONTEXT_MENU="contextmenu",T.DRAG_START="dragstart",T.DRAG="drag",T.DRAG_END="dragend",T.DRAG_ENTER="dragenter",T.DRAG_OVER="dragover",T.DRAG_LEAVE="dragleave",T.DROP="drop",T.KEY_DOWN="keydown",T.KEY_UP="keyup",T.WHEEL="wheel",T.PINCH="pinch"})(d||(d={}))},22457:function(at,N,t){"use strict";t.d(N,{W:function(){return d}});var d;(function(T){T.KEY_DOWN="keydown",T.KEY_UP="keyup"})(d||(d={}))},18589:function(at,N,t){"use strict";t.d(N,{q:function(){return d}});var d;(function(T){T.CLICK="edge:click",T.DBLCLICK="edge:dblclick",T.POINTER_OVER="edge:pointerover",T.POINTER_LEAVE="edge:pointerleave",T.POINTER_ENTER="edge:pointerenter",T.POINTER_MOVE="edge:pointermove",T.POINTER_OUT="edge:pointerout",T.POINTER_DOWN="edge:pointerdown",T.POINTER_UP="edge:pointerup",T.CONTEXT_MENU="edge:contextmenu",T.DRAG_ENTER="edge:dragenter",T.DRAG_OVER="edge:dragover",T.DRAG_LEAVE="edge:dragleave",T.DROP="edge:drop"})(d||(d={}))},15404:function(at,N,t){"use strict";t.d(N,{V:function(){return d}});var d;(function(T){T.BEFORE_CANVAS_INIT="beforecanvasinit",T.AFTER_CANVAS_INIT="aftercanvasinit",T.BEFORE_SIZE_CHANGE="beforesizechange",T.AFTER_SIZE_CHANGE="aftersizechange",T.BEFORE_ELEMENT_CREATE="beforeelementcreate",T.AFTER_ELEMENT_CREATE="afterelementcreate",T.BEFORE_ELEMENT_UPDATE="beforeelementupdate",T.AFTER_ELEMENT_UPDATE="afterelementupdate",T.BEFORE_ELEMENT_DESTROY="beforeelementdestroy",T.AFTER_ELEMENT_DESTROY="afterelementdestroy",T.BEFORE_ELEMENT_TRANSLATE="beforeelementtranslate",T.AFTER_ELEMENT_TRANSLATE="afterelementtranslate",T.BEFORE_DRAW="beforedraw",T.AFTER_DRAW="afterdraw",T.BEFORE_RENDER="beforerender",T.AFTER_RENDER="afterrender",T.BEFORE_ANIMATE="beforeanimate",T.AFTER_ANIMATE="afteranimate",T.BEFORE_LAYOUT="beforelayout",T.AFTER_LAYOUT="afterlayout",T.BEFORE_STAGE_LAYOUT="beforestagelayout",T.AFTER_STAGE_LAYOUT="afterstagelayout",T.BEFORE_TRANSFORM="beforetransform",T.AFTER_TRANSFORM="aftertransform",T.BATCH_START="batchstart",T.BATCH_END="batchend",T.BEFORE_DESTROY="beforedestroy",T.AFTER_DESTROY="afterdestroy",T.BEFORE_RENDERER_CHANGE="beforerendererchange",T.AFTER_RENDERER_CHANGE="afterrendererchange"})(d||(d={}))},23972:function(at,N,t){"use strict";t.d(N,{b:function(){return d}});var d;(function(T){T.UNDO="undo",T.REDO="redo",T.CANCEL="cancel",T.ADD="add",T.CLEAR="clear",T.CHANGE="change"})(d||(d={}))},18097:function(at,N,t){"use strict";t.d(N,{$6:function(){return T.$},C9:function(){return C.C},VR:function(){return h.V},WG:function(){return m.W},bG:function(){return o.b},jU:function(){return y.j},qX:function(){return f.q},ru:function(){return d.r}});var d=t(20666),T=t(50048),y=t(63683),C=t(79373),m=t(22457),f=t(18589),h=t(15404),v=t(23972),o=t(45238)},45238:function(at,N,t){"use strict";t.d(N,{b:function(){return d}});var d;(function(T){T.CLICK="node:click",T.DBLCLICK="node:dblclick",T.POINTER_OVER="node:pointerover",T.POINTER_LEAVE="node:pointerleave",T.POINTER_ENTER="node:pointerenter",T.POINTER_MOVE="node:pointermove",T.POINTER_OUT="node:pointerout",T.POINTER_DOWN="node:pointerdown",T.POINTER_UP="node:pointerup",T.CONTEXT_MENU="node:contextmenu",T.DRAG_START="node:dragstart",T.DRAG="node:drag",T.DRAG_END="node:dragend",T.DRAG_ENTER="node:dragenter",T.DRAG_OVER="node:dragover",T.DRAG_LEAVE="node:dragleave",T.DROP="node:drop"})(d||(d={}))},12880:function(at,N,t){"use strict";t.d(N,{d:function(){return d},p:function(){return T}});const d="combo",T="tree"},23098:function(at,N,t){"use strict";t.d(N,{$6:function(){return y.$6},Am:function(){return d.A},C9:function(){return y.C9},MD:function(){return m.M},VR:function(){return y.VR},WG:function(){return y.WG},Xy:function(){return d.X},bG:function(){return y.bG},dK:function(){return C.d},jU:function(){return y.jU},pf:function(){return C.p},qX:function(){return y.qX},ru:function(){return y.ru},u4:function(){return T.u}});var d=t(64525),T=t(63260),y=t(18097),C=t(12880),m=t(45791)},45791:function(at,N,t){"use strict";t.d(N,{M:function(){return d}});var d;(function(T){T.NODE="node",T.EDGE="edge",T.COMBO="combo",T.THEME="theme",T.PALETTE="palette",T.LAYOUT="layout",T.BEHAVIOR="behavior",T.PLUGIN="plugin",T.ANIMATION="animation",T.TRANSFORM="transform",T.SHAPE="shape"})(d||(d={}))},95616:function(at,N,t){"use strict";t.d(N,{H:function(){return T}});var d=t(23618);class T extends d.PS{get context(){return this.config.context}get parsedAttributes(){return this.attributes}onframe(){}animate(C,m){const f=super.animate(C,m);return f&&(f.onframe=()=>this.onframe(),f.finished.then(()=>this.onframe())),f}}},38885:function(at,N,t){"use strict";t.d(N,{V:function(){return E}});var d=t(81614),T=t(84237),y=t(52877),C=t(29193),m=t(17439),f=t(49559),h=t(28660),v=t(33626),o=t(95272),r=t(26192),a=t(39385),s=t(23618),u=t(48969),c=function(p,e){var i={};for(var n in p)Object.prototype.hasOwnProperty.call(p,n)&&e.indexOf(n)<0&&(i[n]=p[n]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(p);l<n.length;l++)e.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(p,n[l])&&(i[n[l]]=p[n[l]]);return i};class E extends a.Hd{constructor(e){super((0,o.JH)({style:E.defaultStyleProps},e)),this.type="combo",this.updateComboPosition(this.parsedAttributes)}getKeySize(e){const{collapsed:i,childrenNode:n=[]}=e;return n.length===0?this.getEmptyKeySize(e):i?this.getCollapsedKeySize(e):this.getExpandedKeySize(e)}getEmptyKeySize(e){const{padding:i,collapsedSize:n}=e,[l,M,O,D]=(0,m.dj)(i);return(0,r.IH)((0,v._)(n),[D+M,l+O,0])}getCollapsedKeySize(e){return(0,v._)(e.collapsedSize)}getExpandedKeySize(e){const i=this.getContentBBox(e);return[(0,y.Ru)(i),(0,y.vs)(i),0]}getContentBBox(e){const{childrenNode:i=[],padding:n}=e,l=i.map(O=>this.context.element.getElement(O)).filter(Boolean);if(l.length===0){const O=new d.mN,{x:D=0,y:P=0,size:b}=e,[x,L]=(0,v._)(b);return O.setMinMax([D-x/2,P-L/2,0],[D+x/2,P+L/2,0]),O}const M=(0,y.SV)(l.map(O=>O.getBounds()));return n?(0,y.cL)(M,n):M}drawCollapsedMarkerShape(e,i){const n=this.getCollapsedMarkerStyle(e);this.upsert("collapsed-marker",s.JO,n,i),(0,u.XV)(this)}getCollapsedMarkerStyle(e){if(!e.collapsed||!e.collapsedMarker)return!1;const i=(0,h.zs)(this.getGraphicStyle(e),"collapsedMarker"),{type:n}=i,l=c(i,["type"]),M=this.getShape("key"),[O,D]=(0,f.V4)(M.getLocalBounds(),"center"),P=Object.assign(Object.assign({},l),{x:O,y:D});if(n){const b=this.getCollapsedMarkerText(n,e);Object.assign(P,{text:b})}return P}getCollapsedMarkerText(e,i){const{childrenData:n=[]}=i,{model:l}=this.context;return e==="descendant-count"?l.getDescendantsData(this.id).length.toString():e==="child-count"?n.length.toString():e==="node-count"?l.getDescendantsData(this.id).filter(M=>l.getElementType((0,C.jD)(M))==="node").length.toString():(0,T.Z)(e)?e(n):""}getComboPosition(e){const{x:i=0,y:n=0,collapsed:l,childrenData:M=[]}=e;if(M.length===0)return[+i,+n,0];if(l){const{model:O}=this.context,D=O.getDescendantsData(this.id).filter(P=>!O.isCombo((0,C.jD)(P)));if(D.length>0&&D.some(f.kN)){const P=D.reduce((b,x)=>(0,r.IH)(b,(0,f.TA)(x)),[0,0,0]);return(0,r.cs)(P,D.length)}return[+i,+n,0]}return this.getContentBBox(e).center}getComboStyle(e){const[i,n]=this.getComboPosition(e);return{x:i,y:n,transform:[["translate",i,n]]}}updateComboPosition(e){const i=this.getComboStyle(e);Object.assign(this.style,i);const{x:n,y:l}=i;this.context.model.syncNodeLikeDatum({id:this.id,style:{x:n,y:l}}),(0,u.Ny)(this)}render(e,i=this){super.render(e,i),this.drawCollapsedMarkerShape(e,i)}update(e={}){super.update(e),this.updateComboPosition(this.parsedAttributes)}onframe(){super.onframe(),this.attributes.collapsed||this.updateComboPosition(this.parsedAttributes),this.drawKeyShape(this.parsedAttributes,this)}animate(e,i){const n=super.animate(this.attributes.collapsed?e:e.map(l=>{var{x:M,y:O,z:D,transform:P}=l,b=c(l,["x","y","z","transform"]);return b}),i);return n&&new Proxy(n,{set:(l,M,O)=>(M==="currentTime"&&Promise.resolve().then(()=>this.onframe()),Reflect.set(l,M,O))})}}E.defaultStyleProps={childrenNode:[],droppable:!0,draggable:!0,collapsed:!1,collapsedSize:32,collapsedMarker:!0,collapsedMarkerZIndex:1,collapsedMarkerFontSize:12,collapsedMarkerTextAlign:"center",collapsedMarkerTextBaseline:"middle",collapsedMarkerType:"child-count"}},49810:function(at,N,t){"use strict";t.d(N,{D:function(){return h}});var d=t(81614),T=t(52877),y=t(59268),C=t(28660),m=t(33626),f=t(38885);class h extends f.V{constructor(o){super(o)}drawKeyShape(o,r){return this.upsert("key",d.Cd,this.getKeyStyle(o),r)}getKeyStyle(o){const{collapsed:r}=o,a=super.getKeyStyle(o),[s]=this.getKeySize(o);return Object.assign(Object.assign(Object.assign({},a),r&&(0,C.zs)(a,"collapsed")),{r:s/2})}getCollapsedKeySize(o){const[r,a]=(0,m._)(o.collapsedSize),s=Math.max(r,a)/2;return[s*2,s*2,0]}getExpandedKeySize(o){const r=this.getContentBBox(o),[a,s]=(0,T.qt)(r),u=Math.sqrt(Math.pow(a,2)+Math.pow(s,2))/2;return[u*2,u*2,0]}getIntersectPoint(o,r=!1){const a=this.getShape("key").getBounds();return(0,y.te)(o,a,r)}}},17789:function(at,N,t){"use strict";t.d(N,{DH:function(){return T.D},Vy:function(){return d.V},aM:function(){return y.a}});var d=t(38885),T=t(49810),y=t(77408)},77408:function(at,N,t){"use strict";t.d(N,{a:function(){return C}});var d=t(81614),T=t(28660),y=t(38885);class C extends y.V{constructor(f){super(f)}drawKeyShape(f,h){return this.upsert("key",d.UL,this.getKeyStyle(f),h)}getKeyStyle(f){const h=super.getKeyStyle(f),[v,o]=this.getKeySize(f);return Object.assign(Object.assign(Object.assign({},h),f.collapsed&&(0,T.zs)(h,"collapsed")),{width:v,height:o,x:-v/2,y:-o/2})}}},90956:function(at,N,t){"use strict";t.d(N,{u:function(){return E}});var d=t(81614),T=t(84237),y=t(88458),C=t(52877),m=t(41632),f=t(23295),h=t(28660),v=t(33626),o=t(95272),r=t(62879),a=t(52449),s=t(95616),u=t(23618),c=function(p,e){var i={};for(var n in p)Object.prototype.hasOwnProperty.call(p,n)&&e.indexOf(n)<0&&(i[n]=p[n]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(p);l<n.length;l++)e.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(p,n[l])&&(i[n[l]]=p[n[l]]);return i};class E extends s.H{constructor(e){super((0,o.JH)({style:E.defaultStyleProps},e)),this.type="edge"}get sourceNode(){const{sourceNode:e}=this.parsedAttributes;return this.context.element.getElement(e)}get targetNode(){const{targetNode:e}=this.parsedAttributes;return this.context.element.getElement(e)}getKeyStyle(e){const i=this.getGraphicStyle(e),{loop:n}=i,l=c(i,["loop"]),{sourceNode:M,targetNode:O}=this,P={d:n&&(0,f.Ob)(M,O)?this.getLoopPath(e):this.getKeyPath(e)};return d.y$.PARSED_STYLE_LIST.forEach(b=>{b in l&&(P[b]=l[b])}),P}getLoopPath(e){const{sourcePort:i,targetPort:n}=e,l=this.sourceNode,M=(0,C.Js)(l),O=Math.max((0,C.Ru)(M),(0,C.vs)(M)),{placement:D,clockwise:P,dist:b=O}=(0,h.zs)(this.getGraphicStyle(e),"loop");return(0,m.YH)(l,D,P,b,i,n)}getEndpoints(e,i=!0,n=[]){const{sourcePort:l,targetPort:M}=e,{sourceNode:O,targetNode:D}=this,[P,b]=(0,f.OQ)(O,D,l,M);if(!i){const K=P?(0,f.Z0)(P):O.getCenter(),U=b?(0,f.Z0)(b):D.getCenter();return[K,U]}const x=typeof n=="function"?n():n,L=(0,f.ZO)(P||O,x[0]||b||D),S=(0,f.ZO)(b||D,x[x.length-1]||P||O);return[L,S]}getHaloStyle(e){if(e.halo===!1)return!1;const i=this.getKeyStyle(e),n=(0,h.zs)(this.getGraphicStyle(e),"halo");return Object.assign(Object.assign({},i),n)}getLabelStyle(e){if(e.label===!1||!e.labelText)return!1;const i=(0,h.zs)(this.getGraphicStyle(e),"label"),{placement:n,offsetX:l,offsetY:M,autoRotate:O,maxWidth:D}=i,P=c(i,["placement","offsetX","offsetY","autoRotate","maxWidth"]),b=(0,m.AB)(this.shapeMap.key,n,O,l,M),x=this.shapeMap.key.getLocalBounds(),L=(0,a.AC)([x.min,x.max],D);return Object.assign({wordWrapWidth:L},b,P)}getBadgeStyle(e){if(e.badge===!1||!e.badgeText)return!1;const i=(0,h.zs)(e,"badge"),{offsetX:n,offsetY:l,placement:M}=i,O=c(i,["offsetX","offsetY","placement"]);return Object.assign(O,(0,m.mA)(this.shapeMap,M,e.labelPlacement,n,l))}drawArrow(e,i){var n;const l=i==="start",O=e[i==="start"?"startArrow":"endArrow"],D=this.shapeMap.key;if(O){const P=this.getArrowStyle(e,l),[b,x,L]=l?["markerStart","markerStartOffset","startArrowOffset"]:["markerEnd","markerEndOffset","endArrowOffset"],S=D.parsedStyle[b];if(S)S.attr(P);else{const K=P.src?d.Ee:d.y$,U=new K({style:P});D.style[b]=U}D.style[x]=e[L]||P.width/2+ +P.lineWidth}else{const P=l?"markerStart":"markerEnd";(n=D.style[P])===null||n===void 0||n.destroy(),D.style[P]=null}}getArrowStyle(e,i){const n=this.getShape("key").attributes,l=i?"startArrow":"endArrow",M=(0,h.zs)(this.getGraphicStyle(e),l),{size:O,type:D}=M,P=c(M,["size","type"]),[b,x]=(0,v._)((0,m.wo)(n.lineWidth,O)),S=((0,T.Z)(D)?D:r[D]||r.triangle)(b,x);return Object.assign((0,y.Z)(n,["stroke","strokeOpacity","fillOpacity"]),{width:b,height:x},Object.assign({},S&&{d:S,fill:D==="simple"?"":n.stroke}),P)}drawLabelShape(e,i){const n=this.getLabelStyle(e);this.upsert("label",u.__,n,i)}drawHaloShape(e,i){const n=this.getHaloStyle(e);this.upsert("halo",d.y$,n,i)}drawBadgeShape(e,i){const n=this.getBadgeStyle(e);this.upsert("badge",u.Ct,n,i)}drawSourceArrow(e){this.drawArrow(e,"start")}drawTargetArrow(e){this.drawArrow(e,"end")}drawKeyShape(e,i){const n=this.getKeyStyle(e);return this.upsert("key",d.y$,n,i)}render(e=this.parsedAttributes,i=this){this.drawKeyShape(e,i),this.getShape("key")&&(this.drawSourceArrow(e),this.drawTargetArrow(e),this.drawLabelShape(e,i),this.drawHaloShape(e,i),this.drawBadgeShape(e,i))}onframe(){this.drawKeyShape(this.parsedAttributes,this),this.drawSourceArrow(this.parsedAttributes),this.drawTargetArrow(this.parsedAttributes),this.drawHaloShape(this.parsedAttributes,this),this.drawLabelShape(this.parsedAttributes,this),this.drawBadgeShape(this.parsedAttributes,this)}animate(e,i){const n=super.animate(e,i);return n&&new Proxy(n,{set:(l,M,O)=>(M==="currentTime"&&Promise.resolve().then(()=>this.onframe()),Reflect.set(l,M,O))})}}E.defaultStyleProps={badge:!0,badgeOffsetX:0,badgeOffsetY:0,badgePlacement:"suffix",isBillboard:!0,label:!0,labelAutoRotate:!0,labelIsBillboard:!0,labelMaxWidth:"80%",labelOffsetX:4,labelOffsetY:0,labelPlacement:"center",labelTextBaseline:"middle",labelWordWrap:!1,halo:!1,haloDroppable:!1,haloLineDash:0,haloLineWidth:12,haloPointerEvents:"none",haloStrokeOpacity:.25,haloZIndex:-1,loop:!0,startArrow:!1,startArrowLineDash:0,startArrowLineJoin:"round",startArrowLineWidth:1,startArrowTransformOrigin:"center",startArrowType:"vee",endArrow:!1,endArrowLineDash:0,endArrowLineJoin:"round",endArrowLineWidth:1,endArrowTransformOrigin:"center",endArrowType:"vee",loopPlacement:"top",loopClockwise:!0}},58577:function(at,N,t){"use strict";t.d(N,{k:function(){return y}});var d=t(95272),T=t(59249);class y extends T.L{constructor(m){super((0,d.JH)({style:y.defaultStyleProps},m))}getControlPoints(m,f,h,v){const o=f[0]-m[0];return[[m[0]+o*h[0]+v[0],m[1]],[f[0]-o*h[1]+v[1],f[1]]]}}y.defaultStyleProps={curvePosition:[.5,.5],curveOffset:[0,0]}},77790:function(at,N,t){"use strict";t.d(N,{Z:function(){return m}});var d=t(49559),T=t(95272),y=t(26192),C=t(59249);class m extends C.L{constructor(h){super((0,T.JH)({style:m.defaultStyleProps},h))}get ref(){return this.context.model.getRootsData()[0]}getEndpoints(h){if(this.sourceNode.id===this.ref.id)return super.getEndpoints(h);const v=(0,d.TA)(this.ref),o=this.sourceNode.getIntersectPoint(v,!0),r=this.targetNode.getIntersectPoint(v);return[o,r]}toRadialCoordinate(h){const v=(0,d.TA)(this.ref),o=(0,y.TE)(h,v),r=(0,y.BJ)((0,y.$X)(h,v));return[o,r]}getControlPoints(h,v,o,r){const[a,s]=this.toRadialCoordinate(h),[u]=this.toRadialCoordinate(v),c=u-a;return[[h[0]+(c*o[0]+r[0])*Math.cos(s),h[1]+(c*o[0]+r[0])*Math.sin(s)],[v[0]-(c*o[1]-r[0])*Math.cos(s),v[1]-(c*o[1]-r[0])*Math.sin(s)]]}}m.defaultStyleProps={curvePosition:.5,curveOffset:20}},36655:function(at,N,t){"use strict";t.d(N,{l:function(){return y}});var d=t(95272),T=t(59249);class y extends T.L{constructor(m){super((0,d.JH)({style:y.defaultStyleProps},m))}getControlPoints(m,f,h,v){const o=f[1]-m[1];return[[m[0],m[1]+o*h[0]+v[0]],[f[0],f[1]-o*h[1]+v[1]]]}}y.defaultStyleProps={curvePosition:[.5,.5],curveOffset:[0,0]}},59249:function(at,N,t){"use strict";t.d(N,{L:function(){return C}});var d=t(41632),T=t(95272),y=t(90956);class C extends y.u{constructor(f){super((0,T.JH)({style:C.defaultStyleProps},f))}getKeyPath(f){const[h,v]=this.getEndpoints(f),{controlPoints:o,curvePosition:r,curveOffset:a}=f,s=this.getControlPoints(h,v,(0,d.aI)(r),(0,d.VC)(a),o);return(0,d.kY)(h,v,s)}getControlPoints(f,h,v,o,r){return(r==null?void 0:r.length)===2?r:[(0,d.yU)(f,h,v[0],o[0]),(0,d.yU)(f,h,v[1],o[1])]}}C.defaultStyleProps={curvePosition:.5,curveOffset:20}},86098:function(at,N,t){"use strict";t.d(N,{Ab:function(){return v.A},Ll:function(){return T.L},ZJ:function(){return C.Z},aH:function(){return h.a},kQ:function(){return y.k},ls:function(){return m.l},u5:function(){return d.u},x1:function(){return f.x}});var d=t(90956),T=t(59249),y=t(58577),C=t(77790),m=t(36655),f=t(57513),h=t(39263),v=t(68210)},57513:function(at,N,t){"use strict";t.d(N,{x:function(){return y}});var d=t(95272),T=t(90956);class y extends T.u{constructor(m){super((0,d.JH)({style:y.defaultStyleProps},m))}getKeyPath(m){const[f,h]=this.getEndpoints(m);return[["M",f[0],f[1]],["L",h[0],h[1]]]}}y.defaultStyleProps={}},39263:function(at,N,t){"use strict";t.d(N,{a:function(){return v}});var d=t(52877),T=t(41632),y=t(28660),C=t(36614),m=t(18679),f=t(95272),h=t(90956);class v extends h.u{constructor(r){super((0,f.JH)({style:v.defaultStyleProps},r))}getControlPoints(r){const{router:a}=r,{sourceNode:s,targetNode:u}=this,[c,E]=this.getEndpoints(r,!1);let p=[];if(!a)p=r.controlPoints;else if(a.type==="shortest-path"){const e=this.context.element.getNodes();p=(0,m.f5)(s,u,e,a),p.length||(p=(0,C.r4)(c,E,s,u,r.controlPoints,{padding:a.offset}))}else a.type==="orth"&&(p=(0,C.r4)(c,E,s,u,r.controlPoints,a));return p}getPoints(r){const a=this.getControlPoints(r),[s,u]=this.getEndpoints(r,!0,a);return[s,...a,u]}getKeyPath(r){const a=this.getPoints(r);return(0,T.eu)(a,r.radius)}getLoopPath(r){const{sourcePort:a,targetPort:s,radius:u}=r,c=this.sourceNode,E=(0,d.Js)(c),p=Math.max((0,d.Ru)(E),(0,d.vs)(E))/4,{placement:e,clockwise:i,dist:n=p}=(0,y.zs)(this.getGraphicStyle(r),"loop");return(0,T.WZ)(c,u,e,i,n,a,s)}}v.defaultStyleProps={radius:0,controlPoints:[],router:!1}},68210:function(at,N,t){"use strict";t.d(N,{A:function(){return C}});var d=t(41632),T=t(95272),y=t(90956);class C extends y.u{constructor(f){super((0,T.JH)({style:C.defaultStyleProps},f))}getKeyPath(f){const{curvePosition:h,curveOffset:v}=f,[o,r]=this.getEndpoints(f),a=f.controlPoint||(0,d.yU)(o,r,h,v);return(0,d.$D)(o,r,a)}}C.defaultStyleProps={curvePosition:.5,curveOffset:30}},13921:function(at,N,t){"use strict";const d=new WeakMap;function T(C,m,f){d.has(C)||d.set(C,{});const h=d.get(C);if(!h[m])return h[m]=f,!0;const v=h[m];return y(v,f)?!1:(h[m]=f,!0)}const y=(C,m,f=2)=>{if(typeof C!="object"||typeof m!="object")return C===m;const h=Object.keys(C),v=Object.keys(m);if(h.length!==v.length)return!1;for(const o of h){const r=C[o],a=m[o];if(f>1&&typeof r=="object"&&typeof a=="object"){if(!y(r,a,f-1))return!1}else if(r!==a)return!1}return!0}},2790:function(at,N,t){"use strict";t.d(N,{Ab:function(){return T.Ab},CJ:function(){return y.CJ},Cd:function(){return y.Cd},DH:function(){return d.DH},Ee:function(){return y.Ee},Hd:function(){return y.Hd},Ll:function(){return T.Ll},NJ:function(){return y.NJ},Pj:function(){return y.Pj},UL:function(){return y.UL},Ux:function(){return y.Ux},Vy:function(){return d.Vy},ZJ:function(){return T.ZJ},aH:function(){return T.aH},aM:function(){return d.aM},k9:function(){return y.k9},kQ:function(){return T.kQ},ls:function(){return T.ls},tv:function(){return y.tv},u5:function(){return T.u5},x1:function(){return T.x1},yi:function(){return y.yi}});var d=t(17789),T=t(86098),y=t(39385)},56707:function(at,N,t){"use strict";t.d(N,{H:function(){return E}});var d=t(81614),T=t(23295),y=t(1123),C=t(32584),m=t(59268),f=t(28660),h=t(33626),v=t(95272),o=t(52449),r=t(88102),a=t(95616),s=t(23618),u=t(48969),c=function(e,i){var n={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&i.indexOf(l)<0&&(n[l]=e[l]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var M=0,l=Object.getOwnPropertySymbols(e);M<l.length;M++)i.indexOf(l[M])<0&&Object.prototype.propertyIsEnumerable.call(e,l[M])&&(n[l[M]]=e[l[M]]);return n};class E extends a.H{constructor(i){super((0,v.JH)({style:E.defaultStyleProps},i)),this.type="node"}getSize(i=this.attributes){const{size:n}=i;return(0,h._)(n)}getKeyStyle(i){const n=this.getGraphicStyle(i);return Object.assign((0,f.Yf)(n,["label","halo","icon","badge","port"]))}getLabelStyle(i){if(i.label===!1||!i.labelText)return!1;const n=(0,f.zs)(this.getGraphicStyle(i),"label"),{placement:l,maxWidth:M,offsetX:O,offsetY:D}=n,P=c(n,["placement","maxWidth","offsetX","offsetY"]),b=this.getShape("key").getLocalBounds();return Object.assign((0,T.Ys)(b,l,O,D),{wordWrapWidth:(0,o.Wp)(b,M)},P)}getHaloStyle(i){if(i.halo===!1)return!1;const n=this.getKeyStyle(i),{fill:l}=n,M=c(n,["fill"]),O=(0,f.zs)(this.getGraphicStyle(i),"halo");return Object.assign(Object.assign(Object.assign({},M),{stroke:l}),O)}getIconStyle(i){if(i.icon===!1||!i.iconText&&!i.iconSrc)return!1;const n=(0,f.zs)(this.getGraphicStyle(i),"icon");return Object.assign((0,y.I)(i.size,n),n)}getBadgesStyle(i){var n;const l=(0,f.hB)(this.shapeMap,"badge-"),M={};if(Object.keys(l).forEach(S=>{M[S]=!1}),i.badge===!1||!(!((n=i.badges)===null||n===void 0)&&n.length))return M;const{badges:O=[],badgePalette:D,opacity:P=1}=i,b=c(i,["badges","badgePalette","opacity"]),x=(0,C.s5)(D),L=(0,f.zs)(this.getGraphicStyle(b),"badge");return O.forEach((S,K)=>{M[K]=Object.assign(Object.assign({backgroundFill:x?x[K%(x==null?void 0:x.length)]:void 0,opacity:P},L),this.getBadgeStyle(S))}),M}getBadgeStyle(i){const n=this.getShape("key"),{placement:l="top",offsetX:M,offsetY:O}=i,D=c(i,["placement","offsetX","offsetY"]),P=(0,T.Ys)(n.getLocalBounds(),l,M,O,!0);return Object.assign(Object.assign({},P),D)}getPortsStyle(i){var n;const l=this.getPorts(),M={};if(Object.keys(l).forEach(P=>{M[P]=!1}),i.port===!1||!(!((n=i.ports)===null||n===void 0)&&n.length))return M;const O=(0,f.zs)(this.getGraphicStyle(i),"port"),{ports:D=[]}=i;return D.forEach((P,b)=>{const x=P.key||b,L=Object.assign(Object.assign({},O),P);if((0,T.PH)(L))M[x]=!1;else{const[S,K]=this.getPortXY(i,P);M[x]=Object.assign({transform:[["translate",S,K]]},L)}}),M}getPortXY(i,n){const{placement:l="left"}=n,M=this.getShape("key");return(0,T.ch)(p(this.context,M),l)}getPorts(){return(0,f.hB)(this.shapeMap,"port-")}getCenter(){return this.getShape("key").getBounds().center}getIntersectPoint(i,n=!1){const l=this.getShape("key").getBounds();return(0,m.Ri)(i,l,n)}drawHaloShape(i,n){const l=this.getHaloStyle(i),M=this.getShape("key");this.upsert("halo",M.constructor,l,n)}drawIconShape(i,n){const l=this.getIconStyle(i);this.upsert("icon",s.JO,l,n),(0,u.XV)(this)}drawBadgeShapes(i,n){const l=this.getBadgesStyle(i);Object.keys(l).forEach(M=>{const O=l[M];this.upsert(`badge-${M}`,s.Ct,O,n)})}drawPortShapes(i,n){const l=this.getPortsStyle(i);Object.keys(l).forEach(M=>{const O=l[M],D=`port-${M}`;this.upsert(D,d.Cd,O,n)})}drawLabelShape(i,n){const l=this.getLabelStyle(i);this.upsert("label",s.__,l,n)}_drawKeyShape(i,n){return this.drawKeyShape(i,n)}render(i=this.parsedAttributes,n=this){this._drawKeyShape(i,n),this.getShape("key")&&(this.drawHaloShape(i,n),this.drawIconShape(i,n),this.drawBadgeShapes(i,n),this.drawLabelShape(i,n),this.drawPortShapes(i,n))}update(i){super.update(i),i&&("x"in i||"y"in i||"z"in i)&&(0,u.Ny)(this)}onframe(){this.drawBadgeShapes(this.parsedAttributes,this),this.drawLabelShape(this.parsedAttributes,this)}}E.defaultStyleProps={x:0,y:0,size:32,droppable:!0,draggable:!0,port:!0,ports:[],portZIndex:2,portLinkToCenter:!1,badge:!0,badges:[],badgeZIndex:3,halo:!1,haloDroppable:!1,haloLineDash:0,haloLineWidth:12,haloStrokeOpacity:.25,haloPointerEvents:"none",haloZIndex:-1,icon:!0,iconZIndex:1,label:!0,labelIsBillboard:!0,labelMaxWidth:"200%",labelPlacement:"bottom",labelWordWrap:!1,labelZIndex:0};function p(e,i){if(!e)return i.getLocalBounds();const n=e.canvas.getLayer(),l=i.cloneNode();(0,r.i)(l,"hidden"),n.appendChild(l);const M=l.getLocalBounds();return l.destroy(),M}},96604:function(at,N,t){"use strict";t.d(N,{C:function(){return f}});var d=t(81614),T=t(66185),y=t(59268),C=t(95272),m=t(56707);class f extends m.H{constructor(v){super((0,C.JH)({style:f.defaultStyleProps},v))}drawKeyShape(v,o){return this.upsert("key",d.Cd,this.getKeyStyle(v),o)}getKeyStyle(v){const o=super.getKeyStyle(v);return Object.assign(Object.assign({},o),{r:Math.min(...this.getSize(v))/2})}getIconStyle(v){const o=super.getIconStyle(v),{r}=this.getShape("key").attributes,a=r*2*T.f;return o?Object.assign({width:a,height:a},o):!1}getIntersectPoint(v,o=!1){const r=this.getShape("key").getBounds();return(0,y.te)(v,r,o)}}f.defaultStyleProps={size:32}},10157:function(at,N,t){"use strict";t.d(N,{t:function(){return y}});var d=t(23295),T=t(48889);class y extends T.m{constructor(m){super(m)}getPoints(m){const[f,h]=this.getSize(m);return(0,d.UC)(f,h)}}},64078:function(at,N,t){"use strict";t.d(N,{y:function(){return r}});var d=t(81614),T=t(27412),y=t(26912),C=t(32584),m=t(28660),f=t(33626),h=t(95272),v=t(96604),o=function(E,p){var e={};for(var i in E)Object.prototype.hasOwnProperty.call(E,i)&&p.indexOf(i)<0&&(e[i]=E[i]);if(E!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(E);n<i.length;n++)p.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(E,i[n])&&(e[i[n]]=E[i[n]]);return e};class r extends v.C{constructor(p){super((0,h.JH)({style:r.defaultStyleProps},p))}parseOuterR(){const{size:p}=this.parsedAttributes;return Math.min(...(0,f._)(p))/2}parseInnerR(){const{innerR:p}=this.parsedAttributes;return(0,T.Z)(p)?parseInt(p)/100*this.parseOuterR():p}drawDonutShape(p,e){const{donuts:i}=p;if(!(i!=null&&i.length))return;const n=i.map(x=>(0,y.Z)(x)?{value:x}:x),l=(0,m.zs)(this.getGraphicStyle(p),"donut"),M=(0,C.s5)(p.donutPalette);if(!M)return;const O=n.reduce((x,L)=>{var S;return x+((S=L.value)!==null&&S!==void 0?S:0)},0),D=this.parseOuterR(),P=this.parseInnerR();let b=0;n.forEach((x,L)=>{const{value:S=0,color:K=M[L%M.length]}=x,U=o(x,["value","color"]),j=(O===0?1/n.length:S/O)*360;this.upsert(`round${L}`,d.y$,Object.assign(Object.assign(Object.assign({},l),{d:c(D,P,b,b+j),fill:K}),U),e),b+=j})}render(p,e=this){super.render(p,e),this.drawDonutShape(p,e)}}r.defaultStyleProps={innerR:"50%",donuts:[],donutPalette:"tableau"};const a=(E,p,e,i)=>[E+Math.sin(i)*e,p-Math.cos(i)*e],s=(E,p,e,i)=>i<=0||e<=i?[["M",E-e,p],["A",e,e,0,1,1,E+e,p],["A",e,e,0,1,1,E-e,p],["Z"]]:[["M",E-e,p],["A",e,e,0,1,1,E+e,p],["A",e,e,0,1,1,E-e,p],["Z"],["M",E+i,p],["A",i,i,0,1,0,E-i,p],["A",i,i,0,1,0,E+i,p],["Z"]],u=(E,p,e,i,n,l)=>{const[M,O]=[n/360*2*Math.PI,l/360*2*Math.PI],D=[a(E,p,i,M),a(E,p,e,M),a(E,p,e,O),a(E,p,i,O)],P=O-M>Math.PI?1:0;return[["M",D[0][0],D[0][1]],["L",D[1][0],D[1][1]],["A",e,e,0,P,1,D[2][0],D[2][1]],["L",D[3][0],D[3][1]],["A",i,i,0,P,0,D[0][0],D[0][1]],["Z"]]},c=(E=0,p=0,e,i)=>{const[n,l]=[0,0];return Math.abs(e-i)%360<1e-6?s(n,l,E,p):u(n,l,E,p,e,i)}},88640:function(at,N,t){"use strict";t.d(N,{P:function(){return f}});var d=t(81614),T=t(66185),y=t(59268),C=t(95272),m=t(56707);class f extends m.H{constructor(v){super((0,C.JH)({style:f.defaultStyleProps},v))}drawKeyShape(v,o){return this.upsert("key",d.Pj,this.getKeyStyle(v),o)}getKeyStyle(v){const o=super.getKeyStyle(v),[r,a]=this.getSize(v);return Object.assign(Object.assign({},o),{rx:r/2,ry:a/2})}getIconStyle(v){const o=super.getIconStyle(v),{rx:r,ry:a}=this.getShape("key").attributes,s=Math.min(+r,+a)*2*T.f;return o?Object.assign({width:s,height:s},o):!1}getIntersectPoint(v,o=!1){const r=this.getShape("key").getBounds();return(0,y.te)(v,r,o)}}f.defaultStyleProps={size:[45,35]}},48490:function(at,N,t){"use strict";t.d(N,{N:function(){return C}});var d=t(66185),T=t(23295),y=t(48889);class C extends y.m{constructor(f){super(f)}getOuterR(f){return f.outerR||Math.min(...this.getSize(f))/2}getPoints(f){return(0,T.Jo)(this.getOuterR(f))}getIconStyle(f){const h=super.getIconStyle(f),v=this.getOuterR(f)*d.f;return h?Object.assign({width:v,height:v},h):!1}}},46490:function(at,N,t){"use strict";t.d(N,{k:function(){return r}});var d=t(81614),T=t(61075),y=t(28767),C=t(88458),m=t(36179),f=t(89148),h=t(23098),v=t(56707),o=function(a,s){var u={};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&s.indexOf(c)<0&&(u[c]=a[c]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var E=0,c=Object.getOwnPropertySymbols(a);E<c.length;E++)s.indexOf(c[E])<0&&Object.prototype.propertyIsEnumerable.call(a,c[E])&&(u[c[E]]=a[c[E]]);return u};class r extends v.H{constructor(s){super(Object.assign(Object.assign({},s),{style:Object.assign({},r.defaultStyleProps,s.style)})),this.rootPointerEvent=new d.nR(null),this.forwardEvents=u=>{const c=this.context.canvas,E=c.context.renderingContext.root.ownerDocument.defaultView;this.normalizeToPointerEvent(u,E).forEach(e=>{const i=this.bootstrapEvent(this.rootPointerEvent,e,E,u);(0,y.Z)(c.context.eventService,"mappingTable.pointerupoutside",[]),c.context.eventService.mapEvent(i)})}}get eventService(){return this.context.canvas.context.eventService}get events(){return[h.C9.CLICK,h.C9.POINTER_DOWN,h.C9.POINTER_MOVE,h.C9.POINTER_UP,h.C9.POINTER_OVER,h.C9.POINTER_LEAVE]}getDomElement(){return this.getShape("key").getDomElement()}render(s=this.parsedAttributes,u=this){this.drawKeyShape(s,u),this.drawPortShapes(s,u)}getKeyStyle(s){const u=(0,C.Z)(s,["dx","dy","innerHTML","pointerEvents","cursor"]),{dx:c=0,dy:E=0}=u,p=o(u,["dx","dy"]),[e,i]=this.getSize(s);return Object.assign(Object.assign({x:c,y:E},p),{width:e,height:i})}drawKeyShape(s,u){const c=this.getKeyStyle(s),{x:E,y:p,width:e=0,height:i=0}=c,n=this.upsert("key-container",d.UL,{x:E,y:p,width:e,height:i,opacity:0},u);return this.upsert("key",d.k9,c,n)}connectedCallback(){if(!(this.context.canvas.getRenderer("main")instanceof T.Th))return;const c=this.getDomElement();this.events.forEach(E=>{c.addEventListener(E,this.forwardEvents)})}attributeChangedCallback(s,u,c){s==="zIndex"&&u!==c&&(this.getDomElement().style.zIndex=c)}destroy(){const s=this.getDomElement();this.events.forEach(u=>{s.removeEventListener(u,this.forwardEvents)}),super.destroy()}normalizeToPointerEvent(s,u){const c=[];if(u.isTouchEvent(s))for(let E=0;E<s.changedTouches.length;E++){const p=s.changedTouches[E];(0,m.Z)(p.button)&&(p.button=0),(0,m.Z)(p.buttons)&&(p.buttons=1),(0,m.Z)(p.isPrimary)&&(p.isPrimary=s.touches.length===1&&s.type==="touchstart"),(0,m.Z)(p.width)&&(p.width=p.radiusX||1),(0,m.Z)(p.height)&&(p.height=p.radiusY||1),(0,m.Z)(p.tiltX)&&(p.tiltX=0),(0,m.Z)(p.tiltY)&&(p.tiltY=0),(0,m.Z)(p.pointerType)&&(p.pointerType="touch"),(0,m.Z)(p.pointerId)&&(p.pointerId=p.identifier||0),(0,m.Z)(p.pressure)&&(p.pressure=p.force||.5),(0,m.Z)(p.twist)&&(p.twist=0),(0,m.Z)(p.tangentialPressure)&&(p.tangentialPressure=0),p.isNormalized=!0,p.type=s.type,c.push(p)}else if(u.isMouseEvent(s)){const E=s;(0,m.Z)(E.isPrimary)&&(E.isPrimary=!0),(0,m.Z)(E.width)&&(E.width=1),(0,m.Z)(E.height)&&(E.height=1),(0,m.Z)(E.tiltX)&&(E.tiltX=0),(0,m.Z)(E.tiltY)&&(E.tiltY=0),(0,m.Z)(E.pointerType)&&(E.pointerType="mouse"),(0,m.Z)(E.pointerId)&&(E.pointerId=1),(0,m.Z)(E.pressure)&&(E.pressure=.5),(0,m.Z)(E.twist)&&(E.twist=0),(0,m.Z)(E.tangentialPressure)&&(E.tangentialPressure=0),E.isNormalized=!0,c.push(E)}else c.push(s);return c}transferMouseData(s,u){s.isTrusted=u.isTrusted,s.srcElement=u.srcElement,s.timeStamp=performance.now(),s.type=u.type,s.altKey=u.altKey,s.metaKey=u.metaKey,s.shiftKey=u.shiftKey,s.ctrlKey=u.ctrlKey,s.button=u.button,s.buttons=u.buttons,s.client.x=u.clientX,s.client.y=u.clientY,s.movement.x=u.movementX,s.movement.y=u.movementY,s.page.x=u.pageX,s.page.y=u.pageY,s.screen.x=u.screenX,s.screen.y=u.screenY,s.relatedTarget=null}bootstrapEvent(s,u,c,E){s.view=c,s.originalEvent=null,s.nativeEvent=E,s.pointerId=u.pointerId,s.width=u.width,s.height=u.height,s.isPrimary=u.isPrimary,s.pointerType=u.pointerType,s.pressure=u.pressure,s.tangentialPressure=u.tangentialPressure,s.tiltX=u.tiltX,s.tiltY=u.tiltY,s.twist=u.twist,this.transferMouseData(s,u);const{x:p,y:e}=this.getViewportXY(u);s.viewport.x=p,s.viewport.y=e;const[i,n]=this.context.canvas.getCanvasByViewport([p,e]);return s.canvas.x=i,s.canvas.y=n,s.global.copyFrom(s.canvas),s.offset.copyFrom(s.canvas),s.isTrusted=E.isTrusted,s.type==="pointerleave"&&(s.type="pointerout"),s}getViewportXY(s){let u,c;const{offsetX:E,offsetY:p,clientX:e,clientY:i}=s;if(!(0,f.Z)(E)&&!(0,f.Z)(p))u=E,c=p;else{const n=this.eventService.client2Viewport({x:e,y:i});u=n.x,c=n.y}return{x:u,y:c}}onframe(){super.onframe();const{opacity:s}=this.attributes;this.getDomElement().style.opacity=`${s}`}}r.defaultStyleProps={size:[160,80],halo:!1,icon:!1,label:!1,pointerEvents:"auto"}},83371:function(at,N,t){"use strict";t.d(N,{E:function(){return r}});var d=t(81614),T=t(66185),y=t(28660),C=t(95272),m=t(26192),f=t(23618),h=t(48969),v=t(56707),o=function(a,s){var u={};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&s.indexOf(c)<0&&(u[c]=a[c]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var E=0,c=Object.getOwnPropertySymbols(a);E<c.length;E++)s.indexOf(c[E])<0&&Object.prototype.propertyIsEnumerable.call(a,c[E])&&(u[c[E]]=a[c[E]]);return u};class r extends v.H{constructor(s){super((0,C.JH)({style:r.defaultStyleProps},s))}getKeyStyle(s){const[u,c]=this.getSize(s),E=super.getKeyStyle(s),{fillOpacity:p,opacity:e=p}=E,i=o(E,["fillOpacity","opacity"]);return Object.assign(Object.assign({opacity:e},i),{width:u,height:c,x:-u/2,y:-c/2})}getBounds(){return this.getShape("key").getBounds()}getHaloStyle(s){if(s.halo===!1)return!1;const u=this.getShape("key").attributes,{fill:c,stroke:E}=u,p=o(u,["fill","stroke"]),e=(0,y.zs)(this.getGraphicStyle(s),"halo"),i=Number(e.lineWidth),[n,l]=(0,m.IH)(this.getSize(s),[i,i]),{lineWidth:M}=e,O={fill:"transparent",lineWidth:M/2,width:n-M/2,height:l-M/2,x:-(n-M/2)/2,y:-(l-M/2)/2};return Object.assign(Object.assign({},e),O)}getIconStyle(s){const u=super.getIconStyle(s),[c,E]=this.getSize(s);return u?Object.assign({width:c*T.f,height:E*T.f},u):!1}drawKeyShape(s,u){const c=this.upsert("key",f.Ee,this.getKeyStyle(s),u);return(0,h.XV)(this),c}drawHaloShape(s,u){this.upsert("halo",d.UL,this.getHaloStyle(s),u)}update(s){super.update(s),s&&("x"in s||"y"in s||"z"in s)&&(0,h.Ny)(this)}}r.defaultStyleProps={size:32}},39385:function(at,N,t){"use strict";t.d(N,{CJ:function(){return a.C},Cd:function(){return T.C},Ee:function(){return v.E},Hd:function(){return d.H},NJ:function(){return f.N},Pj:function(){return m.P},UL:function(){return o.U},Ux:function(){return r.U},k9:function(){return h.k},tv:function(){return y.t},yi:function(){return C.y}});var d=t(56707),T=t(96604),y=t(10157),C=t(64078),m=t(88640),f=t(48490),h=t(46490),v=t(83371),o=t(45623),r=t(74326),a=t(12872)},45623:function(at,N,t){"use strict";t.d(N,{U:function(){return C}});var d=t(81614),T=t(66185),y=t(56707);class C extends y.H{constructor(f){super(f)}getKeyStyle(f){const[h,v]=this.getSize(f);return Object.assign(Object.assign({},super.getKeyStyle(f)),{width:h,height:v,x:-h/2,y:-v/2})}getIconStyle(f){const h=super.getIconStyle(f),{width:v,height:o}=this.getShape("key").attributes;return h?Object.assign({width:v*T.f,height:o*T.f},h):!1}drawKeyShape(f,h){return this.upsert("key",d.UL,this.getKeyStyle(f),h)}}},74326:function(at,N,t){"use strict";t.d(N,{U:function(){return C}});var d=t(66185),T=t(23295),y=t(48889);class C extends y.m{constructor(f){super(f)}getInnerR(f){return f.innerR||this.getOuterR(f)*3/8}getOuterR(f){return Math.min(...this.getSize(f))/2}getPoints(f){return(0,T.Xm)(this.getOuterR(f),this.getInnerR(f))}getIconStyle(f){const h=super.getIconStyle(f),v=this.getInnerR(f)*2*d.f;return h?Object.assign({width:v,height:v},h):!1}getPortXY(f,h){const{placement:v="top"}=h,o=this.getShape("key").getLocalBounds(),r=(0,T.UA)(this.getOuterR(f),this.getInnerR(f));return(0,T.ch)(o,v,r,!1)}}},12872:function(at,N,t){"use strict";t.d(N,{C:function(){return v}});var d=t(61989),T=t(66185),y=t(52877),C=t(23295),m=t(28660),f=t(95272),h=t(48889);class v extends h.m{constructor(r){super((0,f.JH)({style:v.defaultStyleProps},r))}getPoints(r){const{direction:a}=r,[s,u]=this.getSize(r);return(0,C.mw)(s,u,a)}getPortXY(r,a){const{direction:s}=r,{placement:u="top"}=a,c=this.getShape("key").getLocalBounds(),[E,p]=this.getSize(r),e=(0,C.Pe)(E,p,s);return(0,C.ch)(c,u,e,!1)}getIconStyle(r){const{icon:a,iconText:s,iconSrc:u,direction:c}=r;if(a===!1||(0,d.Z)(s||u))return!1;const E=(0,m.zs)(this.getGraphicStyle(r),"icon"),p=this.getShape("key").getLocalBounds(),[e,i]=(0,y.ew)(p,c),n=(0,y.wK)(p,c)*2*T.f;return Object.assign({x:e,y:i,width:n,height:n},E)}}v.defaultStyleProps={size:40,direction:"up"}},87484:function(at,N,t){"use strict";t.d(N,{C:function(){return C}});var d=t(95272),T=t(65840),y=t(21344);class C extends T.P{constructor(f){super((0,d.JH)({style:C.defaultStyleProps},f))}getBadgeStyle(f){return this.getGraphicStyle(f)}render(f=this.parsedAttributes,h=this){this.upsert("label",y._,this.getBadgeStyle(f),h)}getGeometryBounds(){const f=this.getShape("label");return(f.getShape("background")||f.getShape("text")).getGeometryBounds()}}C.defaultStyleProps={padding:[2,4,2,4],fontSize:10,wordWrap:!1,backgroundRadius:"50%",backgroundOpacity:1}},65840:function(at,N,t){"use strict";t.d(N,{P:function(){return c}});var d=t(81614),T=t(18599),y=t(84237),C=t(61989),m=t(23098),f=t(69759),h=t(23295),v=t(28660),o=t(90040),r=t(95272),a=t(40812),s=t(88102),u=t(15186);class c extends d.b_{constructor(i){p(i.style),super(i),this.shapeMap={},this.animateMap={},this.render(this.attributes,this),this.setVisibility(),this.bindEvents()}get parsedAttributes(){return this.attributes}upsert(i,n,l,M,O){var D,P,b,x,L,S,K,U;const j=this.shapeMap[i];if(l===!1){j&&((D=O==null?void 0:O.beforeDestroy)===null||D===void 0||D.call(O,j),M.removeChild(j),delete this.shapeMap[i],(P=O==null?void 0:O.afterDestroy)===null||P===void 0||P.call(O,j));return}const F=typeof n=="string"?(0,u.R)(m.MD.SHAPE,n):n;if(!F)throw new Error((0,o.W)(`Shape ${n} not found`));if(!j||j.destroyed||!(j instanceof F)){j&&((b=O==null?void 0:O.beforeDestroy)===null||b===void 0||b.call(O,j),j==null||j.destroy(),(x=O==null?void 0:O.afterDestroy)===null||x===void 0||x.call(O,j)),(L=O==null?void 0:O.beforeCreate)===null||L===void 0||L.call(O);const W=new F({className:i,style:l});return M.appendChild(W),this.shapeMap[i]=W,(S=O==null?void 0:O.afterCreate)===null||S===void 0||S.call(O,W),W}return(K=O==null?void 0:O.beforeUpdate)===null||K===void 0||K.call(O,j),(0,h.Uz)(j,l),(U=O==null?void 0:O.afterUpdate)===null||U===void 0||U.call(O,j),j}update(i={}){const n=Object.assign({},this.attributes,i);p(n),(0,h.KT)(this,n),this.render(n,this),this.setVisibility()}bindEvents(){}getGraphicStyle(i){return(0,r.Df)(i)}get compositeShapes(){return[["badges","badge-"],["ports","port-"]]}animate(i,n){if(i.length===0)return null;const l=[];if(i[0].x!==void 0||i[0].y!==void 0||i[0].z!==void 0){const{x:O=0,y:D=0,z:P=0}=this.attributes;i.forEach(b=>{const{x=O,y:L=D,z:S=P}=b;Object.assign(b,{transform:S?[["translate3d",x,L,S]]:[["translate",x,L]]})})}const M=super.animate(i,n);if(M&&(E(this,M),l.push(M)),Array.isArray(i)&&i.length>0){const O=["transform","transformOrigin","x","y","z","zIndex"];if(Object.keys(i[0]).some(D=>!O.includes(D))){Object.entries(this.shapeMap).forEach(([P,b])=>{const x=`get${(0,T.Z)(P)}Style`,L=this[x];if((0,y.Z)(L)){const S=i.map(U=>L.call(this,Object.assign(Object.assign({},this.attributes),U))),K=b.animate((0,f.dk)(S),n);K&&(E(b,K),l.push(K))}});const D=(P,b)=>{if(!(0,C.Z)(P)){const x=`get${(0,T.Z)(b)}Style`,L=this[x];if((0,y.Z)(L)){const S=i.map(K=>L.call(this,Object.assign(Object.assign({},this.attributes),K)));Object.entries(S[0]).map(([K])=>{const U=S.map(F=>F[K]),j=P[K];if(j){const F=j.animate((0,f.dk)(U),n);F&&(E(j,F),l.push(F))}})}}};this.compositeShapes.forEach(([P,b])=>{const x=(0,v.hB)(this.shapeMap,b);D(x,P)})}}return(0,f.zt)(l)}getShape(i){return this.shapeMap[i]}setVisibility(){const{visibility:i}=this.attributes;(0,s.i)(this,i)}destroy(){this.shapeMap={},this.animateMap={},super.destroy()}}function E(e,i){i==null||i.finished.then(()=>{const n=e.activeAnimations.findIndex(l=>l===i);n>-1&&e.activeAnimations.splice(n,1)})}function p(e){if(!e)return{};if("x"in e||"y"in e||"z"in e){const{x:i=0,y:n=0,z:l,transform:M}=e,O=(0,a.u)(i,n,l,M);O&&(e.transform=O)}return e}},59211:function(at,N,t){"use strict";t.d(N,{f:function(){return o}});var d=t(81614),T=t(81177),y=t(28660),C=t(95272),m=t(52449),f=t(65840),h=t(21344),v=function(r,a){var s={};for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&a.indexOf(u)<0&&(s[u]=r[u]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,u=Object.getOwnPropertySymbols(r);c<u.length;c++)a.indexOf(u[c])<0&&Object.prototype.propertyIsEnumerable.call(r,u[c])&&(s[u[c]]=r[u[c]]);return s};class o extends f.P{constructor(a){super((0,C.JH)({style:o.defaultStyleProps},a))}getLabelStyle(a){if(!a.label||!a.d||a.d.length===0)return!1;const s=(0,y.zs)(this.getGraphicStyle(a),"label"),{maxWidth:u,offsetX:c,offsetY:E,autoRotate:p,placement:e,closeToPath:i}=s,n=v(s,["maxWidth","offsetX","offsetY","autoRotate","placement","closeToPath"]),l=this.shapeMap.key,M=l==null?void 0:l.getRenderBounds();return Object.assign((0,T.j)(M,e,c,E,i,a.d,p),{wordWrapWidth:(0,m.Wp)(M,u)},n)}getKeyStyle(a){return this.getGraphicStyle(a)}render(a,s){this.upsert("key",d.y$,this.getKeyStyle(a),s),this.upsert("label",h._,this.getLabelStyle(a),s)}}o.defaultStyleProps={label:!0,labelPlacement:"bottom",labelCloseToPath:!0,labelAutoRotate:!0,labelOffsetX:0,labelOffsetY:0}},75488:function(at,N,t){"use strict";t.d(N,{J:function(){return C}});var d=t(81614),T=t(65840),y=t(48969);class C extends T.P{constructor(f){super(f)}isImage(){const{src:f}=this.attributes;return!!f}getIconStyle(f=this.attributes){const{width:h=0,height:v=0}=f,o=this.getGraphicStyle(f);return this.isImage()?Object.assign({x:-h/2,y:-v/2},o):Object.assign({textBaseline:"middle",textAlign:"center"},o)}render(f=this.attributes,h=this){this.upsert("icon",this.isImage()?y.Ee:d.xv,this.getIconStyle(f),h)}}},48969:function(at,N,t){"use strict";t.d(N,{Ee:function(){return y},Ny:function(){return h},XV:function(){return f}});var d=t(81614),T=t(39310);class y extends d.Ee{constructor(o){super(o),this.onMounted=()=>{this.handleRadius()},this.onAttrModified=()=>{this.handleRadius()},m=this,this.isMutationObserved=!0,this.addEventListener(d.Dk.MOUNTED,this.onMounted),this.addEventListener(d.Dk.ATTR_MODIFIED,this.onAttrModified)}handleRadius(){const{radius:o,clipPath:r,width:a=0,height:s=0}=this.attributes;if(o&&a&&s){const[u,c]=this.getBounds().min,E={x:u,y:c,radius:o,width:a,height:s};if(r)Object.assign(this.parsedStyle.clipPath.style,E);else{const p=new d.UL({style:E});this.style.clipPath=p}}else r&&(this.style.clipPath=null)}}const C=new WeakMap;let m=null;const f=v=>{if(m&&(0,T.d)(m).includes(v)){const o=C.get(v);o?o.includes(m)||o.push(m):C.set(v,[m])}},h=v=>{const o=C.get(v);o&&o.forEach(r=>r.handleRadius())}},23618:function(at,N,t){"use strict";t.d(N,{Ct:function(){return d.C},Ee:function(){return m.Ee},JO:function(){return C.J},PS:function(){return T.P},__:function(){return f._},ff:function(){return y.f}});var d=t(87484),T=t(65840),y=t(59211),C=t(75488),m=t(48969),f=t(21344)},21344:function(at,N,t){"use strict";t.d(N,{_:function(){return h}});var d=t(81614),T=t(17439),y=t(28660),C=t(95272),m=t(65840),f=function(v,o){var r={};for(var a in v)Object.prototype.hasOwnProperty.call(v,a)&&o.indexOf(a)<0&&(r[a]=v[a]);if(v!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(v);s<a.length;s++)o.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(v,a[s])&&(r[a[s]]=v[a[s]]);return r};class h extends m.P{constructor(o){super((0,C.JH)({style:h.defaultStyleProps},o))}isTextStyle(o){return(0,y.Ny)(o,"label")}isBackgroundStyle(o){return(0,y.Ny)(o,"background")}getTextStyle(o){const r=this.getGraphicStyle(o),{padding:a}=r,s=f(r,["padding"]);return(0,y.Yf)(s,"background")}getBackgroundStyle(o){if(o.background===!1)return!1;const r=this.getGraphicStyle(o),{wordWrap:a,wordWrapWidth:s,padding:u}=r,c=(0,y.zs)(r,"background"),{min:[E,p],center:[e,i],halfExtents:[n,l]}=this.shapeMap.text.getGeometryBounds(),[M,O,D,P]=(0,T.dj)(u),b=n*2+P+O,{width:x,height:L}=c;x&&L?Object.assign(c,{x:e-Number(x)/2,y:i-Number(L)/2}):Object.assign(c,{x:E-P,y:p-M,width:a?Math.min(b,s+P+O):b,height:l*2+M+D});const{radius:S}=c;if(typeof S=="string"&&S.endsWith("%")){const K=Number(S.replace("%",""))/100;c.radius=Math.min(+c.width,+c.height)*K}return c}render(o=this.parsedAttributes,r=this){this.upsert("text",d.xv,this.getTextStyle(o),r),this.upsert("background",d.UL,this.getBackgroundStyle(o),r)}getGeometryBounds(){return(this.getShape("background")||this.getShape("text")).getGeometryBounds()}}h.defaultStyleProps={padding:0,fontSize:12,fontFamily:"system-ui, sans-serif",wordWrap:!0,maxLines:1,wordWrapWidth:128,textOverflow:"...",textBaseline:"middle",backgroundOpacity:.75,backgroundZIndex:-1,backgroundLineWidth:0}},48889:function(at,N,t){"use strict";t.d(N,{m:function(){return C}});var d=t(81614),T=t(59268),y=t(56707);class C extends y.H{constructor(f){super(f)}get parsedAttributes(){return this.attributes}drawKeyShape(f,h){return this.upsert("key",d.mg,this.getKeyStyle(f),h)}getKeyStyle(f){const h=super.getKeyStyle(f);return Object.assign(Object.assign({},h),{points:this.getPoints(f)})}getIntersectPoint(f,h=!1){var v,o;const{points:r}=this.getShape("key").attributes,a=[+(((v=this.attributes)===null||v===void 0?void 0:v.x)||0),+(((o=this.attributes)===null||o===void 0?void 0:o.y)||0)];return(0,T.AC)(f,a,r,!0,h).point}}},15707:function(at,N,t){"use strict";t.d(N,{jD:function(){return E.jD},kJ:function(){return u.k}});var d=t(26990),T=t(23098),y=t(17789),C=t(86098),m=t(13921),f=t(39385),h=t(23618),v=t(4709),o=t(91572),r=t(15186),a=t(2071),s=t(33132),u=t(16918),c=t(24469),E=t(29193),p=t(70562),e=t(80860),i=t(17160)},40200:function(at,N,t){"use strict";t.d(N,{kJ:function(){return T.kJ}});var d=t(97519),T=t(15707);const y={css:"//at.alicdn.com/t/a/font_470089_8hnbbf8n4u8.css",js:"//at.alicdn.com/t/a/font_470089_8hnbbf8n4u8.js"}},27933:function(at,N,t){"use strict";t.d(N,{I:function(){return d}});class d{constructor(y,C){this.context=y,this.options=C||{}}}},15584:function(at,N,t){"use strict";t.d(N,{m:function(){return h}});var d=t(61989),T=t(15427),y=t(29193),C=t(33626),m=t(27933),f=function(a,s,u,c){function E(p){return p instanceof u?p:new u(function(e){e(p)})}return new(u||(u=Promise))(function(p,e){function i(M){try{l(c.next(M))}catch(O){e(O)}}function n(M){try{l(c.throw(M))}catch(O){e(O)}}function l(M){M.done?p(M.value):E(M.value).then(i,n)}l((c=c.apply(a,s||[])).next())})};class h extends m.I{constructor(){super(...arguments),this.id="fishbone"}getRoot(){const s=this.context.model.getRootsData();if(!((0,d.Z)(s)||s.length>2))return s[0]}formatSize(s){const u=typeof s=="function"?s:()=>s;return c=>(0,C._)(u(c))}doLayout(s,u){const{hGap:c,getRibSep:E,vGap:p,nodeSize:e,height:i}=u,{model:n}=this.context,l=this.formatSize(e);let M=l(s)[0]+E(s);const O=(U,j=0)=>{var F;return j+=c*((U.children||[]).length+1),(F=U.children)===null||F===void 0||F.forEach(W=>{var w;(w=n.getNodeLikeDatum(W).children)===null||w===void 0||w.forEach(H=>{const Y=n.getNodeLikeDatum(H);j=O(Y,j)})}),j},D=U=>{if(U.depth===1)return M;const j=n.getParentData(U.id,"tree");if(r(U)){const F=n.getParentData(j.id,"tree"),W=x(U)-x(F);return D(j)+W*c/p}else{const F=(j.children||[]).indexOf(U.id),W=n.getNodeData((j.children||[]).slice(F));return P(j)-W.reduce((w,z)=>w+O(z),0)-l(j)[0]/2}},P=(0,T.Z)(U=>{if(o(U))return l(U)[0]/2;const j=n.getParentData(U.id,"tree");if(r(U))return D(U)+O(U)+l(U)[0]/2;{const F=x(U)-x(j),W=c/p;return D(U)+F*W}},U=>U.id),b=U=>x(n.getParentData(U,"tree")),x=(0,T.Z)(U=>{if(o(U))return i/2;if(r(U)){const j=n.getParentData(U.id,"tree"),F=j.children.indexOf(U.id);if(F===0)return b(j.id)+p;const W=n.getNodeLikeDatum(j.children[F-1]);if((0,d.Z)(W.children))return x(W)+p;const w=n.getDescendantsData(W.id);return Math.max(...w.map(z=>r(z)?b(z.id):x(z)))+p}else{if((0,d.Z)(U.children))return b(U.id)+p;const j=n.getNodeLikeDatum(U.children.slice(-1)[0]);if((0,d.Z)(j.children))return x(j)+p;const F=n.getDescendantsData(U.id).slice(-1)[0];return(r(F)?b(F.id):x(F))+p}},U=>U.id);let L=0;const S={nodes:[],edges:[]},K=U=>{var j;(j=U.children)===null||j===void 0||j.forEach(H=>K(n.getNodeLikeDatum(H)));const F=x(U),W=P(U);if(S.nodes.push({id:U.id,x:W,y:F}),o(U))return;const w=n.getRelatedEdgesData(U.id,"in")[0],z=[D(U),r(U)?F:b(U.id)];S.edges.push({id:(0,y.jD)(w),controlPoints:[z],relatedNodeId:U.id}),L=Math.max(L,W+E(U)),U.depth===1&&(M=L)};return K(s),S}placeAlterative(s,u){const c=(u.children||[]).filter((i,n)=>n%2!==0);if(c.length===0)return s;const{model:E}=this.context,p=s.nodes.find(i=>i.id===u.id).y,e=i=>{const n=E.getAncestorsData(i,"tree");if((0,d.Z)(n))return!1;const l=n.length===1?i:n[n.length-2].id;return c.includes(l)};s.nodes.forEach(i=>{e(i.id)&&(i.y=2*p-i.y)}),s.edges.forEach(i=>{e(i.relatedNodeId)&&(i.controlPoints=i.controlPoints.map(n=>[n[0],2*p-n[1]]))})}rightToLeft(s,u){return s.nodes.forEach(c=>c.x=u.width-c.x),s.edges.forEach(c=>{c.controlPoints=c.controlPoints.map(E=>[u.width-E[0],E[1]])}),s}execute(s,u){return f(this,void 0,void 0,function*(){const c=Object.assign(Object.assign(Object.assign({},h.defaultOptions),this.options),u),{direction:E,nodeSize:p}=c,e=this.getRoot();if(!e)return s;const i=this.formatSize(p);c.vGap||(c.vGap=Math.max(...(s.nodes||[]).map(D=>i(D)[1]))),c.hGap||(c.hGap=Math.max(...(s.nodes||[]).map(D=>i(D)[0])));let n=this.doLayout(e,c);this.placeAlterative(n,e),E==="RL"&&(n=this.rightToLeft(n,c));const{model:l}=this.context,M=[],O=[];return n.nodes.forEach(D=>{const{id:P,x:b,y:x}=D,L=l.getNodeLikeDatum(P);M.push(v(L,{x:b,y:x}))}),n.edges.forEach(D=>{const{id:P,controlPoints:b}=D,x=l.getEdgeDatum(P);O.push(v(x,{controlPoints:b}))}),{nodes:M,edges:O}})}}h.defaultOptions={direction:"RL",getRibSep:()=>60};const v=(a,s)=>Object.assign(Object.assign({},a),{style:Object.assign(Object.assign({},a.style||{}),s)}),o=a=>a.depth===0,r=a=>(a.depth||(a.depth=0))%2===0},4709:function(at,N,t){"use strict";t.d(N,{AI:function(){return u.A},D4:function(){return c.D},E9:function(){return o.E},F0:function(){return d.mindmap},IE:function(){return p.I},Me:function(){return s.M},O2:function(){return a.O},SB:function(){return C.S},V:function(){return d.compactBox},Vq:function(){return v.V},W1:function(){return f.W},WH:function(){return d.dendrogram},_5:function(){return E._},b8:function(){return y.b},dt:function(){return i.d},eb:function(){return d.indented},jA:function(){return h.j},mf:function(){return e.m},uR:function(){return m.u},y7:function(){return r.y}});var d=t(74355),T=t.n(d),y=t(95446),C=t(37644),m=t(85399),f=t(3447),h=t(36238),v=t(99580),o=t(41292),r=t(39538),a=t(83700),s=t(22591),u=t(26993),c=t(92770),E=t(69053),p=t(27933),e=t(15584),i=t(86158)},86158:function(at,N,t){"use strict";t.d(N,{d:function(){return m}});var d=t(17439),T=t(33626),y=t(27933),C=function(h,v,o,r){function a(s){return s instanceof o?s:new o(function(u){u(s)})}return new(o||(o=Promise))(function(s,u){function c(e){try{p(r.next(e))}catch(i){u(i)}}function E(e){try{p(r.throw(e))}catch(i){u(i)}}function p(e){e.done?s(e.value):a(e.value).then(c,E)}p((r=r.apply(h,v||[])).next())})};class m extends y.I{constructor(){super(...arguments),this.id="snake"}formatSize(v,o){const r=typeof o=="function"?o:()=>o;return v.reduce((a,s)=>{const[u,c]=(0,T._)(r(s))||[0,0];return[Math.max(a[0],u),Math.max(a[1],c)]},[0,0])}validate(v){const{nodes:o=[],edges:r=[]}=v,a={},s={},u={};o.forEach(n=>{a[n.id]=0,s[n.id]=0,u[n.id]=[]}),r.forEach(n=>{a[n.target]++,s[n.source]++,u[n.source].push(n.target)});const c=new Set,E=n=>{c.has(n)||(c.add(n),u[n].forEach(E))};if(E(o[0].id),c.size!==o.length)return!1;const p=o.filter(n=>a[n.id]===0),e=o.filter(n=>s[n.id]===0);return!(p.length!==1||e.length!==1||o.filter(n=>a[n.id]===1&&s[n.id]===1).length!==o.length-2)}execute(v,o){return C(this,void 0,void 0,function*(){var r;if(!this.validate(v))return v;const{nodeSize:a,padding:s,sortBy:u,cols:c,colGap:E,rowGap:p,clockwise:e,width:i,height:n}=Object.assign({},m.defaultOptions,this.options,o),[l,M,O,D]=(0,d.dj)(s),P=this.formatSize(v.nodes||[],a),b=Math.ceil((v.nodes||[]).length/c);let x=E||(i-D-M-c*P[0])/(c-1),L=p||(n-l-O-b*P[1])/(b-1);return(L===1/0||L<0)&&(L=0),(x===1/0||x<0)&&(x=0),{nodes:((u?(r=v.nodes)===null||r===void 0?void 0:r.sort(u):f(v))||[]).map((U,j)=>{const F=Math.floor(j/c),W=j%c,w=e?F%2===0?W:c-1-W:F%2===0?c-1-W:W,z=D+w*(P[0]+x)+P[0]/2,H=l+F*(P[1]+L)+P[1]/2;return{id:U.id,style:{x:z,y:H}}})}})}}m.defaultOptions={padding:0,cols:5,clockwise:!0};function f(h){const{nodes:v=[],edges:o=[]}=h,r={},a={};v.forEach(c=>{r[c.id]=0,a[c.id]=[]}),o.forEach(c=>{r[c.target]++,a[c.source].push(c.target)});const s=[],u=[];for(v.forEach(c=>{r[c.id]===0&&s.push(c.id)});s.length>0;){const c=s.shift(),E=v.find(p=>p.id===c);u.push(E),a[c].forEach(p=>{r[p]--,r[p]===0&&s.push(p)})}return u}},7007:function(at,N,t){"use strict";t.d(N,{Fd:function(){return y},JL:function(){return T},PJ:function(){return m},WO:function(){return C},uN:function(){return d}});const d=["rgb(158, 1, 66)","rgb(213, 62, 79)","rgb(244, 109, 67)","rgb(253, 174, 97)","rgb(254, 224, 139)","rgb(255, 255, 191)","rgb(230, 245, 152)","rgb(171, 221, 164)","rgb(102, 194, 165)","rgb(50, 136, 189)","rgb(94, 79, 162)"],T=["rgb(78, 121, 167)","rgb(242, 142, 44)","rgb(225, 87, 89)","rgb(118, 183, 178)","rgb(89, 161, 79)","rgb(237, 201, 73)","rgb(175, 122, 161)","rgb(255, 157, 167)","rgb(156, 117, 95)","rgb(186, 176, 171)"],y=["rgb(255, 245, 235)","rgb(254, 230, 206)","rgb(253, 208, 162)","rgb(253, 174, 107)","rgb(253, 141, 60)","rgb(241, 105, 19)","rgb(217, 72, 1)","rgb(166, 54, 3)","rgb(127, 39, 4)"],C=["rgb(247, 252, 245)","rgb(229, 245, 224)","rgb(199, 233, 192)","rgb(161, 217, 155)","rgb(116, 196, 118)","rgb(65, 171, 93)","rgb(35, 139, 69)","rgb(0, 109, 44)","rgb(0, 68, 27)"],m=["rgb(247, 251, 255)","rgb(222, 235, 247)","rgb(198, 219, 239)","rgb(158, 202, 225)","rgb(107, 174, 214)","rgb(66, 146, 198)","rgb(33, 113, 181)","rgb(8, 81, 156)","rgb(8, 48, 107)"]},13422:function(at,N,t){"use strict";t.d(N,{A:function(){return m}});var d=t(97067),T=t(1938),y=t(90992),C=function(f,h,v,o){function r(a){return a instanceof v?a:new v(function(s){s(a)})}return new(v||(v=Promise))(function(a,s){function u(p){try{E(o.next(p))}catch(e){s(e)}}function c(p){try{E(o.throw(p))}catch(e){s(e)}}function E(p){p.done?a(p.value):r(p.value).then(u,c)}E((o=o.apply(f,h||[])).next())})};class m extends T.v{constructor(h,v){super(h,Object.assign({},m.defaultOptions,v)),this.$element=(0,y.C)("background"),this.context.canvas.getContainer().prepend(this.$element),this.update(v)}update(h){const v=Object.create(null,{update:{get:()=>super.update}});return C(this,void 0,void 0,function*(){v.update.call(this,h),Object.assign(this.$element.style,(0,d.Z)(this.options,["key","type"]))})}destroy(){super.destroy(),this.$element.remove()}}m.defaultOptions={transition:"background 0.5s",backgroundSize:"cover",zIndex:"-1"}},1938:function(at,N,t){"use strict";t.d(N,{v:function(){return T}});var d=t(30054);class T extends d.j{}},10616:function(at,N,t){"use strict";t.d(N,{C:function(){return c}});var d=t(48690),T=t(99666),y=t(84237),C=t(25470),m=t(23098),f=t(23618),h=t(52877),v=t(26898),o=t(29193),r=t(38865),a=t(59268),s=t(1938),u=function(e,i){var n={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&i.indexOf(l)<0&&(n[l]=e[l]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var M=0,l=Object.getOwnPropertySymbols(e);M<l.length;M++)i.indexOf(l[M])<0&&Object.prototype.propertyIsEnumerable.call(e,l[M])&&(n[l[M]]=e[l[M]]);return n};class c extends s.v{constructor(i,n){super(i,(0,d.Z)({},c.defaultOptions,n)),this.members=new Map,this.avoidMembers=new Map,this.bubbleSetOptions={},this.drawBubbleSets=()=>{const{style:l,bubbleSetOptions:M}=this.parseOptions();(0,T.Z)(this.bubbleSetOptions,M)||this.init(),this.bubbleSetOptions=Object.assign({},M);const O=Object.assign(Object.assign({},l),{d:this.getPath()});this.shape?this.shape.update(O):(this.shape=new f.ff({style:O}),this.context.canvas.appendChild(this.shape))},this.updateBubbleSetsPath=l=>{if(!this.shape)return;const M=(0,o.jD)(l.data);[...this.options.members,...this.options.avoidMembers].includes(M)&&this.shape.update(Object.assign(Object.assign({},this.parseOptions().style),{d:this.getPath(M)}))},this.getPath=l=>{const{graph:M}=this.context,O=this.options.members,D=[...this.members.keys()],P=this.options.avoidMembers,b=[...this.avoidMembers.keys()];if(!l&&(0,T.Z)(O,D)&&(0,T.Z)(P,b))return this.path;const{enter:x=[],exit:L=[]}=(0,v.t)(D,O,W=>W),{enter:S=[],exit:K=[]}=(0,v.t)(b,P,W=>W);l&&(L.push(l),x.push(l));const U=(W,w,z)=>{W.forEach(H=>{const Y=z?this.members:this.avoidMembers,V=z?"pushMember":"pushNonMember",$=z?"removeMember":"removeNonMember";if(w){let J;M.getElementType(H)==="edge"?([J]=p(M,H),this.bubbleSets.pushEdge(J)):([J]=E(M,H),this.bubbleSets[V](J)),Y.set(H,J)}else{const J=Y.get(H);J&&(M.getElementType(H)==="edge"?this.bubbleSets.removeEdge(J):this.bubbleSets[$](J),Y.delete(H))}})};U(L,!1,!0),U(x,!0,!0),U(K,!1,!1),U(S,!0,!1);const F=this.bubbleSets.compute().sample(8).simplify(0).bSplines().simplify(0);return this.path=(0,r.Yu)(F.points.map(a.rx)),this.path},this.bindEvents(),this.bubbleSets=new C.CF(this.options)}bindEvents(){this.context.graph.on(m.VR.AFTER_RENDER,this.drawBubbleSets),this.context.graph.on(m.VR.AFTER_ELEMENT_UPDATE,this.updateBubbleSetsPath)}init(){this.bubbleSets=new C.CF(this.options),this.members=new Map,this.avoidMembers=new Map}parseOptions(){const i=this.options,{type:n,key:l,members:M,avoidMembers:O}=i,D=u(i,["type","key","members","avoidMembers"]),P=Object.keys(D).reduce((b,x)=>(x in C.vC?b.bubbleSetOptions[x]=D[x]:b.style[x]=D[x],b),{style:{},bubbleSetOptions:{}});return Object.assign({type:n,key:l,members:M,avoidMembers:O},P)}addMember(i){const n=Array.isArray(i)?i:[i];n.some(l=>this.options.avoidMembers.includes(l))&&(this.options.avoidMembers=this.options.avoidMembers.filter(l=>!n.includes(l))),this.options.members=[...new Set([...this.options.members,...n])],this.drawBubbleSets()}removeMember(i){const n=Array.isArray(i)?i:[i];this.options.members=this.options.members.filter(l=>!n.includes(l)),this.drawBubbleSets()}updateMember(i){this.options.members=(0,y.Z)(i)?i(this.options.members):i,this.drawBubbleSets()}getMember(){return this.options.members}addAvoidMember(i){const n=Array.isArray(i)?i:[i];n.some(l=>this.options.members.includes(l))&&(this.options.members=this.options.members.filter(l=>!n.includes(l))),this.options.avoidMembers=[...new Set([...this.options.avoidMembers,...n])],this.drawBubbleSets()}removeAvoidMember(i){const n=Array.isArray(i)?i:[i];this.options.avoidMembers.some(l=>n.includes(l))&&(this.options.avoidMembers=this.options.avoidMembers.filter(l=>!n.includes(l)),this.drawBubbleSets())}updateAvoidMember(i){this.options.avoidMembers=Array.isArray(i)?i:[i],this.drawBubbleSets()}getAvoidMember(){return this.options.avoidMembers}destroy(){this.context.graph.off(m.VR.AFTER_RENDER,this.drawBubbleSets),this.context.graph.off(m.VR.AFTER_ELEMENT_UPDATE,this.updateBubbleSetsPath),this.shape.destroy(),super.destroy()}}c.defaultOptions=Object.assign({members:[],avoidMembers:[],fill:"lightblue",fillOpacity:.2,stroke:"blue",strokeOpacity:.2},C.vC);const E=(e,i)=>(Array.isArray(i)?i:[i]).map(l=>{const M=e.getElementRenderBounds(l);return new C.Ae(M.min[0],M.min[1],(0,h.Ru)(M),(0,h.vs)(M))}),p=(e,i)=>(Array.isArray(i)?i:[i]).map(l=>{const M=e.getEdgeData(l),O=e.getElementPosition(M.source),D=e.getElementPosition(M.target);return C.x1.from({x1:O[0],y1:O[1],x2:D[0],y2:D[1]})})},95038:function(at,N,t){"use strict";var d=t(23098),T=t(1938);class y extends null{constructor(m,f){super(m,f),this.setOptions=h=>{const v={cameraType:"setType",near:"setNear",far:"setFar",fov:"setFov",aspect:"setAspect",projectionMode:"setProjectionMode",distance:"setDistance",minDistance:"setMinDistance",maxDistance:"setMaxDistance",roll:"setRoll",elevation:"setElevation",azimuth:"setAzimuth"},o=(r,a)=>{switch(r){case"projectionMode":return a==="perspective"?1:0;case"cameraType":return{orbiting:0,exploring:1,tracking:2}[a];case"aspect":return typeof a=="number"?a:this.getCanvasAspect();default:return a}};Object.entries(v).forEach(([r,a])=>{const s=h[r];if(s!==void 0){const u=o(r,s);this.context.canvas.getCamera()[a](u)}})},this.bindEvents()}update(m){this.setOptions(m),super.update(m)}bindEvents(){this.context.graph.once(GraphEvent.BEFORE_DRAW,()=>this.setOptions(this.options))}getCanvasAspect(){const[m,f]=this.context.viewport.getCanvasSize();return m/f}}},61795:function(at,N,t){"use strict";t.d(N,{V:function(){return m}});var d=t(1938),T=t(90992),y=t(10294),C=function(f,h,v,o){function r(a){return a instanceof v?a:new v(function(s){s(a)})}return new(v||(v=Promise))(function(a,s){function u(p){try{E(o.next(p))}catch(e){s(e)}}function c(p){try{E(o.throw(p))}catch(e){s(e)}}function E(p){p.done?a(p.value):r(p.value).then(u,c)}E((o=o.apply(f,h||[])).next())})};class m extends d.v{constructor(h,v){super(h,Object.assign({},m.defaultOptions,v)),this.targetElement=null,this.onTriggerEvent=o=>{var r;(r=o.preventDefault)===null||r===void 0||r.call(o),this.show(o)},this.onMenuItemClick=o=>{const{onClick:r,trigger:a}=this.options;if(o.target instanceof HTMLElement&&o.target.className.includes("g6-contextmenu-li")){const s=o.target.getAttribute("value");r==null||r(s,o.target,this.targetElement),this.hide()}a!=="click"&&this.hide()},this.initElement(),this.update(v)}initElement(){this.$element=(0,T.C)("contextmenu",!1,{zIndex:"99"});const{className:h}=this.options;h&&this.$element.classList.add(h),this.context.canvas.getContainer().appendChild(this.$element),(0,T.q)("g6-contextmenu-css","style",{},y.P,document.head)}show(h){return C(this,void 0,void 0,function*(){const{enable:v,offset:o}=this.options;if(typeof v=="function"&&!v(h)||!v){this.hide();return}const r=yield this.getDOMContent(h);r instanceof HTMLElement?(this.$element.innerHTML="",this.$element.appendChild(r)):this.$element.innerHTML=r;const a=this.context.graph.getCanvas().getContainer().getBoundingClientRect();this.$element.style.left=`${h.client.x-a.left+o[0]}px`,this.$element.style.top=`${h.client.y-a.top+o[1]}px`,this.$element.style.display="block",this.targetElement=h.target})}hide(){this.$element.style.display="none",this.targetElement=null}update(h){this.unbindEvents(),super.update(h),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy(),this.$element.remove()}getDOMContent(h){return C(this,void 0,void 0,function*(){const{getContent:v,getItems:o}=this.options;return o?(0,y.c)(yield o(h)):yield v(h)})}bindEvents(){const{graph:h}=this.context,{trigger:v}=this.options;h.on(`canvas:${v}`,this.onTriggerEvent),h.on(`node:${v}`,this.onTriggerEvent),h.on(`edge:${v}`,this.onTriggerEvent),h.on(`combo:${v}`,this.onTriggerEvent),document.addEventListener("click",this.onMenuItemClick)}unbindEvents(){const{graph:h}=this.context,{trigger:v}=this.options;h.off(`canvas:${v}`,this.onTriggerEvent),h.off(`node:${v}`,this.onTriggerEvent),h.off(`edge:${v}`,this.onTriggerEvent),h.off(`combo:${v}`,this.onTriggerEvent),document.removeEventListener("click",this.onMenuItemClick)}}m.defaultOptions={trigger:"contextmenu",offset:[4,4],loadingContent:'<div class="g6-contextmenu-loading">Loading...</div>',getContent:()=>"It is a empty context menu.",enable:()=>!0}},10294:function(at,N,t){"use strict";t.d(N,{P:function(){return T},c:function(){return d}});function d(y){return`
    <ul class="g6-contextmenu-ul">
      ${y.map(C=>`<li  class="g6-contextmenu-li" value="${C.value}">${C.name}</li>`).join("")}
    </ul>
  `}const T=`
  .g6-contextmenu {
    font-size: 12px;
    background-color: rgba(255, 255, 255, 0.96);
    border-radius: 4px;
    overflow: hidden;
    box-shadow: rgba(0, 0, 0, 0.12) 0px 6px 12px 0px;
    transition: visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1) 0s, left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s;
  }

  .g6-contextmenu-ul {
    max-width: 256px;
    min-width: 96px;
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .g6-contextmenu-li {
    padding: 8px 12px;
    cursor: pointer;
    user-select: none;
  }

  .g6-contextmenu-li:hover {
    background-color: #f5f5f5;
    cursor: pointer;
  }
`},64313:function(at,N,t){"use strict";t.d(N,{D:function(){return v}});var d=t(61989),T=t(23098),y=t(41632),C=t(29193),m=t(49559),f=t(26192),h=t(1938);class v extends h.v{constructor(e,i){super(e,Object.assign({},v.defaultOptions,i)),this.edgeBundles={},this.edgePoints={},this.onBundle=()=>{const{model:n,element:l}=this.context,M=n.getEdgeData();this.divideEdges(this.options.divisions);const{cycles:O,iterRate:D,divRate:P}=this.options;let{lambda:b,divisions:x,iterations:L}=this.options;for(let S=0;S<O;S++){for(let K=0;K<L;K++){const U={};M.forEach(j=>{var F;if(j.source===j.target)return;const W=(0,C.jD)(j);U[W]=this.getEdgeForces(j,x,b);for(let w=0;w<x+1;w++)(F=this.edgePoints)[W]||(F[W]=[]),this.edgePoints[W][w]=(0,f.IH)(this.edgePoints[W][w],U[W][w])})}b/=2,x*=P,L*=D,this.divideEdges(x)}M.forEach(S=>{const K=(0,C.jD)(S),U=l.getElement(K);U==null||U.update({d:(0,y.eu)(this.edgePoints[K])})})},this.bindEvents()}get nodeMap(){const e=this.context.model.getNodeData();return Object.fromEntries(e.map(i=>[(0,C.jD)(i),(0,f.e_)((0,m.TA)(i))]))}divideEdges(e){this.context.model.getEdgeData().forEach(n=>{var l;const M=(0,C.jD)(n);(l=this.edgePoints)[M]||(l[M]=[]);const O=this.nodeMap[n.source],D=this.nodeMap[n.target];if(e===1)this.edgePoints[M].push(O),this.edgePoints[M].push((0,f.cs)((0,f.IH)(O,D),2)),this.edgePoints[M].push(D);else{const b=(this.edgePoints[M].length===0?(0,f.TE)(O,D):E(this.edgePoints[M]))/(e+1);let x=b;const L=[O];for(let S=1;S<this.edgePoints[M].length;S++){const K=this.edgePoints[M][S-1],U=this.edgePoints[M][S];let j=(0,f.TE)(U,K);for(;j>x;){const F=x/j,W=(0,f.IH)(K,(0,f.Jp)((0,f.$X)(U,K),F));L.push(W),j-=x,x=b}x-=j}L.push(D),this.edgePoints[M]=L}})}getVectorPosition(e){const i=this.nodeMap[e.source],n=this.nodeMap[e.target],[l,M]=(0,f.$X)(n,i),O=(0,f.TE)(i,n);return{source:i,target:n,vx:l,vy:M,length:O}}measureEdgeCompatibility(e,i){const n=this.getVectorPosition(e),l=this.getVectorPosition(i),M=o(n,l),O=r(n,l),D=a(n,l),P=c(n,l);return M*O*D*P}getEdgeBundles(){const e={},i=this.options.bundleThreshold,n=this.context.model.getEdgeData();return n.forEach((l,M)=>{n.forEach((O,D)=>{var P,b;if(D<=M)return;this.measureEdgeCompatibility(l,O)>=i&&(e[P=(0,C.jD)(l)]||(e[P]=[]),e[(0,C.jD)(l)].push(O),e[b=(0,C.jD)(O)]||(e[b]=[]),e[(0,C.jD)(O)].push(l))})}),e}getSpringForce(e,i){const{pre:n,cur:l,next:M}=e;return(0,f.Jp)((0,f.$X)((0,f.IH)(n,M),(0,f.Jp)(l,2)),i)}getElectrostaticForce(e,i){(0,d.Z)(this.edgeBundles)&&(this.edgeBundles=this.getEdgeBundles());const n=this.edgeBundles[(0,C.jD)(i)];let l=[0,0];return n==null||n.forEach(M=>{const O=this.edgePoints[(0,C.jD)(M)][e],D=this.edgePoints[(0,C.jD)(i)][e],P=(0,f.$X)(O,D),b=(0,f.TE)(O,D);l=(0,f.IH)(l,(0,f.Jp)(P,1/b))}),l}getEdgeForces(e,i,n){const l=this.nodeMap[e.source],M=this.nodeMap[e.target],O=this.options.K/((0,f.TE)(l,M)*(i+1)),D=[[0,0]],P=(0,C.jD)(e);for(let b=1;b<i;b++){const x=this.getSpringForce({pre:this.edgePoints[P][b-1],cur:this.edgePoints[P][b],next:this.edgePoints[P][b+1]||[0,0]},O),L=this.getElectrostaticForce(b,e);D.push((0,f.Jp)((0,f.IH)(x,L),n))}return D.push([0,0]),D}bindEvents(){const{graph:e}=this.context;e.on(T.VR.AFTER_RENDER,this.onBundle)}unbindEvents(){const{graph:e}=this.context;e.off(T.VR.AFTER_RENDER,this.onBundle)}destroy(){this.unbindEvents(),super.destroy()}}v.defaultOptions={K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:2/3,bundleThreshold:.6};const o=(p,e)=>Math.abs((0,f.AK)([p.vx,p.vy],[e.vx,e.vy])/(p.length*e.length)),r=(p,e)=>{const i=(p.length+e.length)/2;return 2/(i/Math.min(p.length,e.length)+Math.max(p.length,e.length)/i)},a=(p,e)=>{const i=(p.length+e.length)/2,n=(0,f.cs)((0,f.IH)(p.source,p.target),2),l=(0,f.cs)((0,f.IH)(e.source,e.target),2);return i/(i+(0,f.TE)(n,l))},s=(p,e)=>{if(e.source[0]===e.target[0])return[e.source[0],p[1]];if(e.source[1]===e.target[1])return[p[0],e.source[1]];const i=(e.source[1]-e.target[1])/(e.source[0]-e.target[0]),n=(i*i*e.source[0]+i*(p[1]-e.source[1])+p[0])/(i*i+1),l=i*(n-e.source[0])+e.source[1];return[n,l]},u=(p,e)=>{const i=s(e.source,p),n=s(e.target,p),l=(0,f.cs)((0,f.IH)(i,n),2),M=(0,f.cs)((0,f.IH)(p.source,p.target),2);return(0,f.TE)(i,n)===0?0:Math.max(0,1-2*(0,f.TE)(M,l)/(0,f.TE)(i,n))},c=(p,e)=>Math.min(u(p,e),u(e,p)),E=p=>{let e=0;for(let i=1;i<p.length;i++)e+=(0,f.TE)(p[i],p[i-1]);return e}},66834:function(at,N,t){"use strict";t.d(N,{b:function(){return r}});var d=t(23098),T=t(2790),y=t(29193),C=t(59268),m=t(49559),f=t(26192),h=t(1938);const v={fill:"#fff",fillOpacity:1,lineWidth:1,stroke:"#000",strokeOpacity:.8,zIndex:-1/0},o=.05;class r extends h.v{constructor(s,u){super(s,Object.assign({},r.defaultOptions,u)),this.shapes=new Map,this.r=this.options.r,this.onEdgeFilter=c=>{if(this.options.trigger==="drag"&&this.isLensOn)return;const E=(0,C.rx)(c.canvas);this.renderLens(E),this.renderFocusElements()},this.renderLens=c=>{const E=Object.assign({},v,this.options.style);this.isLensOn||(this.lens=new T.Cd({style:E}),this.canvas.appendChild(this.lens)),Object.assign(E,(0,C.Zv)(c),{size:this.r*2}),this.lens.update(E)},this.getFilterData=()=>{const{filter:c}=this.options,{model:E}=this.context,p=E.getData();if(!c)return p;const{nodes:e,edges:i,combos:n}=p;return{nodes:e.filter(l=>c((0,y.jD)(l),"node")),edges:i.filter(l=>c((0,y.jD)(l),"edge")),combos:n.filter(l=>c((0,y.jD)(l),"combo"))}},this.getFocusElements=c=>{const{nodes:E,edges:p}=this.getFilterData(),e=E.filter(l=>(0,f.TE)((0,m.TA)(l),c)<this.r),i=e.map(l=>(0,y.jD)(l)),n=p.filter(l=>{const{source:M,target:O}=l,D=i.includes(M),P=i.includes(O);switch(this.options.nodeType){case"both":return D&&P;case"either":return D!==P;case"source":return D&&!P;case"target":return!D&&P;default:return!1}});return{nodes:e,edges:n}},this.renderFocusElements=()=>{const{element:c,graph:E}=this.context;if(!this.isLensOn)return;const p=this.lens.getCenter(),{nodes:e,edges:i}=this.getFocusElements(p),n=new Set,l=M=>{const O=(0,y.jD)(M);n.add(O);const D=c.getElement(O);if(!D)return;const P=this.shapes.get(O)||D.cloneNode();P.setPosition(D.getPosition()),P.id=D.id,this.shapes.has(O)?Object.entries(D.attributes).forEach(([L,S])=>{P.style[L]!==S&&(P.style[L]=S)}):(this.canvas.appendChild(P),this.shapes.set(O,P));const b=E.getElementType(O),x=this.getElementStyle(b,M);P.update(x)};e.forEach(l),i.forEach(l),this.shapes.forEach((M,O)=>{n.has(O)||(M.destroy(),this.shapes.delete(O))})},this.scaleRByWheel=c=>{var E;this.options.preventDefault&&c.preventDefault();const{clientX:p,clientY:e,deltaX:i,deltaY:n}=c,{graph:l,canvas:M}=this.context,O=l.getCanvasByClient([p,e]),D=(E=this.lens)===null||E===void 0?void 0:E.getCenter();if(!this.isLensOn||(0,f.TE)(O,D)>this.r)return;const{maxR:P,minR:b}=this.options,x=i+n>0?1/(1-o):1-o,L=Math.min(...M.getSize())/2;this.r=Math.max(b||0,Math.min(P||L,this.r*x)),this.renderLens(D),this.renderFocusElements()},this.isLensDragging=!1,this.onDragStart=c=>{var E;const p=(0,C.rx)(c.canvas),e=(E=this.lens)===null||E===void 0?void 0:E.getCenter();!this.isLensOn||(0,f.TE)(p,e)>this.r||(this.isLensDragging=!0)},this.onDrag=c=>{if(!this.isLensDragging)return;const E=(0,C.rx)(c.canvas);this.renderLens(E),this.renderFocusElements()},this.onDragEnd=()=>{this.isLensDragging=!1},this.bindEvents()}get canvas(){return this.context.canvas.getLayer("transient")}get isLensOn(){return this.lens&&!this.lens.destroyed}getElementStyle(s,u){const c=s==="node"?this.options.nodeStyle:this.options.edgeStyle;return typeof c=="function"?c(u):c}get graphDom(){return this.context.graph.getCanvas().getContextService().getDomElement()}bindEvents(){var s;const{graph:u}=this.context,{trigger:c,scaleRBy:E}=this.options,p=u.getCanvas().getLayer();["click","drag"].includes(c)&&p.addEventListener(d.C9.CLICK,this.onEdgeFilter),c==="pointermove"?p.addEventListener(d.C9.POINTER_MOVE,this.onEdgeFilter):c==="drag"&&(p.addEventListener(d.C9.DRAG_START,this.onDragStart),p.addEventListener(d.C9.DRAG,this.onDrag),p.addEventListener(d.C9.DRAG_END,this.onDragEnd)),E==="wheel"&&((s=this.graphDom)===null||s===void 0||s.addEventListener(d.C9.WHEEL,this.scaleRByWheel,{passive:!1}))}unbindEvents(){var s;const{graph:u}=this.context,{trigger:c,scaleRBy:E}=this.options,p=u.getCanvas().getLayer();["click","drag"].includes(c)&&p.removeEventListener(d.C9.CLICK,this.onEdgeFilter),c==="pointermove"?p.removeEventListener(d.C9.POINTER_MOVE,this.onEdgeFilter):c==="drag"&&(p.removeEventListener(d.C9.DRAG_START,this.onDragStart),p.removeEventListener(d.C9.DRAG,this.onDrag),p.removeEventListener(d.C9.DRAG_END,this.onDragEnd)),E==="wheel"&&((s=this.graphDom)===null||s===void 0||s.removeEventListener(d.C9.WHEEL,this.scaleRByWheel))}update(s){var u;this.unbindEvents(),super.update(s),this.r=(u=s.r)!==null&&u!==void 0?u:this.r,this.bindEvents()}destroy(){this.unbindEvents(),this.isLensOn&&this.lens.destroy(),this.shapes.forEach((s,u)=>{s.destroy(),this.shapes.delete(u)}),super.destroy()}}r.defaultOptions={trigger:"pointermove",r:60,nodeType:"both",filter:()=>!0,style:{lineWidth:2},nodeStyle:{label:!1},edgeStyle:{label:!0},scaleRBy:"wheel",preventDefault:!0}},46013:function(at,N,t){"use strict";t.d(N,{y:function(){return u}});var d=t(88458),T=t(23098),y=t(2790),C=t(26898),m=t(29193),f=t(59268),h=t(49559),v=t(26192),o=t(1938);const r={fill:"#ccc",fillOpacity:.1,lineWidth:2,stroke:"#000",strokeOpacity:.8,labelFontSize:12},a=.05,s=.1;class u extends o.v{constructor(E,p){super(E,Object.assign({},u.defaultOptions,p)),this.r=this.options.r,this.d=this.options.d,this.onCreateFisheye=e=>{if(this.options.trigger==="drag"&&this.isLensOn)return;const i=(0,f.rx)(e.canvas);this.onMagnify(i)},this.onMagnify=e=>{e.some(isNaN)||(this.renderLens(e),this.renderFocusElements())},this.renderLens=e=>{const i=Object.assign({},r,this.options.style);this.isLensOn||(this.lens=new y.Cd({style:i}),this.canvas.appendChild(this.lens)),Object.assign(i,(0,f.Zv)(e),{size:this.r*2,label:this.options.showDPercent,labelText:this.getDPercent()}),this.lens.update(i)},this.getDPercent=()=>{const{minD:e,maxD:i}=this.options;return`${Math.round((this.d-e)/(i-e)*100)}%`},this.prevMagnifiedStyleMap=new Map,this.prevOriginStyleMap=new Map,this.renderFocusElements=()=>{if(!this.isLensOn)return;const{graph:e}=this.context,i=this.lens.getCenter(),n=(this.d+1)*this.r,l=new Map,M=new Map;e.getNodeData().forEach(D=>{const P=(0,h.TA)(D),b=(0,v.TE)(P,i);if(b>this.r)return;const x=n*b/(this.d*b+this.r),[L,S]=P,[K,U]=i,j=(L-K)/b,F=(S-U)/b,W=[K+x*j,U+x*F],w=(0,m.jD)(D),z=this.getNodeStyle(D),H=(0,d.Z)(e.getElementRenderStyle(w),Object.keys(z));l.set(w,Object.assign(Object.assign({},(0,f.Zv)(W)),z)),M.set(w,Object.assign(Object.assign({},(0,f.Zv)(P)),H))}),this.updateStyle(l,M)},this.getNodeStyle=e=>{const{nodeStyle:i}=this.options;return typeof i=="function"?i(e):i},this.updateStyle=(e,i)=>{const{graph:n,element:l}=this.context,{enter:M,exit:O,keep:D}=(0,C.t)(Array.from(this.prevMagnifiedStyleMap.keys()),Array.from(e.keys()),x=>x),P=new Set,b=(x,L)=>{const S=l.getElement(x);S==null||S.update(L),n.getRelatedEdgesData(x).forEach(K=>{P.add((0,m.jD)(K))})};[...M,...D].forEach(x=>{b(x,e.get(x))}),O.forEach(x=>{b(x,this.prevOriginStyleMap.get(x)),this.prevOriginStyleMap.delete(x)}),P.forEach(x=>{const L=l.getElement(x);L==null||L.update({})}),this.prevMagnifiedStyleMap=e,i.forEach((x,L)=>{this.prevOriginStyleMap.has(L)||this.prevOriginStyleMap.set(L,x)})},this.isWheelValid=e=>{if(this.options.preventDefault&&e.preventDefault(),!this.isLensOn)return!1;const{clientX:i,clientY:n}=e,l=this.context.graph.getCanvasByClient([i,n]),M=this.lens.getCenter();return!((0,v.TE)(l,M)>this.r)},this.scaleR=e=>{const{maxR:i,minR:n}=this.options,l=e?1/(1-a):1-a,M=Math.min(...this.context.canvas.getSize())/2;this.r=Math.max(n||0,Math.min(i||M,this.r*l))},this.scaleD=e=>{const{maxD:i,minD:n}=this.options,l=e?this.d+s:this.d-s;this.d=Math.max(n,Math.min(i,l))},this.scaleRByWheel=e=>{if(!this.isWheelValid(e))return;const{deltaX:i,deltaY:n}=e;this.scaleR(i+n>0);const l=this.lens.getCenter();this.onMagnify(l)},this.scaleDByWheel=e=>{if(!this.isWheelValid(e))return;const{deltaX:i,deltaY:n}=e;this.scaleD(i+n>0);const l=this.lens.getCenter();this.onMagnify(l)},this.isDragValid=e=>{if(this.options.preventDefault&&e.preventDefault(),!this.isLensOn)return!1;const i=(0,f.rx)(e.canvas),n=this.lens.getCenter();return!((0,v.TE)(i,n)>this.r)},this.isLensDragging=!1,this.onDragStart=e=>{this.isDragValid(e)&&(this.isLensDragging=!0)},this.onDrag=e=>{if(!this.isLensDragging)return;const i=(0,f.rx)(e.canvas);this.onMagnify(i)},this.onDragEnd=()=>{this.isLensDragging=!1},this.scaleRByDrag=e=>{if(!this.isLensDragging)return;const{dx:i,dy:n}=e;this.scaleR(i-n>0);const l=this.lens.getCenter();this.onMagnify(l)},this.scaleDByDrag=e=>{if(!this.isLensDragging)return;const{dx:i,dy:n}=e;this.scaleD(i-n>0);const l=this.lens.getCenter();this.onMagnify(l)},this.bindEvents()}get canvas(){return this.context.canvas.getLayer("transient")}get isLensOn(){return this.lens&&!this.lens.destroyed}get graphDom(){return this.context.graph.getCanvas().getContextService().getDomElement()}bindEvents(){var E;const{graph:p}=this.context,{trigger:e,scaleRBy:i,scaleDBy:n}=this.options,l=p.getCanvas().getLayer();if(["click","drag"].includes(e)&&l.addEventListener(T.C9.CLICK,this.onCreateFisheye),e==="pointermove"&&l.addEventListener(T.C9.POINTER_MOVE,this.onCreateFisheye),e==="drag"||i==="drag"||n==="drag"){l.addEventListener(T.C9.DRAG_START,this.onDragStart),l.addEventListener(T.C9.DRAG_END,this.onDragEnd);const M=e==="drag"?this.onDrag:i==="drag"?this.scaleRByDrag:this.scaleDByDrag;l.addEventListener(T.C9.DRAG,M)}if(i==="wheel"||n==="wheel"){const M=i==="wheel"?this.scaleRByWheel:this.scaleDByWheel;(E=this.graphDom)===null||E===void 0||E.addEventListener(T.C9.WHEEL,M,{passive:!1})}}unbindEvents(){var E;const{graph:p}=this.context,{trigger:e,scaleRBy:i,scaleDBy:n}=this.options,l=p.getCanvas().getLayer();if(["click","drag"].includes(e)&&l.removeEventListener(T.C9.CLICK,this.onCreateFisheye),e==="pointermove"&&l.removeEventListener(T.C9.POINTER_MOVE,this.onCreateFisheye),e==="drag"||i==="drag"||n==="drag"){l.removeEventListener(T.C9.DRAG_START,this.onDragStart),l.removeEventListener(T.C9.DRAG_END,this.onDragEnd);const M=e==="drag"?this.onDrag:i==="drag"?this.scaleRByDrag:this.scaleDByDrag;l.removeEventListener(T.C9.DRAG,M)}if(i==="wheel"||n==="wheel"){const M=i==="wheel"?this.scaleRByWheel:this.scaleDByWheel;(E=this.graphDom)===null||E===void 0||E.removeEventListener(T.C9.WHEEL,M)}}update(E){var p,e;this.unbindEvents(),super.update(E),this.r=(p=E.r)!==null&&p!==void 0?p:this.r,this.d=(e=E.d)!==null&&e!==void 0?e:this.d,this.bindEvents()}destroy(){var E;this.unbindEvents(),this.isLensOn&&((E=this.lens)===null||E===void 0||E.destroy()),this.prevMagnifiedStyleMap.clear(),this.prevOriginStyleMap.clear(),super.destroy()}}u.defaultOptions={trigger:"pointermove",r:120,d:1.5,maxD:5,minD:0,showDPercent:!0,style:{},nodeStyle:{label:!0},preventDefault:!0}},25577:function(at,N,t){"use strict";t.d(N,{i:function(){return C}});var d=t(90040),T=t(80860),y=t(1938);class C extends y.v{constructor(h,v){super(h,Object.assign({},C.defaultOptions,v)),this.$el=this.context.canvas.getContainer(),this.graphSize=[0,0],this.onFullscreenChange=()=>{var o,r,a,s;const u=!!document.fullscreenElement;this.options.autoFit&&this.setGraphSize(u),u?(r=(o=this.options).onEnter)===null||r===void 0||r.call(o):(s=(a=this.options).onExit)===null||s===void 0||s.call(a)},this.shortcut=new T.z(h.graph),this.bindEvents(),this.style=document.createElement("style"),document.head.appendChild(this.style),this.style.innerHTML=`
      :not(:root):fullscreen::backdrop {
        background: transparent;
      }
    `}bindEvents(){this.unbindEvents(),this.shortcut.unbindAll();const{request:h=[],exit:v=[]}=this.options.trigger;this.shortcut.bind(h,this.request),this.shortcut.bind(v,this.exit),["webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange"].forEach(r=>{document.addEventListener(r,this.onFullscreenChange,!1)})}unbindEvents(){this.shortcut.unbindAll(),["webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange"].forEach(v=>{document.removeEventListener(v,this.onFullscreenChange,!1)})}setGraphSize(h=!0){var v,o;let r,a;h?(r=((v=globalThis.screen)===null||v===void 0?void 0:v.width)||0,a=((o=globalThis.screen)===null||o===void 0?void 0:o.height)||0,this.graphSize=this.context.graph.getSize()):[r,a]=this.graphSize,this.context.graph.setSize(r,a),this.context.graph.render()}request(){document.fullscreenElement||!m()||this.$el.requestFullscreen().catch(h=>{d.S.warn(`Error attempting to enable full-screen: ${h.message} (${h.name})`)})}exit(){document.fullscreenElement&&document.exitFullscreen()}update(h){this.unbindEvents(),super.update(h),this.bindEvents()}destroy(){this.exit(),this.style.remove(),super.destroy()}}C.defaultOptions={trigger:{},autoFit:!0};function m(){return document.fullscreenEnabled||Reflect.get(document,"webkitFullscreenEnabled")||Reflect.get(document,"mozFullscreenEnabled")||Reflect.get(document,"msFullscreenEnabled")}},38691:function(at,N,t){"use strict";t.d(N,{G:function(){return f}});var d=t(29803),T=t(23098),y=t(26192),C=t(1938),m=t(90992);class f extends C.v{constructor(v,o){super(v,Object.assign({},f.defaultOptions,o)),this.$element=(0,m.C)("grid-line",!0),this.offset=[0,0],this.currentScale=1,this.followZoom=a=>{const{data:{scale:s,origin:u}}=a;if(!s||u===void 0&&this.context.viewport===void 0)return;const c=this.currentScale;this.currentScale=s;const E=s/c,p=(0,y.Jp)(u||this.context.graph.getCanvasCenter(),1-E),e=this.baseSize*s,i=(0,y.Jp)(this.offset,E),n=(0,y.wQ)(i,e),l=(0,y.IH)(n,p);this.$element.style.backgroundSize=`${e}px ${e}px`,this.$element.style.backgroundPosition=`${l[0]}px ${l[1]}px`,this.offset=(0,y.wQ)(l,e)},this.followTranslate=a=>{if(!this.options.follow)return;const{data:{translate:s}}=a;s&&this.updateOffset(s)},this.onTransform=a=>{const s=this.parseFollow(this.options.follow);s.zoom&&this.followZoom(a),s.translate&&this.followTranslate(a)},this.context.canvas.getContainer().prepend(this.$element),this.baseSize=this.options.size,this.updateStyle(),this.bindEvents()}update(v){super.update(v),v.size!==void 0&&(this.baseSize=v.size),this.updateStyle()}bindEvents(){const{graph:v}=this.context;v.on(T.VR.AFTER_TRANSFORM,this.onTransform)}updateStyle(){const{stroke:v,lineWidth:o,border:r,borderLineWidth:a,borderStroke:s,borderStyle:u}=this.options,c=this.baseSize*this.currentScale;Object.assign(this.$element.style,{border:r?`${a}px ${u} ${s}`:"none",backgroundImage:`linear-gradient(${v} ${o}px, transparent ${o}px), linear-gradient(90deg, ${v} ${o}px, transparent ${o}px)`,backgroundSize:`${c}px ${c}px`,backgroundRepeat:"repeat"})}updateOffset(v){const o=this.baseSize*this.currentScale;this.offset=(0,y.wQ)((0,y.IH)(this.offset,v),o),this.$element.style.backgroundPosition=`${this.offset[0]}px ${this.offset[1]}px`}parseFollow(v){var o,r;return(0,d.Z)(v)?{translate:v,zoom:v}:{translate:(o=v==null?void 0:v.translate)!==null&&o!==void 0?o:!1,zoom:(r=v==null?void 0:v.zoom)!==null&&r!==void 0?r:!1}}destroy(){this.context.graph.off(T.VR.AFTER_TRANSFORM,this.onTransform),this.$element.remove(),super.destroy()}}f.defaultOptions={border:!0,borderLineWidth:1,borderStroke:"#eee",borderStyle:"solid",lineWidth:1,size:20,stroke:"#eee"}},30634:function(at,N,t){"use strict";t.d(N,{A:function(){return h}});var d=t(80216),T=t(23098),y=t(23972),C=t(29193),m=t(1938),f=t(82051);class h extends m.v{constructor(o,r){super(o,Object.assign({},h.defaultOptions,r)),this.batchChanges=null,this.batchAnimation=!1,this.undoStack=[],this.redoStack=[],this.freezed=!1,this.executeCommand=(s,u=!0)=>{var c,E,p;this.freezed=!0,(E=(c=this.options).executeCommand)===null||E===void 0||E.call(c,s);const e=u?s.original:s.current;this.context.graph.addData(e.add),this.context.graph.updateData(e.update),this.context.graph.removeData((0,C.oI)(e.remove,!1)),(p=this.context.element)===null||p===void 0||p.draw({silence:!0,animation:s.animation}),this.freezed=!1},this.addCommand=s=>{var u;if(!this.freezed){if(s.type===T.VR.AFTER_DRAW){const{dataChanges:c=[],animation:E=!0}=s.data;if(!((u=this.context.batch)===null||u===void 0)&&u.isBatching){if(!this.batchChanges)return;this.batchChanges.push(c),this.batchAnimation&&(this.batchAnimation=E);return}this.batchChanges=[c],this.batchAnimation=E}this.undoStackPush((0,f.$)(this.batchChanges.flat(),this.batchAnimation,this.context)),this.notify(y.b.ADD,this.undoStack[this.undoStack.length-1])}},this.initBatchCommand=s=>{const{initiate:u}=s.data;this.batchAnimation=!1,u?this.batchChanges=[]:this.undoStack.pop()||(this.batchChanges=null)},this.emitter=new d.Z;const{graph:a}=this.context;a.on(T.VR.AFTER_DRAW,this.addCommand),a.on(T.VR.BATCH_START,this.initBatchCommand),a.on(T.VR.BATCH_END,this.addCommand)}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}undo(){var o,r,a,s;const u=this.undoStack.pop();if(u){if(this.executeCommand(u),((r=(o=this.options).beforeAddCommand)===null||r===void 0?void 0:r.call(o,u,!1))===!1)return;this.redoStack.push(u),(s=(a=this.options).afterAddCommand)===null||s===void 0||s.call(a,u,!1),this.notify(y.b.UNDO,u)}return this}redo(){const o=this.redoStack.pop();return o&&(this.executeCommand(o,!1),this.undoStackPush(o),this.notify(y.b.REDO,o)),this}undoAndCancel(){const o=this.undoStack.pop();return o&&(this.executeCommand(o,!1),this.redoStack=[],this.notify(y.b.CANCEL,o)),this}undoStackPush(o){var r,a,s,u;const{stackSize:c}=this.options;c!==0&&this.undoStack.length>=c&&this.undoStack.shift(),((a=(r=this.options).beforeAddCommand)===null||a===void 0?void 0:a.call(r,o,!0))!==!1&&(this.undoStack.push(o),(u=(s=this.options).afterAddCommand)===null||u===void 0||u.call(s,o,!0))}clear(){this.undoStack=[],this.redoStack=[],this.batchChanges=null,this.batchAnimation=!1,this.notify(y.b.CLEAR,null)}notify(o,r){this.emitter.emit(o,{cmd:r}),this.emitter.emit(y.b.CHANGE,{cmd:r})}on(o,r){this.emitter.on(o,r)}destroy(){const{graph:o}=this.context;o.off(T.VR.AFTER_DRAW,this.addCommand),o.off(T.VR.BATCH_START,this.initBatchCommand),o.off(T.VR.BATCH_END,this.addCommand),this.emitter.off(),super.destroy(),this.undoStack=[],this.redoStack=[]}}h.defaultOptions={stackSize:0}},82051:function(at,N,t){"use strict";t.d(N,{$:function(){return f}});var d=t(70373),T=t(69759),y=t(98478),C=t(29193);function m(h,v){for(const o in h)(0,d.Z)(h[o])&&!Array.isArray(h[o])&&h[o]!==null?(v[o]||(v[o]={}),m(h[o],v[o])):v[o]===void 0&&(v[o]=(0,T.HK)(o))}function f(h,v=!1,o){const r={animation:v,current:{add:{},update:{},remove:{}},original:{add:{},update:{},remove:{}}},{add:a,update:s,remove:u}=(0,y._)((0,y.G)(h));return["nodes","edges","combos"].forEach(c=>{s[c]&&s[c].forEach(E=>{var p,e;const i=Object.assign({},E.value);let n=Object.assign({},E.original);if(o){const l=o.graph.getElementType((0,C.jD)(E.original)),M=l==="edge"?"stroke":"fill",O=o.element.getElementComputedStyle(l,E.original);n=Object.assign(Object.assign({},E.original),{style:Object.assign({[M]:O[M]},E.original.style)})}m(i,n),(p=r.current.update)[c]||(p[c]=[]),r.current.update[c].push(i),(e=r.original.update)[c]||(e[c]=[]),r.original.update[c].push(n)}),a[c]&&a[c].forEach(E=>{var p,e;const i=Object.assign({},E.value);(p=r.current.add)[c]||(p[c]=[]),r.current.add[c].push(i),(e=r.original.remove)[c]||(e[c]=[]),r.original.remove[c].push(i)}),u[c]&&u[c].forEach(E=>{var p,e;const i=Object.assign({},E.value);(p=r.current.remove)[c]||(p[c]=[]),r.current.remove[c].push(i),(e=r.original.add)[c]||(e[c]=[]),r.original.add[c].push(i)})}),r}},95263:function(at,N,t){"use strict";t.d(N,{K:function(){return d}});const d={toXy(T,y){if(!y)return[...T];const C=y[0].slice(1),m=y[1].slice(1);return T.map(f=>[f[C],f[m]])},fromXy(T,y){if(!y)return[...T];const C=y[0].slice(1),m=y[1].slice(1);return T.map(([f,h])=>({[C]:f,[m]:h}))}}},48529:function(at,N,t){"use strict";t.d(N,{e:function(){return T}});class d{constructor(C,m){this._cells=[],this._cellSize=m,this._reverseCellSize=1/m;for(const f of C){const h=this.coordToCellNum(f[0]),v=this.coordToCellNum(f[1]);this._cells[h]||(this._cells[h]=[]),this._cells[h][v]||(this._cells[h][v]=[]),this._cells[h][v].push(f)}}cellPoints(C,m){var f;return((f=this._cells[C])===null||f===void 0?void 0:f[m])||[]}rangePoints(C){const m=this.coordToCellNum(C[0]),f=this.coordToCellNum(C[1]),h=this.coordToCellNum(C[2]),v=this.coordToCellNum(C[3]),o=[];for(let r=m;r<=h;r++)for(let a=f;a<=v;a++){const s=this.cellPoints(r,a);for(const u of s)o.push(u)}return o}removePoint(C){const m=this.coordToCellNum(C[0]),f=this.coordToCellNum(C[1]),h=this._cells[m][f],v=h.findIndex(([o,r])=>o===C[0]&&r===C[1]);return v>-1&&h.splice(v,1),h}trunc(C){return Math.trunc(C)}coordToCellNum(C){return this.trunc(C*this._reverseCellSize)}extendBbox(C,m){return[C[0]-m*this._cellSize,C[1]-m*this._cellSize,C[2]+m*this._cellSize,C[3]+m*this._cellSize]}}function T(y,C){return new d(y,C)}},3118:function(at,N,t){"use strict";t.d(N,{$:function(){return c}});var d=t(95263),T=t(48529),y=t(7631),C=t(19275);function m(e){const i=[e[0]];let n=e[0];for(let l=1;l<e.length;l++){const M=e[l];(n[0]!==M[0]||n[1]!==M[1])&&i.push(M),n=M}return i}function f(e){return e.sort(function(i,n){return i[0]-n[0]||i[1]-n[1]})}function h(e,i){return Math.pow(i[0]-e[0],2)+Math.pow(i[1]-e[1],2)}function v(e,i,n){const l=[i[0]-e[0],i[1]-e[1]],M=[n[0]-e[0],n[1]-e[1]],O=h(e,i),D=h(e,n);return(l[0]*M[0]+l[1]*M[1])/Math.sqrt(O*D)}function o(e,i){for(let n=0;n<i.length-1;n++){const l=[i[n],i[n+1]];if(!(e[0][0]===l[0][0]&&e[0][1]===l[0][1]||e[0][0]===l[1][0]&&e[0][1]===l[1][1])&&(0,C.T)(e[0],e[1],l[0],l[1]))return!0}return!1}function r(e){let i=1/0,n=1/0,l=-1/0,M=-1/0;for(let O=e.length-1;O>=0;O--)e[O][0]<i&&(i=e[O][0]),e[O][1]<n&&(n=e[O][1]),e[O][0]>l&&(l=e[O][0]),e[O][1]>M&&(M=e[O][1]);return[l-i,M-n]}function a(e){return[Math.min(e[0][0],e[1][0]),Math.min(e[0][1],e[1][1]),Math.max(e[0][0],e[1][0]),Math.max(e[0][1],e[1][1])]}function s(e,i,n){let l=null,M=E,O=E,D,P;for(let b=0;b<i.length;b++)D=v(e[0],e[1],i[b]),P=v(e[1],e[0],i[b]),D>M&&P>O&&!o([e[0],i[b]],n)&&!o([e[1],i[b]],n)&&(M=D,O=P,l=i[b]);return l}function u(e,i,n,l,M){let O=!1;for(let D=0;D<e.length-1;D++){const P=[e[D],e[D+1]],b=P[0][0]+","+P[0][1]+","+P[1][0]+","+P[1][1];if(h(P[0],P[1])<i||M.has(b))continue;let x=0,L=a(P),S,K,U;do L=l.extendBbox(L,x),S=L[2]-L[0],K=L[3]-L[1],U=s(P,l.rangePoints(L),e),x++;while(U===null&&(n[0]>S||n[1]>K));S>=n[0]&&K>=n[1]&&M.add(b),U!==null&&(e.splice(D+1,0,U),l.removePoint(U),O=!0)}return O?u(e,i,n,l,M):e}function c(e,i,n){const l=i||20,M=m(f(d.K.toXy(e,n)));if(M.length<4){const S=M.concat([M[0]]);return n?d.K.fromXy(S,n):S}const O=r(M),D=[O[0]*p,O[1]*p],P=(0,y.O)(M).reverse().map(S=>M[S]);P.push(P[0]);const b=M.filter(function(S){return P.indexOf(S)<0}),x=Math.ceil(1/(M.length/(O[0]*O[1]))),L=u(P,Math.pow(l,2),D,(0,T.e)(b,x),new Set);return n?d.K.fromXy(L,n):L}const E=Math.cos(90/(180/Math.PI)),p=.6},7631:function(at,N,t){"use strict";t.d(N,{O:function(){return y}});var d=t(49422);const T=d.Z[3];function y(C){const m=C.length;if(m<3){const a=new Array(m);for(let s=0;s<m;++s)a[s]=s;return m===2&&C[0][0]===C[1][0]&&C[0][1]===C[1][1]?[0]:a}const f=new Array(m);for(let a=0;a<m;++a)f[a]=a;f.sort((a,s)=>{const u=C[a][0]-C[s][0];return u||C[a][1]-C[s][1]});const h=[f[0],f[1]],v=[f[0],f[1]];for(let a=2;a<m;++a){const s=f[a],u=C[s];let c=h.length;for(;c>1&&T(C[h[c-2]],C[h[c-1]],u)<=0;)c-=1,h.pop();for(h.push(s),c=v.length;c>1&&T(C[v[c-2]],C[v[c-1]],u)>=0;)c-=1,v.pop();v.push(s)}const o=new Array(v.length+h.length-2);let r=0;for(let a=0,s=h.length;a<s;++a)o[r++]=h[a];for(let a=v.length-2;a>0;--a)o[r++]=v[a];return o}},49422:function(at,N,t){"use strict";var d=t(15677),T=t(56099),y=t(95411),C=t(6853);const m=5,f=11102230246251565e-32,h=(3+16*f)*f,v=(7+56*f)*f;function o(n,l,M,O){return function(P,b,x){const L=n(n(l(b[1],x[0]),l(-x[1],b[0])),n(l(P[1],b[0]),l(-b[1],P[0]))),S=n(l(P[1],x[0]),l(-x[1],P[0])),K=O(L,S);return K[K.length-1]}}function r(n,l,M,O){return function(P,b,x,L){const S=n(n(M(n(l(x[1],L[0]),l(-L[1],x[0])),b[2]),n(M(n(l(b[1],L[0]),l(-L[1],b[0])),-x[2]),M(n(l(b[1],x[0]),l(-x[1],b[0])),L[2]))),n(M(n(l(b[1],L[0]),l(-L[1],b[0])),P[2]),n(M(n(l(P[1],L[0]),l(-L[1],P[0])),-b[2]),M(n(l(P[1],b[0]),l(-b[1],P[0])),L[2])))),K=n(n(M(n(l(x[1],L[0]),l(-L[1],x[0])),P[2]),n(M(n(l(P[1],L[0]),l(-L[1],P[0])),-x[2]),M(n(l(P[1],x[0]),l(-x[1],P[0])),L[2]))),n(M(n(l(b[1],x[0]),l(-x[1],b[0])),P[2]),n(M(n(l(P[1],x[0]),l(-x[1],P[0])),-b[2]),M(n(l(P[1],b[0]),l(-b[1],P[0])),x[2])))),U=O(S,K);return U[U.length-1]}}function a(n,l,M,O){return function(P,b,x,L,S){const K=n(n(n(M(n(M(n(l(L[1],S[0]),l(-S[1],L[0])),x[2]),n(M(n(l(x[1],S[0]),l(-S[1],x[0])),-L[2]),M(n(l(x[1],L[0]),l(-L[1],x[0])),S[2]))),b[3]),n(M(n(M(n(l(L[1],S[0]),l(-S[1],L[0])),b[2]),n(M(n(l(b[1],S[0]),l(-S[1],b[0])),-L[2]),M(n(l(b[1],L[0]),l(-L[1],b[0])),S[2]))),-x[3]),M(n(M(n(l(x[1],S[0]),l(-S[1],x[0])),b[2]),n(M(n(l(b[1],S[0]),l(-S[1],b[0])),-x[2]),M(n(l(b[1],x[0]),l(-x[1],b[0])),S[2]))),L[3]))),n(M(n(M(n(l(x[1],L[0]),l(-L[1],x[0])),b[2]),n(M(n(l(b[1],L[0]),l(-L[1],b[0])),-x[2]),M(n(l(b[1],x[0]),l(-x[1],b[0])),L[2]))),-S[3]),n(M(n(M(n(l(L[1],S[0]),l(-S[1],L[0])),b[2]),n(M(n(l(b[1],S[0]),l(-S[1],b[0])),-L[2]),M(n(l(b[1],L[0]),l(-L[1],b[0])),S[2]))),P[3]),M(n(M(n(l(L[1],S[0]),l(-S[1],L[0])),P[2]),n(M(n(l(P[1],S[0]),l(-S[1],P[0])),-L[2]),M(n(l(P[1],L[0]),l(-L[1],P[0])),S[2]))),-b[3])))),n(n(M(n(M(n(l(b[1],S[0]),l(-S[1],b[0])),P[2]),n(M(n(l(P[1],S[0]),l(-S[1],P[0])),-b[2]),M(n(l(P[1],b[0]),l(-b[1],P[0])),S[2]))),L[3]),n(M(n(M(n(l(b[1],L[0]),l(-L[1],b[0])),P[2]),n(M(n(l(P[1],L[0]),l(-L[1],P[0])),-b[2]),M(n(l(P[1],b[0]),l(-b[1],P[0])),L[2]))),-S[3]),M(n(M(n(l(x[1],L[0]),l(-L[1],x[0])),b[2]),n(M(n(l(b[1],L[0]),l(-L[1],b[0])),-x[2]),M(n(l(b[1],x[0]),l(-x[1],b[0])),L[2]))),P[3]))),n(M(n(M(n(l(x[1],L[0]),l(-L[1],x[0])),P[2]),n(M(n(l(P[1],L[0]),l(-L[1],P[0])),-x[2]),M(n(l(P[1],x[0]),l(-x[1],P[0])),L[2]))),-b[3]),n(M(n(M(n(l(b[1],L[0]),l(-L[1],b[0])),P[2]),n(M(n(l(P[1],L[0]),l(-L[1],P[0])),-b[2]),M(n(l(P[1],b[0]),l(-b[1],P[0])),L[2]))),x[3]),M(n(M(n(l(b[1],x[0]),l(-x[1],b[0])),P[2]),n(M(n(l(P[1],x[0]),l(-x[1],P[0])),-b[2]),M(n(l(P[1],b[0]),l(-b[1],P[0])),x[2]))),-L[3]))))),U=n(n(n(M(n(M(n(l(L[1],S[0]),l(-S[1],L[0])),x[2]),n(M(n(l(x[1],S[0]),l(-S[1],x[0])),-L[2]),M(n(l(x[1],L[0]),l(-L[1],x[0])),S[2]))),P[3]),M(n(M(n(l(L[1],S[0]),l(-S[1],L[0])),P[2]),n(M(n(l(P[1],S[0]),l(-S[1],P[0])),-L[2]),M(n(l(P[1],L[0]),l(-L[1],P[0])),S[2]))),-x[3])),n(M(n(M(n(l(x[1],S[0]),l(-S[1],x[0])),P[2]),n(M(n(l(P[1],S[0]),l(-S[1],P[0])),-x[2]),M(n(l(P[1],x[0]),l(-x[1],P[0])),S[2]))),L[3]),M(n(M(n(l(x[1],L[0]),l(-L[1],x[0])),P[2]),n(M(n(l(P[1],L[0]),l(-L[1],P[0])),-x[2]),M(n(l(P[1],x[0]),l(-x[1],P[0])),L[2]))),-S[3]))),n(n(M(n(M(n(l(x[1],S[0]),l(-S[1],x[0])),b[2]),n(M(n(l(b[1],S[0]),l(-S[1],b[0])),-x[2]),M(n(l(b[1],x[0]),l(-x[1],b[0])),S[2]))),P[3]),M(n(M(n(l(x[1],S[0]),l(-S[1],x[0])),P[2]),n(M(n(l(P[1],S[0]),l(-S[1],P[0])),-x[2]),M(n(l(P[1],x[0]),l(-x[1],P[0])),S[2]))),-b[3])),n(M(n(M(n(l(b[1],S[0]),l(-S[1],b[0])),P[2]),n(M(n(l(P[1],S[0]),l(-S[1],P[0])),-b[2]),M(n(l(P[1],b[0]),l(-b[1],P[0])),S[2]))),x[3]),M(n(M(n(l(b[1],x[0]),l(-x[1],b[0])),P[2]),n(M(n(l(P[1],x[0]),l(-x[1],P[0])),-b[2]),M(n(l(P[1],b[0]),l(-b[1],P[0])),x[2]))),-S[3])))),j=O(K,U);return j[j.length-1]}}function s(n){return(n===3?o:n===4?r:a)(y.Y,C.Q,d.G,T.p)}const u=s(3),c=s(4),E=[function(){return 0},function(){return 0},function(l,M){return M[0]-l[0]},function(l,M,O){const D=(l[1]-O[1])*(M[0]-O[0]),P=(l[0]-O[0])*(M[1]-O[1]),b=D-P;let x;if(D>0){if(P<=0)return b;x=D+P}else if(D<0){if(P>=0)return b;x=-(D+P)}else return b;const L=h*x;return b>=L||b<=-L?b:u(l,M,O)},function(l,M,O,D){const P=l[0]-D[0],b=M[0]-D[0],x=O[0]-D[0],L=l[1]-D[1],S=M[1]-D[1],K=O[1]-D[1],U=l[2]-D[2],j=M[2]-D[2],F=O[2]-D[2],W=b*K,w=x*S,z=x*L,H=P*K,Y=P*S,V=b*L,$=U*(W-w)+j*(z-H)+F*(Y-V),J=(Math.abs(W)+Math.abs(w))*Math.abs(U)+(Math.abs(z)+Math.abs(H))*Math.abs(j)+(Math.abs(Y)+Math.abs(V))*Math.abs(F),rt=v*J;return $>rt||-$>rt?$:c(l,M,O,D)}];function p(n){let l=E[n.length];return l||(l=E[n.length]=s(n.length)),l.apply(void 0,...n)}function e(n,l,M,O,D,P,b){return function(...L){switch(L.length){case 0:case 1:return 0;case 2:return O(L[0],L[1]);case 3:return D(L[0],L[1],L[2]);case 4:return P(L[0],L[1],L[2],L[3]);case 5:return b(L[0],L[1],L[2],L[3],L[4])}return n(L)}}function i(){for(;E.length<=m;)E.push(s(E.length));const n=e(void 0,p,...E);for(let l=0;l<=m;++l)n[l]=E[l];return n}N.Z=i()},15677:function(at,N,t){"use strict";t.d(N,{G:function(){return y}});var d=t(6853),T=t(4099);function y(C,m){const f=C.length;if(f===1){const a=(0,d.Q)(C[0],m);return a[0]?a:[a[1]]}const h=new Array(2*f),v=[.1,.1],o=[.1,.1];let r=0;(0,d.Q)(C[0],m,v),v[0]&&(h[r++]=v[0]);for(let a=1;a<f;++a){(0,d.Q)(C[a],m,o);const s=v[1];(0,T.v)(s,o[0],v),v[0]&&(h[r++]=v[0]);const u=o[1],c=v[1],E=u+c,p=E-u,e=c-p;v[1]=E,e&&(h[r++]=e)}return v[1]&&(h[r++]=v[1]),r===0&&(h[r++]=0),h.length=r,h}},19275:function(at,N,t){"use strict";t.d(N,{T:function(){return y}});var d=t(49422);function T(C,m,f,h){for(let v=0;v<2;++v){const o=C[v],r=m[v],[a,s]=[Math.min(o,r),Math.max(o,r)],u=f[v],c=h[v],[E,p]=[Math.min(u,c),Math.max(u,c)];if(p<a||s<E)return!1}return!0}function y(C,m,f,h){const v=(0,d.Z)(C,f,h),o=(0,d.Z)(m,f,h);if(v>0&&o>0||v<0&&o<0)return!1;const r=(0,d.Z)(f,C,m),a=(0,d.Z)(h,C,m);return r>0&&a>0||r<0&&a<0?!1:v===0&&o===0&&r===0&&a===0?T(C,m,f,h):!0}},56099:function(at,N,t){"use strict";t.d(N,{p:function(){return T}});function d(y,C){const m=y+C,f=m-y,h=m-f,v=C-f,r=y-h+v;return r?[r,m]:[m]}function T(y,C){const m=y.length|0,f=C.length|0;if(m===1&&f===1)return d(y[0],-C[0]);const h=m+f,v=new Array(h);let o=0,r=0,a=0;const s=Math.abs;let u=y[r],c=s(u),E=-C[a],p=s(E),e,i;c<p?(i=u,r+=1,r<m&&(u=y[r],c=s(u))):(i=E,a+=1,a<f&&(E=-C[a],p=s(E))),r<m&&c<p||a>=f?(e=u,r+=1,r<m&&(u=y[r],c=s(u))):(e=E,a+=1,a<f&&(E=-C[a],p=s(E)));let n=e+i,l=n-e,M=i-l,O=M,D=n,P,b,x,L,S;for(;r<m&&a<f;)c<p?(e=u,r+=1,r<m&&(u=y[r],c=s(u))):(e=E,a+=1,a<f&&(E=-C[a],p=s(E))),i=O,n=e+i,l=n-e,M=i-l,M&&(v[o++]=M),P=D+n,b=P-D,x=P-b,L=n-b,S=D-x,O=S+L,D=P;for(;r<m;)e=u,i=O,n=e+i,l=n-e,M=i-l,M&&(v[o++]=M),P=D+n,b=P-D,x=P-b,L=n-b,S=D-x,O=S+L,D=P,r+=1,r<m&&(u=y[r]);for(;a<f;)e=E,i=O,n=e+i,l=n-e,M=i-l,M&&(v[o++]=M),P=D+n,b=P-D,x=P-b,L=n-b,S=D-x,O=S+L,D=P,a+=1,a<f&&(E=-C[a]);return O&&(v[o++]=O),D&&(v[o++]=D),o||(v[o++]=0),v.length=o,v}},95411:function(at,N,t){"use strict";t.d(N,{Y:function(){return T}});function d(y,C){const m=y+C,f=m-y,h=m-f,v=C-f,r=y-h+v;return r?[r,m]:[m]}function T(y,C){const m=y.length|0,f=C.length|0;if(m===1&&f===1)return d(y[0],C[0]);const h=m+f,v=new Array(h);let o=0,r=0,a=0;const s=Math.abs;let u=y[r],c=s(u),E=C[a],p=s(E),e,i;c<p?(i=u,r+=1,r<m&&(u=y[r],c=s(u))):(i=E,a+=1,a<f&&(E=C[a],p=s(E))),r<m&&c<p||a>=f?(e=u,r+=1,r<m&&(u=y[r],c=s(u))):(e=E,a+=1,a<f&&(E=C[a],p=s(E)));let n=e+i,l=n-e,M=i-l,O=M,D=n,P,b,x,L,S;for(;r<m&&a<f;)c<p?(e=u,r+=1,r<m&&(u=y[r],c=s(u))):(e=E,a+=1,a<f&&(E=C[a],p=s(E))),i=O,n=e+i,l=n-e,M=i-l,M&&(v[o++]=M),P=D+n,b=P-D,x=P-b,L=n-b,S=D-x,O=S+L,D=P;for(;r<m;)e=u,i=O,n=e+i,l=n-e,M=i-l,M&&(v[o++]=M),P=D+n,b=P-D,x=P-b,L=n-b,S=D-x,O=S+L,D=P,r+=1,r<m&&(u=y[r]);for(;a<f;)e=E,i=O,n=e+i,l=n-e,M=i-l,M&&(v[o++]=M),P=D+n,b=P-D,x=P-b,L=n-b,S=D-x,O=S+L,D=P,a+=1,a<f&&(E=C[a]);return O&&(v[o++]=O),D&&(v[o++]=D),o||(v[o++]=0),v.length=o,v}},6853:function(at,N,t){"use strict";t.d(N,{Q:function(){return T}});const d=+(Math.pow(2,27)+1);function T(y,C,m){const f=y*C,h=d*y,v=h-y,o=h-v,r=y-o,a=d*C,s=a-C,u=a-s,c=C-u,e=f-o*u-r*u-o*c,i=r*c-e;return m?(m[0]=i,m[1]=f,m):[i,f]}},4099:function(at,N,t){"use strict";t.d(N,{v:function(){return d}});function d(T,y,C){const m=T+y,f=m-T,h=m-f,v=y-f,o=T-h;return C?(C[0]=o+v,C[1]=m,C):[o+v,m]}},38557:function(at,N,t){"use strict";t.d(N,{L:function(){return a}});var d=t(99666),T=t(84237),y=t(23098),C=t(23618),m=t(29193),f=t(49559),h=t(1938),v=t(3118),o=t(9631),r=function(s,u){var c={};for(var E in s)Object.prototype.hasOwnProperty.call(s,E)&&u.indexOf(E)<0&&(c[E]=s[E]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,E=Object.getOwnPropertySymbols(s);p<E.length;p++)u.indexOf(E[p])<0&&Object.prototype.propertyIsEnumerable.call(s,E[p])&&(c[E[p]]=s[E[p]]);return c};class a extends h.v{constructor(u,c){super(u,Object.assign({},a.defaultOptions,c)),this.hullMemberIds=[],this.drawHull=()=>{if(!this.shape)this.shape=new C.ff({style:this.getHullStyle()}),this.context.canvas.appendChild(this.shape);else{const E=!(0,d.Z)(this.optionsCache,this.options);this.shape.update(this.getHullStyle(E))}this.optionsCache=Object.assign({},this.options)},this.updateHullPath=E=>{this.shape&&this.options.members.includes((0,m.jD)(E.data))&&this.shape.update({d:this.getHullPath(!0)})},this.getHullPath=(E=!1)=>{const{graph:p}=this.context,e=this.getMember();if(e.length===0)return"";const i=e.map(M=>p.getNodeData(M)),n=(0,v.$)(i.map(f.TA),this.options.concavity).slice(1).reverse(),l=n.flatMap(M=>i.filter(O=>(0,d.Z)((0,f.TA)(O),M)).map(m.jD));return(0,d.Z)(l,this.hullMemberIds)&&!E?this.path:(this.hullMemberIds=l,this.path=(0,o.G)(n,this.getPadding(),this.options.corner),this.path)},this.bindEvents()}bindEvents(){this.context.graph.on(y.VR.AFTER_RENDER,this.drawHull),this.context.graph.on(y.VR.AFTER_ELEMENT_UPDATE,this.updateHullPath)}unbindEvents(){this.context.graph.off(y.VR.AFTER_RENDER,this.drawHull),this.context.graph.off(y.VR.AFTER_ELEMENT_UPDATE,this.updateHullPath)}getHullStyle(u){const c=this.options,{members:E,padding:p,corner:e}=c,i=r(c,["members","padding","corner"]);return Object.assign(Object.assign({},i),{d:this.getHullPath(u)})}getPadding(){const{graph:u}=this.context;return this.hullMemberIds.reduce((E,p)=>{const{halfExtents:e}=u.getElementRenderBounds(p),i=Math.max(e[0],e[1]);return Math.max(E,i)},0)+this.options.padding}addMember(u){const c=Array.isArray(u)?u:[u];this.options.members=[...new Set([...this.options.members,...c])],this.shape.update({d:this.getHullPath()})}removeMember(u){const c=Array.isArray(u)?u:[u];this.options.members=this.options.members.filter(E=>!c.includes(E)),c.some(E=>this.hullMemberIds.includes(E))&&this.shape.update({d:this.getHullPath()})}updateMember(u){this.options.members=(0,T.Z)(u)?u(this.options.members):u,this.shape.update(this.getHullStyle(!0))}getMember(){return this.options.members}destroy(){this.unbindEvents(),this.shape.destroy(),this.hullMemberIds=[],super.destroy()}}a.defaultOptions={members:[],padding:10,corner:"rounded",concavity:1/0,fill:"lightblue",fillOpacity:.2,labelOpacity:1,stroke:"blue",strokeOpacity:.2}},9631:function(at,N,t){"use strict";t.d(N,{G:function(){return m}});var d=t(19324),T=t(38865),y=t(59268),C=t(26192);function m(a,s,u){if(a.length===1)return f(a[0],s,u);if(a.length===2)return h(a,s,u);if(a.length===3){const[c,E,p]=(0,y.JV)(a);if((0,y.cp)(c,E,p))return h([c,p],s,u)}switch(u){case"smooth":return o(a,s);case"sharp":return r(a,s);case"rounded":default:return v(a,s)}}const f=(a,s,u)=>{if(u==="sharp")return[["M",a[0]-s,a[1]-s],["L",a[0]+s,a[1]-s],["L",a[0]+s,a[1]+s],["L",a[0]-s,a[1]+s],["Z"]];const c=[s,s,0,0,0];return[["M",a[0],a[1]-s],["A",...c,a[0],a[1]+s],["A",...c,a[0],a[1]-s]]},h=(a,s,u)=>{const c=[s,s,0,0,0],E=u==="sharp"?(0,C.IH)(a[0],(0,C.bA)((0,C.Fv)((0,C.$X)(a[0],a[1])),s)):a[0],p=u==="sharp"?(0,C.IH)(a[1],(0,C.bA)((0,C.Fv)((0,C.$X)(a[1],a[0])),s)):a[1],e=(0,C.bA)((0,C.Fv)((0,C.xq)((0,C.$X)(E,p),!1)),s),i=(0,C.bA)(e,-1),n=(0,C.IH)(E,e),l=(0,C.IH)(p,e),M=(0,C.IH)(p,i),O=(0,C.IH)(E,i);return u==="sharp"?[["M",n[0],n[1]],["L",l[0],l[1]],["L",M[0],M[1]],["L",O[0],O[1]],["Z"]]:[["M",n[0],n[1]],["L",l[0],l[1]],["A",...c,M[0],M[1]],["L",O[0],O[1]],["A",...c,n[0],n[1]]]},v=(a,s)=>{const u=(0,y.JV)(a).map((i,n)=>{const l=(n-2+a.length)%a.length,M=(n-1+a.length)%a.length,O=(n+1)%a.length,D=a[l],P=a[M],b=a[O],x=(0,C.$X)(D,P),L=(0,C.$X)(P,i),S=(0,C.$X)(i,b),K=(w,z)=>(0,C.EU)(w,z,!0)<Math.PI,U=K(x,L),j=K(L,S),F=w=>(0,C.bA)((0,C.Fv)((0,C.xq)(w,!1)),s),W=F(L);return[{p:(0,C.e_)(U?(0,C.IH)(P,F(x)):(0,C.IH)(P,W)),concave:U&&P},{p:(0,C.e_)(j?(0,C.IH)(i,F(S)):(0,C.IH)(i,W)),concave:j&&i}]}),c=[s,s,0,0,0],E=u.findIndex((i,n)=>!u[(n-1+u.length)%u.length][0].concave&&!u[(n-1+u.length)%u.length][1].concave&&!i[0].concave&&!i[0].concave&&!i[1].concave),p=u.slice(E).concat(u.slice(0,E));let e=[];return p.flatMap((i,n)=>{const l=[],M=p[u.length-1];return n===0&&l.push(["M",...M[1].p]),i[0].concave?e.push(i[0].p,i[1].p):l.push(["A",...c,...i[0].p]),i[1].concave?e.unshift(i[1].p):l.push(["L",...i[1].p]),e.length===3&&(l.pop(),l.push(["C",...e.flat()]),e=[]),l})},o=(a,s)=>{const u=(0,y.JV)(a).map((c,E)=>{const p=a[(E+1)%a.length];return{p:c,v:(0,C.Fv)((0,C.$X)(p,c))}});return u.forEach((c,E)=>{const p=E>0?E-1:a.length-1,e=u[p].v,i=(0,C.Fv)((0,C.IH)(e,(0,C.bA)(c.v,(0,C.EU)(e,c.v,!0)<Math.PI?1:-1)));c.p=(0,C.IH)(c.p,(0,C.bA)(i,s))}),(0,T.Yu)(u.map(c=>c.p))},r=(a,s)=>{const c=a.map((p,e)=>{const i=a[e===0?a.length-1:e-1],n=(0,C.Uy)((0,C.bA)((0,C.Fv)((0,C.xq)((0,C.$X)(i,p),!1)),s));return[(0,C.IH)(i,n),(0,C.IH)(p,n)]}).flat();return c.map((p,e)=>{if(e%2===0)return null;const i=[c[(e-1)%c.length],c[e%c.length]],n=[c[(e+1)%c.length],c[(e+2)%c.length]];return(0,d.D)(i,n,!0)}).filter(Boolean).map((p,e)=>[e===0?"M":"L",p[0],p[1]]).concat([["Z"]])}},91572:function(at,N,t){"use strict";t.d(N,{Aq:function(){return d.A},Ay:function(){return a.A},CF:function(){return y.C},Dc:function(){return f.D},De:function(){return u.D},Dx:function(){return e.D},Gl:function(){return r.G},HV:function(){return E.H},L$:function(){return s.L},N5:function(){return c.N},VS:function(){return m.V},bP:function(){return h.b},iT:function(){return o.i},le:function(){return l.l},o8:function(){return i.o},s4:function(){return p.s},u:function(){return n.u},yO:function(){return v.y}});var d=t(13422),T=t(1938),y=t(10616),C=t(95038),m=t(61795),f=t(64313),h=t(66834),v=t(46013),o=t(25577),r=t(38691),a=t(30634),s=t(38557),u=t(4898),c=t(77304),E=t(43695),p=t(28557),e=t(29995),i=t(89098),n=t(3431),l=t(18357)},4898:function(at,N,t){"use strict";t.d(N,{D:function(){return v}});var d=t(41339),T=t(22040),y=t(84237),C=t(23098),m=t(1938),f=t(77334),h=function(o,r){var a={};for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&r.indexOf(s)<0&&(a[s]=o[s]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(o);u<s.length;u++)r.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(o,s[u])&&(a[s[u]]=o[s[u]]);return a};class v extends m.v{constructor(r,a){super(r,Object.assign({},v.defaultOptions,a)),this.typePrefix="__data__",this.draw=!1,this.fieldMap={node:new Map,edge:new Map,combo:new Map},this.selectedItems=[],this.bindEvents=()=>{const{graph:s}=this.context;s.on(C.VR.AFTER_DRAW,this.createElement)},this.changeState=(s,u)=>{const{graph:c}=this.context,{typePrefix:E}=this,p=(0,T.Z)(s,[E,"id"]),e=(0,T.Z)(s,[E,"style","labelText"]),[i]=p.split("__"),n=this.fieldMap[i].get(e)||[];c.setElementState(Object.fromEntries(n==null?void 0:n.map(l=>[l,u])))},this.click=s=>{if(this.options.trigger==="hover")return;const u=(0,T.Z)(s,[this.typePrefix,"id"]);this.selectedItems.includes(u)?(this.selectedItems=this.selectedItems.filter(c=>c!==u),this.changeState(s,[])):(this.selectedItems.push(u),this.changeState(s,"selected"))},this.mouseleave=s=>{this.options.trigger!=="click"&&(this.selectedItems=[],this.changeState(s,[]))},this.mouseenter=s=>{if(this.options.trigger==="click")return;const u=(0,T.Z)(s,[this.typePrefix,"id"]);this.selectedItems.includes(u)?this.selectedItems=this.selectedItems.filter(c=>c!==u):(this.selectedItems.push(u),this.changeState(s,"active"))},this.setFieldMap=(s,u,c)=>{if(!s)return;const E=this.fieldMap[c];if(E)if(!E.has(s))E.set(s,[u]);else{const p=E.get(s);p&&(p.push(u),E.set(s,p))}},this.getEvents=()=>({mouseenter:this.mouseenter,mouseleave:this.mouseleave,click:this.click}),this.getMarkerData=(s,u)=>{if(!s)return[];const{model:c,element:E}=this.context,{nodes:p,edges:e,combos:i}=c.getData(),n={},l=b=>(0,y.Z)(s)?s(b):s,M={node:"circle",edge:"line",combo:"rect"},O={circle:"circle",ellipse:"circle",image:"bowtie",rect:"square",star:"cross",triangle:"triangle",diamond:"diamond",cubic:"dot",line:"hyphen",polyline:"hyphen",quadratic:"hv","cubic-horizontal":"hyphen","cubic-vertical":"line"},D=(b,x)=>E==null?void 0:E.getElementComputedStyle(b,x),P=(b,x)=>{b.forEach(L=>{const{id:S}=L,K=(0,T.Z)(L,["data",l(L)]),U=(E==null?void 0:E.getElementType(x,L))||"circle",j=D(x,L),F=(x==="edge"?j==null?void 0:j.stroke:j==null?void 0:j.fill)||"#1783ff";S&&K&&K.replace(/\s+/g,"")&&(this.setFieldMap(K,S,x),n[K]||(n[K]={id:`${x}__${S}`,label:K,marker:O[U]||M[x],elementType:x,lineWidth:1,stroke:F,fill:F}))})};switch(u){case"node":P(p,"node");break;case"edge":P(e,"edge");break;case"combo":P(i,"combo");break;default:return[]}return Object.values(n)},this.createElement=()=>{if(this.draw){this.updateElement();return}const s=this.options,{width:u,height:c,nodeField:E,edgeField:p,comboField:e,trigger:i,position:n,container:l,containerStyle:M,className:O}=s,D=h(s,["width","height","nodeField","edgeField","comboField","trigger","position","container","containerStyle","className"]),P=this.getMarkerData(E,"node"),b=this.getMarkerData(p,"edge"),x=this.getMarkerData(e,"combo"),L=[...P,...x,...b],S=Object.assign({width:u,height:c,data:L,itemMarkerLineWidth:({lineWidth:j})=>j,itemMarker:({marker:j})=>j,itemMarkerStroke:({stroke:j})=>j,itemMarkerFill:({fill:j})=>j,gridCol:P.length},D,this.getEvents()),K=new d.W({className:"legend",style:S});this.category=K,this.upsertCanvas().appendChild(K),this.draw=!0},this.bindEvents()}update(r){super.update(r),this.clear(),this.createElement()}clear(){var r,a;(r=this.canvas)===null||r===void 0||r.destroy(),(a=this.container)===null||a===void 0||a.remove(),this.canvas=void 0,this.container=void 0,this.draw=!1}updateElement(){this.category&&this.category.update({itemMarkerOpacity:({id:r})=>!this.selectedItems.length||this.selectedItems.includes(r)?1:.5,itemLabelOpacity:({id:r})=>!this.selectedItems.length||this.selectedItems.includes(r)?1:.5})}upsertCanvas(){if(this.canvas)return this.canvas;const r=this.context.canvas,[a,s]=r.getSize(),{width:u=a,height:c=s,position:E,container:p,containerStyle:e,className:i}=this.options,[n,l]=(0,f.$)({width:u,height:c,graphCanvas:r,container:p,containerStyle:e,placement:E,className:"legend"});return this.container=n,i&&n.classList.add(i),this.canvas=l,this.canvas}destroy(){this.clear(),this.context.graph.off(C.VR.AFTER_DRAW,this.createElement),super.destroy()}}v.defaultOptions={position:"bottom",trigger:"hover",orientation:"horizontal",layout:"flex",itemSpacing:4,rowPadding:10,colPadding:10,itemMarkerSize:16,itemLabelFontSize:16,width:240,height:160}},77304:function(at,N,t){"use strict";t.d(N,{N:function(){return r}});var d=t(31922),T=t(83633),y=t(23098),C=t(23295),m=t(29193),f=t(17439),h=t(59268),v=t(1938),o=t(77334);class r extends v.v{constructor(c,E){super(c,Object.assign({},r.defaultOptions,E)),this.onDraw=p=>{var e;!((e=p==null?void 0:p.data)===null||e===void 0)&&e.render||this.onRender()},this.landmarkMap=new Map,this.mask=null,this.isMaskDragging=!1,this.onMaskDragStart=p=>{this.mask&&(this.isMaskDragging=!0,this.mask.setPointerCapture(p.pointerId),this.mask.addEventListener("pointermove",this.onMaskDrag),this.mask.addEventListener("pointerup",this.onMaskDragEnd),this.mask.addEventListener("pointercancel",this.onMaskDragEnd))},this.onMaskDrag=p=>{if(!this.mask||!this.isMaskDragging)return;const{size:[e,i]}=this.options,{movementX:n,movementY:l}=p,{left:M,top:O,width:D,height:P}=this.mask.style,[,,b,x]=this.maskBBox;let L=parseInt(M)+n,S=parseInt(O)+l,K=parseInt(D),U=parseInt(P);L<0&&(L=0),S<0&&(S=0),L+K>e&&(L=s(e-K,0)),S+U>i&&(S=s(i-U,0)),K<b&&(n>0?(L=s(L-n,0),K=a(K+n,e)):n<0&&(K=a(K-n,e))),U<x&&(l>0?(S=s(S-l,0),U=a(U+l,i)):l<0&&(U=a(U-l,i))),Object.assign(this.mask.style,{left:L+"px",top:S+"px",width:K+"px",height:U+"px"});const j=parseInt(M)-L,F=parseInt(O)-S;if(j===0&&F===0)return;const W=this.context.canvas.getCamera().getZoom(),w=this.canvas.getCamera().getZoom(),z=W/w;this.context.graph.translateBy([j*z,F*z],!1)},this.onMaskDragEnd=p=>{this.mask&&(this.isMaskDragging=!1,this.mask.releasePointerCapture(p.pointerId),this.mask.removeEventListener("pointermove",this.onMaskDrag),this.mask.removeEventListener("pointerup",this.onMaskDragEnd),this.mask.removeEventListener("pointercancel",this.onMaskDragEnd))},this.onTransform=(0,d.Z)(()=>{this.isMaskDragging||(this.updateMask(),this.setCamera())},32,{leading:!0}),this.setOnRender(),this.bindEvents()}update(c){this.unbindEvents(),super.update(c),"delay"in c&&this.setOnRender(),this.bindEvents()}setOnRender(){this.onRender=(0,T.Z)(()=>{this.renderMinimap(),this.renderMask()},this.options.delay)}bindEvents(){const{graph:c}=this.context;c.on(y.VR.AFTER_DRAW,this.onDraw),c.on(y.VR.AFTER_RENDER,this.onRender),c.on(y.VR.AFTER_ANIMATE,this.onRender),c.on(y.VR.AFTER_TRANSFORM,this.onTransform)}unbindEvents(){const{graph:c}=this.context;c.off(y.VR.AFTER_DRAW,this.onDraw),c.off(y.VR.AFTER_RENDER,this.onRender),c.off(y.VR.AFTER_ANIMATE,this.onRender),c.off(y.VR.AFTER_TRANSFORM,this.onTransform)}renderMinimap(){const c=this.getElements(),E=this.initCanvas();this.setShapes(E,c)}getElements(){const{filter:c}=this.options,{model:E,element:p}=this.context,e=E.getData(),i={nodes:e.nodes.filter(O=>p==null?void 0:p.getElement((0,m.jD)(O))),edges:e.edges.filter(O=>{const D=p==null?void 0:p.getElement((0,m.jD)(O));return D&&(0,C.pn)(D)}),combos:e.combos.filter(O=>p==null?void 0:p.getElement((0,m.jD)(O)))};if(!c)return i;const{nodes:n,edges:l,combos:M}=i;return{nodes:n.filter(O=>c((0,m.jD)(O),"node")),edges:l.filter(O=>c((0,m.jD)(O),"edge")),combos:M.filter(O=>c((0,m.jD)(O),"combo"))}}setShapes(c,E){const{nodes:p,edges:e,combos:i}=E,{shape:n}=this.options,{element:l}=this.context,M=(O,D)=>{const P=(0,m.jD)(O),b=l==null?void 0:l.getElement(P);if(!b)return;const x=b.getShape("key");let L;if(typeof n=="string"){const S=n;L=b.getShape(S).cloneNode()}else{const S=n(P,D,b);S===b?L=S.cloneNode(!0):L=S}L.setPosition(x.getPosition()),b.style.zIndex&&(L.style.zIndex=b.style.zIndex),L.id=b.id,c.appendChild(L)};c.removeChildren(),e.forEach(O=>M(O,"edge")),i.forEach(O=>M(O,"combo")),p.forEach(O=>M(O,"node"))}initCanvas(){const{renderer:c,size:[E,p]}=this.options;if(this.canvas){const{width:e,height:i}=this.canvas.getConfig();(E!==e||p!==i)&&this.canvas.resize(E,p),c&&this.canvas.setRenderer(c)}else{const{className:e,position:i,container:n,containerStyle:l}=this.options,[M,O]=(0,o.$)({renderer:c,width:E,height:p,placement:i,className:"minimap",container:n,containerStyle:l,graphCanvas:this.context.canvas});e&&M.classList.add(e),this.container=M,this.canvas=O}return this.setCamera(),this.canvas}createLandmark(c,E,p){const e=`${c.join(",")}-${E.join(",")}-${p}`;if(this.landmarkMap.has(e))return this.landmarkMap.get(e);const n=this.canvas.getCamera().createLandmark(e,{position:c,focalPoint:E,zoom:p});return this.landmarkMap.set(e,n),n}setCamera(){var c;const{canvas:E}=this.context,p=(c=this.canvas)===null||c===void 0?void 0:c.getCamera();if(!p)return;const{size:[e,i],padding:n}=this.options,[l,M,O,D]=(0,f.dj)(n),{min:P,max:b,center:x}=E.getBounds("elements"),L=b[0]-P[0],S=b[1]-P[1],K=e-D-M,U=i-l-O,j=K/L,F=U/S,W=Math.min(j,F),w=this.createLandmark(x,x,W);p.gotoLandmark(w,0)}get maskBBox(){const{canvas:c}=this.context,E=c.getSize(),p=c.getCanvasByViewport([0,0]),e=c.getCanvasByViewport(E),i=this.canvas.canvas2Viewport((0,h.Zv)(p)),n=this.canvas.canvas2Viewport((0,h.Zv)(e)),l=n.x-i.x,M=n.y-i.y;return[i.x,i.y,l,M]}calculateMaskBBox(){const{size:[c,E]}=this.options;let[p,e,i,n]=this.maskBBox;return p<0&&(i=a(i+p,c),p=0),e<0&&(n=a(n+e,E),e=0),p+i>c&&(i=s(c-p,0)),e+n>E&&(n=s(E-e,0)),[a(p,c),a(e,E),s(i,0),s(n,0)]}renderMask(){const{maskStyle:c}=this.options;this.mask||(this.mask=document.createElement("div"),this.mask.addEventListener("pointerdown",this.onMaskDragStart),this.mask.draggable=!0,this.mask.addEventListener("dragstart",E=>E.preventDefault&&E.preventDefault())),this.container.appendChild(this.mask),Object.assign(this.mask.style,Object.assign(Object.assign({},c),{cursor:"move",position:"absolute",pointerEvents:"auto"})),this.updateMask()}updateMask(){if(!this.mask)return;const[c,E,p,e]=this.calculateMaskBBox();Object.assign(this.mask.style,{top:E+"px",left:c+"px",width:p+"px",height:e+"px"})}destroy(){var c,E,p;this.unbindEvents(),(c=this.canvas)===null||c===void 0||c.destroy(),(E=this.mask)===null||E===void 0||E.remove(),(p=this.container)===null||p===void 0||p.remove(),super.destroy()}}r.defaultOptions={size:[240,160],shape:"key",padding:10,position:"right-bottom",maskStyle:{border:"1px solid #ddd",background:"rgba(0, 0, 0, 0.1)"},containerStyle:{border:"1px solid #ddd",background:"#fff"},delay:128};const a=(u,c)=>Math.min(u,c),s=(u,c)=>Math.max(u,c)},43695:function(at,N,t){"use strict";t.d(N,{H:function(){return o}});var d=t(81614),T=t(99666),y=t(23098),C=t(23295),m=t(26192),f=t(1938),h=function(s,u,c,E){function p(e){return e instanceof c?e:new c(function(i){i(e)})}return new(c||(c=Promise))(function(e,i){function n(O){try{M(E.next(O))}catch(D){i(D)}}function l(O){try{M(E.throw(O))}catch(D){i(D)}}function M(O){O.done?e(O.value):p(O.value).then(n,l)}M((E=E.apply(s,u||[])).next())})};const v={x1:0,y1:0,x2:0,y2:0,visibility:"hidden"};class o extends f.v{constructor(u,c){super(u,Object.assign({},o.defaultOptions,c)),this.initSnapline=()=>{const E=this.context.canvas.getLayer("transient");this.horizontalLine||(this.horizontalLine=E.appendChild(new d.x1({style:Object.assign(Object.assign({},v),this.options.horizontalLineStyle)}))),this.verticalLine||(this.verticalLine=E.appendChild(new d.x1({style:Object.assign(Object.assign({},v),this.options.verticalLineStyle)})))},this.isHorizontalSticking=!1,this.isVerticalSticking=!1,this.enableStick=!0,this.autoSnapToLine=(E,p,e)=>h(this,void 0,void 0,function*(){const{verticalX:i,horizontalY:n}=e,{tolerance:l}=this.options,{min:[M,O],max:[D,P],center:[b,x]}=p;let L=0,S=0;i!==null&&(r(D,i)<l&&(L=i-D),r(M,i)<l&&(L=i-M),r(b,i)<l&&(L=i-b),L!==0&&(this.isVerticalSticking=!0)),n!==null&&(r(P,n)<l&&(S=n-P),r(O,n)<l&&(S=n-O),r(x,n)<l&&(S=n-x),S!==0&&(this.isHorizontalSticking=!0)),(L!==0||S!==0)&&(yield this.context.graph.translateElementBy({[E]:[L,S]},!1))}),this.enableSnap=E=>{const{target:p}=E,e=.5;if(this.isHorizontalSticking||this.isVerticalSticking){const[i,n]=this.getDelta(E);if(this.isHorizontalSticking&&this.isVerticalSticking&&Math.abs(i)<=e&&Math.abs(n)<=e)return this.context.graph.translateElementBy({[p.id]:[-i,-n]},!1),!1;if(this.isHorizontalSticking&&Math.abs(n)<=e)return this.context.graph.translateElementBy({[p.id]:[0,-n]},!1),!1;if(this.isVerticalSticking&&Math.abs(i)<=e)return this.context.graph.translateElementBy({[p.id]:[-i,0]},!1),!1;this.isHorizontalSticking=!1,this.isVerticalSticking=!1,this.enableStick=!1,setTimeout(()=>{this.enableStick=!0},200)}return this.enableStick},this.calcSnaplineMetadata=(E,p)=>{const{tolerance:e,shape:i}=this.options,{min:[n,l],max:[M,O],center:[D,P]}=p;let b=null,x=null,L=null,S=null,K=null,U=null;return this.getNodes().some(j=>{if((0,T.Z)(E.id,j.id))return!1;const F=a(j,i).getRenderBounds(),{min:[W,w],max:[z,H],center:[Y,V]}=F;return b===null&&(r(Y,D)<e?b=Y:r(W,n)<e||r(W,M)<e?b=W:(r(z,M)<e||r(z,n)<e)&&(b=z),b!==null&&(x=Math.min(w,l),L=Math.max(H,O))),S===null&&(r(V,P)<e?S=V:r(w,l)<e||r(w,O)<e?S=w:(r(H,O)<e||r(H,l)<e)&&(S=H),S!==null&&(K=Math.min(W,n),U=Math.max(z,M))),b!==null&&S!==null}),{verticalX:b,verticalMinY:x,verticalMaxY:L,horizontalY:S,horizontalMinX:K,horizontalMaxX:U}},this.onDragStart=()=>{this.initSnapline()},this.onDrag=E=>h(this,void 0,void 0,function*(){const{target:p}=E;if(this.options.autoSnap&&!this.enableSnap(E))return;const e=a(p,this.options.shape).getRenderBounds(),i=this.calcSnaplineMetadata(p,e);this.hideSnapline(),(i.verticalX!==null||i.horizontalY!==null)&&this.updateSnapline(i),this.options.autoSnap&&(yield this.autoSnapToLine(p.id,e,i))}),this.onDragEnd=()=>{this.hideSnapline()},this.bindEvents()}getNodes(){var u;const{filter:c}=this.options,p=(((u=this.context.element)===null||u===void 0?void 0:u.getNodes())||[]).filter(e=>{var i;return(0,C.pn)(e)&&((i=this.context.viewport)===null||i===void 0?void 0:i.isInViewport(e.getRenderBounds()))});return c?p.filter(e=>c(e)):p}hideSnapline(){this.horizontalLine.style.visibility="hidden",this.verticalLine.style.visibility="hidden"}getLineWidth(u){const{lineWidth:c}=this.options[`${u}LineStyle`];return+(c||v.lineWidth||1)/this.context.graph.getZoom()}updateSnapline(u){const{verticalX:c,verticalMinY:E,verticalMaxY:p,horizontalY:e,horizontalMinX:i,horizontalMaxX:n}=u,[l,M]=this.context.canvas.getSize(),{offset:O}=this.options;e!==null?Object.assign(this.horizontalLine.style,{x1:O===1/0?0:i-O,y1:e,x2:O===1/0?l:n+O,y2:e,visibility:"visible",lineWidth:this.getLineWidth("horizontal")}):this.horizontalLine.style.visibility="hidden",c!==null?Object.assign(this.verticalLine.style,{x1:c,y1:O===1/0?0:E-O,x2:c,y2:O===1/0?M:p+O,visibility:"visible",lineWidth:this.getLineWidth("vertical")}):this.verticalLine.style.visibility="hidden"}getDelta(u){const c=this.context.graph.getZoom();return(0,m.cs)([u.dx,u.dy],c)}bindEvents(){return h(this,void 0,void 0,function*(){const{graph:u}=this.context;u.on(y.bG.DRAG_START,this.onDragStart),u.on(y.bG.DRAG,this.onDrag),u.on(y.bG.DRAG_END,this.onDragEnd)})}unbindEvents(){const{graph:u}=this.context;u.off(y.bG.DRAG_START,this.onDragStart),u.off(y.bG.DRAG,this.onDrag),u.off(y.bG.DRAG_END,this.onDragEnd)}destroyElements(){var u,c;(u=this.horizontalLine)===null||u===void 0||u.destroy(),(c=this.verticalLine)===null||c===void 0||c.destroy()}destroy(){this.destroyElements(),this.unbindEvents(),super.destroy()}}o.defaultOptions={tolerance:5,offset:20,autoSnap:!0,shape:"key",verticalLineStyle:{stroke:"#1783FF"},horizontalLineStyle:{stroke:"#1783FF"},filter:()=>!0};const r=(s,u)=>Math.abs(s-u),a=(s,u)=>typeof u=="function"?u(s):s.getShape(u)},28557:function(at,N,t){"use strict";t.d(N,{s:function(){return s}});var d=t(29371),T=t(83262),y=t(91984),C=t(26912),m=t(29193),f=t(17439),h=t(1938),v=t(77334),o=function(p,e,i,n){function l(M){return M instanceof i?M:new i(function(O){O(M)})}return new(i||(i=Promise))(function(M,O){function D(x){try{b(n.next(x))}catch(L){O(L)}}function P(x){try{b(n.throw(x))}catch(L){O(L)}}function b(x){x.done?M(x.value):l(x.value).then(D,P)}b((n=n.apply(p,e||[])).next())})},r=function(p,e){var i={};for(var n in p)Object.prototype.hasOwnProperty.call(p,n)&&e.indexOf(n)<0&&(i[n]=p[n]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(p);l<n.length;l++)e.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(p,n[l])&&(i[n[l]]=p[n[l]]);return i};const a=["timestamp","time","date","datetime"];class s extends h.v{get padding(){return(0,f.dj)(this.options.padding)}constructor(e,i){super(e,Object.assign({},s.defaultOptions,i)),this.backup(),this.upsertTimebar()}play(){var e;(e=this.timebar)===null||e===void 0||e.play()}pause(){var e;(e=this.timebar)===null||e===void 0||e.pause()}forward(){var e;(e=this.timebar)===null||e===void 0||e.forward()}backward(){var e;(e=this.timebar)===null||e===void 0||e.backward()}reset(){var e;(e=this.timebar)===null||e===void 0||e.reset()}update(e){super.update(e),this.backup(),this.upsertTimebar()}backup(){this.originalData=u(this.context.graph.getData())}upsertTimebar(){const{canvas:e}=this.context,i=this.options,{onChange:n,timebarType:l,data:M,x:O,y:D,width:P,height:b,mode:x}=i,L=r(i,["onChange","timebarType","data","x","y","width","height","mode"]),S=e.getSize(),[K]=this.padding;this.upsertCanvas().ready.then(()=>{var U;const j=Object.assign(Object.assign({x:S[0]/2-P/2,y:K,onChange:F=>{const W=((0,T.Z)(F)?F:[F,F]).map(w=>(0,y.Z)(w)?w.getTime():w);this.options.mode==="modify"?this.filterElements(W):this.hiddenElements(W),n==null||n(W)}},L),{data:M.map(F=>(0,C.Z)(F)?{time:F,value:0}:F),width:P,height:b,type:l});this.timebar?this.timebar.update(j):(this.timebar=new d.s({style:j}),(U=this.canvas)===null||U===void 0||U.appendChild(this.timebar))})}upsertCanvas(){if(this.canvas)return this.canvas;const{className:e,height:i,position:n}=this.options,l=this.context.canvas,[M]=l.getSize(),[O,,D]=this.padding,[P,b]=(0,v.$)({width:M,height:i+O+D,graphCanvas:l,className:"timebar",placement:n});return this.container=P,e&&P.classList.add(e),this.canvas=b,this.canvas}filterElements(e){return o(this,void 0,void 0,function*(){var i;if(!this.originalData)return;const{elementTypes:n,getTime:l}=this.options,{graph:M,element:O}=this.context,D=u(this.originalData);n.forEach(b=>{const x=`${b}s`;D[x]=(this.originalData[x]||[]).filter(L=>{const S=l(L);return!!c(S,e)})});const P=[...D.nodes,...D.combos].map(b=>(0,m.jD)(b));D.edges=D.edges.filter(b=>{const x=b.source,L=b.target;return P.includes(x)&&P.includes(L)}),M.setData(D),yield(i=O.draw({animation:!1,silence:!0}))===null||i===void 0?void 0:i.finished})}hiddenElements(e){const{graph:i}=this.context,{elementTypes:n,getTime:l}=this.options,M=[],O=[];n.forEach(D=>{var P;const b=`${D}s`;(((P=this.originalData)===null||P===void 0?void 0:P[b])||[]).forEach(L=>{const S=(0,m.jD)(L),K=l(L);c(K,e)?O.push(S):M.push(S)})}),i.hideElement(M,!1),i.showElement(O,!1)}destroy(){var e,i,n;const{graph:l}=this.context;this.originalData&&l.setData(Object.assign({},this.originalData)),(e=this.timebar)===null||e===void 0||e.destroy(),(i=this.canvas)===null||i===void 0||i.destroy(),(n=this.container)===null||n===void 0||n.remove(),this.originalData=void 0,this.container=void 0,this.timebar=void 0,this.canvas=void 0,super.destroy()}}s.defaultOptions={position:"bottom",enable:!0,timebarType:"time",className:"g6-timebar",width:450,height:60,zIndex:3,elementTypes:["node"],padding:10,mode:"modify",getTime:p=>E(p,a,void 0),loop:!1};const u=p=>{const{nodes:e=[],edges:i=[],combos:n=[]}=p;return{nodes:[...e],edges:[...i],combos:[...n]}},c=(p,e)=>{if((0,C.Z)(e))return p===e;const[i,n]=e;return p>=i&&p<=n},E=(p,e,i)=>{var n;for(let l=0;l<e.length;l++){const M=e[l],O=(n=p.data)===null||n===void 0?void 0:n[M];if(O)return O}return i}},29995:function(at,N,t){"use strict";t.d(N,{D:function(){return c}});var d=t(23098),T=t(21344),y=t(17439),C=t(28660),m=t(1938),f=t(77334),h=function(p,e){var i={};for(var n in p)Object.prototype.hasOwnProperty.call(p,n)&&e.indexOf(n)<0&&(i[n]=p[n]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(p);l<n.length;l++)e.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(p,n[l])&&(i[n[l]]=p[n[l]]);return i};const v={fill:"#1D2129",wordWrap:!0,maxLines:1,textOverflow:"ellipsis",textBaseline:"top",textAlign:"start",x:0},o=Object.assign(Object.assign({},v),{fillOpacity:.9,fontSize:16,fontWeight:"bold"}),r=Object.assign(Object.assign({},v),{fillOpacity:.65,fontSize:12,fontWeight:"normal"}),a={align:"left",spacing:8,size:44,padding:[16,24,0,24]},s="title",u="subtitle";class c extends m.v{get padding(){return(0,y.dj)(this.options.padding)}constructor(e,i){const n=Object.assign({},a,i);super(e,n),this.onRender=()=>{const l=this.updateCanvas();this.renderTitle(l)},this.bindEvents()}bindEvents(){const{graph:e}=this.context;e.on(d.VR.AFTER_RENDER,this.onRender),e.on(d.VR.AFTER_ANIMATE,this.onRender)}unbindEvents(){const{graph:e}=this.context;e.off(d.VR.AFTER_RENDER,this.onRender),e.off(d.VR.AFTER_ANIMATE,this.onRender)}destroy(){var e,i;this.unbindEvents(),(e=this.canvas)===null||e===void 0||e.destroy(),(i=this.container)===null||i===void 0||i.remove(),super.destroy()}updateCanvas(){const{size:e,className:i,align:n}=this.options,[l]=this.context.canvas.getSize(),[M=0,,O=0]=this.padding,D=e+M+O;if(this.canvas){const{width:P,height:b}=this.canvas.getConfig();(l!==P||D!==b)&&this.canvas.resize(l,D)}else{const P={left:"left-top",center:"top",right:"right-top"},[b,x]=(0,f.$)({width:l,height:D,placement:P[n]||P.left,className:"title-canvas",graphCanvas:this.context.canvas});i&&b.classList.add(i),this.container=b,this.canvas=x}return this.canvas}renderTitle(e){const i=new E({options:this.options,ctx:this.context});e.removeChildren(),i.getTitle().forEach(n=>{n&&e.appendChild(n)})}}class E{get padding(){return(0,y.dj)(this.options.padding)}constructor(e){const{options:i,ctx:n}=e;this.options=i,this.context=n}getTitle(){const e=this.options,i=s,n=e[i],l=u,M=e[l],{spacing:O=44,padding:D,align:P}=e,b=h(e,[typeof i=="symbol"?i:i+"",typeof l=="symbol"?l:l+"","spacing","padding","align"]),x=n,L=M,S=(0,C.zs)(b,s),K=(0,C.zs)(b,u),[U]=this.context.graph.getSize(),[j=0,F=0,,W=0]=this.padding,w=U,z=w-W-F;let H=null,Y=W,V="left";switch(P){case"left":Y=W,V="left";break;case"center":Y=w/2,V="center";break;case"right":Y=w-F,V="right";break;default:Y=W,V="left"}const $=new T._({className:s,style:Object.assign(Object.assign(Object.assign(Object.assign({},o),{wordWrapWidth:z-5,x:Y,y:j,textAlign:V}),S),{text:x})}),J=$.getBBox();return L&&(H=new T._({className:"subTitle",style:Object.assign(Object.assign(Object.assign(Object.assign({},r),{wordWrapWidth:z-5,x:Y,y:J.height+O+j,textAlign:V}),K),{text:L})})),[$,H]}}},89098:function(at,N,t){"use strict";t.d(N,{o:function(){return m}});var d=t(1938),T=t(90992),y=t(6957),C=function(f,h,v,o){function r(a){return a instanceof v?a:new v(function(s){s(a)})}return new(v||(v=Promise))(function(a,s){function u(p){try{E(o.next(p))}catch(e){s(e)}}function c(p){try{E(o.throw(p))}catch(e){s(e)}}function E(p){p.done?a(p.value):r(p.value).then(u,c)}E((o=o.apply(f,h||[])).next())})};class m extends d.v{constructor(h,v){super(h,Object.assign({},m.defaultOptions,v)),this.$element=(0,T.C)("toolbar",!1),this.onToolbarItemClick=r=>{const{onClick:a}=this.options;if(r.target instanceof Element&&r.target.className.includes("g6-toolbar-item")){const s=r.target.getAttribute("value");a==null||a(s,r.target)}};const o=this.context.canvas.getContainer();this.$element.style.display="flex",o.appendChild(this.$element),(0,T.q)("g6-toolbar-css","style",{},y.zR,document.head),(0,T.q)("g6-toolbar-svgicon","div",{display:"none"},y.px),this.$element.addEventListener("click",this.onToolbarItemClick),this.update(v)}update(h){const v=Object.create(null,{update:{get:()=>super.update}});return C(this,void 0,void 0,function*(){v.update.call(this,h);const{className:o,position:r,style:a}=this.options;this.$element.className=`g6-toolbar ${o||""}`,Object.assign(this.$element.style,a,(0,y.Hv)(r)),this.$element.innerHTML=yield this.getDOMContent()})}destroy(){this.$element.removeEventListener("click",this.onToolbarItemClick),this.$element.remove(),super.destroy()}getDOMContent(){return C(this,void 0,void 0,function*(){return(yield this.options.getItems()).map(v=>{var o;return`
          <div class="g6-toolbar-item" value="${v.value}" title="${(o=v.title)!==null&&o!==void 0?o:""}">
            <svg aria-hidden="true" focusable="false">
              <use xlink:href="#${v.id}"></use>
            </svg>
          </div>`}).join("")})}}m.defaultOptions={position:"top-left"}},6957:function(at,N,t){"use strict";t.d(N,{Hv:function(){return d},px:function(){return y},zR:function(){return T}});function d(C){const m={top:"unset",right:"unset",bottom:"unset",left:"unset"};return C.split("-").forEach(h=>{m[h]="8px"}),m.flexDirection=C.startsWith("top")||C.startsWith("bottom")?"row":"column",m}const T=`
  .g6-toolbar {
    position: absolute;
    z-index: 100;
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;
    border-radius: 4px;
    box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.1);
    opacity: 0.65;
  }
  .g6-toolbar .g6-toolbar-item {
    display: inline-block;
    width: 16px;
    height: 16px;
    padding: 4px;
    cursor: pointer;
    box-sizing: content-box;
  }

  .g6-toolbar .g6-toolbar-item:hover {
    background-color: #f0f0f0;
  }

  .g6-toolbar .g6-toolbar-item svg {
    display: inline-block;
    width: 100%;
    height: 100%;
    pointer-events: none;
  }
`,y=`
  <svg>
    <symbol id="zoom-in" viewBox="64 64 896 896">
      <path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"></path>
    </symbol>
    <symbol id="zoom-out" viewBox="64 64 896 896">
      <path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"></path>
    </symbol>
    <symbol id="edit" viewBox="64 64 896 896">
      <path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"></path>
    </symbol>
    <symbol id="delete" viewBox="64 64 896 896">
      <path d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"></path>
    </symbol>
    <symbol id="redo" viewBox="64 64 896 896">
      <path d="M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"></path>
    </symbol>
    <symbol id="undo" viewBox="64 64 896 896">
      <path d="M511.4 124C290.5 124.3 112 303 112 523.9c0 128 60.2 242 153.8 315.2l-37.5 48c-4.1 5.3-.3 13 6.3 12.9l167-.8c5.2 0 9-4.9 7.7-9.9L369.8 727a8 8 0 00-14.1-3L315 776.1c-10.2-8-20-16.7-29.3-26a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-7.5 7.5-15.3 14.5-23.4 21.2a7.93 7.93 0 00-1.2 11.1l39.4 50.5c2.8 3.5 7.9 4.1 11.4 1.3C854.5 760.8 912 649.1 912 523.9c0-221.1-179.4-400.2-400.6-399.9z"></path>
    </symbol>
    <symbol id="export" viewBox="64 64 896 896">
      <path d="M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"></path>
    </symbol>
    <symbol id="auto-fit" viewBox="64 64 896 896">
      <path d="M952 474H829.8C812.5 327.6 696.4 211.5 550 194.2V72c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v122.2C327.6 211.5 211.5 327.6 194.2 474H72c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h122.2C211.5 696.4 327.6 812.5 474 829.8V952c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V829.8C696.4 812.5 812.5 696.4 829.8 550H952c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zM512 756c-134.8 0-244-109.2-244-244s109.2-244 244-244 244 109.2 244 244-109.2 244-244 244z"></path>
      <path d="M512 392c-32.1 0-62.1 12.4-84.8 35.2-22.7 22.7-35.2 52.7-35.2 84.8s12.5 62.1 35.2 84.8C449.9 619.4 480 632 512 632s62.1-12.5 84.8-35.2C619.4 574.1 632 544 632 512s-12.5-62.1-35.2-84.8A118.57 118.57 0 00512 392z"></path>
    </symbol>
    <symbol id="reset" viewBox="64 64 896 896">
      <path d="M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"></path>
    </symbol>
    <symbol id="exit-fullscreen" viewBox="0 0 1024 1024">
      <path d="M418.13333333 361.43786666c0 0.2048-0.13653333 0.4096-0.13653334 0.68266667C417.99679999 362.32533333 418.13333333 362.53013333 418.13333333 362.73493333 418.13333333 371.54133333 414.44693333 379.392 408.78079999 385.39946666 408.43946666 385.7408 408.30293333 386.21866666 408.02986666 386.49173333c-1.09226667 1.09226667-2.59413333 1.77493333-3.82293333 2.73066667C398.40426666 393.65973333 391.64586666 396.8 383.93173333 396.8 383.72693333 396.8 383.59039999 396.73173333 383.38559999 396.73173333S382.97599999 396.8 382.77119999 396.8L112.29866666 396.8C92.50133333 396.8 76.79999999 381.50826666 76.79999999 362.66666666 76.66346666 343.89333333 92.63786666 328.53333333 112.16213333 328.53333333l189.44 0L87.44959999 114.51733333C73.59146666 100.59093333 73.25013333 78.5408 86.63039999 65.29706666c13.17546667-13.44853333 35.36213333-12.97066667 49.152 0.88746667l214.08426667 214.08426667L349.86666666 90.89706666C349.79839999 71.23626666 365.22666666 55.46666666 383.99999999 55.46666666 402.77333333 55.33013333 418.13333333 71.30453333 418.13333333 90.8288L418.13333333 361.43786666zM928.90453333 328.53333333l-189.44 0 214.15253333-214.08426667c13.85813333-13.9264 14.19946667-35.90826667 0.88746667-49.22026666-13.17546667-13.44853333-35.36213333-12.97066667-49.152 0.88746666l-214.08426667 214.08426667L691.26826666 90.89706666C691.26826666 71.23626666 675.83999999 55.46666666 657.06666666 55.46666666 638.29333333 55.33013333 622.93333333 71.30453333 622.93333333 90.8288l0 270.60906666c0 0.2048 0.13653333 0.4096 0.13653333 0.68266667C623.06986666 362.32533333 622.93333333 362.53013333 622.93333333 362.73493333 622.93333333 371.54133333 626.61973333 379.392 632.28586666 385.39946666c0.34133333 0.34133333 0.47786667 0.8192 0.8192 1.09226667 1.09226667 1.09226667 2.59413333 1.77493333 3.8912 2.73066667C642.66239999 393.65973333 649.42079999 396.8 657.13493333 396.8c0.2048 0 0.34133333-0.06826667 0.54613333-0.06826667S658.09066666 396.8 658.29546666 396.8l270.5408 0C948.56533333 396.8 964.26666666 381.50826666 964.26666666 362.66666666 964.40319999 343.89333333 948.42879999 328.53333333 928.90453333 328.53333333zM418.13333333 635.73333333c0-8.8064-3.6864-16.5888-9.35253334-22.66453333C408.43946666 612.72746666 408.30293333 612.2496 408.02986666 611.90826666 406.86933333 610.88426666 405.43573333 610.2016 404.20693333 609.24586666 398.47253333 604.80853333 391.64586666 601.6 383.93173333 601.6 383.72693333 601.6 383.59039999 601.73653333 383.38559999 601.73653333S382.97599999 601.6 382.77119999 601.6L112.29866666 601.6C92.50133333 601.6 76.79999999 616.96 76.79999999 635.73333333 76.66346666 654.50666666 92.63786666 669.86666666 112.16213333 669.86666666l189.44 0-214.15253334 214.15253334c-13.85813333 13.85813333-14.19946667 35.84-0.88746666 49.22026666 13.17546667 13.44853333 35.36213333 12.9024 49.152-0.95573333l214.08426666-214.08426667 0 189.37173334c0 19.59253333 15.42826667 35.49866667 34.2016 35.36213333C402.77333333 943.2064 418.13333333 927.232 418.13333333 907.5712L418.13333333 637.09866666c0-0.27306667-0.13653333-0.47786667-0.13653334-0.68266666C417.99679999 636.14293333 418.13333333 635.93813333 418.13333333 635.73333333zM739.46453333 669.86666666l189.44 0c19.456 0 35.49866667-15.36 35.36213333-34.13333333C964.26666666 616.96 948.56533333 601.6 928.76799999 601.6L658.29546666 601.6C658.09066666 601.6 657.88586666 601.73653333 657.68106666 601.73653333S657.33973333 601.6 657.13493333 601.6C649.42079999 601.6 642.59413333 604.80853333 636.85973333 609.24586666 635.63093333 610.2016 634.19733333 610.88426666 633.03679999 611.90826666 632.76373333 612.2496 632.62719999 612.72746666 632.28586666 613.0688 626.61973333 619.14453333 622.93333333 626.92693333 622.93333333 635.73333333c0 0.2048 0.13653333 0.4096 0.13653333 0.68266667C623.06986666 636.6208 622.93333333 636.8256 622.93333333 637.09866666l0 270.5408C622.93333333 927.232 638.29333333 943.2064 657.06666666 942.93333333c18.77333333 0.13653333 34.2016-15.70133333 34.2016-35.36213333l0-189.37173334 214.08426667 214.08426667c13.78986667 13.85813333 35.90826667 14.40426667 49.152 0.95573333 13.312-13.312 12.97066667-35.36213333-0.88746667-49.22026666L739.46453333 669.86666666z"  ></path></symbol>
    <symbol id="request-fullscreen" viewBox="0 0 1024 1024">
      <path d="M69.818182 87.598545v273.128728a34.909091 34.909091 0 0 0 69.818182 0V163.653818l221.928727 222.021818a33.512727 33.512727 0 0 0 47.383273-47.383272L186.926545 116.363636h197.073455a34.909091 34.909091 0 0 0 0-69.818181H110.871273C85.364364 46.545455 69.818182 59.671273 69.818182 87.598545zM938.542545 46.545455H665.413818a34.909091 34.909091 0 0 0 0 69.818181h197.073455L640.465455 338.292364a33.512727 33.512727 0 0 0 47.383272 47.383272l221.928728-222.021818v197.073455a34.909091 34.909091 0 0 0 69.818181 0V87.598545c0-27.927273-15.453091-41.053091-40.96-41.05309z m-827.671272 907.636363h273.128727a34.909091 34.909091 0 0 0 0-69.818182H186.926545l222.021819-221.928727a33.512727 33.512727 0 0 0-47.383273-47.383273L139.636364 837.073455V640a34.909091 34.909091 0 0 0-69.818182 0v273.128727c0 27.927273 15.546182 41.053091 41.053091 41.053091z m868.724363-41.053091V640a34.909091 34.909091 0 0 0-69.818181 0v197.073455L687.941818 615.051636a33.512727 33.512727 0 0 0-47.383273 47.383273L862.487273 884.363636H665.413818a34.909091 34.909091 0 0 0 0 69.818182h273.128727c25.6 0 41.053091-13.125818 41.053091-41.053091z"  ></path></symbol>
  </svg>
`},3431:function(at,N,t){"use strict";t.d(N,{u:function(){return f}});var d=t(8701),T=t(22040),y=t(23295),C=t(1938),m=function(h,v,o,r){function a(s){return s instanceof o?s:new o(function(u){u(s)})}return new(o||(o=Promise))(function(s,u){function c(e){try{p(r.next(e))}catch(i){u(i)}}function E(e){try{p(r.throw(e))}catch(i){u(i)}}function p(e){e.done?s(e.value):a(e.value).then(c,E)}p((r=r.apply(h,v||[])).next())})};class f extends C.v{constructor(v,o){super(v,Object.assign({},f.defaultOptions,o)),this.currentTarget=null,this.tooltipElement=null,this.container=null,this.isEnable=(r,a)=>{const{enable:s}=this.options;return typeof s=="function"?s(r,a):s},this.onClick=r=>{const{target:{id:a}}=r;this.currentTarget===a?this.hide(r):this.show(r)},this.onPointerMove=r=>{const{target:a}=r;!this.currentTarget||a.id===this.currentTarget||this.show(r)},this.onPointerLeave=r=>{this.hide(r)},this.onCanvasMove=r=>{this.hide(r)},this.onPointerOver=r=>{this.show(r)},this.showById=r=>m(this,void 0,void 0,function*(){const a={target:{id:r}};yield this.show(a)}),this.getElementData=(r,a)=>{const{model:s}=this.context;switch(a){case"node":return s.getNodeData([r]);case"edge":return s.getEdgeData([r]);case"combo":return s.getComboData([r]);default:return[]}},this.show=r=>m(this,void 0,void 0,function*(){var a,s;const{client:u,target:{id:c}}=r;if((0,y.xE)(r.target))return;const E=this.context.graph.getElementType(c),{getContent:p,title:e}=this.options,i=this.getElementData(c,E);if(!this.tooltipElement||!this.isEnable(r,i))return;let n={};if(p){if(n.content=yield p(r,i),!n.content)return}else{const O=this.context.graph.getElementRenderStyle(c),D=E==="node"?O.fill:O.stroke;n={title:e||E,data:i.map(P=>({name:"ID",value:P.id||`${P.source} -> ${P.target}`,color:D}))}}this.currentTarget=c;let l,M;if(u)l=u.x,M=u.y;else{const O=(0,T.Z)(i,"0.style",{x:0,y:0});l=O.x,M=O.y}(s=(a=this.options).onOpenChange)===null||s===void 0||s.call(a,!0),this.tooltipElement.update(Object.assign(Object.assign(Object.assign({},this.tooltipStyleProps),{x:l,y:M,style:{".tooltip":{visibility:"visible"}}}),n))}),this.hide=r=>{var a,s,u,c,E;if(!r){(s=(a=this.options).onOpenChange)===null||s===void 0||s.call(a,!1),(u=this.tooltipElement)===null||u===void 0||u.hide(),this.currentTarget=null;return}if(!this.tooltipElement||!this.currentTarget)return;const{client:{x:p,y:e}}=r;(E=(c=this.options).onOpenChange)===null||E===void 0||E.call(c,!1),this.tooltipElement.hide(p,e),this.currentTarget=null},this.initTooltip=()=>{var r;const a=new d.u({className:"tooltip",style:this.tooltipStyleProps});return(r=this.container)===null||r===void 0||r.appendChild(a.HTMLTooltipElement),a},this.render(),this.bindEvents()}getEvents(){return this.options.trigger==="click"?{"node:click":this.onClick,"edge:click":this.onClick,"combo:click":this.onClick,"canvas:click":this.onPointerLeave,contextmenu:this.onPointerLeave,drag:this.onPointerLeave}:{"node:pointerover":this.onPointerOver,"node:pointermove":this.onPointerMove,"canvas:pointermove":this.onCanvasMove,"edge:pointerover":this.onPointerOver,"edge:pointermove":this.onPointerMove,"combo:pointerover":this.onPointerOver,"combo:pointermove":this.onPointerMove,contextmenu:this.onPointerLeave,"node:drag":this.onPointerLeave}}update(v){var o;this.unbindEvents(),super.update(v),this.tooltipElement&&((o=this.container)===null||o===void 0||o.removeChild(this.tooltipElement.HTMLTooltipElement)),this.tooltipElement=this.initTooltip(),this.bindEvents()}render(){const{canvas:v}=this.context,o=v.getContainer();o&&(this.container=o,this.tooltipElement=this.initTooltip())}unbindEvents(){const{graph:v}=this.context,o=this.getEvents();Object.keys(o).forEach(r=>{v.off(r,o[r])})}bindEvents(){const{graph:v}=this.context,o=this.getEvents();Object.keys(o).forEach(r=>{v.on(r,o[r])})}get tooltipStyleProps(){const{canvas:v}=this.context,{center:o}=v.getBounds(),r=v.getContainer(),{top:a,left:s}=r.getBoundingClientRect(),{style:u,position:c,enterable:E,container:p={x:-s,y:-a},title:e,offset:i}=this.options,[n,l]=o,[M,O]=v.getSize();return{x:n,y:l,container:p,title:e,bounding:{x:0,y:0,width:M,height:O},position:c,enterable:E,offset:i,style:u}}destroy(){var v;this.unbindEvents(),this.tooltipElement&&((v=this.container)===null||v===void 0||v.removeChild(this.tooltipElement.HTMLTooltipElement)),super.destroy()}}f.defaultOptions={trigger:"hover",position:"top-right",enterable:!1,enable:!0,offset:[10,10],style:{".tooltip":{visibility:"hidden"}}}},77334:function(at,N,t){"use strict";t.d(N,{$:function(){return m}});var d=t(81614),T=t(61075),y=t(73543),C=t(90992);function m(v){const{width:o,height:r,renderer:a}=v,s=f(v),u=new d.Xz({width:o,height:r,container:s,renderer:a||new T.Th});return[s,u]}function f(v){var o;const{container:r,className:a,graphCanvas:s}=v;if(r)return typeof r=="string"?document.getElementById(r):r;const u=(0,C.C)(a,!1),{width:c,height:E,containerStyle:p}=v,[e,i]=h(v);return Object.assign(u.style,Object.assign({position:"absolute",left:e+"px",top:i+"px",width:c+"px",height:E+"px"},p)),(o=s.getContainer())===null||o===void 0||o.appendChild(u),u}function h(v){const{width:o,height:r,placement:a,graphCanvas:s}=v,[u,c]=s.getSize(),[E,p]=(0,y.X)(a);return[E*(u-o),p*(c-r)]}},90992:function(at,N,t){"use strict";t.d(N,{C:function(){return d},q:function(){return T}});function d(y,C=!0,m){const f=document.createElement("div");return f.setAttribute("class",`g6-${y}`),Object.assign(f.style,{position:"absolute",display:"block"}),C&&Object.assign(f.style,{position:"unset",gridArea:"1 / 1 / 2 / 2",inset:"0px",height:"100%",width:"100%",overflow:"hidden",pointerEvents:"none"}),m&&Object.assign(f.style,m),f}function T(y,C="div",m={},f="",h=document.body){const v=document.getElementById(y);v&&v.remove();const o=document.createElement(C);return o.innerHTML=f,o.id=y,Object.assign(o.style,m),h.appendChild(o),o}},18357:function(at,N,t){"use strict";t.d(N,{l:function(){return f}});var d=t(1938),T=t(90992),y=t(59252),C=function(h,v,o,r){function a(s){return s instanceof o?s:new o(function(u){u(s)})}return new(o||(o=Promise))(function(s,u){function c(e){try{p(r.next(e))}catch(i){u(i)}}function E(e){try{p(r.throw(e))}catch(i){u(i)}}function p(e){e.done?s(e.value):a(e.value).then(c,E)}p((r=r.apply(h,v||[])).next())})},m=function(h,v){var o={};for(var r in h)Object.prototype.hasOwnProperty.call(h,r)&&v.indexOf(r)<0&&(o[r]=h[r]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(h);a<r.length;a++)v.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(h,r[a])&&(o[r[a]]=h[r[a]]);return o};class f extends d.v{constructor(v,o){super(v,Object.assign({},f.defaultOptions,o)),this.$element=(0,T.C)("watermark"),this.context.canvas.getContainer().appendChild(this.$element),this.update(o)}update(v){const o=Object.create(null,{update:{get:()=>super.update}});return C(this,void 0,void 0,function*(){o.update.call(this,v);const r=this.options,{width:a,height:s,text:u,imageURL:c}=r,E=m(r,["width","height","text","imageURL"]);Object.keys(E).forEach(e=>{e.startsWith("background")&&(this.$element.style[e]=v[e])});const p=c?yield(0,y.a)(a,s,c,E):yield(0,y.h)(a,s,u,E);this.$element.style.backgroundImage=`url(${p})`})}destroy(){super.destroy(),this.$element.remove()}}f.defaultOptions={width:200,height:100,opacity:.2,rotate:Math.PI/12,text:"",textFill:"#000",textFontSize:16,textAlign:"center",textBaseline:"middle",backgroundRepeat:"repeat"}},59252:function(at,N,t){"use strict";t.d(N,{a:function(){return m},h:function(){return C}});var d=function(f,h,v,o){function r(a){return a instanceof v?a:new v(function(s){s(a)})}return new(v||(v=Promise))(function(a,s){function u(p){try{E(o.next(p))}catch(e){s(e)}}function c(p){try{E(o.throw(p))}catch(e){s(e)}}function E(p){p.done?a(p.value):r(p.value).then(u,c)}E((o=o.apply(f,h||[])).next())})};let T;function y(f,h){return T||(T=document.createElement("canvas")),T.width=f,T.height=h,T.getContext("2d").clearRect(0,0,f,h),T}function C(f,h,v,o){return d(this,void 0,void 0,function*(){const r=y(f,h),a=r.getContext("2d"),{rotate:s,opacity:u,textFill:c,textFontSize:E,textFontFamily:p,textFontVariant:e,textFontWeight:i,textAlign:n,textBaseline:l}=o;return a.textAlign=n,a.textBaseline=l,a.translate(f/2,h/2),a.font=`${E}px ${p} ${e} ${i}`,s&&a.rotate(s),u&&(a.globalAlpha=u),c&&(a.fillStyle=c,a.fillText(`${v}`,0,0)),r.toDataURL()})}function m(f,h,v,o){return d(this,void 0,void 0,function*(){const r=y(f,h),a=r.getContext("2d"),{rotate:s,opacity:u}=o;s&&a.rotate(s),u&&(a.globalAlpha=u);const c=new Image;return c.crossOrigin="anonymous",c.src=v,new Promise(E=>{c.onload=function(){const p=f>c.width?(f-c.width)/2:0,e=h>c.height?(h-c.height)/2:0;a.drawImage(c,0,0,c.width,c.height,p,e,f-p*2,h-e*2),E(r.toDataURL())}})})}},97519:function(at,N,t){"use strict";var d=t(92791);(0,d.a)()},92791:function(at,N,t){"use strict";t.d(N,{a:function(){return u}});var d=t(81614),T=t(96057),y=t(26990),C=t(2790),m=t(23618),f=t(4709),h=t(7007),v=t(91572),o=t(25439),r=t(24469),a=t(2071);const s={animation:{"combo-collapse":T.b4,"combo-expand":T.fj,"node-collapse":T.FW,"node-expand":T.JC,"path-in":T.s6,"path-out":T.es,fade:T.pT,translate:T.vN},behavior:{"brush-select":y._e,"click-select":y.BB,"collapse-expand":y.yZ,"create-edge":y.PZ,"drag-canvas":y.Uo,"drag-element-force":y.Fg,"drag-element":y.QG,"fix-element-size":y.xD,"focus-element":y.gs,"hover-activate":y.Wp,"lasso-select":y.Iz,"auto-adapt-label":y.nC,"optimize-viewport-transform":y.U$,"scroll-canvas":y.DJ,"zoom-canvas":y.CE},combo:{circle:C.DH,rect:C.aM},edge:{cubic:C.Ll,line:C.x1,polyline:C.aH,quadratic:C.Ab,"cubic-horizontal":C.kQ,"cubic-radial":C.ZJ,"cubic-vertical":C.ls},layout:{"antv-dagre":f.b8,"combo-combined":f.uR,"compact-box":f.V,"d3-force":f.jA,"force-atlas2":f.E9,circular:f.SB,concentric:f.W1,dagre:f.Vq,dendrogram:f.WH,fishbone:f.mf,force:f.y7,fruchterman:f.O2,grid:f.Me,indented:f.eb,mds:f.AI,mindmap:f.F0,radial:f.D4,random:f._5,snake:f.dt},node:{circle:C.Cd,diamond:C.tv,ellipse:C.Pj,hexagon:C.NJ,html:C.k9,image:C.Ee,rect:C.UL,star:C.Ux,donut:C.yi,triangle:C.CJ},palette:{spectral:h.uN,tableau:h.JL,oranges:h.Fd,greens:h.WO,blues:h.PJ},theme:{dark:o._,light:o.R},plugin:{"bubble-sets":v.CF,"edge-bundling":v.Dc,"edge-filter-lens":v.bP,"grid-line":v.Gl,background:v.Aq,contextmenu:v.VS,fisheye:v.yO,fullscreen:v.iT,history:v.Ay,hull:v.L$,legend:v.De,minimap:v.N5,snapline:v.HV,timebar:v.s4,title:v.Dx,toolbar:v.o8,tooltip:v.u,watermark:v.le},transform:{"arrange-draw-order":r.tX,"collapse-expand-combo":r.jm,"collapse-expand-node":r.wP,"get-edge-actual-ends":r.vi,"map-node-size":r.to,"place-radial-labels":r.tN,"process-parallel-edges":r.nA,"update-related-edges":r.Co},shape:{circle:d.Cd,ellipse:d.Pj,group:d.ZA,html:d.k9,image:m.Ee,line:d.x1,path:d.y$,polygon:d.mg,polyline:d.aH,rect:d.UL,text:d.xv,label:m.__,badge:m.Ct}};function u(){Object.entries(s).forEach(([c,E])=>{Object.entries(E).forEach(([p,e])=>{(0,a.z)(c,p,e)})})}},30054:function(at,N,t){"use strict";t.d(N,{G:function(){return m},j:function(){return f}});var d=t(26898),T=t(63183),y=t(90040),C=t(15186);class m{constructor(v){this.extensions=[],this.extensionMap={},this.context=v}setExtensions(v){const o=(0,T.r)(this.context.graph,this.category,v),{enter:r,update:a,exit:s,keep:u}=(0,d.t)(this.extensions,o,c=>c.key);this.createExtensions(r),this.updateExtensions([...a,...u]),this.destroyExtensions(s),this.extensions=o}createExtension(v){const{category:o}=this,{key:r,type:a}=v,s=(0,C.R)(o,a);if(!s)return y.S.warn(`The extension ${a} of ${o} is not registered.`);const u=new s(this.context,v);u.initialized=!0,this.extensionMap[r]=u}createExtensions(v){v.forEach(o=>this.createExtension(o))}updateExtension(v){const{key:o}=v,r=this.extensionMap[o];r&&r.update(v)}updateExtensions(v){v.forEach(o=>this.updateExtension(o))}destroyExtension(v){const o=this.extensionMap[v];o&&(o.initialized&&!o.destroyed&&o.destroy(),delete this.extensionMap[v])}destroyExtensions(v){v.forEach(({key:o})=>this.destroyExtension(o))}destroy(){this.destroyExtensions(this.extensions),this.context={},this.extensions=[],this.extensionMap={}}}class f{constructor(v,o){this.events=[],this.initialized=!1,this.destroyed=!1,this.context=v,this.options=o}update(v){this.options=Object.assign(this.options,v)}destroy(){this.context={},this.options={},this.destroyed=!0}}},15186:function(at,N,t){"use strict";t.d(N,{R:function(){return T}});var d=t(21338);function T(C,m){var f;const h=(f=d.S[C])===null||f===void 0?void 0:f[m];if(h)return h}function y(C){return EXTENSION_REGISTRY[C]}},2071:function(at,N,t){"use strict";t.d(N,{z:function(){return y}});var d=t(90040),T=t(21338);function y(C,m,f){T.S[C][m]&&d.S.warn(`The extension ${m} of ${C} has been registered before, and will be overridden.`),Object.assign(T.S[C],{[m]:f})}},21338:function(at,N,t){"use strict";t.d(N,{S:function(){return d}});const d={animation:{},behavior:{},combo:{},edge:{},layout:{},node:{},palette:{},theme:{},plugin:{},transform:{},shape:{}}},43155:function(at,N,t){"use strict";t.d(N,{f:function(){return C}});var d=t(57e3),T=t(69759),y=t(32794);class C{constructor(f){this.tasks=[],this.animations=new Set,this.context=f}getTasks(){const f=[...this.tasks];return this.tasks=[],f}add(f,h){this.tasks.push([f,h])}animate(f,h,v){var o,r,a;(o=h==null?void 0:h.before)===null||o===void 0||o.call(h);const s=this.getTasks().map(([c,E])=>{var p,e,i;const{element:n,elementType:l,stage:M}=c,O=(0,T.tI)(this.context.options,l,M,f);(p=E==null?void 0:E.before)===null||p===void 0||p.call(E);const D=O.length?(0,d.L)(n,this.inferStyle(c,v),O):null;return D?((e=E==null?void 0:E.beforeAnimate)===null||e===void 0||e.call(E,D),D.finished.then(()=>{var P,b;(P=E==null?void 0:E.afterAnimate)===null||P===void 0||P.call(E,D),(b=E==null?void 0:E.after)===null||b===void 0||b.call(E),this.animations.delete(D)})):(i=E==null?void 0:E.after)===null||i===void 0||i.call(E),D}).filter(Boolean);s.forEach(c=>this.animations.add(c));const u=(0,T.zt)(s);return u?((r=h==null?void 0:h.beforeAnimate)===null||r===void 0||r.call(h,u),u.finished.then(()=>{var c,E;(c=h==null?void 0:h.afterAnimate)===null||c===void 0||c.call(h,u),(E=h==null?void 0:h.after)===null||E===void 0||E.call(h),this.release()})):(a=h==null?void 0:h.after)===null||a===void 0||a.call(h),u}inferStyle(f,h){var v,o;const{element:r,elementType:a,stage:s,originalStyle:u,updatedStyle:c={}}=f;f.modifiedStyle||(f.modifiedStyle=Object.assign(Object.assign({},u),c));const{modifiedStyle:E}=f,p={},e={};if(s==="enter")Object.assign(p,{opacity:0});else if(s==="exit")Object.assign(e,{opacity:0});else if(s==="show")Object.assign(p,{opacity:0}),Object.assign(e,{opacity:(v=(0,y.ZJ)(r,"opacity"))!==null&&v!==void 0?v:(0,T.HK)("opacity")});else if(s==="hide")Object.assign(p,{opacity:(o=(0,y.ZJ)(r,"opacity"))!==null&&o!==void 0?o:(0,T.HK)("opacity")}),Object.assign(e,{opacity:0});else if(s==="collapse"){const{collapse:i}=h||{},{target:n,descendants:l,position:M}=i;if(a==="node"){if(l.includes(r.id)){const[O,D,P]=M;Object.assign(e,{x:O,y:D,z:P})}}else if(a==="combo"){if(r.id===n||l.includes(r.id)){const[O,D]=M;Object.assign(e,{x:O,y:D,childrenNode:u.childrenNode})}}else a==="edge"&&Object.assign(e,{sourceNode:E.sourceNode,targetNode:E.targetNode})}else if(s==="expand"){const{expand:i}=h||{},{target:n,descendants:l,position:M}=i;if(a==="node"){if(r.id===n||l.includes(r.id)){const[O,D,P]=M;Object.assign(p,{x:O,y:D,z:P})}}else if(a==="combo"){if(r.id===n||l.includes(r.id)){const[O,D,P]=M;Object.assign(p,{x:O,y:D,z:P,childrenNode:E.childrenNode})}}else a==="edge"&&Object.assign(p,{sourceNode:E.sourceNode,targetNode:E.targetNode})}return[Object.keys(p).length>0?Object.assign({},u,p):u,Object.keys(e).length>0?Object.assign({},E,e):E]}stop(){this.animations.forEach(f=>f.cancel())}clear(){this.tasks=[]}release(){var f,h;const{canvas:v}=this.context,o=(h=(f=v.document)===null||f===void 0?void 0:f.timeline)===null||h===void 0?void 0:h.animationsWithPromises;o&&(v.document.timeline.animationsWithPromises=o.filter(r=>r.playState!=="finished"))}destroy(){this.stop(),this.animations.clear(),this.tasks=[]}}},57313:function(at,N,t){"use strict";t.d(N,{q:function(){return y}});var d=t(23098),T=t(1306);class y{constructor(m){this.batchCount=0,this.context=m}emit(m){const{graph:f}=this.context;f.emit(m.type,m)}startBatch(m=!0){this.batchCount++,this.batchCount===1&&this.emit(new T.I9(d.VR.BATCH_START,{initiate:m}))}endBatch(){this.batchCount--,this.batchCount===0&&this.emit(new T.I9(d.VR.BATCH_END))}get isBatching(){return this.batchCount>0}destroy(){this.context=null}}},28301:function(at,N,t){"use strict";t.d(N,{g:function(){return m}});var d=t(23098),T=t(30054),y=t(23295),C=t(1306);class m extends T.G{constructor(h){super(h),this.currentTarget=null,this.currentTargetType=null,this.category="behavior",this.forwardCanvasEvents=v=>{const{target:o}=v,r=(0,C.Xy)(o);if(!r)return;const{graph:a,canvas:s}=this.context,{type:u,element:c}=r;if("destroyed"in c&&((0,y.xE)(c)||c.destroyed))return;const{type:E,detail:p,button:e}=v,i=Object.assign(Object.assign({},v),{target:c,targetType:u,originalTarget:o});E===d.C9.POINTER_MOVE&&(this.currentTarget!==c&&(this.currentTarget&&a.emit(`${this.currentTargetType}:${d.C9.POINTER_LEAVE}`,Object.assign(Object.assign({},i),{type:d.C9.POINTER_LEAVE,target:this.currentTarget,targetType:this.currentTargetType})),c&&(Object.assign(i,{type:d.C9.POINTER_ENTER}),a.emit(`${u}:${d.C9.POINTER_ENTER}`,i))),this.currentTarget=c,this.currentTargetType=u),E===d.C9.CLICK&&e===2||(a.emit(`${u}:${E}`,i),a.emit(E,i)),E===d.C9.CLICK&&p===2&&(Object.assign(i,{type:d.C9.DBLCLICK}),a.emit(`${u}:${d.C9.DBLCLICK}`,i),a.emit(d.C9.DBLCLICK,i)),E===d.C9.POINTER_DOWN&&e===2&&(Object.assign(i,{type:d.C9.CONTEXT_MENU,preventDefault:()=>{var n;(n=s.getContainer())===null||n===void 0||n.addEventListener(d.C9.CONTEXT_MENU,l=>l.preventDefault(),{once:!0})}}),a.emit(`${u}:${d.C9.CONTEXT_MENU}`,i),a.emit(d.C9.CONTEXT_MENU,i))},this.forwardContainerEvents=v=>{this.context.graph.emit(v.type,v)},this.forwardEvents(),this.setBehaviors(this.context.options.behaviors||[])}setBehaviors(h){this.setExtensions(h)}forwardEvents(){const h=this.context.canvas.getContainer();h&&[d.WG.KEY_DOWN,d.WG.KEY_UP].forEach(o=>{h.addEventListener(o,this.forwardContainerEvents)});const v=this.context.canvas.document;v&&[d.C9.CLICK,d.C9.DBLCLICK,d.C9.POINTER_OVER,d.C9.POINTER_LEAVE,d.C9.POINTER_ENTER,d.C9.POINTER_MOVE,d.C9.POINTER_OUT,d.C9.POINTER_DOWN,d.C9.POINTER_UP,d.C9.CONTEXT_MENU,d.C9.DRAG_START,d.C9.DRAG,d.C9.DRAG_END,d.C9.DRAG_ENTER,d.C9.DRAG_OVER,d.C9.DRAG_LEAVE,d.C9.DROP,d.C9.WHEEL].forEach(o=>{v.addEventListener(o,this.forwardCanvasEvents)})}destroy(){const h=this.context.canvas.getContainer();h&&[d.WG.KEY_DOWN,d.WG.KEY_UP].forEach(v=>{h.removeEventListener(v,this.forwardContainerEvents)}),this.context.canvas.document.removeAllEventListeners(),super.destroy()}}},33132:function(at,N,t){"use strict";t.d(N,{X:function(){return s}});var d=t(81614),T=t(61075),y=t(15403),C=t(39559),m=t(52877),f=t(59268),h=function(E,p,e,i){function n(l){return l instanceof e?l:new e(function(M){M(l)})}return new(e||(e=Promise))(function(l,M){function O(b){try{P(i.next(b))}catch(x){M(x)}}function D(b){try{P(i.throw(b))}catch(x){M(x)}}function P(b){b.done?l(b.value):n(b.value).then(O,D)}P((i=i.apply(E,p||[])).next())})},v=function(E,p){var e={};for(var i in E)Object.prototype.hasOwnProperty.call(E,i)&&p.indexOf(i)<0&&(e[i]=E[i]);if(E!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(E);n<i.length;n++)p.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(E,i[n])&&(e[i[n]]=E[i[n]]);return e};const o=["main"],r=["background","main","label","transient"];function a(E){return E.main}class s{getConfig(){return this.config}getLayer(p="main"){return this.extends.layers[p]||a(this.getLayers())}getLayers(){return this.extends.layers}getRenderer(p){return this.extends.renderers[p]}getCamera(p="main"){return this.getLayer(p).getCamera()}getRoot(p="main"){return this.getLayer(p).getRoot()}getContextService(p="main"){return this.getLayer(p).getContextService()}setCursor(p){this.config.cursor=p,this.getLayer().setCursor(p)}get document(){return this.getLayer().document}get context(){return this.getLayer().context}constructor(p){this.config={enableMultiLayer:!0},Object.assign(this.config,p);const e=this.config,{renderer:i,background:n,cursor:l,enableMultiLayer:M}=e,O=v(e,["renderer","background","cursor","enableMultiLayer"]),D=M?r:o,P=u(i,D),b=Object.fromEntries(D.map(x=>{const L=new d.Xz(Object.assign(Object.assign({},O),{supportsMutipleCanvasesInOneContainer:M,renderer:P[x],background:M?x==="background"?n:void 0:n}));return[x,L]}));c(b),this.extends={config:this.config,renderer:i,renderers:P,layers:b}}get ready(){return Promise.all(Object.entries(this.getLayers()).map(([,p])=>p.ready))}resize(p,e){Object.assign(this.extends.config,{width:p,height:e}),Object.values(this.getLayers()).forEach(i=>{const n=i.getCamera(),l=n.getPosition(),M=n.getFocalPoint();i.resize(p,e),n.setPosition(l),n.setFocalPoint(M)})}getBounds(p){return(0,m.SV)(Object.values(this.getLayers()).map(e=>p?e.getRoot().childNodes.find(n=>n.classList.includes(p)):e.getRoot()).filter(e=>(e==null?void 0:e.childNodes.length)>0).map(e=>e.getBounds()))}getContainer(){const p=this.extends.config.container;return typeof p=="string"?document.getElementById(p):p}getSize(){return[this.extends.config.width||0,this.extends.config.height||0]}appendChild(p,e){var i;const n=((i=p.style)===null||i===void 0?void 0:i.$layer)||"main";return this.getLayer(n).appendChild(p,e)}setRenderer(p){if(p===this.extends.renderer)return;const e=u(p,this.config.enableMultiLayer?r:o);this.extends.renderers=e,Object.entries(e).forEach(([i,n])=>this.getLayer(i).setRenderer(n)),c(this.getLayers())}getCanvasByViewport(p){return(0,f.rx)(this.getLayer().viewport2Canvas((0,f.Zv)(p)))}getViewportByCanvas(p){return(0,f.rx)(this.getLayer().canvas2Viewport((0,f.Zv)(p)))}getViewportByClient(p){return(0,f.rx)(this.getLayer().client2Viewport((0,f.Zv)(p)))}getClientByViewport(p){return(0,f.rx)(this.getLayer().viewport2Client((0,f.Zv)(p)))}getClientByCanvas(p){return this.getClientByViewport(this.getViewportByCanvas(p))}getCanvasByClient(p){const e=this.getLayer(),i=e.client2Viewport((0,f.Zv)(p));return(0,f.rx)(e.viewport2Canvas(i))}toDataURL(){return h(this,arguments,void 0,function*(p={}){const e=globalThis.devicePixelRatio||1,{mode:i="viewport"}=p,n=v(p,["mode"]);let[l,M,O,D]=[0,0,0,0];if(i==="viewport")[O,D]=this.getSize();else if(i==="overall"){const F=this.getBounds(),W=(0,m.qt)(F);[l,M]=F.min,[O,D]=W}const P=(0,C.L)('<div id="virtual-image"></div>'),b=new d.Xz({width:O,height:D,renderer:new T.Th,devicePixelRatio:e,container:P,background:this.extends.config.background});yield b.ready,b.appendChild(this.getLayer("background").getRoot().cloneNode(!0)),b.appendChild(this.getRoot().cloneNode(!0));const x=this.getLayer("label").getRoot().cloneNode(!0),L=b.viewport2Canvas({x:0,y:0}),S=this.getCanvasByViewport([0,0]);x.translate([S[0]-L.x,S[1]-L.y]),x.scale(1/this.getCamera().getZoom()),b.appendChild(x),b.appendChild(this.getLayer("transient").getRoot().cloneNode(!0));const K=this.getCamera(),U=b.getCamera();if(i==="viewport")U.setZoom(K.getZoom()),U.setPosition(K.getPosition()),U.setFocalPoint(K.getFocalPoint());else if(i==="overall"){const[F,W,w]=U.getPosition(),[z,H,Y]=U.getFocalPoint();U.setPosition([F+l,W+M,w]),U.setFocalPoint([z+l,H+M,Y])}const j=b.getContextService();return new Promise(F=>{b.addEventListener(d.$6.RERENDER,()=>h(this,void 0,void 0,function*(){yield new Promise(w=>setTimeout(w,300));const W=yield j.toDataURL(n);F(W)}))})})}destroy(){Object.values(this.getLayers()).forEach(p=>{p.getCamera().cancelLandmarkAnimation(),p.destroy()})}}function u(E,p){return Object.fromEntries(p.map(e=>{const i=(E==null?void 0:E(e))||new T.Th;return i instanceof T.Th&&i.setConfig({enableDirtyRectangleRendering:!1}),e==="main"?i.registerPlugin(new y.S({isDocumentDraggable:!0,isDocumentDroppable:!0,dragstartDistanceThreshold:10,dragstartTimeThreshold:100})):i.unregisterPlugin(i.getPlugin("dom-interaction")),[e,i]}))}function c(E){Object.entries(E).forEach(([p,e])=>{const i=e.getContextService().getDomElement();i!=null&&i.style&&(i.style.gridArea="1 / 1 / 2 / 2",i.style.outline="none",i.tabIndex=1,p!=="main"&&(i.style.pointerEvents="none")),i!=null&&i.parentElement&&(i.parentElement.style.display="grid",i.parentElement.style.isolation="isolate")})}},99539:function(at,N,t){"use strict";t.d(N,{Y:function(){return E}});var d=t(94075),T=t(26912),y=t(36172),C=t(89148),m=t(23098),f=t(5343),h=t(18023),v=t(26898),o=t(22860),r=t(29193),a=t(49559),s=t(90040),u=t(88824),c=t(26192);class E{constructor(){this.latestRemovedComboIds=new Set,this.comboIds=new Set,this.changes=[],this.batchCount=0,this.isTraceless=!1,this.enableUpdateNodeLikeHierarchy=!0,this.model=new d.k}pushChange(e){if(this.isTraceless)return;const{type:i}=e;if(i===m.u4.NodeUpdated||i===m.u4.EdgeUpdated||i===m.u4.ComboUpdated){const{value:n,original:l}=e;this.changes.push({value:(0,h.fA)(n),original:(0,h.fA)(l),type:i})}else this.changes.push({value:(0,h.fA)(e.value),type:i})}getChanges(){return this.changes}clearChanges(){this.changes=[]}batch(e){this.batchCount++,this.model.batch(e),this.batchCount--}isBatching(){return this.batchCount>0}silence(e){this.isTraceless=!0,e(),this.isTraceless=!1}isCombo(e){return this.comboIds.has(e)||this.latestRemovedComboIds.has(e)}getData(){return{nodes:this.getNodeData(),edges:this.getEdgeData(),combos:this.getComboData()}}getNodeData(e){return this.model.getAllNodes().reduce((i,n)=>{const l=(0,o.o)(n);return this.isCombo((0,r.jD)(l))||(e===void 0||e.includes((0,r.jD)(l)))&&i.push(l),i},[])}getEdgeDatum(e){return(0,o.o)(this.model.getEdge(e))}getEdgeData(e){return this.model.getAllEdges().reduce((i,n)=>{const l=(0,o.o)(n);return(e===void 0||e.includes((0,r.jD)(l)))&&i.push(l),i},[])}getComboData(e){return this.model.getAllNodes().reduce((i,n)=>{const l=(0,o.o)(n);return this.isCombo((0,r.jD)(l))&&(e===void 0||e.includes((0,r.jD)(l)))&&i.push(l),i},[])}getRootsData(e=m.pf){return this.model.getRoots(e).map(o.o)}getAncestorsData(e,i){const{model:n}=this;return!n.hasNode(e)||!n.hasTreeStructure(i)?[]:n.getAncestors(e,i).map(o.o)}getDescendantsData(e){const i=this.getElementDataById(e),n=[];return(0,u._)(i,l=>{l!==i&&n.push(l)},l=>this.getChildrenData((0,r.jD)(l)),"TB"),n}getParentData(e,i){const{model:n}=this;if(!i){s.S.warn("The hierarchy structure key is not specified");return}if(!n.hasNode(e)||!n.hasTreeStructure(i))return;const l=n.getParent(e,i);return l?(0,o.o)(l):void 0}getChildrenData(e){const i=this.getElementType(e)==="node"?m.pf:m.dK,{model:n}=this;return!n.hasNode(e)||!n.hasTreeStructure(i)?[]:n.getChildren(e,i).map(o.o)}getElementsDataByType(e){return e==="node"?this.getNodeData():e==="edge"?this.getEdgeData():e==="combo"?this.getComboData():[]}getElementDataById(e){return this.getElementType(e)==="edge"?this.getEdgeDatum(e):this.getNodeLikeDatum(e)}getNodeLikeDatum(e){const i=this.model.getNode(e);return(0,o.o)(i)}getNodeLikeData(e){return this.model.getAllNodes().reduce((i,n)=>{const l=(0,o.o)(n);return e?e.includes((0,r.jD)(l))&&i.push(l):i.push(l),i},[])}getElementDataByState(e,i){return this.getElementsDataByType(e).filter(l=>{var M;return(M=l.states)===null||M===void 0?void 0:M.includes(i)})}getElementState(e){var i;return((i=this.getElementDataById(e))===null||i===void 0?void 0:i.states)||[]}hasNode(e){return this.model.hasNode(e)&&!this.isCombo(e)}hasEdge(e){return this.model.hasEdge(e)}hasCombo(e){return this.model.hasNode(e)&&this.isCombo(e)}getRelatedEdgesData(e,i="both"){return this.model.getRelatedEdges(e,i).map(o.o)}getNeighborNodesData(e){return this.model.getNeighbors(e).map(o.o)}setData(e){const{nodes:i=[],edges:n=[],combos:l=[]}=e,{nodes:M,edges:O,combos:D}=this.getData(),P=(0,v.t)(M,i,L=>(0,r.jD)(L),h.Pv),b=(0,v.t)(O,n,L=>(0,r.jD)(L),h.Pv),x=(0,v.t)(D,l,L=>(0,r.jD)(L),h.Pv);this.batch(()=>{const L={nodes:P.enter,edges:b.enter,combos:x.enter};this.addData(L),this.computeZIndex(L,"add",!0);const S={nodes:P.update,edges:b.update,combos:x.update};this.updateData(S),this.computeZIndex(S,"update",!0);const K={nodes:P.exit.map(r.jD),edges:b.exit.map(r.jD),combos:x.exit.map(r.jD)};this.removeData(K)})}addData(e){const{nodes:i,edges:n,combos:l}=e;this.batch(()=>{this.addComboData(l),this.addNodeData(i),this.addEdgeData(n)}),this.computeZIndex(e,"add")}addNodeData(e=[]){e.length&&(this.model.addNodes(e.map(i=>(this.pushChange({value:i,type:m.u4.NodeAdded}),(0,o.en)(i)))),this.updateNodeLikeHierarchy(e),this.computeZIndex({nodes:e},"add"))}addEdgeData(e=[]){e.length&&(this.model.addEdges(e.map(i=>(this.pushChange({value:i,type:m.u4.EdgeAdded}),(0,o.en)(i)))),this.computeZIndex({edges:e},"add"))}addComboData(e=[]){if(!e.length)return;const{model:i}=this;i.hasTreeStructure(m.dK)||i.attachTreeStructure(m.dK),i.addNodes(e.map(n=>(this.comboIds.add((0,r.jD)(n)),this.pushChange({value:n,type:m.u4.ComboAdded}),(0,o.en)(n)))),this.updateNodeLikeHierarchy(e),this.computeZIndex({combos:e},"add")}addChildrenData(e,i){const n=this.getNodeLikeDatum(e),l=i.map(r.jD);this.addNodeData(i),this.updateNodeData([{id:e,children:[...n.children||[],...l]}]),this.addEdgeData(l.map(M=>({source:e,target:M})))}computeZIndex(e,i,n=!1){!n&&this.isBatching()||this.batch(()=>{const{nodes:l=[],edges:M=[],combos:O=[]}=e;O.forEach(D=>{var P,b,x;const L=(0,r.jD)(D);if(i==="add"&&(0,T.Z)((P=D.style)===null||P===void 0?void 0:P.zIndex)||i==="update"&&!("combo"in D))return;const S=this.getParentData(L,m.dK),K=S?((x=(b=S.style)===null||b===void 0?void 0:b.zIndex)!==null&&x!==void 0?x:0)+1:0;this.preventUpdateNodeLikeHierarchy(()=>{this.updateComboData([{id:L,style:{zIndex:K}}])})}),l.forEach(D=>{var P,b,x;const L=(0,r.jD)(D);if(i==="add"&&(0,T.Z)((P=D.style)===null||P===void 0?void 0:P.zIndex)||i==="update"&&!("combo"in D)&&!("children"in D))return;let S=0;const K=this.getParentData(L,m.dK);if(K)S=(((b=K.style)===null||b===void 0?void 0:b.zIndex)||0)+1;else{const U=this.getParentData(L,m.pf);U&&(S=((x=U==null?void 0:U.style)===null||x===void 0?void 0:x.zIndex)||0)}this.preventUpdateNodeLikeHierarchy(()=>{this.updateNodeData([{id:L,style:{zIndex:S}}])})}),M.forEach(D=>{var P,b,x,L,S;if((0,T.Z)((P=D.style)===null||P===void 0?void 0:P.zIndex))return;let{id:K,source:U,target:j}=D;if(!K)K=(0,r.jD)(D);else{const w=this.getEdgeDatum(K);U=w.source,j=w.target}if(!U||!j)return;const F=((x=(b=this.getNodeLikeDatum(U))===null||b===void 0?void 0:b.style)===null||x===void 0?void 0:x.zIndex)||0,W=((S=(L=this.getNodeLikeDatum(j))===null||L===void 0?void 0:L.style)===null||S===void 0?void 0:S.zIndex)||0;this.updateEdgeData([{id:(0,r.jD)(D),style:{zIndex:Math.max(F,W)-1}}])})})}getFrontZIndex(e){var i;const n=this.getElementType(e),l=this.getElementDataById(e),M=this.getData();if(Object.assign(M,{[`${n}s`]:M[`${n}s`].filter(O=>(0,r.jD)(O)!==e)}),n==="combo"&&!(0,f.z)(l)){const O=new Set(this.getAncestorsData(e,m.dK).map(r.jD));M.nodes=M.nodes.filter(D=>!O.has((0,r.jD)(D))),M.combos=M.combos.filter(D=>!O.has((0,r.jD)(D))),M.edges=M.edges.filter(({source:D,target:P})=>!O.has(D)&&!O.has(P))}return Math.max(((i=l.style)===null||i===void 0?void 0:i.zIndex)||0,0,...Object.values(M).flat().map(O=>{var D;return(((D=O==null?void 0:O.style)===null||D===void 0?void 0:D.zIndex)||0)+1}))}updateNodeLikeHierarchy(e){if(!this.enableUpdateNodeLikeHierarchy)return;const{model:i}=this;e.forEach(n=>{const l=(0,r.jD)(n),M=(0,r.Yt)(n);M!==void 0&&(i.hasTreeStructure(m.dK)||i.attachTreeStructure(m.dK),M===null&&this.refreshComboData(l),this.setParent(l,(0,r.Yt)(n),m.dK));const O=n.children||[];if(O.length){i.hasTreeStructure(m.pf)||i.attachTreeStructure(m.pf);const D=O.filter(P=>i.hasNode(P));D.forEach(P=>this.setParent(P,l,m.pf)),D.length!==O.length&&this.updateNodeData([{id:l,children:D}])}})}preventUpdateNodeLikeHierarchy(e){this.enableUpdateNodeLikeHierarchy=!1,e(),this.enableUpdateNodeLikeHierarchy=!0}updateData(e){const{nodes:i,edges:n,combos:l}=e;this.batch(()=>{this.updateNodeData(i),this.updateComboData(l),this.updateEdgeData(n)}),this.computeZIndex(e,"update")}updateNodeData(e=[]){if(!e.length)return;const{model:i}=this;this.batch(()=>{const n=[];e.forEach(l=>{const M=(0,r.jD)(l),O=(0,o.o)(i.getNode(M));if((0,h.Pv)(O,l))return;const D=(0,h.gU)(O,l);this.pushChange({value:D,original:O,type:m.u4.NodeUpdated}),i.mergeNodeData(M,D),n.push(D)}),this.updateNodeLikeHierarchy(n)}),this.computeZIndex({nodes:e},"update")}refreshData(){const{nodes:e,edges:i,combos:n}=this.getData();e.forEach(l=>{this.pushChange({value:l,original:l,type:m.u4.NodeUpdated})}),i.forEach(l=>{this.pushChange({value:l,original:l,type:m.u4.EdgeUpdated})}),n.forEach(l=>{this.pushChange({value:l,original:l,type:m.u4.ComboUpdated})})}syncNodeLikeDatum(e){const{model:i}=this,n=(0,r.jD)(e);if(!i.hasNode(n))return;const l=(0,o.o)(i.getNode(n)),M=(0,h.gU)(l,e);i.mergeNodeData(n,M)}syncEdgeDatum(e){const{model:i}=this,n=(0,r.jD)(e);if(!i.hasEdge(n))return;const l=(0,o.o)(i.getEdge(n)),M=(0,h.gU)(l,e);i.mergeEdgeData(n,M)}updateEdgeData(e=[]){if(!e.length)return;const{model:i}=this;this.batch(()=>{e.forEach(n=>{const l=(0,r.jD)(n),M=(0,o.o)(i.getEdge(l));if((0,h.Pv)(M,n))return;n.source&&M.source!==n.source&&i.updateEdgeSource(l,n.source),n.target&&M.target!==n.target&&i.updateEdgeTarget(l,n.target);const O=(0,h.gU)(M,n);this.pushChange({value:O,original:M,type:m.u4.EdgeUpdated}),i.mergeEdgeData(l,O)})}),this.computeZIndex({edges:e},"update")}updateComboData(e=[]){if(!e.length)return;const{model:i}=this;i.batch(()=>{const n=[];e.forEach(l=>{const M=(0,r.jD)(l),O=(0,o.o)(i.getNode(M));if((0,h.Pv)(O,l))return;const D=(0,h.gU)(O,l);this.pushChange({value:D,original:O,type:m.u4.ComboUpdated}),i.mergeNodeData(M,D),n.push(D)}),this.updateNodeLikeHierarchy(n)}),this.computeZIndex({combos:e},"update")}setParent(e,i,n,l=!0){if(e===i)return;const M=this.getNodeLikeDatum(e),O=(0,r.Yt)(M);if(O!==i&&n===m.dK){const D={id:e,combo:i};this.isCombo(e)?this.syncNodeLikeDatum(D):this.syncNodeLikeDatum(D)}this.model.setParent(e,i,n),l&&n===m.dK&&(0,y.Z)([O,i]).forEach(D=>{D!==void 0&&this.refreshComboData(D)})}refreshComboData(e){const i=this.getComboData([e])[0],n=this.getAncestorsData(e,m.dK);i&&this.pushChange({value:i,original:i,type:m.u4.ComboUpdated}),n.forEach(l=>{this.pushChange({value:l,original:l,type:m.u4.ComboUpdated})})}getElementPosition(e){const i=this.getElementDataById(e);return(0,a.TA)(i)}translateNodeLikeBy(e,i){this.isCombo(e)?this.translateComboBy(e,i):this.translateNodeBy(e,i)}translateNodeLikeTo(e,i){this.isCombo(e)?this.translateComboTo(e,i):this.translateNodeTo(e,i)}translateNodeBy(e,i){const n=this.getElementPosition(e),l=(0,c.IH)(n,[...i,0].slice(0,3));this.translateNodeTo(e,l)}translateNodeTo(e,i){const[n=0,l=0,M=0]=i;this.preventUpdateNodeLikeHierarchy(()=>{this.updateNodeData([{id:e,style:{x:n,y:l,z:M}}])})}translateComboBy(e,i){const[n=0,l=0,M=0]=i;if([n,l,M].some(isNaN)||[n,l,M].every(P=>P===0))return;const O=this.getComboData([e])[0];if(!O)return;const D=new Set;(0,u._)(O,P=>{const b=(0,r.jD)(P);if(D.has(b))return;D.add(b);const[x,L,S]=(0,a.TA)(P),K=(0,h.gU)(P,{style:{x:x+n,y:L+l,z:S+M}});this.pushChange({value:K,original:P,type:this.isCombo(b)?m.u4.ComboUpdated:m.u4.NodeUpdated}),this.model.mergeNodeData(b,K)},P=>this.getChildrenData((0,r.jD)(P)),"BT")}translateComboTo(e,i){var n;if(i.some(isNaN))return;const[l=0,M=0,O=0]=i,D=(n=this.getComboData([e]))===null||n===void 0?void 0:n[0];if(!D)return;const[P,b,x]=(0,a.TA)(D),L=l-P,S=M-b,K=O-x;(0,u._)(D,U=>{const j=(0,r.jD)(U),[F,W,w]=(0,a.TA)(U),z=(0,h.gU)(U,{style:{x:F+L,y:W+S,z:w+K}});this.pushChange({value:z,original:U,type:this.isCombo(j)?m.u4.ComboUpdated:m.u4.NodeUpdated}),this.model.mergeNodeData(j,z)},U=>this.getChildrenData((0,r.jD)(U)),"BT")}removeData(e){const{nodes:i,edges:n,combos:l}=e;this.batch(()=>{this.removeEdgeData(n),this.removeNodeData(i),this.removeComboData(l),this.latestRemovedComboIds=new Set(l)})}removeNodeData(e=[]){e.length&&this.batch(()=>{e.forEach(i=>{this.removeEdgeData(this.getRelatedEdgesData(i).map(r.jD)),this.pushChange({value:this.getNodeData([i])[0],type:m.u4.NodeRemoved}),this.removeNodeLikeHierarchy(i)}),this.model.removeNodes(e)})}removeEdgeData(e=[]){e.length&&(e.forEach(i=>this.pushChange({value:this.getEdgeData([i])[0],type:m.u4.EdgeRemoved})),this.model.removeEdges(e))}removeComboData(e=[]){e.length&&this.batch(()=>{e.forEach(i=>{this.pushChange({value:this.getComboData([i])[0],type:m.u4.ComboRemoved}),this.removeNodeLikeHierarchy(i),this.comboIds.delete(i)}),this.model.removeNodes(e)})}removeNodeLikeHierarchy(e){if(this.model.hasTreeStructure(m.dK)){const i=(0,r.Yt)(this.getNodeLikeDatum(e));this.setParent(e,void 0,m.dK,!1),this.model.getChildren(e,m.dK).forEach(n=>{const l=(0,o.o)(n),M=(0,r.jD)(l);this.setParent((0,r.jD)(l),i,m.dK,!1);const O=(0,h.gU)(l,{id:(0,r.jD)(l),combo:i});this.pushChange({value:O,original:l,type:this.isCombo(M)?m.u4.ComboUpdated:m.u4.NodeUpdated}),this.model.mergeNodeData((0,r.jD)(l),O)}),(0,C.Z)(i)||this.refreshComboData(i)}}getElementType(e){if(this.model.hasNode(e))return this.isCombo(e)?"combo":"node";if(this.model.hasEdge(e))return"edge";throw new Error((0,s.W)(`Unknown element type of id: ${e}`))}destroy(){const{model:e}=this,i=e.getAllNodes(),n=e.getAllEdges();e.removeEdges(n.map(l=>l.id)),e.removeNodes(i.map(l=>l.id)),this.context={}}}},34203:function(at,N,t){"use strict";t.d(N,{t:function(){return l}});var d=t(81614),T=t(26218),y=t(23098),C=t(66185),m=t(15186),f=t(32794),h=t(98478),v=t(5343),o=t(23295),r=t(1306),a=t(29193),s=t(32584),u=t(49559),c=t(90040),E=t(95272),p=t(2348),e=t(26192),i=t(88102),n=function(M,O,D,P){function b(x){return x instanceof D?x:new D(function(L){L(x)})}return new(D||(D=Promise))(function(x,L){function S(j){try{U(P.next(j))}catch(F){L(F)}}function K(j){try{U(P.throw(j))}catch(F){L(F)}}function U(j){j.done?x(j.value):b(j.value).then(S,K)}U((P=P.apply(M,O||[])).next())})};class l{constructor(O){this.elementMap={},this.shapeTypeMap={},this.paletteStyle={},this.defaultStyle={},this.stateStyle={},this.visibilityCache=new WeakMap,this.context=O}init(){this.initContainer()}initContainer(){if(!this.container||this.container.destroyed){const{canvas:O}=this.context;this.container=O.appendChild(new d.ZA({className:"elements"}))}}emit(O,D){D.silence||(0,r.j8)(this.context.graph,O)}forEachElementData(O){C.Y.forEach(D=>{const P=this.context.model.getElementsDataByType(D);O(D,P)})}getElementType(O,D){var P;const{options:b,graph:x}=this.context,L=((P=b[O])===null||P===void 0?void 0:P.type)||D.type;return L?typeof L=="string"?L:L.call(x,D):O==="edge"?"line":"circle"}getTheme(O){return(0,p.c)(this.context.options)[O]||{}}getThemeStyle(O){return this.getTheme(O).style||{}}getThemeStateStyle(O,D){const{state:P={}}=this.getTheme(O);return Object.assign({},...D.map(b=>P[b]||{}))}computePaletteStyle(){const{options:O}=this.context;this.paletteStyle={},this.forEachElementData((D,P)=>{var b,x;const L=Object.assign({},(0,s.HM)((b=this.getTheme(D))===null||b===void 0?void 0:b.palette),(0,s.HM)((x=O[D])===null||x===void 0?void 0:x.palette));L!=null&&L.field&&Object.assign(this.paletteStyle,(0,s.Wl)(P,L))})}getPaletteStyle(O,D){const P=this.paletteStyle[D];return P?O==="edge"?{stroke:P}:{fill:P}:{}}computeElementDefaultStyle(O,D){var P;const{options:b}=this.context,x=((P=b[O])===null||P===void 0?void 0:P.style)||{};"transform"in x&&Array.isArray(x.transform)&&(x.transform=[...x.transform]),this.defaultStyle[(0,a.jD)(D.datum)]=(0,E.$q)(x,D)}computeElementsDefaultStyle(O){const{graph:D}=this.context;this.forEachElementData((P,b)=>{const x=b.length;for(let L=0;L<x;L++){const S=b[L];(O===void 0||O.includes((0,a.jD)(S)))&&this.computeElementDefaultStyle(P,{datum:S,graph:D})}})}getDefaultStyle(O){return this.defaultStyle[O]||{}}getElementState(O){try{const{model:D}=this.context;return D.getElementState(O)}catch(D){return[]}}getElementStateStyle(O,D,P){var b,x;const{options:L}=this.context,S=((x=(b=L[O])===null||b===void 0?void 0:b.state)===null||x===void 0?void 0:x[D])||{};return(0,E.$q)(S,P)}computeElementStatesStyle(O,D,P){this.stateStyle[(0,a.jD)(P.datum)]=Object.assign({},...D.map(b=>this.getElementStateStyle(O,b,P)))}computeElementsStatesStyle(O){const{graph:D}=this.context;this.forEachElementData((P,b)=>{const x=b.length;for(let L=0;L<x;L++){const S=b[L];if(O===void 0||O.includes((0,a.jD)(S))){const K=this.getElementState((0,a.jD)(S));this.computeElementStatesStyle(P,K,{datum:S,graph:D})}}})}getStateStyle(O){return this.stateStyle[O]||{}}computeStyle(O,D){O&&["translate","zIndex"].includes(O)||(this.computePaletteStyle(),this.computeElementsDefaultStyle(D),this.computeElementsStatesStyle(D))}getElement(O){return this.elementMap[O]}getNodes(){return this.context.model.getNodeData().map(({id:O})=>this.elementMap[O])}getEdges(){return this.context.model.getEdgeData().map(O=>this.elementMap[(0,a.jD)(O)])}getCombos(){return this.context.model.getComboData().map(({id:O})=>this.elementMap[O])}getElementComputedStyle(O,D){const P=(0,a.jD)(D),b=this.getThemeStyle(O),x=this.getPaletteStyle(O,P),L=D.style||{},S=this.getDefaultStyle(P),K=this.getThemeStateStyle(O,this.getElementState(P)),U=this.getStateStyle(P),j=Object.assign({},b,x,L,S,K,U);if(O==="combo"){const F=this.context.model.getChildrenData(P),w=!!j.collapsed?[]:F.map(a.jD).filter(z=>this.getElement(z));Object.assign(j,{childrenNode:w,childrenData:F})}return j}getDrawData(O){this.init();const D=this.computeChangesAndDrawData(O);if(!D)return null;const{type:P="draw",stage:b=P}=O;return this.markDestroyElement(D.drawData),this.computeStyle(b),{type:P,stage:b,data:D}}draw(O={animation:!0}){const D=this.getDrawData(O);if(!D)return;const{data:{drawData:{add:P,update:b,remove:x}}}=D;return this.destroyElements(x,O),this.createElements(P,O),this.updateElements(b,O),this.setAnimationTask(O,D)}preLayoutDraw(){return n(this,arguments,void 0,function*(O={animation:!0}){var D,P;const b=this.getDrawData(O);if(!b)return;const{data:{drawData:x}}=b;yield(P=(D=this.context.layout)===null||D===void 0?void 0:D.preLayout)===null||P===void 0?void 0:P.call(D,x);const{add:L,update:S,remove:K}=x;return this.destroyElements(K,O),this.createElements(L,O),this.updateElements(S,O),this.setAnimationTask(O,b)})}setAnimationTask(O,D){const{animation:P,silence:b}=O,{data:{dataChanges:x,drawData:L},stage:S,type:K}=D;return this.context.animation.animate(P,b?{}:{before:()=>this.emit(new r.I9(y.VR.BEFORE_DRAW,{dataChanges:x,animation:P,stage:S,render:K==="render"}),O),beforeAnimate:U=>this.emit(new r.Tm(y.VR.BEFORE_ANIMATE,y.ru.DRAW,U,L),O),afterAnimate:U=>this.emit(new r.Tm(y.VR.AFTER_ANIMATE,y.ru.DRAW,U,L),O),after:()=>this.emit(new r.I9(y.VR.AFTER_DRAW,{dataChanges:x,animation:P,stage:S,render:K==="render",firstRender:this.context.graph.rendered===!1}),O)})}computeChangesAndDrawData(O){const{model:D}=this.context,P=D.getChanges(),b=(0,h.G)(P);if(b.length===0)return null;const{NodeAdded:x=[],NodeUpdated:L=[],NodeRemoved:S=[],EdgeAdded:K=[],EdgeUpdated:U=[],EdgeRemoved:j=[],ComboAdded:F=[],ComboUpdated:W=[],ComboRemoved:w=[]}=(0,T.Z)(b,V=>V.type),z=V=>new Map(V.map($=>{const J=$.value;return[(0,a.jD)(J),J]})),H={add:{nodes:z(x),edges:z(K),combos:z(F)},update:{nodes:z(L),edges:z(U),combos:z(W)},remove:{nodes:z(S),edges:z(j),combos:z(w)}},Y=this.transformData(H,O);return D.clearChanges(),{dataChanges:P,drawData:Y}}transformData(O,D){const P=this.context.transform.getTransformInstance();return Object.values(P).reduce((b,x)=>x.beforeDraw(b,D),O)}createElement(O,D,P){var b;const x=(0,a.jD)(D);if(this.getElement(x))return;const S=this.getElementType(O,D),K=this.getElementComputedStyle(O,D),U=(0,m.R)(O,S);if(!U)return c.S.warn(`The element ${S} of ${O} is not registered.`);this.emit(new r.mT(y.VR.BEFORE_ELEMENT_CREATE,O,D),P);const j=this.container.appendChild(new U({id:x,context:this.context,style:K}));this.shapeTypeMap[x]=S,this.elementMap[x]=j;const{stage:F="enter"}=P;(b=this.context.animation)===null||b===void 0||b.add({element:j,elementType:O,stage:F,originalStyle:Object.assign({},j.attributes),updatedStyle:K},{after:()=>{var W;this.emit(new r.mT(y.VR.AFTER_ELEMENT_CREATE,O,D),P),(W=j.onCreate)===null||W===void 0||W.call(j)}})}createElements(O,D){const{nodes:P,edges:b,combos:x}=O;[["node",P],["combo",x],["edge",b]].forEach(([S,K])=>{K.forEach(U=>this.createElement(S,U,D))})}getUpdateStageStyle(O,D,P){const{stage:b="update"}=P;if(b==="translate")if(O==="node"||O==="combo"){const{style:{x=0,y:L=0,z:S=0}={}}=D;return{x,y:L,z:S}}else return{};return this.getElementComputedStyle(O,D)}updateElement(O,D,P){var b;const x=(0,a.jD)(D),{stage:L="update"}=P,S=this.getElement(x);if(!S)return()=>null;this.emit(new r.mT(y.VR.BEFORE_ELEMENT_UPDATE,O,D),P);const K=this.getElementType(O,D),U=this.getUpdateStageStyle(O,D,P);this.shapeTypeMap[x]!==K&&(S.destroy(),delete this.shapeTypeMap[x],delete this.elementMap[x],this.createElement(O,D,{animation:!1,silence:!0}));const j=L!=="visibility"?L:U.visibility==="hidden"?"hide":"show";j==="hide"&&delete U.visibility,(b=this.context.animation)===null||b===void 0||b.add({element:S,elementType:O,stage:j,originalStyle:Object.assign({},S.attributes),updatedStyle:U},{before:()=>{const F=this.elementMap[x];L!=="collapse"&&(0,o.Uz)(F,U),L==="visibility"&&((0,f.BM)(F,"opacity")||(0,f.l4)(F,"opacity"),this.visibilityCache.set(F,j==="show"?"visible":"hidden"),j==="show"&&(0,i.i)(F,"visible"))},after:()=>{var F;const W=this.elementMap[x];L==="collapse"&&(0,o.Uz)(W,U),j==="hide"&&(0,i.i)(W,this.visibilityCache.get(W)),this.emit(new r.mT(y.VR.AFTER_ELEMENT_UPDATE,O,D),P),(F=W.onUpdate)===null||F===void 0||F.call(W)}})}updateElements(O,D){const{nodes:P,edges:b,combos:x}=O;[["node",P],["combo",x],["edge",b]].forEach(([S,K])=>{K.forEach(U=>this.updateElement(S,U,D))})}markDestroyElement(O){Object.values(O.remove).forEach(D=>{D.forEach(P=>{const b=(0,a.jD)(P),x=this.getElement(b);x&&(0,o._r)(x)})})}destroyElement(O,D,P){var b;const{stage:x="exit"}=P,L=(0,a.jD)(D),S=this.elementMap[L];if(!S)return()=>null;this.emit(new r.mT(y.VR.BEFORE_ELEMENT_DESTROY,O,D),P),(b=this.context.animation)===null||b===void 0||b.add({element:S,elementType:O,stage:x,originalStyle:Object.assign({},S.attributes),updatedStyle:{}},{after:()=>{var K;this.clearElement(L),S.destroy(),(K=S.onDestroy)===null||K===void 0||K.call(S),this.emit(new r.mT(y.VR.AFTER_ELEMENT_DESTROY,O,D),P)}})}destroyElements(O,D){const{nodes:P,edges:b,combos:x}=O;[["combo",x],["edge",b],["node",P]].forEach(([S,K])=>{K.forEach(U=>this.destroyElement(S,U,D))})}clearElement(O){delete this.paletteStyle[O],delete this.defaultStyle[O],delete this.stateStyle[O],delete this.elementMap[O],delete this.shapeTypeMap[O]}alignLayoutResultToElement(O,D){var P,b;const x=(P=O.nodes)===null||P===void 0?void 0:P.find(L=>(0,a.jD)(L)===D);if(x){const L=(0,u.TA)(this.context.model.getNodeLikeDatum(D)),S=(0,u.TA)(x),K=(0,e.$X)(L,S);(b=O.nodes)===null||b===void 0||b.forEach(U=>{var j,F,W;!((j=U.style)===null||j===void 0)&&j.x&&(U.style.x+=K[0]),!((F=U.style)===null||F===void 0)&&F.y&&(U.style.y+=K[1]),!((W=U.style)===null||W===void 0)&&W.z&&(U.style.z+=K[2]||0)})}}collapseNode(O,D){return n(this,void 0,void 0,function*(){var P;const{animation:b}=D,{model:x}=this.context,L=this.computeChangesAndDrawData({stage:"collapse",animation:b});if(!L)return;const{drawData:S}=L,{add:K,remove:U,update:j}=S;this.markDestroyElement(S);const F={animation:b,stage:"collapse",data:S};this.destroyElements(U,F),this.createElements(K,F),this.updateElements(j,F),yield(P=this.context.animation.animate(b,{beforeAnimate:W=>this.emit(new r.Tm(y.VR.BEFORE_ANIMATE,y.ru.COLLAPSE,W,S),F),afterAnimate:W=>this.emit(new r.Tm(y.VR.AFTER_ANIMATE,y.ru.COLLAPSE,W,S),F)},{collapse:{target:O,descendants:Array.from(U.nodes).map(([,W])=>(0,a.jD)(W)),position:(0,u.TA)(j.nodes.get(O))}}))===null||P===void 0?void 0:P.finished})}expandNode(O,D){return n(this,void 0,void 0,function*(){var P;const{model:b,layout:x}=this.context,{animation:L,align:S}=D,K=(0,u.TA)(b.getNodeData([O])[0]),U=this.computeChangesAndDrawData({stage:"expand",animation:L});if(this.createElements(U.drawData.add,{animation:!1,stage:"expand",target:O}),this.context.animation.clear(),this.computeStyle("expand"),!U)return;const{drawData:j}=U,{update:F,add:W}=j,w={animation:L,stage:"expand",data:j};W.edges.forEach(z=>F.edges.set((0,a.jD)(z),z)),W.nodes.forEach(z=>F.nodes.set((0,a.jD)(z),z)),this.updateElements(F,w),yield(P=this.context.animation.animate(L,{beforeAnimate:z=>this.emit(new r.Tm(y.VR.BEFORE_ANIMATE,y.ru.EXPAND,z,j),w),afterAnimate:z=>this.emit(new r.Tm(y.VR.AFTER_ANIMATE,y.ru.EXPAND,z,j),w)},{expand:{target:O,descendants:Array.from(W.nodes).map(([,z])=>(0,a.jD)(z)),position:K}}))===null||P===void 0?void 0:P.finished})}collapseCombo(O,D){return n(this,void 0,void 0,function*(){var P;const{model:b,element:x}=this.context;if(b.getAncestorsData(O,y.dK).some(H=>(0,v.z)(H)))return;const L=x.getElement(O),S=L.getComboPosition(Object.assign(Object.assign({},L.attributes),{collapsed:!0})),K=this.computeChangesAndDrawData({stage:"collapse",animation:D});if(!K)return;const{dataChanges:U,drawData:j}=K;this.markDestroyElement(j);const{update:F,remove:W}=j,w={animation:D,stage:"collapse",data:j};this.destroyElements(W,w),this.updateElements(F,w);const z=H=>Array.from(H).map(([,Y])=>(0,a.jD)(Y));yield(P=this.context.animation.animate(D,{before:()=>this.emit(new r.I9(y.VR.BEFORE_DRAW,{dataChanges:U,animation:D}),w),beforeAnimate:H=>this.emit(new r.Tm(y.VR.BEFORE_ANIMATE,y.ru.COLLAPSE,H,j),w),afterAnimate:H=>this.emit(new r.Tm(y.VR.AFTER_ANIMATE,y.ru.COLLAPSE,H,j),w),after:()=>this.emit(new r.I9(y.VR.AFTER_DRAW,{dataChanges:U,animation:D}),w)},{collapse:{target:O,descendants:[...z(W.nodes),...z(W.combos)],position:S}}))===null||P===void 0?void 0:P.finished})}expandCombo(O,D){return n(this,void 0,void 0,function*(){var P;const{model:b}=this.context,x=(0,u.TA)(b.getComboData([O])[0]);this.computeStyle("expand");const L=this.computeChangesAndDrawData({stage:"expand",animation:D});if(!L)return;const{dataChanges:S,drawData:K}=L,{add:U,update:j}=K,F={animation:D,stage:"expand",data:K,target:O};this.createElements(U,F),this.updateElements(j,F);const W=w=>Array.from(w).map(([,z])=>(0,a.jD)(z));yield(P=this.context.animation.animate(D,{before:()=>this.emit(new r.I9(y.VR.BEFORE_DRAW,{dataChanges:S,animation:D}),F),beforeAnimate:w=>this.emit(new r.Tm(y.VR.BEFORE_ANIMATE,y.ru.EXPAND,w,K),F),afterAnimate:w=>this.emit(new r.Tm(y.VR.AFTER_ANIMATE,y.ru.EXPAND,w,K),F),after:()=>this.emit(new r.I9(y.VR.AFTER_DRAW,{dataChanges:S,animation:D}),F)},{expand:{target:O,descendants:[...W(U.nodes),...W(U.combos)],position:x}}))===null||P===void 0?void 0:P.finished})}clear(){this.container.destroy(),this.initContainer(),this.elementMap={},this.shapeTypeMap={},this.defaultStyle={},this.stateStyle={},this.paletteStyle={}}destroy(){this.clear(),this.container.destroy(),this.context={}}}},16918:function(at,N,t){"use strict";t.d(N,{k:function(){return j}});var d=t(80216),T=t(83633),y=t(84237),C=t(27412),m=t(26912),f=t(99666),h=t(70373),v=t(97067),o=t(23098),r=t(5343),a=t(24519),s=t(41632),u=t(1306),c=t(29193),E=t(70562),p=t(90040),e=t(26192),i=t(43526),n=t(43155),l=t(57313),M=t(28301),O=t(33132),D=t(99539),P=t(34203),b=t(29973),x=t(84160),L=t(34030),S=t(72999),K=t(90731),U=function(F,W,w,z){function H(Y){return Y instanceof w?Y:new w(function(V){V(Y)})}return new(w||(w=Promise))(function(Y,V){function $(lt){try{rt(z.next(lt))}catch(tt){V(tt)}}function J(lt){try{rt(z.throw(lt))}catch(tt){V(tt)}}function rt(lt){lt.done?Y(lt.value):H(lt.value).then($,J)}rt((z=z.apply(F,W||[])).next())})};class j extends d.Z{constructor(W){var w;super(),this.options={},this.rendered=!1,this.destroyed=!1,this.context={model:new D.Y},this.isCollapsingExpanding=!1,this.onResize=(0,T.Z)(()=>{this.resize()},300),this._setOptions(Object.assign({},j.defaultOptions,W),!0),this.context.graph=this,this.options.autoResize&&((w=globalThis.addEventListener)===null||w===void 0||w.call(globalThis,"resize",this.onResize))}getOptions(){return this.options}setOptions(W){this._setOptions(W,!1)}_setOptions(W,w){if(this.updateCanvas(W),Object.assign(this.options,(0,x.v)(W)),w){const{data:G}=W;G&&this.addData(G);return}const{behaviors:z,combo:H,data:Y,edge:V,layout:$,node:J,plugins:rt,theme:lt,transforms:tt}=W;z&&this.setBehaviors(z),Y&&this.setData(Y),J&&this.setNode(J),V&&this.setEdge(V),H&&this.setCombo(H),$&&this.setLayout($),lt&&this.setTheme(lt),rt&&this.setPlugins(rt),tt&&this.setTransforms(tt)}getSize(){return this.context.canvas?this.context.canvas.getSize():[this.options.width||0,this.options.height||0]}setSize(W,w){W&&(this.options.width=W),w&&(this.options.height=w),this.resize(W,w)}setZoomRange(W){this.options.zoomRange=W}getZoomRange(){return this.options.zoomRange}setNode(W){this.options.node=W,this.context.model.refreshData()}setEdge(W){this.options.edge=W,this.context.model.refreshData()}setCombo(W){this.options.combo=W,this.context.model.refreshData()}getTheme(){return this.options.theme}setTheme(W){this.options.theme=(0,y.Z)(W)?W(this.getTheme()):W}setLayout(W){this.options.layout=(0,y.Z)(W)?W(this.getLayout()):W}getLayout(){return this.options.layout}setBehaviors(W){var w;this.options.behaviors=(0,y.Z)(W)?W(this.getBehaviors()):W,(w=this.context.behavior)===null||w===void 0||w.setBehaviors(this.options.behaviors)}updateBehavior(W){this.setBehaviors(w=>w.map(z=>typeof z=="object"&&z.key===W.key?Object.assign(Object.assign({},z),W):z))}getBehaviors(){return this.options.behaviors||[]}setPlugins(W){var w;this.options.plugins=(0,y.Z)(W)?W(this.getPlugins()):W,(w=this.context.plugin)===null||w===void 0||w.setPlugins(this.options.plugins)}updatePlugin(W){this.setPlugins(w=>w.map(z=>typeof z=="object"&&z.key===W.key?Object.assign(Object.assign({},z),W):z))}getPlugins(){return this.options.plugins||[]}getPluginInstance(W){return this.context.plugin.getPluginInstance(W)}setTransforms(W){var w;this.options.transforms=(0,y.Z)(W)?W(this.getTransforms()):W,(w=this.context.transform)===null||w===void 0||w.setTransforms(this.options.transforms)}updateTransform(W){this.setTransforms(w=>w.map(z=>typeof z=="object"&&z.key===W.key?Object.assign(Object.assign({},z),W):z)),this.context.model.refreshData()}getTransforms(){return this.options.transforms||[]}getData(){return this.context.model.getData()}hasNode(W){return this.context.model.hasNode(W)}hasEdge(W){return this.context.model.hasEdge(W)}hasCombo(W){return this.context.model.hasCombo(W)}getElementData(W){return Array.isArray(W)?W.map(w=>this.context.model.getElementDataById(w)):this.context.model.getElementDataById(W)}getNodeData(W){return W===void 0?this.context.model.getNodeData():Array.isArray(W)?this.context.model.getNodeData(W):this.context.model.getNodeLikeDatum(W)}getEdgeData(W){return W===void 0?this.context.model.getEdgeData():Array.isArray(W)?this.context.model.getEdgeData(W):this.context.model.getEdgeDatum(W)}getComboData(W){return W===void 0?this.context.model.getComboData():Array.isArray(W)?this.context.model.getComboData(W):this.context.model.getNodeLikeDatum(W)}setData(W){this.context.model.setData((0,y.Z)(W)?W(this.getData()):W)}addData(W){this.context.model.addData((0,y.Z)(W)?W(this.getData()):W)}addNodeData(W){this.context.model.addNodeData((0,y.Z)(W)?W(this.getNodeData()):W)}addEdgeData(W){this.context.model.addEdgeData((0,y.Z)(W)?W(this.getEdgeData()):W)}addComboData(W){this.context.model.addComboData((0,y.Z)(W)?W(this.getComboData()):W)}addChildrenData(W,w){this.context.model.addChildrenData(W,w)}updateData(W){this.context.model.updateData((0,y.Z)(W)?W(this.getData()):W)}updateNodeData(W){this.context.model.updateNodeData((0,y.Z)(W)?W(this.getNodeData()):W)}updateEdgeData(W){this.context.model.updateEdgeData((0,y.Z)(W)?W(this.getEdgeData()):W)}updateComboData(W){this.context.model.updateComboData((0,y.Z)(W)?W(this.getComboData()):W)}removeData(W){this.context.model.removeData((0,y.Z)(W)?W(this.getData()):W)}removeNodeData(W){this.context.model.removeNodeData((0,y.Z)(W)?W(this.getNodeData()):W)}removeEdgeData(W){this.context.model.removeEdgeData((0,y.Z)(W)?W(this.getEdgeData()):W)}removeComboData(W){this.context.model.removeComboData((0,y.Z)(W)?W(this.getComboData()):W)}getElementType(W){return this.context.model.getElementType(W)}getRelatedEdgesData(W,w="both"){return this.context.model.getRelatedEdgesData(W,w)}getNeighborNodesData(W){return this.context.model.getNeighborNodesData(W)}getAncestorsData(W,w){return this.context.model.getAncestorsData(W,w)}getParentData(W,w){return this.context.model.getParentData(W,w)}getChildrenData(W){return this.context.model.getChildrenData(W)}getDescendantsData(W){return this.context.model.getDescendantsData(W)}getElementDataByState(W,w){return this.context.model.getElementDataByState(W,w)}initCanvas(){return U(this,void 0,void 0,function*(){var W;if(this.context.canvas)return yield this.context.canvas.ready;const{container:w="container",width:z,height:H,renderer:Y,cursor:V,background:$,canvas:J,devicePixelRatio:rt=(W=globalThis.devicePixelRatio)!==null&&W!==void 0?W:1}=this.options;if(w instanceof O.X)this.context.canvas=w,V&&w.setCursor(V),Y&&w.setRenderer(Y),yield w.ready;else{const lt=(0,C.Z)(w)?document.getElementById(w):w,tt=(0,a.Q)(lt);this.emit(o.VR.BEFORE_CANVAS_INIT,{container:lt,width:z,height:H});const G=Object.assign(Object.assign({},J),{container:lt,width:z||tt[0],height:H||tt[1],background:$,renderer:Y,cursor:V,devicePixelRatio:rt}),nt=new O.X(G);this.context.canvas=nt,yield nt.ready,this.emit(o.VR.AFTER_CANVAS_INIT,{canvas:nt})}})}updateCanvas(W){var w,z;const{renderer:H,cursor:Y,height:V,width:$}=W,J=this.context.canvas;J&&(H&&(this.emit(o.VR.BEFORE_RENDERER_CHANGE,{renderer:this.options.renderer}),J.setRenderer(H),this.emit(o.VR.AFTER_RENDERER_CHANGE,{renderer:H})),Y&&J.setCursor(Y),((0,m.Z)($)||(0,m.Z)(V))&&this.setSize((w=$!=null?$:this.options.width)!==null&&w!==void 0?w:0,(z=V!=null?V:this.options.height)!==null&&z!==void 0?z:0))}initRuntime(){this.context.options=this.options,this.context.batch||(this.context.batch=new l.q(this.context)),this.context.plugin||(this.context.plugin=new L.T(this.context)),this.context.viewport||(this.context.viewport=new K.V(this.context)),this.context.transform||(this.context.transform=new S.h(this.context)),this.context.element||(this.context.element=new P.t(this.context)),this.context.animation||(this.context.animation=new n.f(this.context)),this.context.layout||(this.context.layout=new b.h(this.context)),this.context.behavior||(this.context.behavior=new M.g(this.context))}prepare(){return U(this,void 0,void 0,function*(){if(yield Promise.resolve(),this.destroyed){console.error((0,p.W)("The graph instance has been destroyed"));return}yield this.initCanvas(),this.initRuntime()})}render(){return U(this,void 0,void 0,function*(){if(yield this.prepare(),(0,u.j8)(this,new u.I9(o.VR.BEFORE_RENDER)),this.options.layout)if(!this.rendered&&(0,E.oW)(this.options.layout)){const W=yield this.context.element.preLayoutDraw({type:"render"});yield Promise.all([W==null?void 0:W.finished,this.autoFit()])}else{const W=this.context.element.draw({type:"render"});yield Promise.all([W==null?void 0:W.finished,this.context.layout.postLayout()]),yield this.autoFit()}else{const W=this.context.element.draw({type:"render"});yield Promise.all([W==null?void 0:W.finished,this.autoFit()])}this.rendered=!0,(0,u.j8)(this,new u.I9(o.VR.AFTER_RENDER))})}draw(){return U(this,void 0,void 0,function*(){var W;yield this.prepare(),yield(W=this.context.element.draw())===null||W===void 0?void 0:W.finished})}layout(W){return U(this,void 0,void 0,function*(){yield this.context.layout.postLayout(W)})}stopLayout(){this.context.layout.stopLayout()}clear(){return U(this,void 0,void 0,function*(){const{model:W,element:w}=this.context;W.setData({}),W.clearChanges(),w==null||w.clear()})}destroy(){var W;(0,u.j8)(this,new u.I9(o.VR.BEFORE_DESTROY));const{layout:w,animation:z,element:H,model:Y,canvas:V,behavior:$,plugin:J}=this.context;J==null||J.destroy(),$==null||$.destroy(),w==null||w.destroy(),z==null||z.destroy(),H==null||H.destroy(),Y.destroy(),V==null||V.destroy(),this.options={},this.context={},this.off(),(W=globalThis.removeEventListener)===null||W===void 0||W.call(globalThis,"resize",this.onResize),this.destroyed=!0,(0,u.j8)(this,new u.I9(o.VR.AFTER_DESTROY))}getCanvas(){return this.context.canvas}resize(W,w){var z;const H=(0,a.Q)((z=this.context.canvas)===null||z===void 0?void 0:z.getContainer()),Y=[W||H[0],w||H[1]];if(!this.context.canvas)return;const V=this.context.canvas.getSize();(0,f.Z)(Y,V)||((0,u.j8)(this,new u.I9(o.VR.BEFORE_SIZE_CHANGE,{size:Y})),this.context.canvas.resize(...Y),(0,u.j8)(this,new u.I9(o.VR.AFTER_SIZE_CHANGE,{size:Y})))}fitView(W,w){return U(this,void 0,void 0,function*(){var z;yield(z=this.context.viewport)===null||z===void 0?void 0:z.fitView(W,w)})}fitCenter(W){return U(this,void 0,void 0,function*(){var w;yield(w=this.context.viewport)===null||w===void 0?void 0:w.fitCenter({animation:W})})}autoFit(){return U(this,void 0,void 0,function*(){const{autoFit:W}=this.context.options;if(W)if((0,C.Z)(W))W==="view"?yield this.fitView():W==="center"&&(yield this.fitCenter());else{const{type:w,animation:z}=W;w==="view"?yield this.fitView(W.options,z):w==="center"&&(yield this.fitCenter(z))}})}focusElement(W,w){return U(this,void 0,void 0,function*(){var z;yield(z=this.context.viewport)===null||z===void 0?void 0:z.focusElements(Array.isArray(W)?W:[W],{animation:w})})}zoomBy(W,w,z){return U(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"relative",scale:W,origin:z},w)})}zoomTo(W,w,z){return U(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"absolute",scale:W,origin:z},w)})}getZoom(){return this.context.viewport.getZoom()}rotateBy(W,w,z){return U(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"relative",rotate:W,origin:z},w)})}rotateTo(W,w,z){return U(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"absolute",rotate:W,origin:z},w)})}getRotation(){return this.context.viewport.getRotation()}translateBy(W,w){return U(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"relative",translate:W},w)})}translateTo(W,w){return U(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"absolute",translate:W},w)})}getPosition(){return(0,e.$X)([0,0],this.getCanvasByViewport([0,0]))}translateElementBy(W,w){return U(this,arguments,void 0,function*(z,H,Y=!0){var V,$;const[J,rt]=(0,h.Z)(z)?[z,(V=H)!==null&&V!==void 0?V:!0]:[{[z]:H},Y];Object.entries(J).forEach(([lt,tt])=>this.context.model.translateNodeLikeBy(lt,tt)),yield($=this.context.element.draw({animation:rt,stage:"translate"}))===null||$===void 0?void 0:$.finished})}translateElementTo(W,w){return U(this,arguments,void 0,function*(z,H,Y=!0){var V,$;const[J,rt]=(0,h.Z)(z)?[z,(V=H)!==null&&V!==void 0?V:!0]:[{[z]:H},Y];Object.entries(J).forEach(([lt,tt])=>this.context.model.translateNodeLikeTo(lt,tt)),yield($=this.context.element.draw({animation:rt,stage:"translate"}))===null||$===void 0?void 0:$.finished})}getElementPosition(W){return this.context.model.getElementPosition(W)}getElementRenderStyle(W){return(0,v.Z)(this.context.element.getElement(W).attributes,["context"])}setElementVisibility(W,w){return U(this,arguments,void 0,function*(z,H,Y=!0){var V,$;const[J,rt]=(0,h.Z)(z)?[z,(V=H)!==null&&V!==void 0?V:!0]:[{[z]:H},Y],lt={nodes:[],edges:[],combos:[]};Object.entries(J).forEach(([nt,ut])=>{const dt=this.getElementType(nt);lt[`${dt}s`].push({id:nt,style:{visibility:ut}})});const{model:tt,element:G}=this.context;tt.preventUpdateNodeLikeHierarchy(()=>{tt.updateData(lt)}),yield($=G.draw({animation:rt,stage:"visibility"}))===null||$===void 0?void 0:$.finished})}showElement(W,w){return U(this,void 0,void 0,function*(){const z=Array.isArray(W)?W:[W];yield this.setElementVisibility(Object.fromEntries(z.map(H=>[H,"visible"])),w)})}hideElement(W,w){return U(this,void 0,void 0,function*(){const z=Array.isArray(W)?W:[W];yield this.setElementVisibility(Object.fromEntries(z.map(H=>[H,"hidden"])),w)})}getElementVisibility(W){var w,z;const H=this.context.element.getElement(W);return(z=(w=H==null?void 0:H.style)===null||w===void 0?void 0:w.visibility)!==null&&z!==void 0?z:"visible"}setElementZIndex(W,w){return U(this,void 0,void 0,function*(){var z;const H={nodes:[],edges:[],combos:[]},Y=(0,h.Z)(W)?W:{[W]:w};Object.entries(Y).forEach(([J,rt])=>{const lt=this.getElementType(J);H[`${lt}s`].push({id:J,style:{zIndex:rt}})});const{model:V,element:$}=this.context;V.preventUpdateNodeLikeHierarchy(()=>V.updateData(H)),yield(z=$.draw({animation:!1,stage:"zIndex"}))===null||z===void 0?void 0:z.finished})}frontElement(W){return U(this,void 0,void 0,function*(){const w=Array.isArray(W)?W:[W],{model:z}=this.context,H={};w.map(Y=>{const V=z.getFrontZIndex(Y);if(z.getElementType(Y)==="combo"){const J=z.getAncestorsData(Y,o.dK).at(-1)||this.getComboData(Y),rt=[J,...z.getDescendantsData((0,c.jD)(J))],lt=V-(0,i.Y)(J);rt.forEach(G=>{H[(0,c.jD)(G)]=this.getElementZIndex((0,c.jD)(G))+lt});const{internal:tt}=(0,s.$t)(rt.map(c.jD),G=>z.getRelatedEdgesData(G));tt.forEach(G=>{const nt=(0,c.jD)(G);H[nt]=this.getElementZIndex(nt)+lt})}else H[Y]=V}),yield this.setElementZIndex(H)})}getElementZIndex(W){return(0,i.Y)(this.context.model.getElementDataById(W))}setElementState(W,w){return U(this,arguments,void 0,function*(z,H,Y=!0){var V,$;const[J,rt]=(0,h.Z)(z)?[z,(V=H)!==null&&V!==void 0?V:!0]:[{[z]:H},Y],lt=G=>G?Array.isArray(G)?G:[G]:[],tt={nodes:[],edges:[],combos:[]};Object.entries(J).forEach(([G,nt])=>{const ut=this.getElementType(G);tt[`${ut}s`].push({id:G,states:lt(nt)})}),this.updateData(tt),yield($=this.context.element.draw({animation:rt,stage:"state"}))===null||$===void 0?void 0:$.finished})}getElementState(W){return this.context.model.getElementState(W)}getElementRenderBounds(W){return this.context.element.getElement(W).getRenderBounds()}collapseElement(W){return U(this,arguments,void 0,function*(w,z=!0){const{model:H,element:Y}=this.context;if((0,r.z)(H.getNodeLikeData([w])[0])||this.isCollapsingExpanding)return;typeof z=="boolean"&&(z={animation:z,align:!0});const V=H.getElementType(w);yield this.frontElement(w),this.isCollapsingExpanding=!0,H.updateData(V==="node"?{nodes:[{id:w,style:{collapsed:!0}}]}:{combos:[{id:w,style:{collapsed:!0}}]}),V==="node"?yield Y.collapseNode(w,z):V==="combo"&&(yield Y.collapseCombo(w,!!z.animation)),this.isCollapsingExpanding=!1})}expandElement(W){return U(this,arguments,void 0,function*(w,z=!0){const{model:H,element:Y}=this.context;if(!(0,r.z)(H.getNodeLikeData([w])[0])||this.isCollapsingExpanding)return;typeof z=="boolean"&&(z={animation:z,align:!0});const V=H.getElementType(w);this.isCollapsingExpanding=!0,H.updateData(V==="node"?{nodes:[{id:w,style:{collapsed:!1}}]}:{combos:[{id:w,style:{collapsed:!1}}]}),V==="node"?yield Y.expandNode(w,z):V==="combo"&&(yield Y.expandCombo(w,!!z.animation)),this.isCollapsingExpanding=!1})}setElementCollapsibility(W,w){const z=this.getElementType(W);z==="node"?this.updateNodeData([{id:W,style:{collapsed:w}}]):z==="combo"&&this.updateComboData([{id:W,style:{collapsed:w}}])}toDataURL(){return U(this,arguments,void 0,function*(W={}){return this.context.canvas.toDataURL(W)})}getCanvasByViewport(W){return this.context.canvas.getCanvasByViewport(W)}getViewportByCanvas(W){return this.context.canvas.getViewportByCanvas(W)}getClientByCanvas(W){return this.context.canvas.getClientByCanvas(W)}getCanvasByClient(W){return this.context.canvas.getCanvasByClient(W)}getViewportCenter(){return this.context.viewport.getViewportCenter()}getCanvasCenter(){return this.context.viewport.getCanvasCenter()}on(W,w,z){return super.on(W,w,z)}once(W,w){return super.once(W,w)}off(W,w){return super.off(W,w)}}j.defaultOptions={autoResize:!1,theme:"light",rotation:0,zoom:1,zoomRange:[.01,10]}},29973:function(at,N,t){"use strict";t.d(N,{h:function(){return n}});var d=t(94075),T=t(93517),y=t(72408),C=t(48690),m=t(23098),f=t(4709),h=t(15186),v=t(69759),o=t(5343),r=t(23295),a=t(1306),s=t(22860),u=t(29193),c=t(70562),E=t(90040),p=t(88824),e=function(M,O,D,P){function b(x){return x instanceof D?x:new D(function(L){L(x)})}return new(D||(D=Promise))(function(x,L){function S(j){try{U(P.next(j))}catch(F){L(F)}}function K(j){try{U(P.throw(j))}catch(F){L(F)}}function U(j){j.done?x(j.value):b(j.value).then(S,K)}U((P=P.apply(M,O||[])).next())})},i=function(M,O){var D={};for(var P in M)Object.prototype.hasOwnProperty.call(M,P)&&O.indexOf(P)<0&&(D[P]=M[P]);if(M!=null&&typeof Object.getOwnPropertySymbols=="function")for(var b=0,P=Object.getOwnPropertySymbols(M);b<P.length;b++)O.indexOf(P[b])<0&&Object.prototype.propertyIsEnumerable.call(M,P[b])&&(D[P[b]]=M[P[b]]);return D};class n{get presetOptions(){return{animation:!!(0,v.Y4)(this.context.options,!0)}}get options(){const{options:O}=this.context;return O.layout}constructor(O){this.instances=[],this.context=O}getLayoutInstance(){return this.instances}preLayout(O){return e(this,void 0,void 0,function*(){var D,P,b,x;const{graph:L,model:S}=this.context,{add:K}=O;(0,a.j8)(L,new a.I9(m.VR.BEFORE_LAYOUT,{type:"pre"}));const U=yield(D=this.context.layout)===null||D===void 0?void 0:D.simulate();(P=U==null?void 0:U.nodes)===null||P===void 0||P.forEach(j=>{const F=(0,u.jD)(j),W=K.nodes.get(F);S.syncNodeLikeDatum(j),W&&Object.assign(W.style,j.style)}),(b=U==null?void 0:U.edges)===null||b===void 0||b.forEach(j=>{const F=(0,u.jD)(j),W=K.edges.get(F);S.syncEdgeDatum(j),W&&Object.assign(W.style,j.style)}),(x=U==null?void 0:U.combos)===null||x===void 0||x.forEach(j=>{const F=(0,u.jD)(j),W=K.combos.get(F);S.syncNodeLikeDatum(j),W&&Object.assign(W.style,j.style)}),(0,a.j8)(L,new a.I9(m.VR.AFTER_LAYOUT,{type:"pre"})),this.transformDataAfterLayout("pre",O)})}postLayout(){return e(this,arguments,void 0,function*(O=this.options){if(!O)return;const D=Array.isArray(O)?O:[O],{graph:P}=this.context;(0,a.j8)(P,new a.I9(m.VR.BEFORE_LAYOUT,{type:"post"}));for(let b=0;b<D.length;b++){const x=D[b],L=this.getLayoutData(x),S=Object.assign(Object.assign({},this.presetOptions),x);(0,a.j8)(P,new a.I9(m.VR.BEFORE_STAGE_LAYOUT,{options:S,index:b}));const K=yield this.stepLayout(L,S,b);(0,a.j8)(P,new a.I9(m.VR.AFTER_STAGE_LAYOUT,{options:S,index:b})),x.animation||this.updateElementPosition(K,!1)}(0,a.j8)(P,new a.I9(m.VR.AFTER_LAYOUT,{type:"post"})),this.transformDataAfterLayout("post")})}transformDataAfterLayout(O,D){const P=this.context.transform.getTransformInstance();Object.values(P).forEach(b=>b.afterLayout(O,D))}simulate(){return e(this,void 0,void 0,function*(){if(!this.options)return{};const O=Array.isArray(this.options)?this.options:[this.options];let D={};for(let P=0;P<O.length;P++){const b=O[P],x=this.getLayoutData(b);D=yield this.stepLayout(x,Object.assign(Object.assign(Object.assign({},this.presetOptions),b),{animation:!1}),P)}return D})}stepLayout(O,D,P){return e(this,void 0,void 0,function*(){return(0,c.O9)(D)?yield this.treeLayout(O,D,P):yield this.graphLayout(O,D,P)})}graphLayout(O,D,P){return e(this,void 0,void 0,function*(){const{animation:b,enableWorker:x,iterations:L=300}=D,S=this.initGraphLayout(D);if(!S)return{};if(this.instances[P]=S,this.instance=S,x){const U=S;return this.supervisor=new T.y(U.graphData2LayoutModel(O),U.instance,{iterations:L}),(0,c.gB)(yield this.supervisor.execute())}if((0,y.h)(S))return b?yield S.execute(O,{onTick:U=>{this.updateElementPosition(U,!1)}}):(S.execute(O),S.stop(),S.tick(L));const K=yield S.execute(O);if(b){const U=this.updateElementPosition(K,b);yield U==null?void 0:U.finished}return K})}treeLayout(O,D,P){return e(this,void 0,void 0,function*(){const{type:b,animation:x}=D,L=(0,h.R)("layout",b);if(!L)return{};const{nodes:S=[],edges:K=[]}=O,U=new d.k({nodes:S.map(z=>({id:(0,u.jD)(z),data:z.data||{}})),edges:K.map(z=>({id:(0,u.jD)(z),source:z.source,target:z.target,data:z.data||{}}))});(0,s.hJ)(U);const j={nodes:[],edges:[]},F={nodes:[],edges:[]};U.getRoots(m.pf).forEach(z=>{(0,p._)(z,J=>{J.children=U.getSuccessors(J.id)},J=>U.getSuccessors(J.id),"TB");const H=L(z,D),{x:Y,y:V,z:$=0}=H;(0,p._)(H,J=>{const{id:rt,x:lt,y:tt,z:G=0}=J;j.nodes.push({id:rt,style:{x:Y,y:V,z:$}}),F.nodes.push({id:rt,style:{x:lt,y:tt,z:G}})},J=>J.children,"TB")});const w=this.inferTreeLayoutOffset(F);if(l(F,w),x){l(j,w),this.updateElementPosition(j,!1);const z=this.updateElementPosition(F,x);yield z==null?void 0:z.finished}return F})}inferTreeLayoutOffset(O){var D;let[P,b]=[1/0,-1/0],[x,L]=[1/0,-1/0];(D=O.nodes)===null||D===void 0||D.forEach(H=>{const{x:Y=0,y:V=0}=H.style||{};P=Math.min(P,Y),b=Math.max(b,Y),x=Math.min(x,V),L=Math.max(L,V)});const{canvas:S}=this.context,K=S.getSize(),[U,j]=S.getCanvasByViewport([0,0]),[F,W]=S.getCanvasByViewport(K);if(P>=U&&b<=F&&x>=j&&L<=W)return[0,0];const w=(U+F)/2,z=(j+W)/2;return[w-(P+b)/2,z-(x+L)/2]}stopLayout(){this.instance&&(0,y.h)(this.instance)&&(this.instance.stop(),this.instance=void 0),this.supervisor&&(this.supervisor.stop(),this.supervisor=void 0),this.animationResult&&(this.animationResult.finish(),this.animationResult=void 0)}getLayoutData(O){const{nodeFilter:D=()=>!0,comboFilter:P=()=>!0,preLayout:b=!1,isLayoutInvisibleNodes:x=!1}=O,{nodes:L,edges:S,combos:K}=this.context.model.getData(),{element:U,model:j}=this.context,F=V=>U.getElement(V),W=b?V=>{var $;return!x&&((($=V.style)===null||$===void 0?void 0:$.visibility)==="hidden"||j.getAncestorsData(V.id,m.pf).some(o.z)||j.getAncestorsData(V.id,m.dK).some(o.z))?!1:D(V)}:V=>{const $=(0,u.jD)(V),J=F($);return!J||(0,r.xE)(J)?!1:D(V)},w=L.filter(W),z=K.filter(P),H=new Map(w.map(V=>[(0,u.jD)(V),V]));z.forEach(V=>H.set((0,u.jD)(V),V));const Y=S.filter(({source:V,target:$})=>H.has(V)&&H.has($));return{nodes:w,edges:Y,combos:z}}initGraphLayout(O){var D;const{element:P,viewport:b}=this.context,{type:x,enableWorker:L,animation:S,iterations:K}=O,U=i(O,["type","enableWorker","animation","iterations"]),[j,F]=b.getCanvasSize(),W=[j/2,F/2],w=(D=O==null?void 0:O.nodeSize)!==null&&D!==void 0?D:$=>{const J=P==null?void 0:P.getElement($.id);return J?J.attributes.size:P==null?void 0:P.getElementComputedStyle("node",$).size},z=(0,h.R)("layout",x);if(!z)return E.S.warn(`The layout of ${x} is not registered.`);const H=Object.getPrototypeOf(z.prototype)===f.IE.prototype?z:(0,c.Vj)(z,this.context),Y=new H(this.context),V={nodeSize:w,width:j,height:F,center:W};switch(Y.id){case"d3-force":case"d3-force-3d":Object.assign(V,{center:{x:j/2,y:F/2,z:0}});break;default:break}return(0,C.Z)(Y.options,V,U),Y}updateElementPosition(O,D){const{model:P,element:b}=this.context;return b?(P.updateData(O),b.draw({animation:D,silence:!0})):null}destroy(){var O;this.stopLayout(),this.context={},(O=this.supervisor)===null||O===void 0||O.kill(),this.supervisor=void 0,this.instance=void 0,this.instances=[],this.animationResult=void 0}}const l=(M,O)=>{var D;const[P,b]=O;(D=M.nodes)===null||D===void 0||D.forEach(x=>{if(x.style){const{x:L=0,y:S=0}=x.style;x.style.x=L+P,x.style.y=S+b}else x.style={x:P,y:b}})}},84160:function(at,N,t){"use strict";t.d(N,{v:function(){return d}});function d(y){return[T].reduce((m,f)=>f(m),y)}function T(y){return!y.layout||Array.isArray(y.layout)||"preLayout"in y.layout||["antv-dagre","combo-combined","compact-box","circular","concentric","dagre","fishbone","grid","indented","mds","radial","random","snake","dendrogram","mindmap"].includes(y.layout.type)&&(y.layout.preLayout=!0),y}},34030:function(at,N,t){"use strict";t.d(N,{T:function(){return y}});var d=t(30054),T=t(90040);class y extends d.G{constructor(m){super(m),this.category="plugin",this.setPlugins(this.context.options.plugins||[])}setPlugins(m){this.setExtensions(m)}getPluginInstance(m){const f=this.extensionMap[m];if(f)return f;T.S.warn(`Cannot find the plugin ${m}, will try to find it by type.`);const h=this.extensions.find(v=>v.type===m);if(h)return this.extensionMap[h.key]}}},72999:function(at,N,t){"use strict";t.d(N,{h:function(){return y}});var d=t(30054);const T=["update-related-edges","collapse-expand-node","collapse-expand-combo","get-edge-actual-ends","arrange-draw-order"];class y extends d.G{constructor(m){super(m),this.category="transform",this.setTransforms(this.context.options.transforms||[])}getTransforms(){}setTransforms(m){this.setExtensions([...T.slice(0,T.length-1),...m,T[T.length-1]])}getTransformInstance(m){return m?this.extensionMap[m]:this.extensionMap}}},90731:function(at,N,t){"use strict";t.d(N,{V:function(){return u}});var d=t(81614),T=t(88458),y=t(15378),C=t(26912),m=t(23098),f=t(69759),h=t(52877),v=t(1306),o=t(76824),r=t(17439),a=t(26192),s=function(c,E,p,e){function i(n){return n instanceof p?n:new p(function(l){l(n)})}return new(p||(p=Promise))(function(n,l){function M(P){try{D(e.next(P))}catch(b){l(b)}}function O(P){try{D(e.throw(P))}catch(b){l(b)}}function D(P){P.done?n(P.value):i(P.value).then(M,O)}D((e=e.apply(c,E||[])).next())})};class u{get padding(){return(0,r.dj)(this.context.options.padding)}get paddingOffset(){const[E,p,e,i]=this.padding,[n,l,M]=[(i-p)/2,(E-e)/2,0];return[n,l,M]}constructor(E){this.landmarkCounter=0,this.context=E;const[p,e]=this.paddingOffset,{zoom:i,rotation:n,x:l=p,y:M=e}=E.options;this.transform({mode:"absolute",scale:i,translate:[l,M],rotate:n},!1)}get camera(){const{canvas:E}=this.context;return new Proxy(E.getCamera(),{get:(p,e)=>{const n=Object.entries(E.getLayers()).filter(([M])=>!["main"].includes(M)).map(([,M])=>M.getCamera()),l=p[e];if(typeof l=="function")return(...M)=>{const O=l.apply(p,M);return n.forEach(D=>{D[e].apply(D,M)}),O}}})}createLandmark(E){return this.camera.createLandmark(`landmark-${this.landmarkCounter++}`,E)}getAnimation(E){const p=(0,f.Y4)(this.context.options,E);return p?(0,T.Z)(Object.assign({},p),["easing","duration"]):!1}getCanvasSize(){const{canvas:E}=this.context,{width:p=0,height:e=0}=E.getConfig();return[p,e]}getCanvasCenter(){const{canvas:E}=this.context,{width:p=0,height:e=0}=E.getConfig();return[p/2,e/2,0]}getViewportCenter(){const[E,p]=this.camera.getPosition();return[E,p,0]}getGraphCenter(){return this.context.graph.getViewportByCanvas(this.getCanvasCenter())}getZoom(){return this.camera.getZoom()}getRotation(){return this.camera.getRoll()}getTranslateOptions(E){const{camera:p}=this,{mode:e,translate:i=[]}=E,n=this.getZoom(),l=p.getPosition(),M=p.getFocalPoint(),[O,D]=this.getCanvasCenter(),[P=0,b=0,x=0]=i,L=(0,a.cs)([-P,-b,-x],n);return e==="relative"?{position:(0,a.IH)(l,L),focalPoint:(0,a.IH)(M,L)}:{position:(0,a.IH)([O,D,l[2]],L),focalPoint:(0,a.IH)([O,D,M[2]],L)}}getRotateOptions(E){const{mode:p,rotate:e=0}=E;return{roll:p==="relative"?this.camera.getRoll()+e:e}}getZoomOptions(E){const{zoomRange:p}=this.context.options,e=this.camera.getZoom(),{mode:i,scale:n=1}=E;return(0,y.Z)(i==="relative"?e*n:n,...p)}transform(E,p){return s(this,void 0,void 0,function*(){const{graph:e}=this.context,{translate:i,rotate:n,scale:l,origin:M}=E;this.cancelAnimation();const O=this.getAnimation(p);if((0,v.j8)(e,new v._U(m.VR.BEFORE_TRANSFORM,E)),!n&&l&&!i&&M&&!O){this.camera.setZoomByViewportPoint(this.getZoomOptions(E),M),(0,v.j8)(e,new v._U(m.VR.AFTER_TRANSFORM,E));return}const D={};if(i&&Object.assign(D,this.getTranslateOptions(E)),(0,C.Z)(n)&&Object.assign(D,this.getRotateOptions(E)),(0,C.Z)(l)&&Object.assign(D,{zoom:this.getZoomOptions(E)}),O)return(0,v.j8)(e,new v.Tm(m.VR.BEFORE_ANIMATE,m.ru.TRANSFORM,null,E)),new Promise(P=>{this.transformResolver=P,this.camera.gotoLandmark(this.createLandmark(D),Object.assign(Object.assign({},O),{onfinish:()=>{(0,v.j8)(e,new v.Tm(m.VR.AFTER_ANIMATE,m.ru.TRANSFORM,null,E)),(0,v.j8)(e,new v._U(m.VR.AFTER_TRANSFORM,E)),this.transformResolver=void 0,P()}}))});this.camera.gotoLandmark(this.createLandmark(D),{duration:0}),(0,v.j8)(e,new v._U(m.VR.AFTER_TRANSFORM,E))})}fitView(E,p){return s(this,void 0,void 0,function*(){const[e,i,n,l]=this.padding,{when:M="always",direction:O="both"}=E||{},[D,P]=this.context.canvas.getSize(),b=D-l-i,x=P-e-n,L=this.context.canvas.getBounds(),S=this.getBBoxInViewport(L),[K,U]=(0,h.qt)(S),j=O==="x"&&K>=b||O==="y"&&U>=x||O==="both"&&K>=b&&U>=x;if(M==="overflow"&&!j)return yield this.fitCenter({animation:p});const F=b/K,W=x/U,w=O==="x"?F:O==="y"?W:Math.min(F,W),z=this.getAnimation(p);Number.isFinite(w)&&(yield this.transform({mode:"relative",scale:w,translate:(0,a.IH)((0,a.$X)(this.getCanvasCenter(),this.getBBoxInViewport(L).center),(0,a.cs)(this.paddingOffset,w))},z))})}fitCenter(E){return s(this,void 0,void 0,function*(){const p=this.context.canvas.getBounds();yield this.focus(p,E)})}focusElements(E){return s(this,arguments,void 0,function*(p,e={}){const{element:i}=this.context;if(!i)return;const n=M=>e.shapes?M.getShape(e.shapes).getRenderBounds():M.getRenderBounds(),l=(0,h.SV)(p.map(M=>n(i.getElement(M))));yield this.focus(l,e)})}focus(E,p){return s(this,void 0,void 0,function*(){const e=this.context.graph.getViewportByCanvas(E.center),i=p.position||this.getCanvasCenter(),n=(0,a.$X)(i,e);yield this.transform({mode:"relative",translate:(0,a.IH)(n,this.paddingOffset)},p.animation)})}getBBoxInViewport(E){const{min:p,max:e}=E,{graph:i}=this.context,[n,l]=i.getViewportByCanvas(p),[M,O]=i.getViewportByCanvas(e),D=new d.mN;return D.setMinMax([n,l,0],[M,O,0]),D}isInViewport(E,p=!1,e=0){const{graph:i}=this.context,n=this.getCanvasSize(),[l,M]=i.getCanvasByViewport([0,0]),[O,D]=i.getCanvasByViewport(n);let P=new d.mN;return P.setMinMax([l,M,0],[O,D,0]),e&&(P=(0,h.cL)(P,e)),(0,o.wp)(E)?(0,h.W6)(E,P):p?(0,h.xn)(E,P):P.intersects(E)}cancelAnimation(){var E,p;!((E=this.camera.landmarks)===null||E===void 0)&&E.length&&this.camera.cancelLandmarkAnimation(),(p=this.transformResolver)===null||p===void 0||p.call(this)}}},25008:function(at,N,t){"use strict";t.d(N,{U:function(){return C}});const d=["#7E92B5","#F4664A","#FFBE3A"],T={type:"group",color:["#1783FF","#00C9C9","#F08F56","#D580FF","#7863FF","#DB9D0D","#60C42D","#FF80CA","#2491B3","#17C76F"]},y={type:"group",color:["#99ADD1","#1783FF","#00C9C9","#F08F56","#D580FF","#7863FF","#DB9D0D","#60C42D","#FF80CA","#2491B3","#17C76F"]};function C(m){const{bgColor:f,textColor:h,nodeColor:v,nodeColorDisabled:o,nodeStroke:r,nodeHaloStrokeOpacityActive:a=.15,nodeHaloStrokeOpacitySelected:s=.25,nodeOpacityDisabled:u=.06,nodeIconOpacityInactive:c=.85,nodeOpacityInactive:E=.25,nodeBadgePalette:p=d,nodePaletteOptions:e=T,edgeColor:i,edgeColorDisabled:n,edgePaletteOptions:l=y,comboColor:M,comboColorDisabled:O,comboStroke:D,comboStrokeDisabled:P,edgeColorInactive:b}=m;return{background:f,node:{palette:e,style:{donutOpacity:1,badgeBackgroundOpacity:1,badgeFill:"#fff",badgeFontSize:8,badgePadding:[0,4],badgePalette:p,fill:v,fillOpacity:1,halo:!1,iconFill:"#fff",iconOpacity:1,labelBackground:!1,labelBackgroundFill:f,labelBackgroundLineWidth:0,labelBackgroundOpacity:.75,labelFill:h,labelFillOpacity:.85,labelLineHeight:16,labelPadding:[0,2],labelFontSize:12,labelFontWeight:400,labelOpacity:1,labelOffsetY:2,lineWidth:0,portFill:v,portLineWidth:1,portStroke:r,portStrokeOpacity:.65,size:32,stroke:r,strokeOpacity:1,zIndex:2},state:{selected:{halo:!0,haloLineWidth:24,haloStrokeOpacity:s,labelFontSize:12,labelFontWeight:"bold",lineWidth:4,stroke:r},active:{halo:!0,haloLineWidth:12,haloStrokeOpacity:a},highlight:{labelFontWeight:"bold",lineWidth:4,stroke:r,strokeOpacity:.85},inactive:{badgeBackgroundOpacity:E,donutOpacity:E,fillOpacity:E,iconOpacity:c,labelFill:h,labelFillOpacity:E,strokeOpacity:E},disabled:{badgeBackgroundOpacity:.25,donutOpacity:u,fill:o,fillOpacity:u,iconFill:o,iconOpacity:.25,labelFill:h,labelFillOpacity:.25,strokeOpacity:u}},animation:{enter:"fade",exit:"fade",show:"fade",hide:"fade",expand:"node-expand",collapse:"node-collapse",update:[{fields:["x","y","fill","stroke"]}],translate:[{fields:["x","y"]}]}},edge:{palette:l,style:{badgeBackgroundFill:i,badgeFill:"#fff",badgeFontSize:8,badgeOffsetX:10,badgeBackgroundOpacity:1,fillOpacity:1,halo:!1,haloLineWidth:12,haloStrokeOpacity:1,increasedLineWidthForHitTesting:2,labelBackground:!1,labelBackgroundFill:f,labelBackgroundLineWidth:0,labelBackgroundOpacity:.75,labelBackgroundPadding:[4,4,4,4],labelFill:h,labelFontSize:12,labelFontWeight:400,labelOpacity:1,labelPlacement:"center",labelTextBaseline:"middle",lineWidth:1,stroke:i,strokeOpacity:1,zIndex:1},state:{selected:{halo:!0,haloStrokeOpacity:.25,labelFontSize:14,labelFontWeight:"bold",lineWidth:3},active:{halo:!0,haloStrokeOpacity:.15},highlight:{labelFontWeight:"bold",lineWidth:3},inactive:{stroke:b,fillOpacity:.08,labelOpacity:.25,strokeOpacity:.08,badgeBackgroundOpacity:.25},disabled:{stroke:n,fillOpacity:.45,strokeOpacity:.45,labelOpacity:.25,badgeBackgroundOpacity:.45}},animation:{enter:"fade",exit:"fade",expand:"path-in",collapse:"path-out",show:"fade",hide:"fade",update:[{fields:["sourceNode","targetNode"]},{fields:["stroke"],shape:"key"}],translate:[{fields:["sourceNode","targetNode"]}]}},combo:{style:{collapsedMarkerFill:f,collapsedMarkerFontSize:12,collapsedMarkerFillOpacity:1,collapsedSize:32,collapsedFillOpacity:1,fill:M,halo:!1,haloLineWidth:12,haloStroke:D,haloStrokeOpacity:.25,labelBackground:!1,labelBackgroundFill:f,labelBackgroundLineWidth:0,labelBackgroundOpacity:.75,labelBackgroundPadding:[2,4,2,4],labelFill:h,labelFontSize:12,labelFontWeight:400,labelOpacity:1,lineDash:0,lineWidth:1,fillOpacity:.04,strokeOpacity:1,padding:10,stroke:D},state:{selected:{halo:!0,labelFontSize:14,labelFontWeight:700,lineWidth:4},active:{halo:!0},highlight:{labelFontWeight:700,lineWidth:4},inactive:{fillOpacity:.65,labelOpacity:.25,strokeOpacity:.65},disabled:{fill:O,fillOpacity:.25,labelOpacity:.25,stroke:P,strokeOpacity:.25}},animation:{enter:"fade",exit:"fade",show:"fade",hide:"fade",expand:"combo-expand",collapse:"combo-collapse",update:[{fields:["x","y"]},{fields:["fill","stroke","lineWidth"],shape:"key"}],translate:[{fields:["x","y"]}]}}}}},27251:function(at,N,t){"use strict";t.d(N,{_:function(){return C}});var d=t(25008);const y={bgColor:"#000000",comboColor:"#fdfdfd",comboColorDisabled:"#d0e4ff",comboStroke:"#99add1",comboStrokeDisabled:"#969696",edgeColor:"#637088",edgeColorDisabled:"#637088",edgeColorInactive:"#D0E4FF",edgePaletteOptions:{type:"group",color:["#637088","#0F55A6","#008383","#9C5D38","#8B53A6","#4E40A6","#8F6608","#3E801D","#A65383","#175E75","#0F8248"]},nodeColor:"#1783ff",nodeColorDisabled:"#D0E4FF",nodeHaloStrokeOpacityActive:.25,nodeHaloStrokeOpacitySelected:.45,nodeIconOpacityInactive:.45,nodeOpacityDisabled:.25,nodeOpacityInactive:.45,nodeStroke:"#d0e4ff",textColor:"#ffffff"},C=(0,d.U)(y)},25439:function(at,N,t){"use strict";t.d(N,{R:function(){return T.R},_:function(){return d._}});var d=t(27251),T=t(80882)},80882:function(at,N,t){"use strict";t.d(N,{R:function(){return y}});var d=t(25008);const T={bgColor:"#ffffff",comboColor:"#99ADD1",comboColorDisabled:"#f0f0f0",comboStroke:"#99add1",comboStrokeDisabled:"#d9d9d9",edgeColor:"#99add1",edgeColorDisabled:"#d9d9d9",edgeColorInactive:"#1B324F",nodeColor:"#1783ff",nodeColorDisabled:"#1B324F",nodeHaloStrokeOpacityActive:.15,nodeHaloStrokeOpacitySelected:.25,nodeIconOpacityInactive:.85,nodeOpacityDisabled:.06,nodeOpacityInactive:.25,nodeStroke:"#000000",textColor:"#000000"},y=(0,d.U)(T)},22961:function(at,N,t){"use strict";t.d(N,{t:function(){return y}});var d=t(29193),T=t(51690);class y extends T.r{beforeDraw(m){const{model:f}=this.context,h=m.add.combos,v=o=>{const r=[];return o.forEach((a,s)=>{const c=f.getAncestorsData(s,"combo").map(E=>(0,d.jD)(E)).reverse();r.push([s,a,c.length])}),new Map(r.sort(([,,a],[,,s])=>s-a).map(([a,s])=>[a,s]))};return m.add.combos=v(h),m.update.combos=v(m.update.combos),m}}},51690:function(at,N,t){"use strict";t.d(N,{r:function(){return T}});var d=t(30054);class T extends d.j{beforeDraw(C,m){return C}afterLayout(C,m){}}},89837:function(at,N,t){"use strict";t.d(N,{j:function(){return h}});var d=t(23098),T=t(5343),y=t(41632),C=t(29193),m=t(51690),f=t(96531);class h extends m.r{beforeDraw(o,r){if(r.stage==="visibility"||!this.context.model.model.hasTreeStructure(d.dK))return o;const{model:a}=this.context,{add:s,update:u}=o,c=[...o.update.combos.entries(),...o.add.combos.entries()];for(;c.length;){const[E,p]=c.pop();if((0,T.z)(p)){const e=a.getDescendantsData(E),i=e.map(C.jD),{internal:n,external:l}=(0,y.$t)(i,M=>a.getRelatedEdgesData(M));e.forEach(M=>{const O=(0,C.jD)(M),D=c.findIndex(([b])=>b===O);D!==-1&&c.splice(D,1);const P=a.getElementType(O);(0,f.o)(o,"remove",P,M)}),n.forEach(M=>(0,f.o)(o,"remove","edge",M)),l.forEach(M=>{var O;const D=(0,C.jD)(M);((O=this.context.element)===null||O===void 0?void 0:O.getElement(D))?u.edges.set(D,M):s.edges.set(D,M)})}else{const e=a.getChildrenData(E),i=e.map(C.jD),{edges:n}=(0,y.$t)(i,l=>a.getRelatedEdgesData(l));[...e,...n].forEach(l=>{var M;const O=(0,C.jD)(l),D=a.getElementType(O);((M=this.context.element)===null||M===void 0?void 0:M.getElement(O))?(0,f.o)(o,"update",D,l):(0,f.o)(o,"add",D,l),D==="combo"&&c.push([O,l])})}}return o}}},8573:function(at,N,t){"use strict";t.d(N,{w:function(){return h}});var d=t(23098),T=t(5343),y=t(29193),C=t(51690),m=t(96531);const f=(v,o,r,a)=>{const s=`${r}s`,u=(0,y.jD)(a);!v.add[s].has(u)&&!v.update[s].has(u)&&v[o][s].set((0,y.jD)(a),a)};class h extends C.r{getElement(o){return this.context.element.getElement(o)}handleExpand(o,r){if(f(r,"add","node",o),(0,T.z)(o))return;const a=(0,y.jD)(o);f(r,"add","node",o),this.context.model.getRelatedEdgesData(a).forEach(c=>{(0,m.o)(r,"add","edge",c)}),this.context.model.getChildrenData(a).forEach(c=>{this.handleExpand(c,r)})}beforeDraw(o){const{graph:r,model:a}=this.context;if(!a.model.hasTreeStructure(d.pf))return o;const{add:{nodes:s,edges:u},update:{nodes:c}}=o,E=new Map,p=new Map;s.forEach((i,n)=>{(0,T.z)(i)&&E.set(n,i)}),u.forEach(i=>{if(r.getElementType(i.source)!=="node")return;const n=r.getNodeData(i.source);(0,T.z)(n)&&E.set(i.source,n)}),c.forEach((i,n)=>{const l=this.getElement(n);if(!l)return;const M=l.attributes.collapsed;(0,T.z)(i)?M||E.set(n,i):M&&p.set(n,i)});const e=new Set;return E.forEach((i,n)=>{a.getDescendantsData(n).forEach(M=>{const O=(0,y.jD)(M);if(e.has(O))return;(0,m.o)(o,"remove","node",M),a.getRelatedEdgesData(O).forEach(P=>{(0,m.o)(o,"remove","edge",P)}),e.add(O)})}),p.forEach((i,n)=>{if(a.getAncestorsData(n,d.pf).some(T.z)){(0,m.o)(o,"remove","node",i);return}this.handleExpand(i,o)}),o}}},10640:function(at,N,t){"use strict";t.d(N,{I:function(){return f},v:function(){return m}});var d=t(23098),T=t(15707),y=t(41632),C=t(51690);class m extends C.r{beforeDraw(v){const{add:o,update:r}=v,{model:a}=this.context;return[...o.edges.entries(),...r.edges.entries()].forEach(([,s])=>{f(a,s)}),v}}const f=(h,v)=>{const{source:o,target:r}=v,a=h.getElementDataById(o),s=h.getElementDataById(r),u=(0,y._u)(a,i=>h.getParentData(i,d.dK)),c=(0,y._u)(s,i=>h.getParentData(i,d.dK)),E=(0,T.jD)(u),p=(0,T.jD)(c),e={sourceNode:E,targetNode:p};return v.style?Object.assign(v.style,e):v.style=e,v}},24469:function(at,N,t){"use strict";t.d(N,{Co:function(){return o.C},jm:function(){return y.j},nA:function(){return v.nA},tN:function(){return h.t},tX:function(){return d.t},to:function(){return f.t},vi:function(){return m.v},wP:function(){return C.w}});var d=t(22961),T=t(51690),y=t(89837),C=t(8573),m=t(10640),f=t(45339),h=t(10845),v=t(80924),o=t(49217)},45339:function(at,N,t){"use strict";t.d(N,{t:function(){return r}});var d=t(48690),T=t(88458),y=t(1883),C=t(29193),m=t(17439),f=t(11271),h=t(33626),v=t(51690),o=t(96531);class r extends v.r{constructor(s,u){super(s,(0,d.Z)({},r.defaultOptions,u)),this.assignSizeByCentrality=(c,E,p,e,i,n)=>{const l=[E,p],M=[e[0],i[0]],O=[e[1],i[1]],D=[e[2],i[2]],P=(b,x)=>{if(typeof n=="function")return n(b,l,x);switch(n){case"linear":return(0,f.GE)(b,l,x);case"log":return(0,f.cM)(b,l,x);case"pow":return(0,f.sQ)(b,l,x,2);case"sqrt":return(0,f._b)(b,l,x);default:return x[0]}};return[P(c,M),P(c,O),P(c,D)]}}beforeDraw(s){const{model:u}=this.context,c=u.getNodeData(),E=(0,h._)(this.options.maxSize),p=(0,h._)(this.options.minSize),e=this.getCentralities(this.options.centrality),i=e.size>0?Math.max(...e.values()):0,n=e.size>0?Math.min(...e.values()):0;return c.forEach(l=>{var M;const O=this.assignSizeByCentrality(e.get((0,C.jD)(l))||0,n,i,p,E,this.options.scale),D=(M=this.context.element)===null||M===void 0?void 0:M.getElement((0,C.jD)(l)),P={size:O};this.assignLabelStyle(P,O,l,D),(!D||!(0,o.A)(P,D.attributes))&&(0,o.o)(s,D?"update":"add","node",(0,d.Z)(l,{style:P}),!0)}),s}assignLabelStyle(s,u,c,E){var p;const e=E?E.config.style:(p=this.context.element)===null||p===void 0?void 0:p.getElementComputedStyle("node",c);if(Object.assign(s,(0,T.Z)(e,["labelFontSize","labelLineHeight"])),this.options.mapLabelSize){const i=this.getLabelSizeByNodeSize(u,1/0,Number(s.labelFontSize));Object.assign(s,{labelFontSize:i,labelLineHeight:i+(0,m.aY)(s.labelPadding)})}return s}getLabelSizeByNodeSize(s,u,c){const E=Math.min(...s)/2,[p,e]=Array.isArray(this.options.mapLabelSize)?this.options.mapLabelSize:[c,u];return Math.min(e,Math.max(E,p))}getCentralities(s){const{model:u}=this.context,c=u.getData();if(typeof s=="function")return s(c);const E=u.getRelatedEdgesData.bind(u);return(0,y.iZ)(c,E,s)}}r.defaultOptions={centrality:{type:"degree"},maxSize:80,minSize:20,scale:"linear",mapLabelSize:!1}},10845:function(at,N,t){"use strict";t.d(N,{t:function(){return h}});var d=t(81614),T=t(29193),y=t(49559),C=t(33626),m=t(26192),f=t(51690);class h extends f.r{constructor(o,r){super(o,Object.assign({},h.defaultOptions,r))}get ref(){return this.context.model.getRootsData()[0]}afterLayout(){var o;const r=(0,y.TA)(this.ref),{graph:a,model:s}=this.context;(o=s.getData().nodes)===null||o===void 0||o.forEach(c=>{var E;if((0,T.jD)(c)===(0,T.jD)(this.ref))return;const p=(0,m.BJ)((0,m.$X)((0,y.TA)(c),r)),e=Math.abs(p)>Math.PI/2,i=!c.children||c.children.length===0,n=(0,T.jD)(c),l=(E=this.context.element)===null||E===void 0?void 0:E.getElement(n);if(!l||!l.isVisible())return;const M=(0,C._)(a.getElementRenderStyle(n).size)[0]/2,O=(i?1:-1)*(M+this.options.offset),D=[["translate",O*Math.cos(p),O*Math.sin(p)],["rotate",e?(0,d.BV)(p)+180:(0,d.BV)(p)]];s.updateNodeData([{id:(0,T.jD)(c),style:{labelTextAlign:e===i?"right":"left",labelTextBaseline:"middle",labelTransform:D}}])}),a.draw()}}h.defaultOptions={offset:5}},80924:function(at,N,t){"use strict";t.d(N,{nA:function(){return s}});var d=t(61989),T=t(99666),y=t(29803),C=t(84237),m=t(98478),f=t(29193),h=t(51690),v=t(10640),o=t(96531);const r="quadratic",a=["top","top-right","right","right-bottom","bottom","bottom-left","left","left-top"];class s extends h.r{constructor(e,i){super(e,Object.assign({},s.defaultOptions,i)),this.cacheMergeStyle=new Map,this.getAffectedParallelEdges=n=>{const{add:{edges:l},update:{nodes:M,edges:O,combos:D},remove:{edges:P}}=n,{model:b}=this.context,x=new Map,L=(U,j)=>{b.getRelatedEdgesData(j).forEach(W=>!x.has((0,f.jD)(W))&&x.set((0,f.jD)(W),W))};M.forEach(L),D.forEach(L);const S=U=>{const j=new Set(n.remove.edges.keys()),F=b.getEdgeData().filter(W=>!j.has((0,f.jD)(W))).map(W=>(0,v.I)(b,W));c(U,F,!0).forEach(W=>{const w=(0,f.jD)(W);x.has(w)||x.set(w,W)})};if(P.size&&P.forEach(S),l.size&&l.forEach(S),O.size){const U=(0,m._)((0,m.G)(b.getChanges())).update.edges;O.forEach(j=>{var F;S(j);const W=(F=U.find(w=>(0,f.jD)(w.value)===(0,f.jD)(j)))===null||F===void 0?void 0:F.original;W&&!E(j,W)&&S(W)})}(0,d.Z)(this.options.edges)||x.forEach((U,j)=>!this.options.edges.includes(j)&&x.delete(j));const K=b.getEdgeData().map(f.jD);return new Map([...x].sort((U,j)=>K.indexOf(U[0])-K.indexOf(j[0])))},this.applyBundlingStyle=(n,l,M)=>{const{edgeMap:O,reverses:D}=u(l);O.forEach(P=>{P.forEach((b,x,L)=>{var S;const K=L.length,U=b.style||{};if(b.source===b.target){const W=a.length;U.loopPlacement=a[x%W],U.loopDist=Math.floor(x/W)*M+50}else if(K===1)U.curveOffset=0;else{const W=(x%2===0?1:-1)*(D[`${b.source}|${b.target}|${x}`]?-1:1);U.curveOffset=K%2===1?W*Math.ceil(x/2)*M*2:W*(Math.floor(x/2)*M*2+M)}const j=Object.assign(b,{type:r,style:U}),F=(S=this.context.element)===null||S===void 0?void 0:S.getElement((0,f.jD)(b));(!F||!(0,o.A)(j.style,F.attributes))&&(0,o.o)(n,F?"update":"add","edge",j,!0)})})},this.resetEdgeStyle=n=>{const l=n.style||{},M=this.cacheMergeStyle.get((0,f.jD)(n))||{};return Object.keys(M).forEach(O=>{(0,T.Z)(l[O],M[O])&&(n[O]?l[O]=n[O]:delete l[O])}),Object.assign(n,{style:l})},this.applyMergingStyle=(n,l)=>{const{edgeMap:M,reverses:O}=u(l);M.forEach(D=>{var P;if(D.length===1){const x=D[0],L=(P=this.context.element)===null||P===void 0?void 0:P.getElement((0,f.jD)(x)),S=this.resetEdgeStyle(x);(!L||!(0,o.A)(S,L.attributes))&&(0,o.o)(n,L?"update":"add","edge",S);return}const b=D.map(({source:x,target:L,style:S={}},K)=>{const{startArrow:U,endArrow:j}=S,F={},[W,w]=O[`${x}|${L}|${K}`]?["endArrow","startArrow"]:["startArrow","endArrow"];return(0,y.Z)(U)&&(F[W]=U),(0,y.Z)(j)&&(F[w]=j),F}).reduce((x,L)=>Object.assign(Object.assign({},x),L),{});D.forEach((x,L,S)=>{var K;if(L!==0){(0,o.o)(n,"remove","edge",x);return}const U=Object.assign({},(0,C.Z)(this.options.style)?this.options.style(S):this.options.style,{childrenData:S});this.cacheMergeStyle.set((0,f.jD)(x),U);const j=Object.assign(Object.assign({},x),{type:"line",style:Object.assign(Object.assign(Object.assign({},x.style),b),U)}),F=(K=this.context.element)===null||K===void 0?void 0:K.getElement((0,f.jD)(x));(!F||!(0,o.A)(j.style,F.attributes))&&(0,o.o)(n,F?"update":"add","edge",j,!0)})})}}beforeDraw(e){const i=this.getAffectedParallelEdges(e);return i.size===0||(this.options.mode==="bundle"?this.applyBundlingStyle(e,i,this.options.distance):this.applyMergingStyle(e,i)),e}}s.defaultOptions={mode:"bundle",distance:15};const u=p=>{const e=new Map,i=new Set,n={},l=new Map;for(const[M,O]of p){if(i.has(M))continue;const{source:D,target:P}=O,b=`${D}-${P}`;e.has(b)||(e.set(b,[]),l.set(b,new Set));const x=e.get(b),L=l.get(b);x&&L&&!L.has(M)&&(x.push(O),L.add(M),i.add(M));for(const[S,K]of p)if(!(i.has(S)||S===M)&&E(O,K)){const U=e.get(b),j=l.get(b);U&&j&&!j.has(S)&&(U.push(K),j.add(S),D===K.target&&P===K.source&&(n[`${K.source}|${K.target}|${U.length-1}`]=!0),i.add(S))}}return{edgeMap:e,reverses:n}},c=(p,e,i)=>e.filter(n=>(i||(0,f.jD)(n)!==(0,f.jD)(p))&&E(n,p)),E=(p,e)=>{const{sourceNode:i,targetNode:n}=p.style||{},{sourceNode:l,targetNode:M}=e.style||{};return i===l&&n===M||i===M&&n===l}},49217:function(at,N,t){"use strict";t.d(N,{C:function(){return y}});var d=t(29193),T=t(51690);class y extends T.r{beforeDraw(m,f){const{stage:h}=f;if(h==="visibility")return m;const{model:v}=this.context,{update:{nodes:o,edges:r,combos:a}}=m,s=(u,c)=>{v.getRelatedEdgesData(c).forEach(p=>!r.has((0,d.jD)(p))&&r.set((0,d.jD)(p),p))};return o.forEach(s),a.forEach(s),m}}},96531:function(at,N,t){"use strict";t.d(N,{A:function(){return y},o:function(){return T}});var d=t(29193);function T(C,m,f,h,v){const o=(0,d.jD)(h),r=`${f}s`,a=v?h:C.add[r].get(o)||C.update[r].get(o)||C.remove[r].get(o)||h;Object.entries(C).forEach(([s,u])=>{m===s?u[r].set(o,a):u[r].delete(o)})}function y(C,m){return Object.keys(C).every(f=>C[f]===m[f])}},69759:function(at,N,t){"use strict";t.d(N,{HK:function(){return r},Y4:function(){return a},dk:function(){return o},tI:function(){return u},zt:function(){return v}});var d=t(89148),T=t(99666),y=t(70373),C=t(23098),m=t(15186),f=t(90040),h=t(2348);function v(c,E){if(Array.isArray(c)&&c.length===0)return null;const p=Array.isArray(c)?c[0]:c,e=Array.isArray(c)?c.slice(1):E||[];return new Proxy(p,{get(i,n){return typeof i[n]=="function"&&!["onframe","onfinish"].includes(n)?(...l)=>{i[n](...l),e.forEach(M=>{var O;return(O=M[n])===null||O===void 0?void 0:O.call(M,...l)})}:n==="finished"?Promise.all([p.finished,...e.map(l=>l.finished)]):Reflect.get(i,n)},set(i,n,l){return["onframe","onfinish"].includes(n)||e.forEach(M=>{M[n]=l}),Reflect.set(i,n,l)}})}function o(c){const E=c.reduce((e,i)=>(Object.entries(i).forEach(([n,l])=>{e[n]===void 0?e[n]=[l]:e[n].push(l)}),e),{});Object.entries(E).forEach(([e,i])=>{(i.length!==c.length||i.some(n=>(0,d.Z)(n))||i.every(n=>!["sourceNode","targetNode","childrenNode"].includes(e)&&(0,T.Z)(n,i[0])))&&delete E[e]});const p=Object.entries(E).reduce((e,[i,n])=>(n.forEach((l,M)=>{e[M]?e[M][i]=l:e[M]={[i]:l}}),e),[]);return c.length!==0&&p.length===0&&p.push({_:0},{_:0}),p}function r(c){switch(c){case"opacity":return 1;case"x":case"y":case"z":case"zIndex":return 0;case"visibility":return"visible";case"collapsed":return!1;case"states":return[];default:return}}function a(c,E){const{animation:p}=c;if(p===!1||E===!1)return!1;const e=Object.assign({},C.Xy);return(0,y.Z)(p)&&Object.assign(e,p),(0,y.Z)(E)&&Object.assign(e,E),e}function s(c){if(typeof c=="string"){const E=(0,m.R)(C.MD.ANIMATION,c);return E||(f.S.warn(`The animation of ${c} is not registered.`),[])}return c}function u(c,E,p,e){var i,n;const{animation:l}=c;if(l===!1||e===!1)return[];const M=(i=c==null?void 0:c[E])===null||i===void 0?void 0:i.animation;if(M===!1)return[];const O=M==null?void 0:M[p];if(O===!1)return[];const D=(n=(0,h.c)(c)[E])===null||n===void 0?void 0:n.animation,P=(x=[])=>s(x).map(L=>Object.assign(Object.assign(Object.assign(Object.assign({},C.Am),(0,y.Z)(l)&&l),L),(0,y.Z)(e)&&e));if(O)return P(O);if(!D)return[];const b=D[p];return b===!1?[]:P(b)}},52877:function(at,N,t){"use strict";t.d(N,{Js:function(){return o},RO:function(){return i},Ru:function(){return f},S4:function(){return n},SV:function(){return s},W6:function(){return c},Y4:function(){return O},cL:function(){return a},ew:function(){return l},g8:function(){return p},o4:function(){return E},q8:function(){return e},qt:function(){return v},uU:function(){return r},vs:function(){return h},wK:function(){return M},xn:function(){return u}});var d=t(81614),T=t(21914),y=t(76824),C=t(89824),m=t(17439);function f(D){return D.max[0]-D.min[0]}function h(D){return D.max[1]-D.min[1]}function v(D){return[f(D),h(D)]}function o(D,P){const b=(0,y.wp)(D)?r(D):D.getShape("key").getBounds();return P?a(b,P):b}function r(D){const[P,b,x=0]=D,L=new d.mN;return L.setMinMax([P,b,x],[P,b,x]),L}function a(D,P){const[b,x,L,S]=(0,m.dj)(P),[K,U,j]=D.min,[F,W,w]=D.max,z=new d.mN;return z.setMinMax([K-S,U-b,j],[F+x,W+L,w]),z}function s(D){if(D.length===0)return new d.mN;if(D.length===1)return D[0];const P=new d.mN;P.setMinMax(D[0].min,D[0].max);for(let b=1;b<D.length;b++){const x=D[b];P.setMinMax([Math.min(P.min[0],x.min[0]),Math.min(P.min[1],x.min[1]),Math.min(P.min[2],x.min[2])],[Math.max(P.max[0],x.max[0]),Math.max(P.max[1],x.max[1]),Math.max(P.max[2],x.max[2])])}return P}function u(D,P){const[b,x]=D.min,[L,S]=D.max,[K,U]=P.min,[j,F]=P.max;return b>=K&&L<=j&&x>=U&&S<=F}function c(D,P){return(0,C.K)(D[0],P.min[0],P.max[0])&&(0,C.K)(D[1],P.min[1],P.max[1])}function E(D,P,b=!1){const{min:[x,L],max:[S,K]}=P,U=(D[1]===L||D[1]===K)&&(b||(0,C.K)(D[0],x,S)),j=(D[0]===x||D[0]===S)&&(b||(0,C.K)(D[1],L,K));return U||j}function p(D,P){return!c(D,P)}function e(D,P){const{center:b}=P;return D[0]===b[0]&&D[1]===b[1]}function i(D,P){const[b,x]=D,[L,S]=P.min,[K,U]=P.max,j=b-L,F=K-b,W=x-S,w=U-x,z=Math.min(j,F,W,w);return z===j?"left":z===F?"right":z===W?"top":z===w?"bottom":"left"}function n(D,P){const b=(0,T.Z)(D);if(c(D,P))switch(i(D,P)){case"left":b[0]=P.min[0];break;case"right":b[0]=P.max[0];break;case"top":b[1]=P.min[1];break;case"bottom":b[1]=P.max[1];break}else{const[x,L]=D,[S,K]=P.min,[U,j]=P.max;b[0]=(0,C.K)(x,S,U)?x:x<S?S:U,b[1]=(0,C.K)(L,K,j)?L:L<K?K:j}return b}function l(D,P){const{center:b}=D,[x,L]=v(D),S=P==="up"||P==="down"?b[0]:P==="right"?b[0]-x/6:b[0]+x/6,K=P==="left"||P==="right"?b[1]:P==="down"?b[1]-L/6:b[1]+L/6;return[S,K]}function M(D,P){let[b,x]=v(D);return[b,x]=P==="up"||P==="down"?[b,x]:[x,b],(Math.pow(x,2)-Math.pow(Math.sqrt(Math.pow(b/2,2)+Math.pow(x,2))-b/2,2))/(2*x)}function O(D){const{min:[P,b],max:[x,L]}=D,S=[P,L],K=[x,L],U=[x,b],j=[P,b];return[[S,K],[K,U],[U,j],[j,S]]}},32794:function(at,N,t){"use strict";t.d(N,{BM:function(){return h},ZJ:function(){return f},l4:function(){return m}});var d=t(22040),T=t(28767);const y="cachedStyle",C=o=>`__${o}__`;function m(o,r){const a=Array.isArray(r)?r:[r];(0,d.Z)(o,y)||(0,T.Z)(o,y,{}),a.forEach(s=>{(0,T.Z)((0,d.Z)(o,y),C(s),o.attributes[s])})}function f(o,r){return(0,d.Z)(o,[y,C(r)])}function h(o,r){return C(r)in((0,d.Z)(o,y)||{})}function v(o,r,a){set(o,[y,C(r)],a)}},1883:function(at,N,t){"use strict";t.d(N,{iZ:function(){return y}});var d=t(27209),T=t(29193);const y=(a,s,u)=>{var c;switch(u.type){case"degree":{const E=new Map;return(c=a.nodes)===null||c===void 0||c.forEach(p=>{const e=s((0,T.jD)(p),u.direction).length;E.set((0,T.jD)(p),e)}),E}case"betweenness":return m(a,u.directed,u.weightPropertyName);case"closeness":return f(a,u.directed,u.weightPropertyName);case"eigenvector":return v(a,u.directed);case"pagerank":return h(a,u.epsilon,u.linkProb);default:return C(a)}},C=a=>{var s;const u=new Map;return(s=a.nodes)===null||s===void 0||s.forEach(c=>{u.set((0,T.jD)(c),0)}),u},m=(a,s,u)=>{const c=C(a),{nodes:E=[]}=a;return E.forEach(p=>{E.forEach(e=>{if(p!==e){const{allPath:i}=(0,d.ni)(a,(0,T.jD)(p),(0,T.jD)(e),s,u),n=i.length;i.flat().forEach(l=>{l!==(0,T.jD)(p)&&l!==(0,T.jD)(e)&&c.set(l,c.get(l)+1/n)})}})}),c},f=(a,s,u)=>{const c=new Map,{nodes:E=[]}=a;return E.forEach(p=>{const e=E.reduce((i,n)=>{if(p!==n){const{length:l}=(0,d.ni)(a,(0,T.jD)(p),(0,T.jD)(n),s,u);i+=l}return i},0);c.set((0,T.jD)(p),1/e)}),c},h=(a,s,u)=>{var c;const E=new Map,p=(0,d.EF)(a,s,u);return(c=a.nodes)===null||c===void 0||c.forEach(e=>{E.set((0,T.jD)(e),p[(0,T.jD)(e)])}),E},v=(a,s)=>{const{nodes:u=[]}=a,c=o(a,s),E=r(c,u.length),p=new Map;return u.forEach((e,i)=>{p.set((0,T.jD)(e),E[i])}),p},o=(a,s)=>{const{nodes:u=[],edges:c=[]}=a,E=Array(u.length).fill(null).map(()=>Array(u.length).fill(0));return c.forEach(({source:p,target:e})=>{const i=u.findIndex(l=>(0,T.jD)(l)===p),n=u.findIndex(l=>(0,T.jD)(l)===e);s?E[i][n]=1:(E[i][n]=1,E[n][i]=1)}),E},r=(a,s,u=100,c=1e-6)=>{let E=Array(s).fill(1),p=1/0;for(let e=0;e<u&&p>c;e++){const i=Array(s).fill(0);for(let l=0;l<s;l++)for(let M=0;M<s;M++)i[l]+=a[l][M]*E[M];const n=Math.sqrt(i.reduce((l,M)=>l+M*M,0));for(let l=0;l<s;l++)i[l]/=n;p=Math.sqrt(i.reduce((l,M,O)=>l+(M-E[O])*M,0)),E=i}return E}},98478:function(at,N,t){"use strict";t.d(N,{G:function(){return y},_:function(){return C}});var d=t(26218),T=t(29193);function y(m){const f={Added:new Map,Updated:new Map,Removed:new Map};return m.forEach(h=>{const{type:v,value:o}=h,r=(0,T.jD)(o);if(v==="NodeAdded"||v==="EdgeAdded"||v==="ComboAdded")f.Added.set(r,h);else if(v==="NodeUpdated"||v==="EdgeUpdated"||v==="ComboUpdated")if(f.Added.has(r))f.Added.set(r,{type:v.replace("Updated","Added"),value:o});else if(f.Updated.has(r)){const{original:a}=f.Updated.get(r);f.Updated.set(r,{type:v,value:o,original:a})}else f.Removed.has(r)||f.Updated.set(r,h);else(v==="NodeRemoved"||v==="EdgeRemoved"||v==="ComboRemoved")&&(f.Added.has(r)?f.Added.delete(r):(f.Updated.has(r)&&f.Updated.delete(r),f.Removed.set(r,h)))}),[...Array.from(f.Added.values()),...Array.from(f.Updated.values()),...Array.from(f.Removed.values())]}function C(m){const{NodeAdded:f=[],NodeUpdated:h=[],NodeRemoved:v=[],EdgeAdded:o=[],EdgeUpdated:r=[],EdgeRemoved:a=[],ComboAdded:s=[],ComboUpdated:u=[],ComboRemoved:c=[]}=(0,d.Z)(m,E=>E.type);return{add:{nodes:f,edges:o,combos:s},update:{nodes:h,edges:r,combos:u},remove:{nodes:v,edges:a,combos:c}}}},5343:function(at,N,t){"use strict";t.d(N,{z:function(){return d}});function d(T){var y;return!!(!((y=T.style)===null||y===void 0)&&y.collapsed)}},18023:function(at,N,t){"use strict";t.d(N,{Pv:function(){return m},fA:function(){return y},gU:function(){return T}});var d=function(f,h){var v={};for(var o in f)Object.prototype.hasOwnProperty.call(f,o)&&h.indexOf(o)<0&&(v[o]=f[o]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(f);r<o.length;r++)h.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(f,o[r])&&(v[o[r]]=f[o[r]]);return v};function T(f,h){const{data:v,style:o}=f,r=d(f,["data","style"]),{data:a,style:s}=h,u=d(h,["data","style"]),c=Object.assign(Object.assign({},r),u);return(v||a)&&Object.assign(c,{data:Object.assign(Object.assign({},v),a)}),(o||s)&&Object.assign(c,{style:Object.assign(Object.assign({},o),s)}),c}function y(f){const{data:h,style:v}=f,r=d(f,["data","style"]);return h&&(r.data=Object.assign({},h)),v&&(r.style=Object.assign({},v)),r}function C(f){return!get(f,["nodes","length"])&&!get(f,["edges","length"])&&!get(f,["combos","length"])}function m(f={},h={}){const{states:v=[],data:o={},style:r={},children:a=[]}=f,s=d(f,["states","data","style","children"]),{states:u=[],data:c={},style:E={},children:p=[]}=h,e=d(h,["states","data","style","children"]),i=(l,M)=>l.length!==M.length?!1:l.every((O,D)=>O===M[D]),n=(l,M)=>{const O=Object.keys(l),D=Object.keys(M);return O.length!==D.length?!1:O.every(P=>l[P]===M[P])};return!(!n(s,e)||!i(a,p)||!i(v,u)||!n(o,c)||!n(r,E))}},26898:function(at,N,t){"use strict";t.d(N,{t:function(){return T}});var d=t(99666);function T(y,C,m,f=d.Z){const h=new Map(y.map(E=>[m(E),E])),v=new Map(C.map(E=>[m(E),E])),o=new Set(h.keys()),r=new Set(v.keys()),a=[],s=[],u=[],c=[];return r.forEach(E=>{o.has(E)?f(h.get(E),v.get(E))?c.push(v.get(E)):s.push(v.get(E)):a.push(v.get(E))}),o.forEach(E=>{r.has(E)||u.push(h.get(E))}),{enter:a,exit:u,keep:c,update:s}}},24519:function(at,N,t){"use strict";t.d(N,{Q:function(){return C}});var d=t(26912);const T=m=>m?parseInt(m):0;function y(m){const f=getComputedStyle(m),h=m.clientWidth||T(f.width),v=m.clientHeight||T(f.height),o=T(f.paddingLeft)+T(f.paddingRight),r=T(f.paddingTop)+T(f.paddingBottom);return[h-o,v-r]}function C(m){if(!m)return[0,0];let f=640,h=480;const[v,o]=y(m);f=v||f,h=o||h;const r=1,a=1;return[Math.max((0,d.Z)(f)?f:r,r),Math.max((0,d.Z)(h)?h:a,a)]}},41632:function(at,N,t){"use strict";t.d(N,{$D:function(){return p},$t:function(){return x},AB:function(){return r},VC:function(){return c},WZ:function(){return P},YH:function(){return O},_u:function(){return L},aI:function(){return E},eu:function(){return i},kY:function(){return e},mA:function(){return a},wo:function(){return S},yU:function(){return u}});var d=t(99666),T=t(26912),y=t(52877),C=t(5343),m=t(23295),f=t(29193),h=t(59268),v=t(36614),o=t(26192);function r(K,U,j,F,W){let Y=typeof U=="number"?U:.5;U==="start"&&(Y=0),U==="end"&&(Y=.99);const V=(0,h.rx)(K.getPoint(Y)),$=(0,h.rx)(K.getPoint(Y+.01));let J=U==="start"?"left":U==="end"?"right":"center";if((0,h.wE)(V,$)||!j){const[ut,dt]=s(K,Y,F,W);return{transform:[["translate",ut,dt]],textAlign:J}}let rt=Math.atan2($[1]-V[1],$[0]-V[0]);$[0]<V[0]&&(J=J==="center"?J:J==="left"?"right":"left",F*=-1,rt+=Math.PI);const[tt,G]=s(K,Y,F,W,rt),nt=[["translate",tt,G],["rotate",rt/Math.PI*180]];return{textAlign:J,transform:nt}}function a(K,U,j,F,W){var w,z;const H=((w=K.badge)===null||w===void 0?void 0:w.getGeometryBounds().halfExtents[0])*2||0,Y=((z=K.label)===null||z===void 0?void 0:z.getGeometryBounds().halfExtents[0])*2||0;return r(K.key,j,!0,(Y?(Y/2+H/2)*(U==="suffix"?1:-1):0)+F,W)}function s(K,U,j,F,W){const[w,z]=(0,h.rx)(K.getPoint(U));let H=j,Y=F;return W&&(H=j*Math.cos(W)-F*Math.sin(W),Y=j*Math.sin(W)+F*Math.cos(W)),[w+H,z+Y]}function u(K,U,j,F){if((0,d.Z)(K,U))return K;const W=(0,o.$X)(U,K),w=[K[0]+j*W[0],K[1]+j*W[1]],z=(0,o.Fv)((0,o.xq)(W,!1));return w[0]+=F*z[0],w[1]+=F*z[1],w}function c(K){return(0,T.Z)(K)?[K,-K]:K}function E(K){return(0,T.Z)(K)?[K,1-K]:K}function p(K,U,j){return[["M",K[0],K[1]],["Q",j[0],j[1],U[0],U[1]]]}function e(K,U,j){return[["M",K[0],K[1]],["C",j[0][0],j[0][1],j[1][0],j[1][1],U[0],U[1]]]}function i(K,U=0,j=!1){const F=K.length-1,W=K[0],w=K[F],z=K.slice(1,F),H=[["M",W[0],W[1]]];return z.forEach((Y,V)=>{const $=z[V-1]||W,J=z[V+1]||w;if(!(0,h.cp)($,Y,J)&&U){const[rt,lt]=n($,Y,J,U);H.push(["L",rt[0],rt[1]],["Q",Y[0],Y[1],lt[0],lt[1]],["L",lt[0],lt[1]])}else H.push(["L",Y[0],Y[1]])}),H.push(["L",w[0],w[1]]),j&&H.push(["Z"]),H}function n(K,U,j,F){const W=(0,o.nk)(K,U),w=(0,o.nk)(j,U),z=Math.min(F,Math.min(W,w)/2),H=[U[0]-z/W*(U[0]-K[0]),U[1]-z/W*(U[1]-K[1])],Y=[U[0]-z/w*(U[0]-j[0]),U[1]-z/w*(U[1]-j[1])];return[H,Y]}const l=K=>{const U=Math.PI/2,j=(0,y.vs)(K)/2,F=(0,y.Ru)(K)/2,W=Math.atan2(j,F)/2,w=Math.atan2(F,j)/2;return{top:[-U-w,-U+w],"top-right":[-U+w,-W],"right-top":[-U+w,-W],right:[-W,W],"bottom-right":[W,U-w],"right-bottom":[W,U-w],bottom:[U-w,U+w],"bottom-left":[U+w,Math.PI-W],"left-bottom":[U+w,Math.PI-W],left:[Math.PI-W,Math.PI+W],"top-left":[Math.PI+W,-U-w],"left-top":[Math.PI+W,-U-w]}};function M(K,U,j,F,W){const w=(0,y.Js)(K),z=K.getCenter();let H=F&&(0,m.Z0)(F),Y=W&&(0,m.Z0)(W);if(!H||!Y){const V=l(w),$=V[U][0],J=V[U][1],[rt,lt]=(0,y.qt)(w),tt=Math.max(rt,lt),G=(0,o.IH)(z,[tt*Math.cos($),tt*Math.sin($),0]),nt=(0,o.IH)(z,[tt*Math.cos(J),tt*Math.sin(J),0]);H=(0,m._l)(K,G),Y=(0,m._l)(K,nt),j||([H,Y]=[Y,H])}return[H,Y]}function O(K,U,j,F,W,w){const z=K.getPorts()[W||w],H=K.getPorts()[w||W];let[Y,V]=M(K,U,j,z,H);const $=D(K,Y,V,F);return z&&(Y=(0,m.hk)(z,$[0])),H&&(V=(0,m.hk)(H,$.at(-1))),e(Y,V,$)}function D(K,U,j,F){const W=K.getCenter();if((0,d.Z)(U,j)){const w=(0,o.$X)(U,W),z=[F*Math.sign(w[0])||F/2,F*Math.sign(w[1])||-F/2,0];return[(0,o.IH)(U,z),(0,o.IH)(j,(0,o.Jp)(z,[1,-1,1]))]}return[(0,h.Ao)(W,U,(0,o.TE)(W,U)+F),(0,h.Ao)(W,j,(0,o.TE)(W,j)+F)]}function P(K,U,j,F,W,w,z){const H=(0,m.Vr)(K),Y=H[w||z],V=H[z||w];let[$,J]=M(K,j,F,Y,V);const rt=b(K,$,J,W);return Y&&($=(0,m.hk)(Y,rt[0])),V&&(J=(0,m.hk)(V,rt.at(-1))),i([$,...rt,J],U)}function b(K,U,j,F){const W=[],w=(0,y.Js)(K);if((0,d.Z)(U,j))switch((0,y.RO)(U,w)){case"left":W.push([U[0]-F,U[1]]),W.push([U[0]-F,U[1]+F]),W.push([U[0],U[1]+F]);break;case"right":W.push([U[0]+F,U[1]]),W.push([U[0]+F,U[1]+F]),W.push([U[0],U[1]+F]);break;case"top":W.push([U[0],U[1]-F]),W.push([U[0]+F,U[1]-F]),W.push([U[0]+F,U[1]]);break;case"bottom":W.push([U[0],U[1]+F]),W.push([U[0]+F,U[1]+F]),W.push([U[0]+F,U[1]]);break}else{const z=(0,y.RO)(U,w),H=(0,y.RO)(j,w);if(z===H){const Y=z;let V,$;switch(Y){case"left":V=Math.min(U[0],j[0])-F,W.push([V,U[1]]),W.push([V,j[1]]);break;case"right":V=Math.max(U[0],j[0])+F,W.push([V,U[1]]),W.push([V,j[1]]);break;case"top":$=Math.min(U[1],j[1])-F,W.push([U[0],$]),W.push([j[0],$]);break;case"bottom":$=Math.max(U[1],j[1])+F,W.push([U[0],$]),W.push([j[0],$]);break}}else{const Y=(rt,lt)=>({left:[lt[0]-F,lt[1]],right:[lt[0]+F,lt[1]],top:[lt[0],lt[1]-F],bottom:[lt[0],lt[1]+F]})[rt],V=Y(z,U),$=Y(H,j),J=(0,v.iS)(V,$,w);W.push(V,J,$)}}return W}function x(K,U){const j=new Set,F=new Set,W=new Set;return K.forEach(w=>{U(w).forEach(H=>{j.add(H),K.includes(H.source)&&K.includes(H.target)?F.add(H):W.add(H)})}),{edges:Array.from(j),internal:Array.from(F),external:Array.from(W)}}function L(K,U){const j=[];let F=K;for(;F;){j.push(F);const W=U((0,f.jD)(F));if(W)F=W;else break}if(j.some(W=>{var w;return(w=W.style)===null||w===void 0?void 0:w.collapsed})){const W=j.reverse().findIndex(C.z);return j[W]||j.at(-1)}return K}function S(K,U){return U||(K<4?10:K===4?12:K*2.5)}},23295:function(at,N,t){"use strict";t.d(N,{Jo:function(){return Y},KT:function(){return z},OQ:function(){return M},Ob:function(){return E},PH:function(){return n},Pe:function(){return j},UA:function(){return K},UC:function(){return W},UG:function(){return a},Uz:function(){return H},Vr:function(){return i},Xm:function(){return S},Ys:function(){return L},Z0:function(){return l},ZO:function(){return P},_l:function(){return x},_r:function(){return V},ch:function(){return e},hk:function(){return b},kK:function(){return c},lY:function(){return u},mw:function(){return U},pn:function(){return w},un:function(){return s},xE:function(){return $}});var d=t(27412),T=t(22040),y=t(26912),C=t(28767),m=t(2790),f=t(52877),h=t(76824),v=t(59268),o=t(49559),r=function(J,rt){var lt={};for(var tt in J)Object.prototype.hasOwnProperty.call(J,tt)&&rt.indexOf(tt)<0&&(lt[tt]=J[tt]);if(J!=null&&typeof Object.getOwnPropertySymbols=="function")for(var G=0,tt=Object.getOwnPropertySymbols(J);G<tt.length;G++)rt.indexOf(tt[G])<0&&Object.prototype.propertyIsEnumerable.call(J,tt[G])&&(lt[tt[G]]=J[tt[G]]);return lt};function a(J){return J instanceof m.Hd&&J.type==="node"}function s(J){return J instanceof m.u5}function u(J){return J instanceof m.Vy}function c(J){return a(J)||s(J)||u(J)}function E(J,rt){return!J||!rt?!1:J===rt}const p={top:[.5,0],right:[1,.5],bottom:[.5,1],left:[0,.5],"left-top":[0,0],"top-left":[0,0],"left-bottom":[0,1],"bottom-left":[0,1],"right-top":[1,0],"top-right":[1,0],"right-bottom":[1,1],"bottom-right":[1,1],default:[.5,.5]};function e(J,rt,lt=p,tt=!0){const G=[.5,.5],nt=(0,d.Z)(rt)?(0,T.Z)(lt,rt.toLocaleLowerCase(),G):rt;if(!tt&&(0,d.Z)(rt))return nt;const[ut,dt]=nt||G;return[J.min[0]+(0,f.Ru)(J)*ut,J.min[1]+(0,f.vs)(J)*dt]}function i(J){if(!J)return{};const rt=J.getPorts();return(J.attributes.ports||[]).forEach((tt,G)=>{var nt;const{key:ut,placement:dt}=tt;n(tt)&&(rt[nt=ut||G]||(rt[nt]=(0,o.V4)(J.getShape("key").getBounds(),dt)))}),rt}function n(J){const{r:rt}=J;return!rt||Number(rt)===0}function l(J){return(0,h.wp)(J)?J:J.getPosition()}function M(J,rt,lt,tt){const G=O(J,rt,lt,tt),nt=O(rt,J,tt,lt);return[G,nt]}function O(J,rt,lt,tt){const G=i(J);if(lt)return G[lt];const nt=Object.values(G);if(nt.length===0)return;const ut=nt.map(_t=>l(_t)),dt=D(rt,tt),[et]=(0,v.X_)(ut,dt);return nt.find(_t=>l(_t)===et)}function D(J,rt){const lt=i(J);if(rt)return[l(lt[rt])];const tt=Object.values(lt);return tt.length>0?tt.map(G=>l(G)):[J.getCenter()]}function P(J,rt){return u(J)||a(J)?x(J,rt):b(J,rt)}function b(J,rt){if(!J||!rt)return[0,0,0];if((0,h.wp)(J))return J;if(J.attributes.linkToCenter)return J.getPosition();const lt=(0,h.wp)(rt)?rt:a(rt)?rt.getCenter():rt.getPosition();return(0,v.te)(lt,J.getBounds())}function x(J,rt){if(!J||!rt)return[0,0,0];const lt=(0,h.wp)(rt)?rt:a(rt)?rt.getCenter():rt.getPosition();return J.getIntersectPoint(lt)||J.getCenter()}function L(J,rt="bottom",lt=0,tt=0,G=!1){const nt=rt.split("-"),[ut,dt]=(0,o.V4)(J,rt),[et,_t]=G?["bottom","top"]:["top","bottom"],mt=nt.includes("top")?_t:nt.includes("bottom")?et:"middle",ot=nt.includes("left")?"right":nt.includes("right")?"left":"center";return{transform:[["translate",ut+lt,dt+tt]],textBaseline:mt,textAlign:ot}}function S(J,rt){return[[0,-J],[rt*Math.cos(3*Math.PI/10),-rt*Math.sin(3*Math.PI/10)],[J*Math.cos(Math.PI/10),-J*Math.sin(Math.PI/10)],[rt*Math.cos(Math.PI/10),rt*Math.sin(Math.PI/10)],[J*Math.cos(3*Math.PI/10),J*Math.sin(3*Math.PI/10)],[0,rt],[-J*Math.cos(3*Math.PI/10),J*Math.sin(3*Math.PI/10)],[-rt*Math.cos(Math.PI/10),rt*Math.sin(Math.PI/10)],[-J*Math.cos(Math.PI/10),-J*Math.sin(Math.PI/10)],[-rt*Math.cos(3*Math.PI/10),-rt*Math.sin(3*Math.PI/10)]]}function K(J,rt){const lt={};return lt.top=[0,-J],lt.left=[-J*Math.cos(Math.PI/10),-J*Math.sin(Math.PI/10)],lt["left-bottom"]=[-J*Math.cos(3*Math.PI/10),J*Math.sin(3*Math.PI/10)],lt.bottom=[0,rt],lt["right-bottom"]=[J*Math.cos(3*Math.PI/10),J*Math.sin(3*Math.PI/10)],lt.right=lt.default=[J*Math.cos(Math.PI/10),-J*Math.sin(Math.PI/10)],lt}function U(J,rt,lt){const tt=rt/2,G=J/2,nt={up:[[-G,tt],[G,tt],[0,-tt]],left:[[-G,0],[G,tt],[G,-tt]],right:[[-G,tt],[-G,-tt],[G,0]],down:[[-G,-tt],[G,-tt],[0,tt]]};return nt[lt]||nt.up}function j(J,rt,lt){const tt=rt/2,G=J/2,nt={};return lt==="down"?(nt.bottom=nt.default=[0,tt],nt.right=[G,-tt],nt.left=[-G,-tt]):lt==="left"?(nt.top=[G,-tt],nt.bottom=[G,tt],nt.left=nt.default=[-G,0]):lt==="right"?(nt.top=[-G,-tt],nt.bottom=[-G,tt],nt.right=nt.default=[G,0]):(nt.left=[-G,tt],nt.top=nt.default=[0,-tt],nt.right=[G,tt]),nt}function F(J,rt){return[[J/2,-rt/2],[J/2,rt/2],[-J/2,rt/2],[-J/2,-rt/2]]}function W(J,rt){return[[0,-rt/2],[J/2,0],[0,rt/2],[-J/2,0]]}function w(J){return(0,T.Z)(J,["style","visibility"])!=="hidden"}function z(J,rt){const{zIndex:lt,transform:tt,transformOrigin:G,visibility:nt,cursor:ut,clipPath:dt,component:et}=rt,_t=r(rt,["zIndex","transform","transformOrigin","visibility","cursor","clipPath","component"]);Object.assign(J.attributes,_t),tt&&J.setAttribute("transform",tt),(0,y.Z)(lt)&&J.setAttribute("zIndex",lt),G&&J.setAttribute("transformOrigin",G),nt&&J.setAttribute("visibility",nt),ut&&J.setAttribute("cursor",ut),dt&&J.setAttribute("clipPath",dt),et&&J.setAttribute("component",et)}function H(J,rt){"update"in J?J.update(rt):J.attr(rt)}function Y(J){return[[0,J],[J*Math.sqrt(3)/2,J/2],[J*Math.sqrt(3)/2,-J/2],[0,-J],[-J*Math.sqrt(3)/2,-J/2],[-J*Math.sqrt(3)/2,J/2]]}function V(J){(0,C.Z)(J,"__to_be_destroyed__",!0)}function $(J){return(0,T.Z)(J,"__to_be_destroyed__",!1)}},47232:function(at,N,t){"use strict";t.d(N,{I9:function(){return T},Tm:function(){return y},_U:function(){return m},mT:function(){return C}});class d{constructor(h){this.type=h}}class T extends d{constructor(h,v){super(h),this.data=v}}class y extends d{constructor(h,v,o,r){super(h),this.animationType=v,this.animation=o,this.data=r}}class C extends d{constructor(h,v,o){super(h),this.elementType=v,this.data=o}}class m extends d{constructor(h,v){super(h),this.data=v}}},1306:function(at,N,t){"use strict";t.d(N,{I9:function(){return y.I9},Tm:function(){return y.Tm},Xy:function(){return m},_U:function(){return y._U},j8:function(){return C},mT:function(){return y.mT}});var d=t(81614),T=t(23295),y=t(47232);function C(f,h){f.emit(h.type,h)}function m(f){if(!f)return null;if(f instanceof d.BB)return{type:"canvas",element:f};let h=f;for(;h;){if((0,T.UG)(h))return{type:"node",element:h};if((0,T.un)(h))return{type:"edge",element:h};if((0,T.lY)(h))return{type:"combo",element:h};h=h.parentElement}return null}},63183:function(at,N,t){"use strict";t.d(N,{r:function(){return d}});function d(T,y,C){const m={},f=h=>(h in m||(m[h]=0),`${y}-${h}-${m[h]++}`);return C.map(h=>typeof h=="string"?{type:h,key:f(h)}:typeof h=="function"?h.call(T):h.key?h:Object.assign(Object.assign({},h),{key:f(h.type)}))}},22860:function(at,N,t){"use strict";t.d(N,{en:function(){return m},hJ:function(){return h},o:function(){return f}});var d=t(23098),T=t(29193),y=t(76824),C=function(v,o){var r={};for(var a in v)Object.prototype.hasOwnProperty.call(v,a)&&o.indexOf(a)<0&&(r[a]=v[a]);if(v!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(v);s<a.length;s++)o.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(v,a[s])&&(r[a[s]]=v[a[s]]);return r};function m(v){const{id:o=(0,T.jD)(v),style:r,data:a}=v,s=C(v,["id","style","data"]),u=Object.assign(Object.assign({},v),{style:Object.assign({},r),data:Object.assign({},a)});return(0,y.qF)(v)?Object.assign({id:o,data:u},s):{id:o,data:u}}function f(v){return v.data}function h(v){if(v.hasTreeStructure(d.pf))return;v.attachTreeStructure(d.pf);const o=v.getAllEdges();for(const r of o){const{source:a,target:s}=r;v.setParent(s,a,d.pf)}}},29193:function(at,N,t){"use strict";t.d(N,{Yt:function(){return y},jD:function(){return T},oI:function(){return C}});var d=t(90040);function T(m){if(m.id!==void 0)return m.id;if(m.source!==void 0&&m.target!==void 0)return`${m.source}-${m.target}`;throw new Error((0,d.W)("The datum does not have available id."))}function y(m){return m.combo}function C(m,f){const h={nodes:(m.nodes||[]).map(T),edges:(m.edges||[]).map(T),combos:(m.combos||[]).map(T)};return f?Object.values(h).flat():h}},76824:function(at,N,t){"use strict";t.d(N,{Oe:function(){return T},qF:function(){return d},wp:function(){return C}});function d(m){return"source"in m&&"target"in m}function T(m){return m.length===2}function y(m){return m.length===3}function C(m){return m instanceof Float32Array?!0:Array.isArray(m)&&(m.length===2||m.length===3)?m.every(f=>typeof f=="number"):!1}},70562:function(at,N,t){"use strict";t.d(N,{KQ:function(){return E},O9:function(){return r},Vj:function(){return c},gB:function(){return u},oW:function(){return s},yt:function(){return p}});var d=t(94075),T=t(48690),y=t(23098),C=t(27933),m=t(29193),f=t(59268),h=function(e,i,n,l){function M(O){return O instanceof n?O:new n(function(D){D(O)})}return new(n||(n=Promise))(function(O,D){function P(L){try{x(l.next(L))}catch(S){D(S)}}function b(L){try{x(l.throw(L))}catch(S){D(S)}}function x(L){L.done?O(L.value):M(L.value).then(P,b)}x((l=l.apply(e,i||[])).next())})},v=function(e,i){var n={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&i.indexOf(l)<0&&(n[l]=e[l]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var M=0,l=Object.getOwnPropertySymbols(e);M<l.length;M++)i.indexOf(l[M])<0&&Object.prototype.propertyIsEnumerable.call(e,l[M])&&(n[l[M]]=e[l[M]]);return n};function o(e){const{type:i}=e;return!!(["comboCombined","comboForce"].includes(i)||i==="antv-dagre"&&e.sortByCombo)}function r(e){const{type:i}=e;return["compact-box","mindmap","dendrogram","indented"].includes(i)}function a(e){return isNumber(e.x)&&isNumber(e.y)}function s(e){return!Array.isArray(e)&&(e==null?void 0:e.preLayout)}function u(e){const{nodes:i,edges:n}=e,l={nodes:[],edges:[],combos:[]};return i.forEach(M=>{const O=M.data._isCombo?l.combos:l.nodes,{x:D,y:P,z:b=0}=M.data;O==null||O.push({id:M.id,style:{x:D,y:P,z:b}})}),n.forEach(M=>{const{id:O,source:D,target:P,data:{points:b=[],controlPoints:x=b.slice(1,b.length-1)}}=M;l.edges.push({id:O,source:D,target:P,style:Object.assign({},x!=null&&x.length?{controlPoints:x.map(f.rx)}:{})})}),l}function c(e,i){class n extends C.I{constructor(M,O){if(super(M,O),this.instance=new e({}),this.id=this.instance.id,"stop"in this.instance&&"tick"in this.instance){const D=this.instance;this.stop=D.stop.bind(D),this.tick=P=>{const b=D.tick(P);return u(b)}}}execute(M,O){return h(this,void 0,void 0,function*(){return u(yield this.instance.execute(this.graphData2LayoutModel(M),this.transformOptions((0,T.Z)({},this.options,O))))})}transformOptions(M){if(!("onTick"in M))return M;const O=M.onTick;return M.onTick=D=>O(u(D)),M}graphData2LayoutModel(M){const{nodes:O=[],edges:D=[],combos:P=[]}=M,b=O.map(U=>{const j=(0,m.jD)(U),{data:F,style:W,combo:w}=U,z=v(U,["data","style","combo"]),H={id:j,data:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},F),{data:F}),w?{parentId:w}:{}),{style:W}),z)};return W!=null&&W.x&&Object.assign(H.data,{x:W.x}),W!=null&&W.y&&Object.assign(H.data,{y:W.y}),W!=null&&W.z&&Object.assign(H.data,{z:W.z}),H}),x=new Map(b.map(U=>[U.id,U])),L=D.filter(U=>{const{source:j,target:F}=U;return x.has(j)&&x.has(F)}).map(U=>{const{source:j,target:F,data:W,style:w}=U;return{id:(0,m.jD)(U),source:j,target:F,data:Object.assign({},W),style:Object.assign({},w)}}),S=P.map(U=>({id:(0,m.jD)(U),data:Object.assign({_isCombo:!0},U.data),style:Object.assign({},U.style)})),K=new d.k({nodes:[...b,...S],edges:L});return i.model.model.hasTreeStructure(y.dK)&&(K.attachTreeStructure(y.dK),b.forEach(U=>{const j=i.model.model.getParent(U.id,y.dK);j&&K.hasNode(j.id)&&K.setParent(U.id,j.id,y.dK)})),K}}return n}function E(e,i,...n){if(i in e)return e[i](...n);if("instance"in e){const l=e.instance;if(i in l)return l[i](...n)}return null}function p(e,i){if(i in e)return e[i];if("instance"in e){const n=e.instance;if(i in n)return n[i]}return null}},19324:function(at,N,t){"use strict";t.d(N,{D:function(){return C},T:function(){return y}});var d=t(89824),T=t(26192);function y(m,f){const[h,v]=m,[o,r]=f,a=(0,T.$X)(h,v),s=(0,T.$X)(o,r);return(0,T.kC)(a,s).every(u=>u===0)}function C(m,f,h=!1){if(y(m,f))return;const[v,o]=m,[r,a]=f,s=((v[0]-r[0])*(r[1]-a[1])-(v[1]-r[1])*(r[0]-a[0]))/((v[0]-o[0])*(r[1]-a[1])-(v[1]-o[1])*(r[0]-a[0])),u=a[0]-r[0]?(v[0]-r[0]+s*(o[0]-v[0]))/(a[0]-r[0]):(v[1]-r[1]+s*(o[1]-v[1]))/(a[1]-r[1]);if(!(!h&&(!(0,d.K)(s,0,1)||!(0,d.K)(u,0,1))))return[v[0]+s*(o[0]-v[0]),v[1]+s*(o[1]-v[1])]}},89824:function(at,N,t){"use strict";t.d(N,{K:function(){return d}});function d(T,y,C){return T>=y&&T<=C}},1123:function(at,N,t){"use strict";t.d(N,{I:function(){return T}});var d=t(33626);function T(y,C){const m=(0,d._)(y);let f={};return C.text&&!C.fontSize&&(f={fontSize:Math.min(...m)*.5}),C.src&&(!C.width||!C.height)&&(f={width:m[0]*.5,height:m[1]*.5}),f}},17439:function(at,N,t){"use strict";t.d(N,{aY:function(){return T},dj:function(){return d}});function d(C=0){if(Array.isArray(C)){const[m=0,f=m,h=m,v=f]=C;return[m,f,h,v]}return[C,C,C,C]}function T(C=0){const m=d(C);return m[0]+m[2]}function y(C=0){const m=d(C);return m[1]+m[3]}},32584:function(at,N,t){"use strict";t.d(N,{HM:function(){return m},Wl:function(){return f},s5:function(){return h}});var d=t(26218),T=t(15186),y=t(29193),C=t(90040);function m(v){if(v)return typeof v=="string"||typeof v=="function"||Array.isArray(v)?{type:"group",field:o=>o.id,color:v,invert:!1}:v}function f(v,o){if(!o)return{};const{type:r,color:a,field:s,invert:u}=o,c=p=>{const e=typeof a=="string"?(0,T.R)("palette",a):a;if(typeof e=="function"){const i={};return p.forEach(([n,l])=>{i[n]=e(u?1-l:l)}),i}else if(Array.isArray(e)){const i=u?[...e].reverse():e,n={};return p.forEach(([l,M])=>{n[l]=i[M%e.length]}),n}return{}},E=(p,e)=>{var i;return typeof p=="string"?(i=e.data)===null||i===void 0?void 0:i[p]:p==null?void 0:p(e)};if(r==="group"){const p=(0,d.Z)(v,l=>{if(!s)return"default";const M=E(s,l);return M?String(M):"default"}),e=Object.keys(p),i=c(e.map((l,M)=>[l,M])),n={};return Object.entries(p).forEach(([l,M])=>{M.forEach(O=>{n[(0,y.jD)(O)]=i[l]})}),n}else if(r==="value"){const[p,e]=v.reduce(([n,l],M)=>{const O=E(s,M);if(typeof O!="number")throw new Error((0,C.W)(`Palette field ${s} is not a number`));return[Math.min(n,O),Math.max(l,O)]},[1/0,-1/0]),i=e-p;return c(v.map(n=>[n.id,(E(s,n)-p)/i]))}}function h(v){const o=typeof v=="string"?(0,T.R)("palette",v):v;if(typeof o!="function")return o}},38865:function(at,N,t){"use strict";t.d(N,{BU:function(){return C},WG:function(){return d},Yu:function(){return m}});function d(f,h=!0){const v=[];return f.forEach((o,r)=>{v.push([r===0?"M":"L",...o])}),h&&v.push(["Z"]),v}const T={M:["x","y"],m:["dx","dy"],H:["x"],h:["dx"],V:["y"],v:["dy"],L:["x","y"],l:["dx","dy"],Z:[],z:[],C:["x1","y1","x2","y2","x","y"],c:["dx1","dy1","dx2","dy2","dx","dy"],S:["x2","y2","x","y"],s:["dx2","dy2","dx","dy"],Q:["x1","y1","x","y"],q:["dx1","dy1","dx","dy"],T:["x","y"],t:["dx","dy"],A:["rx","ry","rotation","large-arc","sweep","x","y"],a:["rx","ry","rotation","large-arc","sweep","dx","dy"]};function y(f){const h=f.replace(/[\n\r]/g,"").replace(/-/g," -").replace(/(\d*\.)(\d+)(?=\.)/g,"$1$2 ").trim().split(/\s*,|\s+/),v=[];let o="",r={};for(;h.length>0;){let a=h.shift();a in T?o=a:h.unshift(a),r={type:o},T[o].forEach(c=>{a=h.shift(),r[c]=a}),o==="M"?o="L":o==="m"&&(o="l");const[s,...u]=Object.values(r);v.push([s,...u.map(Number)])}return v}function C(f){const h=[];return(typeof f=="string"?y(f):f).forEach(o=>{const r=o[0];if(r==="Z"){h.push(h[0]);return}if(r!=="A")for(let a=1;a<o.length;a=a+2)h.push([o[a],o[a+1],0]);else{const a=o.length;h.push([o[a-2],o[a-1],0])}}),h}const m=f=>{if(f.length<2)return[["M",0,0],["L",0,0]];const h=f[0],v=f[1],o=f[f.length-1],r=f[f.length-2];f.unshift(r,o),f.push(h,v);const a=[["M",o[0],o[1]]];for(let s=1;s<f.length-2;s+=1){const[u,c]=f[s-1],[E,p]=f[s],[e,i]=f[s+1],[n,l]=s!==f.length-2?f[s+2]:[e,i],M=E+(e-u)/6,O=p+(i-c)/6,D=e-(n-E)/6,P=i-(l-p)/6;a.push(["C",M,O,D,P,e,i])}return a}},93187:function(at,N,t){"use strict";t.d(N,{P:function(){return T}});var d=t(23098);class T{constructor(C,m,f){if(this.phase=m,this.pointerByTouch=[],this.initialDistance=null,this.emitter=C,T.instance)return T.callbacks[this.phase].push(f),T.instance;this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.bindEvents(),T.instance=this,T.callbacks[this.phase].push(f)}bindEvents(){const{emitter:C}=this;C.on(d.C9.POINTER_DOWN,this.onPointerDown),C.on(d.C9.POINTER_MOVE,this.onPointerMove),C.on(d.C9.POINTER_UP,this.onPointerUp)}updatePointerPosition(C,m,f){const h=this.pointerByTouch.findIndex(v=>v.pointerId===C);h>=0&&(this.pointerByTouch[h]={x:m,y:f,pointerId:C})}onPointerDown(C){const{x:m,y:f}=C.client||{};if(!(m===void 0||f===void 0)&&(this.pointerByTouch.push({x:m,y:f,pointerId:C.pointerId}),C.pointerType==="touch"&&this.pointerByTouch.length===2)){T.isPinching=!0;const h=this.pointerByTouch[0].x-this.pointerByTouch[1].x,v=this.pointerByTouch[0].y-this.pointerByTouch[1].y;this.initialDistance=Math.sqrt(h*h+v*v),T.callbacks.pinchstart.forEach(o=>o(C,{scale:0}))}}onPointerMove(C){if(this.pointerByTouch.length!==2||this.initialDistance===null)return;const{x:m,y:f}=C.client||{};if(m===void 0||f===void 0)return;this.updatePointerPosition(C.pointerId,m,f);const h=this.pointerByTouch[0].x-this.pointerByTouch[1].x,v=this.pointerByTouch[0].y-this.pointerByTouch[1].y,r=Math.sqrt(h*h+v*v)/this.initialDistance;T.callbacks.pinchmove.forEach(a=>a(C,{scale:(r-1)*5}))}onPointerUp(C){var m;T.callbacks.pinchend.forEach(f=>f(C,{scale:0})),T.isPinching=!1,this.initialDistance=null,this.pointerByTouch=[],(m=T.instance)===null||m===void 0||m.tryDestroy()}destroy(){this.emitter.off(d.C9.POINTER_DOWN,this.onPointerDown),this.emitter.off(d.C9.POINTER_MOVE,this.onPointerMove),this.emitter.off(d.C9.POINTER_UP,this.onPointerUp),T.instance=null}off(C,m){const f=T.callbacks[C].indexOf(m);f>-1&&T.callbacks[C].splice(f,1),this.tryDestroy()}tryDestroy(){Object.values(T.callbacks).every(C=>C.length===0)&&this.destroy()}}T.isPinching=!1,T.instance=null,T.callbacks={pinchstart:[],pinchmove:[],pinchend:[]}},73543:function(at,N,t){"use strict";t.d(N,{X:function(){return T}});var d=t(89824);function T(y){if(Array.isArray(y))return(0,d.K)(y[0],0,1)&&(0,d.K)(y[1],0,1)?y:[.5,.5];const C=y.split("-"),m=C.includes("left")?0:C.includes("right")?1:.5,f=C.includes("top")?0:C.includes("bottom")?1:.5;return[m,f]}},59268:function(at,N,t){"use strict";t.d(N,{AC:function(){return e},Ao:function(){return a},IL:function(){return c},JV:function(){return x},NM:function(){return r},Nh:function(){return P},Ri:function(){return n},X_:function(){return M},Zv:function(){return h},c9:function(){return i},cp:function(){return E},k3:function(){return L},n0:function(){return O},rx:function(){return f},te:function(){return l},wE:function(){return s}});var d=t(99666),T=t(52877),y=t(19324),C=t(49559),m=t(26192);function f(S){var K;return[S.x,S.y,(K=S.z)!==null&&K!==void 0?K:0]}function h(S){var K;return{x:S[0],y:S[1],z:(K=S[2])!==null&&K!==void 0?K:0}}function v(S){return S.sort((K,U)=>K[0]-U[0]||K[1]-U[1])}function o(S){const K=new Set;return S.filter(U=>{const j=U.join(",");return K.has(j)?!1:(K.add(j),!0)})}function r(S,K=0){return S.map(U=>parseFloat(U.toFixed(K)))}function a(S,K,U,j=!1){if((0,d.Z)(S,K))return S;const F=j?(0,m.$X)(S,K):(0,m.$X)(K,S),W=(0,m.Fv)(F),w=[W[0]*U,W[1]*U];return(0,m.IH)((0,m.e_)(S),w)}function s(S,K){return S[1]===K[1]}function u(S,K){return S[0]===K[0]}function c(S,K){return s(S,K)||u(S,K)}function E(S,K,U){return(0,y.T)([S,K],[K,U])}function p(S,K){return[2*K[0]-S[0],2*K[1]-S[1]]}function e(S,K,U,j=!0,F=!1){for(let W=0;W<U.length;W++){let w=U[W],z=U[(W+1)%U.length];j&&(w=(0,m.IH)(K,w),z=(0,m.IH)(K,z));const H=F?p(S,K):S,Y=(0,y.D)([K,H],[w,z]);if(Y)return{point:Y,line:[w,z]}}return{point:K,line:void 0}}function i(S,K,U,j){const F=S[0],W=S[1];let w=!1;U===void 0&&(U=0),j===void 0&&(j=K.length);const z=j-U;for(let H=0,Y=z-1;H<z;Y=H++){const V=K[H+U][0],$=K[H+U][1],J=K[Y+U][0],rt=K[Y+U][1];$>W!=rt>W&&F<(J-V)*(W-$)/(rt-$)+V&&(w=!w)}return w}function n(S,K,U=!1){const j=(0,C.V4)(K,"center"),F=[(0,C.V4)(K,"left-top"),(0,C.V4)(K,"right-top"),(0,C.V4)(K,"right-bottom"),(0,C.V4)(K,"left-bottom")];return e(S,j,F,!1,U).point}function l(S,K,U=!1){const j=K.center,F=U?p(S,j):S,W=(0,m.$X)(F,K.center),w=Math.atan2(W[1],W[0]);if(isNaN(w))return j;const z=(0,T.Ru)(K)/2,H=(0,T.vs)(K)/2,Y=j[0]+z*Math.cos(w),V=j[1]+H*Math.sin(w);return[Y,V]}function M(S,K){let U=1/0,j=[S[0],K[0]];return S.forEach(F=>{K.forEach(W=>{const w=(0,m.TE)(F,W);w<U&&(U=w,j=[F,W])})}),j}function O(S,K){let U=1/0,j=[[0,0],[0,0]];return K.forEach(F=>{const W=D(S,F);W<U&&(U=W,j=F)}),j}function D(S,K){const U=P(S,K);return(0,m.TE)(S,U)}function P(S,K){const[U,j]=K[0],[F,W]=K[1],[w,z]=S,H=F-U,Y=W-j;if(H===0&&Y===0)return[U,j];let V=((w-U)*H+(z-j)*Y)/(H*H+Y*Y);V>1?V=1:V<0&&(V=0);const $=U+V*H,J=j+V*Y;return[$,J]}function b(S){const K=S.reduce((U,j)=>(0,m.IH)(U,j),[0,0]);return(0,m.cs)(K,S.length)}function x(S,K=!0){const U=b(S);return S.sort(([j,F],[W,w])=>{const z=Math.atan2(F-U[1],j-U[0]),H=Math.atan2(w-U[1],W-U[0]);return K?H-z:z-H})}function L(S,K){return[S,[S[0],K[1]],K,[K[0],S[1]]]}},81177:function(at,N,t){"use strict";t.d(N,{j:function(){return m}});var d=t(99666),T=t(38865),y=t(59268),C=t(49559);function m(f,h,v,o,r,a,s){const[u,c]=(0,C.V4)(f,h),E={textAlign:h==="left"?"right":h==="right"?"left":"center",textBaseline:h==="top"?"bottom":h==="bottom"?"top":"middle",transform:[["translate",u+v,c+o]]};if(h==="center"||!r)return E;const p=(0,T.BU)(a);if(!p||p.length<=3)return E;const e=p.map((l,M)=>{const O=l,D=p[(M+1)%p.length];return(0,d.Z)(O,D)?null:[O,D]}).filter(Boolean),i=(0,y.n0)([u,c],e),n=(0,y.Nh)([u,c],i);if(n&&i&&(E.transform=[["translate",n[0]+v,n[1]+o]],s)){const l=Math.atan((i[0][1]-i[1][1])/(i[0][0]-i[1][0]));E.transform.push(["rotate",l/Math.PI*180]),E.textAlign="center",(h==="right"||h==="left")&&(l>0?E.textBaseline=h==="right"?"bottom":"top":E.textBaseline=h==="right"?"top":"bottom")}return E}},49559:function(at,N,t){"use strict";t.d(N,{TA:function(){return T},V4:function(){return m},kN:function(){return y}});var d=t(73543);function T(v){const{x:o=0,y:r=0,z:a=0}=v.style||{};return[+o,+r,+a]}function y(v){const{x:o,y:r,z:a}=v.style||{};return o!==void 0||r!==void 0||a!==void 0}function C(v,o){const[r,a]=o,{min:s,max:u}=v;return[s[0]+r*(u[0]-s[0]),s[1]+a*(u[1]-s[1])]}function m(v,o="center"){const r=(0,d.X)(o);return C(v,r)}function f(v,o){const r=parseAnchor(o);return C(v,r)}const h=v=>{const[o,r]=v;return{left:Math.min(o[0],r[0]),right:Math.max(o[0],r[0]),top:Math.min(o[1],r[1]),bottom:Math.max(o[1],r[1])}}},28660:function(at,N,t){"use strict";t.d(N,{Ny:function(){return y},Yf:function(){return v},hB:function(){return h},zs:function(){return f}});var d=t(18599),T=t(2159);function y(r,a){if(!r.startsWith(a))return!1;const s=r[a.length];return s>="A"&&s<="Z"}function C(r,a){return`${a}${(0,d.Z)(r)}`}function m(r,a,s=!0){if(!a||!y(r,a))return r;const u=r.slice(a.length);return s?(0,T.Z)(u):u}function f(r,a){const s=Object.entries(r).reduce((u,[c,E])=>(c==="className"||c==="class"||y(c,a)&&Object.assign(u,{[m(c,a)]:E}),u),{});if("opacity"in r){const u=C("opacity",a),c=r.opacity;if(u in r){const E=r[u];Object.assign(s,{opacity:c*E})}else Object.assign(s,{opacity:c})}return s}function h(r,a){const s=a.length;return Object.keys(r).reduce((u,c)=>{if(c.startsWith(a)){const E=c.slice(s);u[E]=r[c]}return u},{})}function v(r,a){const s=typeof a=="string"?[a]:a,u={};return Object.keys(r).forEach(c=>{s.find(E=>c.startsWith(E))||(u[c]=r[c])}),u}function o(r,a,s){return Object.entries(r).reduce((u,[c,E])=>(y(c,a)?u[C(m(c,a,!1),s)]=E:u[c]=E,u),{})}},90040:function(at,N,t){"use strict";t.d(N,{S:function(){return C},W:function(){return y}});var d=t(1247);const T="G6";function y(m){return`[${T} v${d.i}] ${m}`}const C={mute:!1,debug:m=>{!C.mute&&console.debug(y(m))},info:m=>{!C.mute&&console.info(y(m))},warn:m=>{!C.mute&&console.warn(y(m))},error:m=>{!C.mute&&console.error(y(m))}}},78822:function(at,N,t){"use strict";t.d(N,{g:function(){return y}});var d=t(29193),T=t(88824);function y(m,f,h,v,o="both"){if(f==="combo"||f==="node")return C(m,h,v,o);const r=m.getEdgeData(h);if(!r)return[];const a=C(m,r.source,v-1,o),s=C(m,r.target,v-1,o);return Array.from(new Set([...a,...s,h]))}function C(m,f,h,v="both"){const o=new Set,r=new Set,a=new Set;return(0,T.B)(f,(s,u)=>{u>h||(a.add(s),m.getRelatedEdgesData(s,v).forEach(c=>{const E=(0,d.jD)(c);!r.has(E)&&u<h&&(a.add(E),r.add(E))}))},s=>m.getRelatedEdgesData(s,v).map(u=>u.source===s?u.target:u.source).filter(u=>o.has(u)?!1:(o.add(u),!0))),Array.from(a)}},36614:function(at,N,t){"use strict";t.d(N,{iS:function(){return e},r4:function(){return h}});var d=t(15615),T=t(99666),y=t(52877),C=t(59268),m=t(26192);const f={padding:10};function h(i,n,l,M,O,D){const{padding:P}=Object.assign(f,D),b=(0,y.Js)(l,P),x=(0,y.Js)(M,P),L=[i,...O,n];let S=null;const K=[];for(let U=0,j=L.length;U<j-1;U++){const F=U+1,W=L[U],w=L[F],z=(0,C.IL)(W,w);let H=null;if(U===0)if(F===j-1)if(b.intersects(x))H=p(W,w,b,x);else if(!(0,y.q8)(W,b)&&!(0,y.q8)(w,x)){const Y=(0,y.S4)(W,b),V=(0,y.S4)(w,x);H=s(Y,V,r(Y,V)),H.points.unshift(Y),H.points.push(V)}else z||(H=E(W,w,b,x));else(0,y.W6)(w,b)?H=p(W,w,b,(0,y.Js)(w,P),S):z||(H=u(W,w,b));else F===j-1?(0,y.W6)(W,x)?H=p(W,w,(0,y.Js)(W,P),x,S):z||(H=c(W,w,x,S)):z||(H=s(W,w,S));H?(K.push(...H.points),S=H.direction):S=r(W,w),F<j-1&&K.push(w)}return K.map(m.e_)}const v={N:"S",S:"N",W:"E",E:"W"},o={N:-Math.PI/2,S:Math.PI/2,E:0,W:Math.PI};function r(i,n){const[l,M]=i,[O,D]=n;return l===O?M>D?"N":"S":M===D?l>O?"W":"E":null}function a(i,n){return n==="N"||n==="S"?(0,y.vs)(i):(0,y.Ru)(i)}function s(i,n,l){const M=[i[0],n[1]],O=[n[0],i[1]],D=r(i,M),P=r(i,O),b=l?v[l]:null,x=D===l||D!==b&&P!==l?M:O;return{points:[x],direction:r(x,n)}}function u(i,n,l){if((0,y.q8)(i,l)){const M=e(i,n,l);return{points:[M],direction:r(M,n)}}else{const M=(0,y.S4)(i,l),D=["left","right"].includes((0,y.RO)(i,l))?[n[0],M[1]]:[M[0],n[1]];return{points:[D],direction:r(D,n)}}}function c(i,n,l,M){const O=(0,y.q8)(n,l)?n:(0,y.S4)(n,l),D=[[O[0],i[1]],[i[0],O[1]]],P=D.filter(x=>(0,y.g8)(x,l)&&!(0,y.o4)(x,l,!0)),b=P.filter(x=>r(x,i)!==M);if(b.length>0){const x=b.find(L=>r(i,L)===M)||b[0];return{points:[x],direction:r(x,n)}}else{const x=(0,d.Z)(D,P)[0],L=(0,C.Ao)(n,x,a(l,M)/2);return{points:[e(L,i,l),L],direction:r(L,n)}}}function E(i,n,l,M){let O=u(i,n,l);const D=(0,m.Uy)(O.points[0]);if((0,y.W6)(D,M)){O=u(n,i,M);const P=(0,m.Uy)(O.points[0]);if((0,y.W6)(P,l)){const b=(0,C.Ao)(i,D,a(l,r(i,D))/2),x=(0,C.Ao)(n,P,a(M,r(n,P))/2),L=[(b[0]+x[0])/2,(b[1]+x[1])/2],S=u(i,L,l),K=c(L,n,M,S.direction);O.points=[S.points[0],K.points[0]],O.direction=K.direction}}return O}function p(i,n,l,M,O){const P=(0,y.SV)([l,M]),b=(0,m.TE)(n,P.center)>(0,m.TE)(i,P.center),[x,L]=b?[n,i]:[i,n],S=(0,y.vs)(P)+(0,y.Ru)(P);let K;if(O){const F=[x[0]+S*Math.cos(o[O]),x[1]+S*Math.sin(o[O])];K=(0,C.Ao)((0,y.S4)(F,P),F,.01)}else K=(0,C.Ao)((0,y.S4)(x,P),x,-.01);let U=e(K,L,P),j=[(0,C.NM)(K,2),(0,C.NM)(U,2)];if((0,T.Z)((0,C.NM)(K),(0,C.NM)(U))){const F=(0,m.EU)((0,m.$X)(K,x),[1,0,0])+Math.PI/2;U=[L[0]+S*Math.cos(F),L[1]+S*Math.sin(F),0],U=(0,C.NM)((0,C.Ao)((0,y.S4)(U,P),L,-.01),2);const W=e(K,U,P);j=[K,W,U]}return{points:b?j.reverse():j,direction:r(b?K:U,n)}}function e(i,n,l){let M=[i[0],n[1]];return(0,y.W6)(M,l)&&(M=[n[0],i[1]]),M}},18679:function(at,N,t){"use strict";t.d(N,{f5:function(){return p}});var d=t(26912),T=t(52877),y=t(19324),C=t(26192);const m={enableObstacleAvoidance:!1,offset:10,maxAllowedDirectionChange:Math.PI/2,maximumLoops:3e3,gridSize:5,startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{right:{stepX:1,stepY:0},left:{stepX:-1,stepY:0},bottom:{stepX:0,stepY:1},top:{stepX:0,stepY:-1}},penalties:{0:0,90:0},distFunc:C.nk},f=i=>`${Math.round(i[0])}|||${Math.round(i[1])}`;function h(i,n){const l=M=>Math.round(M/n);return(0,d.Z)(i)?l(i):i.map(l)}function v(i,n){const l=Math.abs(i-n);return l>Math.PI?2*Math.PI-l:l}function o(i,n){const l=n[0]-i[0],M=n[1]-i[1];return!l&&!M?0:Math.atan2(M,l)}function r(i,n,l,M){const O=o(i,n),D=l[f(i)],b=o(D||M,i);return v(b,O)}const a=(i,n)=>{const{offset:l,gridSize:M}=n,O={};return i.forEach(D=>{if(!D||D.destroyed||!D.isVisible())return;const P=(0,T.cL)(D.getRenderBounds(),l);for(let b=h(P.min[0],M);b<=h(P.max[0],M);b+=1)for(let x=h(P.min[1],M);x<=h(P.max[1],M);x+=1)O[`${b}|||${x}`]=!0}),O};function s(i,n,l){return Math.min(...n.map(M=>l(i,M)))}function u(i,n,l){let M=i[0],O=l(i[0],n);for(let D=0;D<i.length;D++){const P=i[D],b=l(P,n);b<O&&(M=P,O=b)}return M}const c=(i,n,l,M)=>{if(!n)return[i];const{directionMap:O,offset:D}=M,P=(0,T.cL)(n.getRenderBounds(),D),b=Object.keys(O).reduce((x,L)=>{if(l.includes(L)){const S=O[L],[K,U]=(0,T.qt)(P),j=[i[0]+S.stepX*K,i[1]+S.stepY*U],F=(0,T.Y4)(P);for(let W=0;W<F.length;W++){const w=(0,y.D)([i,j],F[W]);w&&(0,T.o4)(w,P)&&x.push(w)}}return x},[]);return(0,T.W6)(i,P)||b.push(i),b.map(x=>h(x,M.gridSize))},E=(i,n,l,M,O,D,P)=>{const b=[];let x=[D[0]===M[0]?M[0]:i[0]*P,D[1]===M[1]?M[1]:i[1]*P];b.unshift(x);let L=i,S=n[f(L)];for(;S;){const j=S,F=L;r(j,F,n,l)&&(x=[j[0]===F[0]?x[0]:j[0]*P,j[1]===F[1]?x[1]:j[1]*P],b.unshift(x)),S=n[f(j)],L=j}const K=O.map(j=>[j[0]*P,j[1]*P]),U=u(K,x,C.nk);return b.unshift(U),b};function p(i,n,l,M){const O=(0,C.e_)(i.getCenter()),D=(0,C.e_)(n.getCenter()),P=Object.assign(m,M),{gridSize:b}=P,x=P.enableObstacleAvoidance?l:[i,n],L=a(x,P),S=h(O,b),K=h(D,b),U=c(O,i,P.startDirections,P),j=c(D,n,P.endDirections,P);U.forEach(lt=>delete L[f(lt)]),j.forEach(lt=>delete L[f(lt)]);const F={},W={},w={},z={},H={},Y=new e;for(let lt=0;lt<U.length;lt++){const tt=U[lt],G=f(tt);F[G]=tt,z[G]=0,H[G]=s(tt,j,P.distFunc),Y.add({id:G,value:H[G]})}const V=j.map(lt=>f(lt));let $=P.maximumLoops,J,rt=1/0;for(const[lt,tt]of Object.entries(F))H[lt]<=rt&&(rt=H[lt],J=tt);for(;Object.keys(F).length>0&&$>0;){const lt=Y.minId(!1);if(lt)J=F[lt];else break;const tt=f(J);if(V.includes(tt))return E(J,w,S,D,U,K,b);delete F[tt],Y.remove(tt),W[tt]=!0;for(const G of Object.values(P.directionMap)){const nt=(0,C.IH)(J,[G.stepX,G.stepY]),ut=f(nt);if(W[ut])continue;const dt=r(J,nt,w,S);if(dt>P.maxAllowedDirectionChange||L[ut])continue;F[ut]||(F[ut]=nt);const et=P.penalties[dt],_t=P.distFunc(J,nt)+(isNaN(et)?b:et),mt=z[tt]+_t,ot=z[ut];ot&&mt>=ot||(w[ut]=J,z[ut]=mt,H[ut]=mt+s(nt,j,P.distFunc),Y.add({id:ut,value:H[ut]}))}$-=1}return[]}class e{constructor(){this.arr=[],this.map={},this.arr=[],this.map={}}_innerAdd(n,l){let M=0,O=l-1;for(;O-M>1;){const D=Math.floor((M+O)/2);if(this.arr[D].value>n.value)O=D;else if(this.arr[D].value<n.value)M=D;else{this.arr.splice(D,0,n),this.map[n.id]=!0;return}}this.arr.splice(O,0,n),this.map[n.id]=!0}add(n){delete this.map[n.id];const l=this.arr.length;if(!l||this.arr[l-1].value<n.value){this.arr.push(n),this.map[n.id]=!0;return}this._innerAdd(n,l)}remove(n){this.map[n]&&delete this.map[n]}_clearAndGetMinId(){let n;for(let l=this.arr.length-1;l>=0;l--)this.map[this.arr[l].id]?n=this.arr[l].id:this.arr.splice(l,1);return n}_findFirstId(){for(;this.arr.length;){const n=this.arr.shift();if(this.map[n.id])return n.id}}minId(n){return n?this._clearAndGetMinId():this._findFirstId()}}},11271:function(at,N,t){"use strict";t.d(N,{GE:function(){return d},_b:function(){return C},cM:function(){return T},sQ:function(){return y}});const d=(m,f,h)=>{const[v,o]=f,[r,a]=h;if(o===v)return r;const s=(m-v)/(o-v);return r+s*(a-r)},T=(m,f,h)=>{const[v,o]=f,[r,a]=h,s=Math.log(m-v+1)/Math.log(o-v+1);return r+s*(a-r)},y=(m,f,h,v=2)=>{const[o,r]=f,[a,s]=h,u=Math.pow((m-o)/(r-o),v);return a+u*(s-a)},C=(m,f,h)=>{const[v,o]=f,[r,a]=h,s=Math.sqrt((m-v)/(o-v));return r+s*(a-r)}},39310:function(at,N,t){"use strict";t.d(N,{W:function(){return d},d:function(){return T}});function d(y){const C=[],m=f=>{f!=null&&f.children.length&&f.children.forEach(h=>{C.push(h),m(h)})};return m(y),C}function T(y){const C=[];let m=y.parentNode;for(;m;)C.push(m),m=m.parentNode;return C}},80860:function(at,N,t){"use strict";t.d(N,{z:function(){return f}});var d=t(27412),T=t(99666),y=t(23098),C=t(93187);const m=h=>h.map(v=>(0,d.Z)(v)?v.toLocaleLowerCase():v);class f{constructor(v){this.map=new Map,this.boundHandlePinch=()=>{},this.recordKey=new Set,this.onKeyDown=o=>{o!=null&&o.key&&(this.recordKey.add(o.key),this.trigger(o))},this.onKeyUp=o=>{o!=null&&o.key&&this.recordKey.delete(o.key)},this.onWheel=o=>{this.triggerExtendKey(y.C9.WHEEL,o)},this.onDrag=o=>{this.triggerExtendKey(y.C9.DRAG,o)},this.handlePinch=(o,r)=>{this.triggerExtendKey(y.C9.PINCH,Object.assign(Object.assign({},o),r))},this.onFocus=()=>{this.recordKey.clear()},this.emitter=v,this.bindEvents()}bind(v,o){v.length!==0&&(v.includes(y.C9.PINCH)&&!this.pinchHandler&&(this.boundHandlePinch=this.handlePinch.bind(this),this.pinchHandler=new C.P(this.emitter,"pinchmove",this.boundHandlePinch)),this.map.set(v,o))}unbind(v,o){this.map.forEach((r,a)=>{(0,T.Z)(a,v)&&(!o||o===r)&&this.map.delete(a)})}unbindAll(){this.map.clear()}match(v){const o=m(Array.from(this.recordKey)).sort(),r=m(v).sort();return(0,T.Z)(o,r)}bindEvents(){var v;const{emitter:o}=this;o.on(y.C9.KEY_DOWN,this.onKeyDown),o.on(y.C9.KEY_UP,this.onKeyUp),o.on(y.C9.WHEEL,this.onWheel),o.on(y.C9.DRAG,this.onDrag),(v=globalThis.addEventListener)===null||v===void 0||v.call(globalThis,"focus",this.onFocus)}trigger(v){this.map.forEach((o,r)=>{this.match(r)&&o(v)})}triggerExtendKey(v,o){this.map.forEach((r,a)=>{a.includes(v)&&(0,T.Z)(Array.from(this.recordKey),a.filter(s=>s!==v))&&r(o)})}destroy(){var v,o;this.unbindAll(),this.emitter.off(y.C9.KEY_DOWN,this.onKeyDown),this.emitter.off(y.C9.KEY_UP,this.onKeyUp),this.emitter.off(y.C9.WHEEL,this.onWheel),this.emitter.off(y.C9.DRAG,this.onDrag),(v=this.pinchHandler)===null||v===void 0||v.off("pinchmove",this.boundHandlePinch),(o=globalThis.removeEventListener)===null||o===void 0||o.call(globalThis,"blur",this.onFocus)}}},33626:function(at,N,t){"use strict";t.d(N,{_:function(){return d}});function d(T=0){if(typeof T=="number")return[T,T,T];const[y,C=y,m=y]=T;return[y,C,m]}},38499:function(at,N,t){"use strict";t.d(N,{x:function(){return d}});function d(T){return T.states||[]}},95272:function(at,N,t){"use strict";t.d(N,{$q:function(){return T},Df:function(){return C},JH:function(){return y}});var d=function(m,f){var h={};for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&f.indexOf(v)<0&&(h[v]=m[v]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,v=Object.getOwnPropertySymbols(m);o<v.length;o++)f.indexOf(v[o])<0&&Object.prototype.propertyIsEnumerable.call(m,v[o])&&(h[v[o]]=m[v[o]]);return h};function T(m,f){const{datum:h,graph:v}=f;return typeof m=="function"?m.call(v,h):Object.fromEntries(Object.entries(m).map(([o,r])=>typeof r=="function"?[o,r.call(v,h)]:[o,r]))}function y(m,f){const h=(m==null?void 0:m.style)||{},v=(f==null?void 0:f.style)||{};for(const o in h)o in v||(v[o]=h[o]);return Object.assign({},m,f,{style:v})}function C(m){const{x:f,y:h,z:v,class:o,className:r,transform:a,transformOrigin:s,zIndex:u,visibility:c}=m;return d(m,["x","y","z","class","className","transform","transformOrigin","zIndex","visibility"])}},62879:function(at,N,t){"use strict";t.r(N),t.d(N,{circle:function(){return d},diamond:function(){return y},rect:function(){return m},simple:function(){return h},triangle:function(){return T},triangleRect:function(){return f},vee:function(){return C}});const d=(v,o)=>{const r=Math.max(v,o)/2;return[["M",-v/2,0],["A",r,r,0,1,0,2*r-v/2,0],["A",r,r,0,1,0,-v/2,0],["Z"]]},T=(v,o)=>[["M",-v/2,0],["L",v/2,-o/2],["L",v/2,o/2],["Z"]],y=(v,o)=>[["M",-v/2,0],["L",0,-o/2],["L",v/2,0],["L",0,o/2],["Z"]],C=(v,o)=>[["M",-v/2,0],["L",v/2,-o/2],["L",4*v/5-v/2,0],["L",v/2,o/2],["Z"]],m=(v,o)=>[["M",-v/2,-o/2],["L",v/2,-o/2],["L",v/2,o/2],["L",-v/2,o/2],["Z"]],f=(v,o)=>{const r=v/2,a=v/7,s=v-a;return[["M",-r,0],["L",0,-o/2],["L",0,o/2],["Z"],["M",s-r,-o/2],["L",s+a-r,-o/2],["L",s+a-r,o/2],["L",s-r,o/2],["Z"]]},h=(v,o)=>[["M",v/2,-o/2],["L",-v/2,0],["L",v/2,0],["L",-v/2,0],["L",v/2,o/2]]},52449:function(at,N,t){"use strict";t.d(N,{AC:function(){return C},Wp:function(){return y}});var d=t(26192);function T(m,f){let h=2*m;return typeof f=="string"?h=m*Number(f.replace("%",""))/100:typeof f=="number"&&(h=f),isNaN(h)&&(h=2*m),h}function y(m,f,h=1,v=!1){const o=v?h:1,r=(m.max[0]-m.min[0])*o;return T(r,f)}function C(m,f,h=1){const v=(0,d.TE)(m[0],m[1])*h;return T(v,f)}},2348:function(at,N,t){"use strict";t.d(N,{c:function(){return C}});var d=t(23098),T=t(15186),y=t(90040);function C(m){const{theme:f}=m;if(!f)return{};const h=(0,T.R)(d.MD.THEME,f);return h||(y.S.warn(`The theme of ${f} is not registered.`),{})}},40812:function(at,N,t){"use strict";t.d(N,{u:function(){return T}});var d=t(26912);function T(y,C,m,f=[]){if(!f&&y===0&&C===0&&m===0)return null;if(Array.isArray(f)){let v=-1;const o=[];for(let r=0;r<f.length;r++){const a=f[r];if(a[0]==="translate"){if(a[1]===y&&a[2]===C)return null;v=r,o.push(["translate",y,C])}else if(a[0]==="translate3d"){if(a[1]===y&&a[2]===C&&a[3]===m)return null;v=r,o.push(["translate3d",y,C,m!=null?m:0])}else o.push(a)}return v===-1&&o.splice(0,0,(0,d.Z)(m)?["translate3d",y,C,m!=null?m:0]:["translate",y,C]),o.length===0?null:o}const h=f?f.replace(/translate(3d)?\([^)]*\)/g,""):"";return m===0?`translate(${y}, ${C})${h}`:`translate3d(${y}, ${C}, ${m})${h}`}},88824:function(at,N,t){"use strict";t.d(N,{B:function(){return T},_:function(){return d}});function d(y,C,m,f,h=0){f==="TB"&&C(y,h);const v=m(y);if(v)for(const o of v)d(o,C,m,f,h+1);f==="BT"&&C(y,h)}function T(y,C,m){const f=[[y,0]];for(;f.length;){const[h,v]=f.shift();C(h,v);const o=m(h);if(o)for(const r of o)f.push([r,v+1])}}},17160:function(at,N,t){"use strict";var d=function(y,C){var m={};for(var f in y)Object.prototype.hasOwnProperty.call(y,f)&&C.indexOf(f)<0&&(m[f]=y[f]);if(y!=null&&typeof Object.getOwnPropertySymbols=="function")for(var h=0,f=Object.getOwnPropertySymbols(y);h<f.length;h++)C.indexOf(f[h])<0&&Object.prototype.propertyIsEnumerable.call(y,f[h])&&(m[f[h]]=y[f[h]]);return m};function T(y,C){const{getNodeData:m=(r,a)=>{if(r.depth=a,!r.children)return r;const{children:s}=r,u=d(r,["children"]);return Object.assign(Object.assign({},u),{children:s.map(c=>c.id)})},getEdgeData:f=(r,a)=>({source:r.id,target:a.id}),getChildren:h=r=>r.children||[]}=C||{},v=[],o=[];return dfs(y,(r,a)=>{v.push(m(r,a));const s=h(r);for(const u of s)o.push(f(r,u))},r=>h(r),"TB"),{nodes:v,edges:o}}},26192:function(at,N,t){"use strict";t.d(N,{$X:function(){return C},AK:function(){return h},BJ:function(){return n},EU:function(){return u},Fv:function(){return s},IH:function(){return y},Jp:function(){return m},TE:function(){return r},U1:function(){return l},Uy:function(){return i},bA:function(){return o},cs:function(){return f},e_:function(){return e},kC:function(){return v},nk:function(){return a},wQ:function(){return p},xq:function(){return E}});var d=t(76824);const T=[0,0,0];function y(M,O){return M.map((D,P)=>D+O[P])}function C(M,O){return M.map((D,P)=>D-O[P])}function m(M,O){return typeof O=="number"?M.map(D=>D*O):M.map((D,P)=>D*O[P])}function f(M,O){return typeof O=="number"?M.map(D=>D/O):M.map((D,P)=>D/O[P])}function h(M,O){return M.reduce((D,P,b)=>D+P*O[b],0)}function v(M,O){const D=i(M),P=i(O);return[D[1]*P[2]-D[2]*P[1],D[2]*P[0]-D[0]*P[2],D[0]*P[1]-D[1]*P[0]]}function o(M,O){return M.map(D=>D*O)}function r(M,O){return Math.sqrt(M.reduce((D,P,b)=>D+Math.pow(P-O[b]||0,2),0))}function a(M,O){return M.reduce((D,P,b)=>D+Math.abs(P-O[b]),0)}function s(M){const O=M.reduce((D,P)=>D+Math.pow(P,2),0);return M.map(D=>D/Math.sqrt(O))}function u(M,O,D=!1){const P=M[0]*O[1]-M[1]*O[0];let b=Math.acos(m(M,O).reduce((x,L)=>x+L,0)/(r(M,T)*r(O,T)));return D&&P<0&&(b=2*Math.PI-b),b}function c(M,O){return M.every((D,P)=>D===O[P])}function E(M,O=!0){return O?[-M[1],M[0]]:[M[1],-M[0]]}function p(M,O){return M.map(D=>D%O)}function e(M){return[M[0],M[1]]}function i(M){return(0,d.Oe)(M)?[M[0],M[1],0]:M}function n(M){const[O,D]=M;return!O&&!D?0:Math.atan2(D,O)}function l(M,O){const[D,P]=M;if(O%360===0)return[D,P];const b=O*Math.PI/180,x=Math.cos(b),L=Math.sin(b);return[D*x-P*L,D*L+P*x]}},88102:function(at,N,t){"use strict";t.d(N,{i:function(){return d}});function d(T,y,C){const m=f=>{C&&!C(f)||(f.style.visibility=y)};T.forEach(f=>{m(f)})}},43526:function(at,N,t){"use strict";t.d(N,{Y:function(){return d}});function d(T){var y;return((y=T==null?void 0:T.style)===null||y===void 0?void 0:y.zIndex)||0}},1247:function(at,N,t){"use strict";t.d(N,{i:function(){return d}});const d="5.0.50"},81614:function(at,N,t){"use strict";t.d(N,{$6:function(){return y.$6},Aw:function(){return y.Aw},BB:function(){return y.BB},BV:function(){return y.BV},Cd:function(){return y.Cd},Dk:function(){return y.Dk},Ee:function(){return y.Ee},GZ:function(){return y.GZ},Pj:function(){return y.Pj},UL:function(){return y.UL},Xz:function(){return y.Xz},ZA:function(){return y.ZA},aH:function(){return y.aH},b_:function(){return y.b_},k9:function(){return y.k9},mN:function(){return y.mN},mg:function(){return y.mg},nR:function(){return y.nR},s$:function(){return y.s$},x1:function(){return y.x1},xv:function(){return y.xv},y$:function(){return y.y$}});var d=t(72112),T=t(31916),y=t(46911),C=t(28351);},74355:function(at){(function(t,d){at.exports=d()})(typeof self!="undefined"?self:this,function(){return function(N){var t={};function d(T){if(t[T])return t[T].exports;var y=t[T]={i:T,l:!1,exports:{}};return N[T].call(y.exports,y,y.exports,d),y.l=!0,y.exports}return d.m=N,d.c=t,d.d=function(T,y,C){d.o(T,y)||Object.defineProperty(T,y,{configurable:!1,enumerable:!0,get:C})},d.n=function(T){var y=T&&T.__esModule?function(){return T.default}:function(){return T};return d.d(y,"a",y),y},d.o=function(T,y){return Object.prototype.hasOwnProperty.call(T,y)},d.p="",d(d.s=5)}([function(N,t){function d(T,y,C,m){return m===void 0&&(m="height"),C==="center"?(T[m]+y[m])/2:T.height}N.exports={assign:Object.assign,getHeight:d}},function(N,t,d){var T=d(3),y=function(){function C(f,h){h===void 0&&(h={});var v=this;v.options=h,v.rootNode=T(f,h)}var m=C.prototype;return m.execute=function(){throw new Error("please override this method")},C}();N.exports=y},function(N,t,d){var T=d(4),y=["LR","RL","TB","BT","H","V"],C=["LR","RL","H"],m=function(o){return C.indexOf(o)>-1},f=y[0];N.exports=function(v,o,r){var a=o.direction||f;if(o.isHorizontal=m(a),a&&y.indexOf(a)===-1)throw new TypeError("Invalid direction: "+a);if(a===y[0])r(v,o);else if(a===y[1])r(v,o),v.right2left();else if(a===y[2])r(v,o);else if(a===y[3])r(v,o),v.bottom2top();else if(a===y[4]||a===y[5]){var s=T(v,o),u=s.left,c=s.right;r(u,o),r(c,o),o.isHorizontal?u.right2left():u.bottom2top(),c.translate(u.x-c.x,u.y-c.y),v.x=u.x,v.y=c.y;var E=v.getBoundingBox();o.isHorizontal?E.top<0&&v.translate(0,-E.top):E.left<0&&v.translate(-E.left,0)}var p=o.fixedRoot;return p===void 0&&(p=!0),p&&v.translate(-(v.x+v.width/2+v.hgap),-(v.y+v.height/2+v.vgap)),h(v,o),v};function h(v,o){if(o.radial){var r=o.isHorizontal?["x","y"]:["y","x"],a=r[0],s=r[1],u={x:1/0,y:1/0},c={x:-1/0,y:-1/0},E=0;v.DFTraverse(function(i){E++;var n=i.x,l=i.y;u.x=Math.min(u.x,n),u.y=Math.min(u.y,l),c.x=Math.max(c.x,n),c.y=Math.max(c.y,l)});var p=c[s]-u[s];if(p===0)return;var e=Math.PI*2/E;v.DFTraverse(function(i){var n=(i[s]-u[s])/p*(Math.PI*2-e)+e,l=i[a]-v[a];i.x=Math.cos(n)*l,i.y=Math.sin(n)*l})}}},function(N,t,d){var T=d(0),y=18,C=y*2,m=y,f={getId:function(r){return r.id||r.name},getPreH:function(r){return r.preH||0},getPreV:function(r){return r.preV||0},getHGap:function(r){return r.hgap||m},getVGap:function(r){return r.vgap||m},getChildren:function(r){return r.children},getHeight:function(r){return r.height||C},getWidth:function(r){var a=r.label||" ";return r.width||a.split("").length*y}};function h(o,r){var a=this;if(a.vgap=a.hgap=0,o instanceof h)return o;a.data=o;var s=r.getHGap(o),u=r.getVGap(o);return a.preH=r.getPreH(o),a.preV=r.getPreV(o),a.width=r.getWidth(o),a.height=r.getHeight(o),a.width+=a.preH,a.height+=a.preV,a.id=r.getId(o),a.x=a.y=0,a.depth=0,a.children||(a.children=[]),a.addGap(s,u),a}T.assign(h.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(r,a){var s=this;s.hgap+=r,s.vgap+=a,s.width+=2*r,s.height+=2*a},eachNode:function(r){for(var a=this,s=[a],u;u=s.shift();)r(u),s=u.children.concat(s)},DFTraverse:function(r){this.eachNode(r)},BFTraverse:function(r){for(var a=this,s=[a],u;u=s.shift();)r(u),s=s.concat(u.children)},getBoundingBox:function(){var r={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(a){r.left=Math.min(r.left,a.x),r.top=Math.min(r.top,a.y),r.width=Math.max(r.width,a.x+a.width),r.height=Math.max(r.height,a.y+a.height)}),r},translate:function(r,a){r===void 0&&(r=0),a===void 0&&(a=0),this.eachNode(function(s){s.x+=r,s.y+=a,s.x+=s.preH,s.y+=s.preV})},right2left:function(){var r=this,a=r.getBoundingBox();r.eachNode(function(s){s.x=s.x-(s.x-a.left)*2-s.width}),r.translate(a.width,0)},bottom2top:function(){var r=this,a=r.getBoundingBox();r.eachNode(function(s){s.y=s.y-(s.y-a.top)*2-s.height}),r.translate(0,a.height)}});function v(o,r,a){r===void 0&&(r={}),r=T.assign({},f,r);var s=new h(o,r),u=[s],c;if(!a&&!o.collapsed){for(;c=u.shift();)if(!c.data.collapsed){var E=r.getChildren(c.data),p=E?E.length:0;if(c.children=new Array(p),E&&p)for(var e=0;e<p;e++){var i=new h(E[e],r);c.children[e]=i,u.push(i),i.parent=c,i.depth=c.depth+1}}}return s}N.exports=v},function(N,t,d){var T=d(3);N.exports=function(y,C){for(var m=T(y.data,C,!0),f=T(y.data,C,!0),h=y.children.length,v=Math.round(h/2),o=C.getSide||function(u,c){return c<v?"right":"left"},r=0;r<h;r++){var a=y.children[r],s=o(a,r);s==="right"?f.children.push(a):m.children.push(a)}return m.eachNode(function(u){u.isRoot()||(u.side="left")}),f.eachNode(function(u){u.isRoot()||(u.side="right")}),{left:m,right:f}}},function(N,t,d){var T={compactBox:d(6),dendrogram:d(8),indented:d(10),mindmap:d(12)};N.exports=T},function(N,t,d){function T(a,s){a.prototype=Object.create(s.prototype),a.prototype.constructor=a,y(a,s)}function y(a,s){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,c){return u.__proto__=c,u},y(a,s)}var C=d(1),m=d(7),f=d(2),h=d(0),v=function(a){function s(){return a.apply(this,arguments)||this}T(s,a);var u=s.prototype;return u.execute=function(){var E=this;return f(E.rootNode,E.options,m)},s}(C),o={};function r(a,s){return s=h.assign({},o,s),new v(a,s).execute()}N.exports=r},function(N,t){function d(h,v,o,r){r===void 0&&(r=[]);var a=this;a.w=h||0,a.h=v||0,a.y=o||0,a.x=0,a.c=r||[],a.cs=r.length,a.prelim=0,a.mod=0,a.shift=0,a.change=0,a.tl=null,a.tr=null,a.el=null,a.er=null,a.msel=0,a.mser=0}d.fromNode=function(h,v){if(!h)return null;var o=[];return h.children.forEach(function(r){o.push(d.fromNode(r,v))}),v?new d(h.height,h.width,h.x,o):new d(h.width,h.height,h.y,o)};function T(h,v,o){o?h.y+=v:h.x+=v,h.children.forEach(function(r){T(r,v,o)})}function y(h,v){var o=v?h.y:h.x;return h.children.forEach(function(r){o=Math.min(y(r,v),o)}),o}function C(h,v){var o=y(h,v);T(h,-o,v)}function m(h,v,o){o?v.y=h.x:v.x=h.x,h.c.forEach(function(r,a){m(r,v.children[a],o)})}function f(h,v,o){o===void 0&&(o=0),v?(h.x=o,o+=h.width):(h.y=o,o+=h.height),h.children.forEach(function(r){f(r,v,o)})}N.exports=function(h,v){v===void 0&&(v={});var o=v.isHorizontal;function r(b){if(b.cs===0){a(b);return}r(b.c[0]);for(var x=D(p(b.c[0].el),0,null),L=1;L<b.cs;++L){r(b.c[L]);var S=p(b.c[L].er);s(b,L,x),x=D(S,L,x)}n(b),a(b)}function a(b){b.cs===0?(b.el=b,b.er=b,b.msel=b.mser=0):(b.el=b.c[0].el,b.msel=b.c[0].msel,b.er=b.c[b.cs-1].er,b.mser=b.c[b.cs-1].mser)}function s(b,x,L){for(var S=b.c[x-1],K=S.mod,U=b.c[x],j=U.mod;S!==null&&U!==null;){p(S)>L.low&&(L=L.nxt);var F=K+S.prelim+S.w-(j+U.prelim);F>0&&(j+=F,u(b,x,L.index,F));var W=p(S),w=p(U);W<=w&&(S=E(S),S!==null&&(K+=S.mod)),W>=w&&(U=c(U),U!==null&&(j+=U.mod))}!S&&U?e(b,x,U,j):S&&!U&&i(b,x,S,K)}function u(b,x,L,S){b.c[x].mod+=S,b.c[x].msel+=S,b.c[x].mser+=S,M(b,x,L,S)}function c(b){return b.cs===0?b.tl:b.c[0]}function E(b){return b.cs===0?b.tr:b.c[b.cs-1]}function p(b){return b.y+b.h}function e(b,x,L,S){var K=b.c[0].el;K.tl=L;var U=S-L.mod-b.c[0].msel;K.mod+=U,K.prelim-=U,b.c[0].el=b.c[x].el,b.c[0].msel=b.c[x].msel}function i(b,x,L,S){var K=b.c[x].er;K.tr=L;var U=S-L.mod-b.c[x].mser;K.mod+=U,K.prelim-=U,b.c[x].er=b.c[x-1].er,b.c[x].mser=b.c[x-1].mser}function n(b){b.prelim=(b.c[0].prelim+b.c[0].mod+b.c[b.cs-1].mod+b.c[b.cs-1].prelim+b.c[b.cs-1].w)/2-b.w/2}function l(b,x){x+=b.mod,b.x=b.prelim+x,O(b);for(var L=0;L<b.cs;L++)l(b.c[L],x)}function M(b,x,L,S){if(L!==x-1){var K=x-L;b.c[L+1].shift+=S/K,b.c[x].shift-=S/K,b.c[x].change-=S-S/K}}function O(b){for(var x=0,L=0,S=0;S<b.cs;S++)x+=b.c[S].shift,L+=x+b.c[S].change,b.c[S].mod+=L}function D(b,x,L){for(;L!==null&&b>=L.low;)L=L.nxt;return{low:b,index:x,nxt:L}}f(h,o);var P=d.fromNode(h,o);return r(P),l(P,0),m(P,h,o),C(h,o),h}},function(N,t,d){function T(a,s){a.prototype=Object.create(s.prototype),a.prototype.constructor=a,y(a,s)}function y(a,s){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,c){return u.__proto__=c,u},y(a,s)}var C=d(1),m=d(9),f=d(2),h=d(0),v=function(a){function s(){return a.apply(this,arguments)||this}T(s,a);var u=s.prototype;return u.execute=function(){var E=this;return E.rootNode.width=0,f(E.rootNode,E.options,m)},s}(C),o={};function r(a,s){return s=h.assign({},o,s),new v(a,s).execute()}N.exports=r},function(N,t,d){var T=d(0);function y(f,h){f===void 0&&(f=0),h===void 0&&(h=[]);var v=this;v.x=v.y=0,v.leftChild=v.rightChild=null,v.height=0,v.children=h}var C={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function m(f,h,v){v?(h.x=f.x,h.y=f.y):(h.x=f.y,h.y=f.x),f.children.forEach(function(o,r){m(o,h.children[r],v)})}N.exports=function(f,h){h===void 0&&(h={}),h=T.assign({},C,h);var v=0;function o(c){if(!c)return null;c.width=0,c.depth&&c.depth>v&&(v=c.depth);var E=c.children,p=E.length,e=new y(c.height,[]);return E.forEach(function(i,n){var l=o(i);e.children.push(l),n===0&&(e.leftChild=l),n===p-1&&(e.rightChild=l)}),e.originNode=c,e.isLeaf=c.isLeaf(),e}function r(c){if(c.isLeaf||c.children.length===0)c.drawingDepth=v;else{var E=c.children.map(function(e){return r(e)}),p=Math.min.apply(null,E);c.drawingDepth=p-1}return c.drawingDepth}var a;function s(c){c.x=c.drawingDepth*h.rankSep,c.isLeaf?(c.y=0,a&&(c.y=a.y+a.height+h.nodeSep,c.originNode.parent!==a.originNode.parent&&(c.y+=h.subTreeSep)),a=c):(c.children.forEach(function(E){s(E)}),c.y=(c.leftChild.y+c.rightChild.y)/2)}var u=o(f);return r(u),s(u),m(u,f,h.isHorizontal),f}},function(N,t,d){function T(u,c){u.prototype=Object.create(c.prototype),u.prototype.constructor=u,y(u,c)}function y(u,c){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,p){return E.__proto__=p,E},y(u,c)}var C=d(1),m=d(11),f=d(4),h=d(0),v=["LR","RL","H"],o=v[0],r=function(u){function c(){return u.apply(this,arguments)||this}T(c,u);var E=c.prototype;return E.execute=function(){var e=this,i=e.options,n=e.rootNode;i.isHorizontal=!0;var l=i.indent,M=l===void 0?20:l,O=i.dropCap,D=O===void 0?!0:O,P=i.direction,b=P===void 0?o:P,x=i.align;if(b&&v.indexOf(b)===-1)throw new TypeError("Invalid direction: "+b);if(b===v[0])m(n,M,D,x);else if(b===v[1])m(n,M,D,x),n.right2left();else if(b===v[2]){var L=f(n,i),S=L.left,K=L.right;m(S,M,D,x),S.right2left(),m(K,M,D,x);var U=S.getBoundingBox();K.translate(U.width,0),n.x=K.x-n.width/2}return n},c}(C),a={};function s(u,c){return c=h.assign({},a,c),new r(u,c).execute()}N.exports=s},function(N,t,d){var T=d(0);function y(C,m,f,h,v){var o=(typeof f=="function"?f(C):f)*C.depth;if(!h)try{if(C.id===C.parent.children[0].id){C.x+=o,C.y=m?m.y:0;return}}catch(s){}if(C.x+=o,m){if(C.y=m.y+T.getHeight(m,C,v),m.parent&&C.parent.id!==m.parent.id){var r=m.parent,a=r.y+T.getHeight(r,C,v);C.y=a>C.y?a:C.y}}else C.y=0}N.exports=function(C,m,f,h){var v=null;C.eachNode(function(o){y(o,v,m,f,h),v=o})}},function(N,t,d){function T(a,s){a.prototype=Object.create(s.prototype),a.prototype.constructor=a,y(a,s)}function y(a,s){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,c){return u.__proto__=c,u},y(a,s)}var C=d(1),m=d(13),f=d(2),h=d(0),v=function(a){function s(){return a.apply(this,arguments)||this}T(s,a);var u=s.prototype;return u.execute=function(){var E=this;return f(E.rootNode,E.options,m)},s}(C),o={};function r(a,s){return s=h.assign({},o,s),new v(a,s).execute()}N.exports=r},function(N,t,d){var T=d(0);function y(f,h){var v=0;return f.children.length?f.children.forEach(function(o){v+=y(o,h)}):v=f.height,f._subTreeSep=h.getSubTreeSep(f.data),f.totalHeight=Math.max(f.height,v)+2*f._subTreeSep,f.totalHeight}function C(f){var h=f.children,v=h.length;if(v){h.forEach(function(c){C(c)});var o=h[0],r=h[v-1],a=r.y-o.y+r.height,s=0;if(h.forEach(function(c){s+=c.totalHeight}),a>f.height)f.y=o.y+a/2-f.height/2;else if(h.length!==1||f.height>s){var u=f.y+(f.height-a)/2-o.y;h.forEach(function(c){c.translate(0,u)})}else f.y=(o.y+o.height/2+r.y+r.height/2)/2-f.height/2}}var m={getSubTreeSep:function(){return 0}};N.exports=function(f,h){h===void 0&&(h={}),h=T.assign({},m,h),f.parent={x:0,width:0,height:0,y:0},f.BFTraverse(function(v){v.x=v.parent.x+v.parent.width}),f.parent=null,y(f,h),f.startY=0,f.y=f.totalHeight/2-f.height/2,f.eachNode(function(v){var o=v.children,r=o.length;if(r){var a=o[0];if(a.startY=v.startY+v._subTreeSep,r===1)a.y=v.y+v.height/2-a.height/2;else{a.y=a.startY+a.totalHeight/2-a.height/2;for(var s=1;s<r;s++){var u=o[s];u.startY=o[s-1].startY+o[s-1].totalHeight,u.y=u.startY+u.totalHeight/2-u.height/2}}}}),C(f)}}])})},93517:function(at,N,t){"use strict";t.d(N,{y:function(){return m}});var d=t(15767),T=t(80216),y=t(84237),C=t(80345);class m extends T.Z{constructor(h,v,o){super(),this.graph=h,this.layout=v,this.options=o,this.spawnWorker()}spawnWorker(){this.proxy=C.Ud(new Worker(new URL(t.p+t.u(852),t.b),{type:void 0})),this.running&&(this.running=!1,this.execute())}execute(){var h;return(0,d.mG)(this,void 0,void 0,function*(){if(this.running)return this;this.running=!0;const v=this.layout.options,{onTick:o}=v,r=(0,d._T)(v,["onTick"]),a={};Object.keys(r).forEach(E=>{(0,y.Z)(r[E])||(a[E]=r[E])});const s={layout:{id:this.layout.id,options:a,iterations:(h=this.options)===null||h===void 0?void 0:h.iterations},nodes:this.graph.getAllNodes(),edges:this.graph.getAllEdges()},u=new Float32Array([0]),[c]=yield this.proxy.calculateLayout(s,[u]);return c})}stop(){return this.running=!1,this.proxy.stopLayout(),this}kill(){this.proxy[C.Yy]()}isRunning(){return this.running}}},56608:function(at,N,t){"use strict";t.d(N,{t:function(){return v}});var d=t(47566),T=t(5733);function y(o){const r=Math.min(...o);return o.map(a=>a/r)}function C(o,r){const a=o.length,s=r-a;return s>0?[...o,...new Array(s).fill(1)]:s<0?o.slice(0,r):o}function m(o){return Math.round(o*1e12)/1e12}function f(o){const{domain:r,range:a,paddingOuter:s,paddingInner:u,flex:c,round:E,align:p}=o,e=r.length,i=C(c,e),[n,l]=a,M=l-n,O=2/e*s+1-1/e*u,D=M/O,P=D*u/e,b=D-e*P,x=y(i),L=x.reduce((Y,V)=>Y+V),S=b/L,K=new d.L(r.map((Y,V)=>{const $=x[V]*S;return[Y,E?Math.floor($):$]})),U=new d.L(r.map((Y,V)=>{const J=x[V]*S+P;return[Y,E?Math.floor(J):J]})),j=Array.from(U.values()).reduce((Y,V)=>Y+V),W=(M-(j-j/e*u))*p,w=n+W;let z=E?Math.round(w):w;const H=new Array(e);for(let Y=0;Y<e;Y+=1){H[Y]=m(z);const V=r[Y];z+=U.get(V)}return{valueBandWidth:K,valueStep:U,adjustedRange:H}}function h(o){var r;const{domain:a}=o,s=a.length;if(s===0)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(!!(!((r=o.flex)===null||r===void 0)&&r.length))return f(o);const{range:c,paddingOuter:E,paddingInner:p,round:e,align:i}=o;let n,l,M=c[0];const D=c[1]-M,P=E*2,b=s-p;n=D/Math.max(1,P+b),e&&(n=Math.floor(n)),M+=(D-n*(s-p))*i,l=n*(1-p),e&&(M=Math.round(M),l=Math.round(l));const x=new Array(s).fill(0).map((L,S)=>M+S*n);return{valueStep:n,valueBandWidth:l,adjustedRange:x}}class v extends T.r{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:T.z,flex:[]}}constructor(r){super(r)}clone(){return new v(this.options)}getStep(r){return this.valueStep===void 0?1:typeof this.valueStep=="number"?this.valueStep:r===void 0?Array.from(this.valueStep.values())[0]:this.valueStep.get(r)}getBandWidth(r){return this.valueBandWidth===void 0?1:typeof this.valueBandWidth=="number"?this.valueBandWidth:r===void 0?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(r)}getRange(){return this.adjustedRange}getPaddingInner(){const{padding:r,paddingInner:a}=this.options;return r>0?r:a}getPaddingOuter(){const{padding:r,paddingOuter:a}=this.options;return r>0?r:a}rescale(){super.rescale();const{align:r,domain:a,range:s,round:u,flex:c}=this.options,{adjustedRange:E,valueBandWidth:p,valueStep:e}=h({align:r,range:s,round:u,flex:c,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:a});this.valueStep=e,this.valueBandWidth=p,this.adjustedRange=E}}},39429:function(at,N,t){"use strict";t.d(N,{X:function(){return T}});var d=t(48690);class T{constructor(C){this.options=(0,d.Z)({},this.getDefaultOptions()),this.update(C)}getOptions(){return this.options}update(C={}){this.options=(0,d.Z)({},this.options,C),this.rescale(C)}rescale(C){}}},51240:function(at,N,t){"use strict";t.d(N,{V:function(){return u}});var d=t(17602),T=t(39429),y=t(79572),C=t(98882),m=t(88784),f=t(77589),h=t(6393),v=t(91915),o=t(67239);const r=(c,E,p)=>{const[e,i]=c,[n,l]=E;let M,O;return e<i?(M=(0,y.I)(e,i),O=p(n,l)):(M=(0,y.I)(i,e),O=p(l,n)),(0,C.q)(O,M)},a=(c,E,p)=>{const e=Math.min(c.length,E.length)-1,i=new Array(e),n=new Array(e),l=c[0]>c[e],M=l?[...c].reverse():c,O=l?[...E].reverse():E;for(let D=0;D<e;D+=1)i[D]=(0,y.I)(M[D],M[D+1]),n[D]=p(O[D],O[D+1]);return D=>{const P=(0,m.b)(c,D,1,e)-1,b=i[P],x=n[P];return(0,C.q)(x,b)(D)}},s=(c,E,p,e)=>{const n=Math.min(c.length,E.length)>2?a:r,l=e?f.lk:p;return n(c,E,l)};class u extends T.X{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:f.fv,tickCount:5}}map(E){return(0,h.J)(E)?this.output(E):this.options.unknown}invert(E){return(0,h.J)(E)?this.input(E):this.options.unknown}nice(){if(!this.options.nice)return;const[E,p,e,...i]=this.getTickMethodOptions();this.options.domain=this.chooseNice()(E,p,e,...i)}getTicks(){const{tickMethod:E}=this.options,[p,e,i,...n]=this.getTickMethodOptions();return E(p,e,i,...n)}getTickMethodOptions(){const{domain:E,tickCount:p}=this.options,e=E[0],i=E[E.length-1];return[e,i,p]}chooseNice(){return v.n}rescale(){this.nice();const[E,p]=this.chooseTransforms();this.composeOutput(E,this.chooseClamp(E)),this.composeInput(E,p,this.chooseClamp(p))}chooseClamp(E){const{clamp:p,range:e}=this.options,i=this.options.domain.map(E),n=Math.min(i.length,e.length);return p?(0,o.w)(i[0],i[n-1]):d.Z}composeOutput(E,p){const{domain:e,range:i,round:n,interpolate:l}=this.options,M=s(e.map(E),i,l,n);this.output=(0,C.q)(M,p,E)}composeInput(E,p,e){const{domain:i,range:n}=this.options,l=s(n,i.map(E),f.fv);this.input=(0,C.q)(p,e,l)}}},12454:function(at,N,t){"use strict";t.d(N,{b:function(){return m}});var d=t(17602),T=t(51240),y=t(77589),C=t(77341);class m extends T.V{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:y.wp,tickMethod:C.Z,tickCount:5}}chooseTransforms(){return[d.Z,d.Z]}clone(){return new m(this.options)}}},5733:function(at,N,t){"use strict";t.d(N,{r:function(){return f},z:function(){return T}});var d=t(39429);const T=Symbol("defaultUnknown");function y(h,v,o){for(let r=0;r<v.length;r+=1)h.has(v[r])||h.set(o(v[r]),r)}function C(h){const{value:v,from:o,to:r,mapper:a,notFoundReturn:s}=h;let u=a.get(v);if(u===void 0){if(s!==T)return s;u=o.push(v)-1,a.set(v,u)}return r[u%r.length]}function m(h){return h instanceof Date?v=>`${v}`:typeof h=="object"?v=>JSON.stringify(v):v=>v}class f extends d.X{getDefaultOptions(){return{domain:[],range:[],unknown:T}}constructor(v){super(v)}map(v){return this.domainIndexMap.size===0&&y(this.domainIndexMap,this.getDomain(),this.domainKey),C({value:this.domainKey(v),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(v){return this.rangeIndexMap.size===0&&y(this.rangeIndexMap,this.getRange(),this.rangeKey),C({value:this.rangeKey(v),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(v){const[o]=this.options.domain,[r]=this.options.range;if(this.domainKey=m(o),this.rangeKey=m(r),!this.rangeIndexMap){this.rangeIndexMap=new Map,this.domainIndexMap=new Map;return}(!v||v.range)&&this.rangeIndexMap.clear(),(!v||v.domain||v.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}clone(){return new f(this.options)}getRange(){return this.options.range}getDomain(){if(this.sortedDomain)return this.sortedDomain;const{domain:v,compare:o}=this.options;return this.sortedDomain=o?[...v].sort(o):v,this.sortedDomain}}},77341:function(at,N,t){"use strict";t.d(N,{Z:function(){return T}});var d=t(5097);const T=(y,C,m)=>{let f,h,v=y,o=C;if(v===o&&m>0)return[v];let r=(0,d.G)(v,o,m);if(r===0||!Number.isFinite(r))return[];if(r>0){v=Math.ceil(v/r),o=Math.floor(o/r),h=new Array(f=Math.ceil(o-v+1));for(let a=0;a<f;a+=1)h[a]=(v+a)*r}else{r=-r,v=Math.ceil(v*r),o=Math.floor(o*r),h=new Array(f=Math.ceil(o-v+1));for(let a=0;a<f;a+=1)h[a]=(v+a)/r}return h}},88784:function(at,N,t){"use strict";t.d(N,{b:function(){return d}});function d(T,y,C,m,f){let h=C||0,v=m||T.length;const o=f||(r=>r);for(;h<v;){const r=Math.floor((h+v)/2);o(T[r])>y?v=r:h=r+1}return h}},67239:function(at,N,t){"use strict";t.d(N,{w:function(){return d}});function d(T,y){const C=y<T?y:T,m=T>y?T:y;return f=>Math.min(Math.max(C,f),m)}},82689:function(at,N,t){"use strict";t.d(N,{U:function(){return m}});var d=t(2489),T=t.n(d);function y(f,h,v){let o=v;return o<0&&(o+=1),o>1&&(o-=1),o<1/6?f+(h-f)*6*o:o<1/2?h:o<2/3?f+(h-f)*(2/3-o)*6:f}function C(f){const h=f[0]/360,v=f[1]/100,o=f[2]/100,r=f[3];if(v===0)return[o*255,o*255,o*255,r];const a=o<.5?o*(1+v):o+v-o*v,s=2*o-a,u=y(s,a,h+1/3),c=y(s,a,h),E=y(s,a,h-1/3);return[u*255,c*255,E*255,r]}function m(f){const h=T().get(f);if(!h)return null;const{model:v,value:o}=h;return v==="rgb"?o:v==="hsl"?C(o):null}},98882:function(at,N,t){"use strict";t.d(N,{q:function(){return d}});function d(T,...y){return y.reduce((C,m)=>f=>C(m(f)),T)}},91915:function(at,N,t){"use strict";t.d(N,{n:function(){return T}});var d=t(5097);const T=(y,C,m=5)=>{const f=[y,C];let h=0,v=f.length-1,o=f[h],r=f[v],a;return r<o&&([o,r]=[r,o],[h,v]=[v,h]),a=(0,d.G)(o,r,m),a>0?(o=Math.floor(o/a)*a,r=Math.ceil(r/a)*a,a=(0,d.G)(o,r,m)):a<0&&(o=Math.ceil(o*a)/a,r=Math.floor(r*a)/a,a=(0,d.G)(o,r,m)),a>0?(f[h]=Math.floor(o/a)*a,f[v]=Math.ceil(r/a)*a):a<0&&(f[h]=Math.ceil(o*a)/a,f[v]=Math.floor(r*a)/a),f}},47566:function(at,N,t){"use strict";t.d(N,{L:function(){return m}});function d({map:f,initKey:h},v){const o=h(v);return f.has(o)?f.get(o):v}function T({map:f,initKey:h},v){const o=h(v);return f.has(o)?f.get(o):(f.set(o,v),v)}function y({map:f,initKey:h},v){const o=h(v);return f.has(o)&&(v=f.get(o),f.delete(o)),v}function C(f){return typeof f=="object"?f.valueOf():f}class m extends Map{constructor(h){if(super(),this.map=new Map,this.initKey=C,h!==null)for(const[v,o]of h)this.set(v,o)}get(h){return super.get(d({map:this.map,initKey:this.initKey},h))}has(h){return super.has(d({map:this.map,initKey:this.initKey},h))}set(h,v){return super.set(T({map:this.map,initKey:this.initKey},h),v)}delete(h){return super.delete(y({map:this.map,initKey:this.initKey},h))}}},77589:function(at,N,t){"use strict";t.d(N,{fv:function(){return T},lk:function(){return m},wp:function(){return C}});var d=t(82689);const T=(f,h)=>v=>f*(1-v)+h*v,y=(f,h)=>{const v=(0,d.U)(f),o=(0,d.U)(h);return v===null||o===null?v?()=>f:()=>h:r=>{const a=new Array(4);for(let p=0;p<4;p+=1){const e=v[p],i=o[p];a[p]=e*(1-r)+i*r}const[s,u,c,E]=a;return`rgba(${Math.round(s)}, ${Math.round(u)}, ${Math.round(c)}, ${E})`}},C=(f,h)=>typeof f=="number"&&typeof h=="number"?T(f,h):typeof f=="string"&&typeof h=="string"?y(f,h):()=>f,m=(f,h)=>{const v=T(f,h);return o=>Math.round(v(o))}},6393:function(at,N,t){"use strict";t.d(N,{J:function(){return y}});var d=t(36179),T=t(96625);function y(C){return!(0,d.Z)(C)&&!(0,T.Z)(C)&&!Number.isNaN(C)}},79572:function(at,N,t){"use strict";t.d(N,{I:function(){return d}});function d(T,y){return y-T?C=>(C-T)/(y-T):C=>.5}},5097:function(at,N,t){"use strict";t.d(N,{G:function(){return C}});const d=Math.sqrt(50),T=Math.sqrt(10),y=Math.sqrt(2);function C(f,h,v){const o=(h-f)/Math.max(0,v),r=Math.floor(Math.log(o)/Math.LN10),a=o/cr(10,r);return r>=0?(a>=d?10:a>=T?5:a>=y?2:1)*cr(10,r):-cr(10,-r)/(a>=d?10:a>=T?5:a>=y?2:1)}function m(f,h,v){const o=Math.abs(h-f)/Math.max(0,v);let r=cr(10,Math.floor(Math.log(o)/Math.LN10));const a=o/r;return a>=d?r*=10:a>=T?r*=5:a>=y&&(r*=2),h<f?-r:r}},10724:function(at,N,t){"use strict";var d=t(96408),T=function(){for(var C=[],m=0;m<arguments.length;m++)C[m]=arguments[m];for(var f=C[0],h=1;h<C.length;h++){var v=C[h];isFunction(v)&&(v=v.prototype),mix(f.prototype,v)}},y=null},70936:function(){"use strict";var at=function(){function t(){this.map={}}return t.prototype.has=function(d){return this.map[d]!==void 0},t.prototype.get=function(d,T){var y=this.map[d];return y===void 0?T:y},t.prototype.set=function(d,T){this.map[d]=T},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(d){delete this.map[d]},t.prototype.size=function(){return Object.keys(this.map).length},t}(),N=null},76405:function(at,N,t){"use strict";var d=t(66881),T=function(y){if(typeof y!="object"||y===null)return y;var C;if((0,d.Z)(y)){C=[];for(var m=0,f=y.length;m<f;m++)typeof y[m]=="object"&&y[m]!=null?C[m]=T(y[m]):C[m]=y[m]}else{C={};for(var h in y)typeof y[h]=="object"&&y[h]!=null?C[h]=T(y[h]):C[h]=y[h]}return C};N.Z=T},48685:function(at,N,t){"use strict";var d=t(66881),T=t(83231),y=5;function C(h,v,o,r){o=o||0,r=r||y;for(var a in v)if(v.hasOwnProperty(a)){var s=v[a];s!==null&&isPlainObject(s)?(isPlainObject(h[a])||(h[a]={}),o<r?C(h[a],s,o+1,r):h[a]=v[a]):isArray(s)?(h[a]=[],h[a]=h[a].concat(s)):s!==void 0&&(h[a]=s)}}var m=function(h){for(var v=[],o=1;o<arguments.length;o++)v[o-1]=arguments[o];for(var r=0;r<v.length;r+=1)C(h,v[r]);return h},f=null},91755:function(at,N,t){"use strict";var d=t(66881),T=t(37936);function y(C,m){if(C){var f;if((0,d.Z)(C))for(var h=0,v=C.length;h<v&&(f=m(C[h],h),f!==!1);h++);else if((0,T.Z)(C)){for(var o in C)if(C.hasOwnProperty(o)&&(f=m(C[o],o),f===!1))break}}}N.Z=y},71742:function(at,N,t){"use strict";var d=t(66881),T=t(24872);function y(m,f){return isArray(m)||isString(m)?m[m.length-1]===f:!1}var C=null},51258:function(at,N,t){"use strict";var d=t(96408),T=function(C,m,f,h){isFunction(m)||(f=m,m=C,C=function(){});var v=Object.create?function(r,a){return Object.create(r,{constructor:{value:a}})}:function(r,a){function s(){}s.prototype=r;var u=new s;return u.constructor=a,u},o=v(m.prototype,C);return C.prototype=mix(o,C.prototype),C.superclass=v(m.prototype,m),mix(o,f),mix(C,h),C},y=null},54053:function(at,N,t){"use strict";var d=t(96408),T=t(80636),y=t(66881),C=t(83231);function m(h,v){if(!isArray(h))return null;var o;if(isFunction(v)&&(o=v),isPlainObject(v)&&(o=function(a){return isMatch(a,v)}),o){for(var r=0;r<h.length;r+=1)if(o(h[r]))return h[r]}return null}var f=null},20075:function(at,N,t){"use strict";var d=t(66881),T=function(C,m){for(var f=null,h=0;h<C.length;h++){var v=C[h],o=v[m];if(!isNil(o)){isArray(o)?f=o[0]:f=o;break}}return f},y=null},34631:function(at,N,t){"use strict";var d=t(66881),T=function(C,m){if(m===void 0&&(m=[]),!isArray(C))m.push(C);else for(var f=0;f<C.length;f+=1)T(C[f],m);return m},y=null},39352:function(at,N,t){"use strict";var d=t(66881),T=function(C){if(!isArray(C))return[];for(var m=[],f=0;f<C.length;f++)m=m.concat(C[f]);return m},y=null},80312:function(at,N,t){"use strict";var d=t(91755),T=null},43770:function(at,N,t){"use strict";var d=t(24872),T=t(22968),y=function(C,m,f,h){h===void 0&&(h="...");var v=16,o=measureTextWidth(h,f),r=isString(C)?C:toString(C),a=m,s=[],u,c;if(measureTextWidth(C,f)<=m)return C;for(;u=r.substr(0,v),c=measureTextWidth(u,f),!(c+o>a&&c>a);)if(s.push(u),a-=c,r=r.substr(v),!r)return s.join("");for(;u=r.substr(0,1),c=measureTextWidth(u,f),!(c+o>a);)if(s.push(u),a-=c,r=r.substr(1),!r)return s.join("");return""+s.join("")+h}},88142:function(at,N,t){"use strict";var d=t(66881),T=t(93540),y=t(30753),C=function(f){var h=f.filter(function(s){return!isNaN(s)});if(!h.length)return{min:0,max:0};if(isArray(f[0])){for(var v=[],o=0;o<f.length;o++)v=v.concat(f[o]);h=v}var r=getMax(h),a=getMin(h);return{min:a,max:r}},m=null},4270:function(){"use strict";var at={}.toString,N=function(d){return at.call(d).replace(/^\[object /,"").replace(/]$/,"")},t=null},33592:function(at,N,t){"use strict";var d=t(24872),T=function(y,C,m){for(var f=0,h=isString(C)?C.split("."):C;y&&f<h.length;)y=y[h[f++]];return y===void 0||f<h.length?m:y}},89085:function(at,N,t){"use strict";var d=t(66881),T=t(96408),y=Object.prototype.hasOwnProperty;function C(f,h){if(!h||!isArray(f))return{};for(var v={},o=isFunction(h)?h:function(u){return u[h]},r,a=0;a<f.length;a++){var s=f[a];r=o(s),y.call(v,r)?v[r].push(s):v[r]=[s]}return v}var m=null},94382:function(at,N,t){"use strict";var d=t(66881),T=t(96408),y=t(89085);function C(m,f){if(!f)return{0:m};if(!isFunction(f)){var h=isArray(f)?f:f.replace(/\s+/g,"").split("*");f=function(v){for(var o="_",r=0,a=h.length;r<a;r++)o+=v[h[r]]&&v[h[r]].toString();return o}}return groupBy(m,f)}},17376:function(at,N,t){"use strict";var d=t(94382),T=function(y,C){if(!C)return[y];var m=groupToMap(y,C),f=[];for(var h in m)f.push(m[h]);return f}},53761:function(at,N,t){"use strict";var d=t(56392),T=function(y,C){return contains(values(y),C)}},72691:function(at,N,t){"use strict";t.d(N,{Xy:function(){return bt.Z},d9:function(){return Et.Z},jj:function(){return a.Z},kJ:function(){return $.Z}});var d=t(54053),T=t(20075),y=t(39352),C=t(34631),m=t(88142),f=t(63148),h=t(84441),v=t(59410),o=t(85011),r=t(70042),a=t(78474),s=t(33861),u=t(43960),c=t(71742),E=t(17376),p=t(89085),e=t(94382),i=t(43427),n=t(90718),l=t(65517),M=t(41935),O=t(79433),D=t(68939),P=t(11407),b=t(59046),x=t(93540),L=t(29869),S=t(30753),K=t(70311),U=t(13773),j=t(73098),F=t(80312),W=t(53761),w=t(52928),z=t(80636),H=t(56392),Y=t(4270),V=t(41471),$=t(66881),J=t(71469),rt=t(58157),lt=t(35264),tt=t(96408),G=t(63730),nt=t(56567),ut=t(83231),dt=t(38734),et=t(69792),_t=t(24872),mt=t(15247),ot=t(10724),Et=t(76405),Ot=t(12996),B=t(48685),X=t(91755),pt=t(51258),Mt=t(23504),bt=t(66922),Rt=t(75438),It=t(33592),st=t(41178),Q=t(25277),ct=t(5465),ht=t(18661),ft=t(22968),gt=t(43770),yt=t(70936)},41471:function(at,N,t){"use strict";var d=t(15247),T=function(C){return isType(C,"Arguments")},y=null},59495:function(at,N){"use strict";var t=function(d){return d!==null&&typeof d!="function"&&isFinite(d.length)};N.Z=t},66881:function(at,N,t){"use strict";var d=t(15247);N.Z=function(T){return Array.isArray?Array.isArray(T):(0,d.Z)(T,"Array")}},71469:function(at,N,t){"use strict";var d=t(15247),T=function(C){return isType(C,"Boolean")},y=null},58157:function(at,N,t){"use strict";var d=t(15247),T=function(C){return isType(C,"Date")},y=null},65517:function(at,N,t){"use strict";var d=t(56567),T=function(C){return isNumber(C)&&C%1!==0},y=null},23504:function(at,N,t){"use strict";var d=t(4270),T=t(38734),y=Object.prototype.hasOwnProperty;function C(f){if(isNil(f))return!0;if(isArrayLike(f))return!f.length;var h=getType(f);if(h==="Map"||h==="Set")return!f.size;if(isPrototype(f))return!Object.keys(f).length;for(var v in f)if(y.call(f,v))return!1;return!0}var m=null},75438:function(at,N,t){"use strict";var d=t(96408),T=t(66922),y=function(C,m,f){return isFunction(f)?!!f(C,m):isEqual(C,m)}},66922:function(at,N,t){"use strict";var d=t(18825),T=t(59495),y=t(24872),C=function(m,f){if(m===f)return!0;if(!m||!f||(0,y.Z)(m)||(0,y.Z)(f))return!1;if((0,T.Z)(m)||(0,T.Z)(f)){if(m.length!==f.length)return!1;for(var h=!0,v=0;v<m.length&&(h=C(m[v],f[v]),!!h);v++);return h}if((0,d.Z)(m)||(0,d.Z)(f)){var o=Object.keys(m),r=Object.keys(f);if(o.length!==r.length)return!1;for(var h=!0,v=0;v<o.length&&(h=C(m[o[v]],f[o[v]]),!!h);v++);return h}return!1};N.Z=C},35264:function(at,N,t){"use strict";var d=t(15247),T=function(C){return isType(C,"Error")},y=null},41935:function(at,N,t){"use strict";var d=t(56567),T=function(C){return isNumber(C)&&C%2===0},y=null},63730:function(at,N,t){"use strict";var d=t(56567);function T(y){return isNumber(y)&&isFinite(y)}},96408:function(at,N,t){"use strict";var d=t(15247);N.Z=function(T){return(0,d.Z)(T,"Function")}},79433:function(at,N,t){"use strict";var d=t(56567),T=Number.isInteger?Number.isInteger:function(C){return(0,d.Z)(C)&&C%1===0},y=null},80636:function(at,N,t){"use strict";var d=t(52928);function T(C,m){var f=keys(m),h=f.length;if(isNil(C))return!h;for(var v=0;v<h;v+=1){var o=f[v];if(m[o]!==C[o]||!(o in C))return!1}return!0}var y=null},68939:function(at,N,t){"use strict";var d=t(56567),T=function(C){return isNumber(C)&&C<0},y=null},56567:function(at,N,t){"use strict";var d=t(15247),T=function(y){return(0,d.Z)(y,"Number")};N.Z=T},18825:function(at,N){"use strict";var t=function(d){return typeof d=="object"&&d!==null};N.Z=t},37936:function(at,N){"use strict";N.Z=function(t){var d=typeof t;return t!==null&&d==="object"||d==="function"}},11407:function(at,N,t){"use strict";var d=t(56567),T=function(C){return isNumber(C)&&C%2!==0},y=null},83231:function(at,N,t){"use strict";var d=t(15247),T=function(C){if(!isObjectLike(C)||!isType(C,"Object"))return!1;if(Object.getPrototypeOf(C)===null)return!0;for(var m=C;Object.getPrototypeOf(m)!==null;)m=Object.getPrototypeOf(m);return Object.getPrototypeOf(C)===m},y=null},59046:function(at,N,t){"use strict";var d=t(56567),T=function(C){return isNumber(C)&&C>0},y=null},38734:function(){"use strict";var at=Object.prototype,N=function(d){var T=d&&d.constructor,y=typeof T=="function"&&T.prototype||at;return d===y},t=null},69792:function(at,N,t){"use strict";var d=t(15247),T=function(C){return isType(C,"RegExp")},y=null},24872:function(at,N,t){"use strict";var d=t(15247);N.Z=function(T){return(0,d.Z)(T,"String")}},15247:function(at,N){"use strict";var t={}.toString,d=function(T,y){return t.call(T)==="[object "+y+"]"};N.Z=d},52928:function(at,N,t){"use strict";var d=t(91755),T=t(96408),y=Object.keys?function(m){return Object.keys(m)}:function(m){var f=[];return(0,d.Z)(m,function(h,v){(0,T.Z)(m)&&v==="prototype"||f.push(v)}),f},C=null},29869:function(at,N,t){"use strict";var d=t(66881),T=t(96408),y=function(C,m){if(isArray(C)){for(var f,h=-1/0,v=0;v<C.length;v++){var o=C[v],r=isFunction(m)?m(o):o[m];r>h&&(f=o,h=r)}return f}}},93540:function(at,N,t){"use strict";var d=t(66881),T=function(y){if(isArray(y))return y.reduce(function(C,m){return Math.max(C,m)},y[0])}},22968:function(at,N,t){"use strict";var d=t(15767),T=t(56392),y=t(12996),C=t(24872),m,f=(0,y.Z)(function(h,v){v===void 0&&(v={});var o=v.fontSize,r=v.fontFamily,a=v.fontWeight,s=v.fontStyle,u=v.fontVariant;return m||(m=document.createElement("canvas").getContext("2d")),m.font=[s,u,a,o+"px",r].join(" "),m.measureText((0,C.Z)(h)?h:"").width},function(h,v){return v===void 0&&(v={}),(0,d.pr)([h],(0,T.Z)(v)).join("")})},12996:function(at,N,t){"use strict";var d=t(96408);N.Z=function(T,y){if(!(0,d.Z)(T))throw new TypeError("Expected a function");var C=function(){for(var m=[],f=0;f<arguments.length;f++)m[f]=arguments[f];var h=y?y.apply(this,m):m[0],v=C.cache;if(v.has(h))return v.get(h);var o=T.apply(this,m);return v.set(h,o),o};return C.cache=new Map,C}},70311:function(at,N,t){"use strict";var d=t(66881),T=t(96408),y=function(C,m){if(isArray(C)){for(var f,h=1/0,v=0;v<C.length;v++){var o=C[v],r=isFunction(m)?m(o):o[m];r<h&&(f=o,h=r)}return f}}},30753:function(at,N,t){"use strict";var d=t(66881),T=function(y){if(isArray(y))return y.reduce(function(C,m){return Math.min(C,m)},y[0])}},43427:function(){"use strict";var at={};function N(d){var T=at[d];if(!T){for(var y=d.toString(16),C=y.length;C<6;C++)y="0"+y;T="#"+y,at[d]=T}return T}var t=null},5465:function(at,N,t){"use strict";var d=t(59410),T=function(y,C){return reduce(y,function(m,f,h){return C.includes(h)||(m[h]=f),m},{})}},90718:function(at,N,t){"use strict";var d=t(66881);function T(C){var m=0,f=0,h=0,v=0;return isArray(C)?C.length===1?m=f=h=v=C[0]:C.length===2?(m=h=C[0],f=v=C[1]):C.length===3?(m=C[0],f=v=C[1],h=C[2]):(m=C[0],f=C[1],h=C[2],v=C[3]):m=f=h=v=C,{r1:m,r2:f,r3:h,r4:v}}var y=null},25277:function(at,N,t){"use strict";var d=t(91755),T=t(83231),y=Object.prototype.hasOwnProperty,C=function(m,f){if(m===null||!isPlainObject(m))return{};var h={};return each(f,function(v){y.call(m,v)&&(h[v]=m[v])}),h}},84441:function(){"use strict";var at=Array.prototype.splice,N=function(T,y){if(!isArrayLike(T))return[];for(var C=T?y.length:0,m=C-1;C--;){var f=void 0,h=y[C];(C===m||h!==f)&&(f=h,at.call(T,h,1))}return T},t=null},63148:function(){"use strict";var at=Array.prototype,N=at.splice,t=at.indexOf,d=function(y){for(var C=[],m=1;m<arguments.length;m++)C[m-1]=arguments[m];for(var f=0;f<C.length;f++)for(var h=C[f],v=-1;(v=t.call(y,h))>-1;)N.call(y,v,1);return y},T=null},59410:function(at,N,t){"use strict";var d=t(91755),T=t(66881),y=t(83231),C=function(f,h,v){if(!isArray(f)&&!isPlainObject(f))return f;var o=v;return each(f,function(r,a){o=h(o,r,a)}),o},m=null},85011:function(at,N,t){"use strict";var d=t(84441),T=function(C,m){var f=[];if(!isArrayLike(C))return f;for(var h=-1,v=[],o=C.length;++h<o;){var r=C[h];m(r,h,C)&&(f.push(r),v.push(h))}return pullAt(C,v),f},y=null},41178:function(at,N,t){"use strict";var d=t(24872),T=t(56567),y=function(C,m,f){var h=C,v=isString(m)?m.split("."):m;return v.forEach(function(o,r){r<v.length-1?(isObject(h[o])||(h[o]=isNumber(v[r+1])?[]:{}),h=h[o]):h[o]=f}),C}},70042:function(at,N,t){"use strict";var d=t(66881),T=t(24872),y=t(96408);function C(f,h){var v;if(isFunction(h))v=function(r,a){return h(r)-h(a)};else{var o=[];isString(h)?o.push(h):isArray(h)&&(o=h),v=function(r,a){for(var s=0;s<o.length;s+=1){var u=o[s];if(r[u]>a[u])return 1;if(r[u]<a[u])return-1}return 0}}return f.sort(v),f}var m=null},43960:function(at,N,t){"use strict";var d=t(66881),T=t(24872);function y(m,f){return isArray(m)||isString(m)?m[0]===f:!1}var C=null},13773:function(){"use strict";var at=180/Math.PI,N=function(d){return at*d},t=null},73098:function(){"use strict";var at=Math.PI/180,N=function(d){return at*d},t=null},78474:function(at,N,t){"use strict";t.d(N,{Z:function(){return d}});function d(T,y){y===void 0&&(y=new Map);var C=[];if(Array.isArray(T))for(var m=0,f=T.length;m<f;m++){var h=T[m];y.has(h)||(C.push(h),y.set(h,!0))}return C}},18661:function(){"use strict";var at={},N=function(t){return t=t||"g",at[t]?at[t]+=1:at[t]=1,t+at[t]}},33861:function(at,N,t){"use strict";var d=t(66881),T=function(y,C){for(var m=[],f={},h=0;h<y.length;h++){var v=y[h],o=v[C];if(!isNil(o)){isArray(o)||(o=[o]);for(var r=0;r<o.length;r++){var a=o[r];f[a]||(m.push(a),f[a]=!0)}}}return m}},56392:function(at,N,t){"use strict";var d=t(91755),T=t(96408),y=Object.values?function(C){return Object.values(C)}:function(C){var m=[];return(0,d.Z)(C,function(f,h){(0,T.Z)(C)&&h==="prototype"||m.push(f)}),m};N.Z=y},39559:function(at,N,t){"use strict";t.d(N,{L:function(){return d}});function d(T){var y=document.createElement("div");y.innerHTML=T;var C=y.childNodes[0];return C&&y.contains(C)&&y.removeChild(C),C}},15378:function(at,N){"use strict";var t=function(d,T,y){return d<T?T:d>y?y:d};N.Z=t},77754:function(at,N,t){"use strict";var d=t(37234),T=function(y,C){return(0,d.Z)(y)?y.indexOf(C)>-1:!1};N.Z=T},83633:function(at,N){"use strict";function t(d,T,y){var C;return function(){var m=this,f=arguments,h=function(){C=null,y||d.apply(m,f)},v=y&&!C;clearTimeout(C),C=setTimeout(h,T),v&&d.apply(m,f)}}N.Z=t},15615:function(at,N,t){"use strict";var d=t(13535),T=t(77754),y=function(C,m){return m===void 0&&(m=[]),(0,d.Z)(C,function(f){return!(0,T.Z)(m,f)})};N.Z=y},13535:function(at,N,t){"use strict";var d=t(37234),T=function(y,C){if(!(0,d.Z)(y))return y;for(var m=[],f=0;f<y.length;f++){var h=y[f];C(h,f)&&m.push(h)}return m};N.Z=T},42204:function(at,N,t){"use strict";var d=t(83262),T=function(y){if(!(0,d.Z)(y))return[];for(var C=[],m=0;m<y.length;m++)C=C.concat(y[m]);return C};N.Z=T},11880:function(at,N){"use strict";var t={}.toString,d=function(T){return t.call(T).replace(/^\[object /,"").replace(/]$/,"")};N.Z=d},22040:function(at,N,t){"use strict";var d=t(27412);N.Z=function(T,y,C){for(var m=0,f=(0,d.Z)(y)?y.split("."):y;T&&m<f.length;)T=T[f[m++]];return T===void 0||m<f.length?C:T}},26218:function(at,N,t){"use strict";var d=t(83262),T=t(84237),y=Object.prototype.hasOwnProperty;function C(m,f){if(!f||!(0,d.Z)(m))return{};for(var h={},v=(0,T.Z)(f)?f:function(s){return s[f]},o,r=0;r<m.length;r++){var a=m[r];o=v(a),y.call(h,o)?h[o].push(a):h[o]=[a]}return h}N.Z=C},17602:function(at,N){"use strict";N.Z=function(t){return t}},37234:function(at,N){"use strict";var t=function(d){return d!==null&&typeof d!="function"&&isFinite(d.length)};N.Z=t},29803:function(at,N,t){"use strict";var d=t(15725),T=function(y){return(0,d.Z)(y,"Boolean")};N.Z=T},91984:function(at,N,t){"use strict";t.d(N,{Z:function(){return d}});function d(T){return T instanceof Date}},68627:function(at,N,t){"use strict";t.d(N,{Z:function(){return d}});function d(T){return T instanceof Element||T instanceof Document}},61989:function(at,N,t){"use strict";var d=t(89148),T=t(37234),y=t(11880),C=t(38850),m=Object.prototype.hasOwnProperty;function f(h){if((0,d.Z)(h))return!0;if((0,T.Z)(h))return!h.length;var v=(0,y.Z)(h);if(v==="Map"||v==="Set")return!h.size;if((0,C.Z)(h))return!Object.keys(h).length;for(var o in h)if(m.call(h,o))return!1;return!0}N.Z=f},99666:function(at,N,t){"use strict";var d=t(66611),T=t(37234),y=t(27412),C=function(m,f){if(m===f)return!0;if(!m||!f||(0,y.Z)(m)||(0,y.Z)(f))return!1;if((0,T.Z)(m)||(0,T.Z)(f)){if(m.length!==f.length)return!1;for(var h=!0,v=0;v<m.length&&(h=C(m[v],f[v]),!!h);v++);return h}if((0,d.Z)(m)||(0,d.Z)(f)){var o=Object.keys(m),r=Object.keys(f);if(o.length!==r.length)return!1;for(var h=!0,v=0;v<o.length&&(h=C(m[o[v]],f[o[v]]),!!h);v++);return h}return!1};N.Z=C},96625:function(at,N,t){"use strict";t.d(N,{Z:function(){return d}});function d(T){return T===null}},45378:function(at,N,t){"use strict";t.d(N,{Z:function(){return T}});var d=1e-5;function T(y,C,m){return m===void 0&&(m=d),y===C||Math.abs(y-C)<m}},38850:function(at,N){"use strict";var t=Object.prototype,d=function(T){var y=T&&T.constructor,C=typeof y=="function"&&y.prototype||t;return T===C};N.Z=d},36179:function(at,N){"use strict";var t=function(d){return d===void 0};N.Z=t},2159:function(at,N,t){"use strict";var d=t(47809),T=function(y){var C=(0,d.Z)(y);return C.charAt(0).toLowerCase()+C.substring(1)};N.Z=T},22043:function(at,N,t){"use strict";var d=t(83262),T=t(84237);N.Z=function(y,C){if((0,d.Z)(y)){for(var m,f=-1/0,h=0;h<y.length;h++){var v=y[h],o=(0,T.Z)(C)?C(v):v[C];o>f&&(m=v,f=o)}return m}}},7086:function(at,N,t){"use strict";t.d(N,{Z:function(){return d}});function d(T){if(!Array.isArray(T))return-1/0;var y=T.length;if(!y)return-1/0;for(var C=T[0],m=1;m<y;m++)C=Math.max(C,T[m]);return C}},15427:function(at,N,t){"use strict";t.d(N,{Z:function(){return y}});function d(C){var m,f,h,v=C||1;function o(a,s){++m>v&&(h=f,r(1),++m),f[a]=s}function r(a){m=0,f=Object.create(null),a||(h=Object.create(null))}return r(),{clear:r,has:function(a){return f[a]!==void 0||h[a]!==void 0},get:function(a){var s=f[a];if(s!==void 0)return s;if((s=h[a])!==void 0)return o(a,s),s},set:function(a,s){f[a]!==void 0?f[a]=s:o(a,s)}}}var T=new Map;function y(C,m,f){f===void 0&&(f=128);var h=function(){for(var v=[],o=0;o<arguments.length;o++)v[o]=arguments[o];var r=m?m.apply(this,v):v[0];T.has(C)||T.set(C,d(f));var a=T.get(C);if(a.has(r))return a.get(r);var s=C.apply(this,v);return a.set(r,s),s};return h}},54994:function(at,N,t){"use strict";var d=t(83262),T=t(84237);N.Z=function(y,C){if((0,d.Z)(y)){for(var m,f=1/0,h=0;h<y.length;h++){var v=y[h],o=(0,T.Z)(C)?C(v):v[C];o<f&&(m=v,f=o)}return m}}},20203:function(at,N,t){"use strict";var d=t(83262);N.Z=function(T){if((0,d.Z)(T))return T.reduce(function(y,C){return Math.min(y,C)},T[0])}},34466:function(at,N,t){"use strict";t.d(N,{Z:function(){return T}});function d(y,C){for(var m in C)C.hasOwnProperty(m)&&m!=="constructor"&&C[m]!==void 0&&(y[m]=C[m])}function T(y,C,m,f){return C&&d(y,C),m&&d(y,m),f&&d(y,f),y}},44502:function(at,N){"use strict";var t=function(d,T){return(d%T+T)%T};N.Z=t},52847:function(at,N){"use strict";N.Z=function(){}},97067:function(at,N,t){"use strict";var d=t(62342);N.Z=function(T,y){return(0,d.Z)(T,function(C,m,f){return y.includes(f)||(C[f]=m),C},{})}},62342:function(at,N,t){"use strict";var d=t(53179),T=t(83262),y=t(66520),C=function(m,f,h){if(!(0,T.Z)(m)&&!(0,y.Z)(m))return m;var v=h;return(0,d.Z)(m,function(o,r){v=f(v,o,r)}),v};N.Z=C},28767:function(at,N,t){"use strict";var d=t(70373),T=t(27412),y=t(26912);N.Z=function(C,m,f){var h=C,v=(0,T.Z)(m)?m.split("."):m;return v.forEach(function(o,r){r<v.length-1?((0,d.Z)(h[o])||(h[o]=(0,y.Z)(v[r+1])?[]:{}),h=h[o]):h[o]=f}),C}},94193:function(at,N){"use strict";function t(d,T){return!d||!T?d:d.replace(/\\?\{([^{}]+)\}/g,function(y,C){return y.charAt(0)==="\\"?y.slice(1):T[C]===void 0?"":T[C]})}N.Z=t},31922:function(at,N){"use strict";N.Z=function(t,d,T){var y,C,m,f,h=0;T||(T={});var v=function(){h=T.leading===!1?0:Date.now(),y=null,f=t.apply(C,m),y||(C=m=null)},o=function(){var r=Date.now();!h&&T.leading===!1&&(h=r);var a=d-(r-h);return C=this,m=arguments,a<=0||a>d?(y&&(clearTimeout(y),y=null),h=r,f=t.apply(C,m),y||(C=m=null)):!y&&T.trailing!==!1&&(y=setTimeout(v,a)),f};return o.cancel=function(){clearTimeout(y),h=0,y=C=m=null},o}},47809:function(at,N,t){"use strict";var d=t(89148);N.Z=function(T){return(0,d.Z)(T)?"":T.toString()}},36172:function(at,N,t){"use strict";t.d(N,{Z:function(){return d}});function d(T,y){y===void 0&&(y=new Map);var C=[];if(Array.isArray(T))for(var m=0,f=T.length;m<f;m++){var h=T[m];y.has(h)||(C.push(h),y.set(h,!0))}return C}},6466:function(at,N){"use strict";var t={};N.Z=function(d){return d=d||"g",t[d]?t[d]+=1:t[d]=1,d+t[d]}},18599:function(at,N,t){"use strict";var d=t(47809),T=function(y){var C=(0,d.Z)(y);return C.charAt(0).toUpperCase()+C.substring(1)};N.Z=T},84805:function(at,N,t){"use strict";t.d(N,{w:function(){return y}});var d=t(86567),T=t(19417);function y(C){if((0,d.b)(C))return[].concat(C);var m=(0,T.t)(C),f=0,h=0,v=0,o=0;return m.map(function(r){var a=r.slice(1).map(Number),s=r[0],u=s.toUpperCase();if(s==="M")return f=a[0],h=a[1],v=f,o=h,["M",f,h];var c;if(s!==u)switch(u){case"A":c=[u,a[0],a[1],a[2],a[3],a[4],a[5]+f,a[6]+h];break;case"V":c=[u,a[0]+h];break;case"H":c=[u,a[0]+f];break;default:{var E=a.map(function(e,i){return e+(i%2?h:f)});c=[u].concat(E)}}else c=[u].concat(a);var p=c.length;switch(u){case"Z":f=v,h=o;break;case"H":f=c[1];break;case"V":h=c[1];break;default:f=c[p-2],h=c[p-1],u==="M"&&(v=f,o=h)}return c})}},60246:function(at,N,t){"use strict";t.d(N,{Y:function(){return h}});var d=t(15767),T=t(91809),y=t(73218),C=t(50758),m=t(91033),f=t(31633);function h(v,o){if(o===void 0&&(o=!1),(0,m.H)(v)){var r=[].concat(v);return o?[r,[]]:r}for(var a=(0,C.A)(v),s=(0,d.pi)({},T.z),u=[],c="",E=a.length,p,e,i=[],n=0;n<E;n+=1){a[n]&&(c=a[n][0]),u[n]=c;var l=(0,f.Z)(a[n],s);a[n]=l,(0,y.B)(a,u,n),E=a.length,c==="Z"&&i.push(n),p=a[n],e=p.length,s.x1=+p[e-2],s.y1=+p[e-1],s.x2=+p[e-4]||s.x1,s.y2=+p[e-3]||s.y1}return o?[a,i]:a}},24827:function(at,N,t){"use strict";t.d(N,{M:function(){return T}});var d=t(65821);function T(y){for(var C=y.pathValue[y.segmentStart],m=C.toLowerCase(),f=y.data;f.length>=d.R[m]&&(m==="m"&&f.length>2?(y.segments.push([C].concat(f.splice(0,2))),m="l",C=C==="m"?"l":"L"):y.segments.push([C].concat(f.splice(0,d.R[m]))),!!d.R[m]););}},86905:function(at,N,t){"use strict";t.d(N,{U:function(){return d}});function d(T){return(T|32)===97}},96804:function(at,N,t){"use strict";t.d(N,{B:function(){return d},X:function(){return T}});function d(y){return y>=48&&y<=57||y===43||y===45||y===46}function T(y){return y>=48&&y<=57}},37775:function(at,N,t){"use strict";t.d(N,{C:function(){return d}});function d(T){switch(T|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}}},1395:function(at,N,t){"use strict";t.d(N,{W:function(){return d}});function d(T){var y=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];return T===10||T===13||T===8232||T===8233||T===32||T===9||T===11||T===12||T===160||T>=5760&&y.includes(T)}},65821:function(at,N,t){"use strict";t.d(N,{R:function(){return d}});var d={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0}},91809:function(at,N,t){"use strict";t.d(N,{z:function(){return d}});var d={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null}},19417:function(at,N,t){"use strict";t.d(N,{t:function(){return m}});var d=t(82591),T=t(69992),y=t(81045),C=t(31751);function m(f){if((0,d.n)(f))return[].concat(f);var h=new C.C(f);for((0,y.a)(h);h.index<h.max&&!h.err.length;)(0,T.J)(h);return h.err?h.err:h.segments}},31751:function(at,N,t){"use strict";t.d(N,{C:function(){return d}});var d=function(){function T(y){this.pathValue=y,this.segments=[],this.max=y.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}return T}()},83205:function(at,N,t){"use strict";t.d(N,{w:function(){return d}});function d(T){var y=T.index,C=T.pathValue,m=C.charCodeAt(y);if(m===48){T.param=0,T.index+=1;return}if(m===49){T.param=1,T.index+=1;return}T.err='[path-util]: invalid Arc flag "'.concat(C[y],'", expecting 0 or 1 at index ').concat(y)}},72270:function(at,N,t){"use strict";t.d(N,{a:function(){return T}});var d=t(96804);function T(y){var C=y.max,m=y.pathValue,f=y.index,h=f,v=!1,o=!1,r=!1,a=!1,s;if(h>=C){y.err="[path-util]: Invalid path value at index ".concat(h,', "pathValue" is missing param');return}if(s=m.charCodeAt(h),(s===43||s===45)&&(h+=1,s=m.charCodeAt(h)),!(0,d.X)(s)&&s!==46){y.err="[path-util]: Invalid path value at index ".concat(h,', "').concat(m[h],'" is not a number');return}if(s!==46){if(v=s===48,h+=1,s=m.charCodeAt(h),v&&h<C&&s&&(0,d.X)(s)){y.err="[path-util]: Invalid path value at index ".concat(f,', "').concat(m[f],'" illegal number');return}for(;h<C&&(0,d.X)(m.charCodeAt(h));)h+=1,o=!0;s=m.charCodeAt(h)}if(s===46){for(a=!0,h+=1;(0,d.X)(m.charCodeAt(h));)h+=1,r=!0;s=m.charCodeAt(h)}if(s===101||s===69){if(a&&!o&&!r){y.err="[path-util]: Invalid path value at index ".concat(h,', "').concat(m[h],'" invalid float exponent');return}if(h+=1,s=m.charCodeAt(h),(s===43||s===45)&&(h+=1),h<C&&(0,d.X)(m.charCodeAt(h)))for(;h<C&&(0,d.X)(m.charCodeAt(h));)h+=1;else{y.err="[path-util]: Invalid path value at index ".concat(h,', "').concat(m[h],'" invalid integer exponent');return}}y.index=h,y.param=+y.pathValue.slice(f,h)}},69992:function(at,N,t){"use strict";t.d(N,{J:function(){return o}});var d=t(24827),T=t(65821),y=t(83205),C=t(72270),m=t(81045),f=t(37775),h=t(96804),v=t(86905);function o(r){var a=r.max,s=r.pathValue,u=r.index,c=s.charCodeAt(u),E=T.R[s[u].toLowerCase()];if(r.segmentStart=u,!(0,f.C)(c)){r.err='[path-util]: Invalid path value "'.concat(s[u],'" is not a path command');return}if(r.index+=1,(0,m.a)(r),r.data=[],!E){(0,d.M)(r);return}for(;;){for(var p=E;p>0;p-=1){if((0,v.U)(c)&&(p===3||p===4)?(0,y.w)(r):(0,C.a)(r),r.err.length)return;r.data.push(r.param),(0,m.a)(r),r.index<a&&s.charCodeAt(r.index)===44&&(r.index+=1,(0,m.a)(r))}if(r.index>=r.max||!(0,h.B)(s.charCodeAt(r.index)))break}(0,d.M)(r)}},81045:function(at,N,t){"use strict";t.d(N,{a:function(){return T}});var d=t(1395);function T(y){for(var C=y.pathValue,m=y.max;y.index<m&&(0,d.W)(C.charCodeAt(y.index));)y.index+=1}},6477:function(at,N,t){"use strict";t.d(N,{W:function(){return T}});var d=t(5734);function T(y,C,m,f,h,v,o,r,a,s){var u=y,c=C,E=m,p=f,e=r,i=a,n=Math.PI*120/180,l=Math.PI/180*(+h||0),M=[],O,D,P,b,x;if(s)D=s[0],P=s[1],b=s[2],x=s[3];else{O=(0,d.c)(u,c,-l),u=O.x,c=O.y,O=(0,d.c)(e,i,-l),e=O.x,i=O.y;var L=(u-e)/2,S=(c-i)/2,K=L*L/(E*E)+S*S/(p*p);K>1&&(K=Math.sqrt(K),E*=K,p*=K);var U=E*E,j=p*p,F=(v===o?-1:1)*Math.sqrt(Math.abs((U*j-U*S*S-j*L*L)/(U*S*S+j*L*L)));b=F*E*S/p+(u+e)/2,x=F*-p*L/E+(c+i)/2,D=Math.asin(((c-x)/p*Math.pow(10,9)>>0)/Math.pow(10,9)),P=Math.asin(((i-x)/p*Math.pow(10,9)>>0)/Math.pow(10,9)),D=u<b?Math.PI-D:D,P=e<b?Math.PI-P:P,D<0&&(D=Math.PI*2+D),P<0&&(P=Math.PI*2+P),o&&D>P&&(D-=Math.PI*2),!o&&P>D&&(P-=Math.PI*2)}var W=P-D;if(Math.abs(W)>n){var w=P,z=e,H=i;P=D+n*(o&&P>D?1:-1),e=b+E*Math.cos(P),i=x+p*Math.sin(P),M=T(e,i,E,p,h,0,o,z,H,[P,w,b,x])}W=P-D;var Y=Math.cos(D),V=Math.sin(D),$=Math.cos(P),J=Math.sin(P),rt=Math.tan(W/4),lt=4/3*E*rt,tt=4/3*p*rt,G=[u,c],nt=[u+lt*V,c-tt*Y],ut=[e+lt*J,i-tt*$],dt=[e,i];if(nt[0]=2*G[0]-nt[0],nt[1]=2*G[1]-nt[1],s)return nt.concat(ut,dt,M);M=nt.concat(ut,dt,M);for(var et=[],_t=0,mt=M.length;_t<mt;_t+=1)et[_t]=_t%2?(0,d.c)(M[_t-1],M[_t],l).y:(0,d.c)(M[_t],M[_t+1],l).x;return et}},62370:function(at,N,t){"use strict";t.d(N,{U:function(){return d}});function d(T){return T.map(function(y){return Array.isArray(y)?[].concat(y):y})}},73218:function(at,N,t){"use strict";t.d(N,{B:function(){return d}});function d(T,y,C){if(T[C].length>7){T[C].shift();for(var m=T[C],f=C;m.length;)y[C]="A",T.splice(f+=1,0,["C"].concat(m.splice(0,6)));T.splice(C,1)}}},26826:function(at,N,t){"use strict";t.d(N,{w:function(){return y}});var d=t(15767),T=t(90319),y=function(C,m,f,h){var v=.5,o=(0,T.k)([C,m],[f,h],v);return(0,d.ev)((0,d.ev)([],o,!0),[f,h,f,h],!1)}},50758:function(at,N,t){"use strict";t.d(N,{A:function(){return f}});var d=t(15767),T=t(41282),y=t(91809),C=t(84805),m=t(43270);function f(h){if((0,T.y)(h))return[].concat(h);for(var v=(0,C.w)(h),o=(0,d.pi)({},y.z),r=0;r<v.length;r+=1){v[r]=(0,m.V)(v[r],o);var a=v[r],s=a.length;o.x1=+a[s-2],o.y1=+a[s-1],o.x2=+a[s-4]||o.x1,o.y2=+a[s-3]||o.y1}return v}},43270:function(at,N,t){"use strict";t.d(N,{V:function(){return d}});function d(T,y){var C=T[0],m=y.x1,f=y.y1,h=y.x2,v=y.y2,o=T.slice(1).map(Number),r=T;if("TQ".includes(C)||(y.qx=null,y.qy=null),C==="H")r=["L",T[1],f];else if(C==="V")r=["L",m,T[1]];else if(C==="S"){var a=m*2-h,s=f*2-v;y.x1=a,y.y1=s,r=["C",a,s].concat(o)}else if(C==="T"){var u=m*2-y.qx,c=f*2-y.qy;y.qx=u,y.qy=c,r=["Q",u,c].concat(o)}else if(C==="Q"){var E=o[0],p=o[1];y.qx=E,y.qy=p}return r}},3603:function(at,N,t){"use strict";t.d(N,{h:function(){return d}});function d(T,y,C,m,f,h){var v=.3333333333333333,o=2/3;return[v*T+o*C,v*y+o*m,v*f+o*C,v*h+o*m,f,h]}},2854:function(at,N,t){"use strict";t.d(N,{G:function(){return d}});function d(T){var y=T.slice(1).map(function(C,m,f){return m?f[m-1].slice(-2).concat(C.slice(1)):T[0].slice(1).concat(C.slice(1))}).map(function(C){return C.map(function(m,f){return C[C.length-f-2*(1-f%2)]})}).reverse();return[["M"].concat(y[0].slice(0,2))].concat(y.map(function(C){return["C"].concat(C.slice(2))}))}},31633:function(at,N,t){"use strict";t.d(N,{Z:function(){return C}});var d=t(6477),T=t(3603),y=t(26826);function C(m,f){var h=m[0],v=m.slice(1).map(Number),o=v[0],r=v[1],a,s=f.x1,u=f.y1,c=f.x,E=f.y;switch("TQ".includes(h)||(f.qx=null,f.qy=null),h){case"M":return f.x=o,f.y=r,m;case"A":return a=[s,u].concat(v),["C"].concat((0,d.W)(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9]));case"Q":return f.qx=o,f.qy=r,a=[s,u].concat(v),["C"].concat((0,T.h)(a[0],a[1],a[2],a[3],a[4],a[5]));case"L":return["C"].concat((0,y.w)(s,u,o,r));case"Z":return s===c&&u===E?["C",s,u,c,E,c,E]:["C"].concat((0,y.w)(s,u,c,E));default:}return m}},35476:function(at,N,t){"use strict";t.d(N,{y:function(){return d}});function d(T,y){return Math.sqrt((T[0]-y[0])*(T[0]-y[0])+(T[1]-y[1])*(T[1]-y[1]))}},29873:function(at,N,t){"use strict";t.d(N,{x:function(){return f}});var d=t(90319),T=t(28198),y=50;function C(h,v){v===void 0&&(v=.5);var o=h.slice(0,2),r=h.slice(2,4),a=h.slice(4,6),s=h.slice(6,8),u=(0,d.k)(o,r,v),c=(0,d.k)(r,a,v),E=(0,d.k)(a,s,v),p=(0,d.k)(u,c,v),e=(0,d.k)(c,E,v),i=(0,d.k)(p,e,v);return[["C"].concat(u,p,i),["C"].concat(e,E,s)]}function m(h){return h.map(function(v,o,r){var a=o&&r[o-1].slice(-2).concat(v.slice(1)),s=o?(0,T.S)(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],{bbox:!1}).length:0,u;return o?u=s?C(a):[v,v]:u=[v],{s:v,ss:u,l:s}})}function f(h,v,o,r){if(r===void 0&&(r=0),r>y)return console.warn("Maximum recursion depth reached in equalizeSegments"),[h,v];var a=m(h),s=m(v),u=a.length,c=s.length,E=a.filter(function(P){return P.l}).length,p=s.filter(function(P){return P.l}).length,e=a.filter(function(P){return P.l}).reduce(function(P,b){var x=b.l;return P+x},0)/E||0,i=s.filter(function(P){return P.l}).reduce(function(P,b){var x=b.l;return P+x},0)/p||0,n=o||Math.max(u,c),l=[e,i],M=[n-u,n-c],O=0,D=[a,s].map(function(P,b){return P.l===n?P.map(function(x){return x.s}):P.map(function(x,L){return O=L&&M[b]&&x.l>=l[b],M[b]-=O?1:0,O?x.ss:[x.s]}).flat()});return D[0].length===D[1].length?D:f(D[0],D[1],n,r+1)}},63701:function(at,N,t){"use strict";t.d(N,{b:function(){return T}});var d=t(62280);function T(y){return(0,d.Y)(y)>=0}},62280:function(at,N,t){"use strict";t.d(N,{Y:function(){return y}});var d=t(60246);function T(C,m,f,h,v,o,r,a){return 3*((a-m)*(f+v)-(r-C)*(h+o)+h*(C-v)-f*(m-o)+a*(v+C/3)-r*(o+m/3))/20}function y(C){var m=0,f=0,h=0;return(0,d.Y)(C).map(function(v){var o;switch(v[0]){case"M":return m=v[1],f=v[2],0;default:var r=v.slice(1),a=r[0],s=r[1],u=r[2],c=r[3],E=r[4],p=r[5];return h=T(m,f,a,s,u,c,E,p),o=v.slice(-2),m=o[0],f=o[1],h}}).reduce(function(v,o){return v+o},0)}},59123:function(at,N,t){"use strict";t.d(N,{r:function(){return y}});var d=t(15767),T=t(88271);function y(C,m,f){return(0,T.s)(C,m,(0,d.pi)((0,d.pi)({},f),{bbox:!1,length:!0})).point}},79011:function(at,N,t){"use strict";t.d(N,{g:function(){return y}});var d=t(35476);function T(C){var m=C.length,f=m-1;return C.map(function(h,v){return C.map(function(o,r){var a=v+r,s;return r===0||C[a]&&C[a][0]==="M"?(s=C[a],["M"].concat(s.slice(-2))):(a>=m&&(a-=f),C[a])})})}function y(C,m){var f=C.length-1,h=[],v=0,o=0,r=T(C);return r.forEach(function(a,s){C.slice(1).forEach(function(u,c){o+=(0,d.y)(C[(s+c)%f].slice(-2),m[c%f].slice(-2))}),h[s]=o,o=0}),v=h.indexOf(Math.min.apply(null,h)),r[v]}},59548:function(at,N,t){"use strict";t.d(N,{D:function(){return y}});var d=t(15767),T=t(88271);function y(C,m){return(0,T.s)(C,void 0,(0,d.pi)((0,d.pi)({},m),{bbox:!1,length:!0})).length}},86567:function(at,N,t){"use strict";t.d(N,{b:function(){return T}});var d=t(82591);function T(y){return(0,d.n)(y)&&y.every(function(C){var m=C[0];return m===m.toUpperCase()})}},91033:function(at,N,t){"use strict";t.d(N,{H:function(){return T}});var d=t(41282);function T(y){return(0,d.y)(y)&&y.every(function(C){var m=C[0];return"MC".includes(m)})}},41282:function(at,N,t){"use strict";t.d(N,{y:function(){return T}});var d=t(86567);function T(y){return(0,d.b)(y)&&y.every(function(C){var m=C[0];return"ACLMQZ".includes(m)})}},82591:function(at,N,t){"use strict";t.d(N,{n:function(){return T}});var d=t(65821);function T(y){return Array.isArray(y)&&y.every(function(C){var m=C[0].toLowerCase();return d.R[m]===C.length-1&&"achlmqstvz".includes(m)})}},90319:function(at,N,t){"use strict";t.d(N,{k:function(){return d}});function d(T,y,C){var m=T[0],f=T[1],h=y[0],v=y[1];return[m+(h-m)*C,f+(v-f)*C]}},88271:function(at,N,t){"use strict";t.d(N,{s:function(){return f}});var d=t(50758),T=t(7628),y=t(82378),C=t(28198),m=t(3859);function f(h,v,o){for(var r,a,s,u,c,E,p=(0,d.A)(h),e=typeof v=="number",i,n=[],l,M=0,O=0,D=0,P=0,b,x=[],L=[],S=0,K={x:0,y:0},U=K,j=K,F=K,W=0,w=0,z=p.length;w<z;w+=1)b=p[w],l=b[0],i=l==="M",n=i?n:[M,O].concat(b.slice(1)),i?(D=b[1],P=b[2],K={x:D,y:P},U=K,S=0,e&&v<.001&&(F=K)):l==="L"?(r=(0,T.s)(n[0],n[1],n[2],n[3],(v||0)-W),S=r.length,K=r.min,U=r.max,j=r.point):l==="A"?(a=(0,y.w)(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],(v||0)-W,o||{}),S=a.length,K=a.min,U=a.max,j=a.point):l==="C"?(s=(0,C.S)(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],(v||0)-W,o||{}),S=s.length,K=s.min,U=s.max,j=s.point):l==="Q"?(u=(0,m.b)(n[0],n[1],n[2],n[3],n[4],n[5],(v||0)-W,o||{}),S=u.length,K=u.min,U=u.max,j=u.point):l==="Z"&&(n=[M,O,D,P],c=(0,T.s)(n[0],n[1],n[2],n[3],(v||0)-W),S=c.length,K=c.min,U=c.max,j=c.point),e&&W<v&&W+S>=v&&(F=j),L.push(U),x.push(K),W+=S,E=l!=="Z"?b.slice(-2):[D,P],M=E[0],O=E[1];return e&&v>=W&&(F={x:M,y:O}),{length:W,point:F,min:{x:Math.min.apply(null,x.map(function(H){return H.x})),y:Math.min.apply(null,x.map(function(H){return H.y}))},max:{x:Math.max.apply(null,L.map(function(H){return H.x})),y:Math.max.apply(null,L.map(function(H){return H.y}))}}}},5734:function(at,N,t){"use strict";t.d(N,{c:function(){return d}});function d(T,y,C){var m=T*Math.cos(C)-y*Math.sin(C),f=T*Math.sin(C)+y*Math.cos(C);return{x:m,y:f}}},82378:function(at,N,t){"use strict";t.d(N,{w:function(){return m}});var d=t(7628),T=t(35476);function y(f,h){var v=f.x,o=f.y,r=h.x,a=h.y,s=v*r+o*a,u=Math.sqrt((Math.pow(v,2)+Math.pow(o,2))*(Math.pow(r,2)+Math.pow(a,2))),c=v*a-o*r<0?-1:1,E=c*Math.acos(s/u);return E}function C(f,h,v,o,r,a,s,u,c,E){var p=Math.abs,e=Math.sin,i=Math.cos,n=Math.sqrt,l=Math.PI,M=p(v),O=p(o),D=(r%360+360)%360,P=D*(l/180);if(f===u&&h===c)return{x:f,y:h};if(M===0||O===0)return(0,d.s)(f,h,u,c,E).point;var b=(f-u)/2,x=(h-c)/2,L={x:i(P)*b+e(P)*x,y:-e(P)*b+i(P)*x},S=Math.pow(L.x,2)/Math.pow(M,2)+Math.pow(L.y,2)/Math.pow(O,2);S>1&&(M*=n(S),O*=n(S));var K=Math.pow(M,2)*Math.pow(O,2)-Math.pow(M,2)*Math.pow(L.y,2)-Math.pow(O,2)*Math.pow(L.x,2),U=Math.pow(M,2)*Math.pow(L.y,2)+Math.pow(O,2)*Math.pow(L.x,2),j=K/U;j=j<0?0:j;var F=(a!==s?1:-1)*n(j),W={x:F*(M*L.y/O),y:F*(-(O*L.x)/M)},w={x:i(P)*W.x-e(P)*W.y+(f+u)/2,y:e(P)*W.x+i(P)*W.y+(h+c)/2},z={x:(L.x-W.x)/M,y:(L.y-W.y)/O},H=y({x:1,y:0},z),Y={x:(-L.x-W.x)/M,y:(-L.y-W.y)/O},V=y(z,Y);!s&&V>0?V-=2*l:s&&V<0&&(V+=2*l),V%=2*l;var $=H+V*E,J=M*i($),rt=O*e($),lt={x:i(P)*J-e(P)*rt+w.x,y:e(P)*J+i(P)*rt+w.y};return lt}function m(f,h,v,o,r,a,s,u,c,E,p){var e,i=p.bbox,n=i===void 0?!0:i,l=p.length,M=l===void 0?!0:l,O=p.sampleSize,D=O===void 0?30:O,P=typeof E=="number",b=f,x=h,L=0,S=[b,x,L],K=[b,x],U=0,j={x:0,y:0},F=[{x:b,y:x}];P&&E<=0&&(j={x:b,y:x});for(var W=0;W<=D;W+=1){if(U=W/D,e=C(f,h,v,o,r,a,s,u,c,U),b=e.x,x=e.y,n&&F.push({x:b,y:x}),M&&(L+=(0,T.y)(K,[b,x])),K=[b,x],P&&L>=E&&E>S[2]){var w=(L-E)/(L-S[2]);j={x:K[0]*(1-w)+S[0]*w,y:K[1]*(1-w)+S[1]*w}}S=[b,x,L]}return P&&E>=L&&(j={x:u,y:c}),{length:L,point:j,min:{x:Math.min.apply(null,F.map(function(z){return z.x})),y:Math.min.apply(null,F.map(function(z){return z.y}))},max:{x:Math.max.apply(null,F.map(function(z){return z.x})),y:Math.max.apply(null,F.map(function(z){return z.y}))}}}},28198:function(at,N,t){"use strict";t.d(N,{S:function(){return y}});var d=t(35476);function T(C,m,f,h,v,o,r,a,s){var u=1-s;return{x:Math.pow(u,3)*C+3*Math.pow(u,2)*s*f+3*u*Math.pow(s,2)*v+Math.pow(s,3)*r,y:Math.pow(u,3)*m+3*Math.pow(u,2)*s*h+3*u*Math.pow(s,2)*o+Math.pow(s,3)*a}}function y(C,m,f,h,v,o,r,a,s,u){var c,E=u.bbox,p=E===void 0?!0:E,e=u.length,i=e===void 0?!0:e,n=u.sampleSize,l=n===void 0?10:n,M=typeof s=="number",O=C,D=m,P=0,b=[O,D,P],x=[O,D],L=0,S={x:0,y:0},K=[{x:O,y:D}];M&&s<=0&&(S={x:O,y:D});for(var U=0;U<=l;U+=1){if(L=U/l,c=T(C,m,f,h,v,o,r,a,L),O=c.x,D=c.y,p&&K.push({x:O,y:D}),i&&(P+=(0,d.y)(x,[O,D])),x=[O,D],M&&P>=s&&s>b[2]){var j=(P-s)/(P-b[2]);S={x:x[0]*(1-j)+b[0]*j,y:x[1]*(1-j)+b[1]*j}}b=[O,D,P]}return M&&s>=P&&(S={x:r,y:a}),{length:P,point:S,min:{x:Math.min.apply(null,K.map(function(F){return F.x})),y:Math.min.apply(null,K.map(function(F){return F.y}))},max:{x:Math.max.apply(null,K.map(function(F){return F.x})),y:Math.max.apply(null,K.map(function(F){return F.y}))}}}},7628:function(at,N,t){"use strict";t.d(N,{s:function(){return y}});var d=t(90319),T=t(35476);function y(C,m,f,h,v){var o=(0,T.y)([C,m],[f,h]),r={x:0,y:0};if(typeof v=="number")if(v<=0)r={x:C,y:m};else if(v>=o)r={x:f,y:h};else{var a=(0,d.k)([C,m],[f,h],v/o),s=a[0],u=a[1];r={x:s,y:u}}return{length:o,point:r,min:{x:Math.min(C,f),y:Math.min(m,h)},max:{x:Math.max(C,f),y:Math.max(m,h)}}}},3859:function(at,N,t){"use strict";t.d(N,{b:function(){return y}});var d=t(35476);function T(C,m,f,h,v,o,r){var a=1-r;return{x:Math.pow(a,2)*C+2*a*r*f+Math.pow(r,2)*v,y:Math.pow(a,2)*m+2*a*r*h+Math.pow(r,2)*o}}function y(C,m,f,h,v,o,r,a){var s,u=a.bbox,c=u===void 0?!0:u,E=a.length,p=E===void 0?!0:E,e=a.sampleSize,i=e===void 0?10:e,n=typeof r=="number",l=C,M=m,O=0,D=[l,M,O],P=[l,M],b=0,x={x:0,y:0},L=[{x:l,y:M}];n&&r<=0&&(x={x:l,y:M});for(var S=0;S<=i;S+=1){if(b=S/i,s=T(C,m,f,h,v,o,b),l=s.x,M=s.y,c&&L.push({x:l,y:M}),p&&(O+=(0,d.y)(P,[l,M])),P=[l,M],n&&O>=r&&r>D[2]){var K=(O-r)/(O-D[2]);x={x:P[0]*(1-K)+D[0]*K,y:P[1]*(1-K)+D[1]*K}}D=[l,M,O]}return n&&r>=O&&(x={x:v,y:o}),{length:O,point:x,min:{x:Math.min.apply(null,L.map(function(U){return U.x})),y:Math.min.apply(null,L.map(function(U){return U.y}))},max:{x:Math.max.apply(null,L.map(function(U){return U.x})),y:Math.max.apply(null,L.map(function(U){return U.y}))}}}},12995:function(at,N,t){"use strict";var d=t(75271),T=t(90496),y=t(79578),C=function(m){y.Z&&((0,T.mf)(m)||console.error("useMemoizedFn expected parameter is a function, got ".concat(typeof m)));var f=(0,d.useRef)(m);f.current=(0,d.useMemo)(function(){return m},[m]);var h=(0,d.useRef)(void 0);return h.current||(h.current=function(){for(var v=[],o=0;o<arguments.length;o++)v[o]=arguments[o];return f.current.apply(this,v)}),h.current};N.Z=C},90496:function(at,N,t){"use strict";t.d(N,{mf:function(){return T}});var d=function(h){return h!==null&&typeof h=="object"},T=function(h){return typeof h=="function"},y=function(h){return typeof h=="string"},C=function(h){return typeof h=="boolean"},m=function(h){return typeof h=="number"},f=function(h){return typeof h=="undefined"}},79578:function(at,N){"use strict";var t=!1;N.Z=t},47227:function(at,N,t){"use strict";var d=t(75271);const T=(0,d.createContext)({});N.Z=T},23526:function(at,N,t){"use strict";var d=t(75271),T=t(49975),y=t(42684),C=t(30171);const m=d.forwardRef((f,h)=>{const{open:v,draggingDelete:o,value:r}=f,a=(0,d.useRef)(null),s=v&&!o,u=(0,d.useRef)(null);function c(){T.Z.cancel(u.current),u.current=null}function E(){u.current=(0,T.Z)(()=>{var p;(p=a.current)===null||p===void 0||p.forceAlign(),u.current=null})}return d.useEffect(()=>(s?E():c(),c),[s,f.title,r]),d.createElement(C.Z,Object.assign({ref:(0,y.sQ)(a,h)},f,{open:s}))});N.Z=m},85920:function(at,N,t){"use strict";var d=t(75271),T=t(82187),y=t.n(T),C=t(45072),m=t(49975),f=t(85148),h=t(47227),v=t(23526),o=t(71465),r=t(72977),a=t(20569),s=function(E,p){var e={};for(var i in E)Object.prototype.hasOwnProperty.call(E,i)&&p.indexOf(i)<0&&(e[i]=E[i]);if(E!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(E);n<i.length;n++)p.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(E,i[n])&&(e[i[n]]=E[i[n]]);return e};function u(E,p){return E||E===null?E:p||p===null?p:e=>typeof e=="number"?e.toString():""}const c=d.forwardRef((E,p)=>{const{prefixCls:e,range:i,className:n,rootClassName:l,style:M,disabled:O,tooltipPrefixCls:D,tipFormatter:P,tooltipVisible:b,getTooltipPopupContainer:x,tooltipPlacement:L,tooltip:S={},onChangeComplete:K,classNames:U,styles:j}=E,F=s(E,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement","tooltip","onChangeComplete","classNames","styles"]),{vertical:W}=E,{getPrefixCls:w,direction:z,className:H,style:Y,classNames:V,styles:$,getPopupContainer:J}=(0,a.dj)("slider"),rt=d.useContext(f.Z),lt=O!=null?O:rt,{handleRender:tt,direction:G}=d.useContext(h.Z),ut=(G||z)==="rtl",[dt,et]=(0,r.Z)(),[_t,mt]=(0,r.Z)(),ot=Object.assign({},S),{open:Et,placement:Ot,getPopupContainer:B,prefixCls:X,formatter:pt}=ot,Mt=Et!=null?Et:b,bt=(dt||_t)&&Mt!==!1,Rt=u(pt,P),[It,st]=(0,r.Z)(),Q=Zt=>{K==null||K(Zt),st(!1)},ct=(Zt,Vt)=>Zt||(Vt?ut?"left":"right":"top"),ht=w("slider",e),[ft,gt,yt]=(0,o.Z)(ht),Tt=y()(n,H,V.root,U==null?void 0:U.root,l,{[`${ht}-rtl`]:ut,[`${ht}-lock`]:It},gt,yt);ut&&!F.vertical&&(F.reverse=!F.reverse),d.useEffect(()=>{const Zt=()=>{(0,m.Z)(()=>{mt(!1)},1)};return document.addEventListener("mouseup",Zt),()=>{document.removeEventListener("mouseup",Zt)}},[]);const Dt=i&&!Mt,Ct=tt||((Zt,Vt)=>{const{index:Qt}=Vt,re=Zt.props;function ee(_e,ce,me){var De,Te,ve,Ne;me&&((Te=(De=F)[_e])===null||Te===void 0||Te.call(De,ce)),(Ne=(ve=re)[_e])===null||Ne===void 0||Ne.call(ve,ce)}const Ht=Object.assign(Object.assign({},re),{onMouseEnter:_e=>{et(!0),ee("onMouseEnter",_e)},onMouseLeave:_e=>{et(!1),ee("onMouseLeave",_e)},onMouseDown:_e=>{mt(!0),st(!0),ee("onMouseDown",_e)},onFocus:_e=>{var ce;mt(!0),(ce=F.onFocus)===null||ce===void 0||ce.call(F,_e),ee("onFocus",_e,!0)},onBlur:_e=>{var ce;mt(!1),(ce=F.onBlur)===null||ce===void 0||ce.call(F,_e),ee("onBlur",_e,!0)}}),he=d.cloneElement(Zt,Ht),ie=(!!Mt||bt)&&Rt!==null;return Dt?he:d.createElement(v.Z,Object.assign({},ot,{prefixCls:w("tooltip",X!=null?X:D),title:Rt?Rt(Vt.value):"",value:Vt.value,open:ie,placement:ct(Ot!=null?Ot:L,W),key:Qt,classNames:{root:`${ht}-tooltip`},getPopupContainer:B||x||J}),he)}),At=Dt?(Zt,Vt)=>{const Qt=d.cloneElement(Zt,{style:Object.assign(Object.assign({},Zt.props.style),{visibility:"hidden"})});return d.createElement(v.Z,Object.assign({},ot,{prefixCls:w("tooltip",X!=null?X:D),title:Rt?Rt(Vt.value):"",open:Rt!==null&&bt,placement:ct(Ot!=null?Ot:L,W),key:"tooltip",classNames:{root:`${ht}-tooltip`},getPopupContainer:B||x||J,draggingDelete:Vt.draggingDelete}),Qt)}:void 0,Ut=Object.assign(Object.assign(Object.assign(Object.assign({},$.root),Y),j==null?void 0:j.root),M),St=Object.assign(Object.assign({},$.tracks),j==null?void 0:j.tracks),zt=y()(V.tracks,U==null?void 0:U.tracks);return ft(d.createElement(C.Z,Object.assign({},F,{classNames:Object.assign({handle:y()(V.handle,U==null?void 0:U.handle),rail:y()(V.rail,U==null?void 0:U.rail),track:y()(V.track,U==null?void 0:U.track)},zt?{tracks:zt}:{}),styles:Object.assign({handle:Object.assign(Object.assign({},$.handle),j==null?void 0:j.handle),rail:Object.assign(Object.assign({},$.rail),j==null?void 0:j.rail),track:Object.assign(Object.assign({},$.track),j==null?void 0:j.track)},Object.keys(St).length?{tracks:St}:{}),step:F.step,range:i,className:Tt,style:Ut,disabled:lt,ref:p,prefixCls:ht,handleRender:Ct,activeHandleRender:At,onChangeComplete:Q})))});N.Z=c},71465:function(at,N,t){"use strict";var d=t(46390),T=t(72582),y=t(13926),C=t(6160),m=t(51623);const f=a=>{const{componentCls:s,antCls:u,controlSize:c,dotSize:E,marginFull:p,marginPart:e,colorFillContentHover:i,handleColorDisabled:n,calc:l,handleSize:M,handleSizeHover:O,handleActiveColor:D,handleActiveOutlineColor:P,handleLineWidth:b,handleLineWidthHover:x,motionDurationMid:L}=a;return{[s]:Object.assign(Object.assign({},(0,y.Wf)(a)),{position:"relative",height:c,margin:`${(0,d.bf)(e)} ${(0,d.bf)(p)}`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${(0,d.bf)(p)} ${(0,d.bf)(e)}`},[`${s}-rail`]:{position:"absolute",backgroundColor:a.railBg,borderRadius:a.borderRadiusXS,transition:`background-color ${L}`},[`${s}-track,${s}-tracks`]:{position:"absolute",transition:`background-color ${L}`},[`${s}-track`]:{backgroundColor:a.trackBg,borderRadius:a.borderRadiusXS},[`${s}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${s}-rail`]:{backgroundColor:a.railHoverBg},[`${s}-track`]:{backgroundColor:a.trackHoverBg},[`${s}-dot`]:{borderColor:i},[`${s}-handle::after`]:{boxShadow:`0 0 0 ${(0,d.bf)(b)} ${a.colorPrimaryBorderHover}`},[`${s}-dot-active`]:{borderColor:a.dotActiveBorderColor}},[`${s}-handle`]:{position:"absolute",width:M,height:M,outline:"none",userSelect:"none","&-dragging-delete":{opacity:0},"&::before":{content:'""',position:"absolute",insetInlineStart:l(b).mul(-1).equal(),insetBlockStart:l(b).mul(-1).equal(),width:l(M).add(l(b).mul(2)).equal(),height:l(M).add(l(b).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:M,height:M,backgroundColor:a.colorBgElevated,boxShadow:`0 0 0 ${(0,d.bf)(b)} ${a.handleColor}`,outline:"0px solid transparent",borderRadius:"50%",cursor:"pointer",transition:`
            inset-inline-start ${L},
            inset-block-start ${L},
            width ${L},
            height ${L},
            box-shadow ${L},
            outline ${L}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:l(O).sub(M).div(2).add(x).mul(-1).equal(),insetBlockStart:l(O).sub(M).div(2).add(x).mul(-1).equal(),width:l(O).add(l(x).mul(2)).equal(),height:l(O).add(l(x).mul(2)).equal()},"&::after":{boxShadow:`0 0 0 ${(0,d.bf)(x)} ${D}`,outline:`6px solid ${P}`,width:O,height:O,insetInlineStart:a.calc(M).sub(O).div(2).equal(),insetBlockStart:a.calc(M).sub(O).div(2).equal()}}},[`&-lock ${s}-handle`]:{"&::before, &::after":{transition:"none"}},[`${s}-mark`]:{position:"absolute",fontSize:a.fontSize},[`${s}-mark-text`]:{position:"absolute",display:"inline-block",color:a.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:a.colorText}},[`${s}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${s}-dot`]:{position:"absolute",width:E,height:E,backgroundColor:a.colorBgElevated,border:`${(0,d.bf)(b)} solid ${a.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${a.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:a.dotActiveBorderColor}},[`&${s}-disabled`]:{cursor:"not-allowed",[`${s}-rail`]:{backgroundColor:`${a.railBg} !important`},[`${s}-track`]:{backgroundColor:`${a.trackBgDisabled} !important`},[`
          ${s}-dot
        `]:{backgroundColor:a.colorBgElevated,borderColor:a.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${s}-handle::after`]:{backgroundColor:a.colorBgElevated,cursor:"not-allowed",width:M,height:M,boxShadow:`0 0 0 ${(0,d.bf)(b)} ${n}`,insetInlineStart:0,insetBlockStart:0},[`
          ${s}-mark-text,
          ${s}-dot
        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${u}-tooltip-inner`]:{minWidth:"unset"}})}},h=(a,s)=>{const{componentCls:u,railSize:c,handleSize:E,dotSize:p,marginFull:e,calc:i}=a,n=s?"paddingBlock":"paddingInline",l=s?"width":"height",M=s?"height":"width",O=s?"insetBlockStart":"insetInlineStart",D=s?"top":"insetInlineStart",P=i(c).mul(3).sub(E).div(2).equal(),b=i(E).sub(c).div(2).equal(),x=s?{borderWidth:`${(0,d.bf)(b)} 0`,transform:`translateY(${(0,d.bf)(i(b).mul(-1).equal())})`}:{borderWidth:`0 ${(0,d.bf)(b)}`,transform:`translateX(${(0,d.bf)(a.calc(b).mul(-1).equal())})`};return{[n]:c,[M]:i(c).mul(3).equal(),[`${u}-rail`]:{[l]:"100%",[M]:c},[`${u}-track,${u}-tracks`]:{[M]:c},[`${u}-track-draggable`]:Object.assign({},x),[`${u}-handle`]:{[O]:P},[`${u}-mark`]:{insetInlineStart:0,top:0,[D]:i(c).mul(3).add(s?0:e).equal(),[l]:"100%"},[`${u}-step`]:{insetInlineStart:0,top:0,[D]:c,[l]:"100%",[M]:c},[`${u}-dot`]:{position:"absolute",[O]:i(c).sub(p).div(2).equal()}}},v=a=>{const{componentCls:s,marginPartWithMark:u}=a;return{[`${s}-horizontal`]:Object.assign(Object.assign({},h(a,!0)),{[`&${s}-with-marks`]:{marginBottom:u}})}},o=a=>{const{componentCls:s}=a;return{[`${s}-vertical`]:Object.assign(Object.assign({},h(a,!1)),{height:"100%"})}},r=a=>{const u=a.controlHeightLG/4,c=a.controlHeightSM/2,E=a.lineWidth+1,p=a.lineWidth+1*1.5,e=a.colorPrimary,i=new T.t(e).setA(.2).toRgbString();return{controlSize:u,railSize:4,handleSize:u,handleSizeHover:c,dotSize:8,handleLineWidth:E,handleLineWidthHover:p,railBg:a.colorFillTertiary,railHoverBg:a.colorFillSecondary,trackBg:a.colorPrimaryBorder,trackHoverBg:a.colorPrimaryBorderHover,handleColor:a.colorPrimaryBorder,handleActiveColor:e,handleActiveOutlineColor:i,handleColorDisabled:new T.t(a.colorTextDisabled).onBackground(a.colorBgContainer).toHexString(),dotBorderColor:a.colorBorderSecondary,dotActiveBorderColor:a.colorPrimaryBorder,trackBgDisabled:a.colorBgContainerDisabled}};N.Z=(0,C.I$)("Slider",a=>{const s=(0,m.IX)(a,{marginPart:a.calc(a.controlHeight).sub(a.controlSize).div(2).equal(),marginFull:a.calc(a.controlSize).div(2).equal(),marginPartWithMark:a.calc(a.controlHeightLG).sub(a.controlSize).equal()});return[f(s),v(s),o(s)]},r)},72977:function(at,N,t){"use strict";t.d(N,{Z:function(){return y}});var d=t(75271),T=t(49975);function y(){const[C,m]=d.useState(!1),f=d.useRef(null),h=()=>{T.Z.cancel(f.current)},v=o=>{h(),o?m(o):f.current=(0,T.Z)(()=>{m(o)})};return d.useEffect(()=>h,[]),[C,v]}},25470:function(at,N,t){"use strict";t.d(N,{Ae:function(){return e},CF:function(){return Mt},vC:function(){return Ot},x1:function(){return f}});function d(st,Q,ct,ht,ft,gt){const yt=st,Tt=Q,Dt=ct-yt,Ct=ht-Tt;let At=ft-yt,Ut=gt-Tt,St=At*Dt+Ut*Ct,zt=0;St<=0?zt=0:(At=Dt-At,Ut=Ct-Ut,St=At*Dt+Ut*Ct,St<=0?zt=0:zt=St*St/(Dt*Dt+Ct*Ct));const Zt=At*At+Ut*Ut-zt;return Zt<0?0:Zt}function T(st,Q,ct,ht){return(st-ct)*(st-ct)+(Q-ht)*(Q-ht)}function y(st,Q,ct,ht,ft){return T(st,Q,ct,ht)<ft*ft}function C(st){if(!Number.isFinite(st))return ct=>ct;if(st===0)return Math.round;const Q=Math.pow(10,st);return ct=>Math.round(ct*Q)/Q}function m(st){const Q=Math.min(st.x1,st.x2),ct=Math.max(st.x1,st.x2),ht=Math.min(st.y1,st.y2),ft=Math.max(st.y1,st.y2);return{x:Q,y:ht,x2:ct,y2:ft,width:ct-Q,height:ft-ht}}class f{constructor(Q,ct,ht,ft){this.x1=Q,this.y1=ct,this.x2=ht,this.y2=ft}equals(Q){return this.x1===Q.x1&&this.y1===Q.y1&&this.x2===Q.x2&&this.y2===Q.y2}draw(Q){Q.moveTo(this.x1,this.y1),Q.lineTo(this.x2,this.y2)}toString(){return`Line(from=(${this.x1},${this.y1}),to=(${this.x2},${this.y2}))`}static from(Q){return new f(Q.x1,Q.y1,Q.x2,Q.y2)}cuts(Q,ct){if(this.y1===this.y2||ct<this.y1&&ct<=this.y2||ct>this.y1&&ct>=this.y2||Q>this.x1&&Q>=this.x2)return!1;if(Q<this.x1&&Q<=this.x2)return!0;const ht=this.x1+(ct-this.y1)*(this.x2-this.x1)/(this.y2-this.y1);return Q<=ht}distSquare(Q,ct){return d(this.x1,this.y1,this.x2,this.y2,Q,ct)}ptClose(Q,ct,ht){if(this.x1<this.x2){if(Q<this.x1-ht||Q>this.x2+ht)return!1}else if(Q<this.x2-ht||Q>this.x1+ht)return!1;if(this.y1<this.y2){if(ct<this.y1-ht||ct>this.y2+ht)return!1}else if(ct<this.y2-ht||ct>this.y1+ht)return!1;return!0}}var h;(function(st){st[st.POINT=1]="POINT",st[st.PARALLEL=2]="PARALLEL",st[st.COINCIDENT=3]="COINCIDENT",st[st.NONE=4]="NONE"})(h||(h={}));class v{constructor(Q,ct=0,ht=0){this.state=Q,this.x=ct,this.y=ht}}function o(st,Q){const ct=(Q.x2-Q.x1)*(st.y1-Q.y1)-(Q.y2-Q.y1)*(st.x1-Q.x1),ht=(st.x2-st.x1)*(st.y1-Q.y1)-(st.y2-st.y1)*(st.x1-Q.x1),ft=(Q.y2-Q.y1)*(st.x2-st.x1)-(Q.x2-Q.x1)*(st.y2-st.y1);if(ft){const gt=ct/ft,yt=ht/ft;return 0<=gt&&gt<=1&&0<=yt&&yt<=1?new v(h.POINT,st.x1+gt*(st.x2-st.x1),st.y1+gt*(st.y2-st.y1)):new v(h.NONE)}return new v(ct===0||ht===0?h.COINCIDENT:h.PARALLEL)}function r(st,Q){const ct=(Q.x2-Q.x1)*(st.y1-Q.y1)-(Q.y2-Q.y1)*(st.x1-Q.x1),ht=(st.x2-st.x1)*(st.y1-Q.y1)-(st.y2-st.y1)*(st.x1-Q.x1),ft=(Q.y2-Q.y1)*(st.x2-st.x1)-(Q.x2-Q.x1)*(st.y2-st.y1);if(ft){const gt=ct/ft,yt=ht/ft;if(0<=gt&&gt<=1&&0<=yt&&yt<=1)return gt}return Number.POSITIVE_INFINITY}function a(st,Q){function ct(ft,gt,yt,Tt){let Dt=r(Q,new f(ft,gt,yt,Tt));return Dt=Math.abs(Dt-.5),Dt>=0&&Dt<=1?1:0}let ht=ct(st.x,st.y,st.x2,st.y);return ht+=ct(st.x,st.y,st.x,st.y2),ht>1||(ht+=ct(st.x,st.y2,st.x2,st.y2),ht>1)?!0:(ht+=ct(st.x2,st.y,st.x2,st.y2),ht>0)}var s;(function(st){st[st.LEFT=0]="LEFT",st[st.TOP=1]="TOP",st[st.RIGHT=2]="RIGHT",st[st.BOTTOM=3]="BOTTOM"})(s||(s={}));function u(st,Q,ct){const ht=new Set;return st.width<=0?(ht.add(s.LEFT),ht.add(s.RIGHT)):Q<st.x?ht.add(s.LEFT):Q>st.x+st.width&&ht.add(s.RIGHT),st.height<=0?(ht.add(s.TOP),ht.add(s.BOTTOM)):ct<st.y?ht.add(s.TOP):ct>st.y+st.height&&ht.add(s.BOTTOM),ht}function c(st,Q){let ct=Q.x1,ht=Q.y1;const ft=Q.x2,gt=Q.y2,yt=Array.from(u(st,ft,gt));if(yt.length===0)return!0;let Tt=u(st,ct,ht);for(;Tt.size!==0;){for(const Dt of yt)if(Tt.has(Dt))return!1;if(Tt.has(s.RIGHT)||Tt.has(s.LEFT)){let Dt=st.x;Tt.has(s.RIGHT)&&(Dt+=st.width),ht=ht+(Dt-ct)*(gt-ht)/(ft-ct),ct=Dt}else{let Dt=st.y;Tt.has(s.BOTTOM)&&(Dt+=st.height),ct=ct+(Dt-ht)*(ft-ct)/(gt-ht),ht=Dt}Tt=u(st,ct,ht)}return!0}function E(st,Q){let ct=Number.POSITIVE_INFINITY,ht=0;function ft(gt,yt,Tt,Dt){let Ct=r(Q,new f(gt,yt,Tt,Dt));Ct=Math.abs(Ct-.5),Ct>=0&&Ct<=1&&(ht++,Ct<ct&&(ct=Ct))}return ft(st.x,st.y,st.x2,st.y),ft(st.x,st.y,st.x,st.y2),ht>1||(ft(st.x,st.y2,st.x2,st.y2),ht>1)?ct:(ft(st.x2,st.y,st.x2,st.y2),ht===0?-1:ct)}function p(st,Q){let ct=0;const ht=o(st,new f(Q.x,Q.y,Q.x2,Q.y));ct+=ht.state===h.POINT?1:0;const ft=o(st,new f(Q.x,Q.y,Q.x,Q.y2));ct+=ft.state===h.POINT?1:0;const gt=o(st,new f(Q.x,Q.y2,Q.x2,Q.y2));ct+=gt.state===h.POINT?1:0;const yt=o(st,new f(Q.x2,Q.y,Q.x2,Q.y2));return ct+=yt.state===h.POINT?1:0,{top:ht,left:ft,bottom:gt,right:yt,count:ct}}class e{constructor(Q,ct,ht,ft){this.x=Q,this.y=ct,this.width=ht,this.height=ft}get x2(){return this.x+this.width}get y2(){return this.y+this.height}get cx(){return this.x+this.width/2}get cy(){return this.y+this.height/2}get radius(){return Math.max(this.width,this.height)/2}static from(Q){return new e(Q.x,Q.y,Q.width,Q.height)}equals(Q){return this.x===Q.x&&this.y===Q.y&&this.width===Q.width&&this.height===Q.height}clone(){return new e(this.x,this.y,this.width,this.height)}add(Q){const ct=Math.min(this.x,Q.x),ht=Math.min(this.y,Q.y),ft=Math.max(this.x2,Q.x+Q.width),gt=Math.max(this.y2,Q.y+Q.height);this.x=ct,this.y=ht,this.width=ft-ct,this.height=gt-ht}addPoint(Q){const ct=Math.min(this.x,Q.x),ht=Math.min(this.y,Q.y),ft=Math.max(this.x2,Q.x),gt=Math.max(this.y2,Q.y);this.x=ct,this.y=ht,this.width=ft-ct,this.height=gt-ht}toString(){return`Rectangle[x=${this.x}, y=${this.y}, w=${this.width}, h=${this.height}]`}draw(Q){Q.rect(this.x,this.y,this.width,this.height)}containsPt(Q,ct){return Q>=this.x&&Q<=this.x2&&ct>=this.y&&ct<=this.y2}get area(){return this.width*this.height}intersects(Q){return this.area<=0||Q.width<=0||Q.height<=0?!1:Q.x+Q.width>this.x&&Q.y+Q.height>this.y&&Q.x<this.x2&&Q.y<this.y2}distSquare(Q,ct){if(this.containsPt(Q,ct))return 0;const ht=u(this,Q,ct);return ht.has(s.TOP)?ht.has(s.LEFT)?T(Q,ct,this.x,this.y):ht.has(s.RIGHT)?T(Q,ct,this.x2,this.y):(this.y-ct)*(this.y-ct):ht.has(s.BOTTOM)?ht.has(s.LEFT)?T(Q,ct,this.x,this.y2):ht.has(s.RIGHT)?T(Q,ct,this.x2,this.y2):(ct-this.y2)*(ct-this.y2):ht.has(s.LEFT)?(this.x-Q)*(this.x-Q):ht.has(s.RIGHT)?(Q-this.x2)*(Q-this.x2):0}}function i(st){if(st.length===0)return null;const Q=st[0],ct=new e(Q.x,Q.y,0,0);for(const ht of st)ct.addPoint(ht);return ct}class n{constructor(Q,ct,ht){this.cx=Q,this.cy=ct,this.radius=ht}get x(){return this.cx-this.radius}get x2(){return this.cx+this.radius}get width(){return this.radius*2}get y(){return this.cy-this.radius}get y2(){return this.cy+this.radius}get height(){return this.radius*2}static from(Q){return new n(Q.cx,Q.cy,Q.radius)}containsPt(Q,ct){return T(this.cx,this.cy,Q,ct)<this.radius*this.radius}distSquare(Q,ct){const ht=T(this.cx,this.cy,Q,ct);if(ht<this.radius*this.radius)return 0;const ft=Math.sqrt(ht)-this.radius;return ft*ft}draw(Q){Q.ellipse(this.cx,this.cy,this.radius,this.radius,0,0,Math.PI*2)}}class l{constructor(Q,ct=0,ht=0,ft=0,gt=0,yt=10,Tt=10,Dt=new Float32Array(Math.max(0,yt*Tt)).fill(0)){this.pixelGroup=Q,this.i=ct,this.j=ht,this.pixelX=ft,this.pixelY=gt,this.width=yt,this.height=Tt,this.area=Dt}createSub(Q,ct){return new l(this.pixelGroup,Q.x,Q.y,ct.x,ct.y,Q.width,Q.height)}static fromPixelRegion(Q,ct){return new l(ct,0,0,Q.x,Q.y,Math.ceil(Q.width/ct),Math.ceil(Q.height/ct))}copy(Q,ct){return new l(this.pixelGroup,this.scaleX(ct.x),this.scaleY(ct.y),ct.x,ct.y,Q.width,Q.height,Q.area)}boundX(Q){return Q<this.i?this.i:Q>=this.width?this.width-1:Q}boundY(Q){return Q<this.j?this.j:Q>=this.height?this.height-1:Q}scaleX(Q){return this.boundX(Math.floor((Q-this.pixelX)/this.pixelGroup))}scaleY(Q){return this.boundY(Math.floor((Q-this.pixelY)/this.pixelGroup))}scale(Q){const ct=this.scaleX(Q.x),ht=this.scaleY(Q.y),ft=this.boundX(Math.ceil((Q.x+Q.width-this.pixelX)/this.pixelGroup)),gt=this.boundY(Math.ceil((Q.y+Q.height-this.pixelY)/this.pixelGroup)),yt=ft-ct,Tt=gt-ht;return new e(ct,ht,yt,Tt)}invertScaleX(Q){return Math.round(Q*this.pixelGroup+this.pixelX)}invertScaleY(Q){return Math.round(Q*this.pixelGroup+this.pixelY)}addPadding(Q,ct){const ht=Math.ceil(ct/this.pixelGroup),ft=this.boundX(Q.x-ht),gt=this.boundY(Q.y-ht),yt=this.boundX(Q.x2+ht),Tt=this.boundY(Q.y2+ht),Dt=yt-ft,Ct=Tt-gt;return new e(ft,gt,Dt,Ct)}get(Q,ct){return Q<0||ct<0||Q>=this.width||ct>=this.height?Number.NaN:this.area[Q+ct*this.width]}inc(Q,ct,ht){Q<0||ct<0||Q>=this.width||ct>=this.height||(this.area[Q+ct*this.width]+=ht)}set(Q,ct,ht){Q<0||ct<0||Q>=this.width||ct>=this.height||(this.area[Q+ct*this.width]=ht)}incArea(Q,ct){if(Q.width<=0||Q.height<=0||ct===0)return;const ht=this.width,ft=Q.width,gt=Math.max(0,Q.i),yt=Math.max(0,Q.j),Tt=Math.min(Q.i+Q.width,ht),Dt=Math.min(Q.j+Q.height,this.height);if(!(Dt<=0||Tt<=0||gt>=ht||Dt>=this.height))for(let Ct=yt;Ct<Dt;Ct++){const At=(Ct-Q.j)*ft,Ut=Ct*ht;for(let St=gt;St<Tt;St++){const zt=Q.area[St-Q.i+At];zt!==0&&(this.area[St+Ut]+=ct*zt)}}}fill(Q){this.area.fill(Q)}fillArea(Q,ct){const ht=Q.x+Q.y*this.width;for(let ft=0;ft<Q.height;ft++){const gt=ht+ft*this.width;this.area.fill(ct,gt,gt+Q.width)}}fillHorizontalLine(Q,ct,ht,ft){const gt=Q+ct*this.width;this.area.fill(ft,gt,gt+ht)}fillVerticalLine(Q,ct,ht,ft){const gt=Q+ct*this.width;for(let yt=0;yt<ht;yt++)this.area[gt+yt*this.width]=ft}clear(){this.area.fill(0)}toString(){let Q="";for(let ct=0;ct<this.height;ct++){const ht=ct*this.width;for(let ft=0;ft<this.width;ft++){const gt=this.area[ht+ft];Q+=gt.toFixed(1).padStart(6),Q+=" "}Q+=`
`}return Q}draw(Q,ct=!0){if(this.width<=0||this.height<=0)return;Q.save(),ct&&Q.translate(this.pixelX,this.pixelY);const ht=this.area.reduce((yt,Tt)=>Math.min(yt,Tt),Number.POSITIVE_INFINITY),ft=this.area.reduce((yt,Tt)=>Math.max(yt,Tt),Number.NEGATIVE_INFINITY),gt=yt=>(yt-ht)/(ft-ht);Q.scale(this.pixelGroup,this.pixelGroup);for(let yt=0;yt<this.width;yt++)for(let Tt=0;Tt<this.height;Tt++){const Dt=this.area[yt+Tt*this.width];Q.fillStyle=`rgba(0, 0, 0, ${gt(Dt)})`,Q.fillRect(yt,Tt,1,1)}Q.restore()}drawThreshold(Q,ct,ht=!0){if(!(this.width<=0||this.height<=0)){Q.save(),ht&&Q.translate(this.pixelX,this.pixelY),Q.scale(this.pixelGroup,this.pixelGroup);for(let ft=0;ft<this.width;ft++)for(let gt=0;gt<this.height;gt++){const yt=this.area[ft+gt*this.width];Q.fillStyle=yt>ct?"black":"white",Q.fillRect(ft,gt,1,1)}Q.restore()}}}function M(st,Q){const ct=ht=>({x:ht.x-Q,y:ht.y-Q,width:ht.width+2*Q,height:ht.height+2*Q});return Array.isArray(st)?st.map(ct):ct(st)}function O(st,Q,ct){return D(Object.assign(m(st),{distSquare:(ht,ft)=>d(st.x1,st.y1,st.x2,st.y2,ht,ft)}),Q,ct)}function D(st,Q,ct){const ht=M(st,ct),ft=Q.scale(ht),gt=Q.createSub(ft,ht);return P(gt,Q,ct,(yt,Tt)=>st.distSquare(yt,Tt)),gt}function P(st,Q,ct,ht){const ft=ct*ct;for(let gt=0;gt<st.height;gt++)for(let yt=0;yt<st.width;yt++){const Tt=Q.invertScaleX(st.i+yt),Dt=Q.invertScaleY(st.j+gt),Ct=ht(Tt,Dt);if(Ct===0){st.set(yt,gt,ft);continue}if(Ct<ft){const At=ct-Math.sqrt(Ct);st.set(yt,gt,At*At)}}return st}function b(st,Q,ct){const ht=Q.scale(st),ft=Q.addPadding(ht,ct),gt=Q.createSub(ft,{x:st.x-ct,y:st.y-ct}),yt=ht.x-ft.x,Tt=ht.y-ft.y,Dt=ft.x2-ht.x2,Ct=ft.y2-ht.y2,At=ft.width-yt-Dt,Ut=ft.height-Tt-Ct,St=ct*ct;gt.fillArea({x:yt,y:Tt,width:At+1,height:Ut+1},St);const zt=[0],Zt=Math.max(Tt,yt,Dt,Ct);{const ee=Q.invertScaleX(ht.x+ht.width/2);for(let Ht=1;Ht<Zt;Ht++){const he=Q.invertScaleY(ht.y-Ht),ie=st.distSquare(ee,he);if(ie<St){const _e=ct-Math.sqrt(ie);zt.push(_e*_e)}else break}}const Vt=[],Qt=Math.max(yt,Dt),re=Math.max(Tt,Dt);for(let ee=1;ee<Qt;ee++){const Ht=Q.invertScaleX(ht.x-ee),he=[];for(let ie=1;ie<re;ie++){const _e=Q.invertScaleY(ht.y-ie),ce=st.distSquare(Ht,_e);if(ce<St){const me=ct-Math.sqrt(ce);he.push(me*me)}else he.push(0)}Vt.push(he)}for(let ee=1;ee<Math.min(Tt,zt.length);ee++){const Ht=zt[ee];gt.fillHorizontalLine(yt,Tt-ee,At+1,Ht)}for(let ee=1;ee<Math.min(Ct,zt.length);ee++){const Ht=zt[ee];gt.fillHorizontalLine(yt,Tt+Ut+ee,At+1,Ht)}for(let ee=1;ee<Math.min(yt,zt.length);ee++){const Ht=zt[ee];gt.fillVerticalLine(yt-ee,Tt,Ut+1,Ht)}for(let ee=1;ee<Math.min(Ct,zt.length);ee++){const Ht=zt[ee];gt.fillVerticalLine(yt+At+ee,Tt,Ut+1,Ht)}for(let ee=1;ee<yt;ee++){const Ht=Vt[ee-1],he=yt-ee;for(let ie=1;ie<Tt;ie++)gt.set(he,Tt-ie,Ht[ie-1]);for(let ie=1;ie<Ct;ie++)gt.set(he,Tt+Ut+ie,Ht[ie-1])}for(let ee=1;ee<Dt;ee++){const Ht=Vt[ee-1],he=yt+At+ee;for(let ie=1;ie<Tt;ie++)gt.set(he,Tt-ie,Ht[ie-1]);for(let ie=1;ie<Ct;ie++)gt.set(he,Tt+Ut+ie,Ht[ie-1])}return gt}function x(st,Q,ct,ht){return{x:st,y:Q,width:ct,height:ht}}function L(st,Q,ct){return{cx:st,cy:Q,radius:ct}}function S(st,Q,ct,ht){return{x1:st,y1:Q,x2:ct,y2:ht}}function K(st,Q){return{x:st,y:Q}}function U(st,Q,ct,ht){if(st.length===0)return[];const ft=z(st);return ft.map((gt,yt)=>{const Tt=ft.slice(0,yt);return j(Q,gt,Tt,ct,ht)}).flat()}function j(st,Q,ct,ht,ft){const gt=K(Q.cx,Q.cy),yt=w(gt,ct,st);if(yt==null)return[];const Tt=new f(gt.x,gt.y,yt.cx,yt.cy),Dt=F(Tt,st,ht,ft);return W(Dt,st)}function F(st,Q,ct,ht){const ft=[],gt=[];gt.push(st);let yt=!0;for(let Tt=0;Tt<ct&&yt;Tt++)for(yt=!1;!yt&&gt.length>0;){const Dt=gt.pop(),Ct=V(Q,Dt),At=Ct?p(Dt,Ct):null;if(!Ct||!At||At.count!==2){yt||ft.push(Dt);continue}let Ut=ht,St=J(Ct,Ut,At,!0),zt=Y(St,gt)||Y(St,ft),Zt=H(St,Q);for(;!zt&&Zt&&Ut>=1;)Ut/=1.5,St=J(Ct,Ut,At,!0),zt=Y(St,gt)||Y(St,ft),Zt=H(St,Q);if(St&&!zt&&!Zt&&(gt.push(new f(Dt.x1,Dt.y1,St.x,St.y)),gt.push(new f(St.x,St.y,Dt.x2,Dt.y2)),yt=!0),yt)continue;Ut=ht,St=J(Ct,Ut,At,!1);let Vt=Y(St,gt)||Y(St,ft);for(Zt=H(St,Q);!Vt&&Zt&&Ut>=1;)Ut/=1.5,St=J(Ct,Ut,At,!1),Vt=Y(St,gt)||Y(St,ft),Zt=H(St,Q);St&&!Vt&&(gt.push(new f(Dt.x1,Dt.y1,St.x,St.y)),gt.push(new f(St.x,St.y,Dt.x2,Dt.y2)),yt=!0),yt||ft.push(Dt)}for(;gt.length>0;)ft.push(gt.pop());return ft}function W(st,Q){const ct=[];for(;st.length>0;){const ht=st.pop();if(st.length===0){ct.push(ht);break}const ft=st.pop(),gt=new f(ht.x1,ht.y1,ft.x2,ft.y2);V(Q,gt)?(ct.push(ht),st.push(ft)):st.push(gt)}return ct}function w(st,Q,ct){let ht=Number.POSITIVE_INFINITY;return Q.reduce((ft,gt)=>{const yt=T(st.x,st.y,gt.cx,gt.cy);if(yt>ht)return ft;const Tt=new f(st.x,st.y,gt.cx,gt.cy),Dt=$(ct,Tt);return yt*(Dt+1)*(Dt+1)<ht&&(ft=gt,ht=yt*(Dt+1)*(Dt+1)),ft},null)}function z(st){if(st.length<2)return st;let Q=0,ct=0;return st.forEach(ht=>{Q+=ht.cx,ct+=ht.cy}),Q/=st.length,ct/=st.length,st.map(ht=>{const ft=Q-ht.cx,gt=ct-ht.cy,yt=ft*ft+gt*gt;return[ht,yt]}).sort((ht,ft)=>ht[1]-ft[1]).map(ht=>ht[0])}function H(st,Q){return Q.some(ct=>ct.containsPt(st.x,st.y))}function Y(st,Q){return Q.some(ct=>!!(y(ct.x1,ct.y1,st.x,st.y,.001)||y(ct.x2,ct.y2,st.x,st.y,.001)))}function V(st,Q){let ct=Number.POSITIVE_INFINITY,ht=null;for(const ft of st){if(!c(ft,Q))continue;const gt=E(ft,Q);gt>=0&&gt<ct&&(ht=ft,ct=gt)}return ht}function $(st,Q){return st.reduce((ct,ht)=>c(ht,Q)&&a(ht,Q)?ct+1:ct,0)}function J(st,Q,ct,ht){const ft=ct.top,gt=ct.left,yt=ct.bottom,Tt=ct.right;if(ht){if(gt.state===h.POINT){if(ft.state===h.POINT)return K(st.x-Q,st.y-Q);if(yt.state===h.POINT)return K(st.x-Q,st.y2+Q);const St=st.width*st.height;return st.width*((gt.y-st.y+(Tt.y-st.y))*.5)<St*.5?gt.y>Tt.y?K(st.x-Q,st.y-Q):K(st.x2+Q,st.y-Q):gt.y<Tt.y?K(st.x-Q,st.y2+Q):K(st.x2+Q,st.y2+Q)}if(Tt.state===h.POINT){if(ft.state===h.POINT)return K(st.x2+Q,st.y-Q);if(yt.state===h.POINT)return K(st.x2+Q,st.y2+Q)}const At=st.height*st.width;return st.height*((ft.x-st.x+(Tt.x-st.x))*.5)<At*.5?ft.x>yt.x?K(st.x-Q,st.y-Q):K(st.x-Q,st.y2+Q):ft.x<yt.x?K(st.x2+Q,st.y-Q):K(st.x2+Q,st.y2+Q)}if(gt.state===h.POINT){if(ft.state===h.POINT)return K(st.x2+Q,st.y2+Q);if(yt.state===h.POINT)return K(st.x2+Q,st.y-Q);const At=st.height*st.width;return st.width*((gt.y-st.y+(Tt.y-st.y))*.5)<At*.5?gt.y>Tt.y?K(st.x2+Q,st.y2+Q):K(st.x-Q,st.y2+Q):gt.y<Tt.y?K(st.x2+Q,st.y-Q):K(st.x-Q,st.y-Q)}if(Tt.state===h.POINT){if(ft.state===h.POINT)return K(st.x-Q,st.y2+Q);if(yt.state===h.POINT)return K(st.x-Q,st.y-Q)}const Dt=st.height*st.width;return st.height*((ft.x-st.x+(Tt.x-st.x))*.5)<Dt*.5?ft.x>yt.x?K(st.x2+Q,st.y2+Q):K(st.x2+Q,st.y-Q):ft.x<yt.x?K(st.x-Q,st.y2+Q):K(st.x-Q,st.y-Q)}function rt(st,Q,ct,ht){if(!(st.closed?ct<st.length:ct<st.length-1))return!1;const gt=st.get(Q),yt=st.get(ct+1);for(let Tt=Q+1;Tt<=ct;Tt++){const Dt=st.get(Tt);if(d(gt.x,gt.y,yt.x,yt.y,Dt.x,Dt.y)>ht)return!1}return!0}function lt(st=0){return Q=>{if(st<0||Q.length<3)return Q;const ct=[];let ht=0;const ft=st*st;for(;ht<Q.length;){let gt=ht+1;for(;rt(Q,ht,gt,ft);)gt++;ct.push(Q.get(ht)),ht=gt}return new ut(ct)}}function tt(st,Q){switch(st){case-2:return(((-Q+3)*Q-3)*Q+1)/6;case-1:return((3*Q-6)*Q*Q+4)/6;case 0:return(((-3*Q+3)*Q+3)*Q+1)/6;case 1:return Q*Q*Q/6;default:throw new Error("unknown error")}}function G(st=6){function gt(yt,Tt,Dt){let Ct=0,At=0;for(let Ut=-2;Ut<=1;Ut++){const St=yt.get(Tt+Ut),zt=tt(Ut,Dt);Ct+=zt*St.x,At+=zt*St.y}return{x:Ct,y:At}}return yt=>{if(yt.length<3)return yt;const Tt=[],Dt=yt.closed,Ct=yt.length+3-1+(Dt?0:2);Tt.push(gt(yt,2-(Dt?0:2),0));for(let At=2-(Dt?0:2);At<Ct;At++)for(let Ut=1;Ut<=st;Ut++)Tt.push(gt(yt,At,Ut/st));return new ut(Tt)}}function nt(st=8){return Q=>{let ct=st,ht=Q.length;if(ct>1)for(ht=Math.floor(Q.length/ct);ht<3&&ct>1;)ct-=1,ht=Math.floor(Q.length/ct);const ft=[];for(let gt=0,yt=0;yt<ht;yt++,gt+=ct)ft.push(Q.get(gt));return new ut(ft)}}class ut{constructor(Q=[],ct=!0){this.points=Q,this.closed=ct}get(Q){const ct=Q,ht=this.points.length;return Q<0?this.closed?this.get(Q+ht):this.points[0]:Q>=ht?this.closed?this.get(Q-ht):this.points[ht-1]:this.points[ct]}get length(){return this.points.length}toString(Q=1/0){const ct=this.points;if(ct.length===0)return"";const ht=typeof Q=="function"?Q:C(Q);let ft="M";for(const gt of ct)ft+=`${ht(gt.x)},${ht(gt.y)} L`;return ft=ft.slice(0,-1),this.closed&&(ft+=" Z"),ft}draw(Q){const ct=this.points;if(ct.length!==0){Q.beginPath(),Q.moveTo(ct[0].x,ct[0].y);for(const ht of ct)Q.lineTo(ht.x,ht.y);this.closed&&Q.closePath()}}sample(Q){return nt(Q)(this)}simplify(Q){return lt(Q)(this)}bSplines(Q){return G(Q)(this)}apply(Q){return Q(this)}containsElements(Q){const ct=i(this.points);return ct?Q.every(ht=>ct.containsPt(ht.cx,ht.cy)&&this.withinArea(ht.cx,ht.cy)):!1}withinArea(Q,ct){if(this.length===0)return!1;let ht=0;const ft=this.points[0],gt=new f(ft.x,ft.y,ft.x,ft.y);for(let yt=1;yt<this.points.length;yt++){const Tt=this.points[yt];gt.x1=gt.x2,gt.y1=gt.y2,gt.x2=Tt.x,gt.y2=Tt.y,gt.cuts(Q,ct)&&ht++}return gt.x1=gt.x2,gt.y1=gt.y2,gt.x2=ft.x,gt.y2=ft.y,gt.cuts(Q,ct)&&ht++,ht%2===1}}class dt{constructor(Q=0){this.count=0,this.arr=[],this.set=new Set,this.arr.length=Q}add(Q){this.set.add(`${Q.x}x${Q.y}`),this.arr[this.count++]=Q}contains(Q){return this.set.has(`${Q.x}x${Q.y}`)}isFirst(Q){if(this.count===0)return!1;const ct=this.arr[0];return ct!=null&&ct.x===Q.x&&ct.y===Q.y}path(){return new ut(this.arr.slice(0,this.count))}clear(){this.set.clear(),this.count=0}get(Q){return this.arr[Q]}get length(){return this.count}}const et=0,_t=1,mt=2,ot=3;function Et(st,Q){const ct=(Math.floor(st.width)+Math.floor(st.height))*2,ht=new dt(ct);function ft(Dt,Ct,At,Ut){const St=st.get(Dt,Ct);return Number.isNaN(St)?Number.NaN:St>Q?At+Ut:At}function gt(Dt,Ct){let At=et;return At=ft(Dt,Ct,At,1),At=ft(Dt+1,Ct,At,2),At=ft(Dt,Ct+1,At,4),At=ft(Dt+1,Ct+1,At,8),Number.isNaN(At)?-1:At}let yt=_t;function Tt(Dt,Ct){let At=Dt,Ut=Ct,St=st.invertScaleX(At),zt=st.invertScaleY(Ut);for(let Zt=0;Zt<st.width*st.height;Zt++){const Vt={x:St,y:zt};if(ht.contains(Vt)){if(ht.isFirst(Vt))return!0}else ht.add(Vt);const Qt=gt(At,Ut);switch(Qt){case-1:return!0;case 0:case 3:case 2:case 7:yt=mt;break;case 12:case 14:case 4:yt=ot;break;case 6:yt=yt===et?ot:mt;break;case 1:case 13:case 5:yt=et;break;case 9:yt=yt===mt?et:_t;break;case 10:case 8:case 11:yt=_t;break;default:return console.warn("Marching squares invalid state: "+Qt),!0}switch(yt){case et:Ut--,zt-=st.pixelGroup;break;case _t:Ut++,zt+=st.pixelGroup;break;case ot:At--,St-=st.pixelGroup;break;case mt:At++,St+=st.pixelGroup;break;default:return console.warn("Marching squares invalid state: "+Qt),!0}}return!0}for(let Dt=0;Dt<st.width;Dt++)for(let Ct=0;Ct<st.height;Ct++){if(st.get(Dt,Ct)<=Q)continue;const At=gt(Dt,Ct);if(!(At<0||At===15)&&Tt(Dt,Ct))return ht.path()}return null}const Ot={maxRoutingIterations:100,maxMarchingIterations:20,pixelGroup:4,edgeR0:10,edgeR1:20,nodeR0:15,nodeR1:50,morphBuffer:10,threshold:1,memberInfluenceFactor:1,edgeInfluenceFactor:1,nonMemberInfluenceFactor:-.8,virtualEdges:!0};function B(st){return st!=null&&typeof st.radius=="number"}function X(st,Q){if(B(st)!==B(Q))return!1;if(B(st)){const ht=Q;return st.cx===ht.cx&&st.cy===ht.cy&&st.radius===ht.radius}const ct=Q;return st.x===ct.x&&st.y===ct.y&&st.width===ct.width&&st.height===ct.height}var pt;(function(st){st[st.MEMBERS=0]="MEMBERS",st[st.NON_MEMBERS=1]="NON_MEMBERS",st[st.EDGES=2]="EDGES"})(pt||(pt={}));class Mt{constructor(Q={}){this.dirty=new Set,this.members=[],this.nonMembers=[],this.virtualEdges=[],this.edges=[],this.activeRegion=new e(0,0,0,0),this.potentialArea=new l(1,0,0,0,0,0,0),this.o=Object.assign({},Ot,Q)}pushMember(...Q){if(Q.length!==0){this.dirty.add(pt.MEMBERS);for(const ct of Q)this.members.push({raw:ct,obj:B(ct)?n.from(ct):e.from(ct),area:null})}}removeMember(Q){const ct=this.members.findIndex(ht=>X(ht.raw,Q));return ct<0?!1:(this.members.splice(ct,1),this.dirty.add(pt.MEMBERS),!0)}removeNonMember(Q){const ct=this.nonMembers.findIndex(ht=>X(ht.raw,Q));return ct<0?!1:(this.nonMembers.splice(ct,1),this.dirty.add(pt.NON_MEMBERS),!0)}removeEdge(Q){const ct=this.edges.findIndex(ht=>ht.obj.equals(Q));return ct<0?!1:(this.edges.splice(ct,1),this.dirty.add(pt.NON_MEMBERS),!0)}pushNonMember(...Q){if(Q.length!==0){this.dirty.add(pt.NON_MEMBERS);for(const ct of Q)this.nonMembers.push({raw:ct,obj:B(ct)?n.from(ct):e.from(ct),area:null})}}pushEdge(...Q){if(Q.length!==0){this.dirty.add(pt.EDGES);for(const ct of Q)this.edges.push({raw:ct,obj:f.from(ct),area:null})}}update(){const Q=this.dirty.has(pt.MEMBERS),ct=this.dirty.has(pt.NON_MEMBERS);let ht=this.dirty.has(pt.EDGES);this.dirty.clear();const ft=this.members.map(Ct=>Ct.obj);if(this.o.virtualEdges&&(Q||ct)){const Ct=this.nonMembers.map(St=>St.obj),At=U(ft,Ct,this.o.maxRoutingIterations,this.o.morphBuffer),Ut=new Map(this.virtualEdges.map(St=>[St.obj.toString(),St.area]));this.virtualEdges=At.map(St=>{var zt;return{raw:St,obj:St,area:(zt=Ut.get(St.toString()))!==null&&zt!==void 0?zt:null}}),ht=!0}let gt=!1;if(Q||ht){const Ct=this.virtualEdges.concat(this.edges).map(zt=>zt.obj),At=Rt(ft,Ct),Ut=Math.max(this.o.edgeR1,this.o.nodeR1)+this.o.morphBuffer,St=e.from(M(At,Ut));St.equals(this.activeRegion)||(gt=!0,this.activeRegion=St)}if(gt){const Ct=Math.ceil(this.activeRegion.width/this.o.pixelGroup),At=Math.ceil(this.activeRegion.height/this.o.pixelGroup);this.activeRegion.x!==this.potentialArea.pixelX||this.activeRegion.y!==this.potentialArea.pixelY?(this.potentialArea=l.fromPixelRegion(this.activeRegion,this.o.pixelGroup),this.members.forEach(Ut=>Ut.area=null),this.nonMembers.forEach(Ut=>Ut.area=null),this.edges.forEach(Ut=>Ut.area=null),this.virtualEdges.forEach(Ut=>Ut.area=null)):(Ct!==this.potentialArea.width||At!==this.potentialArea.height)&&(this.potentialArea=l.fromPixelRegion(this.activeRegion,this.o.pixelGroup))}const yt=new Map,Tt=Ct=>{if(Ct.area){const At=`${Ct.obj.width}x${Ct.obj.height}x${Ct.obj instanceof e?"R":"C"}`;yt.set(At,Ct.area)}},Dt=Ct=>{if(Ct.area)return;const At=`${Ct.obj.width}x${Ct.obj.height}x${Ct.obj instanceof e?"R":"C"}`;if(yt.has(At)){const St=yt.get(At);Ct.area=this.potentialArea.copy(St,{x:Ct.obj.x-this.o.nodeR1,y:Ct.obj.y-this.o.nodeR1});return}const Ut=Ct.obj instanceof e?b(Ct.obj,this.potentialArea,this.o.nodeR1):D(Ct.obj,this.potentialArea,this.o.nodeR1);Ct.area=Ut,yt.set(At,Ut)};this.members.forEach(Tt),this.nonMembers.forEach(Tt),this.members.forEach(Dt),this.nonMembers.forEach(Ct=>{this.activeRegion.intersects(Ct.obj)?Dt(Ct):Ct.area=null}),this.edges.forEach(Ct=>{Ct.area||(Ct.area=O(Ct.obj,this.potentialArea,this.o.edgeR1))}),this.virtualEdges.forEach(Ct=>{Ct.area||(Ct.area=O(Ct.obj,this.potentialArea,this.o.edgeR1))})}drawMembers(Q){for(const ct of this.members)ct.obj.draw(Q)}drawNonMembers(Q){for(const ct of this.nonMembers)ct.obj.draw(Q)}drawEdges(Q){for(const ct of this.edges)ct.obj.draw(Q)}drawPotentialArea(Q,ct=!0){this.potentialArea.draw(Q,ct)}compute(){if(this.members.length===0)return new ut([]);this.dirty.size>0&&this.update();const{o:Q,potentialArea:ct}=this,ht=this.members.map(Tt=>Tt.area),ft=this.virtualEdges.concat(this.edges).map(Tt=>Tt.area),gt=this.nonMembers.filter(Tt=>Tt.area!=null).map(Tt=>Tt.area),yt=this.members.map(Tt=>Tt.obj);return bt(ct,ht,ft,gt,Tt=>Tt.containsElements(yt),Q)}}function bt(st,Q,ct,ht,ft,gt={}){const yt=Object.assign({},Ot,gt);let Tt=yt.threshold,Dt=yt.memberInfluenceFactor,Ct=yt.edgeInfluenceFactor,At=yt.nonMemberInfluenceFactor;const Ut=(yt.nodeR0-yt.nodeR1)*(yt.nodeR0-yt.nodeR1),St=(yt.edgeR0-yt.edgeR1)*(yt.edgeR0-yt.edgeR1);for(let zt=0;zt<yt.maxMarchingIterations;zt++){if(st.clear(),Dt!==0){const Vt=Dt/Ut;for(const Qt of Q)st.incArea(Qt,Vt)}if(Ct!==0){const Vt=Ct/St;for(const Qt of ct)st.incArea(Qt,Vt)}if(At!==0){const Vt=At/Ut;for(const Qt of ht)st.incArea(Qt,Vt)}const Zt=Et(st,Tt);if(Zt&&ft(Zt))return Zt;if(Tt*=.95,zt<=yt.maxMarchingIterations*.5)Dt*=1.2,Ct*=1.2;else if(At!==0&&ht.length>0)At*=.8;else break}return new ut([])}function Rt(st,Q){if(st.length===0)return new e(0,0,0,0);const ct=e.from(st[0]);for(const ht of st)ct.add(ht);for(const ht of Q)ct.add(m(ht));return ct}function It(st,Q=[],ct=[],ht={}){if(st.length===0)return new ut([]);const ft=new Mt(ht);return ft.pushMember(...st),ft.pushNonMember(...Q),ft.pushEdge(...ct),ft.compute()}},99419:function(at){"use strict";at.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},2489:function(at,N,t){var d=t(99419),T=t(32858),y=Object.hasOwnProperty,C=Object.create(null);for(var m in d)y.call(d,m)&&(C[d[m]]=m);var f=at.exports={to:{},get:{}};f.get=function(o){var r=o.substring(0,3).toLowerCase(),a,s;switch(r){case"hsl":a=f.get.hsl(o),s="hsl";break;case"hwb":a=f.get.hwb(o),s="hwb";break;default:a=f.get.rgb(o),s="rgb";break}return a?{model:s,value:a}:null},f.get.rgb=function(o){if(!o)return null;var r=/^#([a-f0-9]{3,4})$/i,a=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,s=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,u=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,c=/^(\w+)$/,E=[0,0,0,1],p,e,i;if(p=o.match(a)){for(i=p[2],p=p[1],e=0;e<3;e++){var n=e*2;E[e]=parseInt(p.slice(n,n+2),16)}i&&(E[3]=parseInt(i,16)/255)}else if(p=o.match(r)){for(p=p[1],i=p[3],e=0;e<3;e++)E[e]=parseInt(p[e]+p[e],16);i&&(E[3]=parseInt(i+i,16)/255)}else if(p=o.match(s)){for(e=0;e<3;e++)E[e]=parseInt(p[e+1],0);p[4]&&(p[5]?E[3]=parseFloat(p[4])*.01:E[3]=parseFloat(p[4]))}else if(p=o.match(u)){for(e=0;e<3;e++)E[e]=Math.round(parseFloat(p[e+1])*2.55);p[4]&&(p[5]?E[3]=parseFloat(p[4])*.01:E[3]=parseFloat(p[4]))}else return(p=o.match(c))?p[1]==="transparent"?[0,0,0,0]:y.call(d,p[1])?(E=d[p[1]],E[3]=1,E):null:null;for(e=0;e<3;e++)E[e]=h(E[e],0,255);return E[3]=h(E[3],0,1),E},f.get.hsl=function(o){if(!o)return null;var r=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,a=o.match(r);if(a){var s=parseFloat(a[4]),u=(parseFloat(a[1])%360+360)%360,c=h(parseFloat(a[2]),0,100),E=h(parseFloat(a[3]),0,100),p=h(isNaN(s)?1:s,0,1);return[u,c,E,p]}return null},f.get.hwb=function(o){if(!o)return null;var r=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,a=o.match(r);if(a){var s=parseFloat(a[4]),u=(parseFloat(a[1])%360+360)%360,c=h(parseFloat(a[2]),0,100),E=h(parseFloat(a[3]),0,100),p=h(isNaN(s)?1:s,0,1);return[u,c,E,p]}return null},f.to.hex=function(){var o=T(arguments);return"#"+v(o[0])+v(o[1])+v(o[2])+(o[3]<1?v(Math.round(o[3]*255)):"")},f.to.rgb=function(){var o=T(arguments);return o.length<4||o[3]===1?"rgb("+Math.round(o[0])+", "+Math.round(o[1])+", "+Math.round(o[2])+")":"rgba("+Math.round(o[0])+", "+Math.round(o[1])+", "+Math.round(o[2])+", "+o[3]+")"},f.to.rgb.percent=function(){var o=T(arguments),r=Math.round(o[0]/255*100),a=Math.round(o[1]/255*100),s=Math.round(o[2]/255*100);return o.length<4||o[3]===1?"rgb("+r+"%, "+a+"%, "+s+"%)":"rgba("+r+"%, "+a+"%, "+s+"%, "+o[3]+")"},f.to.hsl=function(){var o=T(arguments);return o.length<4||o[3]===1?"hsl("+o[0]+", "+o[1]+"%, "+o[2]+"%)":"hsla("+o[0]+", "+o[1]+"%, "+o[2]+"%, "+o[3]+")"},f.to.hwb=function(){var o=T(arguments),r="";return o.length>=4&&o[3]!==1&&(r=", "+o[3]),"hwb("+o[0]+", "+o[1]+"%, "+o[2]+"%"+r+")"},f.to.keyword=function(o){return C[o.slice(0,3)]};function h(o,r,a){return Math.min(Math.max(r,o),a)}function v(o){var r=Math.round(o).toString(16).toUpperCase();return r.length<2?"0"+r:r}},2337:function(at){"use strict";var N=Object.prototype.hasOwnProperty,t="~";function d(){}Object.create&&(d.prototype=Object.create(null),new d().__proto__||(t=!1));function T(f,h,v){this.fn=f,this.context=h,this.once=v||!1}function y(f,h,v,o,r){if(typeof v!="function")throw new TypeError("The listener must be a function");var a=new T(v,o||f,r),s=t?t+h:h;return f._events[s]?f._events[s].fn?f._events[s]=[f._events[s],a]:f._events[s].push(a):(f._events[s]=a,f._eventsCount++),f}function C(f,h){--f._eventsCount===0?f._events=new d:delete f._events[h]}function m(){this._events=new d,this._eventsCount=0}m.prototype.eventNames=function(){var h=[],v,o;if(this._eventsCount===0)return h;for(o in v=this._events)N.call(v,o)&&h.push(t?o.slice(1):o);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(v)):h},m.prototype.listeners=function(h){var v=t?t+h:h,o=this._events[v];if(!o)return[];if(o.fn)return[o.fn];for(var r=0,a=o.length,s=new Array(a);r<a;r++)s[r]=o[r].fn;return s},m.prototype.listenerCount=function(h){var v=t?t+h:h,o=this._events[v];return o?o.fn?1:o.length:0},m.prototype.emit=function(h,v,o,r,a,s){var u=t?t+h:h;if(!this._events[u])return!1;var c=this._events[u],E=arguments.length,p,e;if(c.fn){switch(c.once&&this.removeListener(h,c.fn,void 0,!0),E){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,v),!0;case 3:return c.fn.call(c.context,v,o),!0;case 4:return c.fn.call(c.context,v,o,r),!0;case 5:return c.fn.call(c.context,v,o,r,a),!0;case 6:return c.fn.call(c.context,v,o,r,a,s),!0}for(e=1,p=new Array(E-1);e<E;e++)p[e-1]=arguments[e];c.fn.apply(c.context,p)}else{var i=c.length,n;for(e=0;e<i;e++)switch(c[e].once&&this.removeListener(h,c[e].fn,void 0,!0),E){case 1:c[e].fn.call(c[e].context);break;case 2:c[e].fn.call(c[e].context,v);break;case 3:c[e].fn.call(c[e].context,v,o);break;case 4:c[e].fn.call(c[e].context,v,o,r);break;default:if(!p)for(n=1,p=new Array(E-1);n<E;n++)p[n-1]=arguments[n];c[e].fn.apply(c[e].context,p)}}return!0},m.prototype.on=function(h,v,o){return y(this,h,v,o,!1)},m.prototype.once=function(h,v,o){return y(this,h,v,o,!0)},m.prototype.removeListener=function(h,v,o,r){var a=t?t+h:h;if(!this._events[a])return this;if(!v)return C(this,a),this;var s=this._events[a];if(s.fn)s.fn===v&&(!r||s.once)&&(!o||s.context===o)&&C(this,a);else{for(var u=0,c=[],E=s.length;u<E;u++)(s[u].fn!==v||r&&!s[u].once||o&&s[u].context!==o)&&c.push(s[u]);c.length?this._events[a]=c.length===1?c[0]:c:C(this,a)}return this},m.prototype.removeAllListeners=function(h){var v;return h?(v=t?t+h:h,this._events[v]&&C(this,v)):(this._events=new d,this._eventsCount=0),this},m.prototype.off=m.prototype.removeListener,m.prototype.addListener=m.prototype.on,m.prefixed=t,m.EventEmitter=m,at.exports=m},19537:function(at,N,t){"use strict";t.d(N,{Ib:function(){return d},WT:function(){return T},yy:function(){return C}});var d=1e-6,T=typeof Float32Array!="undefined"?Float32Array:Array,y=Math.random,C="zyx";function m(s){return s>=0?Math.round(s):s%.5===0?Math.floor(s):Math.round(s)}function f(s){T=s}var h=Math.PI/180,v=180/Math.PI;function o(s){return s*h}function r(s){return s*v}function a(s,u){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d;return Math.abs(s-u)<=c*Math.max(1,Math.abs(s),Math.abs(u))}},61899:function(at,N,t){"use strict";t.d(N,{Ue:function(){return T},al:function(){return f},xO:function(){return y}});var d=t(19537);function T(){var w=new d.WT(9);return d.WT!=Float32Array&&(w[1]=0,w[2]=0,w[3]=0,w[5]=0,w[6]=0,w[7]=0),w[0]=1,w[4]=1,w[8]=1,w}function y(w,z){return w[0]=z[0],w[1]=z[1],w[2]=z[2],w[3]=z[4],w[4]=z[5],w[5]=z[6],w[6]=z[8],w[7]=z[9],w[8]=z[10],w}function C(w){var z=new glMatrix.ARRAY_TYPE(9);return z[0]=w[0],z[1]=w[1],z[2]=w[2],z[3]=w[3],z[4]=w[4],z[5]=w[5],z[6]=w[6],z[7]=w[7],z[8]=w[8],z}function m(w,z){return w[0]=z[0],w[1]=z[1],w[2]=z[2],w[3]=z[3],w[4]=z[4],w[5]=z[5],w[6]=z[6],w[7]=z[7],w[8]=z[8],w}function f(w,z,H,Y,V,$,J,rt,lt){var tt=new d.WT(9);return tt[0]=w,tt[1]=z,tt[2]=H,tt[3]=Y,tt[4]=V,tt[5]=$,tt[6]=J,tt[7]=rt,tt[8]=lt,tt}function h(w,z,H,Y,V,$,J,rt,lt,tt){return w[0]=z,w[1]=H,w[2]=Y,w[3]=V,w[4]=$,w[5]=J,w[6]=rt,w[7]=lt,w[8]=tt,w}function v(w){return w[0]=1,w[1]=0,w[2]=0,w[3]=0,w[4]=1,w[5]=0,w[6]=0,w[7]=0,w[8]=1,w}function o(w,z){if(w===z){var H=z[1],Y=z[2],V=z[5];w[1]=z[3],w[2]=z[6],w[3]=H,w[5]=z[7],w[6]=Y,w[7]=V}else w[0]=z[0],w[1]=z[3],w[2]=z[6],w[3]=z[1],w[4]=z[4],w[5]=z[7],w[6]=z[2],w[7]=z[5],w[8]=z[8];return w}function r(w,z){var H=z[0],Y=z[1],V=z[2],$=z[3],J=z[4],rt=z[5],lt=z[6],tt=z[7],G=z[8],nt=G*J-rt*tt,ut=-G*$+rt*lt,dt=tt*$-J*lt,et=H*nt+Y*ut+V*dt;return et?(et=1/et,w[0]=nt*et,w[1]=(-G*Y+V*tt)*et,w[2]=(rt*Y-V*J)*et,w[3]=ut*et,w[4]=(G*H-V*lt)*et,w[5]=(-rt*H+V*$)*et,w[6]=dt*et,w[7]=(-tt*H+Y*lt)*et,w[8]=(J*H-Y*$)*et,w):null}function a(w,z){var H=z[0],Y=z[1],V=z[2],$=z[3],J=z[4],rt=z[5],lt=z[6],tt=z[7],G=z[8];return w[0]=J*G-rt*tt,w[1]=V*tt-Y*G,w[2]=Y*rt-V*J,w[3]=rt*lt-$*G,w[4]=H*G-V*lt,w[5]=V*$-H*rt,w[6]=$*tt-J*lt,w[7]=Y*lt-H*tt,w[8]=H*J-Y*$,w}function s(w){var z=w[0],H=w[1],Y=w[2],V=w[3],$=w[4],J=w[5],rt=w[6],lt=w[7],tt=w[8];return z*(tt*$-J*lt)+H*(-tt*V+J*rt)+Y*(lt*V-$*rt)}function u(w,z,H){var Y=z[0],V=z[1],$=z[2],J=z[3],rt=z[4],lt=z[5],tt=z[6],G=z[7],nt=z[8],ut=H[0],dt=H[1],et=H[2],_t=H[3],mt=H[4],ot=H[5],Et=H[6],Ot=H[7],B=H[8];return w[0]=ut*Y+dt*J+et*tt,w[1]=ut*V+dt*rt+et*G,w[2]=ut*$+dt*lt+et*nt,w[3]=_t*Y+mt*J+ot*tt,w[4]=_t*V+mt*rt+ot*G,w[5]=_t*$+mt*lt+ot*nt,w[6]=Et*Y+Ot*J+B*tt,w[7]=Et*V+Ot*rt+B*G,w[8]=Et*$+Ot*lt+B*nt,w}function c(w,z,H){var Y=z[0],V=z[1],$=z[2],J=z[3],rt=z[4],lt=z[5],tt=z[6],G=z[7],nt=z[8],ut=H[0],dt=H[1];return w[0]=Y,w[1]=V,w[2]=$,w[3]=J,w[4]=rt,w[5]=lt,w[6]=ut*Y+dt*J+tt,w[7]=ut*V+dt*rt+G,w[8]=ut*$+dt*lt+nt,w}function E(w,z,H){var Y=z[0],V=z[1],$=z[2],J=z[3],rt=z[4],lt=z[5],tt=z[6],G=z[7],nt=z[8],ut=Math.sin(H),dt=Math.cos(H);return w[0]=dt*Y+ut*J,w[1]=dt*V+ut*rt,w[2]=dt*$+ut*lt,w[3]=dt*J-ut*Y,w[4]=dt*rt-ut*V,w[5]=dt*lt-ut*$,w[6]=tt,w[7]=G,w[8]=nt,w}function p(w,z,H){var Y=H[0],V=H[1];return w[0]=Y*z[0],w[1]=Y*z[1],w[2]=Y*z[2],w[3]=V*z[3],w[4]=V*z[4],w[5]=V*z[5],w[6]=z[6],w[7]=z[7],w[8]=z[8],w}function e(w,z){return w[0]=1,w[1]=0,w[2]=0,w[3]=0,w[4]=1,w[5]=0,w[6]=z[0],w[7]=z[1],w[8]=1,w}function i(w,z){var H=Math.sin(z),Y=Math.cos(z);return w[0]=Y,w[1]=H,w[2]=0,w[3]=-H,w[4]=Y,w[5]=0,w[6]=0,w[7]=0,w[8]=1,w}function n(w,z){return w[0]=z[0],w[1]=0,w[2]=0,w[3]=0,w[4]=z[1],w[5]=0,w[6]=0,w[7]=0,w[8]=1,w}function l(w,z){return w[0]=z[0],w[1]=z[1],w[2]=0,w[3]=z[2],w[4]=z[3],w[5]=0,w[6]=z[4],w[7]=z[5],w[8]=1,w}function M(w,z){var H=z[0],Y=z[1],V=z[2],$=z[3],J=H+H,rt=Y+Y,lt=V+V,tt=H*J,G=Y*J,nt=Y*rt,ut=V*J,dt=V*rt,et=V*lt,_t=$*J,mt=$*rt,ot=$*lt;return w[0]=1-nt-et,w[3]=G-ot,w[6]=ut+mt,w[1]=G+ot,w[4]=1-tt-et,w[7]=dt-_t,w[2]=ut-mt,w[5]=dt+_t,w[8]=1-tt-nt,w}function O(w,z){var H=z[0],Y=z[1],V=z[2],$=z[3],J=z[4],rt=z[5],lt=z[6],tt=z[7],G=z[8],nt=z[9],ut=z[10],dt=z[11],et=z[12],_t=z[13],mt=z[14],ot=z[15],Et=H*rt-Y*J,Ot=H*lt-V*J,B=H*tt-$*J,X=Y*lt-V*rt,pt=Y*tt-$*rt,Mt=V*tt-$*lt,bt=G*_t-nt*et,Rt=G*mt-ut*et,It=G*ot-dt*et,st=nt*mt-ut*_t,Q=nt*ot-dt*_t,ct=ut*ot-dt*mt,ht=Et*ct-Ot*Q+B*st+X*It-pt*Rt+Mt*bt;return ht?(ht=1/ht,w[0]=(rt*ct-lt*Q+tt*st)*ht,w[1]=(lt*It-J*ct-tt*Rt)*ht,w[2]=(J*Q-rt*It+tt*bt)*ht,w[3]=(V*Q-Y*ct-$*st)*ht,w[4]=(H*ct-V*It+$*Rt)*ht,w[5]=(Y*It-H*Q-$*bt)*ht,w[6]=(_t*Mt-mt*pt+ot*X)*ht,w[7]=(mt*B-et*Mt-ot*Ot)*ht,w[8]=(et*pt-_t*B+ot*Et)*ht,w):null}function D(w,z,H){return w[0]=2/z,w[1]=0,w[2]=0,w[3]=0,w[4]=-2/H,w[5]=0,w[6]=-1,w[7]=1,w[8]=1,w}function P(w){return"mat3("+w[0]+", "+w[1]+", "+w[2]+", "+w[3]+", "+w[4]+", "+w[5]+", "+w[6]+", "+w[7]+", "+w[8]+")"}function b(w){return Math.sqrt(w[0]*w[0]+w[1]*w[1]+w[2]*w[2]+w[3]*w[3]+w[4]*w[4]+w[5]*w[5]+w[6]*w[6]+w[7]*w[7]+w[8]*w[8])}function x(w,z,H){return w[0]=z[0]+H[0],w[1]=z[1]+H[1],w[2]=z[2]+H[2],w[3]=z[3]+H[3],w[4]=z[4]+H[4],w[5]=z[5]+H[5],w[6]=z[6]+H[6],w[7]=z[7]+H[7],w[8]=z[8]+H[8],w}function L(w,z,H){return w[0]=z[0]-H[0],w[1]=z[1]-H[1],w[2]=z[2]-H[2],w[3]=z[3]-H[3],w[4]=z[4]-H[4],w[5]=z[5]-H[5],w[6]=z[6]-H[6],w[7]=z[7]-H[7],w[8]=z[8]-H[8],w}function S(w,z,H){return w[0]=z[0]*H,w[1]=z[1]*H,w[2]=z[2]*H,w[3]=z[3]*H,w[4]=z[4]*H,w[5]=z[5]*H,w[6]=z[6]*H,w[7]=z[7]*H,w[8]=z[8]*H,w}function K(w,z,H,Y){return w[0]=z[0]+H[0]*Y,w[1]=z[1]+H[1]*Y,w[2]=z[2]+H[2]*Y,w[3]=z[3]+H[3]*Y,w[4]=z[4]+H[4]*Y,w[5]=z[5]+H[5]*Y,w[6]=z[6]+H[6]*Y,w[7]=z[7]+H[7]*Y,w[8]=z[8]+H[8]*Y,w}function U(w,z){return w[0]===z[0]&&w[1]===z[1]&&w[2]===z[2]&&w[3]===z[3]&&w[4]===z[4]&&w[5]===z[5]&&w[6]===z[6]&&w[7]===z[7]&&w[8]===z[8]}function j(w,z){var H=w[0],Y=w[1],V=w[2],$=w[3],J=w[4],rt=w[5],lt=w[6],tt=w[7],G=w[8],nt=z[0],ut=z[1],dt=z[2],et=z[3],_t=z[4],mt=z[5],ot=z[6],Et=z[7],Ot=z[8];return Math.abs(H-nt)<=glMatrix.EPSILON*Math.max(1,Math.abs(H),Math.abs(nt))&&Math.abs(Y-ut)<=glMatrix.EPSILON*Math.max(1,Math.abs(Y),Math.abs(ut))&&Math.abs(V-dt)<=glMatrix.EPSILON*Math.max(1,Math.abs(V),Math.abs(dt))&&Math.abs($-et)<=glMatrix.EPSILON*Math.max(1,Math.abs($),Math.abs(et))&&Math.abs(J-_t)<=glMatrix.EPSILON*Math.max(1,Math.abs(J),Math.abs(_t))&&Math.abs(rt-mt)<=glMatrix.EPSILON*Math.max(1,Math.abs(rt),Math.abs(mt))&&Math.abs(lt-ot)<=glMatrix.EPSILON*Math.max(1,Math.abs(lt),Math.abs(ot))&&Math.abs(tt-Et)<=glMatrix.EPSILON*Math.max(1,Math.abs(tt),Math.abs(Et))&&Math.abs(G-Ot)<=glMatrix.EPSILON*Math.max(1,Math.abs(G),Math.abs(Ot))}var F=null,W=null},14690:function(at,N,t){"use strict";t.r(N),t.d(N,{add:function(){return ut},adjoint:function(){return r},clone:function(){return y},copy:function(){return C},create:function(){return T},decompose:function(){return U},determinant:function(){return a},equals:function(){return ot},exactEquals:function(){return mt},frob:function(){return nt},fromQuat:function(){return W},fromQuat2:function(){return x},fromRotation:function(){return M},fromRotationTranslation:function(){return b},fromRotationTranslationScale:function(){return j},fromRotationTranslationScaleOrigin:function(){return F},fromScaling:function(){return l},fromTranslation:function(){return n},fromValues:function(){return m},fromXRotation:function(){return O},fromYRotation:function(){return D},fromZRotation:function(){return P},frustum:function(){return w},getRotation:function(){return K},getScaling:function(){return S},getTranslation:function(){return L},identity:function(){return h},invert:function(){return o},lookAt:function(){return lt},mul:function(){return Et},multiply:function(){return s},multiplyScalar:function(){return et},multiplyScalarAndAdd:function(){return _t},ortho:function(){return J},orthoNO:function(){return $},orthoZO:function(){return rt},perspective:function(){return H},perspectiveFromFieldOfView:function(){return V},perspectiveNO:function(){return z},perspectiveZO:function(){return Y},rotate:function(){return E},rotateX:function(){return p},rotateY:function(){return e},rotateZ:function(){return i},scale:function(){return c},set:function(){return f},str:function(){return G},sub:function(){return Ot},subtract:function(){return dt},targetTo:function(){return tt},translate:function(){return u},transpose:function(){return v}});var d=t(19537);function T(){var B=new d.WT(16);return d.WT!=Float32Array&&(B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[11]=0,B[12]=0,B[13]=0,B[14]=0),B[0]=1,B[5]=1,B[10]=1,B[15]=1,B}function y(B){var X=new d.WT(16);return X[0]=B[0],X[1]=B[1],X[2]=B[2],X[3]=B[3],X[4]=B[4],X[5]=B[5],X[6]=B[6],X[7]=B[7],X[8]=B[8],X[9]=B[9],X[10]=B[10],X[11]=B[11],X[12]=B[12],X[13]=B[13],X[14]=B[14],X[15]=B[15],X}function C(B,X){return B[0]=X[0],B[1]=X[1],B[2]=X[2],B[3]=X[3],B[4]=X[4],B[5]=X[5],B[6]=X[6],B[7]=X[7],B[8]=X[8],B[9]=X[9],B[10]=X[10],B[11]=X[11],B[12]=X[12],B[13]=X[13],B[14]=X[14],B[15]=X[15],B}function m(B,X,pt,Mt,bt,Rt,It,st,Q,ct,ht,ft,gt,yt,Tt,Dt){var Ct=new d.WT(16);return Ct[0]=B,Ct[1]=X,Ct[2]=pt,Ct[3]=Mt,Ct[4]=bt,Ct[5]=Rt,Ct[6]=It,Ct[7]=st,Ct[8]=Q,Ct[9]=ct,Ct[10]=ht,Ct[11]=ft,Ct[12]=gt,Ct[13]=yt,Ct[14]=Tt,Ct[15]=Dt,Ct}function f(B,X,pt,Mt,bt,Rt,It,st,Q,ct,ht,ft,gt,yt,Tt,Dt,Ct){return B[0]=X,B[1]=pt,B[2]=Mt,B[3]=bt,B[4]=Rt,B[5]=It,B[6]=st,B[7]=Q,B[8]=ct,B[9]=ht,B[10]=ft,B[11]=gt,B[12]=yt,B[13]=Tt,B[14]=Dt,B[15]=Ct,B}function h(B){return B[0]=1,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=1,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=1,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}function v(B,X){if(B===X){var pt=X[1],Mt=X[2],bt=X[3],Rt=X[6],It=X[7],st=X[11];B[1]=X[4],B[2]=X[8],B[3]=X[12],B[4]=pt,B[6]=X[9],B[7]=X[13],B[8]=Mt,B[9]=Rt,B[11]=X[14],B[12]=bt,B[13]=It,B[14]=st}else B[0]=X[0],B[1]=X[4],B[2]=X[8],B[3]=X[12],B[4]=X[1],B[5]=X[5],B[6]=X[9],B[7]=X[13],B[8]=X[2],B[9]=X[6],B[10]=X[10],B[11]=X[14],B[12]=X[3],B[13]=X[7],B[14]=X[11],B[15]=X[15];return B}function o(B,X){var pt=X[0],Mt=X[1],bt=X[2],Rt=X[3],It=X[4],st=X[5],Q=X[6],ct=X[7],ht=X[8],ft=X[9],gt=X[10],yt=X[11],Tt=X[12],Dt=X[13],Ct=X[14],At=X[15],Ut=pt*st-Mt*It,St=pt*Q-bt*It,zt=pt*ct-Rt*It,Zt=Mt*Q-bt*st,Vt=Mt*ct-Rt*st,Qt=bt*ct-Rt*Q,re=ht*Dt-ft*Tt,ee=ht*Ct-gt*Tt,Ht=ht*At-yt*Tt,he=ft*Ct-gt*Dt,ie=ft*At-yt*Dt,_e=gt*At-yt*Ct,ce=Ut*_e-St*ie+zt*he+Zt*Ht-Vt*ee+Qt*re;return ce?(ce=1/ce,B[0]=(st*_e-Q*ie+ct*he)*ce,B[1]=(bt*ie-Mt*_e-Rt*he)*ce,B[2]=(Dt*Qt-Ct*Vt+At*Zt)*ce,B[3]=(gt*Vt-ft*Qt-yt*Zt)*ce,B[4]=(Q*Ht-It*_e-ct*ee)*ce,B[5]=(pt*_e-bt*Ht+Rt*ee)*ce,B[6]=(Ct*zt-Tt*Qt-At*St)*ce,B[7]=(ht*Qt-gt*zt+yt*St)*ce,B[8]=(It*ie-st*Ht+ct*re)*ce,B[9]=(Mt*Ht-pt*ie-Rt*re)*ce,B[10]=(Tt*Vt-Dt*zt+At*Ut)*ce,B[11]=(ft*zt-ht*Vt-yt*Ut)*ce,B[12]=(st*ee-It*he-Q*re)*ce,B[13]=(pt*he-Mt*ee+bt*re)*ce,B[14]=(Dt*St-Tt*Zt-Ct*Ut)*ce,B[15]=(ht*Zt-ft*St+gt*Ut)*ce,B):null}function r(B,X){var pt=X[0],Mt=X[1],bt=X[2],Rt=X[3],It=X[4],st=X[5],Q=X[6],ct=X[7],ht=X[8],ft=X[9],gt=X[10],yt=X[11],Tt=X[12],Dt=X[13],Ct=X[14],At=X[15],Ut=pt*st-Mt*It,St=pt*Q-bt*It,zt=pt*ct-Rt*It,Zt=Mt*Q-bt*st,Vt=Mt*ct-Rt*st,Qt=bt*ct-Rt*Q,re=ht*Dt-ft*Tt,ee=ht*Ct-gt*Tt,Ht=ht*At-yt*Tt,he=ft*Ct-gt*Dt,ie=ft*At-yt*Dt,_e=gt*At-yt*Ct;return B[0]=st*_e-Q*ie+ct*he,B[1]=bt*ie-Mt*_e-Rt*he,B[2]=Dt*Qt-Ct*Vt+At*Zt,B[3]=gt*Vt-ft*Qt-yt*Zt,B[4]=Q*Ht-It*_e-ct*ee,B[5]=pt*_e-bt*Ht+Rt*ee,B[6]=Ct*zt-Tt*Qt-At*St,B[7]=ht*Qt-gt*zt+yt*St,B[8]=It*ie-st*Ht+ct*re,B[9]=Mt*Ht-pt*ie-Rt*re,B[10]=Tt*Vt-Dt*zt+At*Ut,B[11]=ft*zt-ht*Vt-yt*Ut,B[12]=st*ee-It*he-Q*re,B[13]=pt*he-Mt*ee+bt*re,B[14]=Dt*St-Tt*Zt-Ct*Ut,B[15]=ht*Zt-ft*St+gt*Ut,B}function a(B){var X=B[0],pt=B[1],Mt=B[2],bt=B[3],Rt=B[4],It=B[5],st=B[6],Q=B[7],ct=B[8],ht=B[9],ft=B[10],gt=B[11],yt=B[12],Tt=B[13],Dt=B[14],Ct=B[15],At=X*It-pt*Rt,Ut=X*st-Mt*Rt,St=pt*st-Mt*It,zt=ct*Tt-ht*yt,Zt=ct*Dt-ft*yt,Vt=ht*Dt-ft*Tt,Qt=X*Vt-pt*Zt+Mt*zt,re=Rt*Vt-It*Zt+st*zt,ee=ct*St-ht*Ut+ft*At,Ht=yt*St-Tt*Ut+Dt*At;return Q*Qt-bt*re+Ct*ee-gt*Ht}function s(B,X,pt){var Mt=X[0],bt=X[1],Rt=X[2],It=X[3],st=X[4],Q=X[5],ct=X[6],ht=X[7],ft=X[8],gt=X[9],yt=X[10],Tt=X[11],Dt=X[12],Ct=X[13],At=X[14],Ut=X[15],St=pt[0],zt=pt[1],Zt=pt[2],Vt=pt[3];return B[0]=St*Mt+zt*st+Zt*ft+Vt*Dt,B[1]=St*bt+zt*Q+Zt*gt+Vt*Ct,B[2]=St*Rt+zt*ct+Zt*yt+Vt*At,B[3]=St*It+zt*ht+Zt*Tt+Vt*Ut,St=pt[4],zt=pt[5],Zt=pt[6],Vt=pt[7],B[4]=St*Mt+zt*st+Zt*ft+Vt*Dt,B[5]=St*bt+zt*Q+Zt*gt+Vt*Ct,B[6]=St*Rt+zt*ct+Zt*yt+Vt*At,B[7]=St*It+zt*ht+Zt*Tt+Vt*Ut,St=pt[8],zt=pt[9],Zt=pt[10],Vt=pt[11],B[8]=St*Mt+zt*st+Zt*ft+Vt*Dt,B[9]=St*bt+zt*Q+Zt*gt+Vt*Ct,B[10]=St*Rt+zt*ct+Zt*yt+Vt*At,B[11]=St*It+zt*ht+Zt*Tt+Vt*Ut,St=pt[12],zt=pt[13],Zt=pt[14],Vt=pt[15],B[12]=St*Mt+zt*st+Zt*ft+Vt*Dt,B[13]=St*bt+zt*Q+Zt*gt+Vt*Ct,B[14]=St*Rt+zt*ct+Zt*yt+Vt*At,B[15]=St*It+zt*ht+Zt*Tt+Vt*Ut,B}function u(B,X,pt){var Mt=pt[0],bt=pt[1],Rt=pt[2],It,st,Q,ct,ht,ft,gt,yt,Tt,Dt,Ct,At;return X===B?(B[12]=X[0]*Mt+X[4]*bt+X[8]*Rt+X[12],B[13]=X[1]*Mt+X[5]*bt+X[9]*Rt+X[13],B[14]=X[2]*Mt+X[6]*bt+X[10]*Rt+X[14],B[15]=X[3]*Mt+X[7]*bt+X[11]*Rt+X[15]):(It=X[0],st=X[1],Q=X[2],ct=X[3],ht=X[4],ft=X[5],gt=X[6],yt=X[7],Tt=X[8],Dt=X[9],Ct=X[10],At=X[11],B[0]=It,B[1]=st,B[2]=Q,B[3]=ct,B[4]=ht,B[5]=ft,B[6]=gt,B[7]=yt,B[8]=Tt,B[9]=Dt,B[10]=Ct,B[11]=At,B[12]=It*Mt+ht*bt+Tt*Rt+X[12],B[13]=st*Mt+ft*bt+Dt*Rt+X[13],B[14]=Q*Mt+gt*bt+Ct*Rt+X[14],B[15]=ct*Mt+yt*bt+At*Rt+X[15]),B}function c(B,X,pt){var Mt=pt[0],bt=pt[1],Rt=pt[2];return B[0]=X[0]*Mt,B[1]=X[1]*Mt,B[2]=X[2]*Mt,B[3]=X[3]*Mt,B[4]=X[4]*bt,B[5]=X[5]*bt,B[6]=X[6]*bt,B[7]=X[7]*bt,B[8]=X[8]*Rt,B[9]=X[9]*Rt,B[10]=X[10]*Rt,B[11]=X[11]*Rt,B[12]=X[12],B[13]=X[13],B[14]=X[14],B[15]=X[15],B}function E(B,X,pt,Mt){var bt=Mt[0],Rt=Mt[1],It=Mt[2],st=Math.sqrt(bt*bt+Rt*Rt+It*It),Q,ct,ht,ft,gt,yt,Tt,Dt,Ct,At,Ut,St,zt,Zt,Vt,Qt,re,ee,Ht,he,ie,_e,ce,me;return st<d.Ib?null:(st=1/st,bt*=st,Rt*=st,It*=st,Q=Math.sin(pt),ct=Math.cos(pt),ht=1-ct,ft=X[0],gt=X[1],yt=X[2],Tt=X[3],Dt=X[4],Ct=X[5],At=X[6],Ut=X[7],St=X[8],zt=X[9],Zt=X[10],Vt=X[11],Qt=bt*bt*ht+ct,re=Rt*bt*ht+It*Q,ee=It*bt*ht-Rt*Q,Ht=bt*Rt*ht-It*Q,he=Rt*Rt*ht+ct,ie=It*Rt*ht+bt*Q,_e=bt*It*ht+Rt*Q,ce=Rt*It*ht-bt*Q,me=It*It*ht+ct,B[0]=ft*Qt+Dt*re+St*ee,B[1]=gt*Qt+Ct*re+zt*ee,B[2]=yt*Qt+At*re+Zt*ee,B[3]=Tt*Qt+Ut*re+Vt*ee,B[4]=ft*Ht+Dt*he+St*ie,B[5]=gt*Ht+Ct*he+zt*ie,B[6]=yt*Ht+At*he+Zt*ie,B[7]=Tt*Ht+Ut*he+Vt*ie,B[8]=ft*_e+Dt*ce+St*me,B[9]=gt*_e+Ct*ce+zt*me,B[10]=yt*_e+At*ce+Zt*me,B[11]=Tt*_e+Ut*ce+Vt*me,X!==B&&(B[12]=X[12],B[13]=X[13],B[14]=X[14],B[15]=X[15]),B)}function p(B,X,pt){var Mt=Math.sin(pt),bt=Math.cos(pt),Rt=X[4],It=X[5],st=X[6],Q=X[7],ct=X[8],ht=X[9],ft=X[10],gt=X[11];return X!==B&&(B[0]=X[0],B[1]=X[1],B[2]=X[2],B[3]=X[3],B[12]=X[12],B[13]=X[13],B[14]=X[14],B[15]=X[15]),B[4]=Rt*bt+ct*Mt,B[5]=It*bt+ht*Mt,B[6]=st*bt+ft*Mt,B[7]=Q*bt+gt*Mt,B[8]=ct*bt-Rt*Mt,B[9]=ht*bt-It*Mt,B[10]=ft*bt-st*Mt,B[11]=gt*bt-Q*Mt,B}function e(B,X,pt){var Mt=Math.sin(pt),bt=Math.cos(pt),Rt=X[0],It=X[1],st=X[2],Q=X[3],ct=X[8],ht=X[9],ft=X[10],gt=X[11];return X!==B&&(B[4]=X[4],B[5]=X[5],B[6]=X[6],B[7]=X[7],B[12]=X[12],B[13]=X[13],B[14]=X[14],B[15]=X[15]),B[0]=Rt*bt-ct*Mt,B[1]=It*bt-ht*Mt,B[2]=st*bt-ft*Mt,B[3]=Q*bt-gt*Mt,B[8]=Rt*Mt+ct*bt,B[9]=It*Mt+ht*bt,B[10]=st*Mt+ft*bt,B[11]=Q*Mt+gt*bt,B}function i(B,X,pt){var Mt=Math.sin(pt),bt=Math.cos(pt),Rt=X[0],It=X[1],st=X[2],Q=X[3],ct=X[4],ht=X[5],ft=X[6],gt=X[7];return X!==B&&(B[8]=X[8],B[9]=X[9],B[10]=X[10],B[11]=X[11],B[12]=X[12],B[13]=X[13],B[14]=X[14],B[15]=X[15]),B[0]=Rt*bt+ct*Mt,B[1]=It*bt+ht*Mt,B[2]=st*bt+ft*Mt,B[3]=Q*bt+gt*Mt,B[4]=ct*bt-Rt*Mt,B[5]=ht*bt-It*Mt,B[6]=ft*bt-st*Mt,B[7]=gt*bt-Q*Mt,B}function n(B,X){return B[0]=1,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=1,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=1,B[11]=0,B[12]=X[0],B[13]=X[1],B[14]=X[2],B[15]=1,B}function l(B,X){return B[0]=X[0],B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=X[1],B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=X[2],B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}function M(B,X,pt){var Mt=pt[0],bt=pt[1],Rt=pt[2],It=Math.sqrt(Mt*Mt+bt*bt+Rt*Rt),st,Q,ct;return It<d.Ib?null:(It=1/It,Mt*=It,bt*=It,Rt*=It,st=Math.sin(X),Q=Math.cos(X),ct=1-Q,B[0]=Mt*Mt*ct+Q,B[1]=bt*Mt*ct+Rt*st,B[2]=Rt*Mt*ct-bt*st,B[3]=0,B[4]=Mt*bt*ct-Rt*st,B[5]=bt*bt*ct+Q,B[6]=Rt*bt*ct+Mt*st,B[7]=0,B[8]=Mt*Rt*ct+bt*st,B[9]=bt*Rt*ct-Mt*st,B[10]=Rt*Rt*ct+Q,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B)}function O(B,X){var pt=Math.sin(X),Mt=Math.cos(X);return B[0]=1,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=Mt,B[6]=pt,B[7]=0,B[8]=0,B[9]=-pt,B[10]=Mt,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}function D(B,X){var pt=Math.sin(X),Mt=Math.cos(X);return B[0]=Mt,B[1]=0,B[2]=-pt,B[3]=0,B[4]=0,B[5]=1,B[6]=0,B[7]=0,B[8]=pt,B[9]=0,B[10]=Mt,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}function P(B,X){var pt=Math.sin(X),Mt=Math.cos(X);return B[0]=Mt,B[1]=pt,B[2]=0,B[3]=0,B[4]=-pt,B[5]=Mt,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=1,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}function b(B,X,pt){var Mt=X[0],bt=X[1],Rt=X[2],It=X[3],st=Mt+Mt,Q=bt+bt,ct=Rt+Rt,ht=Mt*st,ft=Mt*Q,gt=Mt*ct,yt=bt*Q,Tt=bt*ct,Dt=Rt*ct,Ct=It*st,At=It*Q,Ut=It*ct;return B[0]=1-(yt+Dt),B[1]=ft+Ut,B[2]=gt-At,B[3]=0,B[4]=ft-Ut,B[5]=1-(ht+Dt),B[6]=Tt+Ct,B[7]=0,B[8]=gt+At,B[9]=Tt-Ct,B[10]=1-(ht+yt),B[11]=0,B[12]=pt[0],B[13]=pt[1],B[14]=pt[2],B[15]=1,B}function x(B,X){var pt=new d.WT(3),Mt=-X[0],bt=-X[1],Rt=-X[2],It=X[3],st=X[4],Q=X[5],ct=X[6],ht=X[7],ft=Mt*Mt+bt*bt+Rt*Rt+It*It;return ft>0?(pt[0]=(st*It+ht*Mt+Q*Rt-ct*bt)*2/ft,pt[1]=(Q*It+ht*bt+ct*Mt-st*Rt)*2/ft,pt[2]=(ct*It+ht*Rt+st*bt-Q*Mt)*2/ft):(pt[0]=(st*It+ht*Mt+Q*Rt-ct*bt)*2,pt[1]=(Q*It+ht*bt+ct*Mt-st*Rt)*2,pt[2]=(ct*It+ht*Rt+st*bt-Q*Mt)*2),b(B,X,pt),B}function L(B,X){return B[0]=X[12],B[1]=X[13],B[2]=X[14],B}function S(B,X){var pt=X[0],Mt=X[1],bt=X[2],Rt=X[4],It=X[5],st=X[6],Q=X[8],ct=X[9],ht=X[10];return B[0]=Math.sqrt(pt*pt+Mt*Mt+bt*bt),B[1]=Math.sqrt(Rt*Rt+It*It+st*st),B[2]=Math.sqrt(Q*Q+ct*ct+ht*ht),B}function K(B,X){var pt=new d.WT(3);S(pt,X);var Mt=1/pt[0],bt=1/pt[1],Rt=1/pt[2],It=X[0]*Mt,st=X[1]*bt,Q=X[2]*Rt,ct=X[4]*Mt,ht=X[5]*bt,ft=X[6]*Rt,gt=X[8]*Mt,yt=X[9]*bt,Tt=X[10]*Rt,Dt=It+ht+Tt,Ct=0;return Dt>0?(Ct=Math.sqrt(Dt+1)*2,B[3]=.25*Ct,B[0]=(ft-yt)/Ct,B[1]=(gt-Q)/Ct,B[2]=(st-ct)/Ct):It>ht&&It>Tt?(Ct=Math.sqrt(1+It-ht-Tt)*2,B[3]=(ft-yt)/Ct,B[0]=.25*Ct,B[1]=(st+ct)/Ct,B[2]=(gt+Q)/Ct):ht>Tt?(Ct=Math.sqrt(1+ht-It-Tt)*2,B[3]=(gt-Q)/Ct,B[0]=(st+ct)/Ct,B[1]=.25*Ct,B[2]=(ft+yt)/Ct):(Ct=Math.sqrt(1+Tt-It-ht)*2,B[3]=(st-ct)/Ct,B[0]=(gt+Q)/Ct,B[1]=(ft+yt)/Ct,B[2]=.25*Ct),B}function U(B,X,pt,Mt){X[0]=Mt[12],X[1]=Mt[13],X[2]=Mt[14];var bt=Mt[0],Rt=Mt[1],It=Mt[2],st=Mt[4],Q=Mt[5],ct=Mt[6],ht=Mt[8],ft=Mt[9],gt=Mt[10];pt[0]=Math.sqrt(bt*bt+Rt*Rt+It*It),pt[1]=Math.sqrt(st*st+Q*Q+ct*ct),pt[2]=Math.sqrt(ht*ht+ft*ft+gt*gt);var yt=1/pt[0],Tt=1/pt[1],Dt=1/pt[2],Ct=bt*yt,At=Rt*Tt,Ut=It*Dt,St=st*yt,zt=Q*Tt,Zt=ct*Dt,Vt=ht*yt,Qt=ft*Tt,re=gt*Dt,ee=Ct+zt+re,Ht=0;return ee>0?(Ht=Math.sqrt(ee+1)*2,B[3]=.25*Ht,B[0]=(Zt-Qt)/Ht,B[1]=(Vt-Ut)/Ht,B[2]=(At-St)/Ht):Ct>zt&&Ct>re?(Ht=Math.sqrt(1+Ct-zt-re)*2,B[3]=(Zt-Qt)/Ht,B[0]=.25*Ht,B[1]=(At+St)/Ht,B[2]=(Vt+Ut)/Ht):zt>re?(Ht=Math.sqrt(1+zt-Ct-re)*2,B[3]=(Vt-Ut)/Ht,B[0]=(At+St)/Ht,B[1]=.25*Ht,B[2]=(Zt+Qt)/Ht):(Ht=Math.sqrt(1+re-Ct-zt)*2,B[3]=(At-St)/Ht,B[0]=(Vt+Ut)/Ht,B[1]=(Zt+Qt)/Ht,B[2]=.25*Ht),B}function j(B,X,pt,Mt){var bt=X[0],Rt=X[1],It=X[2],st=X[3],Q=bt+bt,ct=Rt+Rt,ht=It+It,ft=bt*Q,gt=bt*ct,yt=bt*ht,Tt=Rt*ct,Dt=Rt*ht,Ct=It*ht,At=st*Q,Ut=st*ct,St=st*ht,zt=Mt[0],Zt=Mt[1],Vt=Mt[2];return B[0]=(1-(Tt+Ct))*zt,B[1]=(gt+St)*zt,B[2]=(yt-Ut)*zt,B[3]=0,B[4]=(gt-St)*Zt,B[5]=(1-(ft+Ct))*Zt,B[6]=(Dt+At)*Zt,B[7]=0,B[8]=(yt+Ut)*Vt,B[9]=(Dt-At)*Vt,B[10]=(1-(ft+Tt))*Vt,B[11]=0,B[12]=pt[0],B[13]=pt[1],B[14]=pt[2],B[15]=1,B}function F(B,X,pt,Mt,bt){var Rt=X[0],It=X[1],st=X[2],Q=X[3],ct=Rt+Rt,ht=It+It,ft=st+st,gt=Rt*ct,yt=Rt*ht,Tt=Rt*ft,Dt=It*ht,Ct=It*ft,At=st*ft,Ut=Q*ct,St=Q*ht,zt=Q*ft,Zt=Mt[0],Vt=Mt[1],Qt=Mt[2],re=bt[0],ee=bt[1],Ht=bt[2],he=(1-(Dt+At))*Zt,ie=(yt+zt)*Zt,_e=(Tt-St)*Zt,ce=(yt-zt)*Vt,me=(1-(gt+At))*Vt,De=(Ct+Ut)*Vt,Te=(Tt+St)*Qt,ve=(Ct-Ut)*Qt,Ne=(1-(gt+Dt))*Qt;return B[0]=he,B[1]=ie,B[2]=_e,B[3]=0,B[4]=ce,B[5]=me,B[6]=De,B[7]=0,B[8]=Te,B[9]=ve,B[10]=Ne,B[11]=0,B[12]=pt[0]+re-(he*re+ce*ee+Te*Ht),B[13]=pt[1]+ee-(ie*re+me*ee+ve*Ht),B[14]=pt[2]+Ht-(_e*re+De*ee+Ne*Ht),B[15]=1,B}function W(B,X){var pt=X[0],Mt=X[1],bt=X[2],Rt=X[3],It=pt+pt,st=Mt+Mt,Q=bt+bt,ct=pt*It,ht=Mt*It,ft=Mt*st,gt=bt*It,yt=bt*st,Tt=bt*Q,Dt=Rt*It,Ct=Rt*st,At=Rt*Q;return B[0]=1-ft-Tt,B[1]=ht+At,B[2]=gt-Ct,B[3]=0,B[4]=ht-At,B[5]=1-ct-Tt,B[6]=yt+Dt,B[7]=0,B[8]=gt+Ct,B[9]=yt-Dt,B[10]=1-ct-ft,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}function w(B,X,pt,Mt,bt,Rt,It){var st=1/(pt-X),Q=1/(bt-Mt),ct=1/(Rt-It);return B[0]=Rt*2*st,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=Rt*2*Q,B[6]=0,B[7]=0,B[8]=(pt+X)*st,B[9]=(bt+Mt)*Q,B[10]=(It+Rt)*ct,B[11]=-1,B[12]=0,B[13]=0,B[14]=It*Rt*2*ct,B[15]=0,B}function z(B,X,pt,Mt,bt){var Rt=1/Math.tan(X/2);if(B[0]=Rt/pt,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=Rt,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[11]=-1,B[12]=0,B[13]=0,B[15]=0,bt!=null&&bt!==1/0){var It=1/(Mt-bt);B[10]=(bt+Mt)*It,B[14]=2*bt*Mt*It}else B[10]=-1,B[14]=-2*Mt;return B}var H=z;function Y(B,X,pt,Mt,bt){var Rt=1/Math.tan(X/2);if(B[0]=Rt/pt,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=Rt,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[11]=-1,B[12]=0,B[13]=0,B[15]=0,bt!=null&&bt!==1/0){var It=1/(Mt-bt);B[10]=bt*It,B[14]=bt*Mt*It}else B[10]=-1,B[14]=-Mt;return B}function V(B,X,pt,Mt){var bt=Math.tan(X.upDegrees*Math.PI/180),Rt=Math.tan(X.downDegrees*Math.PI/180),It=Math.tan(X.leftDegrees*Math.PI/180),st=Math.tan(X.rightDegrees*Math.PI/180),Q=2/(It+st),ct=2/(bt+Rt);return B[0]=Q,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=ct,B[6]=0,B[7]=0,B[8]=-((It-st)*Q*.5),B[9]=(bt-Rt)*ct*.5,B[10]=Mt/(pt-Mt),B[11]=-1,B[12]=0,B[13]=0,B[14]=Mt*pt/(pt-Mt),B[15]=0,B}function $(B,X,pt,Mt,bt,Rt,It){var st=1/(X-pt),Q=1/(Mt-bt),ct=1/(Rt-It);return B[0]=-2*st,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=-2*Q,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=2*ct,B[11]=0,B[12]=(X+pt)*st,B[13]=(bt+Mt)*Q,B[14]=(It+Rt)*ct,B[15]=1,B}var J=$;function rt(B,X,pt,Mt,bt,Rt,It){var st=1/(X-pt),Q=1/(Mt-bt),ct=1/(Rt-It);return B[0]=-2*st,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=-2*Q,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=ct,B[11]=0,B[12]=(X+pt)*st,B[13]=(bt+Mt)*Q,B[14]=Rt*ct,B[15]=1,B}function lt(B,X,pt,Mt){var bt,Rt,It,st,Q,ct,ht,ft,gt,yt,Tt=X[0],Dt=X[1],Ct=X[2],At=Mt[0],Ut=Mt[1],St=Mt[2],zt=pt[0],Zt=pt[1],Vt=pt[2];return Math.abs(Tt-zt)<d.Ib&&Math.abs(Dt-Zt)<d.Ib&&Math.abs(Ct-Vt)<d.Ib?h(B):(ht=Tt-zt,ft=Dt-Zt,gt=Ct-Vt,yt=1/Math.sqrt(ht*ht+ft*ft+gt*gt),ht*=yt,ft*=yt,gt*=yt,bt=Ut*gt-St*ft,Rt=St*ht-At*gt,It=At*ft-Ut*ht,yt=Math.sqrt(bt*bt+Rt*Rt+It*It),yt?(yt=1/yt,bt*=yt,Rt*=yt,It*=yt):(bt=0,Rt=0,It=0),st=ft*It-gt*Rt,Q=gt*bt-ht*It,ct=ht*Rt-ft*bt,yt=Math.sqrt(st*st+Q*Q+ct*ct),yt?(yt=1/yt,st*=yt,Q*=yt,ct*=yt):(st=0,Q=0,ct=0),B[0]=bt,B[1]=st,B[2]=ht,B[3]=0,B[4]=Rt,B[5]=Q,B[6]=ft,B[7]=0,B[8]=It,B[9]=ct,B[10]=gt,B[11]=0,B[12]=-(bt*Tt+Rt*Dt+It*Ct),B[13]=-(st*Tt+Q*Dt+ct*Ct),B[14]=-(ht*Tt+ft*Dt+gt*Ct),B[15]=1,B)}function tt(B,X,pt,Mt){var bt=X[0],Rt=X[1],It=X[2],st=Mt[0],Q=Mt[1],ct=Mt[2],ht=bt-pt[0],ft=Rt-pt[1],gt=It-pt[2],yt=ht*ht+ft*ft+gt*gt;yt>0&&(yt=1/Math.sqrt(yt),ht*=yt,ft*=yt,gt*=yt);var Tt=Q*gt-ct*ft,Dt=ct*ht-st*gt,Ct=st*ft-Q*ht;return yt=Tt*Tt+Dt*Dt+Ct*Ct,yt>0&&(yt=1/Math.sqrt(yt),Tt*=yt,Dt*=yt,Ct*=yt),B[0]=Tt,B[1]=Dt,B[2]=Ct,B[3]=0,B[4]=ft*Ct-gt*Dt,B[5]=gt*Tt-ht*Ct,B[6]=ht*Dt-ft*Tt,B[7]=0,B[8]=ht,B[9]=ft,B[10]=gt,B[11]=0,B[12]=bt,B[13]=Rt,B[14]=It,B[15]=1,B}function G(B){return"mat4("+B[0]+", "+B[1]+", "+B[2]+", "+B[3]+", "+B[4]+", "+B[5]+", "+B[6]+", "+B[7]+", "+B[8]+", "+B[9]+", "+B[10]+", "+B[11]+", "+B[12]+", "+B[13]+", "+B[14]+", "+B[15]+")"}function nt(B){return Math.sqrt(B[0]*B[0]+B[1]*B[1]+B[2]*B[2]+B[3]*B[3]+B[4]*B[4]+B[5]*B[5]+B[6]*B[6]+B[7]*B[7]+B[8]*B[8]+B[9]*B[9]+B[10]*B[10]+B[11]*B[11]+B[12]*B[12]+B[13]*B[13]+B[14]*B[14]+B[15]*B[15])}function ut(B,X,pt){return B[0]=X[0]+pt[0],B[1]=X[1]+pt[1],B[2]=X[2]+pt[2],B[3]=X[3]+pt[3],B[4]=X[4]+pt[4],B[5]=X[5]+pt[5],B[6]=X[6]+pt[6],B[7]=X[7]+pt[7],B[8]=X[8]+pt[8],B[9]=X[9]+pt[9],B[10]=X[10]+pt[10],B[11]=X[11]+pt[11],B[12]=X[12]+pt[12],B[13]=X[13]+pt[13],B[14]=X[14]+pt[14],B[15]=X[15]+pt[15],B}function dt(B,X,pt){return B[0]=X[0]-pt[0],B[1]=X[1]-pt[1],B[2]=X[2]-pt[2],B[3]=X[3]-pt[3],B[4]=X[4]-pt[4],B[5]=X[5]-pt[5],B[6]=X[6]-pt[6],B[7]=X[7]-pt[7],B[8]=X[8]-pt[8],B[9]=X[9]-pt[9],B[10]=X[10]-pt[10],B[11]=X[11]-pt[11],B[12]=X[12]-pt[12],B[13]=X[13]-pt[13],B[14]=X[14]-pt[14],B[15]=X[15]-pt[15],B}function et(B,X,pt){return B[0]=X[0]*pt,B[1]=X[1]*pt,B[2]=X[2]*pt,B[3]=X[3]*pt,B[4]=X[4]*pt,B[5]=X[5]*pt,B[6]=X[6]*pt,B[7]=X[7]*pt,B[8]=X[8]*pt,B[9]=X[9]*pt,B[10]=X[10]*pt,B[11]=X[11]*pt,B[12]=X[12]*pt,B[13]=X[13]*pt,B[14]=X[14]*pt,B[15]=X[15]*pt,B}function _t(B,X,pt,Mt){return B[0]=X[0]+pt[0]*Mt,B[1]=X[1]+pt[1]*Mt,B[2]=X[2]+pt[2]*Mt,B[3]=X[3]+pt[3]*Mt,B[4]=X[4]+pt[4]*Mt,B[5]=X[5]+pt[5]*Mt,B[6]=X[6]+pt[6]*Mt,B[7]=X[7]+pt[7]*Mt,B[8]=X[8]+pt[8]*Mt,B[9]=X[9]+pt[9]*Mt,B[10]=X[10]+pt[10]*Mt,B[11]=X[11]+pt[11]*Mt,B[12]=X[12]+pt[12]*Mt,B[13]=X[13]+pt[13]*Mt,B[14]=X[14]+pt[14]*Mt,B[15]=X[15]+pt[15]*Mt,B}function mt(B,X){return B[0]===X[0]&&B[1]===X[1]&&B[2]===X[2]&&B[3]===X[3]&&B[4]===X[4]&&B[5]===X[5]&&B[6]===X[6]&&B[7]===X[7]&&B[8]===X[8]&&B[9]===X[9]&&B[10]===X[10]&&B[11]===X[11]&&B[12]===X[12]&&B[13]===X[13]&&B[14]===X[14]&&B[15]===X[15]}function ot(B,X){var pt=B[0],Mt=B[1],bt=B[2],Rt=B[3],It=B[4],st=B[5],Q=B[6],ct=B[7],ht=B[8],ft=B[9],gt=B[10],yt=B[11],Tt=B[12],Dt=B[13],Ct=B[14],At=B[15],Ut=X[0],St=X[1],zt=X[2],Zt=X[3],Vt=X[4],Qt=X[5],re=X[6],ee=X[7],Ht=X[8],he=X[9],ie=X[10],_e=X[11],ce=X[12],me=X[13],De=X[14],Te=X[15];return Math.abs(pt-Ut)<=d.Ib*Math.max(1,Math.abs(pt),Math.abs(Ut))&&Math.abs(Mt-St)<=d.Ib*Math.max(1,Math.abs(Mt),Math.abs(St))&&Math.abs(bt-zt)<=d.Ib*Math.max(1,Math.abs(bt),Math.abs(zt))&&Math.abs(Rt-Zt)<=d.Ib*Math.max(1,Math.abs(Rt),Math.abs(Zt))&&Math.abs(It-Vt)<=d.Ib*Math.max(1,Math.abs(It),Math.abs(Vt))&&Math.abs(st-Qt)<=d.Ib*Math.max(1,Math.abs(st),Math.abs(Qt))&&Math.abs(Q-re)<=d.Ib*Math.max(1,Math.abs(Q),Math.abs(re))&&Math.abs(ct-ee)<=d.Ib*Math.max(1,Math.abs(ct),Math.abs(ee))&&Math.abs(ht-Ht)<=d.Ib*Math.max(1,Math.abs(ht),Math.abs(Ht))&&Math.abs(ft-he)<=d.Ib*Math.max(1,Math.abs(ft),Math.abs(he))&&Math.abs(gt-ie)<=d.Ib*Math.max(1,Math.abs(gt),Math.abs(ie))&&Math.abs(yt-_e)<=d.Ib*Math.max(1,Math.abs(yt),Math.abs(_e))&&Math.abs(Tt-ce)<=d.Ib*Math.max(1,Math.abs(Tt),Math.abs(ce))&&Math.abs(Dt-me)<=d.Ib*Math.max(1,Math.abs(Dt),Math.abs(me))&&Math.abs(Ct-De)<=d.Ib*Math.max(1,Math.abs(Ct),Math.abs(De))&&Math.abs(At-Te)<=d.Ib*Math.max(1,Math.abs(At),Math.abs(Te))}var Et=s,Ot=dt},10953:function(at,N,t){"use strict";t.d(N,{Fv:function(){return V},JG:function(){return L},Jp:function(){return r},Su:function(){return D},U_:function(){return l},Ue:function(){return m},al:function(){return x},dC:function(){return U},t8:function(){return S},yY:function(){return h}});var d=t(19537),T=t(61899),y=t(35136),C=t(72647);function m(){var G=new d.WT(4);return d.WT!=Float32Array&&(G[0]=0,G[1]=0,G[2]=0),G[3]=1,G}function f(G){return G[0]=0,G[1]=0,G[2]=0,G[3]=1,G}function h(G,nt,ut){ut=ut*.5;var dt=Math.sin(ut);return G[0]=dt*nt[0],G[1]=dt*nt[1],G[2]=dt*nt[2],G[3]=Math.cos(ut),G}function v(G,nt){var ut=Math.acos(nt[3])*2,dt=Math.sin(ut/2);return dt>glMatrix.EPSILON?(G[0]=nt[0]/dt,G[1]=nt[1]/dt,G[2]=nt[2]/dt):(G[0]=1,G[1]=0,G[2]=0),ut}function o(G,nt){var ut=F(G,nt);return Math.acos(2*ut*ut-1)}function r(G,nt,ut){var dt=nt[0],et=nt[1],_t=nt[2],mt=nt[3],ot=ut[0],Et=ut[1],Ot=ut[2],B=ut[3];return G[0]=dt*B+mt*ot+et*Ot-_t*Et,G[1]=et*B+mt*Et+_t*ot-dt*Ot,G[2]=_t*B+mt*Ot+dt*Et-et*ot,G[3]=mt*B-dt*ot-et*Et-_t*Ot,G}function a(G,nt,ut){ut*=.5;var dt=nt[0],et=nt[1],_t=nt[2],mt=nt[3],ot=Math.sin(ut),Et=Math.cos(ut);return G[0]=dt*Et+mt*ot,G[1]=et*Et+_t*ot,G[2]=_t*Et-et*ot,G[3]=mt*Et-dt*ot,G}function s(G,nt,ut){ut*=.5;var dt=nt[0],et=nt[1],_t=nt[2],mt=nt[3],ot=Math.sin(ut),Et=Math.cos(ut);return G[0]=dt*Et-_t*ot,G[1]=et*Et+mt*ot,G[2]=_t*Et+dt*ot,G[3]=mt*Et-et*ot,G}function u(G,nt,ut){ut*=.5;var dt=nt[0],et=nt[1],_t=nt[2],mt=nt[3],ot=Math.sin(ut),Et=Math.cos(ut);return G[0]=dt*Et+et*ot,G[1]=et*Et-dt*ot,G[2]=_t*Et+mt*ot,G[3]=mt*Et-_t*ot,G}function c(G,nt){var ut=nt[0],dt=nt[1],et=nt[2];return G[0]=ut,G[1]=dt,G[2]=et,G[3]=Math.sqrt(Math.abs(1-ut*ut-dt*dt-et*et)),G}function E(G,nt){var ut=nt[0],dt=nt[1],et=nt[2],_t=nt[3],mt=Math.sqrt(ut*ut+dt*dt+et*et),ot=Math.exp(_t),Et=mt>0?ot*Math.sin(mt)/mt:0;return G[0]=ut*Et,G[1]=dt*Et,G[2]=et*Et,G[3]=ot*Math.cos(mt),G}function p(G,nt){var ut=nt[0],dt=nt[1],et=nt[2],_t=nt[3],mt=Math.sqrt(ut*ut+dt*dt+et*et),ot=mt>0?Math.atan2(mt,_t)/mt:0;return G[0]=ut*ot,G[1]=dt*ot,G[2]=et*ot,G[3]=.5*Math.log(ut*ut+dt*dt+et*et+_t*_t),G}function e(G,nt,ut){return p(G,nt),j(G,G,ut),E(G,G),G}function i(G,nt,ut,dt){var et=nt[0],_t=nt[1],mt=nt[2],ot=nt[3],Et=ut[0],Ot=ut[1],B=ut[2],X=ut[3],pt,Mt,bt,Rt,It;return Mt=et*Et+_t*Ot+mt*B+ot*X,Mt<0&&(Mt=-Mt,Et=-Et,Ot=-Ot,B=-B,X=-X),1-Mt>d.Ib?(pt=Math.acos(Mt),bt=Math.sin(pt),Rt=Math.sin((1-dt)*pt)/bt,It=Math.sin(dt*pt)/bt):(Rt=1-dt,It=dt),G[0]=Rt*et+It*Et,G[1]=Rt*_t+It*Ot,G[2]=Rt*mt+It*B,G[3]=Rt*ot+It*X,G}function n(G){var nt=glMatrix.RANDOM(),ut=glMatrix.RANDOM(),dt=glMatrix.RANDOM(),et=Math.sqrt(1-nt),_t=Math.sqrt(nt);return G[0]=et*Math.sin(2*Math.PI*ut),G[1]=et*Math.cos(2*Math.PI*ut),G[2]=_t*Math.sin(2*Math.PI*dt),G[3]=_t*Math.cos(2*Math.PI*dt),G}function l(G,nt){var ut=nt[0],dt=nt[1],et=nt[2],_t=nt[3],mt=ut*ut+dt*dt+et*et+_t*_t,ot=mt?1/mt:0;return G[0]=-ut*ot,G[1]=-dt*ot,G[2]=-et*ot,G[3]=_t*ot,G}function M(G,nt){return G[0]=-nt[0],G[1]=-nt[1],G[2]=-nt[2],G[3]=nt[3],G}function O(G,nt){var ut=nt[0]+nt[4]+nt[8],dt;if(ut>0)dt=Math.sqrt(ut+1),G[3]=.5*dt,dt=.5/dt,G[0]=(nt[5]-nt[7])*dt,G[1]=(nt[6]-nt[2])*dt,G[2]=(nt[1]-nt[3])*dt;else{var et=0;nt[4]>nt[0]&&(et=1),nt[8]>nt[et*3+et]&&(et=2);var _t=(et+1)%3,mt=(et+2)%3;dt=Math.sqrt(nt[et*3+et]-nt[_t*3+_t]-nt[mt*3+mt]+1),G[et]=.5*dt,dt=.5/dt,G[3]=(nt[_t*3+mt]-nt[mt*3+_t])*dt,G[_t]=(nt[_t*3+et]+nt[et*3+_t])*dt,G[mt]=(nt[mt*3+et]+nt[et*3+mt])*dt}return G}function D(G,nt,ut,dt){var et=arguments.length>4&&arguments[4]!==void 0?arguments[4]:d.yy,_t=Math.PI/360;nt*=_t,dt*=_t,ut*=_t;var mt=Math.sin(nt),ot=Math.cos(nt),Et=Math.sin(ut),Ot=Math.cos(ut),B=Math.sin(dt),X=Math.cos(dt);switch(et){case"xyz":G[0]=mt*Ot*X+ot*Et*B,G[1]=ot*Et*X-mt*Ot*B,G[2]=ot*Ot*B+mt*Et*X,G[3]=ot*Ot*X-mt*Et*B;break;case"xzy":G[0]=mt*Ot*X-ot*Et*B,G[1]=ot*Et*X-mt*Ot*B,G[2]=ot*Ot*B+mt*Et*X,G[3]=ot*Ot*X+mt*Et*B;break;case"yxz":G[0]=mt*Ot*X+ot*Et*B,G[1]=ot*Et*X-mt*Ot*B,G[2]=ot*Ot*B-mt*Et*X,G[3]=ot*Ot*X+mt*Et*B;break;case"yzx":G[0]=mt*Ot*X+ot*Et*B,G[1]=ot*Et*X+mt*Ot*B,G[2]=ot*Ot*B-mt*Et*X,G[3]=ot*Ot*X-mt*Et*B;break;case"zxy":G[0]=mt*Ot*X-ot*Et*B,G[1]=ot*Et*X+mt*Ot*B,G[2]=ot*Ot*B+mt*Et*X,G[3]=ot*Ot*X-mt*Et*B;break;case"zyx":G[0]=mt*Ot*X-ot*Et*B,G[1]=ot*Et*X+mt*Ot*B,G[2]=ot*Ot*B-mt*Et*X,G[3]=ot*Ot*X+mt*Et*B;break;default:throw new Error("Unknown angle order "+et)}return G}function P(G){return"quat("+G[0]+", "+G[1]+", "+G[2]+", "+G[3]+")"}var b=C.d9,x=C.al,L=C.JG,S=C.t8,K=C.IH,U=r,j=C.bA,F=C.AK,W=C.t7,w=C.kE,z=null,H=C.we,Y=null,V=C.Fv,$=C.I6;function J(G,nt){return Math.abs(vec4.dot(G,nt))>=1-glMatrix.EPSILON}var rt=function(){var G=y.Ue(),nt=y.al(1,0,0),ut=y.al(0,1,0);return function(dt,et,_t){var mt=y.AK(et,_t);return mt<-.999999?(y.kC(G,nt,et),y.Zh(G)<1e-6&&y.kC(G,ut,et),y.Fv(G,G),h(dt,G,Math.PI),dt):mt>.999999?(dt[0]=0,dt[1]=0,dt[2]=0,dt[3]=1,dt):(y.kC(G,et,_t),dt[0]=G[0],dt[1]=G[1],dt[2]=G[2],dt[3]=1+mt,V(dt,dt))}}(),lt=function(){var G=m(),nt=m();return function(ut,dt,et,_t,mt,ot){return i(G,dt,mt,ot),i(nt,et,_t,ot),i(ut,G,nt,2*ot*(1-ot)),ut}}(),tt=function(){var G=T.Ue();return function(nt,ut,dt,et){return G[0]=dt[0],G[3]=dt[1],G[6]=dt[2],G[1]=et[0],G[4]=et[1],G[7]=et[2],G[2]=-ut[0],G[5]=-ut[1],G[8]=-ut[2],V(nt,O(nt,G))}}()},75837:function(at,N,t){"use strict";t.d(N,{AK:function(){return b},Fv:function(){return P},I6:function(){return V},JG:function(){return m},Ue:function(){return T},t8:function(){return f}});var d=t(19537);function T(){var et=new d.WT(2);return d.WT!=Float32Array&&(et[0]=0,et[1]=0),et}function y(et){var _t=new glMatrix.ARRAY_TYPE(2);return _t[0]=et[0],_t[1]=et[1],_t}function C(et,_t){var mt=new glMatrix.ARRAY_TYPE(2);return mt[0]=et,mt[1]=_t,mt}function m(et,_t){return et[0]=_t[0],et[1]=_t[1],et}function f(et,_t,mt){return et[0]=_t,et[1]=mt,et}function h(et,_t,mt){return et[0]=_t[0]+mt[0],et[1]=_t[1]+mt[1],et}function v(et,_t,mt){return et[0]=_t[0]-mt[0],et[1]=_t[1]-mt[1],et}function o(et,_t,mt){return et[0]=_t[0]*mt[0],et[1]=_t[1]*mt[1],et}function r(et,_t,mt){return et[0]=_t[0]/mt[0],et[1]=_t[1]/mt[1],et}function a(et,_t){return et[0]=Math.ceil(_t[0]),et[1]=Math.ceil(_t[1]),et}function s(et,_t){return et[0]=Math.floor(_t[0]),et[1]=Math.floor(_t[1]),et}function u(et,_t,mt){return et[0]=Math.min(_t[0],mt[0]),et[1]=Math.min(_t[1],mt[1]),et}function c(et,_t,mt){return et[0]=Math.max(_t[0],mt[0]),et[1]=Math.max(_t[1],mt[1]),et}function E(et,_t){return et[0]=glMatrix.round(_t[0]),et[1]=glMatrix.round(_t[1]),et}function p(et,_t,mt){return et[0]=_t[0]*mt,et[1]=_t[1]*mt,et}function e(et,_t,mt,ot){return et[0]=_t[0]+mt[0]*ot,et[1]=_t[1]+mt[1]*ot,et}function i(et,_t){var mt=_t[0]-et[0],ot=_t[1]-et[1];return Math.sqrt(mt*mt+ot*ot)}function n(et,_t){var mt=_t[0]-et[0],ot=_t[1]-et[1];return mt*mt+ot*ot}function l(et){var _t=et[0],mt=et[1];return Math.sqrt(_t*_t+mt*mt)}function M(et){var _t=et[0],mt=et[1];return _t*_t+mt*mt}function O(et,_t){return et[0]=-_t[0],et[1]=-_t[1],et}function D(et,_t){return et[0]=1/_t[0],et[1]=1/_t[1],et}function P(et,_t){var mt=_t[0],ot=_t[1],Et=mt*mt+ot*ot;return Et>0&&(Et=1/Math.sqrt(Et)),et[0]=_t[0]*Et,et[1]=_t[1]*Et,et}function b(et,_t){return et[0]*_t[0]+et[1]*_t[1]}function x(et,_t,mt){var ot=_t[0]*mt[1]-_t[1]*mt[0];return et[0]=et[1]=0,et[2]=ot,et}function L(et,_t,mt,ot){var Et=_t[0],Ot=_t[1];return et[0]=Et+ot*(mt[0]-Et),et[1]=Ot+ot*(mt[1]-Ot),et}function S(et,_t){_t=_t===void 0?1:_t;var mt=glMatrix.RANDOM()*2*Math.PI;return et[0]=Math.cos(mt)*_t,et[1]=Math.sin(mt)*_t,et}function K(et,_t,mt){var ot=_t[0],Et=_t[1];return et[0]=mt[0]*ot+mt[2]*Et,et[1]=mt[1]*ot+mt[3]*Et,et}function U(et,_t,mt){var ot=_t[0],Et=_t[1];return et[0]=mt[0]*ot+mt[2]*Et+mt[4],et[1]=mt[1]*ot+mt[3]*Et+mt[5],et}function j(et,_t,mt){var ot=_t[0],Et=_t[1];return et[0]=mt[0]*ot+mt[3]*Et+mt[6],et[1]=mt[1]*ot+mt[4]*Et+mt[7],et}function F(et,_t,mt){var ot=_t[0],Et=_t[1];return et[0]=mt[0]*ot+mt[4]*Et+mt[12],et[1]=mt[1]*ot+mt[5]*Et+mt[13],et}function W(et,_t,mt,ot){var Et=_t[0]-mt[0],Ot=_t[1]-mt[1],B=Math.sin(ot),X=Math.cos(ot);return et[0]=Et*X-Ot*B+mt[0],et[1]=Et*B+Ot*X+mt[1],et}function w(et,_t){var mt=et[0],ot=et[1],Et=_t[0],Ot=_t[1];return Math.abs(Math.atan2(ot*Et-mt*Ot,mt*Et+ot*Ot))}function z(et,_t){var mt=et[0],ot=et[1],Et=_t[0],Ot=_t[1];return Math.atan2(mt*Ot-ot*Et,mt*Et+ot*Ot)}function H(et){return et[0]=0,et[1]=0,et}function Y(et){return"vec2("+et[0]+", "+et[1]+")"}function V(et,_t){return et[0]===_t[0]&&et[1]===_t[1]}function $(et,_t){var mt=et[0],ot=et[1],Et=_t[0],Ot=_t[1];return Math.abs(mt-Et)<=glMatrix.EPSILON*Math.max(1,Math.abs(mt),Math.abs(Et))&&Math.abs(ot-Ot)<=glMatrix.EPSILON*Math.max(1,Math.abs(ot),Math.abs(Ot))}var J=null,rt=null,lt=null,tt=null,G=null,nt=null,ut=null,dt=function(){var et=T();return function(_t,mt,ot,Et,Ot,B){var X,pt;for(mt||(mt=2),ot||(ot=0),Et?pt=Math.min(Et*mt+ot,_t.length):pt=_t.length,X=ot;X<pt;X+=mt)et[0]=_t[X],et[1]=_t[X+1],Ot(et,et,B),_t[X]=et[0],_t[X+1]=et[1];return _t}}()},35136:function(at,N,t){"use strict";t.d(N,{$X:function(){return o},AK:function(){return b},Fp:function(){return E},Fv:function(){return P},IH:function(){return v},JG:function(){return f},Jp:function(){return r},TK:function(){return ut},Ue:function(){return T},VC:function(){return w},VV:function(){return c},Zh:function(){return et},al:function(){return m},bA:function(){return e},d9:function(){return y},fF:function(){return F},fS:function(){return lt},kC:function(){return x},kE:function(){return C},kK:function(){return W},lu:function(){return tt},t7:function(){return L},t8:function(){return h}});var d=t(19537);function T(){var ot=new d.WT(3);return d.WT!=Float32Array&&(ot[0]=0,ot[1]=0,ot[2]=0),ot}function y(ot){var Et=new d.WT(3);return Et[0]=ot[0],Et[1]=ot[1],Et[2]=ot[2],Et}function C(ot){var Et=ot[0],Ot=ot[1],B=ot[2];return Math.sqrt(Et*Et+Ot*Ot+B*B)}function m(ot,Et,Ot){var B=new d.WT(3);return B[0]=ot,B[1]=Et,B[2]=Ot,B}function f(ot,Et){return ot[0]=Et[0],ot[1]=Et[1],ot[2]=Et[2],ot}function h(ot,Et,Ot,B){return ot[0]=Et,ot[1]=Ot,ot[2]=B,ot}function v(ot,Et,Ot){return ot[0]=Et[0]+Ot[0],ot[1]=Et[1]+Ot[1],ot[2]=Et[2]+Ot[2],ot}function o(ot,Et,Ot){return ot[0]=Et[0]-Ot[0],ot[1]=Et[1]-Ot[1],ot[2]=Et[2]-Ot[2],ot}function r(ot,Et,Ot){return ot[0]=Et[0]*Ot[0],ot[1]=Et[1]*Ot[1],ot[2]=Et[2]*Ot[2],ot}function a(ot,Et,Ot){return ot[0]=Et[0]/Ot[0],ot[1]=Et[1]/Ot[1],ot[2]=Et[2]/Ot[2],ot}function s(ot,Et){return ot[0]=Math.ceil(Et[0]),ot[1]=Math.ceil(Et[1]),ot[2]=Math.ceil(Et[2]),ot}function u(ot,Et){return ot[0]=Math.floor(Et[0]),ot[1]=Math.floor(Et[1]),ot[2]=Math.floor(Et[2]),ot}function c(ot,Et,Ot){return ot[0]=Math.min(Et[0],Ot[0]),ot[1]=Math.min(Et[1],Ot[1]),ot[2]=Math.min(Et[2],Ot[2]),ot}function E(ot,Et,Ot){return ot[0]=Math.max(Et[0],Ot[0]),ot[1]=Math.max(Et[1],Ot[1]),ot[2]=Math.max(Et[2],Ot[2]),ot}function p(ot,Et){return ot[0]=glMatrix.round(Et[0]),ot[1]=glMatrix.round(Et[1]),ot[2]=glMatrix.round(Et[2]),ot}function e(ot,Et,Ot){return ot[0]=Et[0]*Ot,ot[1]=Et[1]*Ot,ot[2]=Et[2]*Ot,ot}function i(ot,Et,Ot,B){return ot[0]=Et[0]+Ot[0]*B,ot[1]=Et[1]+Ot[1]*B,ot[2]=Et[2]+Ot[2]*B,ot}function n(ot,Et){var Ot=Et[0]-ot[0],B=Et[1]-ot[1],X=Et[2]-ot[2];return Math.sqrt(Ot*Ot+B*B+X*X)}function l(ot,Et){var Ot=Et[0]-ot[0],B=Et[1]-ot[1],X=Et[2]-ot[2];return Ot*Ot+B*B+X*X}function M(ot){var Et=ot[0],Ot=ot[1],B=ot[2];return Et*Et+Ot*Ot+B*B}function O(ot,Et){return ot[0]=-Et[0],ot[1]=-Et[1],ot[2]=-Et[2],ot}function D(ot,Et){return ot[0]=1/Et[0],ot[1]=1/Et[1],ot[2]=1/Et[2],ot}function P(ot,Et){var Ot=Et[0],B=Et[1],X=Et[2],pt=Ot*Ot+B*B+X*X;return pt>0&&(pt=1/Math.sqrt(pt)),ot[0]=Et[0]*pt,ot[1]=Et[1]*pt,ot[2]=Et[2]*pt,ot}function b(ot,Et){return ot[0]*Et[0]+ot[1]*Et[1]+ot[2]*Et[2]}function x(ot,Et,Ot){var B=Et[0],X=Et[1],pt=Et[2],Mt=Ot[0],bt=Ot[1],Rt=Ot[2];return ot[0]=X*Rt-pt*bt,ot[1]=pt*Mt-B*Rt,ot[2]=B*bt-X*Mt,ot}function L(ot,Et,Ot,B){var X=Et[0],pt=Et[1],Mt=Et[2];return ot[0]=X+B*(Ot[0]-X),ot[1]=pt+B*(Ot[1]-pt),ot[2]=Mt+B*(Ot[2]-Mt),ot}function S(ot,Et,Ot,B){var X=Math.acos(Math.min(Math.max(b(Et,Ot),-1),1)),pt=Math.sin(X),Mt=Math.sin((1-B)*X)/pt,bt=Math.sin(B*X)/pt;return ot[0]=Mt*Et[0]+bt*Ot[0],ot[1]=Mt*Et[1]+bt*Ot[1],ot[2]=Mt*Et[2]+bt*Ot[2],ot}function K(ot,Et,Ot,B,X,pt){var Mt=pt*pt,bt=Mt*(2*pt-3)+1,Rt=Mt*(pt-2)+pt,It=Mt*(pt-1),st=Mt*(3-2*pt);return ot[0]=Et[0]*bt+Ot[0]*Rt+B[0]*It+X[0]*st,ot[1]=Et[1]*bt+Ot[1]*Rt+B[1]*It+X[1]*st,ot[2]=Et[2]*bt+Ot[2]*Rt+B[2]*It+X[2]*st,ot}function U(ot,Et,Ot,B,X,pt){var Mt=1-pt,bt=Mt*Mt,Rt=pt*pt,It=bt*Mt,st=3*pt*bt,Q=3*Rt*Mt,ct=Rt*pt;return ot[0]=Et[0]*It+Ot[0]*st+B[0]*Q+X[0]*ct,ot[1]=Et[1]*It+Ot[1]*st+B[1]*Q+X[1]*ct,ot[2]=Et[2]*It+Ot[2]*st+B[2]*Q+X[2]*ct,ot}function j(ot,Et){Et=Et===void 0?1:Et;var Ot=glMatrix.RANDOM()*2*Math.PI,B=glMatrix.RANDOM()*2-1,X=Math.sqrt(1-B*B)*Et;return ot[0]=Math.cos(Ot)*X,ot[1]=Math.sin(Ot)*X,ot[2]=B*Et,ot}function F(ot,Et,Ot){var B=Et[0],X=Et[1],pt=Et[2],Mt=Ot[3]*B+Ot[7]*X+Ot[11]*pt+Ot[15];return Mt=Mt||1,ot[0]=(Ot[0]*B+Ot[4]*X+Ot[8]*pt+Ot[12])/Mt,ot[1]=(Ot[1]*B+Ot[5]*X+Ot[9]*pt+Ot[13])/Mt,ot[2]=(Ot[2]*B+Ot[6]*X+Ot[10]*pt+Ot[14])/Mt,ot}function W(ot,Et,Ot){var B=Et[0],X=Et[1],pt=Et[2];return ot[0]=B*Ot[0]+X*Ot[3]+pt*Ot[6],ot[1]=B*Ot[1]+X*Ot[4]+pt*Ot[7],ot[2]=B*Ot[2]+X*Ot[5]+pt*Ot[8],ot}function w(ot,Et,Ot){var B=Ot[0],X=Ot[1],pt=Ot[2],Mt=Ot[3],bt=Et[0],Rt=Et[1],It=Et[2],st=X*It-pt*Rt,Q=pt*bt-B*It,ct=B*Rt-X*bt;return st=st+st,Q=Q+Q,ct=ct+ct,ot[0]=bt+Mt*st+X*ct-pt*Q,ot[1]=Rt+Mt*Q+pt*st-B*ct,ot[2]=It+Mt*ct+B*Q-X*st,ot}function z(ot,Et,Ot,B){var X=[],pt=[];return X[0]=Et[0]-Ot[0],X[1]=Et[1]-Ot[1],X[2]=Et[2]-Ot[2],pt[0]=X[0],pt[1]=X[1]*Math.cos(B)-X[2]*Math.sin(B),pt[2]=X[1]*Math.sin(B)+X[2]*Math.cos(B),ot[0]=pt[0]+Ot[0],ot[1]=pt[1]+Ot[1],ot[2]=pt[2]+Ot[2],ot}function H(ot,Et,Ot,B){var X=[],pt=[];return X[0]=Et[0]-Ot[0],X[1]=Et[1]-Ot[1],X[2]=Et[2]-Ot[2],pt[0]=X[2]*Math.sin(B)+X[0]*Math.cos(B),pt[1]=X[1],pt[2]=X[2]*Math.cos(B)-X[0]*Math.sin(B),ot[0]=pt[0]+Ot[0],ot[1]=pt[1]+Ot[1],ot[2]=pt[2]+Ot[2],ot}function Y(ot,Et,Ot,B){var X=[],pt=[];return X[0]=Et[0]-Ot[0],X[1]=Et[1]-Ot[1],X[2]=Et[2]-Ot[2],pt[0]=X[0]*Math.cos(B)-X[1]*Math.sin(B),pt[1]=X[0]*Math.sin(B)+X[1]*Math.cos(B),pt[2]=X[2],ot[0]=pt[0]+Ot[0],ot[1]=pt[1]+Ot[1],ot[2]=pt[2]+Ot[2],ot}function V(ot,Et){var Ot=ot[0],B=ot[1],X=ot[2],pt=Et[0],Mt=Et[1],bt=Et[2],Rt=Math.sqrt((Ot*Ot+B*B+X*X)*(pt*pt+Mt*Mt+bt*bt)),It=Rt&&b(ot,Et)/Rt;return Math.acos(Math.min(Math.max(It,-1),1))}function $(ot){return ot[0]=0,ot[1]=0,ot[2]=0,ot}function J(ot){return"vec3("+ot[0]+", "+ot[1]+", "+ot[2]+")"}function rt(ot,Et){return ot[0]===Et[0]&&ot[1]===Et[1]&&ot[2]===Et[2]}function lt(ot,Et){var Ot=ot[0],B=ot[1],X=ot[2],pt=Et[0],Mt=Et[1],bt=Et[2];return Math.abs(Ot-pt)<=d.Ib*Math.max(1,Math.abs(Ot),Math.abs(pt))&&Math.abs(B-Mt)<=d.Ib*Math.max(1,Math.abs(B),Math.abs(Mt))&&Math.abs(X-bt)<=d.Ib*Math.max(1,Math.abs(X),Math.abs(bt))}var tt=o,G=null,nt=null,ut=n,dt=null,et=C,_t=null,mt=function(){var ot=T();return function(Et,Ot,B,X,pt,Mt){var bt,Rt;for(Ot||(Ot=3),B||(B=0),X?Rt=Math.min(X*Ot+B,Et.length):Rt=Et.length,bt=B;bt<Rt;bt+=Ot)ot[0]=Et[bt],ot[1]=Et[bt+1],ot[2]=Et[bt+2],pt(ot,ot,Mt),Et[bt]=ot[0],Et[bt+1]=ot[1],Et[bt+2]=ot[2];return Et}}()},72647:function(at,N,t){"use strict";t.d(N,{AK:function(){return b},Fv:function(){return P},I6:function(){return W},IH:function(){return h},JG:function(){return m},Ue:function(){return T},al:function(){return C},bA:function(){return p},d9:function(){return y},fF:function(){return K},kE:function(){return l},t7:function(){return L},t8:function(){return f},we:function(){return M}});var d=t(19537);function T(){var tt=new d.WT(4);return d.WT!=Float32Array&&(tt[0]=0,tt[1]=0,tt[2]=0,tt[3]=0),tt}function y(tt){var G=new d.WT(4);return G[0]=tt[0],G[1]=tt[1],G[2]=tt[2],G[3]=tt[3],G}function C(tt,G,nt,ut){var dt=new d.WT(4);return dt[0]=tt,dt[1]=G,dt[2]=nt,dt[3]=ut,dt}function m(tt,G){return tt[0]=G[0],tt[1]=G[1],tt[2]=G[2],tt[3]=G[3],tt}function f(tt,G,nt,ut,dt){return tt[0]=G,tt[1]=nt,tt[2]=ut,tt[3]=dt,tt}function h(tt,G,nt){return tt[0]=G[0]+nt[0],tt[1]=G[1]+nt[1],tt[2]=G[2]+nt[2],tt[3]=G[3]+nt[3],tt}function v(tt,G,nt){return tt[0]=G[0]-nt[0],tt[1]=G[1]-nt[1],tt[2]=G[2]-nt[2],tt[3]=G[3]-nt[3],tt}function o(tt,G,nt){return tt[0]=G[0]*nt[0],tt[1]=G[1]*nt[1],tt[2]=G[2]*nt[2],tt[3]=G[3]*nt[3],tt}function r(tt,G,nt){return tt[0]=G[0]/nt[0],tt[1]=G[1]/nt[1],tt[2]=G[2]/nt[2],tt[3]=G[3]/nt[3],tt}function a(tt,G){return tt[0]=Math.ceil(G[0]),tt[1]=Math.ceil(G[1]),tt[2]=Math.ceil(G[2]),tt[3]=Math.ceil(G[3]),tt}function s(tt,G){return tt[0]=Math.floor(G[0]),tt[1]=Math.floor(G[1]),tt[2]=Math.floor(G[2]),tt[3]=Math.floor(G[3]),tt}function u(tt,G,nt){return tt[0]=Math.min(G[0],nt[0]),tt[1]=Math.min(G[1],nt[1]),tt[2]=Math.min(G[2],nt[2]),tt[3]=Math.min(G[3],nt[3]),tt}function c(tt,G,nt){return tt[0]=Math.max(G[0],nt[0]),tt[1]=Math.max(G[1],nt[1]),tt[2]=Math.max(G[2],nt[2]),tt[3]=Math.max(G[3],nt[3]),tt}function E(tt,G){return tt[0]=glMatrix.round(G[0]),tt[1]=glMatrix.round(G[1]),tt[2]=glMatrix.round(G[2]),tt[3]=glMatrix.round(G[3]),tt}function p(tt,G,nt){return tt[0]=G[0]*nt,tt[1]=G[1]*nt,tt[2]=G[2]*nt,tt[3]=G[3]*nt,tt}function e(tt,G,nt,ut){return tt[0]=G[0]+nt[0]*ut,tt[1]=G[1]+nt[1]*ut,tt[2]=G[2]+nt[2]*ut,tt[3]=G[3]+nt[3]*ut,tt}function i(tt,G){var nt=G[0]-tt[0],ut=G[1]-tt[1],dt=G[2]-tt[2],et=G[3]-tt[3];return Math.sqrt(nt*nt+ut*ut+dt*dt+et*et)}function n(tt,G){var nt=G[0]-tt[0],ut=G[1]-tt[1],dt=G[2]-tt[2],et=G[3]-tt[3];return nt*nt+ut*ut+dt*dt+et*et}function l(tt){var G=tt[0],nt=tt[1],ut=tt[2],dt=tt[3];return Math.sqrt(G*G+nt*nt+ut*ut+dt*dt)}function M(tt){var G=tt[0],nt=tt[1],ut=tt[2],dt=tt[3];return G*G+nt*nt+ut*ut+dt*dt}function O(tt,G){return tt[0]=-G[0],tt[1]=-G[1],tt[2]=-G[2],tt[3]=-G[3],tt}function D(tt,G){return tt[0]=1/G[0],tt[1]=1/G[1],tt[2]=1/G[2],tt[3]=1/G[3],tt}function P(tt,G){var nt=G[0],ut=G[1],dt=G[2],et=G[3],_t=nt*nt+ut*ut+dt*dt+et*et;return _t>0&&(_t=1/Math.sqrt(_t)),tt[0]=nt*_t,tt[1]=ut*_t,tt[2]=dt*_t,tt[3]=et*_t,tt}function b(tt,G){return tt[0]*G[0]+tt[1]*G[1]+tt[2]*G[2]+tt[3]*G[3]}function x(tt,G,nt,ut){var dt=nt[0]*ut[1]-nt[1]*ut[0],et=nt[0]*ut[2]-nt[2]*ut[0],_t=nt[0]*ut[3]-nt[3]*ut[0],mt=nt[1]*ut[2]-nt[2]*ut[1],ot=nt[1]*ut[3]-nt[3]*ut[1],Et=nt[2]*ut[3]-nt[3]*ut[2],Ot=G[0],B=G[1],X=G[2],pt=G[3];return tt[0]=B*Et-X*ot+pt*mt,tt[1]=-(Ot*Et)+X*_t-pt*et,tt[2]=Ot*ot-B*_t+pt*dt,tt[3]=-(Ot*mt)+B*et-X*dt,tt}function L(tt,G,nt,ut){var dt=G[0],et=G[1],_t=G[2],mt=G[3];return tt[0]=dt+ut*(nt[0]-dt),tt[1]=et+ut*(nt[1]-et),tt[2]=_t+ut*(nt[2]-_t),tt[3]=mt+ut*(nt[3]-mt),tt}function S(tt,G){G=G===void 0?1:G;var nt,ut,dt,et,_t,mt,ot;ot=glMatrix.RANDOM(),nt=ot*2-1,ut=(4*glMatrix.RANDOM()-2)*Math.sqrt(ot*-ot+ot),_t=nt*nt+ut*ut,ot=glMatrix.RANDOM(),dt=ot*2-1,et=(4*glMatrix.RANDOM()-2)*Math.sqrt(ot*-ot+ot),mt=dt*dt+et*et;var Et=Math.sqrt((1-_t)/mt);return tt[0]=G*nt,tt[1]=G*ut,tt[2]=G*dt*Et,tt[3]=G*et*Et,tt}function K(tt,G,nt){var ut=G[0],dt=G[1],et=G[2],_t=G[3];return tt[0]=nt[0]*ut+nt[4]*dt+nt[8]*et+nt[12]*_t,tt[1]=nt[1]*ut+nt[5]*dt+nt[9]*et+nt[13]*_t,tt[2]=nt[2]*ut+nt[6]*dt+nt[10]*et+nt[14]*_t,tt[3]=nt[3]*ut+nt[7]*dt+nt[11]*et+nt[15]*_t,tt}function U(tt,G,nt){var ut=nt[0],dt=nt[1],et=nt[2],_t=nt[3],mt=G[0],ot=G[1],Et=G[2],Ot=dt*Et-et*ot,B=et*mt-ut*Et,X=ut*ot-dt*mt;return Ot=Ot+Ot,B=B+B,X=X+X,tt[0]=mt+_t*Ot+dt*X-et*B,tt[1]=ot+_t*B+et*Ot-ut*X,tt[2]=Et+_t*X+ut*B-dt*Ot,tt[3]=G[3],tt}function j(tt){return tt[0]=0,tt[1]=0,tt[2]=0,tt[3]=0,tt}function F(tt){return"vec4("+tt[0]+", "+tt[1]+", "+tt[2]+", "+tt[3]+")"}function W(tt,G){return tt[0]===G[0]&&tt[1]===G[1]&&tt[2]===G[2]&&tt[3]===G[3]}function w(tt,G){var nt=tt[0],ut=tt[1],dt=tt[2],et=tt[3],_t=G[0],mt=G[1],ot=G[2],Et=G[3];return Math.abs(nt-_t)<=glMatrix.EPSILON*Math.max(1,Math.abs(nt),Math.abs(_t))&&Math.abs(ut-mt)<=glMatrix.EPSILON*Math.max(1,Math.abs(ut),Math.abs(mt))&&Math.abs(dt-ot)<=glMatrix.EPSILON*Math.max(1,Math.abs(dt),Math.abs(ot))&&Math.abs(et-Et)<=glMatrix.EPSILON*Math.max(1,Math.abs(et),Math.abs(Et))}var z=null,H=null,Y=null,V=null,$=null,J=null,rt=null,lt=function(){var tt=T();return function(G,nt,ut,dt,et,_t){var mt,ot;for(nt||(nt=4),ut||(ut=0),dt?ot=Math.min(dt*nt+ut,G.length):ot=G.length,mt=ut;mt<ot;mt+=nt)tt[0]=G[mt],tt[1]=G[mt+1],tt[2]=G[mt+2],tt[3]=G[mt+3],et(tt,tt,_t),G[mt]=tt[0],G[mt+1]=tt[1],G[mt+2]=tt[2],G[mt+3]=tt[3];return G}}()},62087:function(at){at.exports=function(t){return!t||typeof t=="string"?!1:t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String")}},68566:function(at,N,t){"use strict";var d=t(4529),T=t(59942),y=t(59125),C=t(41766),m=t(82187),f=t.n(m),h=t(14583),v=t(75271),o=t(21783),r=t(61),a=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],s=v.forwardRef(function(u,c){var E=u.prefixCls,p=u.value,e=u.valueIndex,i=u.onStartMove,n=u.onDelete,l=u.style,M=u.render,O=u.dragging,D=u.draggingDelete,P=u.onOffsetChange,b=u.onChangeComplete,x=u.onFocus,L=u.onMouseEnter,S=(0,C.Z)(u,a),K=v.useContext(o.Z),U=K.min,j=K.max,F=K.direction,W=K.disabled,w=K.keyboard,z=K.range,H=K.tabIndex,Y=K.ariaLabelForHandle,V=K.ariaLabelledByForHandle,$=K.ariaRequired,J=K.ariaValueTextFormatterForHandle,rt=K.styles,lt=K.classNames,tt="".concat(E,"-handle"),G=function(B){W||i(B,e)},nt=function(B){x==null||x(B,e)},ut=function(B){L(B,e)},dt=function(B){if(!W&&w){var X=null;switch(B.which||B.keyCode){case h.Z.LEFT:X=F==="ltr"||F==="btt"?-1:1;break;case h.Z.RIGHT:X=F==="ltr"||F==="btt"?1:-1;break;case h.Z.UP:X=F!=="ttb"?1:-1;break;case h.Z.DOWN:X=F!=="ttb"?-1:1;break;case h.Z.HOME:X="min";break;case h.Z.END:X="max";break;case h.Z.PAGE_UP:X=2;break;case h.Z.PAGE_DOWN:X=-2;break;case h.Z.BACKSPACE:case h.Z.DELETE:n==null||n(e);break}X!==null&&(B.preventDefault(),P(X,e))}},et=function(B){switch(B.which||B.keyCode){case h.Z.LEFT:case h.Z.RIGHT:case h.Z.UP:case h.Z.DOWN:case h.Z.HOME:case h.Z.END:case h.Z.PAGE_UP:case h.Z.PAGE_DOWN:b==null||b();break}},_t=(0,r.vG)(F,p,U,j),mt={};if(e!==null){var ot;mt={tabIndex:W?null:(0,r.rw)(H,e),role:"slider","aria-valuemin":U,"aria-valuemax":j,"aria-valuenow":p,"aria-disabled":W,"aria-label":(0,r.rw)(Y,e),"aria-labelledby":(0,r.rw)(V,e),"aria-required":(0,r.rw)($,e),"aria-valuetext":(ot=(0,r.rw)(J,e))===null||ot===void 0?void 0:ot(p),"aria-orientation":F==="ltr"||F==="rtl"?"horizontal":"vertical",onMouseDown:G,onTouchStart:G,onFocus:nt,onMouseEnter:ut,onKeyDown:dt,onKeyUp:et}}var Et=v.createElement("div",(0,d.Z)({ref:c,className:f()(tt,(0,y.Z)((0,y.Z)((0,y.Z)({},"".concat(tt,"-").concat(e+1),e!==null&&z),"".concat(tt,"-dragging"),O),"".concat(tt,"-dragging-delete"),D),lt.handle),style:(0,T.Z)((0,T.Z)((0,T.Z)({},_t),l),rt.handle)},mt,S));return M&&(Et=M(Et,{index:e,prefixCls:E,value:p,dragging:O,draggingDelete:D})),Et});N.Z=s},37950:function(at,N,t){"use strict";var d=t(4529),T=t(59942),y=t(8818),C=t(41766),m=t(75271),f=t(30967),h=t(61),v=t(68566),o=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],r=m.forwardRef(function(a,s){var u=a.prefixCls,c=a.style,E=a.onStartMove,p=a.onOffsetChange,e=a.values,i=a.handleRender,n=a.activeHandleRender,l=a.draggingIndex,M=a.draggingDelete,O=a.onFocus,D=(0,C.Z)(a,o),P=m.useRef({}),b=m.useState(!1),x=(0,y.Z)(b,2),L=x[0],S=x[1],K=m.useState(-1),U=(0,y.Z)(K,2),j=U[0],F=U[1],W=function(V){F(V),S(!0)},w=function(V,$){W($),O==null||O(V)},z=function(V,$){W($)};m.useImperativeHandle(s,function(){return{focus:function(V){var $;($=P.current[V])===null||$===void 0||$.focus()},hideHelp:function(){(0,f.flushSync)(function(){S(!1)})}}});var H=(0,T.Z)({prefixCls:u,onStartMove:E,onOffsetChange:p,render:i,onFocus:w,onMouseEnter:z},D);return m.createElement(m.Fragment,null,e.map(function(Y,V){var $=l===V;return m.createElement(v.Z,(0,d.Z)({ref:function(rt){rt?P.current[V]=rt:delete P.current[V]},dragging:$,draggingDelete:$&&M,style:(0,h.rw)(c,V),key:V,value:Y,valueIndex:V},H))}),n&&L&&m.createElement(v.Z,(0,d.Z)({key:"a11y"},H,{value:e[j],valueIndex:null,dragging:l!==-1,draggingDelete:M,render:n,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))});N.Z=r},24999:function(at,N,t){"use strict";var d=t(59942),T=t(59125),y=t(82187),C=t.n(y),m=t(75271),f=t(21783),h=t(61),v=function(r){var a=r.prefixCls,s=r.style,u=r.children,c=r.value,E=r.onClick,p=m.useContext(f.Z),e=p.min,i=p.max,n=p.direction,l=p.includedStart,M=p.includedEnd,O=p.included,D="".concat(a,"-text"),P=(0,h.vG)(n,c,e,i);return m.createElement("span",{className:C()(D,(0,T.Z)({},"".concat(D,"-active"),O&&l<=c&&c<=M)),style:(0,d.Z)((0,d.Z)({},P),s),onMouseDown:function(x){x.stopPropagation()},onClick:function(){E(c)}},u)};N.Z=v},70499:function(at,N,t){"use strict";var d=t(75271),T=t(24999),y=function(m){var f=m.prefixCls,h=m.marks,v=m.onClick,o="".concat(f,"-mark");return h.length?d.createElement("div",{className:o},h.map(function(r){var a=r.value,s=r.style,u=r.label;return d.createElement(T.Z,{key:a,prefixCls:o,style:s,value:a,onClick:v},u)})):null};N.Z=y},66329:function(at,N,t){"use strict";var d=t(59942),T=t(59125),y=t(87948),C=t(41392),m=t(8818),f=t(82187),h=t.n(f),v=t(59373),o=t(93954),r=t(47996),a=t(4449),s=t(75271),u=t(37950),c=t(70499),E=t(4018),p=t(8119),e=t(21783),i=t(79995),n=t(29191),l=t(22317),M=s.forwardRef(function(O,D){var P=O.prefixCls,b=P===void 0?"rc-slider":P,x=O.className,L=O.style,S=O.classNames,K=O.styles,U=O.id,j=O.disabled,F=j===void 0?!1:j,W=O.keyboard,w=W===void 0?!0:W,z=O.autoFocus,H=O.onFocus,Y=O.onBlur,V=O.min,$=V===void 0?0:V,J=O.max,rt=J===void 0?100:J,lt=O.step,tt=lt===void 0?1:lt,G=O.value,nt=O.defaultValue,ut=O.range,dt=O.count,et=O.onChange,_t=O.onBeforeChange,mt=O.onAfterChange,ot=O.onChangeComplete,Et=O.allowCross,Ot=Et===void 0?!0:Et,B=O.pushable,X=B===void 0?!1:B,pt=O.reverse,Mt=O.vertical,bt=O.included,Rt=bt===void 0?!0:bt,It=O.startPoint,st=O.trackStyle,Q=O.handleStyle,ct=O.railStyle,ht=O.dotStyle,ft=O.activeDotStyle,gt=O.marks,yt=O.dots,Tt=O.handleRender,Dt=O.activeHandleRender,Ct=O.track,At=O.tabIndex,Ut=At===void 0?0:At,St=O.ariaLabelForHandle,zt=O.ariaLabelledByForHandle,Zt=O.ariaRequired,Vt=O.ariaValueTextFormatterForHandle,Qt=s.useRef(null),re=s.useRef(null),ee=s.useMemo(function(){return Mt?pt?"ttb":"btt":pt?"rtl":"ltr"},[pt,Mt]),Ht=(0,l.Z)(ut),he=(0,m.Z)(Ht,5),ie=he[0],_e=he[1],ce=he[2],me=he[3],De=he[4],Te=s.useMemo(function(){return isFinite($)?$:0},[$]),ve=s.useMemo(function(){return isFinite(rt)?rt:100},[rt]),Ne=s.useMemo(function(){return tt!==null&&tt<=0?1:tt},[tt]),vn=s.useMemo(function(){return typeof X=="boolean"?X?Ne:!1:X>=0?X:!1},[X,Ne]),Ft=s.useMemo(function(){return Object.keys(gt||{}).map(function(Ue){var be=gt[Ue],Ke={value:Number(Ue)};return be&&(0,C.Z)(be)==="object"&&!s.isValidElement(be)&&("label"in be||"style"in be)?(Ke.style=be.style,Ke.label=be.label):Ke.label=be,Ke}).filter(function(Ue){var be=Ue.label;return be||typeof be=="number"}).sort(function(Ue,be){return Ue.value-be.value})},[gt]),Bt=(0,n.Z)(Te,ve,Ne,Ft,Ot,vn),Lt=(0,m.Z)(Bt,2),wt=Lt[0],qt=Lt[1],ae=(0,o.Z)(nt,{value:G}),oe=(0,m.Z)(ae,2),Me=oe[0],Oe=oe[1],Ce=s.useMemo(function(){var Ue=Me==null?[]:Array.isArray(Me)?Me:[Me],be=(0,m.Z)(Ue,1),Ke=be[0],Fe=Ke===void 0?Te:Ke,en=Me===null?[]:[Fe];if(ie){if(en=(0,y.Z)(Ue),dt||Me===void 0){var xn=dt>=0?dt+1:2;for(en=en.slice(0,xn);en.length<xn;){var Ge;en.push((Ge=en[en.length-1])!==null&&Ge!==void 0?Ge:Te)}}en.sort(function(En,On){return En-On})}return en.forEach(function(En,On){en[On]=wt(En)}),en},[Me,ie,Te,dt,wt]),Se=function(be){return ie?be:be[0]},Le=(0,v.Z)(function(Ue){var be=(0,y.Z)(Ue).sort(function(Ke,Fe){return Ke-Fe});et&&!(0,r.Z)(be,Ce,!0)&&et(Se(be)),Oe(be)}),We=(0,v.Z)(function(Ue){Ue&&Qt.current.hideHelp();var be=Se(Ce);mt==null||mt(be),(0,a.ZP)(!mt,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),ot==null||ot(be)}),Ye=function(be){if(!(F||!_e||Ce.length<=me)){var Ke=(0,y.Z)(Ce);Ke.splice(be,1),_t==null||_t(Se(Ke)),Le(Ke);var Fe=Math.max(0,be-1);Qt.current.hideHelp(),Qt.current.focus(Fe)}},je=(0,i.Z)(re,ee,Ce,Te,ve,wt,Le,We,qt,_e,me),tn=(0,m.Z)(je,5),on=tn[0],ue=tn[1],rn=tn[2],we=tn[3],Je=tn[4],Ze=function(be,Ke){if(!F){var Fe=(0,y.Z)(Ce),en=0,xn=0,Ge=ve-Te;Ce.forEach(function(dn,mn){var Jn=Math.abs(be-dn);Jn<=Ge&&(Ge=Jn,en=mn),dn<be&&(xn=mn)});var En=en;_e&&Ge!==0&&(!De||Ce.length<De)?(Fe.splice(xn+1,0,be),En=xn+1):Fe[en]=be,ie&&!Ce.length&&dt===void 0&&Fe.push(be);var On=Se(Fe);if(_t==null||_t(On),Le(Fe),Ke){var An,Pn;(An=document.activeElement)===null||An===void 0||(Pn=An.blur)===null||Pn===void 0||Pn.call(An),Qt.current.focus(En),Je(Ke,En,Fe)}else mt==null||mt(On),(0,a.ZP)(!mt,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),ot==null||ot(On)}},ln=function(be){be.preventDefault();var Ke=re.current.getBoundingClientRect(),Fe=Ke.width,en=Ke.height,xn=Ke.left,Ge=Ke.top,En=Ke.bottom,On=Ke.right,An=be.clientX,Pn=be.clientY,dn;switch(ee){case"btt":dn=(En-Pn)/en;break;case"ttb":dn=(Pn-Ge)/en;break;case"rtl":dn=(On-An)/Fe;break;default:dn=(An-xn)/Fe}var mn=Te+dn*(ve-Te);Ze(wt(mn),be)},cn=s.useState(null),Mn=(0,m.Z)(cn,2),un=Mn[0],Bn=Mn[1],Vn=function(be,Ke){if(!F){var Fe=qt(Ce,be,Ke);_t==null||_t(Se(Ce)),Le(Fe.values),Bn(Fe.value)}};s.useEffect(function(){if(un!==null){var Ue=Ce.indexOf(un);Ue>=0&&Qt.current.focus(Ue)}Bn(null)},[un]);var Gn=s.useMemo(function(){return ce&&Ne===null?!1:ce},[ce,Ne]),Wn=(0,v.Z)(function(Ue,be){Je(Ue,be),_t==null||_t(Se(Ce))}),dr=on!==-1;s.useEffect(function(){if(!dr){var Ue=Ce.lastIndexOf(ue);Qt.current.focus(Ue)}},[dr]);var wn=s.useMemo(function(){return(0,y.Z)(we).sort(function(Ue,be){return Ue-be})},[we]),Ir=s.useMemo(function(){return ie?[wn[0],wn[wn.length-1]]:[Te,wn[0]]},[wn,ie,Te]),Yn=(0,m.Z)(Ir,2),Xn=Yn[0],fr=Yn[1];s.useImperativeHandle(D,function(){return{focus:function(){Qt.current.focus(0)},blur:function(){var be,Ke=document,Fe=Ke.activeElement;(be=re.current)!==null&&be!==void 0&&be.contains(Fe)&&(Fe==null||Fe.blur())}}}),s.useEffect(function(){z&&Qt.current.focus(0)},[]);var Sr=s.useMemo(function(){return{min:Te,max:ve,direction:ee,disabled:F,keyboard:w,step:Ne,included:Rt,includedStart:Xn,includedEnd:fr,range:ie,tabIndex:Ut,ariaLabelForHandle:St,ariaLabelledByForHandle:zt,ariaRequired:Zt,ariaValueTextFormatterForHandle:Vt,styles:K||{},classNames:S||{}}},[Te,ve,ee,F,w,Ne,Rt,Xn,fr,ie,Ut,St,zt,Zt,Vt,K,S]);return s.createElement(e.Z.Provider,{value:Sr},s.createElement("div",{ref:re,className:h()(b,x,(0,T.Z)((0,T.Z)((0,T.Z)((0,T.Z)({},"".concat(b,"-disabled"),F),"".concat(b,"-vertical"),Mt),"".concat(b,"-horizontal"),!Mt),"".concat(b,"-with-marks"),Ft.length)),style:L,onMouseDown:ln,id:U},s.createElement("div",{className:h()("".concat(b,"-rail"),S==null?void 0:S.rail),style:(0,d.Z)((0,d.Z)({},ct),K==null?void 0:K.rail)}),Ct!==!1&&s.createElement(p.Z,{prefixCls:b,style:st,values:Ce,startPoint:It,onStartMove:Gn?Wn:void 0}),s.createElement(E.Z,{prefixCls:b,marks:Ft,dots:yt,style:ht,activeStyle:ft}),s.createElement(u.Z,{ref:Qt,prefixCls:b,style:Q,values:we,draggingIndex:on,draggingDelete:rn,onStartMove:Wn,onOffsetChange:Vn,onFocus:H,onBlur:Y,handleRender:Tt,activeHandleRender:Dt,onChangeComplete:We,onDelete:_e?Ye:void 0}),s.createElement(c.Z,{prefixCls:b,marks:Ft,onClick:Ze})))});N.Z=M},74552:function(at,N,t){"use strict";var d=t(59125),T=t(59942),y=t(82187),C=t.n(y),m=t(75271),f=t(21783),h=t(61),v=function(r){var a=r.prefixCls,s=r.value,u=r.style,c=r.activeStyle,E=m.useContext(f.Z),p=E.min,e=E.max,i=E.direction,n=E.included,l=E.includedStart,M=E.includedEnd,O="".concat(a,"-dot"),D=n&&l<=s&&s<=M,P=(0,T.Z)((0,T.Z)({},(0,h.vG)(i,s,p,e)),typeof u=="function"?u(s):u);return D&&(P=(0,T.Z)((0,T.Z)({},P),typeof c=="function"?c(s):c)),m.createElement("span",{className:C()(O,(0,d.Z)({},"".concat(O,"-active"),D)),style:P})};N.Z=v},4018:function(at,N,t){"use strict";var d=t(75271),T=t(21783),y=t(74552),C=function(f){var h=f.prefixCls,v=f.marks,o=f.dots,r=f.style,a=f.activeStyle,s=d.useContext(T.Z),u=s.min,c=s.max,E=s.step,p=d.useMemo(function(){var e=new Set;if(v.forEach(function(n){e.add(n.value)}),o&&E!==null)for(var i=u;i<=c;)e.add(i),i+=E;return Array.from(e)},[u,c,E,o,v]);return d.createElement("div",{className:"".concat(h,"-step")},p.map(function(e){return d.createElement(y.Z,{prefixCls:h,key:e,value:e,style:r,activeStyle:a})}))};N.Z=C},57658:function(at,N,t){"use strict";var d=t(59942),T=t(59125),y=t(82187),C=t.n(y),m=t(75271),f=t(21783),h=t(61),v=function(r){var a=r.prefixCls,s=r.style,u=r.start,c=r.end,E=r.index,p=r.onStartMove,e=r.replaceCls,i=m.useContext(f.Z),n=i.direction,l=i.min,M=i.max,O=i.disabled,D=i.range,P=i.classNames,b="".concat(a,"-track"),x=(0,h.os)(u,l,M),L=(0,h.os)(c,l,M),S=function(F){!O&&p&&p(F,-1)},K={};switch(n){case"rtl":K.right="".concat(x*100,"%"),K.width="".concat(L*100-x*100,"%");break;case"btt":K.bottom="".concat(x*100,"%"),K.height="".concat(L*100-x*100,"%");break;case"ttb":K.top="".concat(x*100,"%"),K.height="".concat(L*100-x*100,"%");break;default:K.left="".concat(x*100,"%"),K.width="".concat(L*100-x*100,"%")}var U=e||C()(b,(0,T.Z)((0,T.Z)({},"".concat(b,"-").concat(E+1),E!==null&&D),"".concat(a,"-track-draggable"),p),P.track);return m.createElement("div",{className:U,style:(0,d.Z)((0,d.Z)({},K),s),onMouseDown:S,onTouchStart:S})};N.Z=v},8119:function(at,N,t){"use strict";var d=t(59942),T=t(82187),y=t.n(T),C=t(75271),m=t(21783),f=t(61),h=t(57658),v=function(r){var a=r.prefixCls,s=r.style,u=r.values,c=r.startPoint,E=r.onStartMove,p=C.useContext(m.Z),e=p.included,i=p.range,n=p.min,l=p.styles,M=p.classNames,O=C.useMemo(function(){if(!i){if(u.length===0)return[];var P=c!=null?c:n,b=u[0];return[{start:Math.min(P,b),end:Math.max(P,b)}]}for(var x=[],L=0;L<u.length-1;L+=1)x.push({start:u[L],end:u[L+1]});return x},[u,i,c,n]);if(!e)return null;var D=O!=null&&O.length&&(M.tracks||l.tracks)?C.createElement(h.Z,{index:null,prefixCls:a,start:O[0].start,end:O[O.length-1].end,replaceCls:y()(M.tracks,"".concat(a,"-tracks")),style:l.tracks}):null;return C.createElement(C.Fragment,null,D,O.map(function(P,b){var x=P.start,L=P.end;return C.createElement(h.Z,{index:b,prefixCls:a,style:(0,d.Z)((0,d.Z)({},(0,f.rw)(s,b)),l.track),start:x,end:L,key:b,onStartMove:E})}))};N.Z=v},21783:function(at,N,t){"use strict";t.d(N,{y:function(){return y}});var d=t(75271),T=d.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}});N.Z=T;var y=d.createContext({})},79995:function(at,N,t){"use strict";var d=t(87948),T=t(8818),y=t(75271),C=t(59373),m=t(92076),f=t(21783),h=130;function v(r){var a="targetTouches"in r?r.targetTouches[0]:r;return{pageX:a.pageX,pageY:a.pageY}}function o(r,a,s,u,c,E,p,e,i,n,l){var M=y.useState(null),O=(0,T.Z)(M,2),D=O[0],P=O[1],b=y.useState(-1),x=(0,T.Z)(b,2),L=x[0],S=x[1],K=y.useState(!1),U=(0,T.Z)(K,2),j=U[0],F=U[1],W=y.useState(s),w=(0,T.Z)(W,2),z=w[0],H=w[1],Y=y.useState(s),V=(0,T.Z)(Y,2),$=V[0],J=V[1],rt=y.useRef(null),lt=y.useRef(null),tt=y.useRef(null),G=y.useContext(f.y),nt=G.onDragStart,ut=G.onDragChange;(0,m.Z)(function(){L===-1&&H(s)},[s,L]),y.useEffect(function(){return function(){document.removeEventListener("mousemove",rt.current),document.removeEventListener("mouseup",lt.current),tt.current&&(tt.current.removeEventListener("touchmove",rt.current),tt.current.removeEventListener("touchend",lt.current))}},[]);var dt=function(Et,Ot,B){Ot!==void 0&&P(Ot),H(Et);var X=Et;B&&(X=Et.filter(function(pt,Mt){return Mt!==L})),p(X),ut&&ut({rawValues:Et,deleteIndex:B?L:-1,draggingIndex:L,draggingValue:Ot})},et=(0,C.Z)(function(ot,Et,Ot){if(ot===-1){var B=$[0],X=$[$.length-1],pt=u-B,Mt=c-X,bt=Et*(c-u);bt=Math.max(bt,pt),bt=Math.min(bt,Mt);var Rt=E(B+bt);bt=Rt-B;var It=$.map(function(ht){return ht+bt});dt(It)}else{var st=(c-u)*Et,Q=(0,d.Z)(z);Q[ot]=$[ot];var ct=i(Q,st,ot,"dist");dt(ct.values,ct.value,Ot)}}),_t=function(Et,Ot,B){Et.stopPropagation();var X=B||s,pt=X[Ot];S(Ot),P(pt),J(X),H(X),F(!1);var Mt=v(Et),bt=Mt.pageX,Rt=Mt.pageY,It=!1;nt&&nt({rawValues:X,draggingIndex:Ot,draggingValue:pt});var st=function(ht){ht.preventDefault();var ft=v(ht),gt=ft.pageX,yt=ft.pageY,Tt=gt-bt,Dt=yt-Rt,Ct=r.current.getBoundingClientRect(),At=Ct.width,Ut=Ct.height,St,zt;switch(a){case"btt":St=-Dt/Ut,zt=Tt;break;case"ttb":St=Dt/Ut,zt=Tt;break;case"rtl":St=-Tt/At,zt=Dt;break;default:St=Tt/At,zt=Dt}It=n?Math.abs(zt)>h&&l<z.length:!1,F(It),et(Ot,St,It)},Q=function ct(ht){ht.preventDefault(),document.removeEventListener("mouseup",ct),document.removeEventListener("mousemove",st),tt.current&&(tt.current.removeEventListener("touchmove",rt.current),tt.current.removeEventListener("touchend",lt.current)),rt.current=null,lt.current=null,tt.current=null,e(It),S(-1),F(!1)};document.addEventListener("mouseup",Q),document.addEventListener("mousemove",st),Et.currentTarget.addEventListener("touchend",Q),Et.currentTarget.addEventListener("touchmove",st),rt.current=st,lt.current=Q,tt.current=Et.currentTarget},mt=y.useMemo(function(){var ot=(0,d.Z)(s).sort(function(pt,Mt){return pt-Mt}),Et=(0,d.Z)(z).sort(function(pt,Mt){return pt-Mt}),Ot={};Et.forEach(function(pt){Ot[pt]=(Ot[pt]||0)+1}),ot.forEach(function(pt){Ot[pt]=(Ot[pt]||0)-1});var B=n?1:0,X=Object.values(Ot).reduce(function(pt,Mt){return pt+Math.abs(Mt)},0);return X<=B?z:s},[s,z,n]);return[L,D,j,mt,_t]}N.Z=o},29191:function(at,N,t){"use strict";t.d(N,{Z:function(){return y}});var d=t(87948),T=t(75271);function y(C,m,f,h,v,o){var r=T.useCallback(function(e){return Math.max(C,Math.min(m,e))},[C,m]),a=T.useCallback(function(e){if(f!==null){var i=C+Math.round((r(e)-C)/f)*f,n=function(D){return(String(D).split(".")[1]||"").length},l=Math.max(n(f),n(m),n(C)),M=Number(i.toFixed(l));return C<=M&&M<=m?M:null}return null},[f,C,m,r]),s=T.useCallback(function(e){var i=r(e),n=h.map(function(O){return O.value});f!==null&&n.push(a(e)),n.push(C,m);var l=n[0],M=m-C;return n.forEach(function(O){var D=Math.abs(i-O);D<=M&&(l=O,M=D)}),l},[C,m,h,f,r,a]),u=function e(i,n,l){var M=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof n=="number"){var O,D=i[l],P=D+n,b=[];h.forEach(function(U){b.push(U.value)}),b.push(C,m),b.push(a(D));var x=n>0?1:-1;M==="unit"?b.push(a(D+x*f)):b.push(a(P)),b=b.filter(function(U){return U!==null}).filter(function(U){return n<0?U<=D:U>=D}),M==="unit"&&(b=b.filter(function(U){return U!==D}));var L=M==="unit"?D:P;O=b[0];var S=Math.abs(O-L);if(b.forEach(function(U){var j=Math.abs(U-L);j<S&&(O=U,S=j)}),O===void 0)return n<0?C:m;if(M==="dist")return O;if(Math.abs(n)>1){var K=(0,d.Z)(i);return K[l]=O,e(K,n-x,l,M)}return O}else{if(n==="min")return C;if(n==="max")return m}},c=function(i,n,l){var M=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",O=i[l],D=u(i,n,l,M);return{value:D,changed:D!==O}},E=function(i){return o===null&&i===0||typeof o=="number"&&i<o},p=function(i,n,l){var M=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",O=i.map(s),D=O[l],P=u(O,n,l,M);if(O[l]=P,v===!1){var b=o||0;l>0&&O[l-1]!==D&&(O[l]=Math.max(O[l],O[l-1]+b)),l<O.length-1&&O[l+1]!==D&&(O[l]=Math.min(O[l],O[l+1]-b))}else if(typeof o=="number"||o===null){for(var x=l+1;x<O.length;x+=1)for(var L=!0;E(O[x]-O[x-1])&&L;){var S=c(O,1,x);O[x]=S.value,L=S.changed}for(var K=l;K>0;K-=1)for(var U=!0;E(O[K]-O[K-1])&&U;){var j=c(O,-1,K-1);O[K-1]=j.value,U=j.changed}for(var F=O.length-1;F>0;F-=1)for(var W=!0;E(O[F]-O[F-1])&&W;){var w=c(O,-1,F-1);O[F-1]=w.value,W=w.changed}for(var z=0;z<O.length-1;z+=1)for(var H=!0;E(O[z+1]-O[z])&&H;){var Y=c(O,1,z+1);O[z+1]=Y.value,H=Y.changed}}return{value:O[l],values:O}};return[s,p]}},22317:function(at,N,t){"use strict";t.d(N,{Z:function(){return y}});var d=t(4449),T=t(75271);function y(C){return(0,T.useMemo)(function(){if(C===!0||!C)return[!!C,!1,!1,0];var m=C.editable,f=C.draggableTrack,h=C.minCount,v=C.maxCount;return[!0,m,!m&&f,h||0,v]},[C])}},45072:function(at,N,t){"use strict";var d=t(66329),T=t(21783);N.Z=d.Z},61:function(at,N,t){"use strict";t.d(N,{os:function(){return d},rw:function(){return y},vG:function(){return T}});function d(C,m,f){return(C-m)/(f-m)}function T(C,m,f,h){var v=d(m,f,h),o={};switch(C){case"rtl":o.right="".concat(v*100,"%"),o.transform="translateX(50%)";break;case"btt":o.bottom="".concat(v*100,"%"),o.transform="translateY(50%)";break;case"ttb":o.top="".concat(v*100,"%"),o.transform="translateY(-50%)";break;default:o.left="".concat(v*100,"%"),o.transform="translateX(-50%)";break}return o}function y(C,m){return Array.isArray(C)?C[m]:C}},14583:function(at,N){"use strict";var t={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(T){var y=T.keyCode;if(T.altKey&&!T.ctrlKey||T.metaKey||y>=t.F1&&y<=t.F12)return!1;switch(y){case t.ALT:case t.CAPS_LOCK:case t.CONTEXT_MENU:case t.CTRL:case t.DOWN:case t.END:case t.ESC:case t.HOME:case t.INSERT:case t.LEFT:case t.MAC_FF_META:case t.META:case t.NUMLOCK:case t.NUM_CENTER:case t.PAGE_DOWN:case t.PAGE_UP:case t.PAUSE:case t.PRINT_SCREEN:case t.RIGHT:case t.SHIFT:case t.UP:case t.WIN_KEY:case t.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(T){if(T>=t.ZERO&&T<=t.NINE||T>=t.NUM_ZERO&&T<=t.NUM_MULTIPLY||T>=t.A&&T<=t.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&T===0)return!0;switch(T){case t.SPACE:case t.QUESTION_MARK:case t.NUM_PLUS:case t.NUM_MINUS:case t.NUM_PERIOD:case t.NUM_DIVISION:case t.SEMICOLON:case t.DASH:case t.EQUALS:case t.COMMA:case t.PERIOD:case t.SLASH:case t.APOSTROPHE:case t.SINGLE_QUOTE:case t.OPEN_SQUARE_BRACKET:case t.BACKSLASH:case t.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};N.Z=t},32858:function(at,N,t){"use strict";var d=t(62087),T=Array.prototype.concat,y=Array.prototype.slice,C=at.exports=function(f){for(var h=[],v=0,o=f.length;v<o;v++){var r=f[v];d(r)?h=T.call(h,y.call(r)):h.push(r)}return h};C.wrap=function(m){return function(){return m(C(arguments))}}},87974:function(at,N,t){"use strict";t.d(N,{Z:function(){return C}});var d=t(35922),T=t(52493),y=t(93460);function C(m,f,h){return f=(0,d.Z)(f),(0,y.Z)(m,(0,T.Z)()?Reflect.construct(f,h||[],(0,d.Z)(m).constructor):f.apply(m,h))}},82231:function(at,N,t){"use strict";t.d(N,{Z:function(){return d}});function d(T,y){if(!{}.hasOwnProperty.call(T,y))throw new TypeError("attempted to use private field on non-instance");return T}},44756:function(at,N,t){"use strict";t.d(N,{Z:function(){return T}});var d=0;function T(y){return"__private_"+d+++"_"+y}},36249:function(at,N,t){"use strict";t.d(N,{Z:function(){return T}});var d=t(23317);function T(y,C){var m=typeof Symbol!="undefined"&&y[Symbol.iterator]||y["@@iterator"];if(!m){if(Array.isArray(y)||(m=(0,d.Z)(y))||C&&y&&typeof y.length=="number"){m&&(y=m);var f=0,h=function(){};return{s:h,n:function(){return f>=y.length?{done:!0}:{done:!1,value:y[f++]}},e:function(s){throw s},f:h}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,o=!0,r=!1;return{s:function(){m=m.call(y)},n:function(){var s=m.next();return o=s.done,s},e:function(s){r=!0,v=s},f:function(){try{o||m.return==null||m.return()}finally{if(r)throw v}}}}},14707:function(at,N,t){"use strict";t.d(N,{Z:function(){return T}});var d=t(90780);function T(){return T=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(y,C,m){var f=(0,d.Z)(y,C);if(f){var h=Object.getOwnPropertyDescriptor(f,C);return h.get?h.get.call(arguments.length<3?y:m):h.value}},T.apply(null,arguments)}},90780:function(at,N,t){"use strict";t.d(N,{Z:function(){return T}});var d=t(35922);function T(y,C){for(;!{}.hasOwnProperty.call(y,C)&&(y=(0,d.Z)(y))!==null;);return y}},46793:function(at,N,t){"use strict";t.d(N,{Z:function(){return y}});var d=t(14707),T=t(35922);function y(C,m,f,h){var v=(0,d.Z)((0,T.Z)(1&h?C.prototype:C),m,f);return 2&h&&typeof v=="function"?function(o){return v.apply(f,o)}:v}},80345:function(at,N,t){"use strict";t.d(N,{Ud:function(){return c},Yy:function(){return y}});const d=Symbol("Comlink.proxy"),T=Symbol("Comlink.endpoint"),y=Symbol("Comlink.releaseProxy"),C=Symbol("Comlink.finalizer"),m=Symbol("Comlink.thrown"),f=F=>typeof F=="object"&&F!==null||typeof F=="function",h={canHandle:F=>f(F)&&F[d],serialize(F){const{port1:W,port2:w}=new MessageChannel;return a(F,W),[w,[w]]},deserialize(F){return F.start(),c(F)}},v={canHandle:F=>f(F)&&m in F,serialize({value:F}){let W;return F instanceof Error?W={isError:!0,value:{message:F.message,name:F.name,stack:F.stack}}:W={isError:!1,value:F},[W,[]]},deserialize(F){throw F.isError?Object.assign(new Error(F.value.message),F.value):F.value}},o=new Map([["proxy",h],["throw",v]]);function r(F,W){for(const w of F)if(W===w||w==="*"||w instanceof RegExp&&w.test(W))return!0;return!1}function a(F,W=globalThis,w=["*"]){W.addEventListener("message",function z(H){if(!H||!H.data)return;if(!r(w,H.origin)){console.warn(`Invalid origin '${H.origin}' for comlink proxy`);return}const{id:Y,type:V,path:$}=Object.assign({path:[]},H.data),J=(H.data.argumentList||[]).map(K);let rt;try{const lt=$.slice(0,-1).reduce((G,nt)=>G[nt],F),tt=$.reduce((G,nt)=>G[nt],F);switch(V){case"GET":rt=tt;break;case"SET":lt[$.slice(-1)[0]]=K(H.data.value),rt=!0;break;case"APPLY":rt=tt.apply(lt,J);break;case"CONSTRUCT":{const G=new tt(...J);rt=x(G)}break;case"ENDPOINT":{const{port1:G,port2:nt}=new MessageChannel;a(F,nt),rt=b(G,[G])}break;case"RELEASE":rt=void 0;break;default:return}}catch(lt){rt={value:lt,[m]:0}}Promise.resolve(rt).catch(lt=>({value:lt,[m]:0})).then(lt=>{const[tt,G]=S(lt);W.postMessage(Object.assign(Object.assign({},tt),{id:Y}),G),V==="RELEASE"&&(W.removeEventListener("message",z),u(W),C in F&&typeof F[C]=="function"&&F[C]())}).catch(lt=>{const[tt,G]=S({value:new TypeError("Unserializable return value"),[m]:0});W.postMessage(Object.assign(Object.assign({},tt),{id:Y}),G)})}),W.start&&W.start()}function s(F){return F.constructor.name==="MessagePort"}function u(F){s(F)&&F.close()}function c(F,W){const w=new Map;return F.addEventListener("message",function(H){const{data:Y}=H;if(!Y||!Y.id)return;const V=w.get(Y.id);if(V)try{V(Y)}finally{w.delete(Y.id)}}),M(F,w,[],W)}function E(F){if(F)throw new Error("Proxy has been released and is not useable")}function p(F){return U(F,new Map,{type:"RELEASE"}).then(()=>{u(F)})}const e=new WeakMap,i="FinalizationRegistry"in globalThis&&new FinalizationRegistry(F=>{const W=(e.get(F)||0)-1;e.set(F,W),W===0&&p(F)});function n(F,W){const w=(e.get(W)||0)+1;e.set(W,w),i&&i.register(F,W,F)}function l(F){i&&i.unregister(F)}function M(F,W,w=[],z=function(){}){let H=!1;const Y=new Proxy(z,{get(V,$){if(E(H),$===y)return()=>{l(Y),p(F),W.clear(),H=!0};if($==="then"){if(w.length===0)return{then:()=>Y};const J=U(F,W,{type:"GET",path:w.map(rt=>rt.toString())}).then(K);return J.then.bind(J)}return M(F,W,[...w,$])},set(V,$,J){E(H);const[rt,lt]=S(J);return U(F,W,{type:"SET",path:[...w,$].map(tt=>tt.toString()),value:rt},lt).then(K)},apply(V,$,J){E(H);const rt=w[w.length-1];if(rt===T)return U(F,W,{type:"ENDPOINT"}).then(K);if(rt==="bind")return M(F,W,w.slice(0,-1));const[lt,tt]=D(J);return U(F,W,{type:"APPLY",path:w.map(G=>G.toString()),argumentList:lt},tt).then(K)},construct(V,$){E(H);const[J,rt]=D($);return U(F,W,{type:"CONSTRUCT",path:w.map(lt=>lt.toString()),argumentList:J},rt).then(K)}});return n(Y,F),Y}function O(F){return Array.prototype.concat.apply([],F)}function D(F){const W=F.map(S);return[W.map(w=>w[0]),O(W.map(w=>w[1]))]}const P=new WeakMap;function b(F,W){return P.set(F,W),F}function x(F){return Object.assign(F,{[d]:!0})}function L(F,W=globalThis,w="*"){return{postMessage:(z,H)=>F.postMessage(z,w,H),addEventListener:W.addEventListener.bind(W),removeEventListener:W.removeEventListener.bind(W)}}function S(F){for(const[W,w]of o)if(w.canHandle(F)){const[z,H]=w.serialize(F);return[{type:"HANDLER",name:W,value:z},H]}return[{type:"RAW",value:F},P.get(F)||[]]}function K(F){switch(F.type){case"HANDLER":return o.get(F.name).deserialize(F.value);case"RAW":return F.value}}function U(F,W,w,z){return new Promise(H=>{const Y=j();W.set(Y,H),F.start&&F.start(),F.postMessage(Object.assign({id:Y},w),z)})}function j(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}},73983:function(at,N,t){"use strict";var d=t(2337);N.Z=d},15767:function(at,N,t){"use strict";t.d(N,{CR:function(){return e},Q_:function(){return U},XA:function(){return p},ZT:function(){return T},_T:function(){return C},ev:function(){return l},mG:function(){return s},pi:function(){return y},pr:function(){return n}});var d=function(V,$){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,rt){J.__proto__=rt}||function(J,rt){for(var lt in rt)Object.prototype.hasOwnProperty.call(rt,lt)&&(J[lt]=rt[lt])},d(V,$)};function T(V,$){if(typeof $!="function"&&$!==null)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");d(V,$);function J(){this.constructor=V}V.prototype=$===null?Object.create($):(J.prototype=$.prototype,new J)}var y=function(){return y=Object.assign||function($){for(var J,rt=1,lt=arguments.length;rt<lt;rt++){J=arguments[rt];for(var tt in J)Object.prototype.hasOwnProperty.call(J,tt)&&($[tt]=J[tt])}return $},y.apply(this,arguments)};function C(V,$){var J={};for(var rt in V)Object.prototype.hasOwnProperty.call(V,rt)&&$.indexOf(rt)<0&&(J[rt]=V[rt]);if(V!=null&&typeof Object.getOwnPropertySymbols=="function")for(var lt=0,rt=Object.getOwnPropertySymbols(V);lt<rt.length;lt++)$.indexOf(rt[lt])<0&&Object.prototype.propertyIsEnumerable.call(V,rt[lt])&&(J[rt[lt]]=V[rt[lt]]);return J}function m(V,$,J,rt){var lt=arguments.length,tt=lt<3?$:rt===null?rt=Object.getOwnPropertyDescriptor($,J):rt,G;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")tt=Reflect.decorate(V,$,J,rt);else for(var nt=V.length-1;nt>=0;nt--)(G=V[nt])&&(tt=(lt<3?G(tt):lt>3?G($,J,tt):G($,J))||tt);return lt>3&&tt&&Object.defineProperty($,J,tt),tt}function f(V,$){return function(J,rt){$(J,rt,V)}}function h(V,$,J,rt,lt,tt){function G(X){if(X!==void 0&&typeof X!="function")throw new TypeError("Function expected");return X}for(var nt=rt.kind,ut=nt==="getter"?"get":nt==="setter"?"set":"value",dt=!$&&V?rt.static?V:V.prototype:null,et=$||(dt?Object.getOwnPropertyDescriptor(dt,rt.name):{}),_t,mt=!1,ot=J.length-1;ot>=0;ot--){var Et={};for(var Ot in rt)Et[Ot]=Ot==="access"?{}:rt[Ot];for(var Ot in rt.access)Et.access[Ot]=rt.access[Ot];Et.addInitializer=function(X){if(mt)throw new TypeError("Cannot add initializers after decoration has completed");tt.push(G(X||null))};var B=(0,J[ot])(nt==="accessor"?{get:et.get,set:et.set}:et[ut],Et);if(nt==="accessor"){if(B===void 0)continue;if(B===null||typeof B!="object")throw new TypeError("Object expected");(_t=G(B.get))&&(et.get=_t),(_t=G(B.set))&&(et.set=_t),(_t=G(B.init))&&lt.unshift(_t)}else(_t=G(B))&&(nt==="field"?lt.unshift(_t):et[ut]=_t)}dt&&Object.defineProperty(dt,rt.name,et),mt=!0}function v(V,$,J){for(var rt=arguments.length>2,lt=0;lt<$.length;lt++)J=rt?$[lt].call(V,J):$[lt].call(V);return rt?J:void 0}function o(V){return typeof V=="symbol"?V:"".concat(V)}function r(V,$,J){return typeof $=="symbol"&&($=$.description?"[".concat($.description,"]"):""),Object.defineProperty(V,"name",{configurable:!0,value:J?"".concat(J," ",$):$})}function a(V,$){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(V,$)}function s(V,$,J,rt){function lt(tt){return tt instanceof J?tt:new J(function(G){G(tt)})}return new(J||(J=Promise))(function(tt,G){function nt(et){try{dt(rt.next(et))}catch(_t){G(_t)}}function ut(et){try{dt(rt.throw(et))}catch(_t){G(_t)}}function dt(et){et.done?tt(et.value):lt(et.value).then(nt,ut)}dt((rt=rt.apply(V,$||[])).next())})}function u(V,$){var J={label:0,sent:function(){if(tt[0]&1)throw tt[1];return tt[1]},trys:[],ops:[]},rt,lt,tt,G=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return G.next=nt(0),G.throw=nt(1),G.return=nt(2),typeof Symbol=="function"&&(G[Symbol.iterator]=function(){return this}),G;function nt(dt){return function(et){return ut([dt,et])}}function ut(dt){if(rt)throw new TypeError("Generator is already executing.");for(;G&&(G=0,dt[0]&&(J=0)),J;)try{if(rt=1,lt&&(tt=dt[0]&2?lt.return:dt[0]?lt.throw||((tt=lt.return)&&tt.call(lt),0):lt.next)&&!(tt=tt.call(lt,dt[1])).done)return tt;switch(lt=0,tt&&(dt=[dt[0]&2,tt.value]),dt[0]){case 0:case 1:tt=dt;break;case 4:return J.label++,{value:dt[1],done:!1};case 5:J.label++,lt=dt[1],dt=[0];continue;case 7:dt=J.ops.pop(),J.trys.pop();continue;default:if(tt=J.trys,!(tt=tt.length>0&&tt[tt.length-1])&&(dt[0]===6||dt[0]===2)){J=0;continue}if(dt[0]===3&&(!tt||dt[1]>tt[0]&&dt[1]<tt[3])){J.label=dt[1];break}if(dt[0]===6&&J.label<tt[1]){J.label=tt[1],tt=dt;break}if(tt&&J.label<tt[2]){J.label=tt[2],J.ops.push(dt);break}tt[2]&&J.ops.pop(),J.trys.pop();continue}dt=$.call(V,J)}catch(et){dt=[6,et],lt=0}finally{rt=tt=0}if(dt[0]&5)throw dt[1];return{value:dt[0]?dt[1]:void 0,done:!0}}}var c=Object.create?function(V,$,J,rt){rt===void 0&&(rt=J);var lt=Object.getOwnPropertyDescriptor($,J);(!lt||("get"in lt?!$.__esModule:lt.writable||lt.configurable))&&(lt={enumerable:!0,get:function(){return $[J]}}),Object.defineProperty(V,rt,lt)}:function(V,$,J,rt){rt===void 0&&(rt=J),V[rt]=$[J]};function E(V,$){for(var J in V)J!=="default"&&!Object.prototype.hasOwnProperty.call($,J)&&c($,V,J)}function p(V){var $=typeof Symbol=="function"&&Symbol.iterator,J=$&&V[$],rt=0;if(J)return J.call(V);if(V&&typeof V.length=="number")return{next:function(){return V&&rt>=V.length&&(V=void 0),{value:V&&V[rt++],done:!V}}};throw new TypeError($?"Object is not iterable.":"Symbol.iterator is not defined.")}function e(V,$){var J=typeof Symbol=="function"&&V[Symbol.iterator];if(!J)return V;var rt=J.call(V),lt,tt=[],G;try{for(;($===void 0||$-- >0)&&!(lt=rt.next()).done;)tt.push(lt.value)}catch(nt){G={error:nt}}finally{try{lt&&!lt.done&&(J=rt.return)&&J.call(rt)}finally{if(G)throw G.error}}return tt}function i(){for(var V=[],$=0;$<arguments.length;$++)V=V.concat(e(arguments[$]));return V}function n(){for(var V=0,$=0,J=arguments.length;$<J;$++)V+=arguments[$].length;for(var rt=Array(V),lt=0,$=0;$<J;$++)for(var tt=arguments[$],G=0,nt=tt.length;G<nt;G++,lt++)rt[lt]=tt[G];return rt}function l(V,$,J){if(J||arguments.length===2)for(var rt=0,lt=$.length,tt;rt<lt;rt++)(tt||!(rt in $))&&(tt||(tt=Array.prototype.slice.call($,0,rt)),tt[rt]=$[rt]);return V.concat(tt||Array.prototype.slice.call($))}function M(V){return this instanceof M?(this.v=V,this):new M(V)}function O(V,$,J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var rt=J.apply(V,$||[]),lt,tt=[];return lt=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),nt("next"),nt("throw"),nt("return",G),lt[Symbol.asyncIterator]=function(){return this},lt;function G(ot){return function(Et){return Promise.resolve(Et).then(ot,_t)}}function nt(ot,Et){rt[ot]&&(lt[ot]=function(Ot){return new Promise(function(B,X){tt.push([ot,Ot,B,X])>1||ut(ot,Ot)})},Et&&(lt[ot]=Et(lt[ot])))}function ut(ot,Et){try{dt(rt[ot](Et))}catch(Ot){mt(tt[0][3],Ot)}}function dt(ot){ot.value instanceof M?Promise.resolve(ot.value.v).then(et,_t):mt(tt[0][2],ot)}function et(ot){ut("next",ot)}function _t(ot){ut("throw",ot)}function mt(ot,Et){ot(Et),tt.shift(),tt.length&&ut(tt[0][0],tt[0][1])}}function D(V){var $,J;return $={},rt("next"),rt("throw",function(lt){throw lt}),rt("return"),$[Symbol.iterator]=function(){return this},$;function rt(lt,tt){$[lt]=V[lt]?function(G){return(J=!J)?{value:M(V[lt](G)),done:!1}:tt?tt(G):G}:tt}}function P(V){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $=V[Symbol.asyncIterator],J;return $?$.call(V):(V=typeof p=="function"?p(V):V[Symbol.iterator](),J={},rt("next"),rt("throw"),rt("return"),J[Symbol.asyncIterator]=function(){return this},J);function rt(tt){J[tt]=V[tt]&&function(G){return new Promise(function(nt,ut){G=V[tt](G),lt(nt,ut,G.done,G.value)})}}function lt(tt,G,nt,ut){Promise.resolve(ut).then(function(dt){tt({value:dt,done:nt})},G)}}function b(V,$){return Object.defineProperty?Object.defineProperty(V,"raw",{value:$}):V.raw=$,V}var x=Object.create?function(V,$){Object.defineProperty(V,"default",{enumerable:!0,value:$})}:function(V,$){V.default=$},L=function(V){return L=Object.getOwnPropertyNames||function($){var J=[];for(var rt in $)Object.prototype.hasOwnProperty.call($,rt)&&(J[J.length]=rt);return J},L(V)};function S(V){if(V&&V.__esModule)return V;var $={};if(V!=null)for(var J=L(V),rt=0;rt<J.length;rt++)J[rt]!=="default"&&c($,V,J[rt]);return x($,V),$}function K(V){return V&&V.__esModule?V:{default:V}}function U(V,$,J,rt){if(J==="a"&&!rt)throw new TypeError("Private accessor was defined without a getter");if(typeof $=="function"?V!==$||!rt:!$.has(V))throw new TypeError("Cannot read private member from an object whose class did not declare it");return J==="m"?rt:J==="a"?rt.call(V):rt?rt.value:$.get(V)}function j(V,$,J,rt,lt){if(rt==="m")throw new TypeError("Private method is not writable");if(rt==="a"&&!lt)throw new TypeError("Private accessor was defined without a setter");if(typeof $=="function"?V!==$||!lt:!$.has(V))throw new TypeError("Cannot write private member to an object whose class did not declare it");return rt==="a"?lt.call(V,J):lt?lt.value=J:$.set(V,J),J}function F(V,$){if($===null||typeof $!="object"&&typeof $!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof V=="function"?$===V:V.has($)}function W(V,$,J){if($!=null){if(typeof $!="object"&&typeof $!="function")throw new TypeError("Object expected.");var rt,lt;if(J){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");rt=$[Symbol.asyncDispose]}if(rt===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");rt=$[Symbol.dispose],J&&(lt=rt)}if(typeof rt!="function")throw new TypeError("Object not disposable.");lt&&(rt=function(){try{lt.call(this)}catch(tt){return Promise.reject(tt)}}),V.stack.push({value:$,dispose:rt,async:J})}else J&&V.stack.push({async:!0});return $}var w=typeof SuppressedError=="function"?SuppressedError:function(V,$,J){var rt=new Error(J);return rt.name="SuppressedError",rt.error=V,rt.suppressed=$,rt};function z(V){function $(tt){V.error=V.hasError?new w(tt,V.error,"An error was suppressed during disposal."):tt,V.hasError=!0}var J,rt=0;function lt(){for(;J=V.stack.pop();)try{if(!J.async&&rt===1)return rt=0,V.stack.push(J),Promise.resolve().then(lt);if(J.dispose){var tt=J.dispose.call(J.value);if(J.async)return rt|=2,Promise.resolve(tt).then(lt,function(G){return $(G),lt()})}else rt|=1}catch(G){$(G)}if(rt===1)return V.hasError?Promise.reject(V.error):Promise.resolve();if(V.hasError)throw V.error}return lt()}function H(V,$){return typeof V=="string"&&/^\.\.?\//.test(V)?V.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(J,rt,lt,tt,G){return rt?$?".jsx":".js":lt&&(!tt||!G)?J:lt+tt+"."+G.toLowerCase()+"js"}):V}var Y={__extends:T,__assign:y,__rest:C,__decorate:m,__param:f,__esDecorate:h,__runInitializers:v,__propKey:o,__setFunctionName:r,__metadata:a,__awaiter:s,__generator:u,__createBinding:c,__exportStar:E,__values:p,__read:e,__spread:i,__spreadArrays:n,__spreadArray:l,__await:M,__asyncGenerator:O,__asyncDelegator:D,__asyncValues:P,__makeTemplateObject:b,__importStar:S,__importDefault:K,__classPrivateFieldGet:U,__classPrivateFieldSet:j,__classPrivateFieldIn:F,__addDisposableResource:W,__disposeResources:z,__rewriteRelativeImportExtension:H}}}]);
}());
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[412],{79222:function(A,N,n){n.r(N);var te=n(26068),h=n.n(te),ie=n(48305),c=n.n(ie),l=n(75271),i=n(34116),ne=n(11565),P=n(96164),U=n(16029),se=n(670),F=n(53202),ae=n(82722),le=n(88681),S=n(34189),re=n(36294),u=n(43289),v=n(12995),g=n(10403),M=n(69191),oe=n(88701),Se=n(42580),e=n(52676),O=[{id:"1-1",name:"\u667A\u80FD\u7EBF\u8DEF\u8BBE\u8BA1"},{id:"1-2",name:"\u533A\u95F4\u96A7\u9053\u81EA\u52A8\u5316\u8BBE\u8BA1"},{id:"1-3",name:"\u8F66\u7AD9\u6A21\u578B\u6846\u67B6"}],y=[{id:"2-1",name:"\u516C\u5171\u533A\u52A8\u7EBF\u8BBE\u8BA1"},{id:"2-2",name:"\u667A\u6167\u5BA2\u6D41\u8BA1\u7B97"},{id:"2-3",name:"\u667A\u80FD\u623F\u95F4\u5E03\u5C40"},{id:"2-4",name:"\u667A\u6167\u73AF\u63A7\u7CFB\u7EDF"},{id:"2-5",name:"\u5DE5\u7A0B\u91CF\u8BA1\u7B97"}],k=[{id:"3-1",name:"\u516C\u5171\u4EA4\u901A\u8BBE\u8BA1"},{id:"3-2",name:"\u8BBE\u5907\u533A\u6DF1\u5316\u8BBE\u8BA1"},{id:"3-3",name:"\u5730\u9762\u9644\u5C5E\u6DF1\u5316\u8BBE\u8BA1"},{id:"3-4",name:"\u667A\u80FD\u7BA1\u7EBF\u7EFC\u5408"},{id:"3-5",name:"\u533A\u95F4\u96A7\u9053\u81EA\u52A8\u5316\u8BBE\u8BA1"}],G=[{id:"4-1",name:"\u5EFA\u7B51\u8BBE\u8BA1\u6210\u679C\u8F93\u51FA"},{id:"4-2",name:"\u7ED3\u6784\u8BBE\u8BA1\u6210\u679C\u8F93\u51FA"},{id:"4-3",name:"\u7ED9\u6392\u6C34\u8BBE\u8BA1\u6210\u679C\u8F93\u51FA"},{id:"4-4",name:"\u73AF\u63A7\u8BBE\u8BA1\u6210\u679C\u8F93\u51FA"},{id:"4-5",name:"\u7535\u529B\u8BBE\u8BA1\u6210\u679C\u8F93\u51FA"},{id:"4-6",name:"\u5176\u4ED6"}],de=function(){var I=(0,l.useState)({}),f=c()(I,2),Q=f[0],b=f[1],j=(0,M.U)(function(t){return t}),Y=j.bumenList,L=j.getBumenList;(0,l.useEffect)(function(){L()},[]);var K=[{title:"\u5E8F\u53F7",dataIndex:"id",key:"id",width:80},{title:"\u59D3\u540D",dataIndex:"nickName",key:"nickName",width:150},{title:"\u6027\u522B ",dataIndex:"sex",key:"sex",width:100,render:function(s,m){return m.sex==1?"\u7537":"\u5973"}},{title:"\u624B\u673A\u53F7",dataIndex:"phonenumber",key:"phonenumber"},{title:"\u90E8\u95E8 ",dataIndex:"deptName",key:"deptName"},{title:"\u5C97\u4F4D",dataIndex:"postName",key:"postName"},{title:"\u64CD\u4F5C",key:"action",width:100,render:function(s,m){return(0,e.jsxs)(ne.Z,{size:"middle",children:[(0,e.jsx)("div",{style:{cursor:"pointer"},onClick:function(){return Ne(m)},children:(0,e.jsx)(u.J.UserIcon,{})}),(0,e.jsx)("div",{style:{cursor:"pointer"},onClick:function(){return m.de},children:(0,e.jsx)(u.J.DeleteIcon,{})})]})}}],o=[].concat(O,y,k,G),D=(0,l.useState)(O[0]),T=c()(D,2),a=T[0],_=T[1],C=(0,l.useState)(2),E=c()(C,2),p=E[0],Z=E[1],W=(0,l.useState)([]),r=c()(W,2),d=r[0],x=r[1],V=(0,l.useState)(!1),J=c()(V,2),_e=J[0],X=J[1],me=(0,l.useState)(1),z=c()(me,2),De=z[0],Te=z[1],Ae=(0,l.useState)(5),H=c()(Ae,2),Ze=H[0],Be=H[1],he=(0,l.useState)(0),q=c()(he,2),fe=q[0],pe=q[1],xe=(0,M.U)(function(t){return t}),B=xe.selectedProjectId,ve=function(){X(!0)},R=function(s){_(s)};(0,l.useEffect)(function(){g.WY.get("/design/workflow/detail",{projectId:B,flowCode:a.id}).then(function(t){b(t.data)})},[a]);var Ie=function(){var s=o.findIndex(function(m){return m.id===a.id});_(s===0?o[o.length-1]:o[s-1])},ge=function(){var s=o.findIndex(function(m){return m.id===a.id});s===o.length-1?_(o[0]):_(o[s+1])};(0,l.useEffect)(function(){var t=o.findIndex(function(s){return s.id===a.id});t===o.length-1?Z(o[0].id):Z(o[t+1].id)},[a]);var je=(0,l.useState)({userName:""}),$=c()(je,2),ee=$[0],Ce=$[1],w=(0,v.Z)(function(){g.WY.get("/design/user/detailList",{projectId:B,flowCode:a.id,pageNum:1,pageSize:1e5}).then(function(t){x(t.rows),pe(t.total)})});(0,l.useEffect)(function(){w()},[a]);var Ee=(0,v.Z)(function(){w()}),Ne=(0,v.Z)(function(t){console.log("record: ",t),g.WY.put("/design/user",{id:t.id,projectId:B,flowCode:a.id,userId:t.userId,isLeader:1}).then(function(s){P.ZP.success("\u8BBE\u7F6E\u6210\u529F")}).catch(function(s){P.ZP.error("\u8BBE\u7F6E\u5931\u8D25")})});return(0,e.jsxs)("div",{className:i.Z.page,children:[(0,e.jsx)(ce,{open:_e,setOpen:X,projectId:B,flowCode:a.id}),(0,e.jsxs)("div",{className:i.Z.pageCont,children:[(0,e.jsxs)("div",{className:i.Z.pageContLeft,children:[(0,e.jsx)("div",{className:i.Z.list1,children:(0,e.jsx)("div",{className:i.Z.listCont,children:O.map(function(t){return(0,e.jsxs)("div",{className:"".concat(i.Z.listItem," ").concat(t.id===a.id?i.Z.listItemActive:""," ").concat(t.id===p?i.Z.listItemNext:""),onClick:function(){return R(t)},children:[(0,e.jsx)("div",{className:i.Z.listItemImg}),(0,e.jsx)("div",{className:i.Z.listItemTitle,title:t.name,children:t.name})]},t.id)})})}),(0,e.jsx)("div",{className:i.Z.list2,children:(0,e.jsx)("div",{className:i.Z.listCont,children:y.map(function(t){return(0,e.jsxs)("div",{className:"".concat(i.Z.listItem," ").concat(t.id===a.id?i.Z.listItemActive:""," ").concat(t.id===p?i.Z.listItemNext:""),onClick:function(){return R(t)},children:[(0,e.jsx)("div",{className:i.Z.listItemImg}),(0,e.jsx)("div",{className:i.Z.listItemTitle,title:t.name,children:t.name})]},t.id)})})}),(0,e.jsx)("div",{className:i.Z.list3,children:(0,e.jsx)("div",{className:i.Z.listCont,children:k.map(function(t){return(0,e.jsxs)("div",{className:"".concat(i.Z.listItem," ").concat(t.id===a.id?i.Z.listItemActive:""," ").concat(t.id===p?i.Z.listItemNext:""),onClick:function(){return R(t)},children:[(0,e.jsx)("div",{className:i.Z.listItemImg}),(0,e.jsx)("div",{className:i.Z.listItemTitle,title:t.name,children:t.name})]},t.id)})})}),(0,e.jsx)("div",{className:i.Z.list4,children:(0,e.jsx)("div",{className:i.Z.listCont,children:G.map(function(t){return(0,e.jsxs)("div",{className:"".concat(i.Z.listItem," ").concat(t.id===a.id?i.Z.listItemActive:""," ").concat(t.id===p?i.Z.listItemNext:""),onClick:function(){return R(t)},children:[(0,e.jsx)("div",{className:i.Z.listItemImg}),(0,e.jsx)("div",{className:i.Z.listItemTitle,title:t.name,children:t.name})]},t.id)})})})]}),(0,e.jsxs)("div",{className:i.Z.pageContRight,children:[(0,e.jsxs)("div",{className:i.Z.rightTop,children:[(0,e.jsx)("img",{className:i.Z.rightTopImg,src:n(96687),alt:""}),(0,e.jsxs)("div",{className:i.Z.rightTopGroup,children:[(0,e.jsx)("img",{className:i.Z.rightTopGroupPrev,src:n(8305),onClick:function(){return Ie()},alt:""}),(0,e.jsx)("span",{className:i.Z.rightTopGroupTitle,title:a.name,children:a.name}),(0,e.jsx)("img",{className:i.Z.rightTopGroupNext,src:n(98213),onClick:function(){return ge()},alt:""})]}),(0,e.jsxs)("div",{className:i.Z.rightTop,children:["\u533A\u5757\u8D1F\u8D23\u4EBA\uFF1A",Q.userName]})]}),(0,e.jsxs)("div",{className:i.Z.table,children:[(0,e.jsxs)("div",{className:i.Z.tableTop,children:[(0,e.jsxs)("div",{className:i.Z.tableTopLeft,children:[(0,e.jsx)(u.J.ProjectIcon,{}),(0,e.jsxs)("div",{className:"count-total",children:["\u533A\u5757\u7EC4\u5458",(0,e.jsx)("span",{className:"number",children:fe})]}),(0,e.jsx)("div",{style:{cursor:"pointer"},onClick:function(){return Ee()},children:(0,e.jsx)(u.J.RefreshIcon,{})}),(0,e.jsxs)("div",{className:i.Z.tableTopInputWrap,children:[(0,e.jsx)(U.Z,{className:i.Z.tableInput,placeholder:"\u59D3\u540D/\u624B\u673A\u53F7",variant:"filled",value:ee.userName,onChange:function(s){return Ce(h()(h()({},ee),{},{userName:s.target.value}))}}),(0,e.jsx)("div",{style:{cursor:"pointer"},onClick:function(){return w()},children:(0,e.jsx)(u.J.SearchIcon,{})})]})]}),(0,e.jsx)("div",{className:i.Z.tableTopRight,children:(0,e.jsx)(se.ZP,{type:"primary",className:"u-ant-btn",icon:(0,e.jsx)(re.Z,{}),onClick:function(){return ve()},children:"\u6DFB\u52A0\u7EC4\u5458"})})]}),(0,e.jsx)("div",{children:(0,e.jsx)(F.Z,{className:"u-table",columns:K,dataSource:d,scroll:{y:41*14},pagination:!1})})]})]})]})]})},ce=function(I){var f=(0,M.U)(function(r){return r}),Q=f.gangweilist,b=f.getGangweiList,j=f.bumenList,Y=f.getBumenList;(0,l.useEffect)(function(){b(),Y()},[]);var L=[{title:"\u5E8F\u53F7",dataIndex:"userId",key:"userId"},{title:"\u59D3\u540D",dataIndex:"userName",key:"userName"},{title:"\u6027\u522B ",dataIndex:"sex",key:"sex"},{title:"\u624B\u673A\u53F7",dataIndex:"phonenumber",key:"phonenumber"},{title:"\u90E8\u95E8 ",dataIndex:"deptId",key:"deptId",render:function(d,x){return(0,oe._)(j,x.deptId)}},{title:"\u5C97\u4F4D",dataIndex:"postIds",key:"postIds"},{title:"\u72B6\u6001 ",dataIndex:"status",key:"status",render:function(d,x){return(0,e.jsx)(e.Fragment,{children:x.status==1?" \u5DF2\u542F\u7528":" \u5DF2\u5173\u95ED"})}},{title:"\u64CD\u4F5C",key:"action",render:function(d,x){return(0,e.jsx)("div",{style:{cursor:"pointer"},onClick:function(){return Z(x)},children:(0,e.jsx)(u.J.AddIcon,{})})}}],K=(0,l.useState)([]),o=c()(K,2),D=o[0],T=o[1],a=(0,l.useState)({userName:"",deptId:"",status:""}),_=c()(a,2),C=_[0],E=_[1];(0,l.useEffect)(function(){p()},[]);var p=(0,v.Z)(function(){g.WY.get("/system/user/list",h()({pageNum:1,pageSize:1e5},C)).then(function(r){console.log("userlist: ",r),T(r.rows.filter(function(d){return d.userId>100}))})}),Z=(0,v.Z)(function(r){console.log("record: ",r),g.WY.post("/design/user",{projectId:I.projectId,flowCode:I.flowCode,userId:r.userId,isLeader:0}).then(function(d){P.ZP.success("\u6DFB\u52A0\u6210\u529F")}).catch(function(d){P.ZP.error("\u6DFB\u52A0\u5931\u8D25")})}),W=(0,v.Z)(function(){p()});return(0,e.jsx)(ae.Z,{open:I.open,onCancel:function(){return I.setOpen(!1)},maskClosable:!1,width:1440,height:810,style:{maxWidth:"unset"},children:(0,e.jsxs)("div",{className:"project-file-list",children:[(0,e.jsxs)("div",{className:"project-file-list-header",children:[(0,e.jsx)(u.J.ProjectFileIcon,{}),(0,e.jsx)("div",{className:"project-file-list-header-left-text",children:"\u6DFB\u52A0\u4EBA\u5458"}),(0,e.jsx)("div",{className:"count-total",children:(0,e.jsx)("span",{className:"number",children:D.length})}),(0,e.jsx)("div",{style:{cursor:"pointer"},onClick:function(){return W()},children:(0,e.jsx)(u.J.RefreshIcon,{})})]}),(0,e.jsx)("div",{className:"filter-wrap",children:(0,e.jsxs)("div",{className:"filter-left",children:[(0,e.jsx)("div",{className:"filter-item",children:(0,e.jsxs)("div",{className:"tableTopInputWrap",children:[(0,e.jsx)(U.Z,{className:"tableInput",placeholder:"\u59D3\u540D/\u624B\u673A\u53F7",variant:"filled"}),(0,e.jsx)(u.J.SearchIcon,{})]})}),(0,e.jsxs)("div",{className:"filter-item",children:[(0,e.jsx)("div",{className:"filter-item-label",children:"\u7EC4\u7EC7"}),(0,e.jsx)("div",{className:"filter-item-content",children:(0,e.jsx)(le.Z,{defaultValue:"100",style:{width:"300px"},className:i.Z.pageSelect,onChange:function(d){console.log("value: ",d),E(h()(h()({},C),{},{deptId:d}))},treeData:j})})]}),(0,e.jsxs)("div",{className:"filter-item",children:[(0,e.jsx)("div",{className:"filter-item-label",children:"\u72B6\u6001"}),(0,e.jsx)("div",{className:"filter-item-content",children:(0,e.jsxs)(S.Z,{defaultValue:"\u5168\u90E8",className:i.Z.pageSelect,onChange:function(d){E(h()(h()({},C),{},{status:d==="-1"?"":d}))},children:[(0,e.jsx)(S.Z.Option,{value:"-1",children:"\u5168\u90E8"}),(0,e.jsx)(S.Z.Option,{value:"1",children:"\u542F\u7528"}),(0,e.jsx)(S.Z.Option,{value:"0",children:"\u505C\u7528"})]})})]})]})}),(0,e.jsx)("div",{className:"table-list",children:(0,e.jsx)(F.Z,{className:"u-table",columns:L,dataSource:D,scroll:{y:41*14},pagination:!1})})]})})};N.default=de},34116:function(A,N){N.Z={page:"page___PnlDW",pageCont:"pageCont___H9N21",pageContLeft:"pageContLeft___mOPKb",pageContRight:"pageContRight___ApsBf",list1:"list1___RshNA",listCont:"listCont___NaTbt",listItem:"listItem___MSvxO",listItemNext:"listItemNext___eQNUH",listItemActive:"listItemActive___km7Qo",listItemImg:"listItemImg___ExkMb",listItemTitle:"listItemTitle___rev4j",list2:"list2___Z51Ac",list3:"list3___hEqul",list4:"list4___wYxvp",rightTop:"rightTop___YwP5s",rightTopImg:"rightTopImg___Zd8Mi",rightTopGroup:"rightTopGroup___Yrvy1",rightTopGroupPrev:"rightTopGroupPrev___YMtbu",rightTopGroupNext:"rightTopGroupNext___fjdwl",rightTopGroupTitle:"rightTopGroupTitle___lgKac",table:"table___faOEE",tableTop:"tableTop___TtTgO",tableTopLeft:"tableTopLeft___njKKK",tableTopRight:"tableTopRight___DuyjC",tableTopInputWrap:"tableTopInputWrap___AEg86",tableInput:"tableInput___p_yhU","project-file-list":"project-file-list___Qchq9","project-file-list-header":"project-file-list-header___uJbsX","project-file-list-header-left":"project-file-list-header-left___xuhfu","filter-wrap":"filter-wrap___vensR","filter-left":"filter-left___Va9nW","filter-item":"filter-item___F_uZG","filter-item-content":"filter-item-content___Jo68R","filter-right":"filter-right___DPfPc","filter-item-content-checkbox-item":"filter-item-content-checkbox-item___wy2QH",active:"active___RWjgV","table-list":"table-list___G10vr"}},42580:function(){},96687:function(A){A.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAAwCAYAAABaHInAAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKtSURBVHgB7ZpBaxNBFMf/u9WYhMbGVooRK/FgD/VgpCfx0tCTp/TsSY8exQ+Q5AOIuXnVQxE8BS16kKBFRBCkK6iHIhgqVJFaYi0rRnR9j8nSNSqd6Wy3u0N+8NjJ7iO7/31v3xt2x0IfnufN0KZCNkdWRLxxela3LKv9Tw8SlCdreMnlOlne12P5omjziKyEZMPRK1P0OnZvRw3JF8WwhioPLIpWkbbvYBZljlgV5lFhYSakYD9znIoeDGSfirOz8gMd95e0f/HwEJnSKUJD+qy15gbqdzehysVzGVQrucgFSqWis9LFmdoadgpHbqk2jnzWQlTYMk4dV+8xbK/9ROOherR1kBIWBreeuogSqcTPpvejWDgEXer3sWOG08CFaaAwIucvJWzItjE2koEu915Bi8VlYP4SkDuwvW9kqRgGqxvAhy9yvokSxnz9LueXOGGyDIQljVDmOWPDwOnjwPomz1IQC7SFZVPA1fNCHHPzCfDsrRjPniKbghKf6ebcaAFuF1poC2NBvihm8khA2NSfx2T/79gosPwRWmgL4zvM5gt4GUjF1muRoip86+qLYrSFccpcewBMjIpx8KJab4TtBaEUDz9qcWLQx5JGKKlYogJx9qRIx4WlrVLNrSCTghJcPHRLPRNKub88u/XbpUnqgiPGvJ/LvypX5vXFaadiNvX/36o9zIf7mC7aEXu/LvoVzzI4FYPlnduAasRi08eYO89F+vWnDwv1ZyFRE1pVDOOBD5NBH0saUsJyaSQOKWGFg/Lv83aTo3QN0xNyvtKfkVbptdftF1SKP2FPmBxXe2Fq7Pcxo4tHG+bhsLAmzMPhZ2wGYvGKSZywLct6TIMGzKHB66rMXnLEA96BZEeOr73c04K/vnb3liDxap0S4h/BNkTxa5KgxeCB3zC/iEAAO5uDAAAAAElFTkSuQmCC"},98213:function(A){A.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAgCAYAAACcuBHKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEqSURBVHgB7djBSsMwHMfxXzJJp2QgLYq7+Qb6Cp4EPXgW9Bk63yR7CxE8eBDx5huob7B5bxWsYgvt36Yslx3TbGGQz6E0ty9p2pQwLGTF34SBpwQcYsUYoxkRTRM5VN24C/iuVHuXYv1UIsUN+yyq4wZ4hScN1Se8YewCHvHB4IjDN2K7/iNaIcIIEcbmRnzM57i/u0WeZXDBKuJgPIYQEZ6fHp2EWEUIIXB6dg4pR05CrNeEy5BeC9NVSP+3g0hfoP8KRBTBRq+Iqiy7GSiKn8WMSNiwjlgOiOMYtqwiXAZYR+R57ixA24IF/bG6vLqGK2EDM0KEESIMDkZf8Iw3df0Oj2oqH/jeaPul3QEV/FD7Ur4xM8p+qxQNJljD0UBr1j4DlewMp3rwD1bcdB3MRkF5AAAAAElFTkSuQmCC"},8305:function(A){A.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAgCAYAAACcuBHKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEhSURBVHgB7dixSgMxHMfxX1I5qqQgBp19A30Fp6IdHAR9jKtvkr6CCM4OVdx8A/UNutXlVLggGrjEpBjonKQNlHyn+28f7nI5LgT/NfJnTEBrAxxixRFiZsaYCWd9sZgXgFYJe1Vj/QnOqmvyKdWxBl6QKW26E6oJOUfGaK93RJE7Q3bzI2wF4SsI3+YgPpoGd7c3eJ/PEVI0wgGeHqdgbIA9zhFSFGIZMDwboaoqhBSMSAUIRsi2TQYIRiilkLIghFuAw9MRpLR35GEajQpeEykhUW9HKkj0PuEhDhC6WW0hQQ5ycXmF0MoHzFcQvoLwURDzhcxR3XVvyFhnfu/p/mD72f4XC+RJHDD2SvzUfKsaGmOs4WjANrPPQPCd/sQNf5V/c/duFX7tAAAAAElFTkSuQmCC"}}]);

!(function(){var Hn=Math.pow;(self.webpackChunk=self.webpackChunk||[]).push([[906],{59774:function(it,w){"use strict";var t=function(D,p){var M=D.nodes,m=D.edges,c=[],h={};if(!M)throw new Error("invalid nodes data!");return M&&M.forEach(function(v,a){h[v.id]=a;var r=[];c.push(r)}),m&&m.forEach(function(v){var a=v.source,r=v.target,s=h[a],o=h[r];!s&&s!==0||!o&&o!==0||(c[s][o]=1,p||(c[o][s]=1))}),c};w.Z=t},30178:function(it,w,t){"use strict";var u=t(47582),D=t(68048);function p(m){m===void 0&&(m={});var c=m,h=function(){},v=function(){var a={};return function(r){var s=r.next,o=s;return a[o]?!1:(a[o]=!0,!0)}}();return c.allowTraversal=m.allowTraversal||v,c.enter=m.enter||h,c.leave=m.leave||h,c}var M=function(c,h,v,a){a===void 0&&(a=!0);var r=p(v),s=new u.Z,o=c.edges,d=o===void 0?[]:o;s.enqueue(h);for(var f="",y=function(){var e=s.dequeue();r.enter({current:e,previous:f}),(0,D.Cy)(e,d,a?"target":void 0).forEach(function(i){r.allowTraversal({previous:f,current:e,next:i})&&s.enqueue(i)}),r.leave({current:e,previous:f}),f=e};!s.isEmpty();)y()};w.Z=M},23768:function(it,w,t){"use strict";t.d(w,{WC:function(){return p},ZP:function(){return M}});var u=t(68048),D=function(c){for(var h=c.nodes,v=h===void 0?[]:h,a=c.edges,r=a===void 0?[]:a,s=[],o={},d=[],f=function i(n){d.push(n),o[n.id]=!0;for(var l=(0,u.Cy)(n.id,r),O=function(P){var b=l[P];if(!o[b]){var x=v.filter(function(I){return I.id===b});x.length>0&&i(x[0])}},C=0;C<l.length;++C)O(C)},y=0;y<v.length;y++){var E=v[y];if(!o[E.id]){f(E);for(var e=[];d.length>0;)e.push(d.pop());s.push(e)}}return s},p=function(c){for(var h=c.nodes,v=h===void 0?[]:h,a=c.edges,r=a===void 0?[]:a,s=[],o={},d={},f={},y=[],E=0,e=function O(C){d[C.id]=E,f[C.id]=E,E+=1,s.push(C),o[C.id]=!0;for(var T=(0,u.Cy)(C.id,r,"target").filter(function(S){return v.map(function(K){return K.id}).indexOf(S)>-1}),P=function(K){var N=T[K];if(!d[N]&&d[N]!==0){var z=v.filter(function(j){return j.id===N});z.length>0&&O(z[0]),f[C.id]=Math.min(f[C.id],f[N])}else o[N]&&(f[C.id]=Math.min(f[C.id],d[N]))},b=0;b<T.length;b++)P(b);if(f[C.id]===d[C.id]){for(var x=[];s.length>0;){var I=s.pop();if(o[I.id]=!1,x.push(I),I===C)break}x.length>0&&y.push(x)}},i=0,n=v;i<n.length;i++){var l=n[i];!d[l.id]&&d[l.id]!==0&&e(l)}return y};function M(m,c){return c?p(m):D(m)}},30708:function(it,w,t){"use strict";t.d(w,{B:function(){return D},F:function(){return u}});var u=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/,D=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/},19027:function(it,w,t){"use strict";var u=t(39007),D=function(M,m){var c=new u.Z(m),h=c.norm2(),v=new u.Z(M),a=v.norm2(),r=c.dot(v),s=h*a,o=s?r/s:0;return o};w.Z=D},52842:function(it,w,t){"use strict";t.d(w,{K_:function(){return p},rU:function(){return D}});var u=function(m){var c={},h=m.nodes,v=h===void 0?[]:h,a=m.edges,r=a===void 0?[]:a;return v.forEach(function(s){c[s.id]={degree:0,inDegree:0,outDegree:0}}),r.forEach(function(s){c[s.source].degree++,c[s.source].outDegree++,c[s.target].degree++,c[s.target].inDegree++}),c};w.ZP=u;var D=function(m,c){var h=u(m);return h[c]?u(m)[c].inDegree:0},p=function(m,c){var h=u(m);return h[c]?u(m)[c].outDegree:0}},10208:function(it,w,t){"use strict";t.d(w,{iK:function(){return c},l1:function(){return m},wT:function(){return h}});var u=t(32868),D=t(23768),p=t(68048),M=function(a){var r=null,s=a.nodes,o=s===void 0?[]:s,d={},f={},y={},E={};o.forEach(function(n){f[n.id]=n});for(var e={enter:function(l){var O=l.current,C=l.previous;if(y[O]){r={};for(var T=O,P=C;P!==O;)r[T]=P,T=P,P=d[P];r[T]=P}else y[O]=O,delete f[O],d[O]=C},leave:function(l){var O=l.current;E[O]=O,delete y[O]},allowTraversal:function(l){var O=l.next;return r?!1:!E[O]}};Object.keys(f).length;){var i=Object.keys(f)[0];(0,u.Z)(a,i,e)}return r},m=function(a,r,s){var o,d;s===void 0&&(s=!0);for(var f=[],y=(0,D.ZP)(a,!1),E=0,e=y;E<e.length;E++){var i=e[E];if(i.length)for(var n=i[0],l=n.id,O=[n],C=(o={},o[l]=n,o),T=(d={},d[l]=new Set,d);O.length>0;)for(var P=O.pop(),b=P.id,x=(0,p.Cy)(b,a.edges),I=function(N){var z,j=x[N],W=a.nodes.find(function(X){return X.id===j});if(j===b)f.push((z={},z[j]=P,z));else if(!(j in T))C[j]=P,O.push(W),T[j]=new Set([P]);else if(!T[b].has(W)){for(var U=!0,F=[W,P],H=C[b];T[j].size&&!T[j].has(H)&&(F.push(H),H!==C[H.id]);)H=C[H.id];if(F.push(H),r&&s?(U=!1,F.findIndex(function(X){return r.indexOf(X.id)>-1})>-1&&(U=!0)):r&&!s&&F.findIndex(function(X){return r.indexOf(X.id)>-1})>-1&&(U=!1),U){for(var Y={},V=1;V<F.length;V+=1)Y[F[V-1].id]=F[V];F.length&&(Y[F[F.length-1].id]=F[0]),f.push(Y)}T[j].add(P)}},S=0;S<x.length;S+=1)I(S)}return f},c=function(a,r,s){s===void 0&&(s=!0);for(var o=[],d=new Set,f=[],y=[],E={},e={},i=function(H){for(var Y=[H];Y.length>0;){var V=Y.pop();d.has(V)&&(d.delete(V),f[V.id].forEach(function(X){Y.push(X)}),f[V.id].clear())}},n=function F(H,Y,V){var X=!1;if(r&&s===!1&&r.indexOf(H.id)>-1)return X;o.push(H),d.add(H);for(var $=V[H.id],rt=0;rt<$.length;rt+=1){var ot=E[$[rt]];if(ot===Y){for(var tt={},G=1;G<o.length;G+=1)tt[o[G-1].id]=o[G];o.length&&(tt[o[o.length-1].id]=o[0]),y.push(tt),X=!0}else d.has(ot)||F(ot,Y,V)&&(X=!0)}if(X)i(H);else for(var rt=0;rt<$.length;rt+=1){var ot=E[$[rt]];f[ot.id].has(H)||f[ot.id].add(H)}return o.pop(),X},l=a.nodes,O=l===void 0?[]:l,C=0;C<O.length;C+=1){var T=O[C],P=T.id;e[P]=C,E[C]=T}if(r&&s)for(var b=function(H){var Y=r[H];e[O[H].id]=e[Y],e[Y]=0,E[0]=O.find(function(V){return V.id===Y}),E[e[O[H].id]]=O[H]},C=0;C<r.length;C++)b(C);for(var x=function(H){for(var Y,V,X=1/0,$=0;$<H.length;$+=1)for(var rt=H[$],ot=0;ot<rt.length;ot++){var tt=e[rt[ot].id];tt<X&&(X=tt,V=$)}for(var G=H[V],nt=[],$=0;$<G.length;$+=1){var ut=G[$];nt[ut.id]=[];for(var dt=0,et=(0,p.Cy)(ut.id,a.edges,"target").filter(function(lt){return G.map(function(mt){return mt.id}).indexOf(lt)>-1});dt<et.length;dt++){var gt=et[dt];gt===ut.id&&!(s===!1&&r.indexOf(ut.id)>-1)?y.push((Y={},Y[ut.id]=ut,Y)):nt[ut.id].push(e[gt])}}return{component:G,adjList:nt,minIdx:X}},I=0;I<O.length;){var S=O.filter(function(F){return e[F.id]>=I}),K=(0,D.WC)({nodes:S,edges:a.edges}).filter(function(F){return F.length>1});if(K.length===0)break;var N=x(K),z=N.minIdx,j=N.adjList,W=N.component;if(W.length>1){W.forEach(function(F){f[F.id]=new Set});var U=E[z];if(r&&s&&r.indexOf(U.id)===-1)return y;n(U,U,j),I=z+1}else break}return y},h=function(a,r,s,o){return o===void 0&&(o=!0),r?c(a,s,o):m(a,s,o)};w.ZP=M},32868:function(it,w,t){"use strict";t.d(w,{Z:function(){return M}});var u=t(68048);function D(m){m===void 0&&(m={});var c=m,h=function(){},v=function(){var a={};return function(r){var s=r.next;return a[s]?!1:(a[s]=!0,!0)}}();return c.allowTraversal=m.allowTraversal||v,c.enter=m.enter||h,c.leave=m.leave||h,c}function p(m,c,h,v,a){a===void 0&&(a=!0),v.enter({current:c,previous:h});var r=m.edges,s=r===void 0?[]:r;(0,u.Cy)(c,s,a?"target":void 0).forEach(function(o){v.allowTraversal({previous:h,current:c,next:o})&&p(m,o,c,v,a)}),v.leave({current:c,previous:h})}function M(m,c,h,v){v===void 0&&(v=!0),p(m,c,"",D(h),v)}},99433:function(it,w,t){"use strict";var u=t(15767),D=t(72691),p=t(68048),M=function(v,a,r){for(var s=1/0,o,d=0;d<a.length;d++){var f=a[d].id;!r[f]&&v[f]<=s&&(s=v[f],o=a[d])}return o},m=function(v,a,r,s){var o=v.nodes,d=o===void 0?[]:o,f=v.edges,y=f===void 0?[]:f,E=[],e={},i={},n={};d.forEach(function(x,I){var S=x.id;E.push(S),i[S]=1/0,S===a&&(i[S]=0)});for(var l=d.length,O=function(I){var S=M(i,d,e),K=S.id;if(e[K]=!0,i[K]===1/0)return"continue";var N=[];r?N=(0,p.g7)(K,y):N=(0,p.VO)(K,y),N.forEach(function(z){var j=z.target,W=z.source,U=j===K?W:j,F=s&&z[s]?z[s]:1;i[U]>i[S.id]+F?(i[U]=i[S.id]+F,n[U]=[S.id]):i[U]===i[S.id]+F&&n[U].push(S.id)})},C=0;C<l;C++)O(C);n[a]=[a];var T={};for(var P in i)i[P]!==1/0&&c(a,P,n,T);var b={};for(var P in T)b[P]=T[P][0];return{length:i,path:b,allPath:T}};w.Z=m;function c(h,v,a,r){if(h===v)return[h];if(r[v])return r[v];for(var s=[],o=0,d=a[v];o<d.length;o++){var f=d[o],y=c(h,f,a,r);if(!y)return;for(var E=0,e=y;E<e.length;E++){var i=e[E];(0,D.kJ)(i)?s.push((0,u.ev)((0,u.ev)([],i,!0),[v],!1)):s.push([i,v])}}return r[v]=s,r[v]}},51866:function(it,w,t){"use strict";t.d(w,{T:function(){return M},n:function(){return p}});var u=t(99433),D=t(68048),p=function(c,h,v,a,r){var s=(0,u.Z)(c,h,a,r),o=s.length,d=s.path,f=s.allPath;return{length:o[v],path:d[v],allPath:f[v]}},M=function(c,h,v,a){var r;if(h===v)return[[h]];var s=c.edges,o=s===void 0?[]:s,d=[h],f=(r={},r[h]=!0,r),y=[],E=[],e=a?(0,D.Cy)(h,o,"target"):(0,D.Cy)(h,o);for(y.push(e);d.length>0&&y.length>0;){var i=y[y.length-1];if(i.length){var n=i.shift();n&&(d.push(n),f[n]=!0,e=a?(0,D.Cy)(n,o,"target"):(0,D.Cy)(n,o),y.push(e.filter(function(C){return!f[C]})))}else{var l=d.pop();f[l]=!1,y.pop();continue}if(d[d.length-1]===v){var O=d.map(function(T){return T});E.push(O);var l=d.pop();f[l]=!1,y.pop()}}return E}},23662:function(it,w,t){"use strict";var u=t(59774),D=function(M,m){for(var c=(0,u.Z)(M,m),h=[],v=c.length,a=0;a<v;a+=1){h[a]=[];for(var r=0;r<v;r+=1)a===r?h[a][r]=0:c[a][r]===0||!c[a][r]?h[a][r]=1/0:h[a][r]=c[a][r]}for(var s=0;s<v;s+=1)for(var a=0;a<v;a+=1)for(var r=0;r<v;r+=1)h[a][r]>h[a][s]+h[s][r]&&(h[a][r]=h[a][s]+h[s][r]);return h};w.Z=D},73142:function(it,w,t){"use strict";var u=t(72691),D=t(74678),p=function(){function s(o,d,f,y,E){this.fromNode=o,this.toNode=d,this.nodeEdgeNodeLabel={nodeLabel1:f||D.kr,edgeLabel:y||D.G,nodeLabel2:E||D.kr}}return s.prototype.equalTo=function(o){return this.fromNode===o.formNode&&this.toNode===o.toNode&&this.nodeEdgeNodeLabel===o.nodeEdgeNodeLabel},s.prototype.notEqualTo=function(o){return!this.equalTo(o)},s}(),M=function(){function s(){this.rmpath=[],this.dfsEdgeList=[]}return s.prototype.equalTo=function(o){var d=this.dfsEdgeList.length,f=o.length;if(d!==f)return!1;for(var y=0;y<d;y++)if(this.dfsEdgeList[y]!==o[y])return!1;return!0},s.prototype.notEqualTo=function(o){return!this.equalTo(o)},s.prototype.pushBack=function(o,d,f,y,E){return this.dfsEdgeList.push(new p(o,d,f,y,E)),this.dfsEdgeList},s.prototype.toGraph=function(o,d){o===void 0&&(o=D.p6),d===void 0&&(d=!1);var f=new D.kJ(o,!0,d);return this.dfsEdgeList.forEach(function(y){var E=y.fromNode,e=y.toNode,i=y.nodeEdgeNodeLabel,n=i.nodeLabel1,l=i.edgeLabel,O=i.nodeLabel2;n!==D.kr&&f.addNode(E,n),O!==D.kr&&f.addNode(e,O),n!==D.kr&&O!==n&&f.addEdge(void 0,E,e,l)}),f},s.prototype.buildRmpath=function(){this.rmpath=[];for(var o=void 0,d=this.dfsEdgeList.length,f=d-1;f>=0;f--){var y=this.dfsEdgeList[f],E=y.fromNode,e=y.toNode;E<e&&(o===void 0||e===o)&&(this.rmpath.push(f),o=E)}return this.rmpath},s.prototype.getNodeNum=function(){var o={};return this.dfsEdgeList.forEach(function(d){o[d.fromNode]||(o[d.fromNode]=!0),o[d.toNode]||(o[d.toNode]=!0)}),Object.keys(o).length},s}(),m=function(){function s(o){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],!!o){for(;o;){var d=o.edge;this.edges.push(d),this.nodesUsed[d.from]=1,this.nodesUsed[d.to]=1,this.edgesUsed[d.id]=1,o=o.preNode}this.edges=this.edges.reverse()}}return s.prototype.hasNode=function(o){return this.nodesUsed[o.id]===1},s.prototype.hasEdge=function(o){return this.edgesUsed[o.id]===1},s}(),c=function(){function s(o){var d=o.graphs,f=o.minSupport,y=f===void 0?2:f,E=o.minNodeNum,e=E===void 0?1:E,i=o.maxNodeNum,n=i===void 0?4:i,l=o.top,O=l===void 0?10:l,C=o.directed,T=C===void 0?!1:C,P=o.verbose,b=P===void 0?!1:P;this.graphs=d,this.dfsCode=new M,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=y,this.top=O,this.directed=T,this.counter=0,this.maxNodeNum=n,this.minNodeNum=e,this.verbose=b,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return s.prototype.findForwardRootEdges=function(o,d){var f=this,y=[],E=o.nodeMap;return d.edges.forEach(function(e){(f.directed||d.label<=E[e.to].label)&&y.push(e)}),y},s.prototype.findBackwardEdge=function(o,d,f,y){if(!this.directed&&d===f)return null;for(var E=o.nodeMap,e=E[f.to],i=e.edges,n=i.length,l=0;l<n;l++){var O=i[l];if(!(y.hasEdge(O)||O.to!==d.from)){if(this.directed){if(E[d.from].label<E[f.to].label||E[d.from].label===E[f.to].label&&d.label<=O.label)return O}else if(d.label<O.label||d.label===O.label&&E[d.to].label<=E[f.to].label)return O}}return null},s.prototype.findForwardPureEdges=function(o,d,f,y){for(var E=[],e=d.to,i=o.nodeMap[e].edges,n=i.length,l=0;l<n;l++){var O=i[l],C=o.nodeMap[O.to];f<=C.label&&!y.hasNode(C)&&E.push(O)}return E},s.prototype.findForwardRmpathEdges=function(o,d,f,y){for(var E=[],e=o.nodeMap,i=e[d.to].label,n=e[d.from],l=n.edges,O=l.length,C=0;C<O;C++){var T=l[C],P=e[T.to].label;d.to===T.to||f>P||y.hasNode(e[T.to])||(d.label<T.label||d.label===T.label&&i<=P)&&E.push(T)}return E},s.prototype.getSupport=function(o){var d={};return o.forEach(function(f){d[f.graphId]||(d[f.graphId]=!0)}),Object.keys(d).length},s.prototype.findMinLabel=function(o){var d=void 0;return Object.keys(o).forEach(function(f){var y=o[f],E=y.nodeLabel1,e=y.edgeLabel,i=y.nodeLabel2;if(!d){d={nodeLabel1:E,edgeLabel:e,nodeLabel2:i};return}(E<d.nodeLabel1||E===d.nodeLabel1&&e<d.edgeLabel||E===d.nodeLabel1&&e===d.edgeLabel&&i<d.nodeLabel2)&&(d={nodeLabel1:E,edgeLabel:e,nodeLabel2:i})}),d},s.prototype.isMin=function(){var o=this,d=this.dfsCode;if(this.verbose&&console.log("isMin checking",d),d.dfsEdgeList.length===1)return!0;var f=this.directed,y=d.toGraph(D.p6,f),E=y.nodeMap,e=new M,i={};y.nodes.forEach(function(C){var T=o.findForwardRootEdges(y,C);T.forEach(function(P){var b=E[P.to],x="".concat(C.label,"-").concat(P.label,"-").concat(b.label);i[x]||(i[x]={projected:[],nodeLabel1:C.label,edgeLabel:P.label,nodeLabel2:b.label});var I={graphId:y.id,edge:P,preNode:null};i[x].projected.push(I)})});var n=this.findMinLabel(i);if(n){e.dfsEdgeList.push(new p(0,1,n.nodeLabel1,n.edgeLabel,n.nodeLabel2));var l=function C(T){for(var P=e.buildRmpath(),b=e.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,x=e.dfsEdgeList[P[0]].toNode,I={},S=!1,K=0,N=f?-1:0,z=function(G){if(S)return"break";T.forEach(function(nt){var ut=new m(nt),dt=o.findBackwardEdge(y,ut.edges[P[G]],ut.edges[P[0]],ut);dt&&(I[dt.label]||(I[dt.label]={projected:[],edgeLabel:dt.label}),I[dt.label].projected.push({graphId:y.id,edge:I,preNode:nt}),K=e.dfsEdgeList[P[G]].fromNode,S=!0)})},j=P.length-1;j>N;j--){var W=z(j);if(W==="break")break}if(S){var U=o.findMinLabel(I);e.dfsEdgeList.push(new p(x,K,D.kr,U.edgeLabel,D.kr));var F=e.dfsEdgeList.length-1;return o.dfsCode.dfsEdgeList[F]!==e.dfsEdgeList[F]?!1:C(I[U.edgeLabel].projected)}var H={};S=!1;var Y=0;T.forEach(function(tt){var G=new m(tt),nt=o.findForwardPureEdges(y,G.edges[P[0]],b,G);nt.length>0&&(S=!0,Y=x,nt.forEach(function(ut){var dt="".concat(ut.label,"-").concat(E[ut.to].label);H[dt]||(H[dt]={projected:[],edgeLabel:ut.label,nodeLabel2:E[ut.to].label}),H[dt].projected.push({graphId:y.id,edge:ut,preNode:tt})}))});for(var V=P.length,X=function(G){if(S)return"break";var nt=P[G];T.forEach(function(ut){var dt=new m(ut),et=o.findForwardRmpathEdges(y,dt.edges[nt],b,dt);et.length>0&&(S=!0,Y=e.dfsEdgeList[nt].fromNode,et.forEach(function(gt){var Et="".concat(gt.label,"-").concat(E[gt.to].label);H[Et]||(H[Et]={projected:[],edgeLabel:gt.label,nodeLabel2:E[gt.to].label}),H[Et].projected.push({graphId:y.id,edge:gt,preNode:ut})}))})},j=0;j<V;j++){var $=X(j);if($==="break")break}if(!S)return!0;var rt=o.findMinLabel(H);e.dfsEdgeList.push(new p(Y,x+1,D.kr,rt.edgeLabel,rt.nodeLabel2));var ot=e.dfsEdgeList.length-1;return d.dfsEdgeList[ot]!==e.dfsEdgeList[ot]?!1:C(H["".concat(rt.edgeLabel,"-").concat(rt.nodeLabel2)].projected)},O="".concat(n.nodeLabel1,"-").concat(n.edgeLabel,"-").concat(n.nodeLabel2);return l(i[O].projected)}},s.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var o=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push((0,u.d9)(o))}},s.prototype.subGraphMining=function(o){var d=this,f=this.getSupport(o);if(!(f<this.minSupport)&&this.isMin()){this.report();var y=this.dfsCode.getNodeNum(),E=this.dfsCode.buildRmpath(),e=this.dfsCode.dfsEdgeList[E[0]].toNode,i=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,n={},l={};o.forEach(function(O){for(var C=d.graphs[O.graphId],T=C.nodeMap,P=new m(O),b=E.length-1;b>=0;b--){var x=d.findBackwardEdge(C,P.edges[E[b]],P.edges[E[0]],P);if(x){var I="".concat(d.dfsCode.dfsEdgeList[E[b]].fromNode,"-").concat(x.label);l[I]||(l[I]={projected:[],toNodeId:d.dfsCode.dfsEdgeList[E[b]].fromNode,edgeLabel:x.label}),l[I].projected.push({graphId:O.graphId,edge:x,preNode:O})}}if(!(y>=d.maxNodeNum)){var S=d.findForwardPureEdges(C,P.edges[E[0]],i,P);S.forEach(function(N){var z="".concat(e,"-").concat(N.label,"-").concat(T[N.to].label);n[z]||(n[z]={projected:[],fromNodeId:e,edgeLabel:N.label,nodeLabel2:T[N.to].label}),n[z].projected.push({graphId:O.graphId,edge:N,preNode:O})});for(var K=function(z){var j=d.findForwardRmpathEdges(C,P.edges[E[z]],i,P);j.forEach(function(W){var U="".concat(d.dfsCode.dfsEdgeList[E[z]].fromNode,"-").concat(W.label,"-").concat(T[W.to].label);n[U]||(n[U]={projected:[],fromNodeId:d.dfsCode.dfsEdgeList[E[z]].fromNode,edgeLabel:W.label,nodeLabel2:T[W.to].label}),n[U].projected.push({graphId:O.graphId,edge:W,preNode:O})})},b=0;b<E.length;b++)K(b)}}),Object.keys(l).forEach(function(O){var C=l[O],T=C.toNodeId,P=C.edgeLabel;d.dfsCode.dfsEdgeList.push(new p(e,T,"-1",P,"-1")),d.subGraphMining(l[O].projected),d.dfsCode.dfsEdgeList.pop()}),Object.keys(n).forEach(function(O){var C=n[O],T=C.fromNodeId,P=C.edgeLabel,b=C.nodeLabel2;d.dfsCode.dfsEdgeList.push(new p(T,e+1,D.kr,P,b)),d.subGraphMining(n[O].projected),d.dfsCode.dfsEdgeList.pop()})}},s.prototype.generate1EdgeFrequentSubGraphs=function(){var o=this.graphs,d=this.directed,f=this.minSupport,y=this.frequentSize1Subgraphs,E={},e={},i={},n={};return Object.keys(o).forEach(function(l){var O=o[l],C=O.nodeMap;O.nodes.forEach(function(T,P){var b=T.label,x="".concat(l,"-").concat(b);if(!i[x]){var I=E[b]||0;I++,E[b]=I}i[x]={graphKey:l,label:b},T.edges.forEach(function(S){var K=b,N=C[S.to].label;if(!d&&K>N){var z=N;N=K,K=z}var j=S.label,W="".concat(l,"-").concat(K,"-").concat(j,"-").concat(N),U="".concat(K,"-").concat(j,"-").concat(N);if(!e[U]){var F=e[U]||0;F++,e[U]=F}n[W]={graphId:l,nodeLabel1:K,edgeLabel:j,nodeLabel2:N}})})}),Object.keys(E).forEach(function(l){var O=E[l];if(!(O<f)){var C={nodes:[],edges:[]};C.nodes.push({id:"0",label:l}),y.push(C)}}),y},s.prototype.run=function(){var o=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var d=this.graphs,f=this.directed,y={};Object.keys(d).forEach(function(E){var e=d[E],i=e.nodeMap;e.nodes.forEach(function(n){var l=o.findForwardRootEdges(e,n);l.forEach(function(O){var C=i[O.to],T="".concat(n.label,"-").concat(O.label,"-").concat(C.label);y[T]||(y[T]={projected:[],nodeLabel1:n.label,edgeLabel:O.label,nodeLabel2:C.label});var P={graphId:E,edge:O,preNode:null};y[T].projected.push(P)})})}),Object.keys(y).forEach(function(E){var e=y[E],i=e.projected,n=e.nodeLabel1,l=e.edgeLabel,O=e.nodeLabel2;o.dfsCode.dfsEdgeList.push(new p(0,1,n,l,O)),o.subGraphMining(i),o.dfsCode.dfsEdgeList.pop()})}},s}(),h=function(o,d,f,y){var E={};return Object.keys(o).forEach(function(e,i){var n=o[e],l=new D.kJ(i,!0,d),O={};n.nodes.forEach(function(C,T){l.addNode(T,C[f]),O[C.id]=T}),n.edges.forEach(function(C,T){var P=O[C.source],b=O[C.target];l.addEdge(-1,P,b,C[y])}),l&&l.getNodeNum()&&(E[l.id]=l)}),E},v=function(o,d,f){var y=[];return o.forEach(function(E){var e={nodes:[],edges:[]};E.nodes.forEach(function(i){var n;e.nodes.push((n={id:"".concat(i.id)},n[d]=i.label,n))}),E.edges.forEach(function(i){var n;e.edges.push((n={source:"".concat(i.from),target:"".concat(i.to)},n[f]=i.label,n))}),y.push(e)}),y},a="cluster",r=function(o){var d=o.graphs,f=o.directed,y=f===void 0?!1:f,E=o.nodeLabelProp,e=E===void 0?a:E,i=o.edgeLabelProp,n=i===void 0?a:i,l=h(d,y,e,n),O=o.minSupport,C=o.maxNodeNum,T=o.minNodeNum,P=o.verbose,b=o.top,x={graphs:l,minSupport:O,maxNodeNum:C,minNodeNum:T,top:b,verbose:P,directed:y},I=new c(x);I.run();var S=v(I.frequentSubgraphs,e,n);return S};w.Z=r},74678:function(it,w,t){"use strict";t.d(w,{G:function(){return p},kJ:function(){return a},kr:function(){return M},p6:function(){return m}});var u=-1,D=-1,p="-1",M="-1",m=-1,c="-1",h=function(){function r(s,o,d,f){s===void 0&&(s=u),o===void 0&&(o=D),d===void 0&&(d=D),f===void 0&&(f=p),this.id=s,this.from=o,this.to=d,this.label=f}return r}(),v=function(){function r(s,o){s===void 0&&(s=D),o===void 0&&(o=M),this.id=s,this.label=o,this.edges=[],this.edgeMap={}}return r.prototype.addEdge=function(s){this.edges.push(s),this.edgeMap[s.id]=s},r}(),a=function(){function r(s,o,d){s===void 0&&(s=D),o===void 0&&(o=!0),d===void 0&&(d=!1),this.id=s,this.edgeIdAutoIncrease=o,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=d}return r.prototype.getNodeNum=function(){return this.nodes.length},r.prototype.addNode=function(s,o){if(!this.nodeMap[s]){var d=new v(s,o);this.nodes.push(d),this.nodeMap[s]=d,this.nodeLabelMap[o]||(this.nodeLabelMap[o]=[]),this.nodeLabelMap[o].push(s)}},r.prototype.addEdge=function(s,o,d,f){if((this.edgeIdAutoIncrease||s===void 0)&&(s=this.counter++),!(this.nodeMap[o]&&this.nodeMap[d]&&this.nodeMap[d].edgeMap[s])){var y=new h(s,o,d,f);if(this.edges.push(y),this.edgeMap[s]=y,this.nodeMap[o].addEdge(y),this.edgeLabelMap[f]||(this.edgeLabelMap[f]=[]),this.edgeLabelMap[f].push(y),!this.directed){var E=new h(s,d,o,f);this.nodeMap[d].addEdge(E),this.edgeLabelMap[f].push(E)}}},r}()},34154:function(it,w,t){"use strict";var u=t(15767),D=t(23662),p=t(73142),M=t(99433),m=t(68048),c=function(n,l,O,C){O===void 0&&(O="cluster"),C===void 0&&(C=2);var T=[],P=n.nodes;return l.forEach(function(b,x){T.push(h(P,b,x,O,C))}),T},h=function(n,l,O,C,T){var P=[O],b=[],x={};return l.forEach(function(I,S){if(I<=T&&O!==S){P.push(S),b.push(n[S]);var K=n[S][C];x[K]?(x[K].count++,x[K].dists.push(I)):x[K]={count:1,dists:[I]}}}),Object.keys(x).forEach(function(I){x[I].dists=x[I].dists.sort(function(S,K){return S-K})}),{nodeIdx:O,nodeId:n[O].id,nodeIdxs:P,neighbors:b,neighborNum:P.length-1,nodeLabelCountMap:x}},v=function(n,l,O,C,T){var P=Math.ceil(O/l),b={},x=0;return C.forEach(function(I,S){for(var K=0,N=0,z=I.nodeIdxs,j=I.neighborNum-1;K<P;){for(var W=z[1+Math.floor(Math.random()*j)],U=0;(b["".concat(S,"-").concat(W)]||b["".concat(W,"-").concat(S)])&&(W=Math.floor(Math.random()*l),U++,!(U>2*l)););if(U<2*l&&(b["".concat(S,"-").concat(W)]={start:S,end:W,distance:T[S][W]},K++,x++,x>=O))return b;if(N++,N>2*l)break}if(K<P){var F=P-K;P=(P+F)/(l-S-1)}}),b},a=function(n,l,O,C){var T=O.nodes;return C||(C={}),Object.keys(n).forEach(function(P){var b,x;if(!(C&&C[P])){C[P]={nodes:[],edges:[]};var I=n[P],S=(b=l[I.start])===null||b===void 0?void 0:b.nodeIdxs,K=(x=l[I.end])===null||x===void 0?void 0:x.nodeIdxs;if(!(!S||!K)){var N=new Set(K),z=S.filter(function(H){return N.has(H)});if(!(!z||!z.length)){for(var j={},W=z.length,U=0;U<W;U++){var F=T[z[U]];C[P].nodes.push(F),j[F.id]=!0}O.edges.forEach(function(H){j[H.source]&&j[H.target]&&C[P].edges.push(H)})}}}}),C},r=function(n,l,O,C){var T,P,b={};n.nodes.forEach(function(I){b[I.id]=I});var x=0;return!(!((T=l==null?void 0:l.edges)===null||T===void 0)&&T.length)||((P=l==null?void 0:l.nodes)===null||P===void 0?void 0:P.length)<2?0:(n.edges.forEach(function(I){var S=b[I.source][O],K=b[I.target][O],N=l==null?void 0:l.nodes[0][O],z=l==null?void 0:l.nodes[1][O],j=l==null?void 0:l.edges[0][C];I[C]===j&&(S===N&&K===z||S===z&&K===N)&&x++}),x)},s=function(n,l,O){for(var C=1/0,T=0,P=function(I){var S=n[I],K=Object.keys(S).sort(function(H,Y){return S[H]-S[Y]}),N=10,z=[];K.forEach(function(H,Y){z[Y%N]||(z[Y%N]={graphs:[],totalCount:0,aveCount:0}),z[Y%N].graphs.push(H),z[Y%N].totalCount+=S[H]});var j=0,W=[];z.forEach(function(H){var Y=H.totalCount/H.graphs.length;H.aveCount=Y,W.push(Y);var V=0,X=H.length;H.graphs.forEach(function($,rt){var ot=S[$];H.graphs.forEach(function(tt,G){rt!==G&&(V+=Math.abs(ot-S[tt]))})}),V/=X*(X-1)/2,j+=V}),j/=z.length;var U=0;W.forEach(function(H,Y){W.forEach(function(V,X){Y!==X&&(U+=Math.abs(H-V))}),U/=W.length*(W.length-1)/2});var F=U-j;C<F&&(C=F,T=I)},b=0;b<l;b++)P(b);return{structure:O[T],structureCountMap:n[T]}},o=function(n,l){var O={},C={};return n.forEach(function(T,P){O[T.id]={idx:P,node:T,degree:0,inDegree:0,outDegree:0};var b=T[l];C[b]||(C[b]=[]),C[b].push(T)}),{nodeMap:O,nodeLabelMap:C}},d=function(n,l,O){var C={},T={};return n.forEach(function(P,b){C["".concat(m.EL)]={idx:b,edge:P};var x=P[l];T[x]||(T[x]=[]),T[x].push(P);var I=O[P.source];I&&(I.degree++,I.outDegree++);var S=O[P.target];S&&(S.degree++,S.inDegree++)}),{edgeMap:C,edgeLabelMap:T}},f=function(n,l,O){var C=l.length,T={};return l.forEach(function(P,b){for(var x=O?0:b+1,I=n[b].id,S=x;S<C;S++)if(b!==S){var K=n[S].id,N=P[S];T["".concat(I,"-").concat(K)]=N,O||(T["".concat(K,"-").concat(I)]=N)}}),T},y=function(n,l,O,C,T,P,b,x,I,S,K){var N,z="".concat(l.id,"-").concat(O.id);if(S&&S[z])return S[z];var j=K?K[z]:void 0;if(!j){var W=(N={},N[z]={start:C[l.id].idx,end:C[O.id].idx,distance:T},N);K=a(W,P,n,K),j=K[z]}return r(j,b,x,I)},E=function(n,l,O,C){var T,P,b,x=(T=n[l])===null||T===void 0?void 0:T.degree,I=(P=n[l])===null||P===void 0?void 0:P.inDegree,S=(b=n[l])===null||b===void 0?void 0:b.outDegree;return n[l]===void 0&&(x=1/0,I=1/0,S=1/0,C[l].forEach(function(K){var N=O[K.id].degree;x>N&&(x=N);var z=O[K.id].inDegree;I>z&&(I=z);var j=O[K.id].outDegree;S>j&&(S=j)}),n[l]={degree:x,inDegree:I,outDegree:S}),{minPatternNodeLabelDegree:x,minPatternNodeLabelInDegree:I,minPatternNodeLabelOutDegree:S}},e=function(n,l,O,C,T,P,b){var x;if(O===void 0&&(O=!1),P===void 0&&(P="cluster"),b===void 0&&(b="cluster"),!(!n||!n.nodes)){var I=n.nodes.length;if(I){var S=(0,D.Z)(n,O),K=(0,D.Z)(l,O),N=f(n.nodes,S,O),z=f(l.nodes,K,O),j=o(n.nodes,P),W=j.nodeMap,U=j.nodeLabelMap,F=o(l.nodes,P),H=F.nodeMap,Y=F.nodeLabelMap;d(n.edges,b,W);var V=d(l.edges,b,H).edgeLabelMap,X=[];K==null||K.forEach(function(jt){X=X.concat(jt)}),T||(T=Math.max.apply(Math,(0,u.ev)((0,u.ev)([],X,!1),[2],!1))),C||(C=T);var $=c(n,S,P,C),rt=c(l,K,P,C),ot=Math.min(100,I*(I-1)/2),tt=v(C,I,ot,$,S),G=a(tt,$,n),nt=10,ut=1,dt=1,et=4,gt={graphs:G,nodeLabelProp:P,edgeLabelProp:b,minSupport:ut,minNodeNum:dt,maxNodeNum:et,directed:O},Et=(0,p.Z)(gt).slice(0,nt),lt=Et.length,mt=[];Et.forEach(function(jt,Yt){mt[Yt]={},Object.keys(G).forEach(function(te){var re=G[te],ee=r(re,jt,P,b);mt[Yt][te]=ee})});var Tt=s(mt,lt,Et),B=Tt.structure,J=Tt.structureCountMap,pt=l.nodes[0],Ot=[],bt=(x=l.nodes[0])===null||x===void 0?void 0:x[P],Rt=-1/0;l.nodes.forEach(function(jt){var Yt=jt[P],te=U[Yt];(te==null?void 0:te.length)>Rt&&(Rt=te.length,Ot=te,bt=Yt,pt=jt)});var It={},st={},Q={},ct={},vt={},ft={};Object.keys(Y).forEach(function(jt,Yt){vt[jt]=[],O&&(ft[jt]=[]);var te=-1/0,re=Y[jt],ee={};re.forEach(function(_e){var me=z["".concat(pt.id,"-").concat(_e.id)];if(me&&vt[jt].push(me),te<me&&(te=me),ee["".concat(pt.id,"-").concat(_e.id)]={start:0,end:H[_e.id].idx,distance:me},O){var be=z["".concat(_e.id,"-").concat(pt.id)];be&&ft[jt].push(be)}}),vt[jt]=vt[jt].sort(function(_e,me){return _e-me}),O&&(ft[jt]=ft[jt].sort(function(_e,me){return _e-me})),st=a(ee,rt,l,st);var Gt=[];if(Object.keys(ee).forEach(function(_e){if(Q[_e]){Gt.push(Q[_e]);return}var me=st[_e];Q[_e]=r(me,B,P,b),Gt.push(Q[_e])}),Gt=Gt.sort(function(_e,me){return me-_e}),ct["".concat(pt.id,"-").concat(jt)]=Gt,jt!==bt)for(var ve=(Ot==null?void 0:Ot.length)||0,de=function(me){var be=Ot[me],Ie=$[W[be.id].idx],pe=Ie.nodeLabelCountMap[jt],Ye=Y[jt].length;if(!pe||pe.count<Ye)return Ot.splice(me,1),"continue";for(var dn=!1,Zt=0;Zt<Ye;Zt++)if(pe.dists[Zt]>vt[jt][Zt]){dn=!0;break}if(dn)return Ot.splice(me,1),"continue";var St={};Ie.neighbors.forEach(function(Qt){var ae=N["".concat(be.id,"-").concat(Qt.id)];St["".concat(be.id,"-").concat(Qt.id)]={start:W[be.id].idx,end:W[Qt.id].idx,distance:ae}}),G=a(St,$,n,G);var Lt=[];Object.keys(St).forEach(function(Qt){if(J[Qt]){Lt.push(J[Qt]);return}var ae=G[Qt];J[Qt]=r(ae,B,P,b),Lt.push(J[Qt])}),Lt=Lt.sort(function(Qt,ae){return ae-Qt});for(var Wt=!1,Zt=0;Zt<Ye;Zt++)if(Lt[Zt]<Gt[Zt]){Wt=!0;break}if(Wt)return Ot.splice(me,1),"continue"},ye=ve-1;ye>=0;ye--)de(ye)});var _t=[];Ot==null||Ot.forEach(function(jt){for(var Yt=W[jt.id].idx,te=h(n.nodes,S[Yt],Yt,P,T),re=te.neighbors,ee=re.length,Gt=!1,ve=ee-1;ve>=0;ve--){if(re.length+1<l.nodes.length){Gt=!0;return}var de=re[ve],ye=de[P];if(!Y[ye]||!Y[ye].length){re.splice(ve,1);continue}if(!vt[ye]||!vt[ye].length){re.splice(ve,1);continue}var _e="".concat(jt.id,"-").concat(de.id),me=N[_e],be=vt[ye].length-1,Ie=vt[ye][be];if(me>Ie){re.splice(ve,1);continue}if(O){var pe="".concat(de.id,"-").concat(jt.id),Ye=N[pe];be=ft[ye].length-1;var dn=ft[ye][be];if(Ye>dn){re.splice(ve,1);continue}}var Zt=J[_e]?J[_e]:y(n,jt,de,W,me,$,B,P,b,J,G),St="".concat(pt.id,"-").concat(ye),Lt=ct[St][ct[St].length-1];if(Zt<Lt){re.splice(ve,1);continue}var Wt=E(It,ye,H,Y),Qt=Wt.minPatternNodeLabelDegree,ae=Wt.minPatternNodeLabelInDegree,oe=Wt.minPatternNodeLabelOutDegree;if(W[de.id].degree<Qt){re.splice(ve,1);continue}}Gt||_t.push({nodes:[jt].concat(re)})});var yt=(0,M.Z)(l,pt.id,!1).length,Ct={};O?(Object.keys(yt).forEach(function(jt){var Yt=H[jt].node[P];Ct[Yt]?Ct[Yt].push(yt[jt]):Ct[Yt]=[yt[jt]]}),Object.keys(Ct).forEach(function(jt){Ct[jt].sort(function(Yt,te){return Yt-te})})):Ct=vt;for(var Pt=_t.length,Dt=function(Yt){var te=_t[Yt],re=te.nodes[0],ee={},Gt={};te.nodes.forEach(function(we,$e){Gt[we.id]={idx:$e,node:we,degree:0,inDegree:0,outDegree:0};var Ne=we[P];ee[Ne]?ee[Ne]++:ee[Ne]=1});var ve=[],de={};n.edges.forEach(function(we){Gt[we.source]&&Gt[we.target]&&(ve.push(we),de[we[b]]?de[we[b]]++:de[we[b]]=1,Gt[we.source].degree++,Gt[we.target].degree++,Gt[we.source].outDegree++,Gt[we.target].inDegree++)});for(var ye=Object.keys(V).length,_e=!1,me=0;me<ye;me++){var be=Object.keys(V)[me];if(!de[be]||de[be]<V[be].length){_e=!0;break}}if(_e)return _t.splice(Yt,1),"continue";var Ie=ve.length;if(Ie<l.edges.length)return _t.splice(Yt,1),"break";for(var pe=!1,Ye=function($e){var Ne=ve[$e],en=Ne[b],an=V[en];if(!an||!an.length)return de[en]--,an&&de[en]<an.length?(pe=!0,"break"):(ve.splice($e,1),Gt[Ne.source].degree--,Gt[Ne.target].degree--,Gt[Ne.source].outDegree--,Gt[Ne.target].inDegree--,"continue");var Mn=Gt[Ne.source].node[P],un=Gt[Ne.target].node[P],Bn=!1;if(an.forEach(function(Yn){var $n=H[Yn.source].node,Xn=H[Yn.target].node;$n[P]===Mn&&Xn[P]===un&&(Bn=!0),!O&&$n[P]===un&&Xn[P]===Mn&&(Bn=!0)}),!Bn)return de[en]--,an&&de[en]<an.length?(pe=!0,"break"):(ve.splice($e,1),Gt[Ne.source].degree--,Gt[Ne.target].degree--,Gt[Ne.source].outDegree--,Gt[Ne.target].inDegree--,"continue")},me=Ie-1;me>=0;me--){var dn=Ye(me);if(dn==="break")break}if(pe)return _t.splice(Yt,1),"continue";te.edges=ve;var Zt=(0,M.Z)(te,te.nodes[0].id,!1).length;if(Object.keys(Zt).reverse().forEach(function(we){if(!(we===te.nodes[0].id||pe)){if(Zt[we]===1/0){var $e=Gt[we].node[P];if(ee[$e]--,ee[$e]<Y[$e].length){pe=!0;return}var Ne=te.nodes.indexOf(Gt[we].node);te.nodes.splice(Ne,1),Gt[we]=void 0;return}var en=W[we].node[P];if(!Ct[en]||!Ct[en].length||Zt[we]>Ct[en][Ct[en].length-1]){var $e=Gt[we].node[P];if(ee[$e]--,ee[$e]<Y[$e].length){pe=!0;return}var Ne=te.nodes.indexOf(Gt[we].node);te.nodes.splice(Ne,1),Gt[we]=void 0}}}),pe)return _t.splice(Yt,1),"continue";for(var St=!0,Lt=0;St&&!pe;){St=!1;var Wt=O?Gt[re.id].degree<H[pt.id].degree||Gt[re.id].inDegree<H[pt.id].inDegree||Gt[re.id].outDegree<H[pt.id].outDegree:Gt[re.id].degree<H[pt.id].degree;if(Wt){pe=!0;break}if(ee[re[P]]<Y[re[P]].length){pe=!0;break}for(var Qt=te.nodes.length,ae=Qt-1;ae>=0;ae--){var oe=te.nodes[ae],Oe=Gt[oe.id].degree,Pe=Gt[oe.id].inDegree,Re=Gt[oe.id].outDegree,Se=oe[P],Ae=E(It,Se,H,Y),Be=Ae.minPatternNodeLabelDegree,je=Ae.minPatternNodeLabelInDegree,Fe=Ae.minPatternNodeLabelOutDegree,rn=O?Oe<Be||Pe<je||Re<Fe:Oe<Be;if(rn){if(ee[oe[P]]--,ee[oe[P]]<Y[oe[P]].length){pe=!0;break}te.nodes.splice(ae,1),Gt[oe.id]=void 0,St=!0}}if(pe||!St&&Lt!==0)break;Ie=ve.length;for(var tn=Ie-1;tn>=0;tn--){var le=ve[tn];if(!Gt[le.source]||!Gt[le.target]){ve.splice(tn,1);var Qe=le[b];if(de[Qe]--,Gt[le.source]&&(Gt[le.source].degree--,Gt[le.source].outDegree--),Gt[le.target]&&(Gt[le.target].degree--,Gt[le.target].inDegree--),V[Qe]&&de[Qe]<V[Qe].length){pe=!0;break}St=!0}}Lt++}if(pe||pe||te.nodes.length<l.nodes.length||ve.length<l.edges.length)return _t.splice(Yt,1),"continue"},At=Pt-1;At>=0;At--){var Ut=Dt(At);if(Ut==="break")break}for(var Bt=_t.length,zt=function(Yt){var te=_t[Yt],re={};te.edges.forEach(function(ve){var de="".concat(ve.source,"-").concat(ve.target,"-").concat(ve.label);re[de]?re[de]++:re[de]=1});for(var ee=function(de){var ye=_t[de],_e={};ye.edges.forEach(function(be){var Ie="".concat(be.source,"-").concat(be.target,"-").concat(be.label);_e[Ie]?_e[Ie]++:_e[Ie]=1});var me=!0;Object.keys(_e).length!==Object.keys(re).length?me=!1:Object.keys(re).forEach(function(be){_e[be]!==re[be]&&(me=!1)}),me&&_t.splice(de,1)},Gt=Bt-1;Gt>Yt;Gt--)ee(Gt);Bt=_t.length},At=0;At<=Bt-1;At++)zt(At);return _t}}};w.Z=e},64341:function(it,w,t){"use strict";var u=t(65965),D=function(M,m,c,h,v,a,r,s){return m===void 0&&(m=!1),c===void 0&&(c="weight"),h===void 0&&(h=1e-4),v===void 0&&(v=void 0),a===void 0&&(a=[]),r===void 0&&(r=["id"]),s===void 0&&(s=1),(0,u.Z)(M,m,c,h,!0,v,a,r,s)};w.Z=D},27209:function(it,w,t){"use strict";t.d(w,{EF:function(){return i.Z},ni:function(){return v.n}});var u=t(59774),D=t(30178),p=t(23768),M=t(52842),m=t(10208),c=t(32868),h=t(99433),v=t(51866),a=t(23662),r=t(37459),s=t(65965),o=t(64341),d=t(82898),f=t(129),y=t(19027),E=t(609),e=t(21765),i=t(54512),n=t(34154),l=t(59605),O=t(68048),C=m.ZP,T={getAdjMatrix:u.Z,breadthFirstSearch:D.Z,connectedComponent:p.ZP,getDegree:M.ZP,getInDegree:M.rU,getOutDegree:M.K_,detectCycle:m.ZP,detectDirectedCycle:C,detectAllCycles:m.wT,detectAllDirectedCycle:m.iK,detectAllUndirectedCycle:m.l1,depthFirstSearch:c.Z,dijkstra:h.Z,findAllPath:v.T,findShortestPath:v.n,floydWarshall:a.Z,labelPropagation:r.Z,louvain:s.Z,iLouvain:o.Z,kCore:d.Z,kMeans:f.Z,cosineSimilarity:y.Z,nodesCosineSimilarity:E.Z,minimumSpanningTree:e.Z,pageRank:i.Z,getNeighbors:O.Cy,Stack:l.Z,GADDI:n.Z}},82898:function(it,w,t){"use strict";var u=t(72691),D=t(52842),p=function(m,c){var h;c===void 0&&(c=1);for(var v=(0,u.d9)(m),a=v.nodes,r=a===void 0?[]:a,s=v.edges,o=s===void 0?[]:s,d=function(){var E=(0,D.ZP)({nodes:r,edges:o}),e=Object.keys(E);e.sort(function(l,O){var C,T;return((C=E[l])===null||C===void 0?void 0:C.degree)-((T=E[O])===null||T===void 0?void 0:T.degree)});var i=e[0];if(!r.length||((h=E[i])===null||h===void 0?void 0:h.degree)>=c)return"break";var n=r.findIndex(function(l){return l.id===i});r.splice(n,1),o=o.filter(function(l){return!(l.source===i||l.target===i)})};;){var f=d();if(f==="break")break}return{nodes:r,edges:o}};w.Z=p},129:function(it,w,t){"use strict";var u=t(72691),D=t(40473),p=t(68530),M=t(39007),m=t(19821),c=function(a,r,s){var o=[];switch(a){case m.n.EuclideanDistance:o=r[s];break;default:o=[];break}return o},h=function(a,r,s,o,d,f){r===void 0&&(r=3),s===void 0&&(s=void 0),o===void 0&&(o=[]),d===void 0&&(d=["id"]),f===void 0&&(f=m.n.EuclideanDistance);var y=a.nodes,E=y===void 0?[]:y,e=a.edges,i=e===void 0?[]:e,n={clusters:[{id:"0",nodes:E}],clusterEdges:[]};if(f===m.n.EuclideanDistance&&!E.every(function(nt){return nt.hasOwnProperty(s)}))return n;var l=[],O=[];if(f===m.n.EuclideanDistance&&(l=(0,D.uC)(E,s),O=(0,p.lf)(l,o,d)),!O.length)return n;for(var C=(0,u.jj)(O.map(function(nt){return nt.join("")})),T=Math.min(r,E.length,C.length),P=0;P<E.length;P++)E[P].originIndex=P;for(var b=[],x=[],I=[],P=0;P<T;P++)if(P===0){var S=Math.floor(Math.random()*E.length);switch(f){case m.n.EuclideanDistance:b[P]=O[S];break;default:b[P]=[];break}x.push(S),I[P]=[E[S]],E[S].clusterId=String(P)}else{for(var K=-1/0,N=0,z=function(dt){if(!x.includes(dt)){for(var et=0,gt=0;gt<b.length;gt++){var Et=0;switch(f){case m.n.EuclideanDistance:Et=(0,p.Sp)(O[E[dt].originIndex],b[gt],f);break;default:break}et+=Et}var lt=et/b.length;lt>K&&!b.find(function(mt){return(0,u.Xy)(mt,c(f,O,E[dt].originIndex))})&&(K=lt,N=dt)}},j=0;j<E.length;j++)z(j);b[P]=c(f,O,N),x.push(N),I[P]=[E[N]],E[N].clusterId=String(P)}for(var W=0;;){for(var P=0;P<E.length;P++){var U=0,F=1/0;if(!(W===0&&x.includes(P))){for(var H=0;H<b.length;H++){var Y=0;switch(f){case m.n.EuclideanDistance:Y=(0,p.Sp)(O[P],b[H],f);break;default:break}Y<F&&(F=Y,U=H)}if(E[P].clusterId!==void 0)for(var V=I[Number(E[P].clusterId)].length-1;V>=0;V--)I[Number(E[P].clusterId)][V].id===E[P].id&&I[Number(E[P].clusterId)].splice(V,1);E[P].clusterId=String(U),I[U].push(E[P])}}for(var X=!1,P=0;P<I.length;P++){for(var $=I[P],rt=new M.Z([]),H=0;H<$.length;H++)rt=rt.add(new M.Z(O[$[H].originIndex]));var ot=rt.avg($.length);ot.equal(new M.Z(b[P]))||(X=!0,b[P]=ot.getArr())}if(W++,E.every(function(nt){return nt.clusterId!==void 0})&&X||W>=1e3)break}var tt=[],G={};return i.forEach(function(nt){var ut,dt,et=nt.source,gt=nt.target,Et=(ut=E.find(function(B){return B.id===et}))===null||ut===void 0?void 0:ut.clusterId,lt=(dt=E.find(function(B){return B.id===gt}))===null||dt===void 0?void 0:dt.clusterId,mt="".concat(Et,"---").concat(lt);if(G[mt])G[mt].count++;else{var Tt={source:Et,target:lt,count:1};G[mt]=Tt,tt.push(Tt)}}),{clusters:I,clusterEdges:tt}};w.Z=h},37459:function(it,w,t){"use strict";var u=t(59774),D=t(68048),p=function(m,c,h,v){c===void 0&&(c=!1),h===void 0&&(h="weight"),v===void 0&&(v=1e3);var a=m.nodes,r=a===void 0?[]:a,s=m.edges,o=s===void 0?[]:s,d={},f={};r.forEach(function(P,b){var x=(0,D.EL)();P.clusterId=x,d[x]={id:x,nodes:[P]},f[P.id]={node:P,idx:b}});var y=(0,u.Z)(m,c),E=[],e={};y.forEach(function(P,b){var x=0,I=r[b].id;e[I]={},P.forEach(function(S,K){if(S){x+=S;var N=r[K].id;e[I][N]=S}}),E.push(x)});for(var i=0,n=function(){var b=!1;if(r.forEach(function(x){var I={};Object.keys(e[x.id]).forEach(function(F){var H=e[x.id][F],Y=f[F].node,V=Y.clusterId;I[V]||(I[V]=0),I[V]+=H});var S=-1/0,K=[];if(Object.keys(I).forEach(function(F){S<I[F]?(S=I[F],K=[F]):S===I[F]&&K.push(F)}),!(K.length===1&&K[0]===x.clusterId)){var N=K.indexOf(x.clusterId);if(N>=0&&K.splice(N,1),K&&K.length){b=!0;var z=d[x.clusterId],j=z.nodes.indexOf(x);z.nodes.splice(j,1);var W=Math.floor(Math.random()*K.length),U=d[K[W]];U.nodes.push(x),x.clusterId=U.id}}}),!b)return"break";i++};i<v;){var l=n();if(l==="break")break}Object.keys(d).forEach(function(P){var b=d[P];(!b.nodes||!b.nodes.length)&&delete d[P]});var O=[],C={};o.forEach(function(P){var b=P.source,x=P.target,I=P[h]||1,S=f[b].node.clusterId,K=f[x].node.clusterId,N="".concat(S,"---").concat(K);if(C[N])C[N].weight+=I,C[N].count++;else{var z={source:S,target:K,weight:I,count:1};C[N]=z,O.push(z)}});var T=[];return Object.keys(d).forEach(function(P){T.push(d[P])}),{clusters:T,clusterEdges:O}};w.Z=p},65965:function(it,w,t){"use strict";var u=t(72691),D=t(59774),p=t(39007),M=t(40473),m=t(68530),c=function(r,s,o,d){for(var f=s.length,y=2*d,E=0,e=0;e<f;e++)for(var i=r[e].clusterId,n=0;n<f;n++){var l=r[n].clusterId;if(i===l){var O=s[e][n]||0,C=o[e]||0,T=o[n]||0;E+=O-C*T/y}}return E*=1/y,E},h=function(r,s){r===void 0&&(r=[]);for(var o=r.length,d=new p.Z([]),f=0;f<o;f++)d=d.add(new p.Z(s[f]));var y=d.avg(o);y.normalize();for(var E=0,f=0;f<o;f++){var e=new p.Z(s[f]),i=e.squareEuclideanDistance(y);E+=i}var n=[];r.forEach(function(){n.push([])});for(var f=0;f<o;f++){var e=new p.Z(s[f]);r[f].clusterInertial=0;for(var l=0;l<o;l++){if(f===l){n[f][l]=0;continue}var O=new p.Z(s[l]);n[f][l]=e.squareEuclideanDistance(O),r[f].clusterInertial+=n[f][l]}}for(var C=0,T=2*o*E,f=0;f<o;f++)for(var P=r[f].clusterId,l=0;l<o;l++){var b=r[l].clusterId;if(!(f===l||P!==b)){var x=r[f].clusterInertial*r[l].clusterInertial/Math.pow(T,2)-n[f][l]/T;C+=x}}return Number(C.toFixed(4))},v=function(r,s,o,d,f,y,E,e,i){s===void 0&&(s=!1),o===void 0&&(o="weight"),d===void 0&&(d=1e-4),f===void 0&&(f=!1),y===void 0&&(y=void 0),E===void 0&&(E=[]),e===void 0&&(e=["id"]),i===void 0&&(i=1);var n=r.nodes,l=n===void 0?[]:n,O=r.edges,C=O===void 0?[]:O,T=[];if(f){l.forEach(function(G,nt){G.properties=G.properties||{},G.originIndex=nt});var P=[];l.every(function(G){return G.hasOwnProperty("nodeType")})&&(P=Array.from(new Set(l.map(function(G){return G.nodeType}))),l.forEach(function(G){G.properties.nodeType=P.findIndex(function(nt){return nt===G.nodeType})}));var b=(0,M.uC)(l,y);T=(0,m.lf)(b,E,e)}var x=1,I={},S={};l.forEach(function(G,nt){var ut=String(x++);G.clusterId=ut,I[ut]={id:ut,nodes:[G]},S[G.id]={node:G,idx:nt}});var K=(0,D.Z)(r,s),N=[],z={},j=0;K.forEach(function(G,nt){var ut=0,dt=l[nt].id;z[dt]={},G.forEach(function(et,gt){if(et){ut+=et;var Et=l[gt].id;z[dt][Et]=et,j+=et}}),N.push(ut)}),j/=2;for(var W=1/0,U=1/0,F=0,H=[],Y={};;){f&&l.every(function(G){return G.hasOwnProperty("properties")})?W=c(l,K,N,j)+h(l,T)*i:W=c(l,K,N,j),F===0&&(U=W,H=l,Y=I);var V=W>0&&W>U&&W-U<d;if(W>U&&(H=l.map(function(G){return{node:G,clusterId:G.clusterId}}),Y=(0,u.d9)(I),U=W),V||F>100)break;F++,Object.keys(I).forEach(function(G){var nt=0;C.forEach(function(ut){var dt=ut.source,et=ut.target,gt=S[dt].node.clusterId,Et=S[et].node.clusterId;(gt===G&&Et!==G||Et===G&&gt!==G)&&(nt=nt+(ut[o]||1))}),I[G].sumTot=nt}),l.forEach(function(G,nt){var ut=I[G.clusterId],dt=0,et,gt=N[nt]/(2*j),Et=0,lt=ut.nodes;lt.forEach(function(st){var Q=S[st.id].idx;Et+=K[nt][Q]||0});var mt=Et-ut.sumTot*gt,Tt=lt.filter(function(st){return st.id!==G.id}),B=[];Tt.forEach(function(st,Q){B[Q]=T[st.originIndex]});var J=h(Tt,T)*i,pt=z[G.id];if(Object.keys(pt).forEach(function(st){var Q=S[st].node,ct=Q.clusterId;if(ct!==G.clusterId){var vt=I[ct],ft=vt.nodes;if(!(!ft||!ft.length)){var _t=0;ft.forEach(function(Ut){var Bt=S[Ut.id].idx;_t+=K[nt][Bt]||0});var yt=_t-vt.sumTot*gt,Ct=ft.concat([G]),Pt=[];Ct.forEach(function(Ut,Bt){Pt[Bt]=T[Ut.originIndex]});var Dt=h(Ct,T)*i,At=yt-mt;f&&(At=yt+Dt-(mt+J)),At>dt&&(dt=At,et=vt)}}}),dt>0){et.nodes.push(G);var Ot=G.clusterId;G.clusterId=et.id;var bt=ut.nodes.indexOf(G);ut.nodes.splice(bt,1);var Rt=0,It=0;C.forEach(function(st){var Q=st.source,ct=st.target,vt=S[Q].node.clusterId,ft=S[ct].node.clusterId;(vt===et.id&&ft!==et.id||ft===et.id&&vt!==et.id)&&(Rt=Rt+(st[o]||1)),(vt===Ot&&ft!==Ot||ft===Ot&&vt!==Ot)&&(It=It+(st[o]||1))}),et.sumTot=Rt,ut.sumTot=It}})}var X={},$=0;Object.keys(Y).forEach(function(G){var nt=Y[G];if(!nt.nodes||!nt.nodes.length){delete Y[G];return}var ut=String($+1);ut!==G&&(nt.id=ut,nt.nodes=nt.nodes.map(function(dt){return{id:dt.id,clusterId:ut}}),Y[ut]=nt,X[G]=ut,delete Y[G],$++)}),H.forEach(function(G){var nt=G.node,ut=G.clusterId;nt&&(nt.clusterId=ut,nt.clusterId&&X[nt.clusterId]&&(nt.clusterId=X[nt.clusterId]))});var rt=[],ot={};C.forEach(function(G){var nt=G.source,ut=G.target,dt=G[o]||1,et=S[nt].node.clusterId,gt=S[ut].node.clusterId;if(!(!et||!gt)){var Et="".concat(et,"---").concat(gt);if(ot[Et])ot[Et].weight+=dt,ot[Et].count++;else{var lt={source:et,target:gt,weight:dt,count:1};ot[Et]=lt,rt.push(lt)}}});var tt=[];return Object.keys(Y).forEach(function(G){tt.push(Y[G])}),{clusters:tt,clusterEdges:rt}};w.Z=v},21765:function(it,w,t){"use strict";var u=t(34476),D=t(80269),p=t(68048),M=function(v,a){var r=[],s=v.nodes,o=s===void 0?[]:s,d=v.edges,f=d===void 0?[]:d;if(o.length===0)return r;var y=o[0],E=new Set;E.add(y);var e=function(T,P){return a?T.weight-P.weight:0},i=new D.Z(e);for((0,p.VO)(y.id,f).forEach(function(C){i.insert(C)});!i.isEmpty();){var n=i.delMin(),l=n.source,O=n.target;E.has(l)&&E.has(O)||(r.push(n),E.has(l)||(E.add(l),(0,p.VO)(l,f).forEach(function(C){i.insert(C)})),E.has(O)||(E.add(O),(0,p.VO)(O,f).forEach(function(C){i.insert(C)})))}return r},m=function(v,a){var r=[],s=v.nodes,o=s===void 0?[]:s,d=v.edges,f=d===void 0?[]:d;if(o.length===0)return r;var y=f.map(function(l){return l});a&&y.sort(function(l,O){return l.weight-O.weight});for(var E=new u.Z(o.map(function(l){return l.id}));y.length>0;){var e=y.shift(),i=e.source,n=e.target;E.connected(i,n)||(r.push(e),E.union(i,n))}return r},c=function(v,a,r){var s={prim:M,kruskal:m};return r?s[r](v,a):m(v,a)};w.Z=c},609:function(it,w,t){"use strict";var u=t(72691),D=t(40473),p=t(68530),M=t(19027),m=function(h,v,a,r,s){h===void 0&&(h=[]),a===void 0&&(a=void 0),r===void 0&&(r=[]),s===void 0&&(s=[]);var o=(0,u.d9)(h.filter(function(i){return i.id!==v.id})),d=h.findIndex(function(i){return i.id===v.id}),f=(0,D.uC)(h,a),y=(0,p.lf)(f,r,s),E=y[d],e=[];return o.forEach(function(i,n){if(i.id!==v.id){var l=y[n],O=(0,M.Z)(l,E);e.push(O),i.cosineSimilarity=O}}),o.sort(function(i,n){return n.cosineSimilarity-i.cosineSimilarity}),{allCosineSimilarity:e,similarNodes:o}};w.Z=m},54512:function(it,w,t){"use strict";var u=t(52842),D=t(68048),p=function(m,c,h){typeof c!="number"&&(c=1e-6),typeof h!="number"&&(h=.85);for(var v=1,a=0,r=1e3,s=m.nodes,o=s===void 0?[]:s,d=m.edges,f=d===void 0?[]:d,y=o.length,E,e={},i={},n=0;n<y;++n){var l=o[n],O=l.id;e[O]=1/y,i[O]=1/y}for(var C=(0,u.ZP)(m);r>0&&v>c;){a=0;for(var n=0;n<y;++n){var l=o[n],O=l.id;if(E=0,C[l.id].inDegree===0)e[O]=0;else{for(var T=(0,D.Cy)(O,f,"source"),P=0;P<T.length;++P){var b=T[P],x=C[b].outDegree;x>0&&(E+=i[b]/x)}e[O]=h*E,a+=e[O]}}a=(1-a)/y,v=0;for(var n=0;n<y;++n){var l=o[n],O=l.id;E=e[O]+a,v+=Math.abs(E-i[O]),i[O]=E}r-=1}return i};w.Z=p},80269:function(it,w){"use strict";var t=function(p,M){return p-M},u=function(){function D(p){p===void 0&&(p=t),this.compareFn=p,this.list=[]}return D.prototype.getLeft=function(p){return 2*p+1},D.prototype.getRight=function(p){return 2*p+2},D.prototype.getParent=function(p){return p===0?null:Math.floor((p-1)/2)},D.prototype.isEmpty=function(){return this.list.length<=0},D.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},D.prototype.delMin=function(){var p=this.top(),M=this.list.pop();return this.list.length>0&&(this.list[0]=M,this.moveDown(0)),p},D.prototype.insert=function(p){if(p!==null){this.list.push(p);var M=this.list.length-1;return this.moveUp(M),!0}return!1},D.prototype.moveUp=function(p){for(var M=this.getParent(p);p&&p>0&&this.compareFn(this.list[M],this.list[p])>0;){var m=this.list[M];this.list[M]=this.list[p],this.list[p]=m,p=M,M=this.getParent(p)}},D.prototype.moveDown=function(p){var M,m=p,c=this.getLeft(p),h=this.getRight(p),v=this.list.length;c!==null&&c<v&&this.compareFn(this.list[m],this.list[c])>0?m=c:h!==null&&h<v&&this.compareFn(this.list[m],this.list[h])>0&&(m=h),p!==m&&(M=[this.list[m],this.list[p]],this.list[p]=M[0],this.list[m]=M[1],this.moveDown(m))},D}();w.Z=u},81141:function(it,w,t){"use strict";var u=function(m,c){return m===c},D=function(){function M(m,c){c===void 0&&(c=null),this.value=m,this.next=c}return M.prototype.toString=function(m){return m?m(this.value):"".concat(this.value)},M}(),p=function(){function M(m){m===void 0&&(m=u),this.head=null,this.tail=null,this.compare=m}return M.prototype.prepend=function(m){var c=new D(m,this.head);return this.head=c,this.tail||(this.tail=c),this},M.prototype.append=function(m){var c=new D(m);return this.head?(this.tail.next=c,this.tail=c,this):(this.head=c,this.tail=c,this)},M.prototype.delete=function(m){if(!this.head)return null;for(var c=null;this.head&&this.compare(this.head.value,m);)c=this.head,this.head=this.head.next;var h=this.head;if(h!==null)for(;h.next;)this.compare(h.next.value,m)?(c=h.next,h.next=h.next.next):h=h.next;return this.compare(this.tail.value,m)&&(this.tail=h),c},M.prototype.find=function(m){var c=m.value,h=c===void 0?void 0:c,v=m.callback,a=v===void 0?void 0:v;if(!this.head)return null;for(var r=this.head;r;){if(a&&a(r.value)||h!==void 0&&this.compare(r.value,h))return r;r=r.next}return null},M.prototype.deleteTail=function(){var m=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,m;for(var c=this.head;c.next;)c.next.next?c=c.next:c.next=null;return this.tail=c,m},M.prototype.deleteHead=function(){if(!this.head)return null;var m=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),m},M.prototype.fromArray=function(m){var c=this;return m.forEach(function(h){return c.append(h)}),this},M.prototype.toArray=function(){for(var m=[],c=this.head;c;)m.push(c),c=c.next;return m},M.prototype.reverse=function(){for(var m=this.head,c=null,h=null;m;)h=m.next,m.next=c,c=m,m=h;this.tail=this.head,this.head=c},M.prototype.toString=function(m){return m===void 0&&(m=void 0),this.toArray().map(function(c){return c.toString(m)}).toString()},M}();w.Z=p},47582:function(it,w,t){"use strict";var u=t(81141),D=function(){function p(){this.linkedList=new u.Z}return p.prototype.isEmpty=function(){return!this.linkedList.head},p.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},p.prototype.enqueue=function(M){this.linkedList.append(M)},p.prototype.dequeue=function(){var M=this.linkedList.deleteHead();return M?M.value:null},p.prototype.toString=function(M){return this.linkedList.toString(M)},p}();w.Z=D},59605:function(it,w,t){"use strict";var u=t(81141),D=function(){function p(M){M===void 0&&(M=10),this.linkedList=new u.Z,this.maxStep=M}return Object.defineProperty(p.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),p.prototype.isEmpty=function(){return!this.linkedList.head},p.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},p.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},p.prototype.push=function(M){this.linkedList.prepend(M),this.length>this.maxStep&&this.linkedList.deleteTail()},p.prototype.pop=function(){var M=this.linkedList.deleteHead();return M?M.value:null},p.prototype.toArray=function(){return this.linkedList.toArray().map(function(M){return M.value})},p.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},p}();w.Z=D},34476:function(it,w){"use strict";var t=function(){function u(D){this.count=D.length,this.parent={};for(var p=0,M=D;p<M.length;p++){var m=M[p];this.parent[m]=m}}return u.prototype.find=function(D){for(;this.parent[D]!==D;)D=this.parent[D];return D},u.prototype.union=function(D,p){var M=this.find(D),m=this.find(p);M!==m&&(M<m?(this.parent[p]!==p&&this.union(this.parent[p],D),this.parent[p]=this.parent[D]):(this.parent[D]!==D&&this.union(this.parent[D],p),this.parent[D]=this.parent[p]))},u.prototype.connected=function(D,p){return this.find(D)===this.find(p)},u}();w.Z=t},19821:function(it,w,t){"use strict";t.d(w,{n:function(){return u}});var u;(function(D){D.EuclideanDistance="euclideanDistance"})(u||(u={}))},68048:function(it,w,t){"use strict";t.d(w,{Cy:function(){return u},EL:function(){return M},VO:function(){return p},g7:function(){return D}});var u=function(c,h,v){h===void 0&&(h=[]);var a=h.filter(function(d){return d.source===c||d.target===c});if(v==="target"){var r=function(f){return f.source===c};return a.filter(r).map(function(d){return d.target})}if(v==="source"){var s=function(f){return f.target===c};return a.filter(s).map(function(d){return d.source})}var o=function(f){return f.source===c?f.target:f.source};return a.map(o)},D=function(c,h){return h.filter(function(v){return v.source===c})},p=function(c,h){return h.filter(function(v){return v.source===c||v.target===c})},M=function(c){c===void 0&&(c=0);var h="".concat(Math.random()).split(".")[1].substr(0,5),v="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(c,"-").concat(h).concat(v)}},68530:function(it,w,t){"use strict";t.d(w,{Sp:function(){return c},lf:function(){return m}});var u=t(72691),D=t(19821),p=t(39007),M=function(a,r,s){var o=[];r!=null&&r.length?o=r:(a.forEach(function(f){o=o.concat(Object.keys(f))}),o=(0,u.jj)(o));var d={};return o.forEach(function(f){var y=[];a.forEach(function(E){E[f]!==void 0&&E[f]!==""&&y.push(E[f])}),y.length&&!(s!=null&&s.includes(f))&&(d[f]=(0,u.jj)(y))}),d},m=function(a,r,s){var o=M(a,r,s),d=[];if(!Object.keys(o).length)return d;var f=Object.values(o),y=f.every(function(E){return E.every(function(e){return typeof e=="number"})});return a.forEach(function(E,e){var i=[];Object.keys(o).forEach(function(n){var l=E[n],O=o[n],C=O.findIndex(function(b){return l===b}),T=[];if(y)T.push(l);else for(var P=0;P<O.length;P++)P===C?T.push(1):T.push(0);i=i.concat(T)}),d[e]=i}),d},c=function(a,r,s,o){s===void 0&&(s=D.n.EuclideanDistance);var d=0;switch(s){case D.n.EuclideanDistance:d=new p.Z(a).euclideanDistance(new p.Z(r));break;default:break}return d},h={getAllKeyValueMap:M,oneHot:m,getDistance:c}},40473:function(it,w,t){"use strict";t.d(w,{uC:function(){return m}});var u=t(30708),D=function(v,a){v===void 0&&(v=[]),a===void 0&&(a=100);var r={};v.forEach(function(o){o.properties&&Object.keys(o.properties).forEach(function(d){if(d==="id"||!"".concat(o.properties[d]).match(u.F)&&!"".concat(o.properties[d]).match(u.B)&&isNaN(Number(o.properties[d]))){r.hasOwnProperty(d)&&delete r[d];return}r.hasOwnProperty(d)?r[d]+=1:r[d]=1})});var s=Object.keys(r).sort(function(o,d){return r[d]-r[o]});return s.length<a?s:s.slice(0,a)},p=function(v,a){return a.map(function(r){return v.hasOwnProperty(r)?v[r]:0})},M=function(v){for(var a=D(v),r=[],s=0;s<v.length;s++)r[s]=p(v[s].properties,a);return r},m=function(v,a){a===void 0&&(a=void 0);var r=[];return v.forEach(function(s){a===void 0&&r.push(s),s[a]!==void 0&&r.push(s[a])}),r},c={getAllSortProperties:D,getPropertyWeight:M,getAllProperties:m}},39007:function(it,w,t){"use strict";var u=t(72691),D=function(){function p(M){this.arr=M}return p.prototype.getArr=function(){return this.arr||[]},p.prototype.add=function(M){var m,c=M.arr;if(!(!((m=this.arr)===null||m===void 0)&&m.length))return new p(c);if(!(c!=null&&c.length))return new p(this.arr);if(this.arr.length===c.length){var h=[];for(var v in this.arr)h[v]=this.arr[v]+c[v];return new p(h)}},p.prototype.subtract=function(M){var m,c=M.arr;if(!(!((m=this.arr)===null||m===void 0)&&m.length))return new p(c);if(!(c!=null&&c.length))return new p(this.arr);if(this.arr.length===c.length){var h=[];for(var v in this.arr)h[v]=this.arr[v]-c[v];return new p(h)}},p.prototype.avg=function(M){var m=[];if(M!==0)for(var c in this.arr)m[c]=this.arr[c]/M;return new p(m)},p.prototype.negate=function(){var M=[];for(var m in this.arr)M[m]=-this.arr[m];return new p(M)},p.prototype.squareEuclideanDistance=function(M){var m,c=M.arr;if(!(!((m=this.arr)===null||m===void 0)&&m.length)||!(c!=null&&c.length))return 0;if(this.arr.length===c.length){var h=0;for(var v in this.arr)h+=Math.pow(this.arr[v]-M.arr[v],2);return h}},p.prototype.euclideanDistance=function(M){var m,c=M.arr;if(!(!((m=this.arr)===null||m===void 0)&&m.length)||!(c!=null&&c.length))return 0;if(this.arr.length===c.length){var h=0;for(var v in this.arr)h+=Math.pow(this.arr[v]-M.arr[v],2);return Math.sqrt(h)}else console.error("The two vectors are unequal in length.")},p.prototype.normalize=function(){var M=[],m=(0,u.d9)(this.arr);m.sort(function(a,r){return a-r});var c=m[m.length-1],h=m[0];for(var v in this.arr)M[v]=(this.arr[v]-h)/(c-h);return new p(M)},p.prototype.norm2=function(){var M;if(!(!((M=this.arr)===null||M===void 0)&&M.length))return 0;var m=0;for(var c in this.arr)m+=Math.pow(this.arr[c],2);return Math.sqrt(m)},p.prototype.dot=function(M){var m,c=M.arr;if(!(!((m=this.arr)===null||m===void 0)&&m.length)||!(c!=null&&c.length))return 0;if(this.arr.length===c.length){var h=0;for(var v in this.arr)h+=this.arr[v]*M.arr[v];return h}else console.error("The two vectors are unequal in length.")},p.prototype.equal=function(M){var m,c=M.arr;if(((m=this.arr)===null||m===void 0?void 0:m.length)!==(c==null?void 0:c.length))return!1;for(var h in this.arr)if(this.arr[h]!==c[h])return!1;return!0},p}();w.Z=D},61638:function(it,w,t){"use strict";t.d(w,{Z:function(){return D}});var u=t(20009);function D(p,M){return p.style.opacity||(p.style.opacity=1),(0,u.eR)(p,{opacity:0},M)}},20009:function(it,w,t){"use strict";t.d(w,{MG:function(){return m},V7:function(){return h},Yq:function(){return c},eR:function(){return o},jt:function(){return a},tT:function(){return s}});var u=t(15767),D=t(89148),p=t(57170);function M(d){return typeof d=="boolean"?!1:"enter"in d&&"update"in d&&"exit"in d}function m(d){if(!d)return{enter:!1,update:!1,exit:!1};var f=["enter","update","exit"],y=Object.fromEntries(Object.entries(d).filter(function(E){var e=(0,u.CR)(E,1),i=e[0];return!f.includes(i)}));return Object.fromEntries(f.map(function(E){return M(d)?d[E]===!1?[E,!1]:[E,(0,u.pi)((0,u.pi)({},d[E]),y)]:[E,y]}))}function c(d,f){d?d.finished.then(f):f()}function h(d,f){d.length===0?f():Promise.all(d.map(function(y){return y==null?void 0:y.finished})).then(f)}function v(d,f){"update"in d?d.update(f):d.attr(f)}function a(d,f,y){if(f.length===0)return null;if(!y){var E=f.slice(-1)[0];return v(d,{style:E}),null}return d.animate(f,y)}function r(d,f){return!(d.nodeName!=="text"||f.nodeName!=="text"||d.attributes.text!==f.attributes.text)}function s(d,f,y,E){if(E===void 0&&(E="destroy"),r(d,f))return d.remove(),[null];var e=function(){E==="destroy"?d.destroy():E==="hide"&&(0,p.Cp)(d),f.isVisible()&&(0,p.$Z)(f)};if(!y)return e(),[null];var i=y.duration,n=i===void 0?0:i,l=y.delay,O=l===void 0?0:l,C=Math.ceil(+n/2),T=+n/4,P=(0,u.CR)(d.getGeometryBounds().center,2),b=P[0],x=P[1],I=(0,u.CR)(f.getGeometryBounds().center,2),S=I[0],K=I[1],N=(0,u.CR)([(b+S)/2-b,(x+K)/2-x],2),z=N[0],j=N[1],W=d.style.opacity,U=W===void 0?1:W,F=f.style.opacity,H=F===void 0?1:F,Y=d.style.transform||"",V=f.style.transform||"",X=d.animate([{opacity:U,transform:"translate(0, 0) ".concat(Y)},{opacity:0,transform:"translate(".concat(z,", ").concat(j,") ").concat(Y)}],(0,u.pi)((0,u.pi)({fill:"both"},y),{duration:O+C+T})),$=f.animate([{opacity:0,transform:"translate(".concat(-z,", ").concat(-j,") ").concat(V),offset:.01},{opacity:H,transform:"translate(0, 0) ".concat(V)}],(0,u.pi)((0,u.pi)({fill:"both"},y),{duration:C+T,delay:O+C-T}));return c($,e),[X,$]}function o(d,f,y){var E={},e={};return Object.entries(f).forEach(function(i){var n=(0,u.CR)(i,2),l=n[0],O=n[1];if(!(0,D.Z)(O)){var C=d.style[l]||d.parsedStyle[l]||0;C!==O&&(E[l]=C,e[l]=O)}}),y?a(d,[E,e],(0,u.pi)({fill:"both"},y)):(v(d,e),null)}},3759:function(it,w,t){"use strict";t.d(w,{w:function(){return h}});var u=t(15767),D=t(81614),p=t(57170),M=t(28213),m=t(14048);function c(){(0,p.WD)(this,this.attributes.visibility!=="hidden")}var h=function(v){(0,u.ZT)(a,v);function a(r,s){s===void 0&&(s={});var o=v.call(this,(0,M.n)({},{style:s},r))||this;return o.initialized=!1,o._defaultOptions=s,o}return Object.defineProperty(a.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=(0,m.g)(this)),this._offscreen},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"defaultOptions",{get:function(){return this._defaultOptions},enumerable:!1,configurable:!0}),a.prototype.connectedCallback=function(){this.render(this.attributes,this),this.bindEvents(this.attributes,this),this.initialized=!0},a.prototype.disconnectedCallback=function(){var r;(r=this._offscreen)===null||r===void 0||r.destroy()},a.prototype.attributeChangedCallback=function(r){r==="visibility"&&c.call(this)},a.prototype.update=function(r,s){var o;return this.attr((0,M.n)({},this.attributes,r||{})),(o=this.render)===null||o===void 0?void 0:o.call(this,this.attributes,this,s)},a.prototype.clear=function(){this.removeChildren()},a.prototype.bindEvents=function(r,s){},a.prototype.getSubShapeStyle=function(r){var s=r.x,o=r.y,d=r.transform,f=r.transformOrigin,y=r.class,E=r.className,e=r.zIndex,i=(0,u._T)(r,["x","y","transform","transformOrigin","class","className","zIndex"]);return i},a}(D.b_)},35315:function(it,w,t){"use strict";t.d(w,{x:function(){return M}});var u=t(15767),D=t(81614),p=t(14048),M=function(m){(0,u.ZT)(c,m);function c(h){h===void 0&&(h={});var v=h.style,a=(0,u._T)(h,["style"]);return m.call(this,(0,u.pi)({style:(0,u.pi)({text:"",fill:"black",fontFamily:"sans-serif",fontSize:16,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",lineWidth:1,textAlign:"start",textBaseline:"middle"},v)},a))||this}return Object.defineProperty(c.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=(0,p.g)(this)),this._offscreen},enumerable:!1,configurable:!0}),c.prototype.disconnectedCallback=function(){var h;(h=this._offscreen)===null||h===void 0||h.destroy()},c}(D.xv)},58643:function(it,w,t){"use strict";t.d(w,{R:function(){return f}});var u=t(15767),D=t(20009),p=t(3759),M=t(53395),m=t(62719),c=t(82750),h=t(35235),v=t(98417),a=t(58286),r=t(58124),s=t(44969),o=t(1538);function d(y,E,e,i){var n=y.showLine,l=y.showTick,O=y.showLabel,C=E.maybeAppendByClassName(h.Ec.lineGroup,"g"),T=(0,M.z)(n,C,function(S){return(0,r.UA)(S,y,i)})||[],P=E.maybeAppendByClassName(h.Ec.tickGroup,"g"),b=(0,M.z)(l,P,function(S){return(0,s.$3)(S,e,y,i)})||[],x=E.maybeAppendByClassName(h.Ec.labelGroup,"g"),I=(0,M.z)(O,x,function(S){return(0,a.l)(S,e,y,i,E.node())})||[];return(0,u.ev)((0,u.ev)((0,u.ev)([],(0,u.CR)(T),!1),(0,u.CR)(b),!1),(0,u.CR)(I),!1).filter(function(S){return!!S})}var f=function(y){(0,u.ZT)(E,y);function E(e){return y.call(this,e,h.m5)||this}return E.prototype.render=function(e,i,n){var l=this,O=e.titleText,C=e.data,T=e.animate,P=e.showTitle,b=e.showGrid,x=e.dataThreshold,I=e.truncRange,S=(0,m.w)(C,x).filter(function(H){var Y=H.value;return!(I&&Y>I[0]&&Y<I[1])}),K=(0,D.MG)(n===void 0?T:n),N=(0,c.Ys)(i).maybeAppendByClassName(h.Ec.gridGroup,"g"),z=(0,M.z)(b,N,function(H){return(0,v.R)(H,S,e,K)})||[],j=(0,c.Ys)(i).maybeAppendByClassName(h.Ec.mainGroup,"g");O&&(!this.initialized&&K.enter||this.initialized&&K.update)&&d(e,(0,c.Ys)(this.offscreenGroup),S,(0,D.MG)(!1));var W=d(e,(0,c.Ys)(j.node()),S,K),U=(0,c.Ys)(i).maybeAppendByClassName(h.Ec.titleGroup,"g"),F=(0,M.z)(P,U,function(H){return(0,o.u)(H,l,e,K)})||[];return(0,u.ev)((0,u.ev)((0,u.ev)([],(0,u.CR)(z),!1),(0,u.CR)(W),!1),(0,u.CR)(F),!1).flat().filter(function(H){return!!H})},E}(p.w)},35235:function(it,w,t){"use strict";t.d(w,{Ec:function(){return h},m5:function(){return M}});var u=t(48690),D=t(81614),p=t(48537),M={data:[],animate:{enter:!1,update:{duration:100,easing:"ease-in-out-sine",fill:"both"},exit:{duration:100,fill:"both"}},showArrow:!0,showGrid:!0,showLabel:!0,showLine:!0,showTick:!0,showTitle:!0,showTrunc:!1,dataThreshold:100,lineLineWidth:1,lineStroke:"black",crossPadding:10,titleFill:"black",titleFontSize:12,titlePosition:"lb",titleSpacing:0,titleTextAlign:"center",titleTextBaseline:"middle",lineArrow:function(){return new D.y$({style:{d:[["M",10,10],["L",-10,0],["L",10,-10],["L",0,0],["L",10,10],["Z"]],fill:"black",transformOrigin:"center"}})},labelAlign:"parallel",labelDirection:"positive",labelFontSize:12,labelSpacing:0,gridConnect:"line",gridControlAngles:[],gridDirection:"positive",gridLength:0,gridType:"segment",lineArrowOffset:15,lineArrowSize:10,tickDirection:"positive",tickLength:5,tickLineWidth:1,tickStroke:"black",labelOverlap:[]},m=(0,u.Z)({},M,{style:{type:"arc"}}),c=(0,u.Z)({},M,{style:{}}),h=(0,p.A)({mainGroup:"main-group",gridGroup:"grid-group",grid:"grid",lineGroup:"line-group",line:"line",tickGroup:"tick-group",tick:"tick",tickItem:"tick-item",labelGroup:"label-group",label:"label",labelItem:"label-item",titleGroup:"title-group",title:"title",lineFirst:"line-first",lineSecond:"line-second"},"axis")},98417:function(it,w,t){"use strict";t.d(w,{R:function(){return y}});var u=t(15767),D=t(84237),p=t(37331),M=t(17431),m=t(16841),c=t(10315),h=t(38561),v=t(35235),a=t(58124),r=t(57967);function s(E,e){return(0,r.Hw)(E,e.gridDirection,e)}function o(E){var e=E.type,i=E.gridCenter;return e==="linear"?i:i||E.center}function d(E,e){var i=e.gridLength;return E.map(function(n,l){var O=n.value,C=(0,u.CR)((0,a.mC)(O,e),2),T=C[0],P=C[1],b=(0,u.CR)((0,p.bA)(s(O,e),i),2),x=b[0],I=b[1];return{id:l,points:[[T,P],[T+x,P+I]]}})}function f(E,e){var i=e.gridControlAngles,n=o(e);if(!n)throw new Error("grid center is not provide");if(E.length<2)throw new Error("Invalid grid data");if(!i||i.length===0)throw new Error("Invalid gridControlAngles");var l=(0,u.CR)(n,2),O=l[0],C=l[1];return E.map(function(T,P){var b=T.value,x=(0,u.CR)((0,a.mC)(b,e),2),I=x[0],S=x[1],K=(0,u.CR)([I-O,S-C],2),N=K[0],z=K[1],j=[];return i.forEach(function(W){var U=(0,M.I)(W),F=(0,u.CR)([Math.cos(U),Math.sin(U)],2),H=F[0],Y=F[1],V=N*H-z*Y+O,X=N*Y+z*H+C;j.push([V,X])}),{points:j,id:P}})}function y(E,e,i,n){var l=(0,m.zs)(i,"grid"),O=l.type,C=l.areaFill,T=o(i),P=(0,r.i5)(e,i.gridFilter),b=O==="segment"?d(P,i):f(P,i),x=(0,u.pi)((0,u.pi)({},l),{center:T,areaFill:(0,D.Z)(C)?P.map(function(I,S){return(0,c.S)(C,[I,S,P])}):C,animate:n,data:b});return E.selectAll(v.Ec.grid.class).data([1]).join(function(I){return I.append(function(){return new h.r({style:x})}).attr("className",v.Ec.grid.name)},function(I){return I.transition(function(){return this.update(x)})},function(I){return I.remove()}).transitions()}},58286:function(it,w,t){"use strict";t.d(w,{l:function(){return F}});var u=t(15767),D=t(84237),p=t(22040),M=t(20009),m=t(61638),c=t(20868),h=t(17431),v=t(10315),a=t(37331),r=t(36653),s=t(89459),o=t(57170),d=t(56998),f=t(14116),y=t(82750),E=t(16841),e=t(34309),i=t(35235),n=t(57187),l=t(37316),O=t(58124),C=t(57967);function T(H){for(var Y=H;Y<0;)Y+=360;return Math.round(Y%360)}function P(H,Y){var V=(0,u.CR)(H,2),X=V[0],$=V[1],rt=(0,u.CR)(Y,2),ot=rt[0],tt=rt[1],G=(0,u.CR)([X*ot+$*tt,X*tt-$*ot],2),nt=G[0],ut=G[1];return Math.atan2(ut,nt)}function b(H){var Y=(H+360)%180;return(0,c.Z)(Y,-90,90)||(Y+=180),Y}function x(H,Y,V){var X,$=V.labelAlign,rt=(X=Y.style.transform)===null||X===void 0?void 0:X.includes("rotate");if(rt)return Y.getLocalEulerAngles();var ot=0,tt=(0,C.eK)(H.value,V),G=(0,C.pZ)(H.value,V);return $==="horizontal"?0:($==="perpendicular"?ot=P([1,0],tt):ot=P([G[0]<0?-1:1,0],G),b((0,h.Z)(ot)))}function I(H,Y,V){var X=V.type,$=V.labelAlign,rt=(0,C.eK)(H,V),ot=T(Y),tt=T((0,h.Z)(P([1,0],rt))),G="center",nt="middle";return X==="linear"?[90,270].includes(tt)&&ot===0?(G="center",nt=rt[1]===1?"top":"bottom"):!(tt%180)&&[90,270].includes(ot)?G="center":tt===0?((0,c.Z)(ot,0,90,!1,!0)||(0,c.Z)(ot,0,90)||(0,c.Z)(ot,270,360))&&(G="start"):tt===90?(0,c.Z)(ot,0,90,!1,!0)?G="start":((0,c.Z)(ot,90,180)||(0,c.Z)(ot,270,360))&&(G="end"):tt===270?(0,c.Z)(ot,0,90,!1,!0)?G="end":((0,c.Z)(ot,90,180)||(0,c.Z)(ot,270,360))&&(G="start"):tt===180&&(ot===90?G="start":((0,c.Z)(ot,0,90)||(0,c.Z)(ot,270,360))&&(G="end")):$==="parallel"?(0,c.Z)(tt,0,180,!0)?nt="top":nt="bottom":$==="horizontal"?(0,c.Z)(tt,90,270,!1)?G="end":((0,c.Z)(tt,270,360,!1)||(0,c.Z)(tt,0,90))&&(G="start"):$==="perpendicular"&&((0,c.Z)(tt,90,270)?G="end":G="start"),{textAlign:G,textBaseline:nt}}function S(H,Y,V){Y.setLocalEulerAngles(H);var X=Y.__data__.value,$=I(X,H,V),rt=Y.querySelector(i.Ec.labelItem.class);rt&&j(rt,$)}function K(H,Y,V){var X=V.showTick,$=V.tickLength,rt=V.tickDirection,ot=V.labelDirection,tt=V.labelSpacing,G=Y.indexOf(H),nt=(0,v.S)(tt,[H,G,Y]),ut=(0,u.CR)([(0,C.eK)(H.value,V),(0,l.y)(ot,rt)],2),dt=ut[0],et=ut[1],gt=et===1?(0,v.S)(X?$:0,[H,G,Y]):0,Et=(0,u.CR)((0,a.IH)((0,a.bA)(dt,nt+gt),(0,O.mC)(H.value,V)),2),lt=Et[0],mt=Et[1];return{x:lt,y:mt}}function N(H,Y,V,X){var $=X.labelFormatter,rt=(0,D.Z)($)?function(){return(0,r.S)((0,v.S)($,[H,Y,V,(0,C.eK)(H.value,X)]))}:function(){return(0,r.S)(H.label||"")};return rt}function z(H,Y,V,X){var $=X.labelRender,rt=((0,p.Z)(X,"endPos.0",400)-(0,p.Z)(X,"startPos.0",0))/V.length,ot=(0,D.Z)($)?(0,v.S)($,[H,Y,V,(0,C.eK)(H.value,X)]):H.label||"",tt=(0,s.r)(ot)||30;return function(){return(0,r.$)(ot,{width:rt,height:tt})}}function j(H,Y){["text","html"].includes(H.nodeName)&&H.attr(Y)}function W(H,Y){(0,n.jD)(this.node().childNodes,H,Y,{hide:o.Cp,show:o.$Z,rotate:function(V,X){S(+X,V,H)},ellipsis:function(V,X,$){V&&(0,d.O)(V,X||1/0,$)},wrap:function(V,X,$){V&&(0,f.A)(V,X,$)},getTextShape:function(V){return V.querySelector("text")}})}function U(H,Y,V,X,$){var rt=V.indexOf(Y),ot=$.labelRender,tt=(0,y.Ys)(H).append(ot?z(Y,rt,V,$):N(Y,rt,V,$)).attr("className",i.Ec.labelItem.name).node(),G=(0,u.CR)((0,E.Hm)((0,C.qW)(X,[Y,rt,V])),2),nt=G[0],ut=G[1],dt=ut.transform,et=(0,u._T)(ut,["transform"]);(0,e.e)(tt,dt);var gt=x(Y,tt,$);return tt.getLocalEulerAngles()||tt.setLocalEulerAngles(gt),j(tt,(0,u.pi)((0,u.pi)({},I(Y.value,gt,$)),nt)),H.attr(et),tt}function F(H,Y,V,X,$){var rt=(0,C.i5)(Y,V.labelFilter),ot=(0,E.zs)(V,"label"),tt,G=H.selectAll(i.Ec.label.class).data(rt,function(nt,ut){return ut}).join(function(nt){return nt.append("g").attr("className",i.Ec.label.name).transition(function(ut){U(this,ut,Y,ot,V);var dt=K(ut,Y,V),et=dt.x,gt=dt.y;return this.style.transform="translate(".concat(et,", ").concat(gt,")"),null})},function(nt){return nt.transition(function(ut){var dt=this.querySelector(i.Ec.labelItem.class),et=U(this,ut,Y,ot,V),gt=(0,M.tT)(dt,et,X.update),Et=K(ut,Y,V),lt=Et.x,mt=Et.y,Tt=(0,M.eR)(this,{transform:"translate(".concat(lt,", ").concat(mt,")")},X.update);return(0,u.ev)((0,u.ev)([],(0,u.CR)(gt),!1),[Tt],!1)})},function(nt){return tt=nt,nt.transition(function(){var ut=this,dt=(0,m.Z)(this.childNodes[0],X.exit);return(0,M.Yq)(dt,function(){return(0,y.Ys)(ut).remove()}),dt}),tt}).transitions();return(0,M.V7)(G,function(){W.call(H,V,$)}),G}},58124:function(it,w,t){"use strict";t.d(w,{UA:function(){return x},_1:function(){return E},mC:function(){return f},tz:function(){return y}});var u=t(15767),D=t(22040),p=t(20009),M=t(17431),m=t(46732),c=t(36653),h=t(35140),v=t(16841),a=t(72793),r=t(35235),s=t(57967);function o(I,S){var K=(0,u.CR)(S.startPos,2),N=K[0],z=K[1],j=(0,u.CR)(S.endPos,2),W=j[0],U=j[1],F=(0,u.CR)([W-N,U-z],2),H=F[0],Y=F[1];return[N+H*I,z+Y*I]}function d(I,S){var K=S.radius,N=(0,u.CR)(S.center,2),z=N[0],j=N[1],W=(0,M.I)((0,s.zw)(I,S));return[z+K*Math.cos(W),j+K*Math.sin(W)]}function f(I,S){return S.type==="linear"?o(I,S):d(I,S)}function y(I){return(0,s.pZ)(0,I)[1]===0}function E(I){return(0,s.pZ)(0,I)[0]===0}function e(I,S){return S-I===360}function i(I,S,K,N,z){var j=S-I,W=(0,u.CR)([z,z],2),U=W[0],F=W[1],H=(0,u.CR)([(0,M.I)(I),(0,M.I)(S)],2),Y=H[0],V=H[1],X=function(Tt){return[K+z*Math.cos(Tt),N+z*Math.sin(Tt)]},$=(0,u.CR)(X(Y),2),rt=$[0],ot=$[1],tt=(0,u.CR)(X(V),2),G=tt[0],nt=tt[1];if(e(I,S)){var ut=(V+Y)/2,dt=(0,u.CR)(X(ut),2),et=dt[0],gt=dt[1];return[["M",rt,ot],["A",U,F,0,1,0,et,gt],["A",U,F,0,1,0,G,nt]]}var Et=j>180?1:0,lt=I>S?0:1,mt=!1;return mt?"M".concat(K,",").concat(N,",L").concat(rt,",").concat(ot,",A").concat(U,",").concat(F,",0,").concat(Et,",").concat(lt,",").concat(G,",").concat(nt,",L").concat(K,",").concat(N):"M".concat(rt,",").concat(ot,",A").concat(U,",").concat(F,",0,").concat(Et,",").concat(lt,",").concat(G,",").concat(nt)}function n(I){var S=I.attributes,K=S.startAngle,N=S.endAngle,z=S.center,j=S.radius;return(0,u.ev)((0,u.ev)([K,N],(0,u.CR)(z),!1),[j],!1)}function l(I,S,K,N){var z=S.startAngle,j=S.endAngle,W=S.center,U=S.radius;return I.selectAll(r.Ec.line.class).data([{d:i.apply(void 0,(0,u.ev)((0,u.ev)([z,j],(0,u.CR)(W),!1),[U],!1))}],function(F,H){return H}).join(function(F){return F.append("path").attr("className",r.Ec.line.name).styles(S).styles({d:function(H){return H.d}})},function(F){return F.transition(function(){var H=this,Y=(0,m.F)(this,n(this),(0,u.ev)((0,u.ev)([z,j],(0,u.CR)(W),!1),[U],!1),N.update);if(Y){var V=function(){var X=(0,D.Z)(H.attributes,"__keyframe_data__");H.style.d=i.apply(void 0,(0,u.ev)([],(0,u.CR)(X),!1))};Y.onframe=V,Y.onfinish=V}return Y}).styles(S)},function(F){return F.remove()}).styles(K).transitions()}function O(I,S){var K=S.truncRange,N=S.truncShape,z=S.lineExtension}function C(I,S,K){K===void 0&&(K=[0,0]);var N=(0,u.CR)([I,S,K],3),z=(0,u.CR)(N[0],2),j=z[0],W=z[1],U=(0,u.CR)(N[1],2),F=U[0],H=U[1],Y=(0,u.CR)(N[2],2),V=Y[0],X=Y[1],$=(0,u.CR)([F-j,H-W],2),rt=$[0],ot=$[1],tt=Math.sqrt(Math.pow(rt,2)+Math.pow(ot,2)),G=(0,u.CR)([-V/tt,X/tt],2),nt=G[0],ut=G[1];return[nt*rt,nt*ot,ut*rt,ut*ot]}function T(I){var S=(0,u.CR)(I,2),K=(0,u.CR)(S[0],2),N=K[0],z=K[1],j=(0,u.CR)(S[1],2),W=j[0],U=j[1];return{x1:N,y1:z,x2:W,y2:U}}function P(I,S,K,N){var z=S.showTrunc,j=S.startPos,W=S.endPos,U=S.truncRange,F=S.lineExtension,H=(0,u.CR)([j,W],2),Y=(0,u.CR)(H[0],2),V=Y[0],X=Y[1],$=(0,u.CR)(H[1],2),rt=$[0],ot=$[1],tt=(0,u.CR)(F?C(j,W,F):new Array(4).fill(0),4),G=tt[0],nt=tt[1],ut=tt[2],dt=tt[3],et=function(st){return I.selectAll(r.Ec.line.class).data(st,function(Q,ct){return ct}).join(function(Q){return Q.append("line").attr("className",function(ct){return"".concat(r.Ec.line.name," ").concat(ct.className)}).styles(K).transition(function(ct){return(0,p.eR)(this,T(ct.line),!1)})},function(Q){return Q.styles(K).transition(function(ct){var vt=ct.line;return(0,p.eR)(this,T(vt),N.update)})},function(Q){return Q.remove()}).transitions()};if(!z||!U)return et([{line:[[V+G,X+nt],[rt+ut,ot+dt]],className:r.Ec.line.name}]);var gt=(0,u.CR)(U,2),Et=gt[0],lt=gt[1],mt=rt-V,Tt=ot-X,B=(0,u.CR)([V+mt*Et,X+Tt*Et],2),J=B[0],pt=B[1],Ot=(0,u.CR)([V+mt*lt,X+Tt*lt],2),bt=Ot[0],Rt=Ot[1],It=et([{line:[[V+G,X+nt],[J,pt]],className:r.Ec.lineFirst.name},{line:[[bt,Rt],[rt+ut,ot+dt]],className:r.Ec.lineSecond.name}]);return O(I,S),It}function b(I,S,K,N){var z=K.showArrow,j=K.showTrunc,W=K.lineArrow,U=K.lineArrowOffset,F=K.lineArrowSize,H;if(S==="arc"?H=I.select(r.Ec.line.class):j?H=I.select(r.Ec.lineSecond.class):H=I.select(r.Ec.line.class),!z||!W||K.type==="arc"&&e(K.startAngle,K.endAngle)){var Y=H.node();Y&&(Y.style.markerEnd=void 0);return}var V=(0,c.S)(W);V.attr(N),(0,h.b)(V,F,!0),H.style("markerEnd",V).style("markerEndOffset",-U)}function x(I,S,K){var N=S.type,z,j=(0,v.zs)(S,"line");return N==="linear"?z=P(I,S,(0,a.C)(j,"arrow"),K):z=l(I,S,(0,a.C)(j,"arrow"),K),b(I,N,S,j),z}},44969:function(it,w,t){"use strict";t.d(w,{$3:function(){return e}});var u=t(15767),D=t(84237),p=t(20009),M=t(61638),m=t(10315),c=t(16841),h=t(82750),v=t(35235),a=t(58124),r=t(57967);function s(i,n){return(0,r.Hw)(i,n.tickDirection,n)}function o(i,n){var l=(0,u.CR)(i,2),O=l[0],C=l[1];return[[0,0],[O*n,C*n]]}function d(i,n,l,O,C){var T=C.tickLength,P=(0,u.CR)(o(O,(0,m.S)(T,[i,n,l])),2),b=(0,u.CR)(P[0],2),x=b[0],I=b[1],S=(0,u.CR)(P[1],2),K=S[0],N=S[1];return{x1:x,x2:K,y1:I,y2:N}}function f(i,n,l,O,C){var T=C.tickFormatter,P=s(n.value,C),b="line";return(0,D.Z)(T)&&(b=function(){return(0,m.S)(T,[n,l,O,P])}),i.append(b).attr("className",v.Ec.tickItem.name)}function y(i,n,l,O,C,T,P){var b=s(i.value,T),x=d(i,n,l,b,T),I=x.x1,S=x.x2,K=x.y1,N=x.y2,z=(0,u.CR)((0,c.Hm)((0,r.qW)(P,[i,n,l,b])),2),j=z[0],W=z[1];O.node().nodeName==="line"&&O.styles((0,u.pi)({x1:I,x2:S,y1:K,y2:N},j)),C.attr(W),O.styles(j)}function E(i,n,l,O,C,T){var P=f((0,h.Ys)(this),i,n,l,O);y(i,n,l,P,this,O,C);var b=(0,u.CR)((0,a.mC)(i.value,O),2),x=b[0],I=b[1];return(0,p.eR)(this,{transform:"translate(".concat(x,", ").concat(I,")")},T)}function e(i,n,l,O){var C=(0,r.i5)(n,l.tickFilter),T=(0,c.zs)(l,"tick");return i.selectAll(v.Ec.tick.class).data(C,function(P){return P.id||P.label}).join(function(P){return P.append("g").attr("className",v.Ec.tick.name).transition(function(b,x){return E.call(this,b,x,C,l,T,!1)})},function(P){return P.transition(function(b,x){return this.removeChildren(),E.call(this,b,x,C,l,T,O.update)})},function(P){return P.transition(function(){var b=this,x=(0,M.Z)(this.childNodes[0],O.exit);return(0,p.Yq)(x,function(){return b.remove()}),x})}).transitions()}},1538:function(it,w,t){"use strict";t.d(w,{u:function(){return f}});var u=t(15767),D=t(20009),p=t(98),M=t(60698),m=t(37331),c=t(16841),h=t(34309),v=t(82750),a=t(36653),r=t(35235);function s(y,E,e){var i=e.titlePosition,n=i===void 0?"lb":i,l=e.titleSpacing,O=(0,p.l)(n),C=y.node().getLocalBounds(),T=(0,u.CR)(C.min,2),P=T[0],b=T[1],x=(0,u.CR)(C.halfExtents,2),I=x[0],S=x[1],K=(0,u.CR)(E.node().getLocalBounds().halfExtents,2),N=K[0],z=K[1],j=(0,u.CR)([P+I,b+S],2),W=j[0],U=j[1],F=(0,u.CR)((0,M.j)(l),4),H=F[0],Y=F[1],V=F[2],X=F[3];if(["start","end"].includes(n)&&e.type==="linear"){var $=e.startPos,rt=e.endPos,ot=(0,u.CR)(n==="start"?[$,rt]:[rt,$],2),tt=ot[0],G=ot[1],nt=(0,m.Fv)([-G[0]+tt[0],-G[1]+tt[1]]),ut=(0,u.CR)((0,m.bA)(nt,H),2),dt=ut[0],et=ut[1];return{x:tt[0]+dt,y:tt[1]+et}}return O.includes("t")&&(U-=S+z+H),O.includes("r")&&(W+=I+N+Y),O.includes("l")&&(W-=I+N+X),O.includes("b")&&(U+=S+z+V),{x:W,y:U}}function o(y,E,e){var i=y.getGeometryBounds().halfExtents,n=i[1]*2;if(E==="vertical"){if(e==="left")return"rotate(-90) translate(0, ".concat(n/2,")");if(e==="right")return"rotate(-90) translate(0, -".concat(n/2,")")}return""}function d(y,E,e,i,n){var l=(0,c.zs)(i,"title"),O=(0,u.CR)((0,c.Hm)(l),2),C=O[0],T=O[1],P=T.transform,b=T.transformOrigin,x=(0,u._T)(T,["transform","transformOrigin"]);E.styles(x);var I=P||o(y.node(),C.direction,C.position);y.styles((0,u.pi)((0,u.pi)({},C),{transformOrigin:b})),(0,h.e)(y.node(),I);var S=s((0,v.Ys)(e._offscreen||e.querySelector(r.Ec.mainGroup.class)),E,i),K=S.x,N=S.y,z=(0,D.eR)(E.node(),{transform:"translate(".concat(K,", ").concat(N,")")},n);return z}function f(y,E,e,i){var n=e.titleText;return y.selectAll(r.Ec.title.class).data([{title:n}].filter(function(l){return!!l.title}),function(l,O){return l.title}).join(function(l){return l.append(function(){return(0,a.S)(n)}).attr("className",r.Ec.title.name).transition(function(){return d((0,v.Ys)(this),y,E,e,i.enter)})},function(l){return l.transition(function(){return d((0,v.Ys)(this),y,E,e,i.update)})},function(l){return l.remove()}).transitions()}},57967:function(it,w,t){"use strict";t.d(w,{Hw:function(){return s},eK:function(){return o},i5:function(){return v},pZ:function(){return r},qW:function(){return c},zw:function(){return a}});var u=t(15767),D=t(84237),p=t(10315),M=t(37331),m=t(17431);function c(d,f){return Object.fromEntries(Object.entries(d).map(function(y){var E=(0,u.CR)(y,2),e=E[0],i=E[1];return[e,(0,p.S)(i,f)]}))}function h(d){if(d.type==="linear"){var f=d.startPos,y=d.endPos;return __spreadArray(__spreadArray([],__read(f),!1),__read(y),!1)}var E=d.startAngle,e=d.endAngle,i=d.center,n=d.radius;return __spreadArray(__spreadArray([E,e],__read(i),!1),[n],!1)}function v(d,f){return f&&(0,D.Z)(f)?d.filter(f):d}function a(d,f){var y=f.startAngle,E=f.endAngle;return(E-y)*d+y}function r(d,f){if(f.type==="linear"){var y=(0,u.CR)(f.startPos,2),E=y[0],e=y[1],i=(0,u.CR)(f.endPos,2),n=i[0],l=i[1],O=(0,u.CR)([n-E,l-e],2),C=O[0],T=O[1];return(0,M.Fv)([C,T])}var P=(0,m.I)(a(d,f));return[-Math.sin(P),Math.cos(P)]}function s(d,f,y){var E=r(d,y);return(0,M.KR)(E,f!=="positive")}function o(d,f){return s(d,f.labelDirection,f)}},68818:function(it,w,t){"use strict";t.d(w,{Z:function(){return c}});var u=t(15767),D=t(89148),p=t(9075),M=t(22067);function m(h,v){return v===void 0&&(v={}),(0,D.Z)(h)?0:typeof h=="number"?h:Math.floor((0,p.Ux)(h,v))}function c(h,v,a,r){if(!(h.length<=0)){var s=v.suffix,o=s===void 0?"...":s,d=v.minLength,f=v.maxLength,y=f===void 0?1/0:f,E=v.step,e=E===void 0?" ":E,i=v.margin,n=i===void 0?[0,0,0,0]:i,l=(0,p.qT)(r.getTextShape(h[0])),O=m(e,l),C=d?m(d,l):O,T=m(y,l);((0,D.Z)(T)||T===1/0)&&(T=Math.max.apply(null,h.map(function(Y){return Y.getBBox().width})));for(var P=h.slice(),b=(0,u.CR)(n,4),x=b[0],I=x===void 0?0:x,S=b[1],K=S===void 0?0:S,N=b[2],z=N===void 0?I:N,j=b[3],W=j===void 0?K:j,U=function(Y){if(P.forEach(function(V){r.ellipsis(r.getTextShape(V),Y,o)}),P=(0,M.x)(h,a,n),P.length<1)return{value:void 0}},F=T;F>C+O;F-=O){var H=U(F);if(typeof H=="object")return H.value}}}},78250:function(it,w,t){"use strict";t.d(w,{Z:function(){return a}});var u=t(15767),D=t(57170),p=t(94055),M=t(32497),m=t(58124),c=t(22067),h={parity:function(r,s){var o=s.seq,d=o===void 0?2:o;return r.filter(function(f,y){return y%d?((0,D.Cp)(f),!1):!0})}},v=function(r){return r.filter(p.r)};function a(r,s,o,d){var f=r.length,y=s.keepHeader,E=s.keepTail;if(!(f<=1||f===2&&y&&E)){var e=h.parity,i=function(K){return K.forEach(d.show),K},n=2,l=r.slice(),O=r.slice(),C=Math.min.apply(Math,(0,u.ev)([1],(0,u.CR)(r.map(function(K){return K.getBBox().width})),!1));if(o.type==="linear"&&((0,m.tz)(o)||(0,m._1)(o))){var T=(0,M._v)(r[0]).left,P=(0,M._v)(r[f-1]).right,b=Math.abs(P-T)||1;n=Math.max(Math.floor(f*C/b),n)}var x,I;for(y&&(x=l.splice(0,1)[0]),E&&(I=l.splice(-1,1)[0],l.reverse()),i(l);n<r.length&&(0,c.x)(v(I?(0,u.ev)((0,u.ev)([I],(0,u.CR)(O),!1),[x],!1):(0,u.ev)([x],(0,u.CR)(O),!1)),o,s==null?void 0:s.margin).length;){if(I&&!x&&n%2===0){var S=l.splice(0,1);S.forEach(d.hide)}else if(I&&x){var S=l.splice(0,1);S.forEach(d.hide)}O=e(i(l),{seq:n}),n++}}}},31839:function(it,w,t){"use strict";t.d(w,{Z:function(){return p}});var u=t(15767),D=t(22067);function p(M,m,c,h){var v,a,r=m.optionalAngles,s=r===void 0?[0,45,90]:r,o=m.margin,d=m.recoverWhenFailed,f=d===void 0?!0:d,y=M.map(function(O){return O.getLocalEulerAngles()}),E=function(){return(0,D.x)(M,c,o).length<1},e=function(O){return M.forEach(function(C,T){var P=Array.isArray(O)?O[T]:O;h.rotate(C,+P)})};try{for(var i=(0,u.XA)(s),n=i.next();!n.done;n=i.next()){var l=n.value;if(e(l),E())return}}catch(O){v={error:O}}finally{try{n&&!n.done&&(a=i.return)&&a.call(i)}finally{if(v)throw v.error}}f&&e(y)}},42781:function(it,w,t){"use strict";t.d(w,{Z:function(){return c}});var u=t(15767),D=t(10315),p=t(58124),M=t(22067);function m(h){var v=h.type,a=h.labelDirection;return v==="linear"&&(0,p.tz)(h)?a==="negative"?"bottom":"top":"middle"}function c(h,v,a,r,s){var o,d=v.maxLines,f=d===void 0?3:d,y=v.recoverWhenFailed,E=y===void 0?!0:y,e=v.margin,i=e===void 0?[0,0,0,0]:e,n=(0,D.S)((o=v.wordWrapWidth)!==null&&o!==void 0?o:50,[s]),l=h.map(function(x){return x.attr("maxLines")||1}),O=Math.min.apply(Math,(0,u.ev)([],(0,u.CR)(l),!1)),C=function(){return(0,M.x)(h,a,i).length<1},T=m(a),P=function(x){return h.forEach(function(I,S){var K=Array.isArray(x)?x[S]:x;r.wrap(I,n,K,T)})};if(!(O>f)){if(a.type==="linear"&&(0,p.tz)(a)){if(P(f),C())return}else for(var b=O;b<=f;b++)if(P(b),C())return;E&&P(l)}}},57187:function(it,w,t){"use strict";t.d(w,{jD:function(){return v}});var u=t(14048),D=t(68818),p=t(78250),M=t(31839),m=t(42781),c=new Map([["hide",p.Z],["rotate",M.Z],["ellipsis",D.Z],["wrap",m.Z]]);function h(a,r,s){return r.labelOverlap.length<1?!1:s==="hide"?!(0,u.X)(a[0]):s==="rotate"?!a.some(function(o){var d;return!!(!((d=o.attr("transform"))===null||d===void 0)&&d.includes("rotate"))}):s==="ellipsis"||s==="wrap"?a.filter(function(o){return o.querySelector("text")}).length>=1:!0}function v(a,r,s,o){var d=r.labelOverlap,f=d===void 0?[]:d;f.length&&f.forEach(function(y){var E=y.type,e=c.get(E);h(a,r,E)&&(e==null||e(a,y,r,o,s))})}},1831:function(it,w,t){"use strict";t.d(w,{Y:function(){return m},z:function(){return c}});var u=t(15767),D=t(9075),p=t(60698),M=t(17431),m=function(){function h(v,a,r,s){this.set(v,a,r,s)}return Object.defineProperty(h.prototype,"left",{get:function(){return this.x1},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"top",{get:function(){return this.y1},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"right",{get:function(){return this.x2},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"bottom",{get:function(){return this.y2},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"width",{get:function(){return this.defined("x2")&&this.defined("x1")?this.x2-this.x1:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"height",{get:function(){return this.defined("y2")&&this.defined("y1")?this.y2-this.y1:void 0},enumerable:!1,configurable:!0}),h.prototype.rotatedPoints=function(v,a,r){var s=this,o=s.x1,d=s.y1,f=s.x2,y=s.y2,E=Math.cos(v),e=Math.sin(v),i=a-a*E+r*e,n=r-a*e-r*E,l=[[E*o-e*y+i,e*o+E*y+n],[E*f-e*y+i,e*f+E*y+n],[E*o-e*d+i,e*o+E*d+n],[E*f-e*d+i,e*f+E*d+n]];return l},h.prototype.set=function(v,a,r,s){return r<v?(this.x2=v,this.x1=r):(this.x1=v,this.x2=r),s<a?(this.y2=a,this.y1=s):(this.y1=a,this.y2=s),this},h.prototype.defined=function(v){return this[v]!==Number.MAX_VALUE&&this[v]!==-Number.MAX_VALUE},h}();function c(h,v){var a=h.getEulerAngles()||0;h.setEulerAngles(0);var r=h.getBounds(),s=(0,u.CR)(r.min,2),o=s[0],d=s[1],f=(0,u.CR)(r.max,2),y=f[0],E=f[1],e=h.getBBox(),i=e.width,n=e.height,l=n,O=0,C=0,T=o,P=d,b=(0,D.U4)(h);if(b){l-=1.5;var x=b.style.textAlign,I=b.style.textBaseline;x==="center"?T=(o+y)/2:(x==="right"||x==="end")&&(T=y),I==="middle"?P=(d+E)/2:I==="bottom"&&(P=E)}var S=(0,u.CR)((0,p.j)(v),4),K=S[0],N=K===void 0?0:K,z=S[1],j=z===void 0?0:z,W=S[2],U=W===void 0?N:W,F=S[3],H=F===void 0?j:F,Y=new m((O+=o)-H,(C+=d)-N,O+i+j,C+l+U);return h.setEulerAngles(a),Y.rotatedPoints((0,M.I)(a),T,P)}},98872:function(it,w,t){"use strict";t.d(w,{XS:function(){return h}});var u=t(1831);function D(v,a){return a[0]<=Math.max(v[0][0],v[1][0])&&a[0]<=Math.min(v[0][0],v[1][0])&&a[1]<=Math.max(v[0][1],v[1][1])&&a[1]<=Math.min(v[0][1],v[1][1])}function p(v,a,r){var s=(a[1]-v[1])*(r[0]-a[0])-(a[0]-v[0])*(r[1]-a[1]);return s===0?0:s<0?2:1}function M(v,a){var r=p(v[0],v[1],a[0]),s=p(v[0],v[1],a[1]),o=p(a[0],a[1],v[0]),d=p(a[0],a[1],v[1]);return!!(r!==s&&o!==d||r===0&&D(v,a[0])||s===0&&D(v,a[1])||o===0&&D(a,v[0])||d===0&&D(a,v[1]))}function m(v,a){var r=v.length;if(r<3)return!1;var s=[a,[9999,a[1]]],o=0,d=0;do{var f=[v[d],v[(d+1)%r]];if(M(f,s)){if(p(f[0],a,f[1])===0)return D(f,a);o++}d=(d+1)%r}while(d!==0);return!!(o&1)}function c(v,a){return a.every(function(r){return m(v,r)})}function h(v,a,r){var s=v.x1,o=v.x2,d=v.y1,f=v.y2,y=[[s,d],[o,d],[o,f],[s,f]],E=(0,u.z)(a,r);return c(y,E)}},37316:function(it,w,t){"use strict";t.d(w,{y:function(){return u}});function u(){for(var D=[],p=0;p<arguments.length;p++)D[p]=arguments[p];var M=function(m){return m==="positive"?-1:1};return D.reduce(function(m,c){return m*M(c)},1)}},98931:function(it,w,t){"use strict";t.d(w,{w:function(){return c}});var u=t(15767),D=t(1831);function p(h,v){var a=(0,u.CR)(h,4),r=a[0],s=a[1],o=a[2],d=a[3],f=(0,u.CR)(v,4),y=f[0],E=f[1],e=f[2],i=f[3],n=o-r,l=d-s,O=e-y,C=i-E,T=n*C-O*l;if(T===0)return!1;var P=T>0,b=r-y,x=s-E,I=n*x-l*b;if(I<0===P)return!1;var S=O*x-C*b;return!(S<0===P||I>T===P||S>T===P)}function M(h,v){var a=[[h[0],h[1],h[2],h[3]],[h[2],h[3],h[4],h[5]],[h[4],h[5],h[6],h[7]],[h[6],h[7],h[0],h[1]]];return a.some(function(r){return p(v,r)})}var m={lineToLine:p,intersectBoxLine:M,getBounds:D.z};function c(h,v,a){var r,s,o=(0,D.z)(h,a).flat(1),d=(0,D.z)(v,a).flat(1),f=[[o[0],o[1],o[2],o[3]],[o[0],o[1],o[4],o[5]],[o[4],o[5],o[6],o[7]],[o[2],o[3],o[6],o[7]]];try{for(var y=(0,u.XA)(f),E=y.next();!E.done;E=y.next()){var e=E.value;if(M(d,e))return!0}}catch(i){r={error:i}}finally{try{E&&!E.done&&(s=y.return)&&s.call(y)}finally{if(r)throw r.error}}return!1}},22067:function(it,w,t){"use strict";t.d(w,{x:function(){return r}});var u=t(15767),D=t(60698),p=t(37331),M=t(57967),m=t(58124),c=t(1831),h=t(98872),v=t(98931);function a(s,o){var d=s.type,f=s.labelDirection,y=s.crossSize;if(!y)return!1;if(d==="arc"){var E=s.center,e=s.radius,i=(0,u.CR)(E,2),n=i[0],l=i[1],O=f==="negative"?0:y,C=-e-O,T=e+O,P=(0,u.CR)((0,D.j)(o),4),b=P[0],x=P[1],I=P[2],S=P[3];return new c.Y(n+C-S,l+C-b,n+T+x,l+T+I)}var K=(0,u.CR)(s.startPos,2),N=K[0],z=K[1],j=(0,u.CR)(s.endPos,2),W=j[0],U=j[1],F=(0,u.CR)((0,m._1)(s)?[-o,0,o,0]:[0,o,0,-o],4),H=F[0],Y=F[1],V=F[2],X=F[3],$=(0,M.eK)(0,s),rt=(0,p.bA)($,y),ot=new c.Y(N,z,W,U);return ot.x1+=X,ot.y1+=H,ot.x2+=Y+rt[0],ot.y2+=V+rt[1],ot}function r(s,o,d){var f,y,E=o.crossPadding,e=new Set,i=null,n=a(o,E),l=function(b){return n?(0,h.XS)(n,b):!0},O=function(b,x){return!b||!b.firstChild?!0:!(0,v.w)(b.firstChild,x.firstChild,(0,D.j)(d))};try{for(var C=(0,u.XA)(s),T=C.next();!T.done;T=C.next()){var P=T.value;l(P)?!i||O(i,P)?i=P:(e.add(i),e.add(P)):e.add(P)}}catch(b){f={error:b}}finally{try{T&&!T.done&&(y=C.return)&&y.call(C)}finally{if(f)throw f.error}}return Array.from(e)}},38561:function(it,w,t){"use strict";t.d(w,{r:function(){return i}});var u=t(15767),D=t(20009),p=t(61638),M=t(3759),m=t(48537),c=t(37331),h=t(10315),v=t(99985),a=t(82750),r=(0,m.A)({lineGroup:"line-group",line:"line",regionGroup:"region-group",region:"region"},"grid");function s(n){return n.reduce(function(l,O,C){return l.push((0,u.ev)([C===0?"M":"L"],(0,u.CR)(O),!1)),l},[])}function o(n,l,O){var C=l.connect,T=C===void 0?"line":C,P=l.center;if(T==="line")return s(n);if(!P)return[];var b=(0,c.TE)(n[0],P),x=O?0:1;return n.reduce(function(I,S,K){return K===0?I.push((0,u.ev)(["M"],(0,u.CR)(S),!1)):I.push((0,u.ev)(["A",b,b,0,0,x],(0,u.CR)(S),!1)),I},[])}function d(n,l,O){return l.type==="surround"?o(n,l,O):s(n)}function f(n,l,O){var C=O.type,T=O.connect,P=O.center,b=O.closed,x=b?[["Z"]]:[],I=(0,u.CR)([d(n,O),d(l.slice().reverse(),O,!0)],2),S=I[0],K=I[1],N=(0,u.CR)([n[0],l.slice(-1)[0]],2),z=N[0],j=N[1],W=function(Y,V){return[S,Y,K,V,x].flat()};if(T==="line"||C==="surround")return W([(0,u.ev)(["L"],(0,u.CR)(j),!1)],[(0,u.ev)(["L"],(0,u.CR)(z),!1)]);if(!P)throw new Error("Arc grid need to specified center");var U=(0,u.CR)([(0,c.TE)(j,P),(0,c.TE)(z,P)],2),F=U[0],H=U[1];return W([(0,u.ev)(["A",F,F,0,0,1],(0,u.CR)(j),!1),(0,u.ev)(["L"],(0,u.CR)(j),!1)],[(0,u.ev)(["A",H,H,0,0,0],(0,u.CR)(z),!1),(0,u.ev)(["L"],(0,u.CR)(z),!1)])}function y(n,l,O,C){var T=O.animate,P=O.isBillboard,b=l.map(function(x,I){return{id:x.id||"grid-line-".concat(I),d:d(x.points,O)}});return n.selectAll(r.line.class).data(b,function(x){return x.id}).join(function(x){return x.append("path").each(function(I,S){var K=(0,h.S)((0,v.M8)((0,u.pi)({d:I.d},C)),[I,S,b]);this.attr((0,u.pi)({class:r.line.name,stroke:"#D9D9D9",lineWidth:1,lineDash:[4,4],isBillboard:P},K))})},function(x){return x.transition(function(I,S){var K=(0,h.S)((0,v.M8)((0,u.pi)({d:I.d},C)),[I,S,b]);return(0,D.eR)(this,K,T.update)})},function(x){return x.transition(function(){var I=this,S=(0,p.Z)(this,T.exit);return(0,D.Yq)(S,function(){return I.remove()}),S})}).transitions()}function E(n,l,O){var C=O.animate,T=O.connect,P=O.areaFill;if(l.length<2||!P||!T)return[];for(var b=Array.isArray(P)?P:[P,"transparent"],x=function(W){return b[W%b.length]},I=[],S=0;S<l.length-1;S++){var K=(0,u.CR)([l[S].points,l[S+1].points],2),N=K[0],z=K[1],j=f(N,z,O);I.push({d:j,fill:x(S)})}return n.selectAll(r.region.class).data(I,function(W,U){return U}).join(function(W){return W.append("path").each(function(U,F){var H=(0,h.S)(U,[U,F,I]);this.attr(H)}).attr("className",r.region.name)},function(W){return W.transition(function(U,F){var H=(0,h.S)(U,[U,F,I]);return(0,D.eR)(this,H,C.update)})},function(W){return W.transition(function(){var U=this,F=(0,p.Z)(this,C.exit);return(0,D.Yq)(F,function(){return U.remove()}),F})}).transitions()}function e(n){var l=n.data,O=l===void 0?[]:l,C=n.closed;return C?O.map(function(T){var P=T.points,b=(0,u.CR)(P,1),x=b[0];return(0,u.pi)((0,u.pi)({},T),{points:(0,u.ev)((0,u.ev)([],(0,u.CR)(P),!1),[x],!1)})}):O}var i=function(n){(0,u.ZT)(l,n);function l(){return n!==null&&n.apply(this,arguments)||this}return l.prototype.render=function(O,C){var T=O.type,P=O.center,b=O.areaFill,x=O.closed,I=(0,u._T)(O,["type","center","areaFill","closed"]),S=e(O),K=(0,a.Ys)(C).maybeAppendByClassName(r.lineGroup,"g"),N=(0,a.Ys)(C).maybeAppendByClassName(r.regionGroup,"g"),z=y(K,S,O,I),j=E(N,S,O);return(0,u.ev)((0,u.ev)([],(0,u.CR)(z),!1),(0,u.CR)(j),!1)},l}(M.w)},61373:function(it,w,t){"use strict";t.d(w,{J:function(){return u}});var u={backgroundFill:"#262626",backgroundLineCap:"round",backgroundLineWidth:1,backgroundStroke:"#333",backgroundZIndex:-1,formatter:function(D){return D.toString()},labelFill:"#fff",labelFontSize:12,labelTextBaseline:"middle",padding:[2,4],position:"right",radius:0,zIndex:999}},15745:function(it,w,t){"use strict";t.d(w,{z:function(){return f}});var u=t(15767),D=t(81614),p=t(3759),M=t(48537),m=t(60698),c=t(58105),h=t(16841),v=t(82750),a=t(36653),r=t(32497),s=t(57170),o=t(61373),d=(0,M.A)({background:"background",labelGroup:"label-group",label:"label"},"indicator"),f=function(y){(0,u.ZT)(E,y);function E(e){var i=y.call(this,e,o.J)||this;return i.point=[0,0],i.group=i.appendChild(new D.ZA({})),i.isMutationObserved=!0,i}return E.prototype.renderBackground=function(){if(this.label){var e=this.attributes,i=e.position,n=e.padding,l=(0,u.CR)((0,m.j)(n),4),O=l[0],C=l[1],T=l[2],P=l[3],b=this.label.node().getLocalBounds(),x=b.min,I=b.max,S=new c.b(x[0]-P,x[1]-O,I[0]+C-x[0]+P,I[1]+T-x[1]+O),K=this.getPath(i,S),N=(0,h.zs)(this.attributes,"background");this.background=(0,v.Ys)(this.group).maybeAppendByClassName(d.background,"path").styles((0,u.pi)((0,u.pi)({},N),{d:K})),this.group.appendChild(this.label.node())}},E.prototype.renderLabel=function(){var e=this.attributes,i=e.formatter,n=e.labelText,l=(0,h.zs)(this.attributes,"label"),O=(0,u.CR)((0,h.Hm)(l),2),C=O[0],T=O[1],P=C.text,b=(0,u._T)(C,["text"]);if(this.label=(0,v.Ys)(this.group).maybeAppendByClassName(d.labelGroup,"g").styles(T),!!n){var x=this.label.maybeAppendByClassName(d.label,function(){return(0,a.S)(i(n))}).style("text",i(n).toString());x.selectAll("text").styles(b)}},E.prototype.adjustLayout=function(){var e=(0,u.CR)(this.point,2),i=e[0],n=e[1],l=this.attributes,O=l.x,C=l.y;this.group.attr("transform","translate(".concat(O-i,", ").concat(C-n,")"))},E.prototype.getPath=function(e,i){var n=this.attributes.radius,l=i.x,O=i.y,C=i.width,T=i.height,P=[["M",l+n,O],["L",l+C-n,O],["A",n,n,0,0,1,l+C,O+n],["L",l+C,O+T-n],["A",n,n,0,0,1,l+C-n,O+T],["L",l+n,O+T],["A",n,n,0,0,1,l,O+T-n],["L",l,O+n],["A",n,n,0,0,1,l+n,O],["Z"]],b={top:4,right:6,bottom:0,left:2},x=b[e],I=this.createCorner([P[x].slice(-2),P[x+1].slice(-2)]);return P.splice.apply(P,(0,u.ev)([x+1,1],(0,u.CR)(I),!1)),P[0][0]="M",P},E.prototype.createCorner=function(e,i){i===void 0&&(i=10);var n=.8,l=r.wE.apply(void 0,(0,u.ev)([],(0,u.CR)(e),!1)),O=(0,u.CR)(e,2),C=(0,u.CR)(O[0],2),T=C[0],P=C[1],b=(0,u.CR)(O[1],2),x=b[0],I=b[1],S=(0,u.CR)(l?[x-T,[T,x]]:[I-P,[P,I]],2),K=S[0],N=(0,u.CR)(S[1],2),z=N[0],j=N[1],W=K/2,U=K/Math.abs(K),F=i*U,H=F/2,Y=F*Math.sqrt(3)/2*n,V=(0,u.CR)([z,z+W-H,z+W,z+W+H,j],5),X=V[0],$=V[1],rt=V[2],ot=V[3],tt=V[4];return l?(this.point=[rt,P-Y],[["L",X,P],["L",$,P],["L",rt,P-Y],["L",ot,P],["L",tt,P]]):(this.point=[T+Y,rt],[["L",T,X],["L",T,$],["L",T+Y,rt],["L",T,ot],["L",T,tt]])},E.prototype.applyVisibility=function(){var e=this.attributes.visibility;e==="hidden"?(0,s.Cp)(this):(0,s.$Z)(this)},E.prototype.bindEvents=function(){this.label.on(D.Dk.BOUNDS_CHANGED,this.renderBackground)},E.prototype.render=function(){this.renderLabel(),this.renderBackground(),this.adjustLayout(),this.applyVisibility()},E}(p.w)},41339:function(it,w,t){"use strict";t.d(w,{W:function(){return a}});var u=t(15767),D=t(3759),p=t(16841),M=t(82750),m=t(58105),c=t(92857),h=t(7271),v=t(71829),a=function(r){(0,u.ZT)(s,r);function s(o){return r.call(this,o,v.bD)||this}return s.prototype.renderTitle=function(o,d,f){var y=this.attributes,E=y.showTitle,e=y.titleText,i=(0,p.zs)(this.attributes,"title"),n=(0,u.CR)((0,p.Hm)(i),2),l=n[0],O=n[1];this.titleGroup=o.maybeAppendByClassName(v.Ec.titleGroup,"g").styles(O);var C=(0,u.pi)((0,u.pi)({width:d,height:f},l),{text:E?e:""});this.title=this.titleGroup.maybeAppendByClassName(v.Ec.title,function(){return new c.D({style:C})}).update(C)},s.prototype.renderItems=function(o,d){var f=d.x,y=d.y,E=d.width,e=d.height,i=(0,p.zs)(this.attributes,"title",!0),n=(0,u.CR)((0,p.Hm)(i),2),l=n[0],O=n[1],C=(0,u.pi)((0,u.pi)({},l),{width:E,height:e,x:0,y:0});this.itemsGroup=o.maybeAppendByClassName(v.Ec.itemsGroup,"g").styles((0,u.pi)((0,u.pi)({},O),{transform:"translate(".concat(f,", ").concat(y,")")}));var T=this;this.itemsGroup.selectAll(v.Ec.items.class).data(["items"]).join(function(P){return P.append(function(){return new h.l({style:C})}).attr("className",v.Ec.items.name).each(function(){T.items=(0,M.Ys)(this)})},function(P){return P.update(C)},function(P){return P.remove()})},s.prototype.adjustLayout=function(){var o=this.attributes.showTitle;if(o){var d=this.title.node().getAvailableSpace(),f=d.x,y=d.y;this.itemsGroup.node().style.transform="translate(".concat(f,", ").concat(y,")")}},Object.defineProperty(s.prototype,"availableSpace",{get:function(){var o=this.attributes,d=o.showTitle,f=o.width,y=o.height;return d?this.title.node().getAvailableSpace():new m.b(0,0,f,y)},enumerable:!1,configurable:!0}),s.prototype.getBBox=function(){var o,d,f=(o=this.title)===null||o===void 0?void 0:o.node(),y=(d=this.items)===null||d===void 0?void 0:d.node();return!f||!y?r.prototype.getBBox.call(this):(0,c.j)(f,y)},s.prototype.render=function(o,d){var f=this.attributes,y=f.width,E=f.height,e=f.x,i=e===void 0?0:e,n=f.y,l=n===void 0?0:n,O=(0,M.Ys)(d);d.style.transform="translate(".concat(i,", ").concat(l,")"),this.renderTitle(O,y,E),this.renderItems(O,this.availableSpace),this.adjustLayout()},s}(D.w)},52302:function(it,w,t){"use strict";t.d(w,{P:function(){return l}});var u=t(15767),D=t(81614),p=t(36179),M=t(30829),m=t(3759),c=t(48537),h=t(60698),v=t(16841),a=t(53395),r=t(82750),s=t(32497),o=t(35140),d=t(36653),f=t(28213),y=t(56998),E=t(27663),e=(0,c.A)({layout:"flex",markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label",valueGroup:"value-group",focusGroup:"focus-group",focus:"focus",value:"value",backgroundGroup:"background-group",background:"background"},"legend-category-item"),i={offset:[0,20],domStyles:{".component-poptip":{opacity:"1",padding:"8px 12px",background:"#fff",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)"},".component-poptip-arrow":{display:"none"},".component-poptip-text":{color:"#000",lineHeight:"20px"}}};function n(O){var C=O.querySelector(e.marker.class);return C?C.style:{}}var l=function(O){(0,u.ZT)(C,O);function C(T){return O.call(this,T,{span:[1,1],marker:function(){return new D.Cd({style:{r:6}})},markerSize:10,labelFill:"#646464",valueFill:"#646464",labelFontSize:12,valueFontSize:12,labelTextBaseline:"middle",valueTextBaseline:"middle"})||this}return Object.defineProperty(C.prototype,"showValue",{get:function(){var T=this.attributes.valueText;return T?typeof T=="string"||typeof T=="number"?T!=="":typeof T=="function"?!0:T.attr("text")!=="":!1},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"actualSpace",{get:function(){var T=this.labelGroup,P=this.valueGroup,b=this.attributes,x=b.markerSize,I=b.focus,S=b.focusMarkerSize,K=T.node().getBBox(),N=K.width,z=K.height,j=P.node().getBBox(),W=j.width,U=j.height,F=I?S!=null?S:12:0;return{markerWidth:x,labelWidth:N,valueWidth:W,focusWidth:F,height:Math.max(x,z,U)}},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"span",{get:function(){var T=this.attributes.span;if(!T)return[1,1];var P=(0,u.CR)((0,h.j)(T),2),b=P[0],x=P[1],I=this.showValue?x:0,S=b+I;return[b/S,I/S]},enumerable:!1,configurable:!0}),C.prototype.setAttribute=function(T,P){O.prototype.setAttribute.call(this,T,P)},Object.defineProperty(C.prototype,"shape",{get:function(){var T,P=this.attributes,b=P.markerSize,x=P.width,I=this.actualSpace,S=I.markerWidth,K=I.focusWidth,N=I.height,z=this.actualSpace,j=z.labelWidth,W=z.valueWidth,U=(0,u.CR)(this.spacing,3),F=U[0],H=U[1],Y=U[2];if(x){var V=x-b-F-H-K-Y,X=(0,u.CR)(this.span,2),$=X[0],rt=X[1];T=(0,u.CR)([$*V,rt*V],2),j=T[0],W=T[1]}var ot=S+j+W+F+H+K+Y;return{width:ot,height:N,markerWidth:S,labelWidth:j,valueWidth:W,focusWidth:K}},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"spacing",{get:function(){var T=this.attributes,P=T.spacing,b=T.focus;if(!P)return[0,0,0];var x=(0,u.CR)((0,h.j)(P),3),I=x[0],S=x[1],K=x[2];return[I,this.showValue?S:0,b?K:0]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"layout",{get:function(){var T=this.shape,P=T.markerWidth,b=T.labelWidth,x=T.valueWidth,I=T.focusWidth,S=T.width,K=T.height,N=(0,u.CR)(this.spacing,3),z=N[0],j=N[1],W=N[2];return{height:K,width:S,markerWidth:P,labelWidth:b,valueWidth:x,focusWidth:I,position:[P/2,P+z,P+b+z+j,P+b+x+z+j+W+I/2]}},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"scaleSize",{get:function(){var T=n(this.markerGroup.node()),P=this.attributes,b=P.markerSize,x=P.markerStrokeWidth,I=x===void 0?T.strokeWidth:x,S=P.markerLineWidth,K=S===void 0?T.lineWidth:S,N=P.markerStroke,z=N===void 0?T.stroke:N,j=+(I||K||(z?1:0))*Math.sqrt(2),W=this.markerGroup.node().getBBox(),U=W.width,F=W.height;return(1-j/Math.max(U,F))*b},enumerable:!1,configurable:!0}),C.prototype.renderMarker=function(T){var P=this,b=this.attributes.marker,x=(0,v.zs)(this.attributes,"marker");this.markerGroup=T.maybeAppendByClassName(e.markerGroup,"g").style("zIndex",0),(0,a.z)(!!b,this.markerGroup,function(){var I,S=P.markerGroup.node(),K=(I=S.childNodes)===null||I===void 0?void 0:I[0],N=typeof b=="string"?new M.J({style:{symbol:b},className:e.marker.name}):b();K?N.nodeName===K.nodeName?K instanceof M.J?K.update((0,u.pi)((0,u.pi)({},x),{symbol:b})):((0,s.DM)(K,N),(0,r.Ys)(K).styles(x)):(K.remove(),(0,r.Ys)(N).attr("className",e.marker.name).styles(x),S.appendChild(N)):(N instanceof M.J||(0,r.Ys)(N).attr("className",e.marker.name).styles(x),S.appendChild(N)),P.markerGroup.node().scale(1/P.markerGroup.node().getScale()[0]);var z=(0,o.b)(P.markerGroup.node(),P.scaleSize,!0);P.markerGroup.node().style._transform="scale(".concat(z,")")})},C.prototype.renderLabel=function(T){var P=(0,v.zs)(this.attributes,"label"),b=P.text,x=(0,u._T)(P,["text"]);this.labelGroup=T.maybeAppendByClassName(e.labelGroup,"g").style("zIndex",0),this.labelGroup.maybeAppendByClassName(e.label,function(){return(0,d.S)(b)}).styles(x)},C.prototype.renderValue=function(T){var P=this,b=(0,v.zs)(this.attributes,"value"),x=b.text,I=(0,u._T)(b,["text"]);this.valueGroup=T.maybeAppendByClassName(e.valueGroup,"g").style("zIndex",0),(0,a.z)(this.showValue,this.valueGroup,function(){P.valueGroup.maybeAppendByClassName(e.value,function(){return(0,d.S)(x)}).styles(I)})},C.prototype.createPoptip=function(){var T=this.attributes.poptip,P=T||{},b=P.render,x=(0,u._T)(P,["render"]),I=new E.Q({style:(0,f.n)(i,x)});return this.poptipGroup=I,I},C.prototype.bindPoptip=function(T){var P=this,b=this.attributes.poptip;if(b){var x=this.poptipGroup||this.createPoptip();x.bind(T,function(){var I=P.attributes,S=I.labelText,K=I.valueText,N=I.markerFill,z=typeof S=="string"?S:S==null?void 0:S.attr("text"),j=typeof K=="string"?K:K==null?void 0:K.attr("text");if(typeof b.render=="function")return{html:b.render({label:z,value:j,color:N})};var W="";return(typeof z=="string"||typeof z=="number")&&(W+='<div class="component-poptip-label">'.concat(z,"</div>")),(typeof j=="string"||typeof j=="number")&&(W+='<div class="component-poptip-value">'.concat(j,"</div>")),{html:W}})}},C.prototype.renderFocus=function(T){var P=this,b=this.attributes,x=b.focus,I=b.focusMarkerSize,S={x:0,y:0,size:I,opacity:.6,symbol:"focus",stroke:"#aaaaaa",lineWidth:1};(0,p.Z)(x)||(this.focusGroup=T.maybeAppendByClassName(e.focusGroup,"g").style("zIndex",0),(0,a.z)(x,this.focusGroup,function(){var K=new M.J({style:(0,u.pi)((0,u.pi)({},S),{symbol:"focus"})}),N=new D.Cd({style:{r:S.size/2,fill:"transparent"}}),z=P.focusGroup.node();z.appendChild(N),z.appendChild(K),K.update({opacity:0}),T.node().addEventListener("pointerenter",function(){K.update({opacity:1})}),T.node().addEventListener("pointerleave",function(){K.update({opacity:0})})}))},C.prototype.renderPoptip=function(T){var P=this,b=this.attributes.poptip;if(b){var x=T.maybeAppendByClassName(e.value,"g").node(),I=T.maybeAppendByClassName(e.label,"g").node();[x,I].forEach(function(S){S&&P.bindPoptip(S)})}},C.prototype.renderBackground=function(T){var P=this.shape,b=P.width,x=P.height,I=(0,v.zs)(this.attributes,"background");this.background=T.maybeAppendByClassName(e.backgroundGroup,"g").style("zIndex",-1),this.background.maybeAppendByClassName(e.background,"rect").styles((0,u.pi)({width:b,height:x},I))},C.prototype.adjustLayout=function(){var T=this.layout,P=T.labelWidth,b=T.valueWidth,x=T.height,I=(0,u.CR)(T.position,4),S=I[0],K=I[1],N=I[2],z=I[3],j=x/2;this.markerGroup.styles({transform:"translate(".concat(S,", ").concat(j,")").concat(this.markerGroup.node().style._transform)}),this.labelGroup.styles({transform:"translate(".concat(K,", ").concat(j,")")}),this.focusGroup&&this.focusGroup.styles({transform:"translate(".concat(z,", ").concat(j,")")}),(0,y.O)(this.labelGroup.select(e.label.class).node(),Math.ceil(P)),this.showValue&&(this.valueGroup.styles({transform:"translate(".concat(N,", ").concat(j,")")}),(0,y.O)(this.valueGroup.select(e.value.class).node(),Math.ceil(b)))},C.prototype.render=function(T,P){var b=(0,r.Ys)(P),x=T.x,I=x===void 0?0:x,S=T.y,K=S===void 0?0:S;b.styles({transform:"translate(".concat(I,", ").concat(K,")")}),this.renderMarker(b),this.renderLabel(b),this.renderValue(b),this.renderBackground(b),this.renderPoptip(b),this.renderFocus(b),this.adjustLayout()},C}(m.w)},7271:function(it,w,t){"use strict";t.d(w,{l:function(){return e}});var u=t(15767),D=t(81614),p=t(52847),M=t(28767),m=t(3759),c=t(48537),h=t(16841),v=t(10315),a=t(82750),r=t(36109),s=t(28213),o=t(46781),d=t(20099),f=t(52302),y=(0,c.A)({page:"item-page",navigator:"navigator",item:"item"},"items"),E=function(i,n,l){return l===void 0&&(l=!0),i?n(i):l},e=function(i){(0,u.ZT)(n,i);function n(l){var O=i.call(this,l,{data:[],gridRow:1/0,gridCol:void 0,padding:0,width:1e3,height:100,rowPadding:0,colPadding:0,layout:"flex",orientation:"horizontal",click:p.Z,mouseenter:p.Z,mouseleave:p.Z})||this;return O.navigatorShape=[0,0],O}return Object.defineProperty(n.prototype,"pageViews",{get:function(){return this.navigator.getContainer()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"grid",{get:function(){var l=this.attributes,O=l.gridRow,C=l.gridCol,T=l.data;if(!O&&!C)throw new Error("gridRow and gridCol can not be set null at the same time");return O&&C?[O,C]:O?[O,T.length]:[T.length,C]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"renderData",{get:function(){var l=this.attributes,O=l.data,C=l.layout,T=l.poptip,P=l.focus,b=l.focusMarkerSize,x=(0,h.zs)(this.attributes,"item"),I=O.map(function(S,K){var N=S.id,z=N===void 0?K:N,j=S.label,W=S.value;return{id:"".concat(z),index:K,style:(0,u.pi)({layout:C,labelText:j,valueText:W,poptip:T,focus:P,focusMarkerSize:b},Object.fromEntries(Object.entries(x).map(function(U){var F=(0,u.CR)(U,2),H=F[0],Y=F[1];return[H,(0,v.S)(Y,[S,K,O])]})))}});return I},enumerable:!1,configurable:!0}),n.prototype.getGridLayout=function(){var l=this,O=this.attributes,C=O.orientation,T=O.width,P=O.rowPadding,b=O.colPadding,x=(0,u.CR)(this.navigatorShape,1),I=x[0],S=(0,u.CR)(this.grid,2),K=S[0],N=S[1],z=N*K,j=0;return this.pageViews.children.map(function(W,U){var F,H,Y=Math.floor(U/z),V=U%z,X=l.ifHorizontal(N,K),$=[Math.floor(V/X),V%X];C==="vertical"&&$.reverse();var rt=(0,u.CR)($,2),ot=rt[0],tt=rt[1],G=(T-I-(N-1)*b)/N,nt=W.getBBox().height,ut=(0,u.CR)([0,0],2),dt=ut[0],et=ut[1];return C==="horizontal"?(F=(0,u.CR)([j,ot*(nt+P)],2),dt=F[0],et=F[1],j=tt===N-1?0:j+G+b):(H=(0,u.CR)([tt*(G+b),j],2),dt=H[0],et=H[1],j=ot===K-1?0:j+nt+P),{page:Y,index:U,row:ot,col:tt,pageIndex:V,width:G,height:nt,x:dt,y:et}})},n.prototype.getFlexLayout=function(){var l=this.attributes,O=l.width,C=l.height,T=l.rowPadding,P=l.colPadding,b=(0,u.CR)(this.navigatorShape,1),x=b[0],I=(0,u.CR)(this.grid,2),S=I[0],K=I[1],N=(0,u.CR)([O-x,C],2),z=N[0],j=N[1],W=(0,u.CR)([0,0,0,0,0,0,0,0],8),U=W[0],F=W[1],H=W[2],Y=W[3],V=W[4],X=W[5],$=W[6],rt=W[7];return this.pageViews.children.map(function(ot,tt){var G,nt,ut,dt,et=ot.getBBox(),gt=et.width,Et=et.height,lt=$===0?0:P,mt=$+lt+gt;if(mt<=z&&E(V,function(B){return B<K}))return G=(0,u.CR)([$+lt,rt,mt],3),U=G[0],F=G[1],$=G[2],{width:gt,height:Et,x:U,y:F,page:H,index:tt,pageIndex:Y++,row:X,col:V++};nt=(0,u.CR)([X+1,0,0,rt+Et+T],4),X=nt[0],V=nt[1],$=nt[2],rt=nt[3];var Tt=rt+Et;return Tt<=j&&E(X,function(B){return B<S})?(ut=(0,u.CR)([$,rt,gt],3),U=ut[0],F=ut[1],$=ut[2],{width:gt,height:Et,x:U,y:F,page:H,index:tt,pageIndex:Y++,row:X,col:V++}):(dt=(0,u.CR)([0,0,gt,0,H+1,0,0,0],8),U=dt[0],F=dt[1],$=dt[2],rt=dt[3],H=dt[4],Y=dt[5],X=dt[6],V=dt[7],{width:gt,height:Et,x:U,y:F,page:H,index:tt,pageIndex:Y++,row:X,col:V++})})},Object.defineProperty(n.prototype,"itemsLayout",{get:function(){this.navigatorShape=[0,0];var l=this.attributes.layout==="grid"?this.getGridLayout:this.getFlexLayout,O=l.call(this);return O.slice(-1)[0].page>0?(this.navigatorShape=[55,0],l.call(this)):O},enumerable:!1,configurable:!0}),n.prototype.ifHorizontal=function(l,O){var C=this.attributes.orientation;return(0,d._h)(C,l,O)},n.prototype.flattenPage=function(l){l.querySelectorAll(y.item.class).forEach(function(O){l.appendChild(O)}),l.querySelectorAll(y.page.class).forEach(function(O){var C=l.removeChild(O);C.destroy()})},n.prototype.renderItems=function(l){var O=this.attributes,C=O.click,T=O.mouseenter,P=O.mouseleave;this.flattenPage(l);var b=this.dispatchCustomEvent.bind(this);(0,a.Ys)(l).selectAll(y.item.class).data(this.renderData,function(x){return x.id}).join(function(x){return x.append(function(I){var S=I.style;return new f.P({style:S})}).attr("className",y.item.name).on("click",function(){C==null||C(this),b("itemClick",{item:this})}).on("pointerenter",function(){T==null||T(this),b("itemMouseenter",{item:this})}).on("pointerleave",function(){P==null||P(this),b("itemMouseleave",{item:this})})},function(x){return x.each(function(I){var S=I.style;this.update(S)})},function(x){return x.remove()})},n.prototype.relayoutNavigator=function(){var l,O=this.attributes,C=O.layout,T=O.width,P=((l=this.pageViews.children[0])===null||l===void 0?void 0:l.getBBox().height)||0,b=(0,u.CR)(this.navigatorShape,2),x=b[0],I=b[1];this.navigator.update(C==="grid"?{pageWidth:T-x,pageHeight:P-I}:{})},n.prototype.adjustLayout=function(){var l=this,O=Object.entries((0,r.v)(this.itemsLayout,"page")).map(function(T){var P=(0,u.CR)(T,2),b=P[0],x=P[1];return{page:b,layouts:x}}),C=(0,u.ev)([],(0,u.CR)(this.navigator.getContainer().children),!1);O.forEach(function(T){var P=T.layouts,b=l.pageViews.appendChild(new D.ZA({className:y.page.name}));P.forEach(function(x){var I=x.x,S=x.y,K=x.index,N=x.width,z=x.height,j=C[K];b.appendChild(j),(0,M.Z)(j,"__layout__",x),j.update({x:I,y:S,width:N,height:z})})}),this.relayoutNavigator()},n.prototype.renderNavigator=function(l){var O=this.attributes.orientation,C=(0,h.zs)(this.attributes,"nav"),T=(0,s.n)({orientation:O},C),P=this;return l.selectAll(y.navigator.class).data(["nav"]).join(function(b){return b.append(function(){return new o.C({style:T})}).attr("className",y.navigator.name).each(function(){P.navigator=this})},function(b){return b.each(function(){this.update(T)})},function(b){return b.remove()}),this.navigator},n.prototype.getBBox=function(){return this.navigator.getBBox()},n.prototype.render=function(l,O){var C=this.attributes.data;if(!(!C||C.length===0)){var T=this.renderNavigator((0,a.Ys)(O));this.renderItems(T.getContainer()),this.adjustLayout()}},n.prototype.dispatchCustomEvent=function(l,O){var C=new D.Aw(l,{detail:O});this.dispatchEvent(C)},n}(m.w)},71829:function(it,w,t){"use strict";t.d(w,{Ec:function(){return r},bD:function(){return c}});var u=t(28213),D=t(16841),p=t(48537),M=t(97497),m={showTitle:!0,padding:0,orientation:"horizontal",backgroundFill:"transparent",titleText:"",titleSpacing:4,titlePosition:"top-left",titleFill:"#2C3542",titleFontWeight:"bold",titleFontFamily:"sans-serif",titleFontSize:12},c=(0,u.n)({},m,{}),h=(0,u.n)({},m,(0,D.dq)(M.x,"handle"),{color:["#d0e3fa","#acc7f6","#8daaf2","#6d8eea","#4d73cd","#325bb1","#5a3e75","#8c3c79","#e23455","#e7655b"],indicatorBackgroundFill:"#262626",indicatorLabelFill:"white",indicatorLabelFontSize:12,indicatorVisibility:"hidden",labelAlign:"value",labelDirection:"positive",labelSpacing:5,showHandle:!0,showIndicator:!0,showLabel:!0,slidable:!0,titleText:"",type:"continuous"}),v=.01,a=.5,r=(0,p.A)({title:"title",titleGroup:"title-group",items:"items",itemsGroup:"items-group",contentGroup:"content-group",ribbonGroup:"ribbon-group",ribbon:"ribbon",handlesGroup:"handles-group",handle:"handle",startHandle:"start-handle",endHandle:"end-handle",labelGroup:"label-group",label:"label",indicator:"indicator"},"legend")},97497:function(it,w,t){"use strict";t.d(w,{x:function(){return r}});var u=t(15767),D=t(3759),p=t(48537),M=t(82750),m=t(53395),c=t(16841),h=t(30829),v=t(20099),a=(0,p.A)({markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label"},"handle"),r={showLabel:!0,formatter:function(o){return o.toString()},markerSize:25,markerStroke:"#c5c5c5",markerFill:"#fff",markerLineWidth:1,labelFontSize:12,labelFill:"#c5c5c5",labelText:"",orientation:"vertical",spacing:0},s=function(o){(0,u.ZT)(d,o);function d(f){return o.call(this,f,r)||this}return d.prototype.render=function(f,y){var E=(0,M.Ys)(y).maybeAppendByClassName(a.markerGroup,"g");this.renderMarker(E);var e=(0,M.Ys)(y).maybeAppendByClassName(a.labelGroup,"g");this.renderLabel(e)},d.prototype.renderMarker=function(f){var y=this,E=this.attributes,e=E.orientation,i=E.markerSymbol,n=i===void 0?(0,v._h)(e,"horizontalHandle","verticalHandle"):i;(0,m.z)(!!n,f,function(l){var O=(0,c.zs)(y.attributes,"marker"),C=(0,u.pi)({symbol:n},O);y.marker=l.maybeAppendByClassName(a.marker,function(){return new h.J({style:C})}).update(C)})},d.prototype.renderLabel=function(f){var y=this,E=this.attributes,e=E.showLabel,i=E.orientation,n=E.spacing,l=n===void 0?0:n,O=E.formatter;(0,m.z)(e,f,function(C){var T,P=(0,c.zs)(y.attributes,"label"),b=P.text,x=(0,u._T)(P,["text"]),I=((T=C.select(a.marker.class))===null||T===void 0?void 0:T.node().getBBox())||{},S=I.width,K=S===void 0?0:S,N=I.height,z=N===void 0?0:N,j=(0,u.CR)((0,v._h)(i,[0,z+l,"center","top"],[K+l,0,"start","middle"]),4),W=j[0],U=j[1],F=j[2],H=j[3];C.maybeAppendByClassName(a.label,"text").styles((0,u.pi)((0,u.pi)({},x),{x:W,y:U,text:O(b).toString(),textAlign:F,textBaseline:H}))})},d}(D.w)},92857:function(it,w,t){"use strict";t.d(w,{D:function(){return f},j:function(){return s}});var u=t(15767),D=t(3759),p=t(48537),M=t(98),m=t(60698),c=t(58105),h=t(16841),v=t(53395),a=t(82750),r=(0,p.A)({text:"text"},"title");function s(y,E){var e=y.attributes,i=e.position,n=e.spacing,l=e.inset,O=e.text,C=y.getBBox(),T=E.getBBox(),P=(0,M.l)(i),b=(0,u.CR)((0,m.j)(O?n:0),4),x=b[0],I=b[1],S=b[2],K=b[3],N=(0,u.CR)((0,m.j)(l),4),z=N[0],j=N[1],W=N[2],U=N[3],F=(0,u.CR)([K+I,x+S],2),H=F[0],Y=F[1],V=(0,u.CR)([U+j,z+W],2),X=V[0],$=V[1];if(P[0]==="l")return new c.b(C.x,C.y,T.width+C.width+H+X,Math.max(T.height+$,C.height));if(P[0]==="t")return new c.b(C.x,C.y,Math.max(T.width+X,C.width),T.height+C.height+Y+$);var rt=(0,u.CR)([E.attributes.width||T.width,E.attributes.height||T.height],2),ot=rt[0],tt=rt[1];return new c.b(T.x,T.y,ot+C.width+H+X,tt+C.height+Y+$)}function o(y,E){var e=Object.entries(E).reduce(function(i,n){var l=(0,u.CR)(n,2),O=l[0],C=l[1],T=y.node().attr(O);return T||(i[O]=C),i},{});y.styles(e)}function d(y){var E,e,i,n,l=y,O=l.width,C=l.height,T=l.position,P=(0,u.CR)([+O/2,+C/2],2),b=P[0],x=P[1],I=(0,u.CR)([+b,+x,"center","middle"],4),S=I[0],K=I[1],N=I[2],z=I[3],j=(0,M.l)(T);return j.includes("l")&&(E=(0,u.CR)([0,"start"],2),S=E[0],N=E[1]),j.includes("r")&&(e=(0,u.CR)([+O,"end"],2),S=e[0],N=e[1]),j.includes("t")&&(i=(0,u.CR)([0,"top"],2),K=i[0],z=i[1]),j.includes("b")&&(n=(0,u.CR)([+C,"bottom"],2),K=n[0],z=n[1]),{x:S,y:K,textAlign:N,textBaseline:z}}var f=function(y){(0,u.ZT)(E,y);function E(e){return y.call(this,e,{text:"",width:0,height:0,fill:"#4a505a",fontWeight:"bold",fontSize:12,fontFamily:"sans-serif",inset:0,spacing:0,position:"top-left"})||this}return E.prototype.getAvailableSpace=function(){var e=this,i=this.attributes,n=i.width,l=i.height,O=i.position,C=i.spacing,T=i.inset,P=e.querySelector(r.text.class);if(!P)return new c.b(0,0,+n,+l);var b=P.getBBox(),x=b.width,I=b.height,S=(0,u.CR)((0,m.j)(C),4),K=S[0],N=S[1],z=S[2],j=S[3],W=(0,u.CR)([0,0,+n,+l],4),U=W[0],F=W[1],H=W[2],Y=W[3],V=(0,M.l)(O);if(V.includes("i"))return new c.b(U,F,H,Y);V.forEach(function(dt,et){var gt,Et,lt,mt;dt==="t"&&(gt=(0,u.CR)(et===0?[I+z,+l-I-z]:[0,+l],2),F=gt[0],Y=gt[1]),dt==="r"&&(Et=(0,u.CR)([+n-x-j],1),H=Et[0]),dt==="b"&&(lt=(0,u.CR)([+l-I-K],1),Y=lt[0]),dt==="l"&&(mt=(0,u.CR)(et===0?[x+N,+n-x-N]:[0,+n],2),U=mt[0],H=mt[1])});var X=(0,u.CR)((0,m.j)(T),4),$=X[0],rt=X[1],ot=X[2],tt=X[3],G=(0,u.CR)([tt+rt,$+ot],2),nt=G[0],ut=G[1];return new c.b(U+tt,F+$,H-nt,Y-ut)},E.prototype.getBBox=function(){return this.title?this.title.getBBox():new c.b(0,0,0,0)},E.prototype.render=function(e,i){var n=this,l=e.width,O=e.height,C=e.position,T=e.spacing,P=(0,u._T)(e,["width","height","position","spacing"]),b=(0,u.CR)((0,h.Hm)(P),1),x=b[0],I=d(e),S=I.x,K=I.y,N=I.textAlign,z=I.textBaseline;(0,v.z)(!!P.text,(0,a.Ys)(i),function(j){n.title=j.maybeAppendByClassName(r.text,"text").styles(x).call(o,{x:S,y:K,textAlign:N,textBaseline:z}).node()})},E}(D.w)},20099:function(it,w,t){"use strict";t.d(w,{_h:function(){return r}});var u=t(30829);function D(s,o,d){var f=Math.round((s-d)/o);return d+f*o}function p(s,o,d){var f=1.4,y=f*d;return[["M",s-d,o-y],["L",s+d,o-y],["L",s+d,o+y],["L",s-d,o+y],["Z"]]}var M=1.4,m=.4;function c(s,o,d){var f=d,y=f*M,E=f/2,e=f/6,i=s+y*m;return[["M",s,o],["L",i,o+E],["L",s+y,o+E],["L",s+y,o-E],["L",i,o-E],["Z"],["M",i,o+e],["L",s+y-2,o+e],["M",i,o-e],["L",s+y-2,o-e]]}function h(s,o,d){var f=d,y=f*M,E=f/2,e=f/6,i=o+y*m;return[["M",s,o],["L",s-E,i],["L",s-E,o+y],["L",s+E,o+y],["L",s+E,i],["Z"],["M",s-e,i],["L",s-e,o+y-2],["M",s+e,i],["L",s+e,o+y-2]]}u.J.registerSymbol("hiddenHandle",p),u.J.registerSymbol("verticalHandle",c),u.J.registerSymbol("horizontalHandle",h);var v=function(s,o,d){return s===void 0&&(s="horizontal"),s==="horizontal"?o:d};function a(s,o,d,f){var y;f===void 0&&(f=4);var E=__read(s,2),e=E[0],i=E[1],n=__read(o,2),l=n[0],O=n[1],C=__read(d,2),T=C[0],P=C[1],b=__read([l,O],2),x=b[0],I=b[1],S=I-x;return x>I&&(y=__read([I,x],2),x=y[0],I=y[1]),S>i-e?[e,i]:x<e?T===e&&P===I?[e,I]:[e,S+e]:I>i?P===i&&T===x?[x,i]:[i-S,i]:[x,I]}function r(s,o,d){return s===void 0&&(s="horizontal"),s==="horizontal"?o:d}},30829:function(it,w,t){"use strict";t.d(w,{J:function(){return a}});var u=t(15767),D=t(84237),p=t(3759),M=t(53395),m=t(82750),c=t(47786),h=t(12245);function v(r){var s=(0,h.z)(r);return["base64","url","image"].includes(s)?"image":r&&s==="symbol"?"path":null}var a=function(r){(0,u.ZT)(s,r);function s(){return r!==null&&r.apply(this,arguments)||this}return s.prototype.render=function(o,d){var f=o.x,y=f===void 0?0:f,E=o.y,e=E===void 0?0:E,i=this.getSubShapeStyle(o),n=i.symbol,l=i.size,O=l===void 0?16:l,C=(0,u._T)(i,["symbol","size"]),T=v(n);(0,M.z)(!!T,(0,m.Ys)(d),function(P){P.maybeAppendByClassName("marker",T).attr("className","marker ".concat(T,"-marker")).call(function(b){if(T==="image"){var x=O*2;b.styles({img:n,width:x,height:x,x:y-O,y:e-O})}else{var x=O/2,I=(0,D.Z)(n)?n:s.getSymbol(n);b.styles((0,u.pi)({d:I==null?void 0:I(y,e,x)},C))}})})},s.MARKER_SYMBOL_MAP=new Map,s.registerSymbol=function(o,d){s.MARKER_SYMBOL_MAP.set(o,d)},s.getSymbol=function(o){return s.MARKER_SYMBOL_MAP.get(o)},s.getSymbols=function(){return Array.from(s.MARKER_SYMBOL_MAP.keys())},s}(p.w);a.registerSymbol("cross",c.kC),a.registerSymbol("hyphen",c.Zb),a.registerSymbol("line",c.jv),a.registerSymbol("plus",c.PD),a.registerSymbol("tick",c.Ky),a.registerSymbol("circle",c.Xw),a.registerSymbol("point",c.xm),a.registerSymbol("bowtie",c.XF),a.registerSymbol("hexagon",c.bL),a.registerSymbol("square",c.h6),a.registerSymbol("diamond",c.tf),a.registerSymbol("triangle",c.cP),a.registerSymbol("triangle-down",c.MG),a.registerSymbol("line",c.jv),a.registerSymbol("dot",c.AK),a.registerSymbol("dash",c.P2),a.registerSymbol("smooth",c.ip),a.registerSymbol("hv",c.hv),a.registerSymbol("vh",c.vh),a.registerSymbol("hvh",c.t7),a.registerSymbol("vhv",c.sN),a.registerSymbol("focus",c.T_)},47786:function(it,w,t){"use strict";t.d(w,{AK:function(){return f},Ky:function(){return s},LI:function(){return O},MG:function(){return c},P2:function(){return y},PD:function(){return o},T_:function(){return C},XF:function(){return v},Xw:function(){return u},Zb:function(){return d},bL:function(){return h},cP:function(){return m},h6:function(){return p},hv:function(){return e},ip:function(){return E},jv:function(){return a},kC:function(){return r},sN:function(){return l},t7:function(){return n},tf:function(){return M},vh:function(){return i},xm:function(){return D}});var u=function(T,P,b){return[["M",T-b,P],["A",b,b,0,1,0,T+b,P],["A",b,b,0,1,0,T-b,P],["Z"]]},D=u,p=function(T,P,b){return[["M",T-b,P-b],["L",T+b,P-b],["L",T+b,P+b],["L",T-b,P+b],["Z"]]},M=function(T,P,b){return[["M",T-b,P],["L",T,P-b],["L",T+b,P],["L",T,P+b],["Z"]]},m=function(T,P,b){var x=b*Math.sin(.3333333333333333*Math.PI);return[["M",T-b,P+x],["L",T,P-x],["L",T+b,P+x],["Z"]]},c=function(T,P,b){var x=b*Math.sin(.3333333333333333*Math.PI);return[["M",T-b,P-x],["L",T+b,P-x],["L",T,P+x],["Z"]]},h=function(T,P,b){var x=b/2*Math.sqrt(3);return[["M",T,P-b],["L",T+x,P-b/2],["L",T+x,P+b/2],["L",T,P+b],["L",T-x,P+b/2],["L",T-x,P-b/2],["Z"]]},v=function(T,P,b){var x=b-1.5;return[["M",T-b,P-x],["L",T+b,P+x],["L",T+b,P-x],["L",T-b,P+x],["Z"]]},a=function(T,P,b){return[["M",T,P+b],["L",T,P-b]]},r=function(T,P,b){return[["M",T-b,P-b],["L",T+b,P+b],["M",T+b,P-b],["L",T-b,P+b]]},s=function(T,P,b){return[["M",T-b/2,P-b],["L",T+b/2,P-b],["M",T,P-b],["L",T,P+b],["M",T-b/2,P+b],["L",T+b/2,P+b]]},o=function(T,P,b){return[["M",T-b,P],["L",T+b,P],["M",T,P-b],["L",T,P+b]]},d=function(T,P,b){return[["M",T-b,P],["L",T+b,P]]},f=function(T,P,b){return[["M",T-b,P],["L",T+b,P]]},y=f,E=function(T,P,b){return[["M",T-b,P],["A",b/2,b/2,0,1,1,T,P],["A",b/2,b/2,0,1,0,T+b,P]]},e=function(T,P,b){return[["M",T-b-1,P-2.5],["L",T,P-2.5],["L",T,P+2.5],["L",T+b+1,P+2.5]]},i=function(T,P,b){return[["M",T-b-1,P+2.5],["L",T,P+2.5],["L",T,P-2.5],["L",T+b+1,P-2.5]]},n=function(T,P,b){return[["M",T-(b+1),P+2.5],["L",T-b/2,P+2.5],["L",T-b/2,P-2.5],["L",T+b/2,P-2.5],["L",T+b/2,P+2.5],["L",T+b+1,P+2.5]]};function l(T,P){return[["M",T-5,P+2.5],["L",T-5,P],["L",T,P],["L",T,P-3],["L",T,P+3],["L",T+6.5,P+3]]}var O=function(T,P,b){return[["M",T-b,P-b],["L",T+b,P],["L",T-b,P+b],["Z"]]},C=function(T,P,b){var x=b,I=b*.2,S=b*.7;return[["M",T-x,P],["A",x,x,0,1,0,T+x,P],["A",x,x,0,1,0,T-x,P],["Z"],["M",T-S,P],["L",T-I,P],["M",T+I,P],["L",T+S,P],["M",T,P-S],["L",T,P-I],["M",T,P+I],["L",T,P+S]]}},12245:function(it,w,t){"use strict";t.d(w,{z:function(){return M}});var u=t(70373),D=t(84237),p=t(27412);function M(m){var c="default";if((0,u.Z)(m)&&m instanceof Image)c="image";else if((0,D.Z)(m))c="symbol";else if((0,p.Z)(m)){var h=new RegExp("data:(image|text)");m.match(h)?c="base64":/^(https?:\/\/(([a-zA-Z0-9]+-?)+[a-zA-Z0-9]+\.)+[a-zA-Z]+)(:\d+)?(\/.*)?(\?.*)?(#.*)?$/.test(m)?c="url":c="symbol"}return c}},46781:function(it,w,t){"use strict";t.d(w,{C:function(){return E}});var u=t(15767),D=t(81614),p=t(15378),M=t(83633),m=t(20009),c=t(3759),h=t(48537),v=t(52862),a=t(58105),r=t(57170),s=t(16841),o=t(35140),d=t(82750),f=t(47786),y=(0,h.A)({prevBtnGroup:"prev-btn-group",prevBtn:"prev-btn",nextBtnGroup:"next-btn-group",nextBtn:"next-btn",pageInfoGroup:"page-info-group",pageInfo:"page-info",playWindow:"play-window",contentGroup:"content-group",controller:"controller",clipPath:"clip-path"},"navigator"),E=function(e){(0,u.ZT)(i,e);function i(n){var l=e.call(this,n,{x:0,y:0,animate:{easing:"linear",duration:200,fill:"both"},buttonCursor:"pointer",buttonFill:"black",buttonD:(0,f.LI)(0,0,6),buttonSize:12,controllerPadding:5,controllerSpacing:5,formatter:function(O,C){return"".concat(O,"/").concat(C)},defaultPage:0,loop:!1,orientation:"horizontal",pageNumFill:"black",pageNumFontSize:12,pageNumTextAlign:"start",pageNumTextBaseline:"middle"})||this;return l.playState="idle",l.contentGroup=l.appendChild(new D.ZA({class:y.contentGroup.name})),l.playWindow=l.contentGroup.appendChild(new D.ZA({class:y.playWindow.name})),l.innerCurrPage=l.defaultPage,l}return Object.defineProperty(i.prototype,"defaultPage",{get:function(){var n=this.attributes.defaultPage;return(0,p.Z)(n,0,Math.max(this.pageViews.length-1,0))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"pageViews",{get:function(){return this.playWindow.children},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"controllerShape",{get:function(){return this.totalPages>1?{width:55,height:0}:{width:0,height:0}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"pageShape",{get:function(){var n=this.pageViews,l=(0,u.CR)((0,v.p)(n.map(function(S){var K=S.getBBox(),N=K.width,z=K.height;return[N,z]})).map(function(S){return Math.max.apply(Math,(0,u.ev)([],(0,u.CR)(S),!1))}),2),O=l[0],C=l[1],T=this.attributes,P=T.pageWidth,b=P===void 0?O:P,x=T.pageHeight,I=x===void 0?C:x;return{pageWidth:b,pageHeight:I}},enumerable:!1,configurable:!0}),i.prototype.getContainer=function(){return this.playWindow},Object.defineProperty(i.prototype,"totalPages",{get:function(){return this.pageViews.length},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"currPage",{get:function(){return this.innerCurrPage},enumerable:!1,configurable:!0}),i.prototype.getBBox=function(){var n=e.prototype.getBBox.call(this),l=n.x,O=n.y,C=this.controllerShape,T=this.pageShape,P=T.pageWidth,b=T.pageHeight;return new a.b(l,O,P+C.width,b)},i.prototype.goTo=function(n){var l=this,O=this.attributes.animate,C=this,T=C.currPage,P=C.playState,b=C.playWindow,x=C.pageViews;if(P!=="idle"||n<0||x.length<=0||n>=x.length)return null;x[T].setLocalPosition(0,0),this.prepareFollowingPage(n);var I=(0,u.CR)(this.getFollowingPageDiff(n),2),S=I[0],K=I[1];this.playState="running";var N=(0,m.jt)(b,[{transform:"translate(0, 0)"},{transform:"translate(".concat(-S,", ").concat(-K,")")}],O);return(0,m.Yq)(N,function(){l.innerCurrPage=n,l.playState="idle",l.setVisiblePages([n]),l.updatePageInfo()}),N},i.prototype.prev=function(){var n=this.attributes.loop,l=this.pageViews.length,O=this.currPage;if(!n&&O<=0)return null;var C=n?(O-1+l)%l:(0,p.Z)(O-1,0,l);return this.goTo(C)},i.prototype.next=function(){var n=this.attributes.loop,l=this.pageViews.length,O=this.currPage;if(!n&&O>=l-1)return null;var C=n?(O+1)%l:(0,p.Z)(O+1,0,l);return this.goTo(C)},i.prototype.renderClipPath=function(n){var l=this.pageShape,O=l.pageWidth,C=l.pageHeight;if(!O||!C){this.contentGroup.style.clipPath=void 0;return}this.clipPath=n.maybeAppendByClassName(y.clipPath,"rect").styles({width:O,height:C}),this.contentGroup.attr("clipPath",this.clipPath.node())},i.prototype.setVisiblePages=function(n){this.playWindow.children.forEach(function(l,O){n.includes(O)?(0,r.$Z)(l):(0,r.Cp)(l)})},i.prototype.adjustControllerLayout=function(){var n=this,l=n.prevBtnGroup,O=n.nextBtnGroup,C=n.pageInfoGroup,T=this.attributes,P=T.orientation,b=T.controllerPadding,x=C.getBBox(),I=x.width,S=x.height,K=(0,u.CR)(P==="horizontal"?[-180,0]:[-90,90],2),N=K[0],z=K[1];l.setLocalEulerAngles(N),O.setLocalEulerAngles(z);var j=l.getBBox(),W=j.width,U=j.height,F=O.getBBox(),H=F.width,Y=F.height,V=Math.max(W,I,H),X=P==="horizontal"?{offset:[[0,0],[W/2+b,0],[W+I+b*2,0]],textAlign:"start"}:{offset:[[V/2,-U-b],[V/2,0],[V/2,Y+b]],textAlign:"center"},$=(0,u.CR)(X.offset,3),rt=(0,u.CR)($[0],2),ot=rt[0],tt=rt[1],G=(0,u.CR)($[1],2),nt=G[0],ut=G[1],dt=(0,u.CR)($[2],2),et=dt[0],gt=dt[1],Et=X.textAlign,lt=C.querySelector("text");lt&&(lt.style.textAlign=Et),l.setLocalPosition(ot,tt),C.setLocalPosition(nt,ut),O.setLocalPosition(et,gt)},i.prototype.updatePageInfo=function(){var n,l=this,O=l.currPage,C=l.pageViews,T=l.attributes.formatter;C.length<2||((n=this.pageInfoGroup.querySelector(y.pageInfo.class))===null||n===void 0||n.attr("text",T(O+1,C.length)),this.adjustControllerLayout())},i.prototype.getFollowingPageDiff=function(n){var l=this.currPage;if(l===n)return[0,0];var O=this.attributes.orientation,C=this.pageShape,T=C.pageWidth,P=C.pageHeight,b=n<l?-1:1;return O==="horizontal"?[b*T,0]:[0,b*P]},i.prototype.prepareFollowingPage=function(n){var l=this,O=l.currPage,C=l.pageViews;if(this.setVisiblePages([n,O]),n!==O){var T=(0,u.CR)(this.getFollowingPageDiff(n),2),P=T[0],b=T[1];C[n].setLocalPosition(P,b)}},i.prototype.renderController=function(n){var l=this,O=this.attributes.controllerSpacing,C=this.pageShape,T=C.pageWidth,P=C.pageHeight,b=this.pageViews.length>=2,x=n.maybeAppendByClassName(y.controller,"g");if((0,r.WD)(x.node(),b),!!b){var I=(0,s.zs)(this.attributes,"button"),S=(0,s.zs)(this.attributes,"pageNum"),K=(0,u.CR)((0,s.Hm)(I),2),N=K[0],z=K[1],j=N.size,W=(0,u._T)(N,["size"]),U=!x.select(y.prevBtnGroup.class).node(),F=x.maybeAppendByClassName(y.prevBtnGroup,"g").styles(z);this.prevBtnGroup=F.node();var H=F.maybeAppendByClassName(y.prevBtn,"path"),Y=x.maybeAppendByClassName(y.nextBtnGroup,"g").styles(z);this.nextBtnGroup=Y.node();var V=Y.maybeAppendByClassName(y.nextBtn,"path");[H,V].forEach(function($){$.styles((0,u.pi)((0,u.pi)({},W),{transformOrigin:"center"})),(0,o.b)($.node(),j,!0)});var X=x.maybeAppendByClassName(y.pageInfoGroup,"g");this.pageInfoGroup=X.node(),X.maybeAppendByClassName(y.pageInfo,"text").styles(S),this.updatePageInfo(),x.node().setLocalPosition(T+O,P/2),U&&(this.prevBtnGroup.addEventListener("click",function(){l.prev()}),this.nextBtnGroup.addEventListener("click",function(){l.next()}))}},i.prototype.render=function(n,l){var O=n.x,C=O===void 0?0:O,T=n.y,P=T===void 0?0:T;this.attr("transform","translate(".concat(C,", ").concat(P,")"));var b=(0,d.Ys)(l);this.renderClipPath(b),this.renderController(b),this.setVisiblePages([this.defaultPage]),this.goTo(this.defaultPage)},i.prototype.bindEvents=function(){var n=this,l=(0,M.Z)(function(){return n.render(n.attributes,n)},50);this.playWindow.addEventListener(D.Dk.INSERTED,l),this.playWindow.addEventListener(D.Dk.REMOVED,l)},i}(c.w)},13977:function(it,w,t){"use strict";t.d(w,{dR:function(){return M},vE:function(){return D},x2:function(){return p}});var u,D="component-poptip",p={CONTAINER:"component-poptip",ARROW:"component-poptip-arrow",TEXT:"component-poptip-text"},M=(u={},u[".".concat(p.CONTAINER)]={visibility:"visible",position:"absolute","background-color":"rgba(0, 0, 0)","box-shadow":"0px 0px 10px #aeaeae","border-radius":"3px",color:"#fff",opacity:.8,"font-size":"12px",padding:"4px 6px",display:"flex","justify-content":"center","align-items":"center","z-index":8,transition:"visibility 50ms"},u[".".concat(p.TEXT)]={"text-align":"center"},u[".".concat(p.CONTAINER,"[data-position='top']")]={transform:"translate(-50%, -100%)"},u[".".concat(p.CONTAINER,"[data-position='left']")]={transform:"translate(-100%, -50%)"},u[".".concat(p.CONTAINER,"[data-position='right']")]={transform:"translate(0, -50%)"},u[".".concat(p.CONTAINER,"[data-position='bottom']")]={transform:"translate(-50%, 0)"},u[".".concat(p.CONTAINER,"[data-position='top-left']")]={transform:"translate(0,-100%)"},u[".".concat(p.CONTAINER,"[data-position='top-right']")]={transform:"translate(-100%,-100%)"},u[".".concat(p.CONTAINER,"[data-position='left-top']")]={transform:"translate(-100%, 0)"},u[".".concat(p.CONTAINER,"[data-position='left-bottom']")]={transform:"translate(-100%, -100%)"},u[".".concat(p.CONTAINER,"[data-position='right-top']")]={transform:"translate(0, 0)"},u[".".concat(p.CONTAINER,"[data-position='right-bottom']")]={transform:"translate(0, -100%)"},u[".".concat(p.CONTAINER,"[data-position='bottom-left']")]={transform:"translate(0, 0)"},u[".".concat(p.CONTAINER,"[data-position='bottom-right']")]={transform:"translate(-100%, 0)"},u[".".concat(p.ARROW)]={width:"4px",height:"4px",transform:"rotate(45deg)","background-color":"rgba(0, 0, 0)",position:"absolute","z-index":-1},u[".".concat(p.CONTAINER,"[data-position='top']")]={transform:"translate(-50%, calc(-100% - 5px))"},u["[data-position='top'] .".concat(p.ARROW)]={bottom:"-2px"},u[".".concat(p.CONTAINER,"[data-position='left']")]={transform:"translate(calc(-100% - 5px), -50%)"},u["[data-position='left'] .".concat(p.ARROW)]={right:"-2px"},u[".".concat(p.CONTAINER,"[data-position='right']")]={transform:"translate(5px, -50%)"},u["[data-position='right'] .".concat(p.ARROW)]={left:"-2px"},u[".".concat(p.CONTAINER,"[data-position='bottom']")]={transform:"translate(-50%, 5px)"},u["[data-position='bottom'] .".concat(p.ARROW)]={top:"-2px"},u[".".concat(p.CONTAINER,"[data-position='top-left']")]={transform:"translate(0, calc(-100% - 5px))"},u["[data-position='top-left'] .".concat(p.ARROW)]={left:"10px",bottom:"-2px"},u[".".concat(p.CONTAINER,"[data-position='top-right']")]={transform:"translate(-100%, calc(-100% - 5px))"},u["[data-position='top-right'] .".concat(p.ARROW)]={right:"10px",bottom:"-2px"},u[".".concat(p.CONTAINER,"[data-position='left-top']")]={transform:"translate(calc(-100% - 5px), 0)"},u["[data-position='left-top'] .".concat(p.ARROW)]={right:"-2px",top:"8px"},u[".".concat(p.CONTAINER,"[data-position='left-bottom']")]={transform:"translate(calc(-100% - 5px), -100%)"},u["[data-position='left-bottom'] .".concat(p.ARROW)]={right:"-2px",bottom:"8px"},u[".".concat(p.CONTAINER,"[data-position='right-top']")]={transform:"translate(5px, 0)"},u["[data-position='right-top'] .".concat(p.ARROW)]={left:"-2px",top:"8px"},u[".".concat(p.CONTAINER,"[data-position='right-bottom']")]={transform:"translate(5px, -100%)"},u["[data-position='right-bottom'] .".concat(p.ARROW)]={left:"-2px",bottom:"8px"},u[".".concat(p.CONTAINER,"[data-position='bottom-left']")]={transform:"translate(0, 5px)"},u["[data-position='bottom-left'] .".concat(p.ARROW)]={top:"-2px",left:"8px"},u[".".concat(p.CONTAINER,"[data-position='bottom-right']")]={transform:"translate(-100%, 5px)"},u["[data-position='bottom-right'] .".concat(p.ARROW)]={top:"-2px",right:"8px"},u)},27663:function(it,w,t){"use strict";t.d(w,{Q:function(){return s}});var u=t(15767),D=t(48690),p=t(34466),M=t(22040),m=t(27412),c=t(68627),h=t(3759),v=t(28213),a=t(13977),r=t(35671),s=function(o){(0,u.ZT)(d,o);function d(f){var y=o.call(this,(0,D.Z)({style:{id:a.vE}},d.defaultOptions,f))||this;return y.visibility="visible",y.map=new Map,y.domStyles="",y.initShape(),y.render(y.attributes,y),y}return Object.defineProperty(d.prototype,"visible",{get:function(){return this.visibility==="visible"},enumerable:!1,configurable:!0}),d.prototype.render=function(f,y){this.visibility=this.style.visibility,this.updatePoptipElement()},d.prototype.update=function(f){this.attr((0,D.Z)({},this.style,f)),this.render(this.attributes,this)},d.prototype.bind=function(f,y){var E=this;if(f){var e=this.style.text,i=function(l){var O=f,C=E.style,T=e;if(y){var P=typeof y=="function"?y.call(null,l):y,b=P.html,x=P.target,I=(0,u._T)(P,["html","target"]);C=(0,p.Z)({},E.style,I),(x||x===!1)&&(O=x),typeof b=="string"&&(T=b)}var S=C.position,K=C.arrowPointAtCenter,N=C.follow,z=C.offset;if(O){var j=l,W=j.clientX,U=j.clientY,F=(0,u.CR)((0,r.Z)(W,U,O,S,K,N),2),H=F[0],Y=F[1];E.showTip(H,Y,{text:T,position:S,offset:z})}else E.hideTip()},n=function(){E.hideTip()};f.addEventListener("mousemove",i),f.addEventListener("mouseleave",n),this.map.set(f,[i,n])}},d.prototype.unbind=function(f){if(this.map.has(f)){var y=(0,u.CR)(this.map.get(f)||[],2),E=y[0],e=y[1];E&&f.removeEventListener("mousemove",E),e&&f.removeEventListener("mouseleave",e),this.map.delete(f)}},d.prototype.clear=function(){this.container.innerHTML=""},d.prototype.destroy=function(){var f=this,y;(0,u.ev)([],(0,u.CR)(this.map.keys()),!1).forEach(function(E){return f.unbind(E)}),(y=this.container)===null||y===void 0||y.remove(),o.prototype.destroy.call(this)},d.prototype.showTip=function(f,y,E){var e=(0,M.Z)(E,"text");if(!(e&&typeof e!="string")&&(this.applyStyles(),f&&y&&E)){var i=E.offset,n=E.position;if(n&&this.container.setAttribute("data-position",n),this.setOffsetPosition(f,y,i),typeof e=="string"){var l=this.container.querySelector(".".concat(a.x2.TEXT));l&&(l.innerHTML=e)}this.visibility="visible",this.container.style.visibility="visible"}},d.prototype.hideTip=function(){this.visibility="hidden",this.container.style.visibility="hidden"},d.prototype.getContainer=function(){return this.container},d.prototype.getClassName=function(){var f=this.style.containerClassName;return"".concat(a.x2.CONTAINER).concat(f?" ".concat(f):"")},d.prototype.initShape=function(){var f=this,y=this.style.id;this.container=(0,r.I)(y),this.container.className=this.getClassName(),this.container.addEventListener("mousemove",function(){return f.showTip()}),this.container.addEventListener("mouseleave",function(){return f.hideTip()})},d.prototype.updatePoptipElement=function(){var f=this.container;this.clear();var y=this.style,E=y.id,e=y.template,i=y.text;this.container.setAttribute("id",E),this.container.className=this.getClassName();var n='<span class="'.concat(a.x2.ARROW,'"></span>');f.innerHTML=n,(0,m.Z)(e)?f.innerHTML+=e:e&&(0,c.Z)(e)&&f.appendChild(e),i&&(f.getElementsByClassName(a.x2.TEXT)[0].textContent=i),this.applyStyles(),this.container.style.visibility=this.visibility},d.prototype.applyStyles=function(){var f=(0,v.n)({},a.dR,this.style.domStyles),y=Object.entries(f).reduce(function(e,i){var n=(0,u.CR)(i,2),l=n[0],O=n[1],C=Object.entries(O).reduce(function(T,P){var b=(0,u.CR)(P,2),x=b[0],I=b[1];return"".concat(T).concat(x,": ").concat(I,";")},"");return"".concat(e).concat(l,"{").concat(C,"}")},"");if(this.domStyles!==y){this.domStyles=y;var E=this.container.querySelector("style");E&&this.container.removeChild(E),E=document.createElement("style"),E.innerHTML=y,this.container.appendChild(E)}},d.prototype.setOffsetPosition=function(f,y,E){E===void 0&&(E=this.style.offset);var e=(0,u.CR)(E,2),i=e[0],n=i===void 0?0:i,l=e[1],O=l===void 0?0:l;this.container.style.left="".concat(f+n,"px"),this.container.style.top="".concat(y+O,"px")},d.tag="poptip",d.defaultOptions={style:{x:0,y:0,width:0,height:0,target:null,visibility:"hidden",text:"",position:"top",follow:!1,offset:[0,0],domStyles:a.dR,template:'<div class="'.concat(a.x2.TEXT,'"></div>')}},d}(h.w)},35671:function(it,w,t){"use strict";t.d(w,{I:function(){return m},Z:function(){return D}});var u=void 0;function D(c,h,v,a,r,s){if(r===void 0&&(r=!1),s===void 0&&(s=!1),s)return[c,h];var o=v.getBoundingClientRect(),d=o.x,f=o.y,y=o.width,E=o.height;switch(a){case"top":return r?[d+y/2,f]:[c,f];case"left":return r?[d,f+E/2]:[d,h];case"bottom":return r?[d+y/2,f+E]:[c,f+E];case"right":return r?[d+y,f+E/2]:[d+y,h];case"top-right":case"right-top":return[d+y,f];case"left-bottom":case"bottom-left":return[d,f+E];case"right-bottom":case"bottom-right":return[d+y,f+E];case"top-left":case"left-top":default:return[d,f]}}var p=function(c){var h;return function(){for(var v=[],a=0;a<arguments.length;a++)v[a]=arguments[a];return h||(h=c.apply(u,v)),h}};function M(c){var h=c&&document.getElementById(c);return h||(h=document.createElement("div"),h.setAttribute("id",c),document.body.appendChild(h)),h}function m(c){var h=p(M)(c);return h}},34894:function(it,w,t){"use strict";t.d(w,{W:function(){return a}});var u=t(15767),D=t(3759),p=t(81614),M=t(60698),m=t(16841),c=t(82750),h=t(36653),v=t(28213),a=function(r){(0,u.ZT)(s,r);function s(o){var d=r.call(this,(0,v.n)({},s.defaultOptions,o))||this;return d.hoverColor="#f5f5f5",d.selectedColor="#e6f7ff",d.background=d.appendChild(new p.UL({})),d.label=d.background.appendChild(new p.ZA({})),d}return Object.defineProperty(s.prototype,"padding",{get:function(){return(0,M.j)(this.style.padding)},enumerable:!1,configurable:!0}),s.prototype.renderLabel=function(){var o=this.style,d=o.label,f=o.value,y=(0,m.zs)(this.attributes,"label");(0,c.Ys)(this.label).maybeAppend(".label",function(){return(0,h.S)(d)}).attr("className","label").styles(y),this.label.attr("__data__",f)},s.prototype.renderBackground=function(){var o=this.label.getBBox(),d=(0,u.CR)(this.padding,4),f=d[0],y=d[1],E=d[2],e=d[3],i=o.width,n=o.height,l=i+e+y,O=n+f+E,C=(0,m.zs)(this.attributes,"background"),T=this.style,P=T.width,b=P===void 0?0:P,x=T.height,I=x===void 0?0:x,S=T.selected;this.background.attr((0,u.pi)((0,u.pi)({},C),{width:Math.max(l,b),height:Math.max(O,I),fill:S?this.selectedColor:"#fff"})),this.label.attr({transform:"translate(".concat(e,", ").concat((O-n)/2,")")})},s.prototype.render=function(){this.renderLabel(),this.renderBackground()},s.prototype.bindEvents=function(){var o=this;this.addEventListener("pointerenter",function(){o.style.selected||o.background.attr("fill",o.hoverColor)}),this.addEventListener("pointerleave",function(){o.style.selected||o.background.attr("fill",o.style.backgroundFill)});var d=this;this.addEventListener("click",function(){var f=o.style,y=f.label,E=f.value,e=f.onClick;e==null||e(E,{label:y,value:E},d)})},s.defaultOptions={style:{value:"",label:"",cursor:"pointer"}},s}(D.w)},2733:function(it,w,t){"use strict";t.d(w,{P:function(){return s}});var u=t(15767),D=t(81614),p=t(3759),M=t(60698),m=t(16841),c=t(82750),h=t(36653),v=t(57170),a=t(28213),r=t(34894),s=function(o){(0,u.ZT)(d,o);function d(f){var y,E,e=o.call(this,(0,a.n)({},d.defaultOptions,f))||this;e.currentValue=(y=d.defaultOptions.style)===null||y===void 0?void 0:y.defaultValue,e.isPointerInSelect=!1,e.select=e.appendChild(new D.UL({className:"select",style:{cursor:"pointer",width:0,height:0}})),e.dropdown=e.appendChild(new D.UL({className:"dropdown"}));var i=e.style.defaultValue;return i&&(!((E=e.style.options)===null||E===void 0)&&E.some(function(n){return n.value===i}))&&(e.currentValue=i),e}return d.prototype.setValue=function(f){this.currentValue=f,this.render()},d.prototype.getValue=function(){return this.currentValue},Object.defineProperty(d.prototype,"dropdownPadding",{get:function(){return(0,M.j)(this.style.dropdownPadding)},enumerable:!1,configurable:!0}),d.prototype.renderSelect=function(){var f=this,y,E=this.style,e=E.x,i=E.y,n=E.width,l=E.height,O=E.bordered,C=E.showDropdownIcon,T=(0,m.zs)(this.attributes,"select"),P=(0,m.zs)(this.attributes,"placeholder");this.select.attr((0,u.pi)((0,u.pi)({x:e,y:i,width:n,height:l},T),{fill:"#fff",strokeWidth:O?1:0}));var b=this.dropdownPadding,x=10;C&&(0,c.Ys)(this.select).maybeAppend(".dropdown-icon","path").style("d","M-5,-3.5 L0,3.5 L5,-3.5").style("transform","translate(".concat(e+n-x-b[1]-b[3],", ").concat(i+l/2,")")).style("lineWidth",1).style("stroke",this.select.style.stroke);var I=(y=this.style.options)===null||y===void 0?void 0:y.find(function(z){return z.value===f.currentValue}),S=(0,u.pi)({x:e+b[3]},P);(0,c.Ys)(this.select).selectAll(".placeholder").data(I?[]:[1]).join(function(z){return z.append("text").attr("className","placeholder").styles(S).style("y",function(){var j=this.getBBox();return i+(l-j.height)/2})},function(z){return z.styles(S)},function(z){return z.remove()});var K=(0,m.zs)(this.attributes,"optionLabel"),N=(0,u.pi)({x:e+b[3]},K);(0,c.Ys)(this.select).selectAll(".value").data(I?[I]:[]).join(function(z){return z.append(function(j){return(0,h.S)(j.label)}).attr("className","value").styles(N).style("y",function(){var j=this.getBBox();return i+(l-j.height)/2})},function(z){return z.styles(N)},function(z){return z.remove()})},d.prototype.renderDropdown=function(){var f=this,y,E,e=this.style,i=e.x,n=e.y,l=e.width,O=e.height,C=e.options,T=e.onSelect,P=e.open,b=(0,m.zs)(this.attributes,"dropdown"),x=(0,m.zs)(this.attributes,"option"),I=this.dropdownPadding;(0,c.Ys)(this.dropdown).maybeAppend(".dropdown-container","g").attr("className","dropdown-container").selectAll(".dropdown-item").data(C,function(N){return N.value}).join(function(N){return N.append(function(z){return new r.W({className:"dropdown-item",style:(0,u.pi)((0,u.pi)((0,u.pi)({},z),x),{width:l-I[1]-I[3],selected:z.value===f.currentValue,onClick:function(j,W,U){f.setValue(j),T==null||T(j,W,U),f.dispatchEvent(new D.Aw("change",{detail:{value:j,option:W,item:U}})),(0,v.Cp)(f.dropdown)}})})}).each(function(z,j){var W,U=(W=this.parentNode)===null||W===void 0?void 0:W.children,F=U.reduce(function(H,Y,V){return V<j&&(H+=Y.getBBox().height),H},0);this.attr("transform","translate(".concat(I[3],", ").concat(I[0]+F,")"))})},function(N){return N.update(function(z){return{selected:z.value===f.currentValue}})},function(N){return N.remove()});var S=(E=(y=this.dropdown.getElementsByClassName("dropdown-container"))===null||y===void 0?void 0:y[0])===null||E===void 0?void 0:E.getBBox(),K=b.spacing;this.dropdown.attr((0,u.pi)({transform:"translate(".concat(i,", ").concat(n+O+K,")"),width:S.width+I[1]+I[3],height:S.height+I[0]+I[2]},b)),!P&&(0,v.Cp)(this.dropdown)},d.prototype.render=function(){this.renderSelect(),this.renderDropdown()},d.prototype.bindEvents=function(){var f=this;this.addEventListener("click",function(y){y.stopPropagation()}),this.select.addEventListener("click",function(){f.dropdown.style.visibility==="visible"?(0,v.Cp)(f.dropdown):(0,v.$Z)(f.dropdown)}),this.addEventListener("pointerenter",function(){f.isPointerInSelect=!0}),this.addEventListener("pointerleave",function(){f.isPointerInSelect=!1}),document==null||document.addEventListener("click",function(){f.isPointerInSelect||(0,v.Cp)(f.dropdown)})},d.defaultOptions={style:{x:0,y:0,width:140,height:32,options:[],bordered:!0,defaultValue:"",selectRadius:8,selectStroke:"#d9d9d9",showDropdownIcon:!0,placeholderText:"\u8BF7\u9009\u62E9",placeholderFontSize:12,placeholderTextBaseline:"top",placeholderFill:"#c2c2c2",dropdownFill:"#fff",dropdownStroke:"#d9d9d9",dropdownRadius:8,dropdownShadowBlur:4,dropdownShadowColor:"rgba(0, 0, 0, 0.08)",dropdownPadding:8,dropdownSpacing:10,optionPadding:[8,12],optionFontSize:12,optionTextBaseline:"top",optionBackgroundFill:"#fff",optionBackgroundRadius:4,optionLabelFontSize:12,optionLabelTextBaseline:"top"}},d}(p.w)},19236:function(it,w,t){"use strict";t.d(w,{Ec:function(){return m},Qi:function(){return D},b0:function(){return p},fI:function(){return M}});var u=t(48537),D={fill:"#fff",lineWidth:1,radius:2,size:10,stroke:"#bfbfbf",strokeOpacity:1,zIndex:0},p={fill:"#000",fillOpacity:.45,fontSize:12,textAlign:"center",textBaseline:"middle",zIndex:1},M={x:0,y:0,orientation:"horizontal",showLabel:!0,type:"start"},m=(0,u.A)({foreground:"foreground",handle:"handle",selection:"selection",sparkline:"sparkline",sparklineGroup:"sparkline-group",track:"track",brushArea:"brush-area"},"slider")},70394:function(it,w,t){"use strict";t.d(w,{H:function(){return r}});var u=t(15767),D=t(3759),p=t(48537),M=t(82750),m=t(16841),c=t(53395),h=t(19236),v=(0,p.A)({labelGroup:"label-group",label:"label",iconGroup:"icon-group",icon:"icon",iconRect:"icon-rect",iconLine:"icon-line"},"handle"),a=function(s){(0,u.ZT)(o,s);function o(){return s!==null&&s.apply(this,arguments)||this}return o.prototype.render=function(d,f){var y=d.x,E=d.y,e=d.size,i=e===void 0?10:e,n=d.radius,l=n===void 0?i/4:n,O=d.orientation,C=(0,u._T)(d,["x","y","size","radius","orientation"]),T=i,P=T*2.4,b=(0,M.Ys)(f).maybeAppendByClassName(v.iconRect,"rect").styles((0,u.pi)((0,u.pi)({},C),{width:T,height:P,radius:l,x:y-T/2,y:E-P/2,transformOrigin:"center"})),x=y+1/3*T-T/2,I=y+2/3*T-T/2,S=E+1/4*P-P/2,K=E+3/4*P-P/2;b.maybeAppendByClassName("".concat(v.iconLine,"-1"),"line").styles((0,u.pi)({x1:x,x2:x,y1:S,y2:K},C)),b.maybeAppendByClassName("".concat(v.iconLine,"-2"),"line").styles((0,u.pi)({x1:I,x2:I,y1:S,y2:K},C)),O==="vertical"&&(b.node().style.transform="rotate(90)")},o}(D.w),r=function(s){(0,u.ZT)(o,s);function o(d){return s.call(this,d,h.fI)||this}return o.prototype.renderLabel=function(d){var f=this,y=this.attributes,E=y.x,e=y.y,i=y.showLabel,n=(0,m.zs)(this.attributes,"label"),l=n.x,O=l===void 0?0:l,C=n.y,T=C===void 0?0:C,P=n.transform,b=n.transformOrigin,x=(0,u._T)(n,["x","y","transform","transformOrigin"]),I=(0,u.CR)((0,m.Hm)(x,[]),2),S=I[0],K=I[1],N=(0,M.Ys)(d).maybeAppendByClassName(v.labelGroup,"g").styles(K),z=(0,u.pi)((0,u.pi)({},h.b0),S),j=z.text,W=(0,u._T)(z,["text"]);(0,c.z)(!!i,N,function(U){f.label=U.maybeAppendByClassName(v.label,"text").styles((0,u.pi)((0,u.pi)({},W),{x:E+O,y:e+T,transform:P,transformOrigin:b,text:"".concat(j)})),f.label.on("mousedown",function(F){F.stopPropagation()}),f.label.on("touchstart",function(F){F.stopPropagation()})})},o.prototype.renderIcon=function(d){var f=this.attributes,y=f.x,E=f.y,e=f.orientation,i=f.type,n=(0,u.pi)((0,u.pi)({x:y,y:E,orientation:e},h.Qi),(0,m.zs)(this.attributes,"icon")),l=this.attributes.iconShape,O=l===void 0?function(){return new a({style:n})}:l,C=(0,M.Ys)(d).maybeAppendByClassName(v.iconGroup,"g");C.selectAll(v.icon.class).data([O]).join(function(T){return T.append(typeof O=="string"?O:function(){return O(i)}).attr("className",v.icon.name)},function(T){return T.update(n)},function(T){return T.remove()})},o.prototype.render=function(d,f){this.renderIcon(f),this.renderLabel(f)},o}(D.w)},54321:function(it,w,t){"use strict";t.d(w,{i:function(){return E}});var u=t(15767),D=t(81614),p=t(15378),M=t(20009),m=t(3759),c=t(35315),h=t(16841),v=t(68151),a=t(60698),r=t(82750),s=t(53395),o=t(46082),d=t(53489),f=t(19236),y=t(70394),E=function(e){(0,u.ZT)(i,e);function i(n){var l=e.call(this,n,(0,u.pi)((0,u.pi)((0,u.pi)({x:0,y:0,animate:{duration:100,fill:"both"},brushable:!0,formatter:function(O){return O.toString()},handleSpacing:2,orientation:"horizontal",padding:0,autoFitLabel:!0,scrollable:!0,selectionFill:"#5B8FF9",selectionFillOpacity:.45,selectionZIndex:2,showHandle:!0,showLabel:!0,slidable:!0,trackFill:"#416180",trackLength:200,trackOpacity:.05,trackSize:20,trackZIndex:-1,values:[0,1],type:"range",selectionType:"select",handleIconOffset:0},(0,h.dq)(f.fI,"handle")),(0,h.dq)(f.Qi,"handleIcon")),(0,h.dq)(f.b0,"handleLabel")))||this;return l.range=[0,1],l.onDragStart=function(O){return function(C){C.stopPropagation(),l.target=O,l.prevPos=l.getOrientVal((0,v.s)(C));var T=l.availableSpace,P=T.x,b=T.y,x=l.getBBox(),I=x.x,S=x.y;l.selectionStartPos=l.getRatio(l.prevPos-l.getOrientVal([P,b])-l.getOrientVal([+I,+S])),l.selectionWidth=0,document.addEventListener("pointermove",l.onDragging),document.addEventListener("pointerup",l.onDragEnd)}},l.onDragging=function(O){var C=l.attributes,T=C.slidable,P=C.brushable,b=C.type;O.stopPropagation();var x=l.getOrientVal((0,v.s)(O)),I=x-l.prevPos;if(I){var S=l.getRatio(I);switch(l.target){case"start":T&&l.setValuesOffset(S);break;case"end":T&&l.setValuesOffset(0,S);break;case"selection":T&&l.setValuesOffset(S,S);break;case"track":if(!P)return;l.selectionWidth+=S,b==="range"?l.innerSetValues([l.selectionStartPos,l.selectionStartPos+l.selectionWidth].sort(),!0):l.innerSetValues([0,l.selectionStartPos+l.selectionWidth],!0);break;default:break}l.prevPos=x}},l.onDragEnd=function(){document.removeEventListener("pointermove",l.onDragging),document.removeEventListener("pointermove",l.onDragging),document.removeEventListener("pointerup",l.onDragEnd),l.target="",l.updateHandlesPosition(!1)},l.onValueChange=function(O){var C=l.attributes,T=C.onChange,P=C.type,b=P==="range"?O:O[1],x=P==="range"?l.getValues():l.getValues()[1],I=new D.Aw("valuechange",{detail:{oldValue:b,value:x}});l.dispatchEvent(I),T==null||T(x)},l.selectionStartPos=0,l.selectionWidth=0,l.prevPos=0,l.target="",l}return Object.defineProperty(i.prototype,"values",{get:function(){return this.attributes.values},set:function(n){this.attributes.values=this.clampValues(n)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"sparklineStyle",{get:function(){var n=this.attributes.orientation;if(n!=="horizontal")return null;var l=(0,h.zs)(this.attributes,"sparkline");return(0,u.pi)((0,u.pi)({zIndex:0},this.availableSpace),l)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"shape",{get:function(){var n=this.attributes,l=n.trackLength,O=n.trackSize,C=(0,u.CR)(this.getOrientVal([[l,O],[O,l]]),2),T=C[0],P=C[1];return{width:T,height:P}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"availableSpace",{get:function(){var n=this.attributes,l=n.x,O=n.y,C=n.padding,T=(0,u.CR)((0,a.j)(C),4),P=T[0],b=T[1],x=T[2],I=T[3],S=this.shape,K=S.width,N=S.height;return{x:I,y:P,width:K-(I+b),height:N-(P+x)}},enumerable:!1,configurable:!0}),i.prototype.getValues=function(){return this.values},i.prototype.setValues=function(n,l){n===void 0&&(n=[0,0]),l===void 0&&(l=!1),this.attributes.values=n;var O=l===!1?!1:this.attributes.animate;this.updateSelectionArea(O),this.updateHandlesPosition(O)},i.prototype.updateSelectionArea=function(n){var l=this.calcSelectionArea();this.foregroundGroup.selectAll(f.Ec.selection.class).each(function(O,C){(0,M.eR)(this,l[C],n)})},i.prototype.updateHandlesPosition=function(n){this.attributes.showHandle&&(this.startHandle&&(0,M.eR)(this.startHandle,this.getHandleStyle("start"),n),this.endHandle&&(0,M.eR)(this.endHandle,this.getHandleStyle("end"),n))},i.prototype.innerSetValues=function(n,l){n===void 0&&(n=[0,0]),l===void 0&&(l=!1);var O=this.values,C=this.clampValues(n);this.attributes.values=C,this.setValues(C),l&&this.onValueChange(O)},i.prototype.renderTrack=function(n){var l=this.attributes,O=l.x,C=l.y,T=(0,h.zs)(this.attributes,"track");this.trackShape=(0,r.Ys)(n).maybeAppendByClassName(f.Ec.track,"rect").styles((0,u.pi)((0,u.pi)({x:O,y:C},this.shape),T))},i.prototype.renderBrushArea=function(n){var l=this.attributes,O=l.x,C=l.y,T=l.brushable;this.brushArea=(0,r.Ys)(n).maybeAppendByClassName(f.Ec.brushArea,"rect").styles((0,u.pi)({x:O,y:C,fill:"transparent",cursor:T?"crosshair":"default"},this.shape))},i.prototype.renderSparkline=function(n){var l=this,O=this.attributes,C=O.x,T=O.y,P=O.orientation,b=(0,r.Ys)(n).maybeAppendByClassName(f.Ec.sparklineGroup,"g");(0,s.z)(P==="horizontal",b,function(x){var I=(0,u.pi)((0,u.pi)({},l.sparklineStyle),{x:C,y:T});x.maybeAppendByClassName(f.Ec.sparkline,function(){return new d.b({style:I})}).update(I)})},i.prototype.renderHandles=function(){var n=this,l,O=this.attributes,C=O.showHandle,T=O.type,P=T==="range"?["start","end"]:["end"],b=C?P:[],x=this;(l=this.foregroundGroup)===null||l===void 0||l.selectAll(f.Ec.handle.class).data(b.map(function(I){return{type:I}}),function(I){return I.type}).join(function(I){return I.append(function(S){var K=S.type;return new y.H({style:n.getHandleStyle(K)})}).each(function(S){var K=S.type;this.attr("class","".concat(f.Ec.handle.name," ").concat(K,"-handle"));var N="".concat(K,"Handle");x[N]=this,this.addEventListener("pointerdown",x.onDragStart(K))})},function(I){return I.each(function(S){var K=S.type;this.update(x.getHandleStyle(K))})},function(I){return I.each(function(S){var K=S.type,N="".concat(K,"Handle");x[N]=void 0}).remove()})},i.prototype.renderSelection=function(n){var l=this.attributes,O=l.x,C=l.y,T=l.type,P=l.selectionType;this.foregroundGroup=(0,r.Ys)(n).maybeAppendByClassName(f.Ec.foreground,"g");var b=(0,h.zs)(this.attributes,"selection"),x=function(S){return S.style("visibility",function(K){return K.show?"visible":"hidden"}).style("cursor",function(K){return P==="select"?"grab":P==="invert"?"crosshair":"default"}).styles((0,u.pi)((0,u.pi)({},b),{transform:"translate(".concat(O,", ").concat(C,")")}))},I=this;this.foregroundGroup.selectAll(f.Ec.selection.class).data(T==="value"?[]:this.calcSelectionArea().map(function(S,K){return{style:(0,u.pi)({},S),index:K,show:P==="select"?K===1:K!==1}}),function(S){return S.index}).join(function(S){return S.append("rect").attr("className",f.Ec.selection.name).call(x).each(function(K,N){var z=this;N===1?(I.selectionShape=(0,r.Ys)(this),this.on("pointerdown",function(j){z.attr("cursor","grabbing"),I.onDragStart("selection")(j)}),I.dispatchCustomEvent(this,"pointerenter","selectionMouseenter"),I.dispatchCustomEvent(this,"pointerleave","selectionMouseleave"),I.dispatchCustomEvent(this,"click","selectionClick"),this.addEventListener("pointerdown",function(){z.attr("cursor","grabbing")}),this.addEventListener("pointerup",function(){z.attr("cursor","pointer")}),this.addEventListener("pointerover",function(){z.attr("cursor","pointer")})):this.on("pointerdown",I.onDragStart("track"))})},function(S){return S.call(x)},function(S){return S.remove()}),this.updateSelectionArea(!1),this.renderHandles()},i.prototype.render=function(n,l){this.renderTrack(l),this.renderSparkline(l),this.renderBrushArea(l),this.renderSelection(l)},i.prototype.clampValues=function(n,l){var O;l===void 0&&(l=4);var C=(0,u.CR)(this.range,2),T=C[0],P=C[1],b=(0,u.CR)(this.getValues().map(function(W){return(0,o.Zd)(W,l)}),2),x=b[0],I=b[1],S=Array.isArray(n)?n:[x,n!=null?n:I],K=(0,u.CR)((S||[x,I]).map(function(W){return(0,o.Zd)(W,l)}),2),N=K[0],z=K[1];if(this.attributes.type==="value")return[0,(0,p.Z)(z,T,P)];N>z&&(O=(0,u.CR)([z,N],2),N=O[0],z=O[1]);var j=z-N;return j>P-T?[T,P]:N<T?x===T&&I===z?[T,z]:[T,j+T]:z>P?I===P&&x===N?[N,P]:[P-j,P]:[N,z]},i.prototype.calcSelectionArea=function(n){var l=(0,u.CR)(this.clampValues(n),2),O=l[0],C=l[1],T=this.availableSpace,P=T.x,b=T.y,x=T.width,I=T.height;return this.getOrientVal([[{y:b,height:I,x:P,width:O*x},{y:b,height:I,x:O*x+P,width:(C-O)*x},{y:b,height:I,x:C*x,width:(1-C)*x}],[{x:P,width:x,y:b,height:O*I},{x:P,width:x,y:O*I+b,height:(C-O)*I},{x:P,width:x,y:C*I,height:(1-C)*I}]])},i.prototype.calcHandlePosition=function(n){var l=this.attributes.handleIconOffset,O=this.availableSpace,C=O.x,T=O.y,P=O.width,b=O.height,x=(0,u.CR)(this.clampValues(),2),I=x[0],S=x[1],K=n==="start"?-l:l,N=(n==="start"?I:S)*this.getOrientVal([P,b])+K;return{x:C+this.getOrientVal([N,P/2]),y:T+this.getOrientVal([b/2,N])}},i.prototype.inferTextStyle=function(n){var l=this.attributes.orientation;return l==="horizontal"?{}:n==="start"?{transformOrigin:"left center",transform:"rotate(90)",textAlign:"start"}:n==="end"?{transformOrigin:"right center",transform:"rotate(90)",textAlign:"end"}:{}},i.prototype.calcHandleText=function(n){var l,O=this.attributes,C=O.type,T=O.orientation,P=O.formatter,b=O.autoFitLabel,x=(0,h.zs)(this.attributes,"handle"),I=(0,h.zs)(x,"label"),S=x.spacing,K=this.getHandleSize(),N=this.clampValues(),z=n==="start"?N[0]:N[1],j=P(z),W=new c.x({style:(0,u.pi)((0,u.pi)((0,u.pi)({},I),this.inferTextStyle(n)),{text:j})}),U=W.getBBox(),F=U.width,H=U.height;if(W.destroy(),!b){if(C==="value")return{text:j,x:0,y:-H-S};var Y=S+K+(T==="horizontal"?F/2:0);return l={text:j},l[T==="horizontal"?"x":"y"]=n==="start"?-Y:Y,l}var V=0,X=0,$=this.availableSpace,rt=$.width,ot=$.height,tt=this.calcSelectionArea()[1],G=tt.x,nt=tt.y,ut=tt.width,dt=tt.height,et=S+K;if(T==="horizontal"){var gt=et+F/2;if(n==="start"){var Et=G-et-F;V=Et>0?-gt:gt}else{var lt=rt-G-ut-et>F;V=lt?gt:-gt}}else{var mt=et,Tt=H+et;n==="start"?X=nt-K>H?-Tt:mt:X=ot-(nt+dt)-K>H?Tt:-mt}return{x:V,y:X,text:j}},i.prototype.getHandleLabelStyle=function(n){var l=(0,h.zs)(this.attributes,"handleLabel");return(0,u.pi)((0,u.pi)((0,u.pi)({},l),this.calcHandleText(n)),this.inferTextStyle(n))},i.prototype.getHandleIconStyle=function(){var n=this.attributes.handleIconShape,l=(0,h.zs)(this.attributes,"handleIcon"),O=this.getOrientVal(["ew-resize","ns-resize"]),C=this.getHandleSize();return(0,u.pi)({cursor:O,shape:n,size:C},l)},i.prototype.getHandleStyle=function(n){var l=this.attributes,O=l.x,C=l.y,T=l.showLabel,P=l.showLabelOnInteraction,b=l.orientation,x=this.calcHandlePosition(n),I=x.x,S=x.y,K=this.calcHandleText(n),N=T;return!T&&P&&(this.target?N=!0:N=!1),(0,u.pi)((0,u.pi)((0,u.pi)({},(0,h.dq)(this.getHandleIconStyle(),"icon")),(0,h.dq)((0,u.pi)((0,u.pi)({},this.getHandleLabelStyle(n)),K),"label")),{transform:"translate(".concat(I+O,", ").concat(S+C,")"),orientation:b,showLabel:N,type:n,zIndex:3})},i.prototype.getHandleSize=function(){var n=this.attributes,l=n.handleIconSize,O=n.width,C=n.height;return l||Math.floor((this.getOrientVal([+C,+O])+4)/2.4)},i.prototype.getOrientVal=function(n){var l=(0,u.CR)(n,2),O=l[0],C=l[1],T=this.attributes.orientation;return T==="horizontal"?O:C},i.prototype.setValuesOffset=function(n,l){l===void 0&&(l=0);var O=this.attributes.type,C=(0,u.CR)(this.getValues(),2),T=C[0],P=C[1],b=O==="range"?n:0,x=[T+b,P+l].sort();this.innerSetValues(x,!0)},i.prototype.getRatio=function(n){var l=this.availableSpace,O=l.width,C=l.height;return n/this.getOrientVal([O,C])},i.prototype.dispatchCustomEvent=function(n,l,O){var C=this;n.on(l,function(T){T.stopPropagation(),C.dispatchEvent(new D.Aw(O,{detail:T}))})},i.prototype.bindEvents=function(){this.addEventListener("wheel",this.onScroll);var n=this.brushArea;this.dispatchCustomEvent(n,"click","trackClick"),this.dispatchCustomEvent(n,"pointerenter","trackMouseenter"),this.dispatchCustomEvent(n,"pointerleave","trackMouseleave"),n.on("pointerdown",this.onDragStart("track"))},i.prototype.onScroll=function(n){var l=this.attributes.scrollable;if(l){var O=n.deltaX,C=n.deltaY,T=C||O,P=this.getRatio(T);this.setValuesOffset(P,P)}},i.tag="slider",i}(m.w)},6053:function(it,w,t){"use strict";t.d(w,{o:function(){return c}});var u=t(15767),D=t(48690),p=t(81614),M=t(82750),m=t(28213),c=function(h){(0,u.ZT)(v,h);function v(a){var r=this,s=a.style,o=(0,u._T)(a,["style"]);return r=h.call(this,(0,D.Z)({},{type:"column"},(0,u.pi)({style:s},o)))||this,r.columnsGroup=new p.ZA({name:"columns"}),r.appendChild(r.columnsGroup),r.render(),r}return v.prototype.render=function(){var a=this.attributes,r=a.columns,s=a.x,o=a.y;this.columnsGroup.style.transform="translate(".concat(s,", ").concat(o,")"),(0,M.Ys)(this.columnsGroup).selectAll(".column").data(r.flat()).join(function(d){return d.append("rect").attr("className","column").each(function(f){this.attr(f)})},function(d){return d.each(function(f){this.attr(f)})},function(d){return d.remove()})},v.prototype.update=function(a){this.attr((0,m.n)({},this.attributes,a)),this.render()},v.prototype.clear=function(){this.removeChildren()},v}(p.s$)},53489:function(it,w,t){"use strict";t.d(w,{b:function(){return y}});var u=t(15767),D=t(12454),p=t(56608),M=t(21914),m=t(26912),c=t(83262),h=t(84237),v=t(3759),a=t(16841),r=t(82750),s=t(6053),o=t(32295),d=t(33632),f=t(89272),y=function(E){(0,u.ZT)(e,E);function e(i){return E.call(this,i,{type:"line",x:0,y:0,width:200,height:20,isStack:!1,color:["#83daad","#edbf45","#d2cef9","#e290b3","#6f63f4"],smooth:!0,lineLineWidth:1,areaOpacity:0,isGroup:!1,columnLineWidth:1,columnStroke:"#fff",scale:1,spacing:0})||this}return Object.defineProperty(e.prototype,"rawData",{get:function(){var i=this.attributes.data;if(!i||(i==null?void 0:i.length)===0)return[[]];var n=(0,M.Z)(i);return(0,m.Z)(n[0])?[n]:n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.attributes.isStack?(0,f.u)(this.rawData):this.rawData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scales",{get:function(){return this.createScales(this.data)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseline",{get:function(){var i=this.scales.y,n=(0,u.CR)(i.getOptions().domain||[0,0],2),l=n[0],O=n[1];return O<0?i.map(O):i.map(l<0?0:l)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"containerShape",{get:function(){var i=this.attributes,n=i.width,l=i.height;return{width:n,height:l}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linesStyle",{get:function(){var i=this,n=this.attributes,l=n.type,O=n.isStack,C=n.smooth;if(l!=="line")throw new Error("linesStyle can only be used in line type");var T=(0,a.zs)(this.attributes,"area"),P=(0,a.zs)(this.attributes,"line"),b=this.containerShape.width,x=this.data;if(x[0].length===0)return{lines:[],areas:[]};var I=this.scales,S=I.x,K=I.y,N=(0,d.Yv)(x,{type:"line",x:S,y:K}),z=[];if(T){var j=this.baseline;O?z=C?(0,d.hm)(N,b,j):(0,d.R7)(N,b,j):z=(0,d.U1)(N,C,b,j)}return{lines:N.map(function(W,U){return(0,u.pi)({stroke:i.getColor(U),d:C?(0,d.QI)(W):(0,d._Q)(W)},P)}),areas:z.map(function(W,U){return(0,u.pi)({d:W,fill:i.getColor(U)},T)})}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"columnsStyle",{get:function(){var i=this,n=(0,a.zs)(this.attributes,"column"),l=this.attributes,O=l.isStack,C=l.type,T=l.scale;if(C!=="column")throw new Error("columnsStyle can only be used in column type");var P=this.containerShape.height,b=this.rawData;if(!b)return{columns:[]};O&&(b=(0,f.u)(b));var x=this.createScales(b),I=x.x,S=x.y,K=(0,u.CR)((0,f.r)(b),2),N=K[0],z=K[1],j=new D.b({domain:[0,z-(N>0?0:N)],range:[0,P*T]}),W=I.getBandWidth(),U=this.rawData;return{columns:b.map(function(F,H){return F.map(function(Y,V){var X=W/b.length,$=function(){return{x:I.map(V)+X*H,y:Y>=0?S.map(Y):S.map(0),width:X,height:j.map(Math.abs(Y))}},rt=function(){return{x:I.map(V),y:S.map(Y),width:W,height:j.map(U[H][V])}};return(0,u.pi)((0,u.pi)({fill:i.getColor(H)},n),O?rt():$())})})}},enumerable:!1,configurable:!0}),e.prototype.render=function(i,n){(0,r.OV)(n,".container","rect").attr("className","container").node();var l=i.type,O=i.x,C=i.y,T="spark".concat(l),P=(0,u.pi)({x:O,y:C},l==="line"?this.linesStyle:this.columnsStyle);(0,r.Ys)(n).selectAll(".spark").data([l]).join(function(b){return b.append(function(x){return x==="line"?new o.x({className:T,style:P}):new s.o({className:T,style:P})}).attr("className","spark ".concat(T))},function(b){return b.update(P)},function(b){return b.remove()})},e.prototype.getColor=function(i){var n=this.attributes.color;return(0,c.Z)(n)?n[i%n.length]:(0,h.Z)(n)?n.call(null,i):n},e.prototype.createScales=function(i){var n,l,O=this.attributes,C=O.type,T=O.scale,P=O.range,b=P===void 0?[]:P,x=O.spacing,I=this.containerShape,S=I.width,K=I.height,N=(0,u.CR)((0,f.r)(i),2),z=N[0],j=N[1],W=new D.b({domain:[(n=b[0])!==null&&n!==void 0?n:z,(l=b[1])!==null&&l!==void 0?l:j],range:[K,K*(1-T)]});return C==="line"?{type:C,x:new D.b({domain:[0,i[0].length-1],range:[0,S]}),y:W}:{type:C,x:new p.t({domain:i[0].map(function(U,F){return F}),range:[0,S],paddingInner:x,paddingOuter:x/2,align:.5}),y:W}},e.tag="sparkline",e}(v.w)},32295:function(it,w,t){"use strict";t.d(w,{x:function(){return c}});var u=t(15767),D=t(48690),p=t(81614),M=t(28213),m=t(82750),c=function(h){(0,u.ZT)(v,h);function v(a){var r=this,s=a.style,o=(0,u._T)(a,["style"]);return r=h.call(this,(0,D.Z)({},{type:"lines"},(0,u.pi)({style:s},o)))||this,r.linesGroup=r.appendChild(new p.ZA),r.areasGroup=r.appendChild(new p.ZA),r.render(),r}return v.prototype.render=function(){var a=this.attributes,r=a.lines,s=a.areas,o=a.x,d=a.y;this.style.transform="translate(".concat(o,", ").concat(d,")"),r&&this.renderLines(r),s&&this.renderAreas(s)},v.prototype.clear=function(){this.linesGroup.removeChildren(),this.areasGroup.removeChildren()},v.prototype.update=function(a){this.attr((0,M.n)({},this.attributes,a)),this.render()},v.prototype.renderLines=function(a){(0,m.Ys)(this.linesGroup).selectAll(".line").data(a).join(function(r){return r.append("path").attr("className","line").each(function(s){this.attr(s)})},function(r){return r.each(function(s){this.attr(s)})},function(r){return r.remove()})},v.prototype.renderAreas=function(a){(0,m.Ys)(this.linesGroup).selectAll(".area").data(a).join(function(r){return r.append("path").attr("className","area").each(function(s){this.attr(s)})},function(r){return r.each(function(s){this.style(s)})},function(r){return r.remove()})},v}(p.s$)},33632:function(it,w,t){"use strict";t.d(w,{QI:function(){return v},R7:function(){return s},U1:function(){return r},Yv:function(){return c},_Q:function(){return h},hm:function(){return o}});var u=t(15767),D=t(15378),p=t(99666),M=t(21914),m=t(19484);function c(d,f){var y,E=f.x,e=f.y,i=(0,u.CR)(e.getOptions().range||[0,0],2),n=i[0],l=i[1];return l>n&&(y=(0,u.CR)([n,l],2),l=y[0],n=y[1]),d.map(function(O){var C=O.map(function(T,P){return[E.map(P),(0,D.Z)(e.map(T),l,n)]});return C})}function h(d,f){f===void 0&&(f=!1);var y=f?d.length-1:0,E=d.map(function(e,i){return(0,u.ev)([i===y?"M":"L"],(0,u.CR)(e),!1)});return f?E.reverse():E}function v(d,f){if(f===void 0&&(f=!1),d.length<=2)return h(d);for(var y=[],E=d.length,e=0;e<E;e+=1){var i=f?d[E-e-1]:d[e];(0,p.Z)(i,y.slice(-2))||y.push.apply(y,(0,u.ev)([],(0,u.CR)(i),!1))}var n=(0,m.e)(y,!1);return f?n.unshift((0,u.ev)(["M"],(0,u.CR)(d[E-1]),!1)):n.unshift((0,u.ev)(["M"],(0,u.CR)(d[0]),!1)),n}function a(d,f,y){var E=(0,M.Z)(d);return E.push(["L",f,y],["L",0,y],["Z"]),E}function r(d,f,y,E){return d.map(function(e){return a(f?v(e):h(e),y,E)})}function s(d,f,y){for(var E=[],e=d.length-1;e>=0;e-=1){var i=d[e],n=h(i),l=void 0;if(e===0)l=a(n,f,y);else{var O=d[e-1],C=h(O,!0);C[0][0]="L",l=(0,u.ev)((0,u.ev)((0,u.ev)([],(0,u.CR)(n),!1),(0,u.CR)(C),!1),[["Z"]],!1)}E.push(l)}return E}function o(d,f,y){for(var E=[],e=d.length-1;e>=0;e-=1){var i=d[e],n=v(i),l=void 0;if(e===0)l=a(n,f,y);else{var O=d[e-1],C=v(O,!0),T=i[0];C[0][0]="L",l=(0,u.ev)((0,u.ev)((0,u.ev)([],(0,u.CR)(n),!1),(0,u.CR)(C),!1),[(0,u.ev)(["M"],(0,u.CR)(T),!1),["Z"]],!1)}E.push(l)}return E}},89272:function(it,w,t){"use strict";t.d(w,{r:function(){return h},u:function(){return v}});var u=t(15767),D=t(20203),p=t(54994),M=t(7086),m=t(22043),c=t(21914);function h(a){return a.length===0?[0,0]:[(0,D.Z)((0,p.Z)(a,function(r){return(0,D.Z)(r)||0})),(0,M.Z)((0,m.Z)(a,function(r){return(0,M.Z)(r)||0}))]}function v(a){for(var r=(0,c.Z)(a),s=r[0].length,o=(0,u.CR)([Array(s).fill(0),Array(s).fill(0)],2),d=o[0],f=o[1],y=0;y<r.length;y+=1)for(var E=r[y],e=0;e<s;e+=1)E[e]>=0?(E[e]+=d[e],d[e]=E[e]):(E[e]+=f[e],f[e]=E[e]);return r}},99719:function(it,w,t){"use strict";t.d(w,{Q:function(){return a}});var u=t(15767),D=t(3759),p=t(81614),M=t(28213),m=t(60698),c=t(16841),h=t(21788),v={reset:h.AG,speed:h.O3,backward:h.T_,playPause:h.Fd,forward:h.OU,selectionType:h.RT,chartType:h.oX,split:h.P},a=function(r){(0,u.ZT)(s,r);function s(o){var d=r.call(this,(0,M.n)({},s.defaultOptions,o))||this;return d.background=d.appendChild(new p.UL({})),d.functions=d.appendChild(new p.ZA({})),d}return Object.defineProperty(s.prototype,"padding",{get:function(){return(0,m.j)(this.attributes.padding)},enumerable:!1,configurable:!0}),s.prototype.renderBackground=function(){var o=this.style,d=o.x,f=o.y,y=o.width,E=o.height,e=(0,c.zs)(this.attributes,"background");this.background.attr((0,u.pi)({x:d,y:f,width:y,height:E},e))},s.prototype.renderFunctions=function(){var o=this,d,f=this.attributes,y=f.functions,E=f.iconSize,e=f.iconSpacing,i=f.x,n=f.y,l=f.width,O=f.height,C=f.align,T=(0,u.CR)(this.padding,4),P=T[1],b=T[3],x=y.reduce(function(K,N){return K.length&&N.length?K.concat.apply(K,(0,u.ev)(["split"],(0,u.CR)(N),!1)):K.concat.apply(K,(0,u.ev)([],(0,u.CR)(N),!1))},[]),I=x.length*(E+e)-e,S={left:b+E/2,center:(l-I)/2+E/2,right:l-I-b-P+E/2}[C]||0;(d=this.speedSelect)===null||d===void 0||d.destroy(),this.functions.removeChildren(),x.forEach(function(K,N){var z,j=v[K],W={x:i+N*(E+e)+S,y:n+O/2,size:E};if(j===h.O3?(W.speed=o.attributes.speed,W.onSelect=function(F){return o.handleFunctionChange(K,{value:F})}):[h.Fd,h.RT,h.oX].includes(j)?(W.onChange=function(F){return o.handleFunctionChange(K,{value:F})},j===h.Fd&&(W.type=o.attributes.state==="play"?"pause":"play"),j===h.RT&&(W.type=o.attributes.selectionType==="range"?"value":"range"),j===h.oX&&(W.type=o.attributes.chartType==="line"?"column":"line")):W.onClick=function(){return o.handleFunctionChange(K,{value:K})},j===h.O3){var U=(z=o.ownerDocument)===null||z===void 0?void 0:z.defaultView;U&&(o.speedSelect=new j({style:(0,u.pi)((0,u.pi)({},W),{zIndex:100})}),U.appendChild(o.speedSelect))}else o.functions.appendChild(new j({style:W}))})},s.prototype.disconnectedCallback=function(){var o;r.prototype.disconnectedCallback.call(this),(o=this.speedSelect)===null||o===void 0||o.destroy()},s.prototype.render=function(){this.renderBackground(),this.renderFunctions()},s.prototype.handleFunctionChange=function(o,d){var f=this.attributes.onChange;f==null||f(o,d)},s.defaultOptions={style:{x:0,y:0,width:300,height:40,padding:0,align:"center",iconSize:25,iconSpacing:0,speed:1,state:"pause",chartType:"line",selectionType:"range",backgroundFill:"#fbfdff",backgroundStroke:"#ebedf0",functions:[["reset","speed"],["backward","playPause","forward"],["selectionType","chartType"]]}},s}(D.w)},54830:function(it,w,t){"use strict";t.d(w,{b:function(){return v},u:function(){return h}});var u=t(15767),D=t(3759),p=t(81614),M=t(16841),m=t(82750),c=t(28213),h=function(a){(0,u.ZT)(r,a);function r(s){var o=a.call(this,(0,c.n)({},r.defaultOptions,s))||this;return o.bindEvents(),o}return r.prototype.bindEvents=function(){var s=this;this.addEventListener("mouseenter",function(){s.attr("lineWidth",Math.ceil(+(s.style.r||0)/2))}),this.addEventListener("mouseleave",function(){s.attr("lineWidth",0)})},r.defaultOptions={style:{r:5,fill:"#3f7cf7",lineWidth:0,stroke:"#3f7cf7",strokeOpacity:.5,cursor:"pointer"}},r}(p.Cd),v=function(a){(0,u.ZT)(r,a);function r(s){return a.call(this,(0,c.n)({},r.defaultOptions,s))||this}return r.prototype.renderBackground=function(){var s=this.attributes,o=s.x,d=s.y,f=s.width,y=s.height,E=(0,M.zs)(this.attributes,"background");(0,m.Ys)(this).maybeAppend("background","rect").attr("className","background").styles((0,u.pi)({x:o-f/2,y:d-y/2,width:f,height:y},E))},r.prototype.renderIcon=function(){var s=this.attributes,o=s.x,d=s.y,f=s.iconSize,y=(0,M.zs)(this.attributes,"icon"),E=1,e=f/2;(0,m.Ys)(this).maybeAppend("icon-left-line","line").attr("className","icon-left-line").styles((0,u.pi)({x1:o-E,y1:d-e,x2:o-E,y2:d+e},y)),(0,m.Ys)(this).maybeAppend("icon-right-line","line").attr("className","icon-right-line").styles((0,u.pi)({x1:o+E,y1:d-e,x2:o+E,y2:d+e},y))},r.prototype.renderBorder=function(){var s=this.attributes,o=s.x,d=s.y,f=s.width,y=s.height,E=s.type,e=(0,M.zs)(this.attributes,"border"),i=E==="start"?+f/2:-f/2;(0,m.Ys)(this).maybeAppend("border","line").attr("className","border").styles((0,u.pi)({x1:i+o,y1:d-y/2,x2:i+o,y2:d+y/2},e))},r.prototype.render=function(){this.renderBackground(),this.renderIcon(),this.renderBorder()},r.defaultOptions={style:{x:0,y:0,width:10,height:50,iconSize:10,type:"start",backgroundFill:"#fff",backgroundFillOpacity:.5,iconStroke:"#9a9a9a",iconLineWidth:1,borderStroke:"#e8e8e8",borderLineWidth:1}},r}(D.w)},21788:function(it,w,t){"use strict";t.d(w,{AG:function(){return f},Fd:function(){return I},O3:function(){return b},OU:function(){return E},P:function(){return P},RT:function(){return S},T_:function(){return y},oX:function(){return K}});var u=t(15767),D=t(97067),p=t(15378),M=t(3759),m=t(81614),c=t(28213),h=t(60698),v=t(16841),a=t(82750),r=t(15745),s=t(2733),o=function(N){(0,u.ZT)(z,N);function z(j){var W=N.call(this,(0,c.n)({},{style:{backgroundOpacity:z.backgroundOpacities.default}},z.defaultOptions,j))||this;return W.showBackground=!0,W.background=W.appendChild(new m.UL({})),W.icon=W.appendChild(new m.ZA({})),W}return Object.defineProperty(z.prototype,"label",{get:function(){return"BaseIcon"},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"lineWidth",{get:function(){return Math.log10(this.attributes.size)},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"padding",{get:function(){return(0,h.j)(this.attributes.size/5)},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"iconSize",{get:function(){var j=this.attributes.size,W=(0,u.CR)(this.padding,4),U=W[0],F=W[1],H=W[2],Y=W[3];return Math.max(j-Math.max(Y+F,U+H),this.lineWidth*2+1)},enumerable:!1,configurable:!0}),z.prototype.renderBackground=function(){var j=this.attributes,W=j.x,U=j.y,F=j.size,H=F/2,Y=(0,v.zs)(this.attributes,"background");this.background.attr((0,u.pi)({x:W-H,y:U-H,width:F,height:F},Y))},z.prototype.showIndicator=function(){if(this.label){var j=this.attributes.size,W=this.background.getBBox(),U=W.x,F=W.y;this.indicator.update({x:U+j/2,y:F-5,labelText:this.label,visibility:"visible"})}},z.prototype.hideIndicator=function(){this.indicator.update({visibility:"hidden"})},z.prototype.connectedCallback=function(){var j;N.prototype.connectedCallback.call(this);var W=this.attributes.size,U=this.background.getBBox(),F=U.x,H=U.y,Y=(j=this.ownerDocument)===null||j===void 0?void 0:j.defaultView;Y&&(this.indicator=Y.appendChild(new r.z({style:{x:F+W/2,y:H-W/2,visibility:"hidden",position:"top",radius:3,zIndex:100}})))},z.prototype.disconnectedCallback=function(){this.indicator.destroy()},z.prototype.render=function(){this.renderIcon(),this.showBackground&&this.renderBackground()},z.prototype.bindEvents=function(){var j=this,W=this.attributes.onClick;if(this.addEventListener("click",function(){W==null||W(j)}),this.showBackground){var U=function(){return j.background.attr({opacity:z.backgroundOpacities.default})},F=function(){return j.background.attr({opacity:z.backgroundOpacities.hover})},H=function(){return j.background.attr({opacity:z.backgroundOpacities.active})};this.addEventListener("pointerenter",function(){F(),j.showIndicator()}),this.addEventListener("pointerleave",function(){U(),j.hideIndicator()}),this.addEventListener("pointerdown",function(){H()}),this.addEventListener("pointerup",function(){U()})}},z.tag="IconBase",z.defaultOptions={style:{x:0,y:0,size:10,color:"#565758",backgroundRadius:4,backgroundFill:"#e2e2e2"}},z.backgroundOpacities={default:0,hover:.8,active:1},z}(M.w),d=function(N,z){return z===void 0&&(z="#565758"),new m.y$({style:{fill:z,d:"M ".concat(N,",").concat(N," L -").concat(N,",0 L ").concat(N,",-").concat(N," Z"),transformOrigin:"center"}})},f=function(N){(0,u.ZT)(z,N);function z(){return N!==null&&N.apply(this,arguments)||this}return z.prototype.arcPath=function(j,W,U){var F=(0,u.CR)([U,U],2),H=F[0],Y=F[1],V=function(nt){return[j+U*Math.cos(nt),W+U*Math.sin(nt)]},X=(0,u.CR)(V(-5/4*Math.PI),2),$=X[0],rt=X[1],ot=(0,u.CR)(V(1/4*Math.PI),2),tt=ot[0],G=ot[1];return"M".concat($,",").concat(rt,",A").concat(H,",").concat(Y,",0,1,1,").concat(tt,",").concat(G)},Object.defineProperty(z.prototype,"label",{get:function(){return"\u91CD\u7F6E"},enumerable:!1,configurable:!0}),z.prototype.renderIcon=function(){var j=this.attributes,W=j.x,U=j.y,F=j.color,H=this.iconSize,Y=this.lineWidth,V=Y+.5;(0,a.Ys)(this.icon).maybeAppend(".reset","path").styles({stroke:F,lineWidth:Y,d:this.arcPath(W,U,H/2-Y),markerStart:d(V,F)})},z}(o),y=function(N){(0,u.ZT)(z,N);function z(){return N!==null&&N.apply(this,arguments)||this}return Object.defineProperty(z.prototype,"label",{get:function(){return"\u5FEB\u9000"},enumerable:!1,configurable:!0}),z.prototype.renderIcon=function(){var j=this.attributes,W=j.x,U=j.y,F=j.color,H=this.iconSize,Y=H/2,V=H/2/Math.pow(3,.5),X=[[W,U],[W,U-V],[W-Y,U],[W,U+V],[W,U],[W+Y,U-V],[W+Y,U+V],[W,U]];(0,a.Ys)(this.icon).maybeAppend(".backward","polygon").styles({points:X,fill:F})},z}(o),E=function(N){(0,u.ZT)(z,N);function z(){return N!==null&&N.apply(this,arguments)||this}return Object.defineProperty(z.prototype,"label",{get:function(){return"\u5FEB\u8FDB"},enumerable:!1,configurable:!0}),z.prototype.renderIcon=function(){var j=this.attributes,W=j.x,U=j.y,F=j.color,H=this.iconSize,Y=H/2,V=H/2/Math.pow(3,.5),X=[[W,U],[W,U-V],[W+Y,U],[W,U+V],[W,U],[W-Y,U-V],[W-Y,U+V],[W,U]];(0,a.Ys)(this.icon).maybeAppend(".forward","polygon").styles({points:X,fill:F})},z}(o),e=function(N){(0,u.ZT)(z,N);function z(){return N!==null&&N.apply(this,arguments)||this}return Object.defineProperty(z.prototype,"label",{get:function(){return"\u64AD\u653E"},enumerable:!1,configurable:!0}),z.prototype.renderIcon=function(){var j=this.attributes,W=j.x,U=j.y,F=j.color,H=this.iconSize,Y=H/3*Math.pow(3,.5)*.8,V=[[W+Y,U],[W-Y/2,U-H/2*.8],[W-Y/2,U+H/2*.8],[W+Y,U]];(0,a.Ys)(this.icon).maybeAppend(".play","polygon").styles({points:V,fill:F})},z}(o),i=function(N){(0,u.ZT)(z,N);function z(){return N!==null&&N.apply(this,arguments)||this}return Object.defineProperty(z.prototype,"label",{get:function(){return"\u6682\u505C"},enumerable:!1,configurable:!0}),z.prototype.renderIcon=function(){var j=this.attributes,W=j.x,U=j.y,F=j.color,H=this.iconSize,Y=H/3,V=[[W-Y,U-H/2],[W-Y,U+H/2],[W-Y/2,U+H/2],[W-Y/2,U-H/2],[W-Y,U-H/2],[W+Y/2,U-H/2],[W+Y/2,U+H/2],[W+Y,U+H/2],[W+Y,U-H/2]];(0,a.Ys)(this.icon).maybeAppend(".pause","polygon").styles({points:V,fill:F})},z}(o),n=function(N){(0,u.ZT)(z,N);function z(){return N!==null&&N.apply(this,arguments)||this}return Object.defineProperty(z.prototype,"label",{get:function(){return"\u8303\u56F4\u65F6\u95F4"},enumerable:!1,configurable:!0}),z.prototype.renderIcon=function(){var j=this.attributes,W=j.x,U=j.y,F=j.color,H=this,Y=H.iconSize,V=H.lineWidth,X=V;(0,a.Ys)(this.icon).maybeAppend(".left-line","line").styles({x1:W-Y/2,y1:U-Y/2,x2:W-Y/2,y2:U+Y/2,stroke:F,lineWidth:V}),(0,a.Ys)(this.icon).maybeAppend(".right-line","line").styles({x1:W+Y/2,y1:U-Y/2,x2:W+Y/2,y2:U+Y/2,stroke:F,lineWidth:V}),(0,a.Ys)(this.icon).maybeAppend(".left-arrow","line").styles({x1:W,y1:U,x2:W-Y/2+X*2,y2:U,stroke:F,lineWidth:V,markerEnd:d(V*2,F)}),(0,a.Ys)(this.icon).maybeAppend(".right-arrow","line").styles({x1:W,y1:U,x2:W+Y/2-X*2,y2:U,stroke:F,lineWidth:V,markerEnd:d(V*2,F)})},z}(o),l=function(N){(0,u.ZT)(z,N);function z(){return N!==null&&N.apply(this,arguments)||this}return Object.defineProperty(z.prototype,"label",{get:function(){return"\u5355\u4E00\u65F6\u95F4"},enumerable:!1,configurable:!0}),z.prototype.renderIcon=function(){var j=this.attributes,W=j.x,U=j.y,F=j.color,H=this,Y=H.iconSize,V=H.lineWidth;(0,a.Ys)(this.icon).maybeAppend(".line","line").styles({x1:W,y1:U-Y/2,x2:W,y2:U+Y/2,stroke:F,lineWidth:V});var X=V;(0,a.Ys)(this.icon).maybeAppend(".left-arrow","line").styles({x1:W-Y/2-X*2,y1:U,x2:W-X*2,y2:U,stroke:F,lineWidth:V,markerEnd:d(V*2,F)}),(0,a.Ys)(this.icon).maybeAppend(".right-arrow","line").styles({x1:W+Y/2+X*2,y1:U,x2:W+X*2,y2:U,stroke:F,lineWidth:V,markerEnd:d(V*2,F)})},z}(o),O=function(N){return[[-N/2,-N/2],[-N/2,N/2],[N/2,N/2]]},C=function(N){(0,u.ZT)(z,N);function z(){return N!==null&&N.apply(this,arguments)||this}return Object.defineProperty(z.prototype,"label",{get:function(){return"\u6298\u7EBF\u56FE"},enumerable:!1,configurable:!0}),z.prototype.renderIcon=function(){var j=this.attributes,W=j.x,U=j.y,F=j.color,H=this,Y=H.iconSize,V=H.lineWidth,X=V,$=(Y-X*2-V)/4,rt=(Y-X*2-V)/2,ot=(0,u.CR)([W-Y/2+X,U+Y/2-X*2],2),tt=ot[0],G=ot[1];(0,a.Ys)(this.icon).maybeAppend(".coordinate","polyline").styles({points:O(Y).map(function(nt){var ut=(0,u.CR)(nt,2),dt=ut[0],et=ut[1];return[dt+W,et+U]}),stroke:F,lineWidth:V}),(0,a.Ys)(this.icon).maybeAppend(".line","polyline").styles({points:[[tt,G],[tt+$,G-rt],[tt+$*2,G],[tt+$*4,G-rt*2]],stroke:F,lineWidth:V})},z}(o),T=function(N){(0,u.ZT)(z,N);function z(){return N!==null&&N.apply(this,arguments)||this}return Object.defineProperty(z.prototype,"label",{get:function(){return"\u6761\u5F62\u56FE"},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"data",{get:function(){return[1,4,2,4,3]},enumerable:!1,configurable:!0}),z.prototype.renderIcon=function(){var j=this.data,W=this.attributes,U=W.x,F=W.y,H=W.color,Y=this,V=Y.iconSize,X=Y.lineWidth,$=X,rt=(V-$)/j.length,ot=(V-$*2)/4,tt=(0,u.CR)([U-V/2+$*2,F+V/2-$],2),G=tt[0],nt=tt[1];(0,a.Ys)(this.icon).maybeAppend(".coordinate","polyline").styles({points:O(V).map(function(ut){var dt=(0,u.CR)(ut,2),et=dt[0],gt=dt[1];return[et+U,gt+F]}),stroke:H,lineWidth:X}),(0,a.Ys)(this.icon).maybeAppend(".bars","g").selectAll(".column").data(this.data.map(function(ut,dt){return{value:ut,index:dt}})).join(function(ut){return ut.append("line").attr("className","column").style("x1",function(dt){var et=dt.index;return G+rt*et}).style("y1",nt).style("x2",function(dt){var et=dt.index;return G+rt*et}).style("y2",function(dt){var et=dt.value;return nt-ot*et}).styles({y1:nt,stroke:H,lineWidth:X})})},z}(o),P=function(N){(0,u.ZT)(z,N);function z(j){var W=N.call(this,(0,c.n)({},{style:{color:"#d8d9d9"}},j))||this;return W.showBackground=!1,W}return z.prototype.renderIcon=function(){var j=this.attributes,W=j.x,U=j.y,F=j.color,H=this,Y=H.iconSize,V=H.lineWidth;(0,a.Ys)(this.icon).maybeAppend(".split","line").styles({x1:W,y1:U-Y/2,x2:W,y2:U+Y/2,stroke:F,lineWidth:V})},z}(o),b=function(N){(0,u.ZT)(z,N);function z(){var j=N.apply(this,(0,u.ev)([],(0,u.CR)(arguments),!1))||this;return j.showBackground=!1,j}return Object.defineProperty(z.prototype,"padding",{get:function(){return(0,h.j)(0)},enumerable:!1,configurable:!0}),z.prototype.renderIcon=function(){var j=this.iconSize,W=this.attributes,U=W.x,F=W.y,H=W.speed,Y=H===void 0?1:H,V=(0,D.Z)(this.attributes,["x","y","transform","transformOrigin","width","height","size","color","speed"]),X=(0,p.Z)(j,20,1/0),$=20,rt=(0,u.pi)((0,u.pi)({},V),{x:U-X/2,y:F-$/2,width:X,height:$,defaultValue:Y,bordered:!1,showDropdownIcon:!1,selectRadius:2,dropdownPadding:this.padding,dropdownRadius:2,dropdownSpacing:j/5,placeholderFontSize:j/2,optionPadding:0,optionLabelFontSize:j/2,optionBackgroundRadius:1,options:[{label:"1x",value:1},{label:"1.5x",value:1.5},{label:"2x",value:2}]});(0,a.Ys)(this.icon).maybeAppend(".speed",function(){return new s.P({style:rt})}).attr("className","speed").each(function(){this.update(rt)})},z.tag="SpeedSelect",z}(o),x=function(N){(0,u.ZT)(z,N);function z(j){var W=N.call(this,j)||this;return W.icon=W.appendChild(new m.ZA({})),W.currentType=W.attributes.type,W}return z.prototype.getType=function(){return this.currentType},z.prototype.render=function(){var j=this,W=this.attributes,U=W.onChange,F=(0,u._T)(W,["onChange"]);(0,a.Ys)(this.icon).selectAll(".icon").data([this.currentType]).join(function(H){return H.append(function(Y){var V,X=(V=j.toggles.find(function($){var rt=(0,u.CR)($,1),ot=rt[0];return ot===Y}))===null||V===void 0?void 0:V[1];if(!X)throw new Error("Invalid type: ".concat(Y));return new X({})}).attr("className","icon").styles(F,!1).update({})},function(H){return H.styles({restStyles:F}).update({})},function(H){return H.remove()})},z.prototype.bindEvents=function(){var j=this,W=this.attributes.onChange;this.addEventListener("click",function(U){U.preventDefault(),U.stopPropagation();var F=(j.toggles.findIndex(function(Y){var V=(0,u.CR)(Y,1),X=V[0];return X===j.currentType})+1)%j.toggles.length,H=j.toggles[F][0];W==null||W(j.currentType),j.currentType=H,j.render()})},z.tag="ToggleIcon",z}(M.w),I=function(N){(0,u.ZT)(z,N);function z(j){var W=N.call(this,(0,c.n)({},{style:{type:"play"}},j))||this;return W.toggles=[["play",e],["pause",i]],W}return z}(x),S=function(N){(0,u.ZT)(z,N);function z(j){var W=N.call(this,(0,c.n)({},{style:{type:"range"}},j))||this;return W.toggles=[["range",n],["value",l]],W}return z}(x),K=function(N){(0,u.ZT)(z,N);function z(j){var W=N.call(this,(0,c.n)({},{style:{type:"column"}},j))||this;return W.toggles=[["line",C],["column",T]],W}return z}(x)},29371:function(it,w,t){"use strict";t.d(w,{s:function(){return f}});var u=t(15767),D=t(15378),p=t(3759),M=t(81614),m=t(28213),c=t(58105),h=t(16841),v=t(85104),a=t(58643),r=t(54321),s=t(99719),o=t(54830),d=t(2077),f=function(y){(0,u.ZT)(E,y);function E(e){var i=y.call(this,(0,m.n)({},E.defaultOptions,e))||this;i.axis=i.appendChild(new a.R({style:{type:"linear",startPos:[0,0],endPos:[0,0],data:[],showArrow:!1,animate:!1}})),i.timeline=i.appendChild(new r.i({style:{onChange:function(x){i.handleSliderChange(x)}}})),i.controller=i.appendChild(new s.Q({})),i.states={},i.handleSliderChange=function(x){var I=function(){var S=i.states.values;return Array.isArray(S)?(0,u.ev)([],(0,u.CR)(S),!1):S}();i.setBySliderValues(x),i.dispatchOnChange(I)};var n=i.attributes,l=n.selectionType,O=n.chartType,C=n.speed,T=n.state,P=n.playMode,b=n.values;return i.states={chartType:O,playMode:P,selectionType:l,speed:C,state:T},i.setByTimebarValues(b),i}return Object.defineProperty(E.prototype,"data",{get:function(){var e=this.attributes.data,i=function(n,l){return n.time<l.time?-1:n.time>l.time?1:0};return e.sort(i)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"space",{get:function(){var e=this.attributes,i=e.x,n=e.y,l=e.width,O=e.height,C=e.type,T=e.controllerHeight,P=(0,D.Z)(+O-T,0,+O),b=new c.b(i,n+ +O-T,+l,T),x,I=0;C==="chart"?(I=35,x=new c.b(i,n+P-I,+l,I)):x=new c.b;var S=C==="time"?10:P,K=new c.b(i,n+(C==="time"?P:P-S),+l,S-I);return{axisBBox:x,controllerBBox:b,timelineBBox:K}},enumerable:!1,configurable:!0}),E.prototype.setBySliderValues=function(e){var i,n,l=this.data,O=(0,u.CR)(Array.isArray(e)?e:[0,e],2),C=O[0],T=O[1],P=l.length,b=l[Math.floor(C*P)],x=l[Math.ceil(T*P)-(Array.isArray(e)?0:1)];this.states.values=[(i=b==null?void 0:b.time)!==null&&i!==void 0?i:l[0].time,(n=x==null?void 0:x.time)!==null&&n!==void 0?n:1/0]},E.prototype.setByTimebarValues=function(e){var i,n,l,O=this.data,C=(0,u.CR)(Array.isArray(e)?e:[void 0,e],2),T=C[0],P=C[1],b=O.find(function(I){var S=I.time;return S===T}),x=O.find(function(I){var S=I.time;return S===P});this.states.values=[(i=b==null?void 0:b.time)!==null&&i!==void 0?i:(n=O[0])===null||n===void 0?void 0:n.time,(l=x==null?void 0:x.time)!==null&&l!==void 0?l:1/0]},E.prototype.setByIndex=function(e){var i,n,l,O,C=this.data,T=(0,u.CR)(e,2),P=T[0],b=T[1];this.states.values=[(n=(i=C[P])===null||i===void 0?void 0:i.time)!==null&&n!==void 0?n:C[0].time,(O=(l=this.data[b])===null||l===void 0?void 0:l.time)!==null&&O!==void 0?O:1/0]},Object.defineProperty(E.prototype,"sliderValues",{get:function(){var e=this.states,i=e.values,n=e.selectionType,l=(0,u.CR)(Array.isArray(i)?i:[void 0,i],2),O=l[0],C=l[1],T=this.data,P=T.length,b=n==="value",x=function(){var S=T.findIndex(function(K){var N=K.time;return N===O});return b?0:S>-1?S/P:0},I=function(){if(C===1/0)return 1;var S=T.findIndex(function(K){var N=K.time;return N===C});return S>-1?S/P:b?.5:1};return[x(),I()]},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"values",{get:function(){var e=this.states,i=e.values,n=e.selectionType,l=(0,u.CR)(Array.isArray(i)?i:[this.data[0].time,i],2),O=l[0],C=l[1];return n==="value"?C:[O,C]},enumerable:!1,configurable:!0}),E.prototype.getDatumByRatio=function(e){var i=this.data,n=i.length,l=Math.floor(e*(n-1));return i[l]},Object.defineProperty(E.prototype,"chartHandleIconShape",{get:function(){var e=this.states.selectionType,i=this.space.timelineBBox.height;return e==="range"?function(n){return new o.b({style:{type:n,height:i,iconSize:i/6}})}:function(){return new M.x1({style:{x1:0,y1:-i/2,x2:0,y2:i/2,lineWidth:2,stroke:"#c8c8c8"}})}},enumerable:!1,configurable:!0}),E.prototype.getChartStyle=function(e){var i=this,n=e.x,l=e.y,O=e.width,C=e.height,T=this.states,P=T.selectionType,b=T.chartType,x=this.data,I=this.attributes,S=I.type,K=I.labelFormatter,N=(0,h.zs)(this.attributes,"chart"),z=N.type,j=(0,u._T)(N,["type"]),W=P==="range";if(S==="time")return(0,u.pi)({handleIconShape:function(){return new o.u({})},selectionFill:"#2e7ff8",selectionFillOpacity:1,showLabelOnInteraction:!0,handleLabelDy:W?-15:0,autoFitLabel:W,handleSpacing:W?-15:0,trackFill:"#edeeef",trackLength:O,trackOpacity:.5,trackRadius:C/2,trackSize:C/2,type:P,values:this.sliderValues,formatter:function(H){if(K)return K(H);var Y=i.getDatumByRatio(H).time;return typeof Y=="number"?(0,d.Dw)(Y):(0,v.mr)(Y,"YYYY-MM-DD HH:mm:ss")},transform:"translate(".concat(n,", ").concat(l,")"),zIndex:1},j);var U=P==="range"?5:0,F=x.map(function(H){var Y=H.value;return Y});return(0,u.pi)({handleIconOffset:U,handleIconShape:this.chartHandleIconShape,selectionFill:"#fff",selectionFillOpacity:.5,selectionType:"invert",sparklineSpacing:.1,sparklineColumnLineWidth:0,sparklineColor:"#d4e5fd",sparklineAreaOpacity:1,sparklineAreaLineWidth:0,sparklineData:F,sparklineType:b,sparklineScale:.8,trackLength:O,trackSize:C,type:P,values:this.sliderValues,transform:"translate(".concat(n,", ").concat(l,")"),zIndex:1},j)},E.prototype.renderChart=function(e){e===void 0&&(e=this.space.timelineBBox),this.timeline.update(this.getChartStyle(e))},E.prototype.updateSelection=function(){this.timeline.setValues(this.sliderValues,!0),this.handleSliderChange(this.sliderValues)},E.prototype.getAxisStyle=function(e){var i=this.data,n=this.attributes,l=n.interval,O=n.labelFormatter,C=(0,h.zs)(this.attributes,"axis"),T=e.x,P=e.y,b=e.width,x=(0,u.ev)((0,u.ev)([],(0,u.CR)(i),!1),[{time:0}],!1).map(function(S,K,N){var z=S.time;return{label:"".concat(z),value:K/(N.length-1),time:z}}),I=(0,u.pi)({startPos:[T,P],endPos:[T+b,P],data:x,labelFilter:function(S,K){return K<x.length-1},labelFormatter:function(S){var K=S.time;return O?O(K):(0,d.rM)(K,l)}},C);return I},E.prototype.renderAxis=function(e){e===void 0&&(e=this.space.axisBBox);var i=this.attributes.type;i==="chart"&&this.axis.update(this.getAxisStyle(e))},E.prototype.renderController=function(e){e===void 0&&(e=this.space.controllerBBox);var i=this.attributes.type,n=this.states,l=n.state,O=n.speed,C=n.selectionType,T=n.chartType,P=(0,h.zs)(this.attributes,"controller"),b=this,x=(0,u.pi)((0,u.pi)((0,u.pi)({},e),{iconSize:20,speed:O,state:l,selectionType:C,chartType:T,onChange:function(I,S){var K=S.value;switch(I){case"reset":b.internalReset();break;case"speed":b.handleSpeedChange(K);break;case"backward":b.internalBackward();break;case"playPause":K==="play"?b.internalPlay():b.internalPause();break;case"forward":b.internalForward();break;case"selectionType":b.handleSelectionTypeChange(K);break;case"chartType":b.handleChartTypeChange(K);break;default:break}}}),P);i==="time"&&(x.functions=[["reset","speed"],["backward","playPause","forward"],["selectionType"]]),this.controller.update(x)},E.prototype.dispatchOnChange=function(e){var i=this.data,n=this.attributes.onChange,l=this.states,O=l.values,C=l.selectionType,T=(0,u.CR)(O,2),P=T[0],b=T[1],x=b===1/0?i.at(-1).time:b,I=C==="range"?[P,x]:x,S=function(K,N){return Array.isArray(K)?Array.isArray(N)?K[0]===N[0]&&(K[1]===N[1]||K[1]===1/0||N[1]===1/0):!1:Array.isArray(N)?!1:K===N};(!e||!S(e,I))&&(n==null||n(C==="range"?[P,x]:x))},E.prototype.internalReset=function(e){var i,n,l=this.states.selectionType;this.internalPause(),this.setBySliderValues(l==="range"?[0,1]:[0,0]),this.renderController(),this.updateSelection(),e||((n=(i=this.attributes)===null||i===void 0?void 0:i.onReset)===null||n===void 0||n.call(i),this.dispatchOnChange())},E.prototype.reset=function(){this.internalReset()},E.prototype.moveSelection=function(e,i){var n=this.data,l=n.length,O=this.states,C=O.values,T=O.selectionType,P=O.playMode,b=(0,u.CR)(C,2),x=b[0],I=b[1],S=n.findIndex(function(U){var F=U.time;return F===x}),K=n.findIndex(function(U){var F=U.time;return F===I});K===-1&&(K=l);var N=e==="backward"?-1:1,z;T==="range"?P==="acc"?(z=[S,K+N],N===-1&&S===K&&(z=[S,l])):z=[S+N,K+N]:z=[S,K+N];var j=function(U){var F=(0,u.CR)(U.sort(function(X,$){return X-$}),2),H=F[0],Y=F[1],V=function(X){return(0,D.Z)(X,0,l)};return Y>l?T==="value"?[0,0]:P==="acc"?[V(H),V(H)]:[0,V(Y-H)]:H<0?P==="acc"?[0,V(Y)]:[V(H+l-Y),l]:[V(H),V(Y)]},W=j(z);return this.setByIndex(W),this.updateSelection(),W},E.prototype.internalBackward=function(e){var i,n,l=this.moveSelection("backward",e);return e||((n=(i=this.attributes)===null||i===void 0?void 0:i.onBackward)===null||n===void 0||n.call(i),this.dispatchOnChange()),l},E.prototype.backward=function(){this.internalBackward()},E.prototype.internalPlay=function(e){var i=this,n,l,O=this.data,C=this.attributes.loop,T=this.states.speed,P=T===void 0?1:T;this.playInterval=window.setInterval(function(){var b=i.internalForward();b[1]===O.length&&!C&&(i.internalPause(),i.renderController())},1e3/P),this.states.state="play",!e&&((l=(n=this.attributes)===null||n===void 0?void 0:n.onPlay)===null||l===void 0||l.call(n))},E.prototype.play=function(){this.internalPlay()},E.prototype.internalPause=function(e){var i,n;clearInterval(this.playInterval),this.states.state="pause",!e&&((n=(i=this.attributes)===null||i===void 0?void 0:i.onPause)===null||n===void 0||n.call(i))},E.prototype.pause=function(){this.internalPause()},E.prototype.internalForward=function(e){var i,n,l=this.moveSelection("forward",e);return e||((n=(i=this.attributes)===null||i===void 0?void 0:i.onForward)===null||n===void 0||n.call(i),this.dispatchOnChange()),l},E.prototype.forward=function(){this.internalForward()},E.prototype.handleSpeedChange=function(e){var i,n;this.states.speed=e;var l=this.states.state;l==="play"&&(this.internalPause(!0),this.internalPlay(!0)),(n=(i=this.attributes)===null||i===void 0?void 0:i.onSpeedChange)===null||n===void 0||n.call(i,e)},E.prototype.handleSelectionTypeChange=function(e){var i,n;this.states.selectionType=e,this.renderChart(),(n=(i=this.attributes)===null||i===void 0?void 0:i.onSelectionTypeChange)===null||n===void 0||n.call(i,e)},E.prototype.handleChartTypeChange=function(e){var i,n;this.states.chartType=e,this.renderChart(),(n=(i=this.attributes)===null||i===void 0?void 0:i.onChartTypeChange)===null||n===void 0||n.call(i,e)},E.prototype.render=function(){var e=this.space,i=e.axisBBox,n=e.controllerBBox,l=e.timelineBBox;this.renderController(n),this.renderAxis(i),this.renderChart(l),this.states.state==="play"&&this.internalPlay()},E.prototype.destroy=function(){y.prototype.destroy.call(this),this.internalPause(!0)},E.defaultOptions={style:{x:0,y:0,axisLabelFill:"#6e6e6e",axisLabelTextAlign:"left",axisLabelTextBaseline:"top",axisLabelTransform:"translate(5, -12)",axisLineLineWidth:1,axisLineStroke:"#cacdd1",axisTickLength:15,axisTickLineWidth:1,axisTickStroke:"#cacdd1",chartShowLabel:!1,chartType:"line",controllerAlign:"center",controllerHeight:40,data:[],interval:"day",loop:!1,playMode:"acc",selectionType:"range",type:"time"}},E}(p.w)},2077:function(it,w,t){"use strict";t.d(w,{Dw:function(){return M},rM:function(){return D}});var u=t(85104);function D(m,c){return typeof m=="number"?M(m):p(m,c)}function p(m,c){var h=new Date(m);switch(c){case"half-hour":case"hour":case"four-hour":return[0,6,12,18].includes(h.getHours())&&h.getMinutes()===0?(0,u.mr)(h,`HH:mm
YYYY-MM-DD`):(0,u.mr)(h,"HH:mm");case"half-day":return h.getHours()<12?`AM
`.concat((0,u.mr)(h,"YYYY-MM-DD")):"PM";case"day":return[1,10,20].includes(h.getDate())?(0,u.mr)(h,`DD
YYYY-MM`):(0,u.mr)(h,"DD");case"week":return h.getDate()<=7?(0,u.mr)(h,`DD
YYYY-MM`):(0,u.mr)(h,"DD");case"month":return[0,6].includes(h.getMonth())?(0,u.mr)(h,`MM\u6708
YYYY`):(0,u.mr)(h,"MM\u6708");case"season":return[0].includes(h.getMonth())?(0,u.mr)(h,`MM\u6708
YYYY`):(0,u.mr)(h,"MM\u6708");case"year":return(0,u.mr)(h,"YYYY");default:return(0,u.mr)(h,"YYYY-MM-DD HH:mm")}}function M(m){var c=String(Math.floor(m/3600)).padStart(2,"0"),h=String(Math.floor(m%3600/60)).padStart(2,"0"),v=String(Math.floor(m%60)).padStart(2,"0");return m<3600?"".concat(h,":").concat(v):"".concat(c,":").concat(h,":").concat(v)}},8314:function(it,w,t){"use strict";t.d(w,{M:function(){return M},f:function(){return D}});var u=t(15767);function D(m){return m===void 0&&(m=""),{CONTAINER:"".concat(m,"tooltip"),TITLE:"".concat(m,"tooltip-title"),LIST:"".concat(m,"tooltip-list"),LIST_ITEM:"".concat(m,"tooltip-list-item"),NAME:"".concat(m,"tooltip-list-item-name"),MARKER:"".concat(m,"tooltip-list-item-marker"),NAME_LABEL:"".concat(m,"tooltip-list-item-name-label"),VALUE:"".concat(m,"tooltip-list-item-value"),CROSSHAIR_X:"".concat(m,"tooltip-crosshair-x"),CROSSHAIR_Y:"".concat(m,"tooltip-crosshair-y")}}var p={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"};function M(m){var c;m===void 0&&(m="");var h=D(m);return c={},c[".".concat(h.CONTAINER)]={position:"absolute",visibility:"visible","z-index":8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)","background-color":"rgba(255, 255, 255, 0.96)","box-shadow":"0 6px 12px 0 rgba(0, 0, 0, 0.12)","border-radius":"4px",color:"rgba(0, 0, 0, 0.65)","font-size":"12px","line-height":"20px",padding:"12px","min-width":"120px","max-width":"360px","font-family":"Roboto-Regular"},c[".".concat(h.TITLE)]={color:"rgba(0, 0, 0, 0.45)"},c[".".concat(h.LIST)]={margin:"0px","list-style-type":"none",padding:"0px"},c[".".concat(h.LIST_ITEM)]={"list-style-type":"none",display:"flex","line-height":"2em","align-items":"center","justify-content":"space-between","white-space":"nowrap"},c[".".concat(h.MARKER)]={width:"8px",height:"8px","border-radius":"50%",display:"inline-block","margin-right":"4px"},c[".".concat(h.NAME)]={display:"flex","align-items":"center","max-width":"216px"},c[".".concat(h.NAME_LABEL)]=(0,u.pi)({flex:1},p),c[".".concat(h.VALUE)]=(0,u.pi)({display:"inline-block",float:"right",flex:1,"text-align":"right","min-width":"28px","margin-left":"30px",color:"rgba(0, 0, 0, 0.85)"},p),c[".".concat(h.CROSSHAIR_X)]={position:"absolute",width:"1px","background-color":"rgba(0, 0, 0, 0.25)"},c[".".concat(h.CROSSHAIR_Y)]={position:"absolute",height:"1px","background-color":"rgba(0, 0, 0, 0.25)"},c}},8701:function(it,w,t){"use strict";t.d(w,{u:function(){return a}});var u=t(15767),D=t(39559),p=t(94193),M=t(3759),m=t(1795),c=t(16841),h=t(58105),v=t(8314),a=function(r){(0,u.ZT)(s,r);function s(o){var d=this,f,y,E=(y=(f=o.style)===null||f===void 0?void 0:f.template)===null||y===void 0?void 0:y.prefixCls,e=(0,v.f)(E);return d=r.call(this,o,{data:[],x:0,y:0,visibility:"visible",title:"",position:"bottom-right",offset:[5,5],enterable:!1,container:{x:0,y:0},bounding:null,template:{prefixCls:"",container:'<div class="'.concat(e.CONTAINER,'"></div>'),title:'<div class="'.concat(e.TITLE,'"></div>'),item:'<li class="'.concat(e.LIST_ITEM,`" data-index={index}>
        <span class="`).concat(e.NAME,`">
          <span class="`).concat(e.MARKER,`" style="background:{color}"></span>
          <span class="`).concat(e.NAME_LABEL,`" title="{name}">{name}</span>
        </span>
        <span class="`).concat(e.VALUE,`" title="{value}">{value}</span>
      </li>`)},style:(0,v.M)(E)})||this,d.timestamp=-1,d.prevCustomContentKey=d.attributes.contentKey,d.initShape(),d.render(d.attributes,d),d}return Object.defineProperty(s.prototype,"HTMLTooltipElement",{get:function(){return this.element},enumerable:!1,configurable:!0}),s.prototype.getContainer=function(){return this.element},Object.defineProperty(s.prototype,"elementSize",{get:function(){var o=this.element.offsetWidth,d=this.element.offsetHeight;return{width:o,height:d}},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"HTMLTooltipItemsElements",{get:function(){var o=this.attributes,d=o.data,f=o.template;return d.map(function(y,E){var e=y.name,i=e===void 0?"":e,n=y.color,l=n===void 0?"black":n,O=y.index,C=(0,u._T)(y,["name","color","index"]),T=(0,u.pi)({name:i,color:l,index:O!=null?O:E},C);return(0,D.L)((0,p.Z)(f.item,T))})},enumerable:!1,configurable:!0}),s.prototype.render=function(o,d){this.renderHTMLTooltipElement(),this.updatePosition()},s.prototype.destroy=function(){var o;(o=this.element)===null||o===void 0||o.remove(),r.prototype.destroy.call(this)},s.prototype.show=function(o,d){var f=this;if(o!==void 0&&d!==void 0){var y=this.element.style.visibility==="hidden",E=function(){f.attributes.x=o!=null?o:f.attributes.x,f.attributes.y=d!=null?d:f.attributes.y,f.updatePosition()};y?this.closeTransition(E):E()}this.element.style.visibility="visible"},s.prototype.hide=function(o,d){o===void 0&&(o=0),d===void 0&&(d=0);var f=this.attributes.enterable;f&&this.isCursorEntered(o,d)||(this.element.style.visibility="hidden")},s.prototype.initShape=function(){var o=this.attributes.template;this.element=(0,D.L)(o.container),this.id&&this.element.setAttribute("id",this.id)},s.prototype.renderCustomContent=function(){if(!(this.prevCustomContentKey!==void 0&&this.prevCustomContentKey===this.attributes.contentKey)){this.prevCustomContentKey=this.attributes.contentKey;var o=this.attributes.content;o&&(typeof o=="string"?this.element.innerHTML=o:(0,m.h)(this.element,o))}},s.prototype.renderHTMLTooltipElement=function(){var o,d,f=this.attributes,y=f.template,E=f.title,e=f.enterable,i=f.style,n=f.content,l=(0,v.f)(y.prefixCls),O=this.element;if(this.element.style.pointerEvents=e?"auto":"none",n)this.renderCustomContent();else{E?(O.innerHTML=y.title,O.getElementsByClassName(l.TITLE)[0].innerHTML=E):(d=(o=O.getElementsByClassName(l.TITLE))===null||o===void 0?void 0:o[0])===null||d===void 0||d.remove();var C=this.HTMLTooltipItemsElements,T=document.createElement("ul");T.className=l.LIST,(0,m.h)(T,C);var P=this.element.querySelector(".".concat(l.LIST));P?P.replaceWith(T):O.appendChild(T)}(0,c.MC)(O,i)},s.prototype.getRelativeOffsetFromCursor=function(o){var d=this.attributes,f=d.position,y=d.offset,E=o||f,e=E.split("-"),i={left:[-1,0],right:[1,0],top:[0,-1],bottom:[0,1]},n=this.elementSize,l=n.width,O=n.height,C=[-l/2,-O/2];return e.forEach(function(T){var P=(0,u.CR)(C,2),b=P[0],x=P[1],I=(0,u.CR)(i[T],2),S=I[0],K=I[1];C=[b+(l/2+y[0])*S,x+(O/2+y[1])*K]}),C},s.prototype.setOffsetPosition=function(o){var d=(0,u.CR)(o,2),f=d[0],y=d[1],E=this.attributes,e=E.x,i=e===void 0?0:e,n=E.y,l=n===void 0?0:n,O=E.container,C=O.x,T=O.y;this.element.style.left="".concat(+i+C+f,"px"),this.element.style.top="".concat(+l+T+y,"px")},s.prototype.updatePosition=function(){var o=this.attributes.showDelay,d=o===void 0?60:o,f=Date.now();this.timestamp>0&&f-this.timestamp<d||(this.timestamp=f,this.setOffsetPosition(this.autoPosition(this.getRelativeOffsetFromCursor())))},s.prototype.autoPosition=function(o){var d=(0,u.CR)(o,2),f=d[0],y=d[1],E=this.attributes,e=E.x,i=E.y,n=E.bounding,l=E.position;if(!n)return[f,y];var O=this.element,C=O.offsetWidth,T=O.offsetHeight,P=(0,u.CR)([+e+f,+i+y],2),b=P[0],x=P[1],I={left:"right",right:"left",top:"bottom",bottom:"top"},S=n.x,K=n.y,N=n.width,z=n.height,j={left:b<S,right:b+C>S+N,top:x<K,bottom:x+T>K+z},W=[];l.split("-").forEach(function(F){j[F]?W.push(I[F]):W.push(F)});var U=W.join("-");return this.getRelativeOffsetFromCursor(U)},s.prototype.isCursorEntered=function(o,d){if(this.element){var f=this.element.getBoundingClientRect(),y=f.x,E=f.y,e=f.width,i=f.height;return new h.b(y,E,e,i).isPointIn(o,d)}return!1},s.prototype.closeTransition=function(o){var d=this,f=this.element.style.transition;this.element.style.transition="none",o(),setTimeout(function(){d.element.style.transition=f},10)},s.tag="tooltip",s}(M.w)},17431:function(it,w,t){"use strict";t.d(w,{I:function(){return u},Z:function(){return D}});function u(p){return p*Math.PI/180}function D(p){return Number((p*180/Math.PI).toPrecision(5))}},58105:function(it,w,t){"use strict";t.d(w,{b:function(){return u}});var u=function(){function p(M,m,c,h){M===void 0&&(M=0),m===void 0&&(m=0),c===void 0&&(c=0),h===void 0&&(h=0),this.x=0,this.y=0,this.width=0,this.height=0,this.x=M,this.y=m,this.width=c,this.height=h}return Object.defineProperty(p.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),p.fromRect=function(M){return new p(M.x,M.y,M.width,M.height)},p.prototype.toJSON=function(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.top,right:this.right,bottom:this.bottom,left:this.left}},p.prototype.isPointIn=function(M,m){return M>=this.left&&M<=this.right&&m>=this.top&&m<=this.bottom},p}();function D(p){var M=p.getRenderBounds(),m=__read(M.min,2),c=m[0],h=m[1],v=__read(M.max,2),a=v[0],r=v[1],s=a-c,o=r-h;return new u(c,h,s,o)}},10315:function(it,w,t){"use strict";t.d(w,{S:function(){return p}});var u=t(15767),D=t(84237);function p(M,m){return(0,D.Z)(M)?M.apply(void 0,(0,u.ev)([],(0,u.CR)(m),!1)):M}},48537:function(it,w,t){"use strict";t.d(w,{A:function(){return D}});var u=t(15767),D=function(p,M){var m=function(h){return"".concat(M,"-").concat(h)},c=Object.fromEntries(Object.entries(p).map(function(h){var v=(0,u.CR)(h,2),a=v[0],r=v[1],s=m(r);return[a,{name:s,class:".".concat(s),id:"#".concat(s),toString:function(){return s}}]}));return Object.assign(c,{prefix:m}),c}},28213:function(it,w,t){"use strict";t.d(w,{n:function(){return c}});var u=t(15767),D=t(66520),p=t(83262),M=5,m=function(h,v,a,r){a===void 0&&(a=0),r===void 0&&(r=M),Object.entries(v).forEach(function(s){var o=(0,u.CR)(s,2),d=o[0],f=o[1],y=h;Object.prototype.hasOwnProperty.call(v,d)&&(f?(0,D.Z)(f)?((0,D.Z)(h[d])||(y[d]={}),a<r?m(h[d],f,a+1,r):y[d]=v[d]):(0,p.Z)(f)?(y[d]=[],y[d]=y[d].concat(f)):y[d]=f:y[d]=f)})},c=function(h){for(var v=[],a=1;a<arguments.length;a++)v[a-1]=arguments[a];for(var r=0;r<v.length;r+=1)m(h,v[r]);return h}},94055:function(it,w,t){"use strict";t.d(w,{r:function(){return u}});var u=function(D){return D!==void 0&&D!=null&&!Number.isNaN(D)}},56998:function(it,w,t){"use strict";t.d(w,{O:function(){return D}});var u=t(9075);function D(p,M,m){m===void 0&&(m="..."),(0,u.Rm)(p,{wordWrap:!0,wordWrapWidth:M,maxLines:1,textOverflow:m})}},68151:function(it,w,t){"use strict";t.d(w,{s:function(){return u}});function u(D){var p=D.canvas,M=D.touches,m=D.offsetX,c=D.offsetY;if(p){var h=p.x,v=p.y;return[h,v]}if(M){var a=M[0],r=a.clientX,s=a.clientY;return[r,s]}return m&&c?[m,c]:[0,0]}},36653:function(it,w,t){"use strict";t.d(w,{$:function(){return h},S:function(){return c}});var u=t(15767),D=t(27412),p=t(26912),M=t(35315),m=t(81614);function c(v){return typeof v=="function"?v():(0,D.Z)(v)||(0,p.Z)(v)?new M.x({style:{text:String(v)}}):v}function h(v,a){return typeof v=="function"?v():(0,D.Z)(v)||(0,p.Z)(v)?new m.k9({style:(0,u.pi)((0,u.pi)({},a),{innerHTML:String(v)})}):v}},36109:function(it,w,t){"use strict";t.d(w,{v:function(){return u}});function u(D,p){return D.reduce(function(M,m){return(M[m[p]]=M[m[p]]||[]).push(m),M},{})}},97782:function(it,w,t){"use strict";t.d(w,{r:function(){return u}});function u(D,p){var M=new Map;return D.forEach(function(m){var c=p(m);M.has(c)||M.set(c,[]),M.get(c).push(m)}),M}},53395:function(it,w,t){"use strict";t.d(w,{z:function(){return u}});function u(D,p,M,m,c){return m===void 0&&(m=!0),c===void 0&&(c=function(h){h.node().removeChildren()}),D?M(p):(m&&c(p),null)}},20868:function(it,w,t){"use strict";t.d(w,{Z:function(){return u}});function u(D,p,M,m,c){return m===void 0&&(m=!0),c===void 0&&(c=!1),m&&D===p||c&&D===M?!0:D>p&&D<M}},38146:function(it,w,t){"use strict";t.d(w,{sX:function(){return m}});var u=t(15767),D=function(c,h){return function(v){return c*(1-v)+h*v}};function p(c,h){var v=h?h.length:0,a=c?Math.min(v,c.length):0;return function(r){var s=new Array(a),o=new Array(v),d=0;for(d=0;d<a;++d)s[d]=m(c[d],h[d]);for(;d<v;++d)o[d]=h[d];for(d=0;d<a;++d)o[d]=s[d](r);return o}}function M(c,h){c===void 0&&(c={}),h===void 0&&(h={});var v={},a={};return Object.entries(h).forEach(function(r){var s=(0,u.CR)(r,2),o=s[0],d=s[1];o in c?v[o]=m(c[o],d):a[o]=d}),function(r){return Object.entries(v).forEach(function(s){var o=(0,u.CR)(s,2),d=o[0],f=o[1];return a[d]=f(r)}),a}}function m(c,h){return typeof c=="number"&&typeof h=="number"?D(c,h):Array.isArray(c)&&Array.isArray(h)?p(c,h):typeof c=="object"&&typeof h=="object"?M(c,h):function(v){return c}}},46732:function(it,w,t){"use strict";t.d(w,{F:function(){return p}});var u=t(15767),D=t(38146);function p(M,m,c,h){if(!h)return M.attr("__keyframe_data__",c),null;var v=h.duration,a=v===void 0?0:v,r=(0,D.sX)(m,c),s=Math.ceil(+a/16),o=new Array(s).fill(0).map(function(d,f,y){return{__keyframe_data__:r(f/(y.length-1))}});return M.animate(o,(0,u.pi)({fill:"both"},h))}},37331:function(it,w,t){"use strict";t.d(w,{Fp:function(){return m},Fv:function(){return h},IH:function(){return D},KR:function(){return a},TE:function(){return c},VV:function(){return M},bA:function(){return u},lu:function(){return p}});function u(r,s){return[r[0]*s,r[1]*s]}function D(r,s){return[r[0]+s[0],r[1]+s[1]]}function p(r,s){return[r[0]-s[0],r[1]-s[1]]}function M(r,s){return[Math.min(r[0],s[0]),Math.min(r[1],s[1])]}function m(r,s){return[Math.max(r[0],s[0]),Math.max(r[1],s[1])]}function c(r,s){return Math.sqrt(Math.pow(r[0]-s[0],2)+Math.pow(r[1]-s[1],2))}function h(r){if(r[0]===0&&r[1]===0)return[0,0];var s=Math.sqrt(Math.pow(r[0],2)+Math.pow(r[1],2));return[r[0]/s,r[1]/s]}function v(r,s,o){var d=__read(r,2),f=d[0],y=d[1],E=__read(s,2),e=E[0],i=E[1],n=f-e,l=y-i,O=Math.sin(o),C=Math.cos(o);return[n*C-l*O+e,n*O+l*C+i]}function a(r,s){return s?[r[1],-r[0]]:[-r[1],r[0]]}},46082:function(it,w,t){"use strict";t.d(w,{Zd:function(){return u}});function u(a,r){return+a.toPrecision(r)}function D(a){return a.toLocaleString()}function p(a){return a.toExponential()}function M(a,r){return r===void 0&&(r=0),Math.abs(a)<1e3?String(a):"".concat(u(a/1e3,r).toLocaleString(),"K")}var m=function(a,r,s){return a<0&&Number.isFinite(a)?r:s},c=function(a,r,s){return a>0&&Number.isFinite(a)?r:s},h=function(a,r){return a*r},v=function(a,r){return a/2+(r||0)/2}},14048:function(it,w,t){"use strict";t.d(w,{X:function(){return c},g:function(){return m}});var u=t(15767),D=t(81614),p=t(57170),M=function(h){(0,u.ZT)(v,h);function v(){for(var a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];var s=h.apply(this,(0,u.ev)([],(0,u.CR)(a),!1))||this;return s.isMutationObserved=!0,s.addEventListener(D.Dk.INSERTED,function(){(0,p.Cp)(s)}),s}return v}(D.ZA);function m(h){var v=h.appendChild(new M({class:"offscreen"}));return(0,p.Cp)(v),v}function c(h){for(var v=h;v;){if(v.className==="offscreen")return!0;v=v.parent}return!1}},72793:function(it,w,t){"use strict";t.d(w,{C:function(){return u}});function u(D,p){var M={},m=Array.isArray(p)?p:[p];for(var c in D)m.includes(c)||(M[c]=D[c]);return M}},89459:function(it,w,t){"use strict";t.d(w,{r:function(){return D}});var u=t(15767),D=function(p){var M=new DOMParser,m=M.parseFromString(p,"text/html"),c=m.body.firstElementChild;if(console.log(c==null?void 0:c.getClientRects(),11),!c)return 0;var h=c.getAttribute("style")||"",v=Object.fromEntries(h.split(";").map(function(n){return n.trim()}).filter(function(n){return n.includes(":")}).map(function(n){var l=(0,u.CR)(n.split(":").map(function(T){return T.trim()}),2),O=l[0],C=l[1];return[O.toLowerCase(),C]})),a=function(n){if(!n)return 0;var l=n.match(/([\d.]+)px/);return l?parseFloat(l[1]):0};if(v.height)return a(v.height);var r=a(v["font-size"])||16,s=v["line-height"],o;!s||s==="normal"?o=1.2*r:s.endsWith("px")?o=a(s):/^[\d.]+$/.test(s)?o=parseFloat(s)*r:o=r;var d=a(v["padding-top"]),f=a(v["padding-bottom"]);if(v.padding){var y=v.padding.split(/\s+/).map(a);y.length===1||y.length===2?(d=y[0],f=y[0]):(y.length===3||y.length===4)&&(d=y[0],f=y[2])}var E=a(v["border-top-width"]),e=a(v["border-bottom-width"]);if(v.border){var i=v.border.match(/([\d.]+)px/);i&&(E=parseFloat(i[1]),e=parseFloat(i[1]))}if(v["border-width"]){var y=v["border-width"].split(/\s+/).map(a);y.length===1||y.length===2?(E=y[0],e=y[0]):(y.length===3||y.length===4)&&(E=y[0],e=y[2])}return o+d+f+E+e}},98:function(it,w,t){"use strict";t.d(w,{l:function(){return u}});function u(D){return/\S+-\S+/g.test(D)?D.split("-").map(function(p){return p[0]}):D.length>2?[D[0]]:D.split("")}},19484:function(it,w,t){"use strict";t.d(w,{e:function(){return M}});var u=t(15767),D=t(37331);function p(m,c,h,v){var a,r=[],s=!!v,o,d,f=[1/0,1/0],y=[-1/0,-1/0],E,e,i;if(s){a=(0,u.CR)(v,2),f=a[0],y=a[1];for(var n=0,l=m.length;n<l;n+=1){var O=m[n];f=(0,D.VV)(f,O),y=(0,D.Fp)(y,O)}}for(var n=0,C=m.length;n<C;n+=1){var O=m[n];if(n===0&&!h)i=O;else if(n===C-1&&!h)e=O,r.push(i),r.push(e);else{var T=[n?n-1:C-1,n-1][h?0:1];o=m[T],d=m[h?(n+1)%C:n+1];var P=[0,0];P=(0,D.lu)(d,o),P=(0,D.bA)(P,c);var b=(0,D.TE)(O,o),x=(0,D.TE)(O,d),I=b+x;I!==0&&(b/=I,x/=I);var S=(0,D.bA)(P,-b),K=(0,D.bA)(P,x);e=(0,D.IH)(O,S),E=(0,D.IH)(O,K),E=(0,D.VV)(E,(0,D.Fp)(d,O)),E=(0,D.Fp)(E,(0,D.VV)(d,O)),S=(0,D.lu)(E,O),S=(0,D.bA)(S,-b/x),e=(0,D.IH)(O,S),e=(0,D.VV)(e,(0,D.Fp)(o,O)),e=(0,D.Fp)(e,(0,D.VV)(o,O)),K=(0,D.lu)(O,e),K=(0,D.bA)(K,x/b),E=(0,D.IH)(O,K),s&&(e=(0,D.Fp)(e,f),e=(0,D.VV)(e,y),E=(0,D.Fp)(E,f),E=(0,D.VV)(E,y)),r.push(i),r.push(e),i=E}}return h&&r.push(r.shift()),r}function M(m,c,h){var v;c===void 0&&(c=!1),h===void 0&&(h=[[0,0],[1,1]]);for(var a=!!c,r=[],s=0,o=m.length;s<o;s+=2)r.push([m[s],m[s+1]]);for(var d=p(r,.4,a,h),f=r.length,y=[],E,e,i,s=0;s<f-1;s+=1)E=d[s*2],e=d[s*2+1],i=r[s+1],y.push(["C",E[0],E[1],e[0],e[1],i[0],i[1]]);return a&&(E=d[f],e=d[f+1],v=(0,u.CR)(r,1),i=v[0],y.push(["C",E[0],E[1],e[0],e[1],i[0],i[1]])),y}},99985:function(it,w,t){"use strict";t.d(w,{M8:function(){return p}});var u=["$el","cx","cy","d","dx","dy","fill","fillOpacity","filter","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","height","img","increasedLineWidthForHitTesting","innerHTML","isBillboard","billboardRotation","isSizeAttenuation","isClosed","isOverflowing","leading","letterSpacing","lineDash","lineHeight","lineWidth","markerEnd","markerEndOffset","markerMid","markerStart","markerStartOffset","maxLines","metrics","miterLimit","offsetX","offsetY","opacity","path","points","r","radius","rx","ry","shadowColor","src","stroke","strokeOpacity","text","textAlign","textBaseline","textDecorationColor","textDecorationLine","textDecorationStyle","textOverflow","textPath","textPathSide","textPathStartOffset","transform","transformOrigin","visibility","width","wordWrap","wordWrapWidth","x","x1","x2","y","y1","y2","z1","z2","zIndex"];function D(M){return u.includes(M)}function p(M){var m={};for(var c in M)D(c)&&(m[c]=M[c]);return m}},1795:function(it,w,t){"use strict";t.d(w,{h:function(){return D}});var u=t(15767),D=function(p,M){if(M==null){p.innerHTML="";return}p.replaceChildren?Array.isArray(M)?p.replaceChildren.apply(p,(0,u.ev)([],(0,u.CR)(M),!1)):p.replaceChildren(M):(p.innerHTML="",Array.isArray(M)?M.forEach(function(m){return p.appendChild(m)}):p.appendChild(M))}},62719:function(it,w,t){"use strict";t.d(w,{w:function(){return u}});function u(D,p){if(D.length<=p)return D;for(var M=Math.floor(D.length/p),m=[],c=0;c<D.length;c+=M)m.push(D[c]);return m}},35140:function(it,w,t){"use strict";t.d(w,{b:function(){return u}});function u(D,p,M){M===void 0&&(M=!1);var m=D.getBBox(),c=m.width,h=m.height,v=p/Math.max(c,h);return M&&(D.style.transform="scale(".concat(v,")")),v}},82750:function(it,w,t){"use strict";t.d(w,{OV:function(){return a},Ys:function(){return v}});var u=t(15767),D=t(42204),p=t(81614),M=t(35315),m=t(97782);function c(r){throw new Error(r)}var h=function(){function r(f,y,E,e,i,n,l){f===void 0&&(f=null),y===void 0&&(y=null),E===void 0&&(E=null),e===void 0&&(e=null),i===void 0&&(i=[null,null,null,null,null]),n===void 0&&(n=[]),l===void 0&&(l=[]),s.add(this),this._elements=Array.from(f),this._data=y,this._parent=E,this._document=e,this._enter=i[0],this._update=i[1],this._exit=i[2],this._merge=i[3],this._split=i[4],this._transitions=n,this._facetElements=l}r.prototype.selectAll=function(f){var y=typeof f=="string"?this._parent.querySelectorAll(f):f;return new o(y,null,this._elements[0],this._document)},r.prototype.selectFacetAll=function(f){var y=typeof f=="string"?this._parent.querySelectorAll(f):f;return new o(this._elements,null,this._parent,this._document,void 0,void 0,y)},r.prototype.select=function(f){var y=typeof f=="string"?this._parent.querySelectorAll(f)[0]||null:f;return new o([y],null,y,this._document)},r.prototype.append=function(f){var y=this,E=typeof f=="function"?f:function(){return y.createElement(f)},e=[];if(this._data!==null){for(var i=0;i<this._data.length;i++){var n=this._data[i],l=(0,u.CR)(Array.isArray(n)?n:[n,null],2),O=l[0],C=l[1],T=E(O,i);T.__data__=O,C!==null&&(T.__fromElements__=C),this._parent.appendChild(T),e.push(T)}return new o(e,null,this._parent,this._document)}for(var i=0;i<this._elements.length;i++){var P=this._elements[i],O=P.__data__,T=E(O,i);P.appendChild(T),e.push(T)}return new o(e,null,e[0],this._document)},r.prototype.maybeAppend=function(f,y){var E=(0,u.Q_)(this,s,"m",d).call(this,f[0]==="#"?f:"#".concat(f),y);return E.attr("id",f),E},r.prototype.maybeAppendByClassName=function(f,y){var E=f.toString(),e=(0,u.Q_)(this,s,"m",d).call(this,E[0]==="."?E:".".concat(E),y);return e.attr("className",E),e},r.prototype.maybeAppendByName=function(f,y){var E=(0,u.Q_)(this,s,"m",d).call(this,'[name="'.concat(f,'"]'),y);return E.attr("name",f),E},r.prototype.data=function(f,y,E){var e,i;y===void 0&&(y=function(H){return H}),E===void 0&&(E=function(){return null});for(var n=[],l=[],O=new Set(this._elements),C=[],T=new Set,P=new Map(this._elements.map(function(H,Y){return[y(H.__data__,Y),H]})),b=new Map(this._facetElements.map(function(H,Y){return[y(H.__data__,Y),H]})),x=(0,m.r)(this._elements,function(H){return E(H.__data__)}),I=0;I<f.length;I++){var S=f[I],K=y(S,I),N=E(S,I);if(P.has(K)){var z=P.get(K);z.__data__=S,z.__facet__=!1,l.push(z),O.delete(z),P.delete(K)}else if(b.has(K)){var z=b.get(K);z.__data__=S,z.__facet__=!0,l.push(z),b.delete(K)}else if(x.has(K)){var j=x.get(K);C.push([S,j]);try{for(var W=(e=void 0,(0,u.XA)(j)),U=W.next();!U.done;U=W.next()){var z=U.value;O.delete(z)}}catch(H){e={error:H}}finally{try{U&&!U.done&&(i=W.return)&&i.call(W)}finally{if(e)throw e.error}}x.delete(K)}else if(P.has(N)){var z=P.get(N);z.__toData__?z.__toData__.push(S):z.__toData__=[S],T.add(z),O.delete(z)}else n.push(S)}var F=[new o([],n,this._parent,this._document),new o(l,null,this._parent,this._document),new o(O,null,this._parent,this._document),new o([],C,this._parent,this._document),new o(T,null,this._parent,this._document)];return new o(this._elements,null,this._parent,this._document,F)},r.prototype.merge=function(f){var y=(0,u.ev)((0,u.ev)([],(0,u.CR)(this._elements),!1),(0,u.CR)(f._elements),!1),E=(0,u.ev)((0,u.ev)([],(0,u.CR)(this._transitions),!1),(0,u.CR)(f._transitions),!1);return new o(y,null,this._parent,this._document,void 0,E)},r.prototype.createElement=function(f){if(this._document)return this._document.createElement(f,{});var y=o.registry[f];return y?new y:c("Unknown node type: ".concat(f))},r.prototype.join=function(f,y,E,e,i){f===void 0&&(f=function(P){return P}),y===void 0&&(y=function(P){return P}),E===void 0&&(E=function(P){return P.remove()}),e===void 0&&(e=function(P){return P}),i===void 0&&(i=function(P){return P.remove()});var n=f(this._enter),l=y(this._update),O=E(this._exit),C=e(this._merge),T=i(this._split);return l.merge(n).merge(O).merge(C).merge(T)},r.prototype.remove=function(){for(var f=function(e){var i=y._elements[e],n=y._transitions[e];n?n.then(function(){return i.remove()}):i.remove()},y=this,E=0;E<this._elements.length;E++)f(E);return new o([],null,this._parent,this._document,void 0,this._transitions)},r.prototype.each=function(f){for(var y=0;y<this._elements.length;y++){var E=this._elements[y],e=E.__data__;f.call(E,e,y)}return this},r.prototype.attr=function(f,y){var E=typeof y!="function"?function(){return y}:y;return this.each(function(e,i){y!==void 0&&(this[f]=E.call(this,e,i))})},r.prototype.style=function(f,y,E){E===void 0&&(E=!0);var e=typeof y!="function"||!E?function(){return y}:y;return this.each(function(i,n){y!==void 0&&(this.style[f]=e.call(this,i,n))})},r.prototype.styles=function(f,y){return f===void 0&&(f={}),y===void 0&&(y=!0),this.each(function(E,e){var i=this;Object.entries(f).forEach(function(n){var l=(0,u.CR)(n,2),O=l[0],C=l[1],T=typeof C!="function"||!y?function(){return C}:C;C!==void 0&&i.attr(O,T.call(i,E,e))})})},r.prototype.update=function(f,y){y===void 0&&(y=!0);var E=typeof f!="function"||!y?function(){return f}:f;return this.each(function(e,i){f&&this.update&&this.update(E.call(this,e,i))})},r.prototype.maybeUpdate=function(f,y){y===void 0&&(y=!0);var E=typeof f!="function"||!y?function(){return f}:f;return this.each(function(e,i){f&&this.update&&this.update(E.call(this,e,i))})},r.prototype.transition=function(f){var y=this._transitions,E=new Array(this._elements.length);return this.each(function(e,i){E[i]=f.call(this,e,i)}),this._transitions=(0,D.Z)(E),this},r.prototype.on=function(f,y){return this.each(function(){this.addEventListener(f,y)}),this},r.prototype.call=function(f){for(var y=[],E=1;E<arguments.length;E++)y[E-1]=arguments[E];return f.call.apply(f,(0,u.ev)([this._parent,this],(0,u.CR)(y),!1)),this},r.prototype.node=function(){return this._elements[0]},r.prototype.nodes=function(){return this._elements},r.prototype.transitions=function(){return this._transitions.filter(function(f){return!!f})},r.prototype.parent=function(){return this._parent};var s,o,d;return o=r,s=new WeakSet,d=function(y,E){var e=this._elements[0],i=e.querySelector(y);if(i)return new o([i],null,this._parent,this._document);var n=typeof E=="string"?this.createElement(E):E();return e.appendChild(n),new o([n],null,this._parent,this._document)},r.registry={g:p.ZA,rect:p.UL,circle:p.Cd,path:p.y$,text:M.x,ellipse:p.Pj,image:p.Ee,line:p.x1,polygon:p.mg,polyline:p.aH,html:p.k9},r}();function v(r){return new h([r],null,r,r.ownerDocument)}function a(r,s,o){return r.querySelector(s)?v(r).select(s):v(r).append(o)}},60698:function(it,w,t){"use strict";t.d(w,{j:function(){return p}});var u=t(26912),D=t(83262);function p(M){if((0,u.Z)(M))return[M,M,M,M];if((0,D.Z)(M)){var m=M.length;if(m===1)return[M[0],M[0],M[0],M[0]];if(m===2)return[M[0],M[1],M[0],M[1]];if(m===3)return[M[0],M[1],M[2],M[1]];if(m===4)return M}return[0,0,0,0]}},32497:function(it,w,t){"use strict";t.d(w,{DM:function(){return h},_v:function(){return p},wE:function(){return m}});var u=t(15767);function D(v){var a=v&&v.getRenderBounds();if(!a)return{width:0,height:0};var r=a.getMax(),s=a.getMin();return{width:r[0]-s[0],height:r[1]-s[1]}}function p(v){var a=v.getLocalBounds(),r=a.min,s=a.max,o=(0,u.CR)([r,s],2),d=(0,u.CR)(o[0],2),f=d[0],y=d[1],E=(0,u.CR)(o[1],2),e=E[0],i=E[1];return{x:f,y,width:e-f,height:i-y,left:f,bottom:i,top:y,right:e}}function M(v,a){var r=select(v).append("text").node();return r.attr(__assign(__assign({},a),{visibility:"hidden"})),r}function m(v,a){var r=(0,u.CR)(v,2),s=r[0],o=r[1],d=(0,u.CR)(a,2),f=d[0],y=d[1];return s!==f&&o===y}function c(v,a){var r=__read(v,2),s=r[0],o=r[1],d=__read(a,2),f=d[0],y=d[1];return s===f&&o!==y}function h(v,a){var r,s,o=a.attributes;try{for(var d=(0,u.XA)(Object.entries(o)),f=d.next();!f.done;f=d.next()){var y=(0,u.CR)(f.value,2),E=y[0],e=y[1];E!=="id"&&E!=="className"&&v.attr(E,e)}}catch(i){r={error:i}}finally{try{f&&!f.done&&(s=d.return)&&s.call(d)}finally{if(r)throw r.error}}}},99131:function(it,w,t){"use strict";t.d(w,{KQ:function(){return u},Qm:function(){return M},U9:function(){return p}});function u(m){return m.toString().charAt(0).toUpperCase()+m.toString().slice(1)}function D(m){return m.toString().charAt(0).toLowerCase()+m.toString().slice(1)}function p(m,c){return"".concat(c).concat(u(m))}function M(m,c,h){var v;h===void 0&&(h=!0);var a=c||((v=m.match(/^([a-z][a-z0-9]+)/))===null||v===void 0?void 0:v[0])||"",r=m.replace(new RegExp("^(".concat(a,")")),"");return h?D(r):r}},16841:function(it,w,t){"use strict";t.d(w,{Hm:function(){return h},MC:function(){return p},dq:function(){return c},zs:function(){return m}});var u=t(15767),D=t(99131);function p(v,a){Object.entries(a).forEach(function(r){var s=(0,u.CR)(r,2),o=s[0],d=s[1];(0,u.ev)([v],(0,u.CR)(v.querySelectorAll(o)),!1).filter(function(f){return f.matches(o)}).forEach(function(f){if(f){var y=f;y.style.cssText+=Object.entries(d).reduce(function(E,e){return"".concat(E).concat(e.join(":"),";")},"")}})})}var M=function(v,a){if(!(v!=null&&v.startsWith(a)))return!1;var r=v[a.length];return r>="A"&&r<="Z"};function m(v,a,r){r===void 0&&(r=!1);var s={};return Object.entries(v).forEach(function(o){var d=(0,u.CR)(o,2),f=d[0],y=d[1];if(!(f==="className"||f==="class")){if(M(f,"show")&&M((0,D.Qm)(f,"show"),a)!==r)f===(0,D.U9)(a,"show")?s[f]=y:s[f.replace(new RegExp((0,D.KQ)(a)),"")]=y;else if(!M(f,"show")&&M(f,a)!==r){var E=(0,D.Qm)(f,a);E==="filter"&&typeof y=="function"||(s[E]=y)}}}),s}function c(v,a){return Object.entries(v).reduce(function(r,s){var o=(0,u.CR)(s,2),d=o[0],f=o[1];return d.startsWith("show")?r["show".concat(a).concat(d.slice(4))]=f:r["".concat(a).concat((0,D.KQ)(d))]=f,r},{})}function h(v,a){a===void 0&&(a=["x","y","class","className"]);var r=["transform","transformOrigin","anchor","visibility","pointerEvents","zIndex","cursor","clipPath","clipPathTargets","offsetPath","offsetPathTargets","offsetDistance","draggable","droppable"],s={},o={};return Object.entries(v).forEach(function(d){var f=(0,u.CR)(d,2),y=f[0],E=f[1];a.includes(y)||(r.indexOf(y)!==-1?o[y]=E:s[y]=E)}),[s,o]}},9075:function(it,w,t){"use strict";t.d(w,{Rm:function(){return a},U4:function(){return v},Ux:function(){return c},qT:function(){return h}});var u=t(81614),D=t(15427),p,M;function m(r){M=r}var c=(0,D.Z)(function(r,s){var o=s.fontSize,d=s.fontFamily,f=s.fontWeight,y=s.fontStyle,E=s.fontVariant;return M?M(r,o):(p||(p=u.GZ.offscreenCanvasCreator.getOrCreateContext(void 0)),p.font=[y,E,f,"".concat(o,"px"),d].join(" "),p.measureText(r).width)},function(r,s){return[r,Object.values(s||h(r)).join()].join("")},4096),h=function(r){var s=r.style.fontFamily||"sans-serif",o=r.style.fontWeight||"normal",d=r.style.fontStyle||"normal",f=r.style.fontVariant,y=r.style.fontSize;return y=typeof y=="object"?y.value:y,{fontSize:y,fontFamily:s,fontWeight:o,fontStyle:d,fontVariant:f}};function v(r){return r.nodeName==="text"?r:r.nodeName==="g"&&r.children.length===1&&r.children[0].nodeName==="text"?r.children[0]:null}function a(r,s){var o=v(r);o&&o.attr(s)}},85104:function(it,w,t){"use strict";t.d(w,{mr:function(){return m}});var u=null,D=null;function p(a){return a instanceof Date?a:new Date(a)}function M(a){for(var r=__read(a,2),s=r[0],o=r[1],d=u.indexOf(s),f=u.indexOf(o),y="",E=d;E<=f;E+=1)if(y+=D[E],E<f){var e="-";E===2?e=" ":E>2&&(e=":"),y+=e}return y}function m(a,r){var s={YYYY:a.getFullYear(),MM:a.getMonth()+1,DD:a.getDate(),HH:a.getHours(),mm:a.getMinutes(),ss:a.getSeconds()},o=r;return Object.keys(s).forEach(function(d){var f=s[d];o=o.replace(d,d==="YYYY"?"".concat(f):"".concat(f).padStart(2,"0"))}),o}function c(a,r){return p(a).getTime()-p(r).getTime()}function h(a,r){var s=__read([p(a),p(r)],2),o=s[0],d=s[1];return o.getFullYear()!==d.getFullYear()?"year":o.getMonth()!==d.getMonth()?"month":o.getDay()!==d.getDay()?"day":o.getHours()!==d.getHours()?"hour":o.getMinutes()!==d.getMinutes()?"minute":"second"}function v(a,r){var s=new Date(a),o={year:function(d){d.setMonth(0),d.setHours(0,0,0,0)},month:function(d){d.setDate(1),d.setHours(0,0,0,0)},day:function(d){return d.setHours(0,0,0,0)},hour:function(d){return d.setMinutes(0,0,0)},minute:function(d){return d.setSeconds(0,0)},second:function(d){return d.setMilliseconds(0)}};return o[r](s),m(s,M(["year",r]))}},34309:function(it,w,t){"use strict";t.d(w,{e:function(){return p}});var u=t(15767);function D(M,m,c){var h=M.getBBox(),v=h.width,a=h.height,r=(0,u.CR)([m,c].map(function(d,f){var y;return d.includes("%")?parseFloat(((y=d.match(/[+-]?([0-9]*[.])?[0-9]+/))===null||y===void 0?void 0:y[0])||"0")/100*(f===0?v:a):d}),2),s=r[0],o=r[1];return[s,o]}function p(M,m){if(m)try{var c=/translate\(([+-]*[\d]+[%]*),[ ]*([+-]*[\d]+[%]*)\)/g,h=m.replace(c,function(v,a,r){return"translate(".concat(D(M,a,r),")")});M.attr("transform",h)}catch(v){}}},52862:function(it,w,t){"use strict";t.d(w,{p:function(){return u}});function u(D){var p;return((p=D[0])===null||p===void 0?void 0:p.map(function(M,m){return D.map(function(c){return c[m]})}))||[]}},40343:function(it,w,t){"use strict";t.d(w,{f:function(){return u}});function u(D,p){p(D),D.children&&D.children.forEach(function(M){M&&u(M,p)})}},57170:function(it,w,t){"use strict";t.d(w,{$Z:function(){return D},Cp:function(){return p},WD:function(){return M}});var u=t(40343);function D(m){M(m,!0)}function p(m){M(m,!1)}function M(m,c){var h=c?"visible":"hidden";(0,u.f)(m,function(v){v.attr("visibility",h)})}},14116:function(it,w,t){"use strict";t.d(w,{A:function(){return D}});var u=t(9075);function D(p,M,m,c){m===void 0&&(m=2),c===void 0&&(c="top"),(0,u.Rm)(p,{wordWrap:!0,wordWrapWidth:M,maxLines:m,textBaseline:c})}},72112:function(it,w,t){"use strict";var u=t(46911),D=t(76132),p=t(99190),M=t(87974),m=t(61912),c=t(27412),h=t(26912),v=t(10953),a=t(14690),r=t(35136);var s=function(o){function d(){var f;(0,D.Z)(this,d);for(var y=arguments.length,E=new Array(y),e=0;e<y;e++)E[e]=arguments[e];return f=(0,M.Z)(this,d,[].concat(E)),f.landmarks=[],f}return(0,m.Z)(d,o),(0,p.Z)(d,[{key:"rotate",value:function(y,E,e){if(this.relElevation=(0,u._O)(E),this.relAzimuth=(0,u._O)(y),this.relRoll=(0,u._O)(e),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.type===u.iM.EXPLORING){var i=v.yY(v.Ue(),[1,0,0],(0,u.Vl)((this.rotateWorld?1:-1)*this.relElevation)),n=v.yY(v.Ue(),[0,1,0],(0,u.Vl)((this.rotateWorld?1:-1)*this.relAzimuth)),l=v.yY(v.Ue(),[0,0,1],(0,u.Vl)(this.relRoll)),O=v.Jp(v.Ue(),n,i);O=v.Jp(v.Ue(),O,l);var C=a.fromQuat(a.create(),O);a.translate(this.matrix,this.matrix,[0,0,-this.distance]),a.multiply(this.matrix,this.matrix,C),a.translate(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation)>90)return this;this.computeMatrix()}return this._getAxes(),this.type===u.iM.ORBITING||this.type===u.iM.EXPLORING?this._getPosition():this.type===u.iM.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(y,E){var e=(0,u.O4)(y,E,0),i=r.d9(this.position);return r.IH(i,i,r.bA(r.Ue(),this.right,e[0])),r.IH(i,i,r.bA(r.Ue(),this.up,e[1])),this._setPosition(i),this.triggerUpdate(),this}},{key:"dolly",value:function(y){var E=this.forward,e=r.d9(this.position),i=y*this.dollyingStep,n=this.distance+y*this.dollyingStep;return i=Math.max(Math.min(n,this.maxDistance),this.minDistance)-this.distance,e[0]+=i*E[0],e[1]+=i*E[1],e[2]+=i*E[2],this._setPosition(e),this.type===u.iM.ORBITING||this.type===u.iM.EXPLORING?this._getDistance():this.type===u.iM.TRACKING&&r.IH(this.focalPoint,e,this.distanceVector),this.triggerUpdate(),this}},{key:"cancelLandmarkAnimation",value:function(){this.landmarkAnimationID!==void 0&&this.canvas.cancelAnimationFrame(this.landmarkAnimationID)}},{key:"createLandmark",value:function(y){var E,e,i,n,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},O=l.position,C=O===void 0?this.position:O,T=l.focalPoint,P=T===void 0?this.focalPoint:T,b=l.roll,x=l.zoom,I=new u.GZ.CameraContribution;I.setType(this.type,void 0),I.setPosition(C[0],(E=C[1])!==null&&E!==void 0?E:this.position[1],(e=C[2])!==null&&e!==void 0?e:this.position[2]),I.setFocalPoint(P[0],(i=P[1])!==null&&i!==void 0?i:this.focalPoint[1],(n=P[2])!==null&&n!==void 0?n:this.focalPoint[2]),I.setRoll(b!=null?b:this.roll),I.setZoom(x!=null?x:this.zoom);var S={name:y,matrix:a.clone(I.getWorldTransform()),right:r.d9(I.right),up:r.d9(I.up),forward:r.d9(I.forward),position:r.d9(I.getPosition()),focalPoint:r.d9(I.getFocalPoint()),distanceVector:r.d9(I.getDistanceVector()),distance:I.getDistance(),dollyingStep:I.getDollyingStep(),azimuth:I.getAzimuth(),elevation:I.getElevation(),roll:I.getRoll(),relAzimuth:I.relAzimuth,relElevation:I.relElevation,relRoll:I.relRoll,zoom:I.getZoom()};return this.landmarks.push(S),S}},{key:"gotoLandmark",value:function(y){var E=this,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=(0,c.Z)(y)?this.landmarks.find(function(X){return X.name===y}):y;if(i){var n=(0,h.Z)(e)?{duration:e}:e,l=n.easing,O=l===void 0?"linear":l,C=n.duration,T=C===void 0?100:C,P=n.easingFunction,b=P===void 0?void 0:P,x=n.onfinish,I=x===void 0?void 0:x,S=n.onframe,K=S===void 0?void 0:S,N=.01;this.cancelLandmarkAnimation();var z=i.position,j=i.focalPoint,W=i.zoom,U=i.roll,F=b||u.GZ.EasingFunction(O),H,Y=function(){E.setFocalPoint(j),E.setPosition(z),E.setRoll(U),E.setZoom(W),E.computeMatrix(),E.triggerUpdate(),I==null||I()};if(T===0)return Y();var V=function($){H===void 0&&(H=$);var rt=$-H;if(rt>=T){Y();return}var ot=F(rt/T),tt=r.Ue(),G=r.Ue(),nt=1,ut=0;r.t7(tt,E.focalPoint,j,ot),r.t7(G,E.position,z,ot),ut=E.roll*(1-ot)+U*ot,nt=E.zoom*(1-ot)+W*ot,E.setFocalPoint(tt),E.setPosition(G),E.setRoll(ut),E.setZoom(nt);var dt=r.TK(tt,j)+r.TK(G,z);if(dt<=N&&W===void 0&&U===void 0)return Y();E.computeMatrix(),E.triggerUpdate(),rt<T&&(K==null||K(ot),E.landmarkAnimationID=E.canvas.requestAnimationFrame(V))};this.canvas.requestAnimationFrame(V)}}}])}(u.V1);u.GZ.CameraContribution=s},61075:function(it,w,t){"use strict";t.d(w,{Th:function(){return e}});var u=t(99190),D=t(76132),p=t(87974),M=t(61912),m=t(46911),c=t(80110),h=t(81003),v=t(89445),a=t(49832),r=t(48745),s=t(46689),o=t(94882),d=t(7556),f=t(27412);var y=function(){function i(n){(0,D.Z)(this,i),this.renderingContext=n.renderingContext,this.canvasConfig=n.config}return(0,u.Z)(i,[{key:"init",value:function(){var l=this.canvasConfig,O=l.container,C=l.canvas;if(C)this.$canvas=C,O&&C.parentElement!==O&&O.appendChild(C),this.$container=C.parentElement,this.canvasConfig.container=this.$container;else if(O&&(this.$container=(0,f.Z)(O)?document.getElementById(O):O,this.$container)){var T=document.createElement("canvas");this.$container.appendChild(T),this.$container.style.position||(this.$container.style.position="relative"),this.$canvas=T}this.context=this.$canvas.getContext("2d"),this.resize(this.canvasConfig.width,this.canvasConfig.height)}},{key:"getContext",value:function(){return this.context}},{key:"getDomElement",value:function(){return this.$canvas}},{key:"getDPR",value:function(){return this.dpr}},{key:"getBoundingClientRect",value:function(){if(this.$canvas.getBoundingClientRect)return this.$canvas.getBoundingClientRect()}},{key:"destroy",value:function(){this.$container&&this.$canvas&&this.$canvas.parentNode&&this.$container.removeChild(this.$canvas)}},{key:"resize",value:function(l,O){var C=this.canvasConfig.devicePixelRatio;this.dpr=C,this.$canvas&&(this.$canvas.width=this.dpr*l,this.$canvas.height=this.dpr*O,(0,m.$p)(this.$canvas,l,O)),this.renderingContext.renderReasons.add(m.Rr.CAMERA_CHANGED)}},{key:"applyCursorStyle",value:function(l){this.$container&&this.$container.style&&(this.$container.style.cursor=l)}},{key:"toDataURL",value:function(){var n=(0,d.Z)((0,o.Z)().mark(function O(){var C,T,P,b=arguments;return(0,o.Z)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return C=b.length>0&&b[0]!==void 0?b[0]:{},T=C.type,P=C.encoderOptions,x.abrupt("return",this.context.canvas.toDataURL(T,P));case 1:case"end":return x.stop()}},O,this)}));function l(){return n.apply(this,arguments)}return l}()}])}(),E=function(i){function n(){var l;(0,D.Z)(this,n);for(var O=arguments.length,C=new Array(O),T=0;T<O;T++)C[T]=arguments[T];return l=(0,p.Z)(this,n,[].concat(C)),l.name="canvas-context-register",l}return(0,M.Z)(n,i),(0,u.Z)(n,[{key:"init",value:function(){this.context.ContextService=y}},{key:"destroy",value:function(){delete this.context.ContextService}}])}(m.F6),e=function(i){function n(l){var O;return(0,D.Z)(this,n),O=(0,p.Z)(this,n,[l]),O.registerPlugin(new E),O.registerPlugin(new s.S),O.registerPlugin(new c.S),O.registerPlugin(new v.Sy),O.registerPlugin(new a.S),O.registerPlugin(new h.S),O.registerPlugin(new r.S),O}return(0,M.Z)(n,i),(0,u.Z)(n)}(m.I8)},31916:function(it,w,t){"use strict";var u=t(46911);var D=null,p=0,M=new WeakMap,m=null,c=null,h,v;function a(l,O){return h=new D(l,O)}function r(l){return v||(v=D.copy(h),v.oldValue=l,v)}function s(){h=v=void 0}function o(l){return l===v||l===h}function d(l,O){return l===O?l:v&&o(l)?v:null}function f(l){l.nodes.forEach(function(O){var C=M.get(O);C&&C.forEach(function(T){T.observer===l&&T.removeTransientObservers()})})}function y(l,O){for(var C=l;C;C=C.parentNode){var T=M.get(C);if(T)for(var P=0;P<T.length;P++){var b=T[P],x=b.options;if(!(C!==l&&!x.subtree)){var I=O(x);I&&b.enqueue(I)}}}}var E=!1,e=null;function i(l){e.push(l),E||(E=!0,typeof runtime.globalThis!="undefined"?runtime.globalThis.setTimeout(n):n())}function n(){E=!1;var l=e;e=[],l.sort(function(C,T){return C.uid-T.uid});var O=!1;l.forEach(function(C){var T=C.takeRecords();f(C),T.length&&(C.callback(T,C),O=!0)}),O&&n()}},46911:function(it,w,t){"use strict";t.d(w,{$6:function(){return yn},$p:function(){return oo},Aw:function(){return qe},BB:function(){return la},BV:function(){return Bt},Cd:function(){return Vr},Cm:function(){return he},Dk:function(){return Xe},E9:function(){return Q},Ee:function(){return Yr},F6:function(){return Et},G$:function(){return Bi},G0:function(){return Ji},GL:function(){return wn},GZ:function(){return ie},I8:function(){return lt},L1:function(){return ho},N1:function(){return Ui},NB:function(){return ke},O4:function(){return Pt},Oi:function(){return Zi},Pj:function(){return Gr},R:function(){return pi},RV:function(){return Ue},Rr:function(){return Zn},Rx:function(){return Ya},UL:function(){return Qr},V1:function(){return Pe},Vl:function(){return At},Xz:function(){return wl},ZA:function(){return jn},_O:function(){return yt},aH:function(){return Jr},b_:function(){return oa},bn:function(){return et},gz:function(){return Ar},iM:function(){return Wt},jB:function(){return ta},jf:function(){return vt},k9:function(){return Hr},mN:function(){return bt},mg:function(){return Vn},nR:function(){return lr},o6:function(){return $a},qA:function(){return Dr},s$:function(){return Ze},x1:function(){return $r},xA:function(){return or},xv:function(){return hr},y$:function(){return Xr}});var u=t(59942),D=t(76132),p=t(99190),M=t(87948),m=t(87974),c=t(61912),h=t(8818),v=t(73983),a=t(35136),r=t(72647),s=t(14690),o=t(61899),d=t(10953),f=t(75837),y=t(26912),E=t(35476),e=t(89148),i=t(27412),n=t(15378),l=t(59548),O=t(20203),C=t(7086),T=t(45378),P=t(44502),b=t(50758),x=t(60246),I=t(29873),S=t(63701),K=t(2854),N=t(62370),z=t(79011),j=t(36179),W=t(83262),U=t(29803),F=t(84237),H=t(70373),Y=t(59123),V=t(59125),X=t(46793),$=t(17457),rt=t(94882),ot=t(7556),tt=t(36249),G=t(41766);var nt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof t.g!="undefined"?t.g:typeof self!="undefined"?self:{},ut={exports:{}};(function(A,L){(function(_,g){A.exports=g()})(nt,function(){function _(Ht,kt,Ft,$t,ue){g(Ht,kt,Ft||0,$t||Ht.length-1,ue||Z)}function g(Ht,kt,Ft,$t,ue){for(;$t>Ft;){if($t-Ft>600){var se=$t-Ft+1,fe=kt-Ft+1,ce=Math.log(se),Me=.5*Math.exp(2*ce/3),De=.5*Math.sqrt(ce*Me*(se-Me)/se)*(fe-se/2<0?-1:1),xe=Math.max(Ft,Math.floor(kt-fe*Me/se+De)),Le=Math.min($t,Math.floor(kt+(se-fe)*Me/se+De));g(Ht,kt,xe,Le,ue)}var Ee=Ht[kt],Te=Ft,Ce=$t;for(R(Ht,Ft,kt),ue(Ht[$t],Ee)>0&&R(Ht,Ft,$t);Te<Ce;){for(R(Ht,Te,Ce),Te++,Ce--;ue(Ht[Te],Ee)<0;)Te++;for(;ue(Ht[Ce],Ee)>0;)Ce--}ue(Ht[Ft],Ee)===0?R(Ht,Ft,Ce):(Ce++,R(Ht,Ce,$t)),Ce<=kt&&(Ft=Ce+1),kt<=Ce&&($t=Ce-1)}}function R(Ht,kt,Ft){var $t=Ht[kt];Ht[kt]=Ht[Ft],Ht[Ft]=$t}function Z(Ht,kt){return Ht<kt?-1:Ht>kt?1:0}var k=function(kt){kt===void 0&&(kt=9),this._maxEntries=Math.max(4,kt),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()};k.prototype.all=function(){return this._all(this.data,[])},k.prototype.search=function(kt){var Ft=this.data,$t=[];if(!Xt(kt,Ft))return $t;for(var ue=this.toBBox,se=[];Ft;){for(var fe=0;fe<Ft.children.length;fe++){var ce=Ft.children[fe],Me=Ft.leaf?ue(ce):ce;Xt(kt,Me)&&(Ft.leaf?$t.push(ce):qt(kt,Me)?this._all(ce,$t):se.push(ce))}Ft=se.pop()}return $t},k.prototype.collides=function(kt){var Ft=this.data;if(!Xt(kt,Ft))return!1;for(var $t=[];Ft;){for(var ue=0;ue<Ft.children.length;ue++){var se=Ft.children[ue],fe=Ft.leaf?this.toBBox(se):se;if(Xt(kt,fe)){if(Ft.leaf||qt(kt,fe))return!0;$t.push(se)}}Ft=$t.pop()}return!1},k.prototype.load=function(kt){if(!(kt&&kt.length))return this;if(kt.length<this._minEntries){for(var Ft=0;Ft<kt.length;Ft++)this.insert(kt[Ft]);return this}var $t=this._build(kt.slice(),0,kt.length-1,0);if(!this.data.children.length)this.data=$t;else if(this.data.height===$t.height)this._splitRoot(this.data,$t);else{if(this.data.height<$t.height){var ue=this.data;this.data=$t,$t=ue}this._insert($t,this.data.height-$t.height-1,!0)}return this},k.prototype.insert=function(kt){return kt&&this._insert(kt,this.data.height-1),this},k.prototype.clear=function(){return this.data=ne([]),this},k.prototype.remove=function(kt,Ft){if(!kt)return this;for(var $t=this.data,ue=this.toBBox(kt),se=[],fe=[],ce,Me,De;$t||se.length;){if($t||($t=se.pop(),Me=se[se.length-1],ce=fe.pop(),De=!0),$t.leaf){var xe=q(kt,$t.children,Ft);if(xe!==-1)return $t.children.splice(xe,1),se.push($t),this._condense(se),this}!De&&!$t.leaf&&qt($t,ue)?(se.push($t),fe.push(ce),ce=0,Me=$t,$t=$t.children[0]):Me?(ce++,$t=Me.children[ce],De=!1):$t=null}return this},k.prototype.toBBox=function(kt){return kt},k.prototype.compareMinX=function(kt,Ft){return kt.minX-Ft.minX},k.prototype.compareMinY=function(kt,Ft){return kt.minY-Ft.minY},k.prototype.toJSON=function(){return this.data},k.prototype.fromJSON=function(kt){return this.data=kt,this},k.prototype._all=function(kt,Ft){for(var $t=[];kt;)kt.leaf?Ft.push.apply(Ft,kt.children):$t.push.apply($t,kt.children),kt=$t.pop();return Ft},k.prototype._build=function(kt,Ft,$t,ue){var se=$t-Ft+1,fe=this._maxEntries,ce;if(se<=fe)return ce=ne(kt.slice(Ft,$t+1)),at(ce,this.toBBox),ce;ue||(ue=Math.ceil(Math.log(se)/Math.log(fe)),fe=Math.ceil(se/Math.pow(fe,ue-1))),ce=ne([]),ce.leaf=!1,ce.height=ue;var Me=Math.ceil(se/fe),De=Me*Math.ceil(Math.sqrt(fe));ge(kt,Ft,$t,De,this.compareMinX);for(var xe=Ft;xe<=$t;xe+=De){var Le=Math.min(xe+De-1,$t);ge(kt,xe,Le,Me,this.compareMinY);for(var Ee=xe;Ee<=Le;Ee+=Me){var Te=Math.min(Ee+Me-1,Le);ce.children.push(this._build(kt,Ee,Te,ue-1))}}return at(ce,this.toBBox),ce},k.prototype._chooseSubtree=function(kt,Ft,$t,ue){for(;ue.push(Ft),!(Ft.leaf||ue.length-1===$t);){for(var se=1/0,fe=1/0,ce=void 0,Me=0;Me<Ft.children.length;Me++){var De=Ft.children[Me],xe=Kt(De),Le=Vt(kt,De)-xe;Le<fe?(fe=Le,se=xe<se?xe:se,ce=De):Le===fe&&xe<se&&(se=xe,ce=De)}Ft=ce||Ft.children[0]}return Ft},k.prototype._insert=function(kt,Ft,$t){var ue=$t?kt:this.toBBox(kt),se=[],fe=this._chooseSubtree(ue,this.data,Ft,se);for(fe.children.push(kt),Mt(fe,ue);Ft>=0&&se[Ft].children.length>this._maxEntries;)this._split(se,Ft),Ft--;this._adjustParentBBoxes(ue,se,Ft)},k.prototype._split=function(kt,Ft){var $t=kt[Ft],ue=$t.children.length,se=this._minEntries;this._chooseSplitAxis($t,se,ue);var fe=this._chooseSplitIndex($t,se,ue),ce=ne($t.children.splice(fe,$t.children.length-fe));ce.height=$t.height,ce.leaf=$t.leaf,at($t,this.toBBox),at(ce,this.toBBox),Ft?kt[Ft-1].children.push(ce):this._splitRoot($t,ce)},k.prototype._splitRoot=function(kt,Ft){this.data=ne([kt,Ft]),this.data.height=kt.height+1,this.data.leaf=!1,at(this.data,this.toBBox)},k.prototype._chooseSplitIndex=function(kt,Ft,$t){for(var ue,se=1/0,fe=1/0,ce=Ft;ce<=$t-Ft;ce++){var Me=ht(kt,0,ce,this.toBBox),De=ht(kt,ce,$t,this.toBBox),xe=Jt(Me,De),Le=Kt(Me)+Kt(De);xe<se?(se=xe,ue=ce,fe=Le<fe?Le:fe):xe===se&&Le<fe&&(fe=Le,ue=ce)}return ue||$t-Ft},k.prototype._chooseSplitAxis=function(kt,Ft,$t){var ue=kt.leaf?this.compareMinX:xt,se=kt.leaf?this.compareMinY:wt,fe=this._allDistMargin(kt,Ft,$t,ue),ce=this._allDistMargin(kt,Ft,$t,se);fe<ce&&kt.children.sort(ue)},k.prototype._allDistMargin=function(kt,Ft,$t,ue){kt.children.sort(ue);for(var se=this.toBBox,fe=ht(kt,0,Ft,se),ce=ht(kt,$t-Ft,$t,se),Me=Nt(fe)+Nt(ce),De=Ft;De<$t-Ft;De++){var xe=kt.children[De];Mt(fe,kt.leaf?se(xe):xe),Me+=Nt(fe)}for(var Le=$t-Ft-1;Le>=Ft;Le--){var Ee=kt.children[Le];Mt(ce,kt.leaf?se(Ee):Ee),Me+=Nt(ce)}return Me},k.prototype._adjustParentBBoxes=function(kt,Ft,$t){for(var ue=$t;ue>=0;ue--)Mt(Ft[ue],kt)},k.prototype._condense=function(kt){for(var Ft=kt.length-1,$t=void 0;Ft>=0;Ft--)kt[Ft].children.length===0?Ft>0?($t=kt[Ft-1].children,$t.splice($t.indexOf(kt[Ft]),1)):this.clear():at(kt[Ft],this.toBBox)};function q(Ht,kt,Ft){if(!Ft)return kt.indexOf(Ht);for(var $t=0;$t<kt.length;$t++)if(Ft(Ht,kt[$t]))return $t;return-1}function at(Ht,kt){ht(Ht,0,Ht.children.length,kt,Ht)}function ht(Ht,kt,Ft,$t,ue){ue||(ue=ne(null)),ue.minX=1/0,ue.minY=1/0,ue.maxX=-1/0,ue.maxY=-1/0;for(var se=kt;se<Ft;se++){var fe=Ht.children[se];Mt(ue,Ht.leaf?$t(fe):fe)}return ue}function Mt(Ht,kt){return Ht.minX=Math.min(Ht.minX,kt.minX),Ht.minY=Math.min(Ht.minY,kt.minY),Ht.maxX=Math.max(Ht.maxX,kt.maxX),Ht.maxY=Math.max(Ht.maxY,kt.maxY),Ht}function xt(Ht,kt){return Ht.minX-kt.minX}function wt(Ht,kt){return Ht.minY-kt.minY}function Kt(Ht){return(Ht.maxX-Ht.minX)*(Ht.maxY-Ht.minY)}function Nt(Ht){return Ht.maxX-Ht.minX+(Ht.maxY-Ht.minY)}function Vt(Ht,kt){return(Math.max(kt.maxX,Ht.maxX)-Math.min(kt.minX,Ht.minX))*(Math.max(kt.maxY,Ht.maxY)-Math.min(kt.minY,Ht.minY))}function Jt(Ht,kt){var Ft=Math.max(Ht.minX,kt.minX),$t=Math.max(Ht.minY,kt.minY),ue=Math.min(Ht.maxX,kt.maxX),se=Math.min(Ht.maxY,kt.maxY);return Math.max(0,ue-Ft)*Math.max(0,se-$t)}function qt(Ht,kt){return Ht.minX<=kt.minX&&Ht.minY<=kt.minY&&kt.maxX<=Ht.maxX&&kt.maxY<=Ht.maxY}function Xt(Ht,kt){return kt.minX<=Ht.maxX&&kt.minY<=Ht.maxY&&kt.maxX>=Ht.minX&&kt.maxY>=Ht.minY}function ne(Ht){return{children:Ht,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function ge(Ht,kt,Ft,$t,ue){for(var se=[kt,Ft];se.length;)if(Ft=se.pop(),kt=se.pop(),!(Ft-kt<=$t)){var fe=kt+Math.ceil((Ft-kt)/$t/2)*$t;_(Ht,fe,kt,Ft,ue),se.push(kt,fe,fe,Ft)}}return k})})(ut);var dt=ut.exports,et=function(A){return A.GROUP="g",A.FRAGMENT="fragment",A.CIRCLE="circle",A.ELLIPSE="ellipse",A.IMAGE="image",A.RECT="rect",A.LINE="line",A.POLYLINE="polyline",A.POLYGON="polygon",A.TEXT="text",A.PATH="path",A.HTML="html",A.MESH="mesh",A}({}),gt=function(A){return A[A.ZERO=0]="ZERO",A[A.NEGATIVE_ONE=1]="NEGATIVE_ONE",A}({}),Et=function(){function A(){(0,D.Z)(this,A),this.plugins=[]}return(0,p.Z)(A,[{key:"addRenderingPlugin",value:function(_){this.plugins.push(_),this.context.renderingPlugins.push(_)}},{key:"removeAllRenderingPlugins",value:function(){var _=this;this.plugins.forEach(function(g){var R=_.context.renderingPlugins.indexOf(g);R>=0&&_.context.renderingPlugins.splice(R,1)})}}])}(),lt=function(){function A(L){(0,D.Z)(this,A),this.clipSpaceNearZ=gt.NEGATIVE_ONE,this.plugins=[],this.config=(0,u.Z)({enableDirtyCheck:!0,enableCulling:!1,enableAutoRendering:!0,enableDirtyRectangleRendering:!0,enableDirtyRectangleRenderingDebug:!1,enableSizeAttenuation:!0,enableRenderingOptimization:!1},L)}return(0,p.Z)(A,[{key:"registerPlugin",value:function(_){var g=this.plugins.findIndex(function(R){return R===_});g===-1&&this.plugins.push(_)}},{key:"unregisterPlugin",value:function(_){var g=this.plugins.findIndex(function(R){return R===_});g>-1&&this.plugins.splice(g,1)}},{key:"getPlugins",value:function(){return this.plugins}},{key:"getPlugin",value:function(_){return this.plugins.find(function(g){return g.name===_})}},{key:"getConfig",value:function(){return this.config}},{key:"setConfig",value:function(_){Object.assign(this.config,_)}}])}(),mt=a.IH,Tt=a.JG,B=a.Fp,J=a.VV,pt=a.bA,Ot=a.lu,bt=function(){function A(){(0,D.Z)(this,A),this.center=[0,0,0],this.halfExtents=[0,0,0],this.min=[0,0,0],this.max=[0,0,0]}return(0,p.Z)(A,[{key:"update",value:function(_,g){Tt(this.center,_),Tt(this.halfExtents,g),Ot(this.min,this.center,this.halfExtents),mt(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(_,g){mt(this.center,g,_),pt(this.center,this.center,.5),Ot(this.halfExtents,g,_),pt(this.halfExtents,this.halfExtents,.5),Tt(this.min,_),Tt(this.max,g)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(_){if(!A.isEmpty(_)){if(A.isEmpty(this)){this.setMinMax(_.getMin(),_.getMax());return}var g=this.center,R=g[0],Z=g[1],k=g[2],q=this.halfExtents,at=q[0],ht=q[1],Mt=q[2],xt=R-at,wt=R+at,Kt=Z-ht,Nt=Z+ht,Vt=k-Mt,Jt=k+Mt,qt=_.center,Xt=qt[0],ne=qt[1],ge=qt[2],Ht=_.halfExtents,kt=Ht[0],Ft=Ht[1],$t=Ht[2],ue=Xt-kt,se=Xt+kt,fe=ne-Ft,ce=ne+Ft,Me=ge-$t,De=ge+$t;ue<xt&&(xt=ue),se>wt&&(wt=se),fe<Kt&&(Kt=fe),ce>Nt&&(Nt=ce),Me<Vt&&(Vt=Me),De>Jt&&(Jt=De),g[0]=(xt+wt)*.5,g[1]=(Kt+Nt)*.5,g[2]=(Vt+Jt)*.5,q[0]=(wt-xt)*.5,q[1]=(Nt-Kt)*.5,q[2]=(Jt-Vt)*.5,this.min[0]=xt,this.min[1]=Kt,this.min[2]=Vt,this.max[0]=wt,this.max[1]=Nt,this.max[2]=Jt}}},{key:"setFromTransformedAABB",value:function(_,g){var R=this.center,Z=this.halfExtents,k=_.center,q=_.halfExtents,at=g[0],ht=g[4],Mt=g[8],xt=g[1],wt=g[5],Kt=g[9],Nt=g[2],Vt=g[6],Jt=g[10],qt=Math.abs(at),Xt=Math.abs(ht),ne=Math.abs(Mt),ge=Math.abs(xt),Ht=Math.abs(wt),kt=Math.abs(Kt),Ft=Math.abs(Nt),$t=Math.abs(Vt),ue=Math.abs(Jt);R[0]=g[12]+at*k[0]+ht*k[1]+Mt*k[2],R[1]=g[13]+xt*k[0]+wt*k[1]+Kt*k[2],R[2]=g[14]+Nt*k[0]+Vt*k[1]+Jt*k[2],Z[0]=qt*q[0]+Xt*q[1]+ne*q[2],Z[1]=ge*q[0]+Ht*q[1]+kt*q[2],Z[2]=Ft*q[0]+$t*q[1]+ue*q[2],Ot(this.min,R,Z),mt(this.max,R,Z)}},{key:"intersects",value:function(_){var g=this.getMax(),R=this.getMin(),Z=_.getMax(),k=_.getMin();return R[0]<=Z[0]&&g[0]>=k[0]&&R[1]<=Z[1]&&g[1]>=k[1]&&R[2]<=Z[2]&&g[2]>=k[2]}},{key:"intersection",value:function(_){if(!this.intersects(_))return null;var g=new A,R=B([0,0,0],this.getMin(),_.getMin()),Z=J([0,0,0],this.getMax(),_.getMax());return g.setMinMax(R,Z),g}},{key:"getNegativeFarPoint",value:function(_){return _.pnVertexFlag===273?Tt([0,0,0],this.min):_.pnVertexFlag===272?[this.min[0],this.min[1],this.max[2]]:_.pnVertexFlag===257?[this.min[0],this.max[1],this.min[2]]:_.pnVertexFlag===256?[this.min[0],this.max[1],this.max[2]]:_.pnVertexFlag===17?[this.max[0],this.min[1],this.min[2]]:_.pnVertexFlag===16?[this.max[0],this.min[1],this.max[2]]:_.pnVertexFlag===1?[this.max[0],this.max[1],this.min[2]]:[this.max[0],this.max[1],this.max[2]]}},{key:"getPositiveFarPoint",value:function(_){return _.pnVertexFlag===273?Tt([0,0,0],this.max):_.pnVertexFlag===272?[this.max[0],this.max[1],this.min[2]]:_.pnVertexFlag===257?[this.max[0],this.min[1],this.max[2]]:_.pnVertexFlag===256?[this.max[0],this.min[1],this.min[2]]:_.pnVertexFlag===17?[this.min[0],this.max[1],this.max[2]]:_.pnVertexFlag===16?[this.min[0],this.max[1],this.min[2]]:_.pnVertexFlag===1?[this.min[0],this.min[1],this.max[2]]:[this.min[0],this.min[1],this.min[2]]}}],[{key:"isEmpty",value:function(_){return!_||_.halfExtents[0]===0&&_.halfExtents[1]===0&&_.halfExtents[2]===0}}])}(),Rt=function(){function A(L,_){(0,D.Z)(this,A),this.distance=L||0,this.normal=_||a.al(0,1,0),this.updatePNVertexFlag()}return(0,p.Z)(A,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(+(this.normal[0]>=0)<<8)+(+(this.normal[1]>=0)<<4)+ +(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(_){return a.AK(_,this.normal)-this.distance}},{key:"normalize",value:function(){var _=1/a.Zh(this.normal);a.bA(this.normal,this.normal,_),this.distance*=_}},{key:"intersectsLine",value:function(_,g,R){var Z=this.distanceToPoint(_),k=this.distanceToPoint(g),q=Z/(Z-k),at=q>=0&&q<=1;return at&&R&&a.t7(R,_,g,q),at}}])}(),It=function(A){return A[A.OUTSIDE=4294967295]="OUTSIDE",A[A.INSIDE=0]="INSIDE",A[A.INDETERMINATE=2147483647]="INDETERMINATE",A}({}),st=function(){function A(L){if((0,D.Z)(this,A),this.planes=[],L)this.planes=L;else for(var _=0;_<6;_++)this.planes.push(new Rt)}return(0,p.Z)(A,[{key:"extractFromVPMatrix",value:function(_){var g=(0,h.Z)(_,16),R=g[0],Z=g[1],k=g[2],q=g[3],at=g[4],ht=g[5],Mt=g[6],xt=g[7],wt=g[8],Kt=g[9],Nt=g[10],Vt=g[11],Jt=g[12],qt=g[13],Xt=g[14],ne=g[15];a.t8(this.planes[0].normal,q-R,xt-at,Vt-wt),this.planes[0].distance=ne-Jt,a.t8(this.planes[1].normal,q+R,xt+at,Vt+wt),this.planes[1].distance=ne+Jt,a.t8(this.planes[2].normal,q+Z,xt+ht,Vt+Kt),this.planes[2].distance=ne+qt,a.t8(this.planes[3].normal,q-Z,xt-ht,Vt-Kt),this.planes[3].distance=ne-qt,a.t8(this.planes[4].normal,q-k,xt-Mt,Vt-Nt),this.planes[4].distance=ne-Xt,a.t8(this.planes[5].normal,q+k,xt+Mt,Vt+Nt),this.planes[5].distance=ne+Xt,this.planes.forEach(function(ge){ge.normalize(),ge.updatePNVertexFlag()})}}])}(),Q=function(){function A(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;(0,D.Z)(this,A),this.x=0,this.y=0,this.x=L,this.y=_}return(0,p.Z)(A,[{key:"clone",value:function(){return new A(this.x,this.y)}},{key:"copyFrom",value:function(_){this.x=_.x,this.y=_.y}}])}(),ct=function(){function A(L,_,g,R){(0,D.Z)(this,A),this.x=L,this.y=_,this.width=g,this.height=R,this.left=L,this.right=L+g,this.top=_,this.bottom=_+R}return(0,p.Z)(A,[{key:"toJSON",value:function(){}}],[{key:"fromRect",value:function(_){return new A(_.x,_.y,_.width,_.height)}},{key:"applyTransform",value:function(_,g){var R=r.al(_.x,_.y,0,1),Z=r.al(_.x+_.width,_.y,0,1),k=r.al(_.x,_.y+_.height,0,1),q=r.al(_.x+_.width,_.y+_.height,0,1),at=r.Ue(),ht=r.Ue(),Mt=r.Ue(),xt=r.Ue();r.fF(at,R,g),r.fF(ht,Z,g),r.fF(Mt,k,g),r.fF(xt,q,g);var wt=Math.min(at[0],ht[0],Mt[0],xt[0]),Kt=Math.min(at[1],ht[1],Mt[1],xt[1]),Nt=Math.max(at[0],ht[0],Mt[0],xt[0]),Vt=Math.max(at[1],ht[1],Mt[1],xt[1]);return A.fromRect({x:wt,y:Kt,width:Nt-wt,height:Vt-Kt})}}])}(),vt="Method not implemented.",ft="Use document.documentElement instead.",_t="Cannot append a destroyed element.";function yt(A){return A===void 0?0:A>360||A<-360?A%360:A}var Ct=a.Ue();function Pt(A){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return Array.isArray(A)&&A.length===3?g?a.d9(A):a.JG(Ct,A):(0,y.Z)(A)?g?a.al(A,L,_):a.t8(Ct,A,L,_):g?a.al(A[0],A[1]||L,A[2]||_):a.t8(Ct,A[0],A[1]||L,A[2]||_)}var Dt=Math.PI/180;function At(A){return A*Dt}var Ut=180/Math.PI;function Bt(A){return A*Ut}var zt=.9;function jt(A){return A%=400,A<0&&(A+=400),A*zt}function Yt(A){return A/360}function te(A){return 360*A}var re=Math.PI/2;function ee(A,L){var _=L[0],g=L[1],R=L[2],Z=L[3],k=_*_,q=g*g,at=R*R,ht=Z*Z,Mt=k+q+at+ht,xt=_*Z-g*R;return xt>.499995*Mt?(A[0]=re,A[1]=2*Math.atan2(g,_),A[2]=0):xt<-.499995*Mt?(A[0]=-re,A[1]=2*Math.atan2(g,_),A[2]=0):(A[0]=Math.asin(2*(_*R-Z*g)),A[1]=Math.atan2(2*(_*Z+g*R),1-2*(at+ht)),A[2]=Math.atan2(2*(_*g+R*Z),1-2*(q+at))),A}function Gt(A,L){var _,g,R=s.getScaling(a.Ue(),L),Z=(0,h.Z)(R,3),k=Z[0],q=Z[1],at=Z[2],ht=Math.asin(-L[2]/k);return ht<re?ht>-re?(_=Math.atan2(L[6]/q,L[10]/at),g=Math.atan2(L[1]/k,L[0]/k)):(g=0,_=-Math.atan2(L[4]/q,L[5]/q)):(g=0,_=Math.atan2(L[4]/q,L[5]/q)),A[0]=_,A[1]=ht,A[2]=g,A}function ve(A,L){return L.length===16?Gt(A,L):ee(A,L)}function de(A,L,_,g,R){var Z=Math.cos(A),k=Math.sin(A);return o.al(g*Z,R*k,0,-g*k,R*Z,0,L,_,1)}function ye(A,L,_,g,R,Z,k){var q=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,at=2*Z,ht=_-L,Mt=g-R,xt=at/ht,wt=at/Mt,Kt=(_+L)/ht,Nt=(g+R)/Mt,Vt,Jt,qt=k-Z,Xt=k*Z;return q?(Vt=-k/qt,Jt=-Xt/qt):(Vt=-(k+Z)/qt,Jt=-2*Xt/qt),A[0]=xt,A[1]=0,A[2]=0,A[3]=0,A[4]=0,A[5]=wt,A[6]=0,A[7]=0,A[8]=Kt,A[9]=Nt,A[10]=Vt,A[11]=-1,A[12]=0,A[13]=0,A[14]=Jt,A[15]=0,A}function _e(A){var L=A[0],_=A[1],g=A[3],R=A[4],Z=Math.sqrt(L*L+_*_),k=Math.sqrt(g*g+R*R),q=L*R-_*g;if(q<0&&(L<R?Z=-Z:k=-k),Z){var at=1/Z;L*=at,_*=at}if(k){var ht=1/k;g*=ht,R*=ht}var Mt=Math.atan2(_,L),xt=Bt(Mt);return[A[6],A[7],Z,k,xt]}var me=s.create(),be=s.create(),Ie=r.Ue(),pe=[a.Ue(),a.Ue(),a.Ue()],Ye=a.Ue();function dn(A,L,_,g,R,Z){if(!Zt(me,A)||(s.copy(be,me),be[3]=0,be[7]=0,be[11]=0,be[15]=1,Math.abs(s.determinant(be))<1e-8))return!1;var k=me[3],q=me[7],at=me[11],ht=me[12],Mt=me[13],xt=me[14],wt=me[15];if(k!==0||q!==0||at!==0){Ie[0]=k,Ie[1]=q,Ie[2]=at,Ie[3]=wt;var Kt=s.invert(be,be);if(!Kt)return!1;s.transpose(be,be),r.fF(R,Ie,be)}else R[0]=R[1]=R[2]=0,R[3]=1;if(L[0]=ht,L[1]=Mt,L[2]=xt,St(pe,me),_[0]=a.kE(pe[0]),a.Fv(pe[0],pe[0]),g[0]=a.AK(pe[0],pe[1]),Lt(pe[1],pe[1],pe[0],1,-g[0]),_[1]=a.kE(pe[1]),a.Fv(pe[1],pe[1]),g[0]/=_[1],g[1]=a.AK(pe[0],pe[2]),Lt(pe[2],pe[2],pe[0],1,-g[1]),g[2]=a.AK(pe[1],pe[2]),Lt(pe[2],pe[2],pe[1],1,-g[2]),_[2]=a.kE(pe[2]),a.Fv(pe[2],pe[2]),g[1]/=_[2],g[2]/=_[2],a.kC(Ye,pe[1],pe[2]),a.AK(pe[0],Ye)<0)for(var Nt=0;Nt<3;Nt++)_[Nt]*=-1,pe[Nt][0]*=-1,pe[Nt][1]*=-1,pe[Nt][2]*=-1;return Z[0]=.5*Math.sqrt(Math.max(1+pe[0][0]-pe[1][1]-pe[2][2],0)),Z[1]=.5*Math.sqrt(Math.max(1-pe[0][0]+pe[1][1]-pe[2][2],0)),Z[2]=.5*Math.sqrt(Math.max(1-pe[0][0]-pe[1][1]+pe[2][2],0)),Z[3]=.5*Math.sqrt(Math.max(1+pe[0][0]+pe[1][1]+pe[2][2],0)),pe[2][1]>pe[1][2]&&(Z[0]=-Z[0]),pe[0][2]>pe[2][0]&&(Z[1]=-Z[1]),pe[1][0]>pe[0][1]&&(Z[2]=-Z[2]),!0}function Zt(A,L){var _=L[15];if(_===0)return!1;for(var g=1/_,R=0;R<16;R++)A[R]=L[R]*g;return!0}function St(A,L){A[0][0]=L[0],A[0][1]=L[1],A[0][2]=L[2],A[1][0]=L[4],A[1][1]=L[5],A[1][2]=L[6],A[2][0]=L[8],A[2][1]=L[9],A[2][2]=L[10]}function Lt(A,L,_,g,R){A[0]=L[0]*g+_[0]*R,A[1]=L[1]*g+_[1]*R,A[2]=L[2]*g+_[2]*R}var Wt=function(A){return A[A.ORBITING=0]="ORBITING",A[A.EXPLORING=1]="EXPLORING",A[A.TRACKING=2]="TRACKING",A}({}),Qt=function(A){return A[A.DEFAULT=0]="DEFAULT",A[A.ROTATIONAL=1]="ROTATIONAL",A[A.TRANSLATIONAL=2]="TRANSLATIONAL",A[A.CINEMATIC=3]="CINEMATIC",A}({}),ae=function(A){return A[A.ORTHOGRAPHIC=0]="ORTHOGRAPHIC",A[A.PERSPECTIVE=1]="PERSPECTIVE",A}({}),oe={UPDATED:"updated"},Oe=2e-4,Pe=function(){function A(){(0,D.Z)(this,A),this.clipSpaceNearZ=gt.NEGATIVE_ONE,this.eventEmitter=new v.Z,this.matrix=s.create(),this.right=a.al(1,0,0),this.up=a.al(0,1,0),this.forward=a.al(0,0,1),this.position=a.al(0,0,1),this.focalPoint=a.al(0,0,0),this.distanceVector=a.al(0,0,-1),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.zoom=1,this.rotateWorld=!1,this.fov=30,this.near=.1,this.far=1e3,this.aspect=1,this.projectionMatrix=s.create(),this.projectionMatrixInverse=s.create(),this.jitteredProjectionMatrix=void 0,this.enableUpdate=!0,this.type=Wt.EXPLORING,this.trackingMode=Qt.DEFAULT,this.projectionMode=ae.PERSPECTIVE,this.frustum=new st,this.orthoMatrix=s.create()}return(0,p.Z)(A,[{key:"isOrtho",value:function(){return this.projectionMode===ae.ORTHOGRAPHIC}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.jitteredProjectionMatrix||this.projectionMatrix}},{key:"getPerspectiveInverse",value:function(){return this.projectionMatrixInverse}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getDollyingStep",value:function(){return this.dollyingStep}},{key:"getNear",value:function(){return this.near}},{key:"getFar",value:function(){return this.far}},{key:"getZoom",value:function(){return this.zoom}},{key:"getOrthoMatrix",value:function(){return this.orthoMatrix}},{key:"getView",value:function(){return this.view}},{key:"setEnableUpdate",value:function(_){this.enableUpdate=_}},{key:"setType",value:function(_,g){return this.type=_,this.type===Wt.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===Wt.TRACKING&&g!==void 0&&this.setTrackingMode(g),this}},{key:"setProjectionMode",value:function(_){return this.projectionMode=_,this}},{key:"setTrackingMode",value:function(_){if(this.type!==Wt.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=_,this}},{key:"setWorldRotation",value:function(_){return this.rotateWorld=_,this._getAngles(),this}},{key:"getViewTransform",value:function(){return s.invert(s.create(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"jitterProjectionMatrix",value:function(_,g){var R=s.fromTranslation(s.create(),[_,g,0]);this.jitteredProjectionMatrix=s.multiply(s.create(),R,this.projectionMatrix)}},{key:"clearJitterProjectionMatrix",value:function(){this.jitteredProjectionMatrix=void 0}},{key:"setMatrix",value:function(_){return this.matrix=_,this._update(),this}},{key:"setProjectionMatrix",value:function(_){this.projectionMatrix=_}},{key:"setFov",value:function(_){return this.setPerspective(this.near,this.far,_,this.aspect),this}},{key:"setAspect",value:function(_){return this.setPerspective(this.near,this.far,this.fov,_),this}},{key:"setNear",value:function(_){return this.projectionMode===ae.PERSPECTIVE?this.setPerspective(_,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,_,this.far),this}},{key:"setFar",value:function(_){return this.projectionMode===ae.PERSPECTIVE?this.setPerspective(this.near,_,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,_),this}},{key:"setViewOffset",value:function(_,g,R,Z,k,q){return this.aspect=_/g,this.view===void 0&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=_,this.view.fullHeight=g,this.view.offsetX=R,this.view.offsetY=Z,this.view.width=k,this.view.height=q,this.projectionMode===ae.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return this.view!==void 0&&(this.view.enabled=!1),this.projectionMode===ae.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setZoom",value:function(_){return this.zoom=_,this.projectionMode===ae.ORTHOGRAPHIC?this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far):this.projectionMode===ae.PERSPECTIVE&&this.setPerspective(this.near,this.far,this.fov,this.aspect),this}},{key:"setZoomByViewportPoint",value:function(_,g){var R=this.canvas.viewport2Canvas({x:g[0],y:g[1]}),Z=R.x,k=R.y,q=this.roll;this.rotate(0,0,-q),this.setPosition(Z,k),this.setFocalPoint(Z,k),this.setZoom(_),this.rotate(0,0,q);var at=this.canvas.viewport2Canvas({x:g[0],y:g[1]}),ht=at.x,Mt=at.y,xt=a.al(ht-Z,Mt-k,0),wt=a.AK(xt,this.right)/a.kE(this.right),Kt=a.AK(xt,this.up)/a.kE(this.up),Nt=this.getPosition(),Vt=(0,h.Z)(Nt,2),Jt=Vt[0],qt=Vt[1],Xt=this.getFocalPoint(),ne=(0,h.Z)(Xt,2),ge=ne[0],Ht=ne[1];return this.setPosition(Jt-wt,qt-Kt),this.setFocalPoint(ge-wt,Ht-Kt),this}},{key:"setPerspective",value:function(_,g,R,Z){var k;this.projectionMode=ae.PERSPECTIVE,this.fov=R,this.near=_,this.far=g,this.aspect=Z;var q=this.near*Math.tan(At(.5*this.fov))/this.zoom,at=2*q,ht=this.aspect*at,Mt=-.5*ht;if((k=this.view)!==null&&k!==void 0&&k.enabled){var xt=this.view.fullWidth,wt=this.view.fullHeight;Mt+=this.view.offsetX*ht/xt,q-=this.view.offsetY*at/wt,ht*=this.view.width/xt,at*=this.view.height/wt}return ye(this.projectionMatrix,Mt,Mt+ht,q-at,q,_,this.far,this.clipSpaceNearZ===gt.ZERO),s.invert(this.projectionMatrixInverse,this.projectionMatrix),this.triggerUpdate(),this}},{key:"setOrthographic",value:function(_,g,R,Z,k,q){var at;this.projectionMode=ae.ORTHOGRAPHIC,this.rright=g,this.left=_,this.top=R,this.bottom=Z,this.near=k,this.far=q;var ht=(this.rright-this.left)/(2*this.zoom),Mt=(this.top-this.bottom)/(2*this.zoom),xt=(this.rright+this.left)/2,wt=(this.top+this.bottom)/2,Kt=xt-ht,Nt=xt+ht,Vt=wt+Mt,Jt=wt-Mt;if((at=this.view)!==null&&at!==void 0&&at.enabled){var qt=(this.rright-this.left)/this.view.fullWidth/this.zoom,Xt=(this.top-this.bottom)/this.view.fullHeight/this.zoom;Kt+=qt*this.view.offsetX,Nt=Kt+qt*this.view.width,Vt-=Xt*this.view.offsetY,Jt=Vt-Xt*this.view.height}return this.clipSpaceNearZ===gt.NEGATIVE_ONE?s.ortho(this.projectionMatrix,Kt,Nt,Vt,Jt,k,q):s.orthoZO(this.projectionMatrix,Kt,Nt,Vt,Jt,k,q),s.invert(this.projectionMatrixInverse,this.projectionMatrix),this._getOrthoMatrix(),this.triggerUpdate(),this}},{key:"setPosition",value:function(_){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.position[1],R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.position[2],Z=Pt(_,g,R);return this._setPosition(Z),this.setFocalPoint(this.focalPoint),this.triggerUpdate(),this}},{key:"setFocalPoint",value:function(_){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.focalPoint[1],R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.focalPoint[2],Z=a.al(0,1,0);if(this.focalPoint=Pt(_,g,R),this.trackingMode===Qt.CINEMATIC){var k=a.$X(a.Ue(),this.focalPoint,this.position);_=k[0],g=k[1],R=k[2];var q=a.kE(k),at=Bt(Math.asin(g/q)),ht=90+Bt(Math.atan2(R,_)),Mt=s.create();s.rotateY(Mt,Mt,At(ht)),s.rotateX(Mt,Mt,At(at)),Z=a.fF(a.Ue(),[0,1,0],Mt)}return s.invert(this.matrix,s.lookAt(s.create(),this.position,this.focalPoint,Z)),this._getAxes(),this._getDistance(),this._getAngles(),this.triggerUpdate(),this}},{key:"getDistance",value:function(){return this.distance}},{key:"getDistanceVector",value:function(){return this.distanceVector}},{key:"setDistance",value:function(_){if(this.distance===_||_<0)return this;this.distance=_,this.distance<Oe&&(this.distance=Oe),this.dollyingStep=this.distance/100;var g=a.Ue();_=this.distance;var R=this.forward,Z=this.focalPoint;return g[0]=_*R[0]+Z[0],g[1]=_*R[1]+Z[1],g[2]=_*R[2]+Z[2],this._setPosition(g),this.triggerUpdate(),this}},{key:"setMaxDistance",value:function(_){return this.maxDistance=_,this}},{key:"setMinDistance",value:function(_){return this.minDistance=_,this}},{key:"setAzimuth",value:function(_){return this.azimuth=yt(_),this.computeMatrix(),this._getAxes(),this.type===Wt.ORBITING||this.type===Wt.EXPLORING?this._getPosition():this.type===Wt.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(_){return this.elevation=yt(_),this.computeMatrix(),this._getAxes(),this.type===Wt.ORBITING||this.type===Wt.EXPLORING?this._getPosition():this.type===Wt.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getElevation",value:function(){return this.elevation}},{key:"setRoll",value:function(_){return this.roll=yt(_),this.computeMatrix(),this._getAxes(),this.type===Wt.ORBITING||this.type===Wt.EXPLORING?this._getPosition():this.type===Wt.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getRoll",value:function(){return this.roll}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles(),this._getOrthoMatrix(),this.triggerUpdate()}},{key:"computeMatrix",value:function(){var _=d.yY(d.Ue(),[0,0,1],At(this.roll));s.identity(this.matrix);var g=d.yY(d.Ue(),[1,0,0],At((this.rotateWorld&&this.type!==Wt.TRACKING||this.type===Wt.TRACKING?1:-1)*this.elevation)),R=d.yY(d.Ue(),[0,1,0],At((this.rotateWorld&&this.type!==Wt.TRACKING||this.type===Wt.TRACKING?1:-1)*this.azimuth)),Z=d.Jp(d.Ue(),R,g);Z=d.Jp(d.Ue(),Z,_);var k=s.fromQuat(s.create(),Z);this.type===Wt.ORBITING||this.type===Wt.EXPLORING?(s.translate(this.matrix,this.matrix,this.focalPoint),s.multiply(this.matrix,this.matrix,k),s.translate(this.matrix,this.matrix,[0,0,this.distance])):this.type===Wt.TRACKING&&(s.translate(this.matrix,this.matrix,this.position),s.multiply(this.matrix,this.matrix,k))}},{key:"_setPosition",value:function(_,g,R){this.position=Pt(_,g,R);var Z=this.matrix;Z[12]=this.position[0],Z[13]=this.position[1],Z[14]=this.position[2],Z[15]=1,this._getOrthoMatrix()}},{key:"_getAxes",value:function(){a.JG(this.right,Pt(r.fF(r.Ue(),[1,0,0,0],this.matrix))),a.JG(this.up,Pt(r.fF(r.Ue(),[0,1,0,0],this.matrix))),a.JG(this.forward,Pt(r.fF(r.Ue(),[0,0,1,0],this.matrix))),a.Fv(this.right,this.right),a.Fv(this.up,this.up),a.Fv(this.forward,this.forward)}},{key:"_getAngles",value:function(){var _=this.distanceVector[0],g=this.distanceVector[1],R=this.distanceVector[2],Z=a.kE(this.distanceVector);if(Z===0){this.elevation=0,this.azimuth=0;return}this.type===Wt.TRACKING?(this.elevation=Bt(Math.asin(g/Z)),this.azimuth=Bt(Math.atan2(-_,-R))):this.rotateWorld?(this.elevation=Bt(Math.asin(g/Z)),this.azimuth=Bt(Math.atan2(-_,-R))):(this.elevation=-Bt(Math.asin(g/Z)),this.azimuth=-Bt(Math.atan2(-_,-R)))}},{key:"_getPosition",value:function(){a.JG(this.position,Pt(r.fF(r.Ue(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){a.kK(this.distanceVector,[0,0,-this.distance],o.xO(o.Ue(),this.matrix)),a.IH(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=a.$X(a.Ue(),this.focalPoint,this.position),this.distance=a.kE(this.distanceVector),this.dollyingStep=this.distance/100}},{key:"_getOrthoMatrix",value:function(){if(this.projectionMode===ae.ORTHOGRAPHIC){var _=this.position,g=d.yY(d.Ue(),[0,0,1],-this.roll*Math.PI/180);s.fromRotationTranslationScaleOrigin(this.orthoMatrix,g,a.al((this.rright-this.left)/2-_[0],(this.top-this.bottom)/2-_[1],0),a.al(this.zoom,this.zoom,1),_)}}},{key:"triggerUpdate",value:function(){if(this.enableUpdate){var _=this.getViewTransform(),g=s.multiply(s.create(),this.getPerspective(),_);this.getFrustum().extractFromVPMatrix(g),this.eventEmitter.emit(oe.UPDATED)}}},{key:"rotate",value:function(_,g,R){throw new Error(vt)}},{key:"pan",value:function(_,g){throw new Error(vt)}},{key:"dolly",value:function(_){throw new Error(vt)}},{key:"createLandmark",value:function(_,g){throw new Error(vt)}},{key:"gotoLandmark",value:function(_,g){throw new Error(vt)}},{key:"cancelLandmarkAnimation",value:function(){throw new Error(vt)}}])}(),Re=function(A){return A[A.Standard=0]="Standard",A}({}),Se=function(A){return A[A.ADDED=0]="ADDED",A[A.REMOVED=1]="REMOVED",A[A.Z_INDEX_CHANGED=2]="Z_INDEX_CHANGED",A}({}),Ae=a.Ue(),Be=s.create(),je=d.Ue();function Fe(A){if(A.localDirtyFlag){var L=A.localSkew[0]!==0||A.localSkew[1]!==0;if(L){s.fromRotationTranslationScaleOrigin(A.localTransform,A.localRotation,A.localPosition,a.al(1,1,1),A.origin),(A.localSkew[0]!==0||A.localSkew[1]!==0)&&(s.identity(Be),Be[4]=Math.tan(A.localSkew[0]),Be[1]=Math.tan(A.localSkew[1]),s.multiply(A.localTransform,A.localTransform,Be));var _=s.fromRotationTranslationScaleOrigin(Be,d.t8(je,0,0,0,1),a.t8(Ae,1,1,1),A.localScale,A.origin);s.multiply(A.localTransform,A.localTransform,_)}else{var g=A.localTransform,R=A.localPosition,Z=A.localRotation,k=A.localScale,q=A.origin,at=R[0]!==0||R[1]!==0||R[2]!==0,ht=Z[3]!==1||Z[0]!==0||Z[1]!==0||Z[2]!==0,Mt=k[0]!==1||k[1]!==1||k[2]!==1,xt=q[0]!==0||q[1]!==0||q[2]!==0;!ht&&!Mt&&!xt?at?s.fromTranslation(g,R):s.identity(g):s.fromRotationTranslationScaleOrigin(g,Z,R,k,q)}A.localDirtyFlag=!1}}function rn(A,L){A.dirtyFlag&&(L?s.multiply(A.worldTransform,L.worldTransform,A.localTransform):s.copy(A.worldTransform,A.localTransform),A.dirtyFlag=!1)}var tn={absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new ct(0,0,0,0)},le=function(A){return A.COORDINATE="<coordinate>",A.COLOR="<color>",A.PAINT="<paint>",A.NUMBER="<number>",A.ANGLE="<angle>",A.OPACITY_VALUE="<opacity-value>",A.SHADOW_BLUR="<shadow-blur>",A.LENGTH="<length>",A.PERCENTAGE="<percentage>",A.LENGTH_PERCENTAGE="<length> | <percentage>",A.LENGTH_PERCENTAGE_12="[<length> | <percentage>]{1,2}",A.LENGTH_PERCENTAGE_14="[<length> | <percentage>]{1,4}",A.LIST_OF_POINTS="<list-of-points>",A.PATH="<path>",A.FILTER="<filter>",A.Z_INDEX="<z-index>",A.OFFSET_DISTANCE="<offset-distance>",A.DEFINED_PATH="<defined-path>",A.MARKER="<marker>",A.TRANSFORM="<transform>",A.TRANSFORM_ORIGIN="<transform-origin>",A.TEXT="<text>",A.TEXT_TRANSFORM="<text-transform>",A}({});function Qe(A,L,_){A.prototype=L.prototype=_,_.constructor=A}function we(A,L){var _=Object.create(A.prototype);for(var g in L)_[g]=L[g];return _}function $e(){}var Ne=.7,en=1/Ne,an="\\s*([+-]?\\d+)\\s*",Mn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",un="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Bn=/^#([0-9a-f]{3,8})$/,Yn=new RegExp(`^rgb\\(${an},${an},${an}\\)$`),$n=new RegExp(`^rgb\\(${un},${un},${un}\\)$`),Xn=new RegExp(`^rgba\\(${an},${an},${an},${Mn}\\)$`),Da=new RegExp(`^rgba\\(${un},${un},${un},${Mn}\\)$`),Ta=new RegExp(`^hsl\\(${Mn},${un},${un}\\)$`),Ca=new RegExp(`^hsla\\(${Mn},${un},${un},${Mn}\\)$`),ri={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Qe($e,Jn,{copy(A){return Object.assign(new this.constructor,this,A)},displayable(){return this.rgb().displayable()},hex:ii,formatHex:ii,formatHex8:ba,formatHsl:xa,formatRgb:ai,toString:ai});function ii(){return this.rgb().formatHex()}function ba(){return this.rgb().formatHex8()}function xa(){return ci(this).formatHsl()}function ai(){return this.rgb().formatRgb()}function Jn(A){var L,_;return A=(A+"").trim().toLowerCase(),(L=Bn.exec(A))?(_=L[1].length,L=parseInt(L[1],16),_===6?si(L):_===3?new sn(L>>8&15|L>>4&240,L>>4&15|L&240,(L&15)<<4|L&15,1):_===8?Qn(L>>24&255,L>>16&255,L>>8&255,(L&255)/255):_===4?Qn(L>>12&15|L>>8&240,L>>8&15|L>>4&240,L>>4&15|L&240,((L&15)<<4|L&15)/255):null):(L=Yn.exec(A))?new sn(L[1],L[2],L[3],1):(L=$n.exec(A))?new sn(L[1]*255/100,L[2]*255/100,L[3]*255/100,1):(L=Xn.exec(A))?Qn(L[1],L[2],L[3],L[4]):(L=Da.exec(A))?Qn(L[1]*255/100,L[2]*255/100,L[3]*255/100,L[4]):(L=Ta.exec(A))?ui(L[1],L[2]/100,L[3]/100,1):(L=Ca.exec(A))?ui(L[1],L[2]/100,L[3]/100,L[4]):ri.hasOwnProperty(A)?si(ri[A]):A==="transparent"?new sn(NaN,NaN,NaN,0):null}function si(A){return new sn(A>>16&255,A>>8&255,A&255,1)}function Qn(A,L,_,g){return g<=0&&(A=L=_=NaN),new sn(A,L,_,g)}function Aa(A){return A instanceof $e||(A=Jn(A)),A?(A=A.rgb(),new sn(A.r,A.g,A.b,A.opacity)):new sn}function Ra(A,L,_,g){return arguments.length===1?Aa(A):new sn(A,L,_,g==null?1:g)}function sn(A,L,_,g){this.r=+A,this.g=+L,this.b=+_,this.opacity=+g}Qe(sn,Ra,we($e,{brighter(A){return A=A==null?en:Math.pow(en,A),new sn(this.r*A,this.g*A,this.b*A,this.opacity)},darker(A){return A=A==null?Ne:Math.pow(Ne,A),new sn(this.r*A,this.g*A,this.b*A,this.opacity)},rgb(){return this},clamp(){return new sn(On(this.r),On(this.g),On(this.b),qn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oi,formatHex:oi,formatHex8:La,formatRgb:li,toString:li}));function oi(){return`#${Pn(this.r)}${Pn(this.g)}${Pn(this.b)}`}function La(){return`#${Pn(this.r)}${Pn(this.g)}${Pn(this.b)}${Pn((isNaN(this.opacity)?1:this.opacity)*255)}`}function li(){const A=qn(this.opacity);return`${A===1?"rgb(":"rgba("}${On(this.r)}, ${On(this.g)}, ${On(this.b)}${A===1?")":`, ${A})`}`}function qn(A){return isNaN(A)?1:Math.max(0,Math.min(1,A))}function On(A){return Math.max(0,Math.min(255,Math.round(A)||0))}function Pn(A){return A=On(A),(A<16?"0":"")+A.toString(16)}function ui(A,L,_,g){return g<=0?A=L=_=NaN:_<=0||_>=1?A=L=NaN:L<=0&&(A=NaN),new hn(A,L,_,g)}function ci(A){if(A instanceof hn)return new hn(A.h,A.s,A.l,A.opacity);if(A instanceof $e||(A=Jn(A)),!A)return new hn;if(A instanceof hn)return A;A=A.rgb();var L=A.r/255,_=A.g/255,g=A.b/255,R=Math.min(L,_,g),Z=Math.max(L,_,g),k=NaN,q=Z-R,at=(Z+R)/2;return q?(L===Z?k=(_-g)/q+(_<g)*6:_===Z?k=(g-L)/q+2:k=(L-_)/q+4,q/=at<.5?Z+R:2-Z-R,k*=60):q=at>0&&at<1?0:k,new hn(k,q,at,A.opacity)}function Ia(A,L,_,g){return arguments.length===1?ci(A):new hn(A,L,_,g==null?1:g)}function hn(A,L,_,g){this.h=+A,this.s=+L,this.l=+_,this.opacity=+g}Qe(hn,Ia,we($e,{brighter(A){return A=A==null?en:Math.pow(en,A),new hn(this.h,this.s,this.l*A,this.opacity)},darker(A){return A=A==null?Ne:Math.pow(Ne,A),new hn(this.h,this.s,this.l*A,this.opacity)},rgb(){var A=this.h%360+(this.h<0)*360,L=isNaN(A)||isNaN(this.s)?0:this.s,_=this.l,g=_+(_<.5?_:1-_)*L,R=2*_-g;return new sn(mr(A>=240?A-240:A+120,R,g),mr(A,R,g),mr(A<120?A+240:A-120,R,g),this.opacity)},clamp(){return new hn(di(this.h),tr(this.s),tr(this.l),qn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const A=qn(this.opacity);return`${A===1?"hsl(":"hsla("}${di(this.h)}, ${tr(this.s)*100}%, ${tr(this.l)*100}%${A===1?")":`, ${A})`}`}}));function di(A){return A=(A||0)%360,A<0?A+360:A}function tr(A){return Math.max(0,Math.min(1,A||0))}function mr(A,L,_){return(A<60?L+(_-L)*A/60:A<180?_:A<240?L+(_-L)*(240-A)/60:L)*255}function Ve(A,L){if(typeof A!="function"||L!=null&&typeof L!="function")throw new TypeError("Expected a function");var _=function(){for(var R=arguments.length,Z=new Array(R),k=0;k<R;k++)Z[k]=arguments[k];var q=L?L.apply(this,Z):Z[0],at=_.cache;if(at.has(q))return at.get(q);var ht=A.apply(this,Z);return _.cache=at.set(q,ht)||at,ht};return _.cache=new(Ve.Cache||Map),Ve.cacheList.push(_.cache),_}Ve.Cache=Map,Ve.cacheList=[],Ve.clearCache=function(){Ve.cacheList.forEach(function(A){return A.clear()})};var he=function(A){return A[A.kUnknown=0]="kUnknown",A[A.kNumber=1]="kNumber",A[A.kPercentage=2]="kPercentage",A[A.kEms=3]="kEms",A[A.kPixels=4]="kPixels",A[A.kRems=5]="kRems",A[A.kDegrees=6]="kDegrees",A[A.kRadians=7]="kRadians",A[A.kGradians=8]="kGradians",A[A.kTurns=9]="kTurns",A[A.kMilliseconds=10]="kMilliseconds",A[A.kSeconds=11]="kSeconds",A[A.kInteger=12]="kInteger",A}({}),vn=function(A){return A[A.kUNumber=0]="kUNumber",A[A.kUPercent=1]="kUPercent",A[A.kULength=2]="kULength",A[A.kUAngle=3]="kUAngle",A[A.kUTime=4]="kUTime",A[A.kUOther=5]="kUOther",A}({}),Sa=function(A){return A[A.kYes=0]="kYes",A[A.kNo=1]="kNo",A}({}),Ba=function(A){return A[A.kYes=0]="kYes",A[A.kNo=1]="kNo",A}({}),wa=[{name:"em",unit_type:he.kEms},{name:"px",unit_type:he.kPixels},{name:"deg",unit_type:he.kDegrees},{name:"rad",unit_type:he.kRadians},{name:"grad",unit_type:he.kGradians},{name:"ms",unit_type:he.kMilliseconds},{name:"s",unit_type:he.kSeconds},{name:"rem",unit_type:he.kRems},{name:"turn",unit_type:he.kTurns}],In=function(A){return A[A.kUnknownType=0]="kUnknownType",A[A.kUnparsedType=1]="kUnparsedType",A[A.kKeywordType=2]="kKeywordType",A[A.kUnitType=3]="kUnitType",A[A.kSumType=4]="kSumType",A[A.kProductType=5]="kProductType",A[A.kNegateType=6]="kNegateType",A[A.kInvertType=7]="kInvertType",A[A.kMinType=8]="kMinType",A[A.kMaxType=9]="kMaxType",A[A.kClampType=10]="kClampType",A[A.kTransformType=11]="kTransformType",A[A.kPositionType=12]="kPositionType",A[A.kURLImageType=13]="kURLImageType",A[A.kColorType=14]="kColorType",A[A.kUnsupportedColorType=15]="kUnsupportedColorType",A}({}),Wa=function(L){return wa.find(function(_){return _.name===L}).unit_type},Ua=function(L){return L?L==="number"?he.kNumber:L==="percent"||L==="%"?he.kPercentage:Wa(L):he.kUnknown},Na=function(L){switch(L){case he.kNumber:case he.kInteger:return vn.kUNumber;case he.kPercentage:return vn.kUPercent;case he.kPixels:return vn.kULength;case he.kMilliseconds:case he.kSeconds:return vn.kUTime;case he.kDegrees:case he.kRadians:case he.kGradians:case he.kTurns:return vn.kUAngle;default:return vn.kUOther}},Ka=function(L){switch(L){case vn.kUNumber:return he.kNumber;case vn.kULength:return he.kPixels;case vn.kUPercent:return he.kPercentage;case vn.kUTime:return he.kSeconds;case vn.kUAngle:return he.kDegrees;default:return he.kUnknown}},fi=function(L){var _=1;switch(L){case he.kPixels:case he.kDegrees:case he.kSeconds:break;case he.kMilliseconds:_=.001;break;case he.kRadians:_=180/Math.PI;break;case he.kGradians:_=.9;break;case he.kTurns:_=360;break}return _},yr=function(L){switch(L){case he.kNumber:case he.kInteger:return"";case he.kPercentage:return"%";case he.kEms:return"em";case he.kRems:return"rem";case he.kPixels:return"px";case he.kDegrees:return"deg";case he.kRadians:return"rad";case he.kGradians:return"grad";case he.kMilliseconds:return"ms";case he.kSeconds:return"s";case he.kTurns:return"turn"}return""},er=function(){function A(){(0,D.Z)(this,A)}return(0,p.Z)(A,[{key:"toString",value:function(){return this.buildCSSText(Sa.kNo,Ba.kNo,"")}},{key:"isNumericValue",value:function(){return this.getType()>=In.kUnitType&&this.getType()<=In.kClampType}}],[{key:"isAngle",value:function(_){return _===he.kDegrees||_===he.kRadians||_===he.kGradians||_===he.kTurns}},{key:"isLength",value:function(_){return _>=he.kEms&&_<he.kDegrees}},{key:"isRelativeUnit",value:function(_){return _===he.kPercentage||_===he.kEms||_===he.kRems}},{key:"isTime",value:function(_){return _===he.kSeconds||_===he.kMilliseconds}}])}(),ka=function(A){function L(_){var g;return(0,D.Z)(this,L),g=(0,m.Z)(this,L),g.colorSpace=_,g}return(0,c.Z)(L,A),(0,p.Z)(L,[{key:"getType",value:function(){return In.kColorType}},{key:"to",value:function(g){return this}}])}(er),wn=function(A){return A[A.Constant=0]="Constant",A[A.LinearGradient=1]="LinearGradient",A[A.RadialGradient=2]="RadialGradient",A}({}),nr=function(A){function L(_,g){var R;return(0,D.Z)(this,L),R=(0,m.Z)(this,L),R.type=_,R.value=g,R}return(0,c.Z)(L,A),(0,p.Z)(L,[{key:"clone",value:function(){return new L(this.type,this.value)}},{key:"buildCSSText",value:function(g,R,Z){return Z}},{key:"getType",value:function(){return In.kColorType}}])}(er),fn=function(A){function L(_){var g;return(0,D.Z)(this,L),g=(0,m.Z)(this,L),g.value=_,g}return(0,c.Z)(L,A),(0,p.Z)(L,[{key:"clone",value:function(){return new L(this.value)}},{key:"getType",value:function(){return In.kKeywordType}},{key:"buildCSSText",value:function(g,R,Z){return Z+this.value}}])}(er),Za=function(L){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",g="";return Number.isFinite(L)?g="NaN":L>0?g="infinity":g="-infinity",g+=_},Mr=function(L){return Ka(Na(L))},We=function(A){function L(_){var g,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:he.kNumber;(0,D.Z)(this,L),g=(0,m.Z)(this,L);var Z;return typeof R=="string"?Z=Ua(R):Z=R,g.unit=Z,g.value=_,g}return(0,c.Z)(L,A),(0,p.Z)(L,[{key:"clone",value:function(){return new L(this.value,this.unit)}},{key:"equals",value:function(g){var R=g;return this.value===R.value&&this.unit===R.unit}},{key:"getType",value:function(){return In.kUnitType}},{key:"convertTo",value:function(g){if(this.unit===g)return new L(this.value,this.unit);var R=Mr(this.unit);if(R!==Mr(g)||R===he.kUnknown)return null;var Z=fi(this.unit)/fi(g);return new L(this.value*Z,g)}},{key:"buildCSSText",value:function(g,R,Z){var k;switch(this.unit){case he.kUnknown:break;case he.kInteger:k=Number(this.value).toFixed(0);break;case he.kNumber:case he.kPercentage:case he.kEms:case he.kRems:case he.kPixels:case he.kDegrees:case he.kRadians:case he.kGradians:case he.kMilliseconds:case he.kSeconds:case he.kTurns:{var q=-999999,at=999999,ht=this.value,Mt=yr(this.unit);if(ht<q||ht>at){var xt=yr(this.unit);!Number.isFinite(ht)||Number.isNaN(ht)?k=Za(ht,xt):k=ht+(xt||"")}else k="".concat(ht).concat(Mt)}}return Z+=k,Z}}])}(er),_n=new We(0,"px");new We(1,"px");var Dn=new We(0,"deg"),Or=function(A){function L(_,g,R){var Z,k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,q=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return(0,D.Z)(this,L),Z=(0,m.Z)(this,L,["rgb"]),Z.r=_,Z.g=g,Z.b=R,Z.alpha=k,Z.isNone=q,Z}return(0,c.Z)(L,A),(0,p.Z)(L,[{key:"clone",value:function(){return new L(this.r,this.g,this.b,this.alpha)}},{key:"buildCSSText",value:function(g,R,Z){return"".concat(Z,"rgba(").concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.alpha,")")}}])}(ka),hi=new fn("unset"),Fa=new fn("initial"),za=new fn("inherit"),Pr={"":hi,unset:hi,initial:Fa,inherit:za},ja=function(L){return Pr[L]||(Pr[L]=new fn(L)),Pr[L]},vi=new Or(0,0,0,0,!0),_i=new Or(0,0,0,0),Va=Ve(function(A,L,_,g){return new Or(A,L,_,g)},function(A,L,_,g){return"rgba(".concat(A,",").concat(L,",").concat(_,",").concat(g,")")}),Ke=function(L){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:he.kNumber;return new We(L,_)};new We(50,"%");function Ga(A){var L=A.type,_=A.value;return L==="hex"?"#".concat(_):L==="literal"?_:L==="rgb"?"rgb(".concat(_.join(","),")"):"rgba(".concat(_.join(","),")")}var Ha=function(){var A={linearGradient:/^(linear\-gradient)/i,repeatingLinearGradient:/^(repeating\-linear\-gradient)/i,radialGradient:/^(radial\-gradient)/i,repeatingRadialGradient:/^(repeating\-radial\-gradient)/i,conicGradient:/^(conic\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},L="";function _(Ee){throw new Error("".concat(L,": ").concat(Ee))}function g(){var Ee=R();return L.length>0&&_("Invalid input not EOF"),Ee}function R(){return ne(Z)}function Z(){return k("linear-gradient",A.linearGradient,at)||k("repeating-linear-gradient",A.repeatingLinearGradient,at)||k("radial-gradient",A.radialGradient,xt)||k("repeating-radial-gradient",A.repeatingRadialGradient,xt)||k("conic-gradient",A.conicGradient,xt)}function k(Ee,Te,Ce){return q(Te,function(He){var Je=Ce();return Je&&(xe(A.comma)||_("Missing comma before color stops")),{type:Ee,orientation:Je,colorStops:ne(ge)}})}function q(Ee,Te){var Ce=xe(Ee);if(Ce){xe(A.startCall)||_("Missing (");var He=Te(Ce);return xe(A.endCall)||_("Missing )"),He}}function at(){return ht()||Mt()}function ht(){return De("directional",A.sideOrCorner,1)}function Mt(){return De("angular",A.angleValue,1)}function xt(){var Ee,Te=wt(),Ce;return Te&&(Ee=[],Ee.push(Te),Ce=L,xe(A.comma)&&(Te=wt(),Te?Ee.push(Te):L=Ce)),Ee}function wt(){var Ee=Kt()||Nt();if(Ee)Ee.at=Jt();else{var Te=Vt();if(Te){Ee=Te;var Ce=Jt();Ce&&(Ee.at=Ce)}else{var He=qt();He&&(Ee={type:"default-radial",at:He})}}return Ee}function Kt(){var Ee=De("shape",/^(circle)/i,0);return Ee&&(Ee.style=Me()||Vt()),Ee}function Nt(){var Ee=De("shape",/^(ellipse)/i,0);return Ee&&(Ee.style=fe()||Vt()),Ee}function Vt(){return De("extent-keyword",A.extentKeywords,1)}function Jt(){if(De("position",/^at/,0)){var Ee=qt();return Ee||_("Missing positioning value"),Ee}}function qt(){var Ee=Xt();if(Ee.x||Ee.y)return{type:"position",value:Ee}}function Xt(){return{x:fe(),y:fe()}}function ne(Ee){var Te=Ee(),Ce=[];if(Te)for(Ce.push(Te);xe(A.comma);)Te=Ee(),Te?Ce.push(Te):_("One extra comma");return Ce}function ge(){var Ee=Ht();return Ee||_("Expected color definition"),Ee.length=fe(),Ee}function Ht(){return Ft()||ue()||$t()||kt()}function kt(){return De("literal",A.literalColor,0)}function Ft(){return De("hex",A.hexColor,1)}function $t(){return q(A.rgbColor,function(){return{type:"rgb",value:ne(se)}})}function ue(){return q(A.rgbaColor,function(){return{type:"rgba",value:ne(se)}})}function se(){return xe(A.number)[1]}function fe(){return De("%",A.percentageValue,1)||ce()||Me()}function ce(){return De("position-keyword",A.positionKeywords,1)}function Me(){return De("px",A.pixelValue,1)||De("em",A.emValue,1)}function De(Ee,Te,Ce){var He=xe(Te);if(He)return{type:Ee,value:He[Ce]}}function xe(Ee){var Te=/^[\n\r\t\s]+/.exec(L);Te&&Le(Te[0].length);var Ce=Ee.exec(L);return Ce&&Le(Ce[0].length),Ce}function Le(Ee){L=L.substring(Ee)}return function(Ee){return L=Ee,g()}}();function Ya(A,L,_,g){var R=At(g.value),Z=0,k=0,q=Z+L/2,at=k+_/2,ht=Math.abs(L*Math.cos(R))+Math.abs(_*Math.sin(R)),Mt=A[0]+q-Math.cos(R)*ht/2,xt=A[1]+at-Math.sin(R)*ht/2,wt=A[0]+q+Math.cos(R)*ht/2,Kt=A[1]+at+Math.sin(R)*ht/2;return{x1:Mt,y1:xt,x2:wt,y2:Kt}}function $a(A,L,_,g,R,Z){var k=g.value,q=R.value;g.unit===he.kPercentage&&(k=g.value/100*L),R.unit===he.kPercentage&&(q=R.value/100*_);var at=Math.max((0,E.y)([0,0],[k,q]),(0,E.y)([0,_],[k,q]),(0,E.y)([L,_],[k,q]),(0,E.y)([L,0],[k,q]));return Z&&(Z instanceof We?at=Z.value:Z instanceof fn&&(Z.value==="closest-side"?at=Math.min(k,L-k,q,_-q):Z.value==="farthest-side"?at=Math.max(k,L-k,q,_-q):Z.value==="closest-corner"&&(at=Math.min((0,E.y)([0,0],[k,q]),(0,E.y)([0,_],[k,q]),(0,E.y)([L,_],[k,q]),(0,E.y)([L,0],[k,q]))))),{x:k+A[0],y:q+A[1],r:at}}var Xa=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Ja=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Qa=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,gi=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function qa(A){var L,_=A.length;if(A[_-1].length=(L=A[_-1].length)!==null&&L!==void 0?L:{type:"%",value:"100"},_>1){var g;A[0].length=(g=A[0].length)!==null&&g!==void 0?g:{type:"%",value:"0"}}for(var R=0,Z=Number(A[0].length.value),k=1;k<_;k++){var q,at=(q=A[k].length)===null||q===void 0?void 0:q.value;if(!(0,e.Z)(at)&&!(0,e.Z)(Z)){for(var ht=1;ht<k-R;ht++)A[R+ht].length={type:"%",value:"".concat(Z+(Number(at)-Z)*ht/(k-R))};R=k,Z=Number(at)}}}var ts={left:180,top:-90,bottom:90,right:0,"left top":225,"top left":225,"left bottom":135,"bottom left":135,"right top":-45,"top right":-45,"right bottom":45,"bottom right":45},es=Ve(function(A){var L;return A.type==="angular"?L=Number(A.value):L=ts[A.value]||0,Ke(L,"deg")}),ns=Ve(function(A){var L=50,_=50,g="%",R="%";if((A==null?void 0:A.type)==="position"){var Z=A.value,k=Z.x,q=Z.y;(k==null?void 0:k.type)==="position-keyword"&&(k.value==="left"?L=0:k.value==="center"?L=50:k.value==="right"?L=100:k.value==="top"?_=0:k.value==="bottom"&&(_=100)),(q==null?void 0:q.type)==="position-keyword"&&(q.value==="left"?L=0:q.value==="center"?_=50:q.value==="right"?L=100:q.value==="top"?_=0:q.value==="bottom"&&(_=100)),((k==null?void 0:k.type)==="px"||(k==null?void 0:k.type)==="%"||(k==null?void 0:k.type)==="em")&&(g=k==null?void 0:k.type,L=Number(k.value)),((q==null?void 0:q.type)==="px"||(q==null?void 0:q.type)==="%"||(q==null?void 0:q.type)==="em")&&(R=q==null?void 0:q.type,_=Number(q.value))}return{cx:Ke(L,g),cy:Ke(_,R)}}),rs=Ve(function(A){if(A.indexOf("linear")>-1||A.indexOf("radial")>-1){var L=Ha(A);return L.map(function(q){var at=q.type,ht=q.orientation,Mt=q.colorStops;qa(Mt);var xt=Mt.map(function(ne){return{offset:Ke(Number(ne.length.value),"%"),color:Ga(ne)}});if(at==="linear-gradient")return new nr(wn.LinearGradient,{angle:ht?es(ht):Dn,steps:xt});if(at==="radial-gradient"&&(ht||(ht=[{type:"shape",value:"circle"}]),ht[0].type==="shape"&&ht[0].value==="circle")){var wt=ns(ht[0].at),Kt=wt.cx,Nt=wt.cy,Vt;if(ht[0].style){var Jt=ht[0].style,qt=Jt.type,Xt=Jt.value;qt==="extent-keyword"?Vt=ja(Xt):Vt=Ke(Xt,qt)}return new nr(wn.RadialGradient,{cx:Kt,cy:Nt,size:Vt,steps:xt})}})}var _=A[0];if(A[1]==="("||A[2]==="("){if(_==="l"){var g=Xa.exec(A);if(g){var R,Z=((R=g[2].match(gi))===null||R===void 0?void 0:R.map(function(q){return q.split(":")}))||[];return[new nr(wn.LinearGradient,{angle:Ke(parseFloat(g[1]),"deg"),steps:Z.map(function(q){var at=(0,h.Z)(q,2),ht=at[0],Mt=at[1];return{offset:Ke(Number(ht)*100,"%"),color:Mt}})})]}}else if(_==="r"){var k=is(A);if(k)if((0,i.Z)(k))A=k;else return[new nr(wn.RadialGradient,k)]}else if(_==="p")return as(A)}});function is(A){var L=Ja.exec(A);if(L){var _,g=((_=L[4].match(gi))===null||_===void 0?void 0:_.map(function(R){return R.split(":")}))||[];return{cx:Ke(50,"%"),cy:Ke(50,"%"),steps:g.map(function(R){var Z=(0,h.Z)(R,2),k=Z[0],q=Z[1];return{offset:Ke(Number(k)*100,"%"),color:q}})}}return null}function as(A){var L=Qa.exec(A);if(L){var _=L[1],g=L[2];switch(_){case"a":_="repeat";break;case"x":_="repeat-x";break;case"y":_="repeat-y";break;case"n":_="no-repeat";break;default:_="no-repeat"}return{image:g,repetition:_}}return null}function Gl(A){return!!A.type&&!!A.value}function pi(A){return A&&!!A.image}function Dr(A){return A&&!(0,e.Z)(A.r)&&!(0,e.Z)(A.g)&&!(0,e.Z)(A.b)}var Wn=Ve(function(A){if(pi(A))return(0,u.Z)({repetition:"repeat"},A);if((0,e.Z)(A)&&(A=""),A==="transparent")return _i;if(A==="currentColor")A="black";else if(A==="none")return vi;var L=rs(A);if(L)return L;var _=Jn(A),g=[0,0,0,0];return _!==null&&(g[0]=_.r||0,g[1]=_.g||0,g[2]=_.b||0,g[3]=_.opacity),Va.apply(void 0,g)});function ss(A,L){if(!(!Dr(A)||!Dr(L)))return[[Number(A.r),Number(A.g),Number(A.b),Number(A.alpha)],[Number(L.r),Number(L.g),Number(L.b),Number(L.alpha)],function(_){var g=_.slice();if(g[3])for(var R=0;R<3;R++)g[R]=Math.round((0,n.Z)(g[R],0,255));return g[3]=(0,n.Z)(g[3],0,1),"rgba(".concat(g.join(","),")")}]}function Un(A,L){if((0,e.Z)(L))return Ke(0,"px");if(L="".concat(L).trim().toLowerCase(),isFinite(Number(L))){if("px".search(A)>=0)return Ke(Number(L),"px");if("deg".search(A)>=0)return Ke(Number(L),"deg")}var _=[];L=L.replace(A,function(R){return _.push(R),"U".concat(R)});var g="U(".concat(A.source,")");return _.map(function(R){return Ke(Number(L.replace(new RegExp("U".concat(R),"g"),"").replace(new RegExp(g,"g"),"*0")),R)})[0]}var Ei=function(L){return Un(new RegExp("px","g"),L)},os=Ve(Ei),ls=function(L){return Un(new RegExp("%","g"),L)};Ve(ls);var mi=function(L){return(0,y.Z)(L)||isFinite(Number(L))?Ke(Number(L)||0,"px"):Un(new RegExp("px|%|em|rem","g"),L)},Tr=Ve(mi),yi=function(L){return Un(new RegExp("deg|rad|grad|turn","g"),L)},us=Ve(yi);function cs(A,L,_,g){var R=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,Z="",k=A.value||0,q=L.value||0,at=Mr(A.unit),ht=A.convertTo(at),Mt=L.convertTo(at);return ht&&Mt?(k=ht.value,q=Mt.value,Z=yr(A.unit)):(We.isLength(A.unit)||We.isLength(L.unit))&&(k=cn(A,R,_),q=cn(L,R,_),Z="px"),[k,q,function(xt){return g&&(xt=Math.max(xt,0)),xt+Z}]}function on(A){var L=0;return A.unit===he.kDegrees?L=A.value:A.unit===he.kRadians?L=Bt(Number(A.value)):A.unit===he.kTurns?L=te(Number(A.value)):A.value&&(L=A.value),L}function Mi(A,L){var _;return Array.isArray(A)?_=A.map(function(g){return Number(g)}):(0,i.Z)(A)?_=A.split(" ").map(function(g){return Number(g)}):(0,y.Z)(A)&&(_=[A]),L===2?_.length===1?[_[0],_[0]]:[_[0],_[1]]:L===4?_.length===1?[_[0],_[0],_[0],_[0]]:_.length===2?[_[0],_[1],_[0],_[1]]:_.length===3?[_[0],_[1],_[2],_[1]]:[_[0],_[1],_[2],_[3]]:L==="even"&&_.length%2===1?[].concat((0,M.Z)(_),(0,M.Z)(_)):_}function cn(A,L,_){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(A.unit===he.kPixels)return Number(A.value);if(A.unit===he.kPercentage&&_){var R=_.nodeName===et.GROUP?_.getLocalBounds():_.getGeometryBounds();return(g?R.min[L]:0)+A.value/100*R.halfExtents[L]*2}return 0}var ds=function(L){return Un(/deg|rad|grad|turn|px|%/g,L)},fs=["blur","brightness","drop-shadow","contrast","grayscale","sepia","saturate","hue-rotate","invert"];function hs(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(A=A.toLowerCase().trim(),A==="none")return[];for(var L=/\s*([\w-]+)\(([^)]*)\)/g,_=[],g,R=0;g=L.exec(A);){if(g.index!==R)return[];if(R=g.index+g[0].length,fs.indexOf(g[1])>-1&&_.push({name:g[1],params:g[2].split(" ").map(function(Z){return ds(Z)||Wn(Z)})}),L.lastIndex===A.length)return _}return[]}function Oi(A){return A.toString()}var Pi=function(L){return typeof L=="number"?Ke(L):/^\s*[-+]?(\d*\.)?\d+\s*$/.test(L)?Ke(Number(L)):Ke(0)},Cr=Ve(Pi);Ve(function(A){return(0,i.Z)(A)?A.split(" ").map(Cr):A.map(Cr)});function br(A,L){return[A,L,Oi]}function xr(A,L){return function(_,g){return[_,g,function(R){return Oi((0,n.Z)(R,A,L))}]}}function Di(A,L){if(A.length===L.length)return[A,L,function(_){return _}]}function Ar(A){return A.parsedStyle.d.totalLength===0&&(A.parsedStyle.d.totalLength=(0,l.D)(A.parsedStyle.d.absolutePath)),A.parsedStyle.d.totalLength}function vs(A){return A.parsedStyle.points.totalLength===0&&(A.parsedStyle.points.totalLength=(0,$.hE)(A.parsedStyle.points.points)),A.parsedStyle.points.totalLength}function _s(A){for(var L=0;L<A.length;L++){var _=A[L-1],g=A[L],R=g[0];if(R==="M"&&_){var Z=_[0],k=[g[1],g[2]],q=void 0;Z==="L"||Z==="M"?q=[_[1],_[2]]:(Z==="C"||Z==="A"||Z==="Q")&&(q=[_[_.length-2],_[_.length-1]]),q&&rr(k,q)&&(A.splice(L,1),L--)}}}function gs(A){for(var L=!1,_=A.length,g=0;g<_;g++){var R=A[g],Z=R[0];if(Z==="C"||Z==="A"||Z==="Q"){L=!0;break}}return L}function ps(A){for(var L=[],_=[],g=[],R=0;R<A.length;R++){var Z=A[R],k=Z[0];k==="M"?(g.length&&(_.push(g),g=[]),g.push([Z[1],Z[2]])):k==="Z"?g.length&&(L.push(g),g=[]):g.push([Z[1],Z[2]])}return g.length>0&&_.push(g),{polygons:L,polylines:_}}function rr(A,L){return A[0]===L[0]&&A[1]===L[1]}function Es(A,L){for(var _=[],g=[],R=[],Z=0;Z<A.length;Z++){var k=A[Z],q=k.currentPoint,at=k.params,ht=k.prePoint,Mt=void 0;switch(k.command){case"Q":Mt=(0,$.x4)(ht[0],ht[1],at[1],at[2],at[3],at[4]);break;case"C":Mt=(0,$.l5)(ht[0],ht[1],at[1],at[2],at[3],at[4],at[5],at[6]);break;case"A":var xt=k.arcParams;Mt=(0,$.vp)(xt.cx,xt.cy,xt.rx,xt.ry,xt.xRotation,xt.startAngle,xt.endAngle);break;default:_.push(q[0]),g.push(q[1]);break}Mt&&(k.box=Mt,_.push(Mt.x,Mt.x+Mt.width),g.push(Mt.y,Mt.y+Mt.height)),L&&(k.command==="L"||k.command==="M")&&k.prePoint&&k.nextPoint&&R.push(k)}_=_.filter(function(ge){return!Number.isNaN(ge)&&ge!==1/0&&ge!==-1/0}),g=g.filter(function(ge){return!Number.isNaN(ge)&&ge!==1/0&&ge!==-1/0});var wt=(0,O.Z)(_),Kt=(0,O.Z)(g),Nt=(0,C.Z)(_),Vt=(0,C.Z)(g);if(R.length===0)return{x:wt,y:Kt,width:Nt-wt,height:Vt-Kt};for(var Jt=0;Jt<R.length;Jt++){var qt=R[Jt],Xt=qt.currentPoint,ne=void 0;Xt[0]===wt?(ne=ir(qt,L),wt-=ne.xExtra):Xt[0]===Nt&&(ne=ir(qt,L),Nt+=ne.xExtra),Xt[1]===Kt?(ne=ir(qt,L),Kt-=ne.yExtra):Xt[1]===Vt&&(ne=ir(qt,L),Vt+=ne.yExtra)}return{x:wt,y:Kt,width:Nt-wt,height:Vt-Kt}}function ir(A,L){var _=A.prePoint,g=A.currentPoint,R=A.nextPoint,Z=Math.pow(g[0]-_[0],2)+Math.pow(g[1]-_[1],2),k=Math.pow(g[0]-R[0],2)+Math.pow(g[1]-R[1],2),q=Math.pow(_[0]-R[0],2)+Math.pow(_[1]-R[1],2),at=Math.acos((Z+k-q)/(2*Math.sqrt(Z)*Math.sqrt(k)));if(!at||Math.sin(at)===0||(0,T.Z)(at,0))return{xExtra:0,yExtra:0};var ht=Math.abs(Math.atan2(R[1]-g[1],R[0]-g[0])),Mt=Math.abs(Math.atan2(R[0]-g[0],R[1]-g[1]));ht=ht>Math.PI/2?Math.PI-ht:ht,Mt=Mt>Math.PI/2?Math.PI-Mt:Mt;var xt={xExtra:Math.cos(at/2-ht)*(L/2*(1/Math.sin(at/2)))-L/2||0,yExtra:Math.cos(Mt-at/2)*(L/2*(1/Math.sin(at/2)))-L/2||0};return xt}function Ti(A,L){return[L[0]+(L[0]-A[0]),L[1]+(L[1]-A[1])]}var Ci=function(L,_){var g=L.x*_.x+L.y*_.y,R=Math.sqrt((Math.pow(L.x,2)+Math.pow(L.y,2))*(Math.pow(_.x,2)+Math.pow(_.y,2))),Z=L.x*_.y-L.y*_.x<0?-1:1,k=Z*Math.acos(g/R);return k},bi=function(L,_,g,R,Z,k,q,at){_=Math.abs(_),g=Math.abs(g),R=(0,P.Z)(R,360);var ht=At(R);if(L.x===q.x&&L.y===q.y)return{x:L.x,y:L.y,ellipticalArcAngle:0};if(_===0||g===0)return{x:0,y:0,ellipticalArcAngle:0};var Mt=(L.x-q.x)/2,xt=(L.y-q.y)/2,wt={x:Math.cos(ht)*Mt+Math.sin(ht)*xt,y:-Math.sin(ht)*Mt+Math.cos(ht)*xt},Kt=Math.pow(wt.x,2)/Math.pow(_,2)+Math.pow(wt.y,2)/Math.pow(g,2);Kt>1&&(_*=Math.sqrt(Kt),g*=Math.sqrt(Kt));var Nt=Math.pow(_,2)*Math.pow(g,2)-Math.pow(_,2)*Math.pow(wt.y,2)-Math.pow(g,2)*Math.pow(wt.x,2),Vt=Math.pow(_,2)*Math.pow(wt.y,2)+Math.pow(g,2)*Math.pow(wt.x,2),Jt=Nt/Vt;Jt=Jt<0?0:Jt;var qt=(Z!==k?1:-1)*Math.sqrt(Jt),Xt={x:qt*(_*wt.y/g),y:qt*(-(g*wt.x)/_)},ne={x:Math.cos(ht)*Xt.x-Math.sin(ht)*Xt.y+(L.x+q.x)/2,y:Math.sin(ht)*Xt.x+Math.cos(ht)*Xt.y+(L.y+q.y)/2},ge={x:(wt.x-Xt.x)/_,y:(wt.y-Xt.y)/g},Ht=Ci({x:1,y:0},ge),kt={x:(-wt.x-Xt.x)/_,y:(-wt.y-Xt.y)/g},Ft=Ci(ge,kt);!k&&Ft>0?Ft-=2*Math.PI:k&&Ft<0&&(Ft+=2*Math.PI),Ft%=2*Math.PI;var $t=Ht+Ft*at,ue=_*Math.cos($t),se=g*Math.sin($t),fe={x:Math.cos(ht)*ue-Math.sin(ht)*se+ne.x,y:Math.sin(ht)*ue+Math.cos(ht)*se+ne.y,ellipticalArcStartAngle:Ht,ellipticalArcEndAngle:Ht+Ft,ellipticalArcAngle:$t,ellipticalArcCenter:ne,resultantRx:_,resultantRy:g};return fe};function ms(A){for(var L=[],_=null,g=null,R=null,Z=0,k=A.length,q=0;q<k;q++){var at=A[q];g=A[q+1];var ht=at[0],Mt={command:ht,prePoint:_,params:at,startTangent:null,endTangent:null,currentPoint:null,nextPoint:null,arcParams:null,box:null,cubicParams:null};switch(ht){case"M":R=[at[1],at[2]],Z=q;break;case"A":var xt=ys(_,at);Mt.arcParams=xt;break}if(ht==="Z")_=R,g=A[Z+1];else{var wt=at.length;_=[at[wt-2],at[wt-1]]}g&&g[0]==="Z"&&(g=A[Z],L[Z]&&(L[Z].prePoint=_)),Mt.currentPoint=_,L[Z]&&rr(_,L[Z].currentPoint)&&(L[Z].prePoint=Mt.prePoint);var Kt=g?[g[g.length-2],g[g.length-1]]:null;Mt.nextPoint=Kt;var Nt=Mt.prePoint;if(["L","H","V"].includes(ht))Mt.startTangent=[Nt[0]-_[0],Nt[1]-_[1]],Mt.endTangent=[_[0]-Nt[0],_[1]-Nt[1]];else if(ht==="Q"){var Vt=[at[1],at[2]];Mt.startTangent=[Nt[0]-Vt[0],Nt[1]-Vt[1]],Mt.endTangent=[_[0]-Vt[0],_[1]-Vt[1]]}else if(ht==="T"){var Jt=L[q-1],qt=Ti(Jt.currentPoint,Nt);Jt.command==="Q"?(Mt.command="Q",Mt.startTangent=[Nt[0]-qt[0],Nt[1]-qt[1]],Mt.endTangent=[_[0]-qt[0],_[1]-qt[1]]):(Mt.command="TL",Mt.startTangent=[Nt[0]-_[0],Nt[1]-_[1]],Mt.endTangent=[_[0]-Nt[0],_[1]-Nt[1]])}else if(ht==="C"){var Xt=[at[1],at[2]],ne=[at[3],at[4]];Mt.startTangent=[Nt[0]-Xt[0],Nt[1]-Xt[1]],Mt.endTangent=[_[0]-ne[0],_[1]-ne[1]],Mt.startTangent[0]===0&&Mt.startTangent[1]===0&&(Mt.startTangent=[Xt[0]-ne[0],Xt[1]-ne[1]]),Mt.endTangent[0]===0&&Mt.endTangent[1]===0&&(Mt.endTangent=[ne[0]-Xt[0],ne[1]-Xt[1]])}else if(ht==="S"){var ge=L[q-1],Ht=Ti(ge.currentPoint,Nt),kt=[at[1],at[2]];ge.command==="C"?(Mt.command="C",Mt.startTangent=[Nt[0]-Ht[0],Nt[1]-Ht[1]],Mt.endTangent=[_[0]-kt[0],_[1]-kt[1]]):(Mt.command="SQ",Mt.startTangent=[Nt[0]-kt[0],Nt[1]-kt[1]],Mt.endTangent=[_[0]-kt[0],_[1]-kt[1]])}else if(ht==="A"){var Ft=xi(Mt,0),$t=Ft.x,ue=Ft.y,se=xi(Mt,1,!1),fe=se.x,ce=se.y;Mt.startTangent=[$t,ue],Mt.endTangent=[fe,ce]}L.push(Mt)}return L}function xi(A,L){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,g=A.arcParams,R=g.rx,Z=R===void 0?0:R,k=g.ry,q=k===void 0?0:k,at=g.xRotation,ht=g.arcFlag,Mt=g.sweepFlag,xt=bi({x:A.prePoint[0],y:A.prePoint[1]},Z,q,at,!!ht,!!Mt,{x:A.currentPoint[0],y:A.currentPoint[1]},L),wt=bi({x:A.prePoint[0],y:A.prePoint[1]},Z,q,at,!!ht,!!Mt,{x:A.currentPoint[0],y:A.currentPoint[1]},_?L+.005:L-.005),Kt=wt.x-xt.x,Nt=wt.y-xt.y,Vt=Math.sqrt(Kt*Kt+Nt*Nt);return{x:-Kt/Vt,y:-Nt/Vt}}function ar(A){return Math.sqrt(A[0]*A[0]+A[1]*A[1])}function Rr(A,L){return ar(A)*ar(L)?(A[0]*L[0]+A[1]*L[1])/(ar(A)*ar(L)):1}function Ai(A,L){return(A[0]*L[1]<A[1]*L[0]?-1:1)*Math.acos(Rr(A,L))}function ys(A,L){var _=L[1],g=L[2],R=(0,P.Z)(At(L[3]),Math.PI*2),Z=L[4],k=L[5],q=A[0],at=A[1],ht=L[6],Mt=L[7],xt=Math.cos(R)*(q-ht)/2+Math.sin(R)*(at-Mt)/2,wt=-1*Math.sin(R)*(q-ht)/2+Math.cos(R)*(at-Mt)/2,Kt=xt*xt/(_*_)+wt*wt/(g*g);Kt>1&&(_*=Math.sqrt(Kt),g*=Math.sqrt(Kt));var Nt=_*_*(wt*wt)+g*g*(xt*xt),Vt=Nt?Math.sqrt((_*_*(g*g)-Nt)/Nt):1;Z===k&&(Vt*=-1),isNaN(Vt)&&(Vt=0);var Jt=g?Vt*_*wt/g:0,qt=_?Vt*-g*xt/_:0,Xt=(q+ht)/2+Math.cos(R)*Jt-Math.sin(R)*qt,ne=(at+Mt)/2+Math.sin(R)*Jt+Math.cos(R)*qt,ge=[(xt-Jt)/_,(wt-qt)/g],Ht=[(-1*xt-Jt)/_,(-1*wt-qt)/g],kt=Ai([1,0],ge),Ft=Ai(ge,Ht);return Rr(ge,Ht)<=-1&&(Ft=Math.PI),Rr(ge,Ht)>=1&&(Ft=0),k===0&&Ft>0&&(Ft-=2*Math.PI),k===1&&Ft<0&&(Ft+=2*Math.PI),{cx:Xt,cy:ne,rx:rr(A,[ht,Mt])?0:_,ry:rr(A,[ht,Mt])?0:g,startAngle:kt,endAngle:kt+Ft,xRotation:R,arcFlag:Z,sweepFlag:k}}function Ms(A,L,_){return A.reduce(function(g,R){var Z="";if(R[0]==="M"||R[0]==="L"){var k=vec3.fromValues(R[1],R[2],0);_&&vec3.transformMat4(k,k,_),Z="".concat(R[0]).concat(k[0],",").concat(k[1])}else if(R[0]==="Z")Z=R[0];else if(R[0]==="C"){var q=vec3.fromValues(R[1],R[2],0),at=vec3.fromValues(R[3],R[4],0),ht=vec3.fromValues(R[5],R[6],0);_&&(vec3.transformMat4(q,q,_),vec3.transformMat4(at,at,_),vec3.transformMat4(ht,ht,_)),Z="".concat(R[0]).concat(q[0],",").concat(q[1],",").concat(at[0],",").concat(at[1],",").concat(ht[0],",").concat(ht[1])}else if(R[0]==="A"){var Mt=vec3.fromValues(R[6],R[7],0);_&&vec3.transformMat4(Mt,Mt,_),Z="".concat(R[0]).concat(R[1],",").concat(R[2],",").concat(R[3],",").concat(R[4],",").concat(R[5],",").concat(Mt[0],",").concat(Mt[1])}else if(R[0]==="Q"){var xt=vec3.fromValues(R[1],R[2],0),wt=vec3.fromValues(R[3],R[4],0);_&&(vec3.transformMat4(xt,xt,_),vec3.transformMat4(wt,wt,_)),Z="".concat(R[0]).concat(R[1],",").concat(R[2],",").concat(R[3],",").concat(R[4],"}")}return g+=Z},"")}function Os(A,L,_,g){return[["M",A,L],["L",_,g]]}function Ri(A,L,_,g){var R=(-1+Math.sqrt(2))/3*4,Z=A*R,k=L*R,q=_-A,at=_+A,ht=g-L,Mt=g+L;return[["M",q,g],["C",q,g-k,_-Z,ht,_,ht],["C",_+Z,ht,at,g-k,at,g],["C",at,g+k,_+Z,Mt,_,Mt],["C",_-Z,Mt,q,g+k,q,g],["Z"]]}function Ps(A,L){var _=A.map(function(g,R){return[R===0?"M":"L",g[0],g[1]]});return L&&_.push(["Z"]),_}function Ds(A,L,_,g,R){if(R){var Z=_slicedToArray(R,4),k=Z[0],q=Z[1],at=Z[2],ht=Z[3],Mt=A>0?1:-1,xt=L>0?1:-1,wt=Mt+xt!==0?1:0;return[["M",Mt*k+_,g],["L",A-Mt*q+_,g],q?["A",q,q,0,0,wt,A+_,xt*q+g]:null,["L",A+_,L-xt*at+g],at?["A",at,at,0,0,wt,A+_-Mt*at,L+g]:null,["L",_+Mt*ht,L+g],ht?["A",ht,ht,0,0,wt,_,L+g-xt*ht]:null,["L",_,xt*k+g],k?["A",k,k,0,0,wt,Mt*k+_,g]:null,["Z"]].filter(function(Kt){return Kt})}return[["M",_,g],["L",_+A,g],["L",_+A,g+L],["L",_,g+L],["Z"]]}function Hl(A){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:A.getLocalTransform(),_=[];switch(A.nodeName){case et.LINE:var g=A.parsedStyle,R=g.x1,Z=R===void 0?0:R,k=g.y1,q=k===void 0?0:k,at=g.x2,ht=at===void 0?0:at,Mt=g.y2,xt=Mt===void 0?0:Mt;_=Os(Z,q,ht,xt);break;case et.CIRCLE:{var wt=A.parsedStyle,Kt=wt.r,Nt=Kt===void 0?0:Kt,Vt=wt.cx,Jt=Vt===void 0?0:Vt,qt=wt.cy,Xt=qt===void 0?0:qt;_=Ri(Nt,Nt,Jt,Xt);break}case et.ELLIPSE:{var ne=A.parsedStyle,ge=ne.rx,Ht=ge===void 0?0:ge,kt=ne.ry,Ft=kt===void 0?0:kt,$t=ne.cx,ue=$t===void 0?0:$t,se=ne.cy,fe=se===void 0?0:se;_=Ri(Ht,Ft,ue,fe);break}case et.POLYLINE:case et.POLYGON:var ce=A.parsedStyle.points;_=Ps(ce.points,A.nodeName===et.POLYGON);break;case et.RECT:var Me=A.parsedStyle,De=Me.width,xe=De===void 0?0:De,Le=Me.height,Ee=Le===void 0?0:Le,Te=Me.x,Ce=Te===void 0?0:Te,He=Me.y,Je=He===void 0?0:He,gn=Me.radius,ei=gn&&gn.some(function(Gn){return Gn!==0});_=Ds(xe,Ee,Ce,Je,ei&&gn.map(function(Gn){return clamp(Gn,0,Math.min(Math.abs(xe)/2,Math.abs(Ee)/2))}));break;case et.PATH:var ni=A.parsedStyle.d.absolutePath;_=_toConsumableArray(ni);break}if(_.length)return Ms(_,A,L)}function Yl(A){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,R=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,Z=A.map(function(k,q){var at=k[0],ht=A[q+1],Mt=q===0&&(L!==0||_!==0),xt=(q===A.length-1||ht&&(ht[0]==="M"||ht[0]==="Z"))&&g!==0&&R!==0,wt=Mt?[L,_]:[0,0],Kt=_slicedToArray(wt,2),Nt=Kt[0],Vt=Kt[1],Jt=xt?[g,R]:[0,0],qt=_slicedToArray(Jt,2),Xt=qt[0],ne=qt[1];switch(at){case"M":return"M ".concat(k[1]+Nt,",").concat(k[2]+Vt);case"L":return"L ".concat(k[1]+Xt,",").concat(k[2]+ne);case"Q":return"Q ".concat(k[1]," ").concat(k[2],",").concat(k[3]+Xt," ").concat(k[4]+ne);case"C":return"C ".concat(k[1]," ").concat(k[2],",").concat(k[3]," ").concat(k[4],",").concat(k[5]+Xt," ").concat(k[6]+ne);case"A":return"A ".concat(k[1]," ").concat(k[2]," ").concat(k[3]," ").concat(k[4]," ").concat(k[5]," ").concat(k[6]," ").concat(k[7]).concat(xt?" L ".concat(k[6]+g,",").concat(k[7]+R):"");case"Z":return"Z";default:return null}}).filter(function(k){return k!==null}).join(" ");return~Z.indexOf("NaN")?"":Z}var Li=function(L){if(L===""||Array.isArray(L)&&L.length===0)return{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:{x:0,y:0,width:0,height:0}};var _;try{_=(0,b.A)(L)}catch(Kt){_=(0,b.A)(""),console.error("[g]: Invalid SVG Path definition: ".concat(L))}_s(_);var g=gs(_),R=ps(_),Z=R.polygons,k=R.polylines,q=ms(_),at=Es(q,0),ht=at.x,Mt=at.y,xt=at.width,wt=at.height;return{absolutePath:_,hasArc:g,segments:q,polygons:Z,polylines:k,totalLength:0,rect:{x:Number.isFinite(ht)?ht:0,y:Number.isFinite(Mt)?Mt:0,width:Number.isFinite(xt)?xt:0,height:Number.isFinite(wt)?wt:0}}},Ts=Ve(Li);function Ii(A){return(0,i.Z)(A)?Ts(A):Li(A)}function Cs(A,L,_){var g=A.curve,R=L.curve;(!g||g.length===0)&&(g=(0,x.Y)(A.absolutePath,!1),A.curve=g),(!R||R.length===0)&&(R=(0,x.Y)(L.absolutePath,!1),L.curve=R);var Z=[g,R];g.length!==R.length&&(Z=(0,I.x)(g,R));var k=(0,S.b)(Z[0])!==(0,S.b)(Z[1])?(0,K.G)(Z[0]):(0,N.U)(Z[0]);return[k,(0,z.g)(Z[1],k),function(q){return q}]}function bs(A,L){var _;return(0,i.Z)(A)?_=A.split(" ").map(function(g){var R=g.split(","),Z=(0,h.Z)(R,2),k=Z[0],q=Z[1];return[Number(k),Number(q)]}):_=A,{points:_,totalLength:0,segments:[]}}function xs(A,L){return[A.points,L.points,function(_){return _}]}var ze=null,Sn=/\s*(\w+)\(([^)]*)\)/g;function ln(A){return function(L){var _=0;return A.map(function(g){return g===ze?L[_++]:g})}}function Tn(A){return A}var Nn={matrix:["NNNNNN",[ze,ze,0,0,ze,ze,0,0,0,0,1,0,ze,ze,0,1],Tn],matrix3d:["NNNNNNNNNNNNNNNN",Tn],rotate:["A"],rotateX:["A"],rotateY:["A"],rotateZ:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",ln([ze,ze,new We(1)]),Tn],scaleX:["N",ln([ze,new We(1),new We(1)]),ln([ze,new We(1)])],scaleY:["N",ln([new We(1),ze,new We(1)]),ln([new We(1),ze])],scaleZ:["N",ln([new We(1),new We(1),ze])],scale3d:["NNN",Tn],skew:["Aa",null,Tn],skewX:["A",null,ln([ze,Dn])],skewY:["A",null,ln([Dn,ze])],translate:["Tt",ln([ze,ze,_n]),Tn],translateX:["T",ln([ze,_n,_n]),ln([ze,_n])],translateY:["T",ln([_n,ze,_n]),ln([_n,ze])],translateZ:["L",ln([_n,_n,ze])],translate3d:["TTL",Tn]};function Si(A){for(var L=[],_=A.length,g=0;g<_;g++){var R=A[g],Z=R[0],k=R.slice(1);Z==="translate"||Z==="skew"?k.length===1&&k.push(0):Z==="scale"&&k.length===1&&k.push(k[0]);var q=Nn[Z];if(!q)return[];var at=k.map(function(ht){return Ke(ht)});L.push({t:Z,d:at})}return L}function Bi(A){if(Array.isArray(A))return Si(A);if(A=(A||"none").trim(),A==="none")return[];var L=[],_,g=0;for(Sn.lastIndex=0;_=Sn.exec(A);){if(_.index!==g)return[];g=_.index+_[0].length;var R=_[1],Z=Nn[R];if(!Z)return[];var k=_[2].split(","),q=Z[0];if(q.length<k.length)return[];for(var at=[],ht=0;ht<q.length;ht++){var Mt=k[ht],xt=q[ht],wt=void 0;if(Mt?wt={A:function(Nt){return Nt.trim()==="0"?Dn:us(Nt)},N:Cr,T:Tr,L:os}[xt.toUpperCase()](Mt):wt={a:Dn,n:at[0],t:_n}[xt],wt===void 0)return[];at.push(wt)}if(L.push({t:R,d:at}),Sn.lastIndex===A.length)return L}return[]}function As(A){if(Array.isArray(A))return Si(A);if(A=(A||"none").trim(),A==="none")return[];var L=[],_,g=0;for(Sn.lastIndex=0;_=Sn.exec(A);){if(_.index!==g)return[];g=_.index+_[0].length;var R=_[1],Z=Nn[R];if(!Z)return[];var k=_[2].split(","),q=Z[0];if(q.length<k.length)return[];for(var at=[],ht=0;ht<q.length;ht++){var Mt=k[ht],xt=q[ht],wt=void 0;if(Mt?wt={A:function(Nt){return Nt.trim()==="0"?Dn:yi(Nt)},N:Pi,T:mi,L:Ei}[xt.toUpperCase()](Mt):wt={a:Dn,n:at[0],t:_n}[xt],wt===void 0)return[];at.push(wt)}if(L.push({t:R,d:at}),Sn.lastIndex===A.length)return L}return[]}function Rs(A){var L,_,g,R;switch(A.t){case"rotateX":return R=At(on(A.d[0])),[1,0,0,0,0,Math.cos(R),Math.sin(R),0,0,-Math.sin(R),Math.cos(R),0,0,0,0,1];case"rotateY":return R=At(on(A.d[0])),[Math.cos(R),0,-Math.sin(R),0,0,1,0,0,Math.sin(R),0,Math.cos(R),0,0,0,0,1];case"rotate":case"rotateZ":return R=At(on(A.d[0])),[Math.cos(R),Math.sin(R),0,0,-Math.sin(R),Math.cos(R),0,0,0,0,1,0,0,0,0,1];case"rotate3d":L=A.d[0].value,_=A.d[1].value,g=A.d[2].value,R=At(on(A.d[3]));var Z=L*L+_*_+g*g;if(Z===0)L=1,_=0,g=0;else if(Z!==1){var k=Math.sqrt(Z);L/=k,_/=k,g/=k}var q=Math.sin(R/2),at=q*Math.cos(R/2),ht=q*q;return[1-2*(_*_+g*g)*ht,2*(L*_*ht+g*at),2*(L*g*ht-_*at),0,2*(L*_*ht-g*at),1-2*(L*L+g*g)*ht,2*(_*g*ht+L*at),0,2*(L*g*ht+_*at),2*(_*g*ht-L*at),1-2*(L*L+_*_)*ht,0,0,0,0,1];case"scale":return[A.d[0].value,0,0,0,0,A.d[1].value,0,0,0,0,1,0,0,0,0,1];case"scaleX":return[A.d[0].value,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaleY":return[1,0,0,0,0,A.d[0].value,0,0,0,0,1,0,0,0,0,1];case"scaleZ":return[1,0,0,0,0,1,0,0,0,0,A.d[0].value,0,0,0,0,1];case"scale3d":return[A.d[0].value,0,0,0,0,A.d[1].value,0,0,0,0,A.d[2].value,0,0,0,0,1];case"skew":var Mt=At(on(A.d[0])),xt=At(on(A.d[1]));return[1,Math.tan(xt),0,0,Math.tan(Mt),1,0,0,0,0,1,0,0,0,0,1];case"skewX":return R=At(on(A.d[0])),[1,0,0,0,Math.tan(R),1,0,0,0,0,1,0,0,0,0,1];case"skewY":return R=At(on(A.d[0])),[1,Math.tan(R),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return L=cn(A.d[0],0,null)||0,_=cn(A.d[1],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,L,_,0,1];case"translateX":return L=cn(A.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,L,0,0,1];case"translateY":return _=cn(A.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,_,0,1];case"translateZ":return g=cn(A.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,g,1];case"translate3d":return L=cn(A.d[0],0,null)||0,_=cn(A.d[1],0,null)||0,g=cn(A.d[2],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,L,_,g,1];case"perspective":var wt=cn(A.d[0],0,null)||0,Kt=wt?-1/wt:0;return[1,0,0,0,0,1,0,0,0,0,1,Kt,0,0,0,1];case"matrix":return[A.d[0].value,A.d[1].value,0,0,A.d[2].value,A.d[3].value,0,0,0,0,1,0,A.d[4].value,A.d[5].value,0,1];case"matrix3d":return A.d.map(function(Nt){return Nt.value})}}function Ls(A,L){return[A[0]*L[0]+A[4]*L[1]+A[8]*L[2]+A[12]*L[3],A[1]*L[0]+A[5]*L[1]+A[9]*L[2]+A[13]*L[3],A[2]*L[0]+A[6]*L[1]+A[10]*L[2]+A[14]*L[3],A[3]*L[0]+A[7]*L[1]+A[11]*L[2]+A[15]*L[3],A[0]*L[4]+A[4]*L[5]+A[8]*L[6]+A[12]*L[7],A[1]*L[4]+A[5]*L[5]+A[9]*L[6]+A[13]*L[7],A[2]*L[4]+A[6]*L[5]+A[10]*L[6]+A[14]*L[7],A[3]*L[4]+A[7]*L[5]+A[11]*L[6]+A[15]*L[7],A[0]*L[8]+A[4]*L[9]+A[8]*L[10]+A[12]*L[11],A[1]*L[8]+A[5]*L[9]+A[9]*L[10]+A[13]*L[11],A[2]*L[8]+A[6]*L[9]+A[10]*L[10]+A[14]*L[11],A[3]*L[8]+A[7]*L[9]+A[11]*L[10]+A[15]*L[11],A[0]*L[12]+A[4]*L[13]+A[8]*L[14]+A[12]*L[15],A[1]*L[12]+A[5]*L[13]+A[9]*L[14]+A[13]*L[15],A[2]*L[12]+A[6]*L[13]+A[10]*L[14]+A[14]*L[15],A[3]*L[12]+A[7]*L[13]+A[11]*L[14]+A[15]*L[15]]}function Is(A){return A.length===0?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:A.map(Rs).reduce(Ls)}function wi(A){var L=[0,0,0],_=[1,1,1],g=[0,0,0],R=[0,0,0,1],Z=[0,0,0,1];return dn(Is(A),L,_,g,R,Z),[[L,_,g,Z,R]]}var Ss=function(){function A(g,R){for(var Z=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],k=0;k<4;k++)for(var q=0;q<4;q++)for(var at=0;at<4;at++)Z[k][q]+=R[k][at]*g[at][q];return Z}function L(g){return g[0][2]===0&&g[0][3]===0&&g[1][2]===0&&g[1][3]===0&&g[2][0]===0&&g[2][1]===0&&g[2][2]===1&&g[2][3]===0&&g[3][2]===0&&g[3][3]===1}function _(g,R,Z,k,q){for(var at=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],ht=0;ht<4;ht++)at[ht][3]=q[ht];for(var Mt=0;Mt<3;Mt++)for(var xt=0;xt<3;xt++)at[3][Mt]+=g[xt]*at[xt][Mt];var wt=k[0],Kt=k[1],Nt=k[2],Vt=k[3],Jt=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];Jt[0][0]=1-2*(Kt*Kt+Nt*Nt),Jt[0][1]=2*(wt*Kt-Nt*Vt),Jt[0][2]=2*(wt*Nt+Kt*Vt),Jt[1][0]=2*(wt*Kt+Nt*Vt),Jt[1][1]=1-2*(wt*wt+Nt*Nt),Jt[1][2]=2*(Kt*Nt-wt*Vt),Jt[2][0]=2*(wt*Nt-Kt*Vt),Jt[2][1]=2*(Kt*Nt+wt*Vt),Jt[2][2]=1-2*(wt*wt+Kt*Kt),at=A(at,Jt);var qt=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];Z[2]&&(qt[2][1]=Z[2],at=A(at,qt)),Z[1]&&(qt[2][1]=0,qt[2][0]=Z[0],at=A(at,qt)),Z[0]&&(qt[2][0]=0,qt[1][0]=Z[0],at=A(at,qt));for(var Xt=0;Xt<3;Xt++)for(var ne=0;ne<3;ne++)at[Xt][ne]*=R[Xt];return L(at)?[at[0][0],at[0][1],at[1][0],at[1][1],at[3][0],at[3][1]]:at[0].concat(at[1],at[2],at[3])}return _}();function Bs(A){return A.toFixed(6).replace(".000000","")}function Lr(A,L){var _,g;return A.decompositionPair!==L&&(A.decompositionPair=L,_=wi(A)),L.decompositionPair!==A&&(L.decompositionPair=A,g=wi(L)),_[0]===null||g[0]===null?[[!1],[!0],function(R){return R?L[0].d:A[0].d}]:(_[0].push(0),g[0].push(1),[_,g,function(R){var Z=Ws(_[0][3],g[0][3],R[5]),k=Ss(R[0],R[1],R[2],Z,R[4]),q=k.map(Bs).join(",");return q}])}function ws(A,L){for(var _=0,g=0;g<A.length;g++)_+=A[g]*L[g];return _}function Ws(A,L,_){var g=ws(A,L);g=(0,n.Z)(g,-1,1);var R=[];if(g===1)R=A;else for(var Z=Math.acos(g),k=Math.sin(_*Z)*1/Math.sqrt(1-g*g),q=0;q<4;q++)R.push(A[q]*(Math.cos(_*Z)-g*k)+L[q]*k);return R}function Ir(A){return A.replace(/[XY]/,"")}function Sr(A){return A.replace(/(X|Y|Z|3d)?$/,"3d")}var Us=function(L,_){return L==="perspective"&&_==="perspective"||(L==="matrix"||L==="matrix3d")&&(_==="matrix"||_==="matrix3d")};function Ns(A,L,_){var g=!1;if(!A.length||!L.length){A.length||(g=!0,A=L,L=[]);for(var R=function(){var fe=A[Z],ce=fe.t,Me=fe.d,De=ce.substring(0,5)==="scale"?1:0;L.push({t:ce,d:Me.map(function(xe){return typeof xe=="number"?Ke(De):Ke(De,xe.unit)})})},Z=0;Z<A.length;Z++)R()}var k=[],q=[],at=[];if(A.length!==L.length){var ht=Lr(A,L);k=[ht[0]],q=[ht[1]],at=[["matrix",[ht[2]]]]}else for(var Mt=0;Mt<A.length;Mt++){var xt=A[Mt].t,wt=L[Mt].t,Kt=A[Mt].d,Nt=L[Mt].d,Vt=Nn[xt],Jt=Nn[wt],qt=void 0;if(Us(xt,wt)){var Xt=Lr([A[Mt]],[L[Mt]]);k.push(Xt[0]),q.push(Xt[1]),at.push(["matrix",[Xt[2]]]);continue}else if(xt===wt)qt=xt;else if(Vt[2]&&Jt[2]&&Ir(xt)===Ir(wt))qt=Ir(xt),Kt=Vt[2](Kt),Nt=Jt[2](Nt);else if(Vt[1]&&Jt[1]&&Sr(xt)===Sr(wt))qt=Sr(xt),Kt=Vt[1](Kt),Nt=Jt[1](Nt);else{var ne=Lr(A,L);k=[ne[0]],q=[ne[1]],at=[["matrix",[ne[2]]]];break}for(var ge=[],Ht=[],kt=[],Ft=0;Ft<Kt.length;Ft++){var $t=cs(Kt[Ft],Nt[Ft],_,!1,Ft);ge[Ft]=$t[0],Ht[Ft]=$t[1],kt.push($t[2])}k.push(ge),q.push(Ht),at.push([qt,kt])}if(g){var ue=k;k=q,q=ue}return[k,q,function(se){return se.map(function(fe,ce){var Me=fe.map(function(De,xe){return at[ce][1][xe](De)}).join(",");return at[ce][0]==="matrix"&&Me.split(",").length===16&&(at[ce][0]="matrix3d"),at[ce][0]==="matrix3d"&&Me.split(",").length===6&&(at[ce][0]="matrix"),"".concat(at[ce][0],"(").concat(Me,")")}).join(" ")}]}var Ks=Ve(function(A){if((0,i.Z)(A)){if(A==="text-anchor")return[Ke(0,"px"),Ke(0,"px")];var L=A.split(" ");return L.length===1&&(L[0]==="top"||L[0]==="bottom"?(L[1]=L[0],L[0]="center"):L[1]="center"),L.length!==2?null:[Tr(Wi(L[0])),Tr(Wi(L[1]))]}return[Ke(A[0]||0,"px"),Ke(A[1]||0,"px")]});function Wi(A){return A==="center"?"50%":A==="left"||A==="top"?"0%":A==="right"||A==="bottom"?"100%":A}var Br=[{n:"display",k:["none"]},{n:"opacity",int:!0,inh:!0,d:"1",syntax:le.OPACITY_VALUE},{n:"fillOpacity",int:!0,inh:!0,d:"1",syntax:le.OPACITY_VALUE},{n:"strokeOpacity",int:!0,inh:!0,d:"1",syntax:le.OPACITY_VALUE},{n:"fill",int:!0,k:["none"],d:"none",syntax:le.PAINT},{n:"fillRule",k:["nonzero","evenodd"],d:"nonzero"},{n:"stroke",int:!0,k:["none"],d:"none",syntax:le.PAINT,l:!0},{n:"shadowType",k:["inner","outer","both"],d:"outer",l:!0},{n:"shadowColor",int:!0,syntax:le.COLOR},{n:"shadowOffsetX",int:!0,l:!0,d:"0",syntax:le.LENGTH_PERCENTAGE},{n:"shadowOffsetY",int:!0,l:!0,d:"0",syntax:le.LENGTH_PERCENTAGE},{n:"shadowBlur",int:!0,l:!0,d:"0",syntax:le.SHADOW_BLUR},{n:"lineWidth",int:!0,inh:!0,d:"1",l:!0,a:["strokeWidth"],syntax:le.LENGTH_PERCENTAGE},{n:"increasedLineWidthForHitTesting",inh:!0,d:"0",l:!0,syntax:le.LENGTH_PERCENTAGE},{n:"lineJoin",inh:!0,l:!0,a:["strokeLinejoin"],k:["miter","bevel","round"],d:"miter"},{n:"lineCap",inh:!0,l:!0,a:["strokeLinecap"],k:["butt","round","square"],d:"butt"},{n:"lineDash",int:!0,inh:!0,k:["none"],a:["strokeDasharray"],syntax:le.LENGTH_PERCENTAGE_12},{n:"lineDashOffset",int:!0,inh:!0,d:"0",a:["strokeDashoffset"],syntax:le.LENGTH_PERCENTAGE},{n:"offsetPath",syntax:le.DEFINED_PATH},{n:"offsetDistance",int:!0,syntax:le.OFFSET_DISTANCE},{n:"dx",int:!0,l:!0,d:"0",syntax:le.LENGTH_PERCENTAGE},{n:"dy",int:!0,l:!0,d:"0",syntax:le.LENGTH_PERCENTAGE},{n:"zIndex",ind:!0,int:!0,d:"0",k:["auto"],syntax:le.Z_INDEX},{n:"visibility",k:["visible","hidden"],ind:!0,inh:!0,int:!0,d:"visible"},{n:"pointerEvents",inh:!0,k:["none","auto","stroke","fill","painted","visible","visiblestroke","visiblefill","visiblepainted","all"],d:"auto"},{n:"filter",ind:!0,l:!0,k:["none"],d:"none",syntax:le.FILTER},{n:"clipPath",syntax:le.DEFINED_PATH},{n:"textPath",syntax:le.DEFINED_PATH},{n:"textPathSide",k:["left","right"],d:"left"},{n:"textPathStartOffset",l:!0,d:"0",syntax:le.LENGTH_PERCENTAGE},{n:"transform",p:100,int:!0,k:["none"],d:"none",syntax:le.TRANSFORM},{n:"transformOrigin",p:100,d:"0 0",l:!0,syntax:le.TRANSFORM_ORIGIN},{n:"cx",int:!0,l:!0,d:"0",syntax:le.COORDINATE},{n:"cy",int:!0,l:!0,d:"0",syntax:le.COORDINATE},{n:"cz",int:!0,l:!0,d:"0",syntax:le.COORDINATE},{n:"r",int:!0,l:!0,d:"0",syntax:le.LENGTH_PERCENTAGE},{n:"rx",int:!0,l:!0,d:"0",syntax:le.LENGTH_PERCENTAGE},{n:"ry",int:!0,l:!0,d:"0",syntax:le.LENGTH_PERCENTAGE},{n:"x",int:!0,l:!0,d:"0",syntax:le.COORDINATE},{n:"y",int:!0,l:!0,d:"0",syntax:le.COORDINATE},{n:"z",int:!0,l:!0,d:"0",syntax:le.COORDINATE},{n:"width",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:le.LENGTH_PERCENTAGE},{n:"height",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:le.LENGTH_PERCENTAGE},{n:"radius",int:!0,l:!0,d:"0",syntax:le.LENGTH_PERCENTAGE_14},{n:"x1",int:!0,l:!0,syntax:le.COORDINATE},{n:"y1",int:!0,l:!0,syntax:le.COORDINATE},{n:"z1",int:!0,l:!0,syntax:le.COORDINATE},{n:"x2",int:!0,l:!0,syntax:le.COORDINATE},{n:"y2",int:!0,l:!0,syntax:le.COORDINATE},{n:"z2",int:!0,l:!0,syntax:le.COORDINATE},{n:"d",int:!0,l:!0,d:"",syntax:le.PATH,p:50},{n:"points",int:!0,l:!0,syntax:le.LIST_OF_POINTS,p:50},{n:"text",l:!0,d:"",syntax:le.TEXT,p:50},{n:"textTransform",l:!0,inh:!0,k:["capitalize","uppercase","lowercase","none"],d:"none",syntax:le.TEXT_TRANSFORM,p:51},{n:"font",l:!0},{n:"fontSize",int:!0,inh:!0,d:"16px",l:!0,syntax:le.LENGTH_PERCENTAGE},{n:"fontFamily",l:!0,inh:!0,d:"sans-serif"},{n:"fontStyle",l:!0,inh:!0,k:["normal","italic","oblique"],d:"normal"},{n:"fontWeight",l:!0,inh:!0,k:["normal","bold","bolder","lighter"],d:"normal"},{n:"fontVariant",l:!0,inh:!0,k:["normal","small-caps"],d:"normal"},{n:"lineHeight",l:!0,syntax:le.LENGTH,int:!0,d:"0"},{n:"letterSpacing",l:!0,syntax:le.LENGTH,int:!0,d:"0"},{n:"miterLimit",l:!0,syntax:le.NUMBER,d:function(L){return L===et.PATH||L===et.POLYGON||L===et.POLYLINE?"4":"10"}},{n:"wordWrap",l:!0},{n:"wordWrapWidth",l:!0},{n:"maxLines",l:!0},{n:"textOverflow",l:!0,d:"clip"},{n:"leading",l:!0},{n:"textBaseline",l:!0,inh:!0,k:["top","hanging","middle","alphabetic","ideographic","bottom"],d:"alphabetic"},{n:"textAlign",l:!0,inh:!0,k:["start","center","middle","end","left","right"],d:"start"},{n:"markerStart",syntax:le.MARKER},{n:"markerEnd",syntax:le.MARKER},{n:"markerMid",syntax:le.MARKER},{n:"markerStartOffset",syntax:le.LENGTH,l:!0,int:!0,d:"0"},{n:"markerEndOffset",syntax:le.LENGTH,l:!0,int:!0,d:"0"}],ks=new Set(Br.filter(function(A){return!!A.l}).map(function(A){return A.n})),Ui={},Zs=function(){function A(L){var _=this;(0,D.Z)(this,A),this.runtime=L,Br.forEach(function(g){_.registerMetadata(g)})}return(0,p.Z)(A,[{key:"registerMetadata",value:function(_){[_.n].concat((0,M.Z)(_.a||[])).forEach(function(g){Ui[g]=_})}},{key:"getPropertySyntax",value:function(_){return this.runtime.CSSPropertySyntaxFactory[_]}},{key:"processProperties",value:function(_,g){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{skipUpdateAttribute:!1,skipParse:!1,forceUpdateGeometry:!1,usedAttributes:[],memoize:!0};Object.assign(_.attributes,g);var Z=_.parsedStyle.clipPath,k=_.parsedStyle.offsetPath;Fs(_,g);var q=!!R.forceUpdateGeometry;if(!q){for(var at in g)if(ks.has(at)){q=!0;break}}var ht=Ni(_);ht.has("fill")&&g.fill&&(_.parsedStyle.fill=Wn(g.fill)),ht.has("stroke")&&g.stroke&&(_.parsedStyle.stroke=Wn(g.stroke)),ht.has("shadowColor")&&g.shadowColor&&(_.parsedStyle.shadowColor=Wn(g.shadowColor)),ht.has("filter")&&g.filter&&(_.parsedStyle.filter=hs(g.filter)),ht.has("radius")&&!(0,e.Z)(g.radius)&&(_.parsedStyle.radius=Mi(g.radius,4)),ht.has("lineDash")&&!(0,e.Z)(g.lineDash)&&(_.parsedStyle.lineDash=Mi(g.lineDash,"even")),ht.has("points")&&g.points&&(_.parsedStyle.points=bs(g.points)),ht.has("d")&&g.d===""&&(_.parsedStyle.d=(0,u.Z)({},tn)),ht.has("d")&&g.d&&(_.parsedStyle.d=Ii(g.d)),ht.has("textTransform")&&g.textTransform&&this.runtime.CSSPropertySyntaxFactory[le.TEXT_TRANSFORM].calculator(null,null,{value:g.textTransform},_,null),ht.has("clipPath")&&!(0,j.Z)(g.clipPath)&&this.runtime.CSSPropertySyntaxFactory[le.DEFINED_PATH].calculator("clipPath",Z,g.clipPath,_,this.runtime),ht.has("offsetPath")&&g.offsetPath&&this.runtime.CSSPropertySyntaxFactory[le.DEFINED_PATH].calculator("offsetPath",k,g.offsetPath,_,this.runtime),ht.has("transform")&&g.transform&&(_.parsedStyle.transform=Bi(g.transform)),ht.has("transformOrigin")&&g.transformOrigin&&(_.parsedStyle.transformOrigin=Ks(g.transformOrigin)),ht.has("markerStart")&&g.markerStart&&(_.parsedStyle.markerStart=this.runtime.CSSPropertySyntaxFactory[le.MARKER].calculator(null,g.markerStart,g.markerStart,null,null)),ht.has("markerEnd")&&g.markerEnd&&(_.parsedStyle.markerEnd=this.runtime.CSSPropertySyntaxFactory[le.MARKER].calculator(null,g.markerEnd,g.markerEnd,null,null)),ht.has("markerMid")&&g.markerMid&&(_.parsedStyle.markerMid=this.runtime.CSSPropertySyntaxFactory[le.MARKER].calculator("",g.markerMid,g.markerMid,null,null)),ht.has("zIndex")&&!(0,e.Z)(g.zIndex)&&this.runtime.CSSPropertySyntaxFactory[le.Z_INDEX].postProcessor(_),ht.has("offsetDistance")&&!(0,e.Z)(g.offsetDistance)&&this.runtime.CSSPropertySyntaxFactory[le.OFFSET_DISTANCE].postProcessor(_),ht.has("transform")&&g.transform&&this.runtime.CSSPropertySyntaxFactory[le.TRANSFORM].postProcessor(_),ht.has("transformOrigin")&&g.transformOrigin&&this.runtime.CSSPropertySyntaxFactory[le.TRANSFORM_ORIGIN].postProcessor(_),q&&(_.geometry.dirty=!0,_.dirty(!0,!0),R.forceUpdateGeometry||this.runtime.sceneGraphService.dirtyToRoot(_))}},{key:"updateGeometry",value:function(_){var g=_.nodeName,R=this.runtime.geometryUpdaterFactory[g];if(R){var Z=_.geometry;Z.contentBounds||(Z.contentBounds=new bt),Z.renderBounds||(Z.renderBounds=new bt);var k=_.parsedStyle,q=R.update(k,_),at=q.cx,ht=at===void 0?0:at,Mt=q.cy,xt=Mt===void 0?0:Mt,wt=q.cz,Kt=wt===void 0?0:wt,Nt=q.hwidth,Vt=Nt===void 0?0:Nt,Jt=q.hheight,qt=Jt===void 0?0:Jt,Xt=q.hdepth,ne=Xt===void 0?0:Xt,ge=[Math.abs(Vt),Math.abs(qt),ne],Ht=k.stroke,kt=k.lineWidth,Ft=kt===void 0?1:kt,$t=k.increasedLineWidthForHitTesting,ue=$t===void 0?0:$t,se=k.shadowType,fe=se===void 0?"outer":se,ce=k.shadowColor,Me=k.filter,De=Me===void 0?[]:Me,xe=k.transformOrigin,Le=[ht,xt,Kt];Z.contentBounds.update(Le,ge);var Ee=g===et.POLYLINE||g===et.POLYGON||g===et.PATH?Math.SQRT2:.5,Te=Ht&&!Ht.isNone;if(Te){var Ce=((Ft||0)+(ue||0))*Ee;ge[0]+=Ce,ge[1]+=Ce}if(Z.renderBounds.update(Le,ge),ce&&fe&&fe!=="inner"){var He=Z.renderBounds,Je=He.min,gn=He.max,ei=k.shadowBlur,ni=k.shadowOffsetX,Gn=k.shadowOffsetY,gr=ei||0,va=ni||0,_a=Gn||0,Wl=Je[0]-gr+va,Ul=gn[0]+gr+va,Nl=Je[1]-gr+_a,Kl=gn[1]+gr+_a;Je[0]=Math.min(Je[0],Wl),gn[0]=Math.max(gn[0],Ul),Je[1]=Math.min(Je[1],Nl),gn[1]=Math.max(gn[1],Kl),Z.renderBounds.setMinMax(Je,gn)}De.forEach(function(Ea){var ma=Ea.name,pr=Ea.params;if(ma==="blur"){var ya=pr[0].value;Z.renderBounds.update(Z.renderBounds.center,a.IH(Z.renderBounds.halfExtents,Z.renderBounds.halfExtents,[ya,ya,0]))}else if(ma==="drop-shadow"){var Ma=pr[0].value,Oa=pr[1].value,Er=pr[2].value,Pa=Z.renderBounds,Rn=Pa.min,Ln=Pa.max,Fl=Rn[0]-Er+Ma,zl=Ln[0]+Er+Ma,jl=Rn[1]-Er+Oa,Vl=Ln[1]+Er+Oa;Rn[0]=Math.min(Rn[0],Fl),Ln[0]=Math.max(Ln[0],zl),Rn[1]=Math.min(Rn[1],jl),Ln[1]=Math.max(Ln[1],Vl),Z.renderBounds.setMinMax(Rn,Ln)}}),_.geometry.dirty=!1;var kl=Vt<0,Zl=qt<0,ga=(kl?-1:1)*(xe?cn(xe[0],0,_,!0):0),pa=(Zl?-1:1)*(xe?cn(xe[1],1,_,!0):0);(ga||pa)&&_.setOrigin(ga,pa)}}},{key:"updateSizeAttenuation",value:function(_,g){_.style.isSizeAttenuation?(_.style.rawLineWidth||(_.style.rawLineWidth=_.style.lineWidth),_.style.lineWidth=(_.style.rawLineWidth||1)/g,_.nodeName===et.CIRCLE&&(_.style.rawR||(_.style.rawR=_.style.r),_.style.r=(_.style.rawR||1)/g)):(_.style.rawLineWidth&&(_.style.lineWidth=_.style.rawLineWidth,delete _.style.rawLineWidth),_.nodeName===et.CIRCLE&&_.style.rawR&&(_.style.r=_.style.rawR,delete _.style.rawR))}}])}();function Fs(A,L){var _=Ni(A);for(var g in L)_.has(g)&&(A.parsedStyle[g]=L[g])}function Ni(A){return A.constructor.PARSED_STYLE_LIST}var zs=function(){function A(){(0,D.Z)(this,A),this.mixer=br}return(0,p.Z)(A,[{key:"calculator",value:function(_,g,R,Z){return on(R)}}])}(),js=function(){function A(){(0,D.Z)(this,A)}return(0,p.Z)(A,[{key:"calculator",value:function(_,g,R,Z,k){return R instanceof fn&&(R=null),k.sceneGraphService.updateDisplayObjectDependency(_,g,R,Z),_==="clipPath"&&Z.forEach(function(q){q.childNodes.length===0&&k.sceneGraphService.dirtyToRoot(q)}),R}}])}(),Vs=function(){function A(){(0,D.Z)(this,A),this.parser=Wn,this.mixer=ss}return(0,p.Z)(A,[{key:"calculator",value:function(_,g,R,Z){return R instanceof fn?R.value==="none"?vi:_i:R}}])}(),Gs=function(){function A(){(0,D.Z)(this,A)}return(0,p.Z)(A,[{key:"calculator",value:function(_,g,R){return R instanceof fn?[]:R}}])}();function Ki(A){var L=A.parsedStyle,_=L.fontSize;return(0,e.Z)(_)?null:_}var wr=function(){function A(){(0,D.Z)(this,A),this.mixer=br}return(0,p.Z)(A,[{key:"calculator",value:function(_,g,R,Z,k){if((0,y.Z)(R))return R;if(We.isRelativeUnit(R.unit)){if(R.unit===he.kPercentage)return 0;if(R.unit===he.kEms){if(Z.parentNode){var q=Ki(Z.parentNode);if(q)return q*=R.value,q}return 0}if(R.unit===he.kRems){var at;if(Z!=null&&(at=Z.ownerDocument)!==null&&at!==void 0&&at.documentElement){var ht=Ki(Z.ownerDocument.documentElement);if(ht)return ht*=R.value,ht}return 0}}else return R.value}}])}(),Hs=function(){function A(){(0,D.Z)(this,A),this.mixer=Di}return(0,p.Z)(A,[{key:"calculator",value:function(_,g,R){return R.map(function(Z){return Z.value})}}])}(),Ys=function(){function A(){(0,D.Z)(this,A),this.mixer=Di}return(0,p.Z)(A,[{key:"calculator",value:function(_,g,R){return R.map(function(Z){return Z.value})}}])}(),$s=function(){function A(){(0,D.Z)(this,A)}return(0,p.Z)(A,[{key:"calculator",value:function(_,g,R,Z){var k;R instanceof fn&&(R=null);var q=(k=R)===null||k===void 0?void 0:k.cloneNode(!0);return q&&(q.style.isMarker=!0),q}}])}(),Xs=function(){function A(){(0,D.Z)(this,A),this.mixer=br}return(0,p.Z)(A,[{key:"calculator",value:function(_,g,R){return R.value}}])}(),Js=function(){function A(){(0,D.Z)(this,A),this.mixer=xr(0,1)}return(0,p.Z)(A,[{key:"calculator",value:function(_,g,R){return R.value}},{key:"postProcessor",value:function(_){var g=_.parsedStyle,R=g.offsetPath,Z=g.offsetDistance;if(R){var k=R.nodeName;if(k===et.LINE||k===et.PATH||k===et.POLYLINE){var q=R.getPoint(Z);q&&_.setLocalPosition(q.x,q.y)}}}}])}(),Qs=function(){function A(){(0,D.Z)(this,A),this.mixer=xr(0,1)}return(0,p.Z)(A,[{key:"calculator",value:function(_,g,R){return R.value}}])}(),qs=function(){function A(){(0,D.Z)(this,A),this.parser=Ii,this.mixer=Cs}return(0,p.Z)(A,[{key:"calculator",value:function(_,g,R){return R instanceof fn&&R.value==="unset"?{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new ct(0,0,0,0)}:R}}])}(),to=(0,p.Z)(function A(){(0,D.Z)(this,A),this.mixer=xs}),eo=function(A){function L(){var _;(0,D.Z)(this,L);for(var g=arguments.length,R=new Array(g),Z=0;Z<g;Z++)R[Z]=arguments[Z];return _=(0,m.Z)(this,L,[].concat(R)),_.mixer=xr(0,1/0),_}return(0,c.Z)(L,A),(0,p.Z)(L)}(wr),no=function(){function A(){(0,D.Z)(this,A)}return(0,p.Z)(A,[{key:"calculator",value:function(_,g,R,Z){return R instanceof fn?R.value==="unset"?"":R.value:"".concat(R)}},{key:"postProcessor",value:function(_){_.nodeValue="".concat(_.parsedStyle.text)||""}}])}(),ro=function(){function A(){(0,D.Z)(this,A)}return(0,p.Z)(A,[{key:"calculator",value:function(_,g,R,Z){var k=Z.getAttribute("text");if(k){var q=k;R.value==="capitalize"?q=k.charAt(0).toUpperCase()+k.slice(1):R.value==="lowercase"?q=k.toLowerCase():R.value==="uppercase"&&(q=k.toUpperCase()),Z.parsedStyle.text=q}return R.value}}])}(),$l=function(L){return Object.fromEntries(Object.entries(L).filter(function(_){var g=_slicedToArray(_,2),R=g[1];return R!==void 0}))},Wr=new WeakMap;function io(A,L,_){if(A){var g=typeof A=="string"?document.getElementById(A):A;Wr.has(g)&&Wr.get(g).destroy(_),Wr.set(g,L)}}var Ur=typeof window!="undefined"&&typeof window.document!="undefined";function ao(A){return!!A.getAttribute}function so(A,L){for(var _=0,g=A.length;_<g;){var R=_+g>>>1;ki(A[R],L)<0?_=R+1:g=R}return _}function ki(A,L){var _=Number(A.parsedStyle.zIndex||0),g=Number(L.parsedStyle.zIndex||0);if(_===g){var R=A.parentNode;if(R){var Z=R.childNodes||[];return Z.indexOf(A)-Z.indexOf(L)}}return _-g}function Zi(A){var L=A;do{var _,g=(_=L.parsedStyle)===null||_===void 0?void 0:_.clipPath;if(g)return L;L=L.parentElement}while(L!==null);return null}var Fi="px";function oo(A,L,_){Ur&&A.style&&(A.style.width=L+Fi,A.style.height=_+Fi)}function zi(A,L){if(Ur)return document.defaultView.getComputedStyle(A,null).getPropertyValue(L)}function lo(A){var L=zi(A,"width");return L==="auto"?A.offsetWidth:parseFloat(L)}function uo(A){var L=zi(A,"height");return L==="auto"?A.offsetHeight:parseFloat(L)}var co=1,fo={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},Nr=typeof performance=="object"&&performance.now?performance:Date;function sr(A){return A.nodeName===et.FRAGMENT?!0:A.getRootNode().nodeName===et.FRAGMENT}function ho(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"auto",L=arguments.length>1?arguments[1]:void 0,_=arguments.length>2?arguments[2]:void 0,g=!1,R=!1,Z=!!L&&!L.isNone,k=!!_&&!_.isNone;return A==="visiblepainted"||A==="painted"||A==="auto"?(g=Z,R=k):A==="visiblefill"||A==="fill"?g=!0:A==="visiblestroke"||A==="stroke"?R=!0:(A==="visible"||A==="all")&&(g=!0,R=!0),[g,R]}var vo=1,_o=function(){return vo++},pn=typeof self=="object"&&self.self===self?self:typeof t.g=="object"&&t.g.global===t.g?t.g:{},go=Date.now(),po=function(){return pn.performance&&typeof pn.performance.now=="function"?pn.performance.now():Date.now()-go},Kn={},ji=Date.now(),Eo=function(L){if(typeof L!="function")throw new TypeError("".concat(L," is not a function"));var _=Date.now(),g=_-ji,R=g>16?0:16-g,Z=_o();return Kn[Z]=L,Object.keys(Kn).length>1||setTimeout(function(){ji=_;var k=Kn;Kn={},Object.keys(k).forEach(function(q){return k[q](po())})},R),Z},mo=function(L){delete Kn[L]},yo=["","webkit","moz","ms","o"],Vi=function(L){return typeof L!="string"?Eo:L===""?pn.requestAnimationFrame:pn["".concat(L,"RequestAnimationFrame")]},Mo=function(L){return typeof L!="string"?mo:L===""?pn.cancelAnimationFrame:pn["".concat(L,"CancelAnimationFrame")]||pn["".concat(L,"CancelRequestAnimationFrame")]},Oo=function(L,_){for(var g=0;L[g]!==void 0;){if(_(L[g]))return L[g];g+=1}},Gi=Oo(yo,function(A){return!!Vi(A)}),Kr=Vi(Gi),Hi=Mo(Gi);pn.requestAnimationFrame=Kr,pn.cancelAnimationFrame=Hi;var Po=function(){function A(){(0,D.Z)(this,A),this.callbacks=[]}return(0,p.Z)(A,[{key:"getCallbacksNum",value:function(){return this.callbacks.length}},{key:"tapPromise",value:function(_,g){this.callbacks.push(g)}},{key:"promise",value:function(){for(var _=arguments.length,g=new Array(_),R=0;R<_;R++)g[R]=arguments[R];return Promise.all(this.callbacks.map(function(Z){return Z.apply(void 0,g)}))}}])}(),Do=function(){function A(){(0,D.Z)(this,A),this.callbacks=[]}return(0,p.Z)(A,[{key:"tapPromise",value:function(_,g){this.callbacks.push(g)}},{key:"promise",value:function(){var L=(0,ot.Z)((0,rt.Z)().mark(function g(){var R,Z,k,q,at=arguments;return(0,rt.Z)().wrap(function(ht){for(;;)switch(ht.prev=ht.next){case 0:if(!this.callbacks.length){ht.next=6;break}return ht.next=1,(R=this.callbacks)[0].apply(R,at);case 1:Z=ht.sent,k=0;case 2:if(!(k<this.callbacks.length-1)){ht.next=5;break}return q=this.callbacks[k],ht.next=3,q(Z);case 3:Z=ht.sent;case 4:k++,ht.next=2;break;case 5:return ht.abrupt("return",Z);case 6:return ht.abrupt("return",null);case 7:case"end":return ht.stop()}},g,this)}));function _(){return L.apply(this,arguments)}return _}()}])}(),nn=function(){function A(){(0,D.Z)(this,A),this.callbacks=[]}return(0,p.Z)(A,[{key:"tap",value:function(_,g){this.callbacks.push(g)}},{key:"call",value:function(){for(var _=arguments.length,g=new Array(_),R=0;R<_;R++)g[R]=arguments[R];var Z=arguments;this.callbacks.forEach(function(k){k.apply(void 0,Z)})}}])}(),kr=function(){function A(){(0,D.Z)(this,A),this.callbacks=[]}return(0,p.Z)(A,[{key:"tap",value:function(_,g){this.callbacks.push(g)}},{key:"call",value:function(){for(var _=arguments.length,g=new Array(_),R=0;R<_;R++)g[R]=arguments[R];if(this.callbacks.length){for(var Z=arguments,k=this.callbacks[0].apply(void 0,Z),q=0;q<this.callbacks.length-1;q++){var at=this.callbacks[q];k=at(k)}return k}return null}}])}(),To=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Co=/([\"\'])[^\'\"]+\1/;function Yi(A){var L=A.fontSize,_=L===void 0?16:L,g=A.fontFamily,R=g===void 0?"sans-serif":g,Z=A.fontStyle,k=Z===void 0?"normal":Z,q=A.fontVariant,at=q===void 0?"normal":q,ht=A.fontWeight,Mt=ht===void 0?"normal":ht;return{fontSize:_,fontFamily:R,fontStyle:k,fontVariant:at,fontWeight:Mt}}var $i=Ve(function(L){for(var _=Yi(L),g=_.fontSize,R=_.fontFamily,Z=_.fontStyle,k=_.fontVariant,q=_.fontWeight,at=(0,y.Z)(g)&&"".concat(g,"px")||"16px",ht=R.split(","),Mt=ht.length-1;Mt>=0;Mt--){var xt=ht[Mt].trim();!Co.test(xt)&&To.indexOf(xt)<0&&(xt='"'.concat(xt,'"')),ht[Mt]=xt}return"".concat(Z," ").concat(k," ").concat(q," ").concat(at," ").concat(ht.join(","))},function(A){var L=Yi(A),_=L.fontSize,g=L.fontFamily,R=L.fontStyle,Z=L.fontVariant,k=L.fontWeight;return"".concat(R,"_").concat(Z,"_").concat(k,"_").concat(_,"_").concat(g)}),bo=1e-6,kn=function(L){return Math.max(L,bo)};function Zr(A,L,_){return s.identity(A),A[4]=Math.tan(L),A[1]=Math.tan(_),A}var Ge=s.create(),xo=s.create(),Ao={scale:function(L){s.fromScaling(Ge,[L[0].value,L[1].value,1].map(function(_){return kn(_)}))},scaleX:function(L){s.fromScaling(Ge,[L[0].value,1,1].map(function(_){return kn(_)}))},scaleY:function(L){s.fromScaling(Ge,[1,L[0].value,1].map(function(_){return kn(_)}))},scaleZ:function(L){s.fromScaling(Ge,[1,1,L[0].value].map(function(_){return kn(_)}))},scale3d:function(L){s.fromScaling(Ge,[L[0].value,L[1].value,L[2].value].map(function(_){return kn(_)}))},translate:function(L){s.fromTranslation(Ge,[L[0].value,L[1].value,0])},translateX:function(L){s.fromTranslation(Ge,[L[0].value,0,0])},translateY:function(L){s.fromTranslation(Ge,[0,L[0].value,0])},translateZ:function(L){s.fromTranslation(Ge,[0,0,L[0].value])},translate3d:function(L){s.fromTranslation(Ge,[L[0].value,L[1].value,L[2].value])},rotate:function(L){s.fromZRotation(Ge,At(on(L[0])))},rotateX:function(L){s.fromXRotation(Ge,At(on(L[0])))},rotateY:function(L){s.fromYRotation(Ge,At(on(L[0])))},rotateZ:function(L){s.fromZRotation(Ge,At(on(L[0])))},rotate3d:function(L){s.fromRotation(Ge,At(on(L[3])),[L[0].value,L[1].value,L[2].value])},skew:function(L){Zr(Ge,At(L[0].value),At(L[1].value))},skewX:function(L){Zr(Ge,At(L[0].value),0)},skewY:function(L){Zr(Ge,0,At(L[0].value))},matrix:function(L){s.set(Ge,L[0].value,L[1].value,0,0,L[2].value,L[3].value,0,0,0,0,1,0,L[4].value,L[5].value,0,1)},matrix3d:function(L){s.set.apply(s,[Ge].concat((0,M.Z)(L.map(function(_){return _.value}))))}},Ro=a.al(1,1,1),Lo=a.Ue(),Xi={translate:function(L,_){ie.sceneGraphService.setLocalScale(L,Ro,!1),ie.sceneGraphService.setLocalEulerAngles(L,Lo,void 0,void 0,!1),ie.sceneGraphService.setLocalPosition(L,[_[0].value,_[1].value,0],!1),ie.sceneGraphService.dirtyLocalTransform(L,L.transformable)}};function Ji(A,L){if(A.length){if(A.length===1&&Xi[A[0].t]){Xi[A[0].t](L,A[0].d);return}for(var _=s.identity(xo),g=0;g<A.length;g++){var R=A[g],Z=R.t,k=R.d,q=Ao[Z];q&&(q(k),s.mul(_,_,Ge))}L.setLocalTransform(_)}else L.resetLocalTransform();return L.getLocalTransform()}var Io=function(){function A(){(0,D.Z)(this,A),this.parser=As,this.mixer=Ns}return(0,p.Z)(A,[{key:"calculator",value:function(_,g,R,Z){return R instanceof fn?[]:R}},{key:"postProcessor",value:function(_){Ji(_.parsedStyle.transform,_)}}])}(),So=function(){function A(){(0,D.Z)(this,A)}return(0,p.Z)(A,[{key:"postProcessor",value:function(_){var g=_.parsedStyle.transformOrigin;g[0].unit===he.kPixels&&g[1].unit===he.kPixels?_.setOrigin(g[0].value,g[1].value):_.getGeometryBounds()}}])}(),Bo=function(){function A(){(0,D.Z)(this,A)}return(0,p.Z)(A,[{key:"calculator",value:function(_,g,R,Z){return R.value}},{key:"postProcessor",value:function(_){if(_.parentNode){var g=_.parentNode,R=g.renderable,Z=g.sortable;R&&g.dirty(),Z&&(Z.dirty=!0,Z.dirtyReason=Se.Z_INDEX_CHANGED)}}}])}(),wo=function(){function A(){(0,D.Z)(this,A)}return(0,p.Z)(A,[{key:"update",value:function(_,g){var R=_.cx,Z=R===void 0?0:R,k=_.cy,q=k===void 0?0:k,at=_.r,ht=at===void 0?0:at;return{cx:Z,cy:q,hwidth:ht,hheight:ht}}}])}(),Wo=function(){function A(){(0,D.Z)(this,A)}return(0,p.Z)(A,[{key:"update",value:function(_,g){var R=_.cx,Z=R===void 0?0:R,k=_.cy,q=k===void 0?0:k,at=_.rx,ht=at===void 0?0:at,Mt=_.ry,xt=Mt===void 0?0:Mt;return{cx:Z,cy:q,hwidth:ht,hheight:xt}}}])}(),Uo=function(){function A(){(0,D.Z)(this,A)}return(0,p.Z)(A,[{key:"update",value:function(_){var g=_.x1,R=_.y1,Z=_.x2,k=_.y2,q=Math.min(g,Z),at=Math.max(g,Z),ht=Math.min(R,k),Mt=Math.max(R,k),xt=at-q,wt=Mt-ht,Kt=xt/2,Nt=wt/2;return{cx:q+Kt,cy:ht+Nt,hwidth:Kt,hheight:Nt}}}])}(),No=function(){function A(){(0,D.Z)(this,A)}return(0,p.Z)(A,[{key:"update",value:function(_){var g=_.d,R=g.rect,Z=R.x,k=R.y,q=R.width,at=R.height,ht=q/2,Mt=at/2;return{cx:Z+ht,cy:k+Mt,hwidth:ht,hheight:Mt}}}])}(),Ko=function(){function A(){(0,D.Z)(this,A)}return(0,p.Z)(A,[{key:"update",value:function(_){if(_.points&&(0,W.Z)(_.points.points)){var g=_.points.points,R=Math.min.apply(Math,(0,M.Z)(g.map(function(wt){return wt[0]}))),Z=Math.max.apply(Math,(0,M.Z)(g.map(function(wt){return wt[0]}))),k=Math.min.apply(Math,(0,M.Z)(g.map(function(wt){return wt[1]}))),q=Math.max.apply(Math,(0,M.Z)(g.map(function(wt){return wt[1]}))),at=Z-R,ht=q-k,Mt=at/2,xt=ht/2;return{cx:R+Mt,cy:k+xt,hwidth:Mt,hheight:xt}}return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),ko=function(){function A(){(0,D.Z)(this,A)}return(0,p.Z)(A,[{key:"update",value:function(_,g){var R=_.x,Z=R===void 0?0:R,k=_.y,q=k===void 0?0:k,at=_.src,ht=_.width,Mt=ht===void 0?0:ht,xt=_.height,wt=xt===void 0?0:xt,Kt=Mt,Nt=wt;return at&&!(0,i.Z)(at)&&(Kt||(Kt=at.width,_.width=Kt),Nt||(Nt=at.height,_.height=Nt)),{cx:Z+Kt/2,cy:q+Nt/2,hwidth:Kt/2,hheight:Nt/2}}}])}(),Zo=function(){function A(L){(0,D.Z)(this,A),this.globalRuntime=L}return(0,p.Z)(A,[{key:"isReadyToMeasure",value:function(_,g){var R=_.text;return R}},{key:"update",value:function(_,g){var R,Z=_.text,k=_.textAlign,q=k===void 0?"start":k,at=_.lineWidth,ht=at===void 0?1:at,Mt=_.textBaseline,xt=Mt===void 0?"alphabetic":Mt,wt=_.dx,Kt=wt===void 0?0:wt,Nt=_.dy,Vt=Nt===void 0?0:Nt,Jt=_.x,qt=Jt===void 0?0:Jt,Xt=_.y,ne=Xt===void 0?0:Xt;if(!this.isReadyToMeasure(_,g))return _.metrics={font:"",width:0,height:0,lines:[],lineWidths:[],lineHeight:0,maxLineWidth:0,fontProperties:{ascent:0,descent:0,fontSize:0},lineMetrics:[]},{hwidth:0,hheight:0,cx:0,cy:0};var ge=(g==null||(R=g.ownerDocument)===null||R===void 0||(R=R.defaultView)===null||R===void 0?void 0:R.getConfig())||{},Ht=ge.offscreenCanvas,kt=this.globalRuntime.textService.measureText(Z,_,Ht);_.metrics=kt;var Ft=kt.width,$t=kt.height,ue=Ft/2,se=$t/2,fe=qt+ue;q==="center"||q==="middle"?fe+=ht/2-ue:(q==="right"||q==="end")&&(fe+=ht-ue*2);var ce=ne-se;return xt==="middle"?ce+=se:xt==="top"||xt==="hanging"?ce+=se*2:xt==="alphabetic"||(xt==="bottom"||xt==="ideographic")&&(ce+=0),Kt&&(fe+=Kt),Vt&&(ce+=Vt),{cx:fe,cy:ce,hwidth:ue,hheight:se}}}])}(),Fo=function(){function A(){(0,D.Z)(this,A)}return(0,p.Z)(A,[{key:"update",value:function(_,g){return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),zo=function(){function A(){(0,D.Z)(this,A)}return(0,p.Z)(A,[{key:"update",value:function(_,g){var R=_.x,Z=R===void 0?0:R,k=_.y,q=k===void 0?0:k,at=_.width,ht=at===void 0?0:at,Mt=_.height,xt=Mt===void 0?0:Mt;return{cx:Z+ht/2,cy:q+xt/2,hwidth:ht/2,hheight:xt/2}}}])}();function Xl(A){return!!A.type}var or=function(){function A(L){(0,D.Z)(this,A),this.eventPhase=A.prototype.NONE,this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.defaultPrevented=!1,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Q,this.page=new Q,this.canvas=new Q,this.viewport=new Q,this.composed=!1,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=L}return(0,p.Z)(A,[{key:"name",get:function(){return this.type}},{key:"layerX",get:function(){return this.layer.x}},{key:"layerY",get:function(){return this.layer.y}},{key:"pageX",get:function(){return this.page.x}},{key:"pageY",get:function(){return this.page.y}},{key:"x",get:function(){return this.canvas.x}},{key:"y",get:function(){return this.canvas.y}},{key:"canvasX",get:function(){return this.canvas.x}},{key:"canvasY",get:function(){return this.canvas.y}},{key:"viewportX",get:function(){return this.viewport.x}},{key:"viewportY",get:function(){return this.viewport.y}},{key:"composedPath",value:function(){return this.manager&&(!this.path||this.path[0]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}},{key:"propagationPath",get:function(){return this.composedPath()}},{key:"preventDefault",value:function(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}},{key:"stopImmediatePropagation",value:function(){this.propagationImmediatelyStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"initEvent",value:function(){}},{key:"initUIEvent",value:function(){}},{key:"clone",value:function(){throw new Error(vt)}}])}(),Qi=function(A){function L(){var _;(0,D.Z)(this,L);for(var g=arguments.length,R=new Array(g),Z=0;Z<g;Z++)R[Z]=arguments[Z];return _=(0,m.Z)(this,L,[].concat(R)),_.client=new Q,_.movement=new Q,_.offset=new Q,_.global=new Q,_.screen=new Q,_}return(0,c.Z)(L,A),(0,p.Z)(L,[{key:"clientX",get:function(){return this.client.x}},{key:"clientY",get:function(){return this.client.y}},{key:"movementX",get:function(){return this.movement.x}},{key:"movementY",get:function(){return this.movement.y}},{key:"offsetX",get:function(){return this.offset.x}},{key:"offsetY",get:function(){return this.offset.y}},{key:"globalX",get:function(){return this.global.x}},{key:"globalY",get:function(){return this.global.y}},{key:"screenX",get:function(){return this.screen.x}},{key:"screenY",get:function(){return this.screen.y}},{key:"getModifierState",value:function(g){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(g)}},{key:"initMouseEvent",value:function(){throw new Error(vt)}}])}(or),lr=function(A){function L(){var _;(0,D.Z)(this,L);for(var g=arguments.length,R=new Array(g),Z=0;Z<g;Z++)R[Z]=arguments[Z];return _=(0,m.Z)(this,L,[].concat(R)),_.width=0,_.height=0,_.isPrimary=!1,_}return(0,c.Z)(L,A),(0,p.Z)(L,[{key:"getCoalescedEvents",value:function(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}},{key:"getPredictedEvents",value:function(){throw new Error("getPredictedEvents is not supported!")}},{key:"clone",value:function(){return this.manager.clonePointerEvent(this)}}])}(Qi),Fr=function(A){function L(){return(0,D.Z)(this,L),(0,m.Z)(this,L,arguments)}return(0,c.Z)(L,A),(0,p.Z)(L,[{key:"clone",value:function(){return this.manager.cloneWheelEvent(this)}}])}(Qi),qe=function(A){function L(_,g){var R;return(0,D.Z)(this,L),R=(0,m.Z)(this,L,[null]),R.type=_,R.detail=g,Object.assign(R,g),R}return(0,c.Z)(L,A),(0,p.Z)(L)}(or),qi=function(){function A(){(0,D.Z)(this,A),this.emitter=new v.Z}return(0,p.Z)(A,[{key:"on",value:function(_,g,R){return this.addEventListener(_,g,R),this}},{key:"addEventListener",value:function(_,g,R){var Z=!1,k=!1;if((0,U.Z)(R))Z=R;else if(R){var q=R.capture;Z=q===void 0?!1:q;var at=R.once;k=at===void 0?!1:at}Z&&(_+="capture"),g=(0,F.Z)(g)?g:g.handleEvent;var ht=(0,F.Z)(g)?void 0:g;return k?this.emitter.once(_,g,ht):this.emitter.on(_,g,ht),this}},{key:"off",value:function(_,g,R){return _?this.removeEventListener(_,g,R):this.removeAllEventListeners(),this}},{key:"removeAllEventListeners",value:function(){var _;(_=this.emitter)===null||_===void 0||_.removeAllListeners()}},{key:"removeEventListener",value:function(_,g,R){var Z;if(!this.emitter)return this;var k=(0,U.Z)(R)?R:R==null?void 0:R.capture;k&&(_+="capture"),g=(0,F.Z)(g)?g:(Z=g)===null||Z===void 0?void 0:Z.handleEvent;var q=(0,F.Z)(g)?void 0:g;return this.emitter.off(_,g,q),this}},{key:"emit",value:function(_,g){this.dispatchEvent(new qe(_,g))}},{key:"dispatchEventToSelf",value:function(_){_.target||(_.target=this),_.currentTarget=this,this.emitter.emit(_.type,_)}},{key:"dispatchEvent",value:function(_){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,R=arguments.length>2?arguments[2]:void 0;if(R)return this.dispatchEventToSelf(_),!0;var Z;if(this.document)Z=this;else if(this.defaultView)Z=this.defaultView;else{var k;Z=(k=this.ownerDocument)===null||k===void 0?void 0:k.defaultView}if(Z){if(_.manager=Z.getEventService(),!_.manager)return!1;_.defaultPrevented=!1,_.path?_.path.length=0:_.page=[],g||(_.target=this),_.manager.dispatchEvent(_,_.type,g)}else this.dispatchEventToSelf(_);return!_.defaultPrevented}}])}(),ke=function(A){function L(){var _;(0,D.Z)(this,L);for(var g=arguments.length,R=new Array(g),Z=0;Z<g;Z++)R[Z]=arguments[Z];return _=(0,m.Z)(this,L,[].concat(R)),_.shadow=!1,_.ownerDocument=null,_.isConnected=!1,_.baseURI="",_.childNodes=[],_.nodeType=0,_.nodeName="",_.nodeValue=null,_.parentNode=null,_.destroyed=!1,_}return(0,c.Z)(L,A),(0,p.Z)(L,[{key:"textContent",get:function(){var g="";this.nodeName===et.TEXT&&(g+=this.style.text);var R=(0,tt.Z)(this.childNodes),Z;try{for(R.s();!(Z=R.n()).done;){var k=Z.value;k.nodeName===et.TEXT?g+=k.nodeValue:g+=k.textContent}}catch(q){R.e(q)}finally{R.f()}return g},set:function(g){var R=this;this.childNodes.slice().forEach(function(Z){R.removeChild(Z)}),this.nodeName===et.TEXT&&(this.style.text="".concat(g))}},{key:"getRootNode",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.parentNode?this.parentNode.getRootNode(g):g.composed&&this.host?this.host.getRootNode(g):this}},{key:"hasChildNodes",value:function(){return this.childNodes.length>0}},{key:"isDefaultNamespace",value:function(g){throw new Error(vt)}},{key:"lookupNamespaceURI",value:function(g){throw new Error(vt)}},{key:"lookupPrefix",value:function(g){throw new Error(vt)}},{key:"normalize",value:function(){throw new Error(vt)}},{key:"isEqualNode",value:function(g){return this===g}},{key:"isSameNode",value:function(g){return this.isEqualNode(g)}},{key:"parent",get:function(){return this.parentNode}},{key:"parentElement",get:function(){return null}},{key:"nextSibling",get:function(){return null}},{key:"previousSibling",get:function(){return null}},{key:"firstChild",get:function(){return this.childNodes.length>0?this.childNodes[0]:null}},{key:"lastChild",get:function(){return this.childNodes.length>0?this.childNodes[this.childNodes.length-1]:null}},{key:"compareDocumentPosition",value:function(g){if(g===this)return 0;for(var R=g,Z=this,k=[R],q=[Z];(at=R.parentNode)!==null&&at!==void 0?at:Z.parentNode;){var at;R=R.parentNode?(k.push(R.parentNode),R.parentNode):R,Z=Z.parentNode?(q.push(Z.parentNode),Z.parentNode):Z}if(R!==Z)return L.DOCUMENT_POSITION_DISCONNECTED|L.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC|L.DOCUMENT_POSITION_PRECEDING;var ht=k.length>q.length?k:q,Mt=ht===k?q:k;if(ht[ht.length-Mt.length]===Mt[0])return ht===k?L.DOCUMENT_POSITION_CONTAINED_BY|L.DOCUMENT_POSITION_FOLLOWING:L.DOCUMENT_POSITION_CONTAINS|L.DOCUMENT_POSITION_PRECEDING;for(var xt=ht.length-Mt.length,wt=Mt.length-1;wt>=0;wt--){var Kt=Mt[wt],Nt=ht[xt+wt];if(Nt!==Kt){var Vt=Kt.parentNode.childNodes;return Vt.indexOf(Kt)<Vt.indexOf(Nt)?Mt===k?L.DOCUMENT_POSITION_PRECEDING:L.DOCUMENT_POSITION_FOLLOWING:ht===k?L.DOCUMENT_POSITION_PRECEDING:L.DOCUMENT_POSITION_FOLLOWING}}return L.DOCUMENT_POSITION_FOLLOWING}},{key:"contain",value:function(g){return this.contains(g)}},{key:"contains",value:function(g){for(var R=g;R&&this!==R;)R=R.parentNode;return!!R}},{key:"getAncestor",value:function(g){for(var R=this;g>0&&R;)R=R.parentNode,g--;return R}},{key:"forEach",value:function(g){for(var R=[this];R.length>0;){var Z=R.pop(),k=g(Z);if(k===!1)break;for(var q=Z.childNodes.length-1;q>=0;q--)R.push(Z.childNodes[q])}}}],[{key:"isNode",value:function(g){return!!g.childNodes}}])}(qi);ke.DOCUMENT_POSITION_DISCONNECTED=1,ke.DOCUMENT_POSITION_PRECEDING=2,ke.DOCUMENT_POSITION_FOLLOWING=4,ke.DOCUMENT_POSITION_CONTAINS=8,ke.DOCUMENT_POSITION_CONTAINED_BY=16,ke.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32;var jo=2048,Vo=function(){function A(L,_){var g=this;(0,D.Z)(this,A),this.nativeHTMLMap=new WeakMap,this.cursor="default",this.mappingTable={},this.mappingState={trackingData:{}},this.eventPool=new Map,this.tmpMatrix=s.create(),this.tmpVec3=a.Ue(),this.onPointerDown=function(R){var Z=g.createPointerEvent(R);if(g.dispatchEvent(Z,"pointerdown"),Z.pointerType==="touch")g.dispatchEvent(Z,"touchstart");else if(Z.pointerType==="mouse"||Z.pointerType==="pen"){var k=Z.button===2;g.dispatchEvent(Z,k?"rightdown":"mousedown")}var q=g.trackingData(R.pointerId);q.pressTargetsByButton[R.button]=Z.composedPath(),g.freeEvent(Z)},this.onPointerUp=function(R){var Z=Nr.now(),k=g.createPointerEvent(R,void 0,void 0,g.context.config.alwaysTriggerPointerEventOnCanvas?g.rootTarget:void 0);if(g.dispatchEvent(k,"pointerup"),k.pointerType==="touch")g.dispatchEvent(k,"touchend");else if(k.pointerType==="mouse"||k.pointerType==="pen"){var q=k.button===2;g.dispatchEvent(k,q?"rightup":"mouseup")}var at=g.trackingData(R.pointerId),ht=g.findMountedTarget(at.pressTargetsByButton[R.button]),Mt=ht;if(ht&&!k.composedPath().includes(ht)){for(var xt=ht;xt&&!k.composedPath().includes(xt);){if(k.currentTarget=xt,g.notifyTarget(k,"pointerupoutside"),k.pointerType==="touch")g.notifyTarget(k,"touchendoutside");else if(k.pointerType==="mouse"||k.pointerType==="pen"){var wt=k.button===2;g.notifyTarget(k,wt?"rightupoutside":"mouseupoutside")}ke.isNode(xt)&&(xt=xt.parentNode)}delete at.pressTargetsByButton[R.button],Mt=xt}if(Mt){var Kt,Nt=g.clonePointerEvent(k,"click");Nt.target=Mt,Nt.path=[],at.clicksByButton[R.button]||(at.clicksByButton[R.button]={clickCount:0,target:Nt.target,timeStamp:Z});var Vt=g.context.renderingContext.root.ownerDocument.defaultView,Jt=at.clicksByButton[R.button];Jt.target===Nt.target&&Z-Jt.timeStamp<Vt.getConfig().dblClickSpeed?++Jt.clickCount:Jt.clickCount=1,Jt.target=Nt.target,Jt.timeStamp=Z,Nt.detail=Jt.clickCount,(Kt=k.detail)!==null&&Kt!==void 0&&Kt.preventClick||(!g.context.config.useNativeClickEvent&&(Nt.pointerType==="mouse"||Nt.pointerType==="touch")&&g.dispatchEvent(Nt,"click"),g.dispatchEvent(Nt,"pointertap")),g.freeEvent(Nt)}g.freeEvent(k)},this.onPointerMove=function(R){var Z=g.createPointerEvent(R,void 0,void 0,g.context.config.alwaysTriggerPointerEventOnCanvas?g.rootTarget:void 0),k=Z.pointerType==="mouse"||Z.pointerType==="pen",q=g.trackingData(R.pointerId),at=g.findMountedTarget(q.overTargets);if(q.overTargets&&at!==Z.target){var ht=R.type==="mousemove"?"mouseout":"pointerout",Mt=g.createPointerEvent(R,ht,at||void 0);if(g.dispatchEvent(Mt,"pointerout"),k&&g.dispatchEvent(Mt,"mouseout"),!Z.composedPath().includes(at)){var xt=g.createPointerEvent(R,"pointerleave",at||void 0);for(xt.eventPhase=xt.AT_TARGET;xt.target&&!Z.composedPath().includes(xt.target);)xt.currentTarget=xt.target,g.notifyTarget(xt),k&&g.notifyTarget(xt,"mouseleave"),ke.isNode(xt.target)&&(xt.target=xt.target.parentNode);g.freeEvent(xt)}g.freeEvent(Mt)}if(at!==Z.target){var wt=R.type==="mousemove"?"mouseover":"pointerover",Kt=g.clonePointerEvent(Z,wt);g.dispatchEvent(Kt,"pointerover"),k&&g.dispatchEvent(Kt,"mouseover");for(var Nt=at&&ke.isNode(at)&&at.parentNode;Nt&&Nt!==(ke.isNode(g.rootTarget)&&g.rootTarget.parentNode)&&Nt!==Z.target;)Nt=Nt.parentNode;var Vt=!Nt||Nt===(ke.isNode(g.rootTarget)&&g.rootTarget.parentNode);if(Vt){var Jt=g.clonePointerEvent(Z,"pointerenter");for(Jt.eventPhase=Jt.AT_TARGET;Jt.target&&Jt.target!==at&&Jt.target!==(ke.isNode(g.rootTarget)&&g.rootTarget.parentNode);)Jt.currentTarget=Jt.target,g.notifyTarget(Jt),k&&g.notifyTarget(Jt,"mouseenter"),ke.isNode(Jt.target)&&(Jt.target=Jt.target.parentNode);g.freeEvent(Jt)}g.freeEvent(Kt)}g.dispatchEvent(Z,"pointermove"),Z.pointerType==="touch"&&g.dispatchEvent(Z,"touchmove"),k&&(g.dispatchEvent(Z,"mousemove"),g.cursor=g.getCursor(Z.target)),q.overTargets=Z.composedPath(),g.freeEvent(Z)},this.onPointerOut=function(R){var Z=g.trackingData(R.pointerId);if(Z.overTargets){var k=R.pointerType==="mouse"||R.pointerType==="pen",q=g.findMountedTarget(Z.overTargets),at=g.createPointerEvent(R,"pointerout",q||void 0);g.dispatchEvent(at),k&&g.dispatchEvent(at,"mouseout");var ht=g.createPointerEvent(R,"pointerleave",q||void 0);for(ht.eventPhase=ht.AT_TARGET;ht.target&&ht.target!==(ke.isNode(g.rootTarget)&&g.rootTarget.parentNode);)ht.currentTarget=ht.target,g.notifyTarget(ht),k&&g.notifyTarget(ht,"mouseleave"),ke.isNode(ht.target)&&(ht.target=ht.target.parentNode);Z.overTargets=null,g.freeEvent(at),g.freeEvent(ht)}g.cursor=null},this.onPointerOver=function(R){var Z=g.trackingData(R.pointerId),k=g.createPointerEvent(R),q=k.pointerType==="mouse"||k.pointerType==="pen";g.dispatchEvent(k,"pointerover"),q&&g.dispatchEvent(k,"mouseover"),k.pointerType==="mouse"&&(g.cursor=g.getCursor(k.target));var at=g.clonePointerEvent(k,"pointerenter");for(at.eventPhase=at.AT_TARGET;at.target&&at.target!==(ke.isNode(g.rootTarget)&&g.rootTarget.parentNode);)at.currentTarget=at.target,g.notifyTarget(at),q&&g.notifyTarget(at,"mouseenter"),ke.isNode(at.target)&&(at.target=at.target.parentNode);Z.overTargets=k.composedPath(),g.freeEvent(k),g.freeEvent(at)},this.onPointerUpOutside=function(R){var Z=g.trackingData(R.pointerId),k=g.findMountedTarget(Z.pressTargetsByButton[R.button]),q=g.createPointerEvent(R);if(k){for(var at=k;at;)q.currentTarget=at,g.notifyTarget(q,"pointerupoutside"),q.pointerType==="touch"||(q.pointerType==="mouse"||q.pointerType==="pen")&&g.notifyTarget(q,q.button===2?"rightupoutside":"mouseupoutside"),ke.isNode(at)&&(at=at.parentNode);delete Z.pressTargetsByButton[R.button]}g.freeEvent(q)},this.onWheel=function(R){var Z=g.createWheelEvent(R);g.dispatchEvent(Z),g.freeEvent(Z)},this.onClick=function(R){if(g.context.config.useNativeClickEvent){var Z=g.createPointerEvent(R);g.dispatchEvent(Z),g.freeEvent(Z)}},this.onPointerCancel=function(R){var Z=g.createPointerEvent(R,void 0,void 0,g.context.config.alwaysTriggerPointerEventOnCanvas?g.rootTarget:void 0);g.dispatchEvent(Z),g.freeEvent(Z)},this.globalRuntime=L,this.context=_}return(0,p.Z)(A,[{key:"init",value:function(){this.rootTarget=this.context.renderingContext.root.parentNode,this.addEventMapping("pointerdown",this.onPointerDown),this.addEventMapping("pointerup",this.onPointerUp),this.addEventMapping("pointermove",this.onPointerMove),this.addEventMapping("pointerout",this.onPointerOut),this.addEventMapping("pointerleave",this.onPointerOut),this.addEventMapping("pointercancel",this.onPointerCancel),this.addEventMapping("pointerover",this.onPointerOver),this.addEventMapping("pointerupoutside",this.onPointerUpOutside),this.addEventMapping("wheel",this.onWheel),this.addEventMapping("click",this.onClick)}},{key:"destroy",value:function(){this.mappingTable={},this.mappingState={},this.eventPool.clear()}},{key:"getScale",value:function(){var _=this.context.contextService.getBoundingClientRect(),g=1,R=1,Z=this.context.contextService.getDomElement();if(Z&&_){var k=Z.offsetWidth,q=Z.offsetHeight;k&&q&&(g=_.width/k,R=_.height/q)}return{scaleX:g,scaleY:R,bbox:_}}},{key:"client2Viewport",value:function(_){var g=this.getScale(),R=g.scaleX,Z=g.scaleY,k=g.bbox;return new Q((_.x-((k==null?void 0:k.left)||0))/R,(_.y-((k==null?void 0:k.top)||0))/Z)}},{key:"viewport2Client",value:function(_){var g=this.getScale(),R=g.scaleX,Z=g.scaleY,k=g.bbox;return new Q((_.x+((k==null?void 0:k.left)||0))*R,(_.y+((k==null?void 0:k.top)||0))*Z)}},{key:"viewport2Canvas",value:function(_){var g=_.x,R=_.y,Z=this.rootTarget.defaultView,k=Z.getCamera(),q=this.context.config,at=q.width,ht=q.height,Mt=k.getPerspectiveInverse(),xt=k.getWorldTransform(),wt=s.multiply(this.tmpMatrix,xt,Mt),Kt=a.t8(this.tmpVec3,g/at*2-1,(1-R/ht)*2-1,0);return a.fF(Kt,Kt,wt),new Q(Kt[0],Kt[1])}},{key:"canvas2Viewport",value:function(_){var g=this.rootTarget.defaultView,R=g.getCamera(),Z=R.getPerspective(),k=R.getViewTransform(),q=s.multiply(this.tmpMatrix,Z,k),at=a.t8(this.tmpVec3,_.x,_.y,0);a.fF(this.tmpVec3,this.tmpVec3,q);var ht=this.context.config,Mt=ht.width,xt=ht.height;return new Q((at[0]+1)/2*Mt,(1-(at[1]+1)/2)*xt)}},{key:"setPickHandler",value:function(_){this.pickHandler=_}},{key:"addEventMapping",value:function(_,g){this.mappingTable[_]||(this.mappingTable[_]=[]),this.mappingTable[_].push({fn:g,priority:0}),this.mappingTable[_].sort(function(R,Z){return R.priority-Z.priority})}},{key:"mapEvent",value:function(_){if(this.rootTarget){var g=this.mappingTable[_.type];if(g)for(var R=0,Z=g.length;R<Z;R++)g[R].fn(_);else console.warn("[EventService]: Event mapping not defined for ".concat(_.type))}}},{key:"dispatchEvent",value:function(_,g,R){if(!R)_.propagationStopped=!1,_.propagationImmediatelyStopped=!1,this.propagate(_,g);else{_.eventPhase=_.AT_TARGET;var Z=this.rootTarget.defaultView||null;_.currentTarget=Z,this.notifyListeners(_,g)}}},{key:"propagate",value:function(_,g){if(_.target){var R=_.composedPath();_.eventPhase=_.CAPTURING_PHASE;for(var Z=R.length-1;Z>=1;Z--)if(_.currentTarget=R[Z],this.notifyTarget(_,g),_.propagationStopped||_.propagationImmediatelyStopped)return;if(_.eventPhase=_.AT_TARGET,_.currentTarget=_.target,this.notifyTarget(_,g),!(_.propagationStopped||_.propagationImmediatelyStopped)){var k=R.indexOf(_.currentTarget);_.eventPhase=_.BUBBLING_PHASE;for(var q=k+1;q<R.length;q++)if(_.currentTarget=R[q],this.notifyTarget(_,g),_.propagationStopped||_.propagationImmediatelyStopped)return}}}},{key:"propagationPath",value:function(_){var g=[_],R=this.rootTarget.defaultView||null;if(R&&R===_)return g.unshift(R.document),g;for(var Z=0;Z<jo&&_!==this.rootTarget;Z++)ke.isNode(_)&&_.parentNode&&(g.push(_.parentNode),_=_.parentNode);return R&&g.push(R),g}},{key:"hitTest",value:function(_){var g=_.viewportX,R=_.viewportY,Z=this.context.config,k=Z.width,q=Z.height,at=Z.disableHitTesting;return g<0||R<0||g>k||R>q?null:!at&&this.pickHandler(_)||this.rootTarget||null}},{key:"isNativeEventFromCanvas",value:function(_,g){var R,Z=g==null?void 0:g.target;if((R=Z)!==null&&R!==void 0&&R.shadowRoot&&(Z=g.composedPath()[0]),Z){if(Z===_)return!0;if(_&&_.contains)return _.contains(Z)}return g!=null&&g.composedPath?g.composedPath().indexOf(_)>-1:!1}},{key:"getExistedHTML",value:function(_){if(_.nativeEvent.composedPath)for(var g=0,R=_.nativeEvent.composedPath();g<R.length;g++){var Z=R[g],k=this.nativeHTMLMap.get(Z);if(k)return k}return null}},{key:"pickTarget",value:function(_){return this.hitTest({clientX:_.clientX,clientY:_.clientY,viewportX:_.viewportX,viewportY:_.viewportY,x:_.canvasX,y:_.canvasY})}},{key:"createPointerEvent",value:function(_,g,R,Z){var k=this.allocateEvent(lr);this.copyPointerData(_,k),this.copyMouseData(_,k),this.copyData(_,k),k.nativeEvent=_.nativeEvent,k.originalEvent=_;var q=this.getExistedHTML(k),at=this.context.contextService.getDomElement();return k.target=R!=null?R:q||this.isNativeEventFromCanvas(at,k.nativeEvent)&&this.pickTarget(k)||Z,typeof g=="string"&&(k.type=g),k}},{key:"createWheelEvent",value:function(_){var g=this.allocateEvent(Fr);this.copyWheelData(_,g),this.copyMouseData(_,g),this.copyData(_,g),g.nativeEvent=_.nativeEvent,g.originalEvent=_;var R=this.getExistedHTML(g),Z=this.context.contextService.getDomElement();return g.target=R||this.isNativeEventFromCanvas(Z,g.nativeEvent)&&this.pickTarget(g),g}},{key:"trackingData",value:function(_){return this.mappingState.trackingData[_]||(this.mappingState.trackingData[_]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[_]}},{key:"cloneWheelEvent",value:function(_){var g=this.allocateEvent(Fr);return g.nativeEvent=_.nativeEvent,g.originalEvent=_.originalEvent,this.copyWheelData(_,g),this.copyMouseData(_,g),this.copyData(_,g),g.target=_.target,g.path=_.composedPath().slice(),g.type=_.type,g}},{key:"clonePointerEvent",value:function(_,g){var R=this.allocateEvent(lr);return R.nativeEvent=_.nativeEvent,R.originalEvent=_.originalEvent,this.copyPointerData(_,R),this.copyMouseData(_,R),this.copyData(_,R),R.target=_.target,R.path=_.composedPath().slice(),R.type=g!=null?g:R.type,R}},{key:"copyPointerData",value:function(_,g){g.pointerId=_.pointerId,g.width=_.width,g.height=_.height,g.isPrimary=_.isPrimary,g.pointerType=_.pointerType,g.pressure=_.pressure,g.tangentialPressure=_.tangentialPressure,g.tiltX=_.tiltX,g.tiltY=_.tiltY,g.twist=_.twist}},{key:"copyMouseData",value:function(_,g){g.altKey=_.altKey,g.button=_.button,g.buttons=_.buttons,g.ctrlKey=_.ctrlKey,g.metaKey=_.metaKey,g.shiftKey=_.shiftKey,g.client.copyFrom(_.client),g.movement.copyFrom(_.movement),g.canvas.copyFrom(_.canvas),g.screen.copyFrom(_.screen),g.global.copyFrom(_.global),g.offset.copyFrom(_.offset)}},{key:"copyWheelData",value:function(_,g){g.deltaMode=_.deltaMode,g.deltaX=_.deltaX,g.deltaY=_.deltaY,g.deltaZ=_.deltaZ}},{key:"copyData",value:function(_,g){g.isTrusted=_.isTrusted,g.timeStamp=Nr.now(),g.type=_.type,g.detail=_.detail,g.view=_.view,g.page.copyFrom(_.page),g.viewport.copyFrom(_.viewport)}},{key:"allocateEvent",value:function(_){this.eventPool.has(_)||this.eventPool.set(_,[]);var g=this.eventPool.get(_).pop()||new _(this);return g.eventPhase=g.NONE,g.currentTarget=null,g.path=[],g.target=null,g}},{key:"freeEvent",value:function(_){if(_.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");var g=_.constructor;this.eventPool.has(g)||this.eventPool.set(g,[]),this.eventPool.get(g).push(_)}},{key:"notifyTarget",value:function(_,g){g=g!=null?g:_.type;var R=_.eventPhase===_.CAPTURING_PHASE||_.eventPhase===_.AT_TARGET?"".concat(g,"capture"):g;this.notifyListeners(_,R),_.eventPhase===_.AT_TARGET&&this.notifyListeners(_,g)}},{key:"notifyListeners",value:function(_,g){var R=_.currentTarget.emitter,Z=R._events[g];if(Z)if("fn"in Z)Z.once&&R.removeListener(g,Z.fn,void 0,!0),Z.fn.call(_.currentTarget||Z.context,_);else for(var k=0;k<Z.length&&!_.propagationImmediatelyStopped;k++)Z[k].once&&R.removeListener(g,Z[k].fn,void 0,!0),Z[k].fn.call(_.currentTarget||Z[k].context,_)}},{key:"findMountedTarget",value:function(_){if(!_)return null;for(var g=_[_.length-1],R=_.length-2;R>=0;R--){var Z=_[R];if(Z===this.rootTarget||ke.isNode(Z)&&Z.parentNode===g)g=_[R];else break}return g}},{key:"getCursor",value:function(_){for(var g=_;g;){var R=ao(g)&&g.getAttribute("cursor");if(R)return R;g=ke.isNode(g)&&g.parentNode}}}])}(),ta=function(){function A(){(0,D.Z)(this,A)}return(0,p.Z)(A,[{key:"getOrCreateCanvas",value:function(_,g){if(this.canvas)return this.canvas;if(_||ie.offscreenCanvas)this.canvas=_||ie.offscreenCanvas,this.context=this.canvas.getContext("2d",(0,u.Z)({willReadFrequently:!0},g));else try{this.canvas=new window.OffscreenCanvas(0,0),this.context=this.canvas.getContext("2d",(0,u.Z)({willReadFrequently:!0},g)),(!this.context||!this.context.measureText)&&(this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"))}catch(R){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d",(0,u.Z)({willReadFrequently:!0},g))}return this.canvas.width=10,this.canvas.height=10,this.canvas}},{key:"getOrCreateContext",value:function(_,g){return this.context?this.context:(this.getOrCreateCanvas(_,g),this.context)}}],[{key:"createCanvas",value:function(){try{return new window.OffscreenCanvas(0,0)}catch(_){}try{return document.createElement("canvas")}catch(_){}return null}}])}(),Zn=function(A){return A[A.CAMERA_CHANGED=0]="CAMERA_CHANGED",A[A.DISPLAY_OBJECT_CHANGED=1]="DISPLAY_OBJECT_CHANGED",A[A.NONE=2]="NONE",A}({}),Go=function(){function A(L,_){(0,D.Z)(this,A),this.inited=!1,this.stats={total:0,rendered:0},this.zIndexCounter=0,this.hooks={init:new nn,initAsync:new Po,dirtycheck:new kr,cull:new kr,beginFrame:new nn,beforeRender:new nn,render:new nn,afterRender:new nn,endFrame:new nn,destroy:new nn,pick:new Do,pickSync:new kr,pointerDown:new nn,pointerUp:new nn,pointerMove:new nn,pointerOut:new nn,pointerOver:new nn,pointerWheel:new nn,pointerCancel:new nn,click:new nn},this.globalRuntime=L,this.context=_}return(0,p.Z)(A,[{key:"init",value:function(_){var g=this,R=(0,u.Z)((0,u.Z)({},this.globalRuntime),this.context);this.context.renderingPlugins.forEach(function(Z){Z.apply(R,g.globalRuntime)}),this.hooks.init.call(),this.hooks.initAsync.getCallbacksNum()===0?(this.inited=!0,_()):this.hooks.initAsync.promise().then(function(){g.inited=!0,_()}).catch(function(Z){})}},{key:"getStats",value:function(){return this.stats}},{key:"disableDirtyRectangleRendering",value:function(){var _=this.context.config.renderer,g=_.getConfig(),R=g.enableDirtyRectangleRendering;return!R||this.context.renderingContext.renderReasons.has(Zn.CAMERA_CHANGED)}},{key:"render",value:function(_,g,R){var Z=this;this.stats.total=0,this.stats.rendered=0,this.zIndexCounter=0;var k=this.context.renderingContext;if(this.globalRuntime.sceneGraphService.syncHierarchy(k.root),this.globalRuntime.sceneGraphService.triggerPendingEvents(),k.renderReasons.size&&this.inited){k.dirtyRectangleRenderingDisabled=this.disableDirtyRectangleRendering();var q=k.renderReasons.size===1&&k.renderReasons.has(Zn.CAMERA_CHANGED),at=!_.disableRenderHooks||!q;at&&this.renderDisplayObject(k.root,_,k),this.hooks.beginFrame.call(g),at&&k.renderListCurrentFrame.forEach(function(ht){Z.hooks.beforeRender.call(ht),Z.hooks.render.call(ht),Z.hooks.afterRender.call(ht)}),this.hooks.endFrame.call(g),k.renderListCurrentFrame=[],k.renderReasons.clear(),R()}}},{key:"renderDisplayObject",value:function(_,g,R){var Z=this,k=g.renderer.getConfig(),q=k.enableDirtyCheck,at=k.enableCulling;function ht(Vt){var Jt=Vt.renderable,qt=Vt.sortable,Xt=q?Jt.dirty||R.dirtyRectangleRenderingDisabled?Vt:null:Vt,ne=null;Xt&&(ne=at?Z.hooks.cull.call(Xt,Z.context.camera):Xt,ne&&(Z.stats.rendered+=1,R.renderListCurrentFrame.push(ne))),Vt.dirty(!1),qt.renderOrder=Z.zIndexCounter,Z.zIndexCounter+=1,Z.stats.total+=1,qt.dirty&&(Z.sort(Vt,qt),qt.dirty=!1,qt.dirtyChildren=[],qt.dirtyReason=void 0)}for(var Mt=[_];Mt.length>0;){var xt,wt=Mt.pop();ht(wt);for(var Kt=((xt=wt.sortable)===null||xt===void 0||(xt=xt.sorted)===null||xt===void 0?void 0:xt.length)>0?wt.sortable.sorted:wt.childNodes,Nt=Kt.length-1;Nt>=0;Nt--)Mt.push(Kt[Nt])}}},{key:"sort",value:function(_,g){var R,Z;(g==null||(R=g.sorted)===null||R===void 0?void 0:R.length)>0&&g.dirtyReason!==Se.Z_INDEX_CHANGED?g.dirtyChildren.forEach(function(k){var q=g.sorted.indexOf(k);q>-1&&g.sorted.splice(q,1);var at=_.childNodes.indexOf(k);if(at>-1)if(g.sorted.length===0)g.sorted.push(k);else{var ht=so(g.sorted,k);g.sorted.splice(ht,0,k)}}):g.sorted=_.childNodes.slice().sort(ki),((Z=g.sorted)===null||Z===void 0?void 0:Z.length)>0&&_.childNodes.filter(function(k){return k.parsedStyle.zIndex}).length===0&&(g.sorted=[])}},{key:"destroy",value:function(){this.inited=!1,this.hooks.destroy.call(),this.globalRuntime.sceneGraphService.clearPendingEvents()}},{key:"dirtify",value:function(){this.context.renderingContext.renderReasons.add(Zn.DISPLAY_OBJECT_CHANGED)}}])}(),Ho=/\[\s*(.*)=(.*)\s*\]/,Yo=function(){function A(){(0,D.Z)(this,A)}return(0,p.Z)(A,[{key:"selectOne",value:function(_,g){var R=this;if(_.startsWith("."))return g.find(function(at){return((at==null?void 0:at.classList)||[]).indexOf(R.getIdOrClassname(_))>-1});if(_.startsWith("#"))return g.find(function(at){return at.id===R.getIdOrClassname(_)});if(_.startsWith("[")){var Z=this.getAttribute(_),k=Z.name,q=Z.value;return k?g.find(function(at){return g!==at&&(k==="name"?at.name===q:R.attributeToString(at,k)===q)}):null}return g.find(function(at){return g!==at&&at.nodeName===_})}},{key:"selectAll",value:function(_,g){var R=this;if(_.startsWith("."))return g.findAll(function(at){return g!==at&&((at==null?void 0:at.classList)||[]).indexOf(R.getIdOrClassname(_))>-1});if(_.startsWith("#"))return g.findAll(function(at){return g!==at&&at.id===R.getIdOrClassname(_)});if(_.startsWith("[")){var Z=this.getAttribute(_),k=Z.name,q=Z.value;return k?g.findAll(function(at){return g!==at&&(k==="name"?at.name===q:R.attributeToString(at,k)===q)}):[]}return g.findAll(function(at){return g!==at&&at.nodeName===_})}},{key:"is",value:function(_,g){if(_.startsWith("."))return g.className===this.getIdOrClassname(_);if(_.startsWith("#"))return g.id===this.getIdOrClassname(_);if(_.startsWith("[")){var R=this.getAttribute(_),Z=R.name,k=R.value;return Z==="name"?g.name===k:this.attributeToString(g,Z)===k}return g.nodeName===_}},{key:"getIdOrClassname",value:function(_){return _.substring(1)}},{key:"getAttribute",value:function(_){var g=_.match(Ho),R="",Z="";return g&&g.length>2&&(R=g[1].replace(/"/g,""),Z=g[2].replace(/"/g,"")),{name:R,value:Z}}},{key:"attributeToString",value:function(_,g){if(!_.getAttribute)return"";var R=_.getAttribute(g);return(0,e.Z)(R)?"":R.toString?R.toString():""}}])}(),Xe=function(A){return A.ATTR_MODIFIED="DOMAttrModified",A.INSERTED="DOMNodeInserted",A.MOUNTED="DOMNodeInsertedIntoDocument",A.REMOVED="removed",A.UNMOUNTED="DOMNodeRemovedFromDocument",A.REPARENT="reparent",A.DESTROY="destroy",A.BOUNDS_CHANGED="bounds-changed",A.CULLED="culled",A}({}),En=function(A){function L(_,g,R,Z,k,q,at,ht){var Mt;return(0,D.Z)(this,L),Mt=(0,m.Z)(this,L,[null]),Mt.relatedNode=g,Mt.prevValue=R,Mt.newValue=Z,Mt.attrName=k,Mt.attrChange=q,Mt.prevParsedValue=at,Mt.newParsedValue=ht,Mt.type=_,Mt}return(0,c.Z)(L,A),(0,p.Z)(L)}(or);En.ADDITION=2,En.MODIFICATION=1,En.REMOVAL=3;var $o=new En(Xe.REPARENT,null,"","","",0,"",""),Xo=f.Ue(),ur=a.Ue(),Jo=a.al(1,1,1),Qo=s.create(),qo=f.Ue(),Cn=a.Ue(),tl=s.create(),bn=d.Ue(),el=a.Ue(),nl=d.Ue(),rl=a.Ue(),Fn=a.Ue(),xn=a.Ue(),cr=s.create(),ea=d.Ue(),na=d.Ue(),dr=d.Ue(),fr={affectChildren:!0},il=function(){function A(L){(0,D.Z)(this,A),this.pendingEvents=new Map,this.boundsChangedEvent=new qe(Xe.BOUNDS_CHANGED),this.displayObjectDependencyMap=new WeakMap,this.runtime=L}return(0,p.Z)(A,[{key:"matches",value:function(_,g){return this.runtime.sceneGraphSelector.is(_,g)}},{key:"querySelector",value:function(_,g){return this.runtime.sceneGraphSelector.selectOne(_,g)}},{key:"querySelectorAll",value:function(_,g){return this.runtime.sceneGraphSelector.selectAll(_,g)}},{key:"attach",value:function(_,g,R){var Z,k=!1;_.parentNode&&(k=_.parentNode!==g,this.detach(_));var q=_.nodeName===et.FRAGMENT,at=sr(g);_.parentNode=g;var ht=q?_.childNodes:[_];(0,y.Z)(R)?ht.forEach(function(Vt){g.childNodes.splice(R,0,Vt),Vt.parentNode=g}):ht.forEach(function(Vt){g.childNodes.push(Vt),Vt.parentNode=g});var Mt=g,xt=Mt.sortable;if((xt!=null&&(Z=xt.sorted)!==null&&Z!==void 0&&Z.length||xt.dirty||_.parsedStyle.zIndex)&&(xt.dirtyChildren.indexOf(_)===-1&&xt.dirtyChildren.push(_),xt.dirty=!0,xt.dirtyReason=Se.ADDED),!at){if(q)this.dirtifyFragment(_);else{var wt=_.transformable;wt&&this.dirtyWorldTransform(_,wt)}if(k){var Kt,Nt=((Kt=g.ownerDocument)===null||Kt===void 0||(Kt=Kt.defaultView)===null||Kt===void 0||(Kt=Kt.getConfig())===null||Kt===void 0||(Kt=Kt.future)===null||Kt===void 0?void 0:Kt.experimentalCancelEventPropagation)===!0;_.dispatchEvent($o,Nt,Nt)}}}},{key:"detach",value:function(_){var g,R;if(_.parentNode){var Z=_.transformable,k=_.parentNode,q=k.sortable;(q!=null&&(g=q.sorted)!==null&&g!==void 0&&g.length||(R=_.style)!==null&&R!==void 0&&R.zIndex)&&(q.dirtyChildren.indexOf(_)===-1&&q.dirtyChildren.push(_),q.dirty=!0,q.dirtyReason=Se.REMOVED);var at=_.parentNode.childNodes.indexOf(_);at>-1&&_.parentNode.childNodes.splice(at,1),Z&&this.dirtyWorldTransform(_,Z),_.parentNode=null}}},{key:"getLocalPosition",value:function(_){return _.transformable.localPosition}},{key:"getLocalRotation",value:function(_){return _.transformable.localRotation}},{key:"getLocalScale",value:function(_){return _.transformable.localScale}},{key:"getLocalSkew",value:function(_){return _.transformable.localSkew}},{key:"getLocalTransform",value:function(_){var g=_.transformable;return Fe(g),g.localTransform}},{key:"setLocalPosition",value:function(_,g){var R,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,k=_.transformable;Fn[0]=g[0],Fn[1]=g[1],Fn[2]=(R=g[2])!==null&&R!==void 0?R:0,!a.fS(k.localPosition,Fn)&&(a.JG(k.localPosition,Fn),Z&&this.dirtyLocalTransform(_,k))}},{key:"translateLocal",value:function(_,g){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof g=="number"&&(g=a.al(g,R,Z));var k=_.transformable;a.fS(g,ur)||(a.VC(g,g,k.localRotation),a.IH(k.localPosition,k.localPosition,g),this.dirtyLocalTransform(_,k))}},{key:"setLocalRotation",value:function(_,g,R,Z,k){var q=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;typeof g=="number"&&(g=d.t8(bn,g,R,Z,k));var at=_.transformable;d.JG(at.localRotation,g),q&&this.dirtyLocalTransform(_,at)}},{key:"rotateLocal",value:function(_,g){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof g=="number"&&(g=a.al(g,R,Z));var k=_.transformable;d.Su(na,g[0],g[1],g[2]),d.dC(k.localRotation,k.localRotation,na),this.dirtyLocalTransform(_,k)}},{key:"setLocalScale",value:function(_,g){var R,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,k=_.transformable;a.t8(Cn,g[0],g[1],(R=g[2])!==null&&R!==void 0?R:k.localScale[2]),!a.fS(Cn,k.localScale)&&(a.JG(k.localScale,Cn),Z&&this.dirtyLocalTransform(_,k))}},{key:"scaleLocal",value:function(_,g){var R,Z=_.transformable;a.Jp(Z.localScale,Z.localScale,a.t8(Cn,g[0],g[1],(R=g[2])!==null&&R!==void 0?R:1)),this.dirtyLocalTransform(_,Z)}},{key:"setLocalSkew",value:function(_,g,R){var Z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;typeof g=="number"&&(g=f.t8(qo,g,R));var k=_.transformable;f.JG(k.localSkew,g),Z&&this.dirtyLocalTransform(_,k)}},{key:"setLocalEulerAngles",value:function(_,g){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,k=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;typeof g=="number"&&(g=a.al(g,R,Z));var q=_.transformable;d.Su(q.localRotation,g[0],g[1],g[2]),k&&this.dirtyLocalTransform(_,q)}},{key:"setLocalTransform",value:function(_,g){var R=s.getTranslation(el,g),Z=s.getRotation(nl,g),k=s.getScaling(rl,g);this.setLocalScale(_,k,!1),this.setLocalPosition(_,R,!1),this.setLocalRotation(_,Z,void 0,void 0,void 0,!1),this.dirtyLocalTransform(_,_.transformable)}},{key:"resetLocalTransform",value:function(_){this.setLocalScale(_,Jo,!1),this.setLocalPosition(_,ur,!1),this.setLocalEulerAngles(_,ur,void 0,void 0,!1),this.setLocalSkew(_,Xo,void 0,!1),this.dirtyLocalTransform(_,_.transformable)}},{key:"getPosition",value:function(_){var g=_.transformable;return s.getTranslation(g.position,this.getWorldTransform(_,g))}},{key:"getRotation",value:function(_){var g=_.transformable;return s.getRotation(g.rotation,this.getWorldTransform(_,g))}},{key:"getScale",value:function(_){var g=_.transformable;return s.getScaling(g.scaling,this.getWorldTransform(_,g))}},{key:"getOrigin",value:function(_){return _.getGeometryBounds(),_.transformable.origin}},{key:"getWorldTransform",value:function(_){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_.transformable;return!g.localDirtyFlag&&!g.dirtyFlag||(_.parentNode&&_.parentNode.transformable&&this.getWorldTransform(_.parentNode),this.internalUpdateTransform(_)),g.worldTransform}},{key:"setPosition",value:function(_,g){var R,Z=_.transformable;if(xn[0]=g[0],xn[1]=g[1],xn[2]=(R=g[2])!==null&&R!==void 0?R:0,!a.fS(this.getPosition(_),xn)){if(a.JG(Z.position,xn),_.parentNode===null||!_.parentNode.transformable)a.JG(Z.localPosition,xn);else{var k=_.parentNode.transformable;s.copy(cr,k.worldTransform),s.invert(cr,cr),a.fF(Z.localPosition,xn,cr)}this.dirtyLocalTransform(_,Z)}}},{key:"translate",value:function(_,g){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof g=="number"&&(g=a.t8(Cn,g,R,Z)),!a.fS(g,ur)&&(a.IH(Cn,this.getPosition(_),g),this.setPosition(_,Cn))}},{key:"setRotation",value:function(_,g,R,Z,k){var q=_.transformable;if(typeof g=="number"&&(g=d.al(g,R,Z,k)),_.parentNode===null||!_.parentNode.transformable)this.setLocalRotation(_,g);else{var at=this.getRotation(_.parentNode);d.JG(bn,at),d.U_(bn,bn),d.Jp(q.localRotation,bn,g),d.Fv(q.localRotation,q.localRotation),this.dirtyLocalTransform(_,q)}}},{key:"rotate",value:function(_,g){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof g=="number"&&(g=a.al(g,R,Z));var k=_.transformable;if(_.parentNode===null||!_.parentNode.transformable)this.rotateLocal(_,g);else{var q=bn;d.Su(q,g[0],g[1],g[2]);var at=this.getRotation(_),ht=this.getRotation(_.parentNode);d.JG(dr,ht),d.U_(dr,dr),d.Jp(q,dr,q),d.Jp(k.localRotation,q,at),d.Fv(k.localRotation,k.localRotation),this.dirtyLocalTransform(_,k)}}},{key:"setOrigin",value:function(_,g){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof g=="number"&&(g=[g,R,Z]);var k=_.transformable;if(!(g[0]===k.origin[0]&&g[1]===k.origin[1]&&g[2]===k.origin[2])){var q=k.origin;q[0]=g[0],q[1]=g[1],q[2]=g[2]||0,this.dirtyLocalTransform(_,k)}}},{key:"setEulerAngles",value:function(_,g){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof g=="number"&&(g=a.al(g,R,Z));var k=_.transformable;if(_.parentNode===null||!_.parentNode.transformable)this.setLocalEulerAngles(_,g);else{d.Su(k.localRotation,g[0],g[1],g[2]);var q=this.getRotation(_.parentNode);d.JG(ea,d.U_(bn,q)),d.dC(k.localRotation,k.localRotation,ea),this.dirtyLocalTransform(_,k)}}},{key:"getTransformedGeometryBounds",value:function(_){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,R=arguments.length>2?arguments[2]:void 0,Z=this.getGeometryBounds(_,g);if(!bt.isEmpty(Z)){var k=R||new bt;return k.setFromTransformedAABB(Z,this.getWorldTransform(_)),k}return null}},{key:"getGeometryBounds",value:function(_){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,R=_,Z=R.geometry;Z.dirty&&ie.styleValueRegistry.updateGeometry(_);var k=g?Z.renderBounds:Z.contentBounds||null;return k||new bt}},{key:"getBounds",value:function(_){var g=this,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Z=_,k=Z.renderable;if(!k.boundsDirty&&!R&&k.bounds)return k.bounds;if(!k.renderBoundsDirty&&R&&k.renderBounds)return k.renderBounds;var q=R?k.renderBounds:k.bounds,at=this.getTransformedGeometryBounds(_,R,q),ht=_.childNodes;if(ht.forEach(function(wt){var Kt=g.getBounds(wt,R);Kt&&(at?at.add(Kt):(at=q||new bt,at.update(Kt.center,Kt.halfExtents)))}),at||(at=new bt),R){var Mt=Zi(_);if(Mt){var xt=Mt.parsedStyle.clipPath.getBounds(R);at?xt&&(at=xt.intersection(at)):at.update(xt.center,xt.halfExtents)}}return R?(k.renderBounds=at,k.renderBoundsDirty=!1):(k.bounds=at,k.boundsDirty=!1),at}},{key:"getLocalBounds",value:function(_){if(_.parentNode){var g=Qo;_.parentNode.transformable&&(g=s.invert(tl,this.getWorldTransform(_.parentNode)));var R=this.getBounds(_);if(!bt.isEmpty(R)){var Z=new bt;return Z.setFromTransformedAABB(R,g),Z}}return this.getBounds(_)}},{key:"getBoundingClientRect",value:function(_){var g,R,Z=this.getGeometryBounds(_);bt.isEmpty(Z)||(R=new bt,R.setFromTransformedAABB(Z,this.getWorldTransform(_)));var k=(g=_.ownerDocument)===null||g===void 0||(g=g.defaultView)===null||g===void 0?void 0:g.getContextService().getBoundingClientRect();if(R){var q=R.getMin(),at=(0,h.Z)(q,2),ht=at[0],Mt=at[1],xt=R.getMax(),wt=(0,h.Z)(xt,2),Kt=wt[0],Nt=wt[1];return new ct(ht+((k==null?void 0:k.left)||0),Mt+((k==null?void 0:k.top)||0),Kt-ht,Nt-Mt)}return new ct((k==null?void 0:k.left)||0,(k==null?void 0:k.top)||0,0,0)}},{key:"internalUpdateTransform",value:function(_){var g,R=(g=_.parentNode)===null||g===void 0?void 0:g.transformable;Fe(_.transformable),rn(_.transformable,R)}},{key:"internalUpdateElement",value:function(_,g){var R,Z,k,q,at=((R=_.ownerDocument)===null||R===void 0||(R=R.defaultView)===null||R===void 0||(R=R.getConfig())===null||R===void 0||(R=R.future)===null||R===void 0?void 0:R.experimentalAttributeUpdateOptimization)===!0,ht=g[g.length-1],Mt=(ht==null?void 0:ht.transformDirty)||((Z=_.transformable)===null||Z===void 0?void 0:Z.localDirtyFlag);if(_.transformable){var xt;(xt=_.transformable).dirtyFlag||(xt.dirtyFlag=Mt)}if(this.internalUpdateTransform(_),Mt){var wt;(wt=_.dirty)===null||wt===void 0||wt.call(_,!0,!0)}var Kt=((k=_.renderable)===null||k===void 0?void 0:k.boundsDirty)||((q=_.renderable)===null||q===void 0?void 0:q.renderBoundsDirty);if((Mt||Kt)&&(ht==null?void 0:ht.shapeUpdated)===!1&&at)for(var Nt=g.length-1;Nt>=0;){var Vt,Jt,qt=g[Nt];if(qt.shapeUpdated)break;(Vt=(Jt=qt.node).dirty)===null||Vt===void 0||Vt.call(Jt,!0,!0),qt.shapeUpdated=!0,Nt-=1}return Mt}},{key:"syncHierarchy",value:function(_){for(var g,R,Z=[_],k=_.parentNode?[{node:_.parentNode,transformDirty:((g=_.parentNode.transformable)===null||g===void 0?void 0:g.localDirtyFlag)||((R=_.parentNode.transformable)===null||R===void 0?void 0:R.dirtyFlag),shapeUpdated:!1}]:[];Z.length>0;){for(var q=Z.pop(),at=k[k.length-1];k.length>0&&q.parentNode!==at.node;)at=k.pop();var ht=this.internalUpdateElement(q,k);if(q.childNodes.length>0){for(var Mt=q.childNodes.length-1;Mt>=0;Mt--)Z.push(q.childNodes[Mt]);k.push({node:q,transformDirty:ht,shapeUpdated:!1})}}}},{key:"dirtyLocalTransform",value:function(_,g){sr(_)||g.localDirtyFlag||(g.localDirtyFlag=!0,g.dirtyFlag||this.dirtyWorldTransform(_,g))}},{key:"dirtyWorldTransform",value:function(_,g){this.dirtifyWorldInternal(_,g),this.dirtyToRoot(_,!0)}},{key:"dirtifyWorldInternal",value:function(_,g){var R,Z=this,k=((R=_.ownerDocument)===null||R===void 0||(R=R.defaultView)===null||R===void 0||(R=R.getConfig())===null||R===void 0||(R=R.future)===null||R===void 0?void 0:R.experimentalAttributeUpdateOptimization)===!0;g.dirtyFlag||(g.dirtyFlag=!0,_.dirty(!0,!0),k||_.childNodes.forEach(function(q){var at=q.transformable;Z.dirtifyWorldInternal(q,at)}))}},{key:"dirtyToRoot",value:function(_){for(var g,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Z=_,k=((g=_.ownerDocument)===null||g===void 0||(g=g.defaultView)===null||g===void 0||(g=g.getConfig())===null||g===void 0||(g=g.future)===null||g===void 0?void 0:g.experimentalAttributeUpdateOptimization)===!0;Z;){var q,at;if((q=(at=Z).dirty)===null||q===void 0||q.call(at,!0,!0),k)break;Z=Z.parentNode}R&&_.forEach(function(ht){var Mt;(Mt=ht.dirty)===null||Mt===void 0||Mt.call(ht,!0,!0)}),this.informDependentDisplayObjects(_),this.pendingEvents.set(_,R)}},{key:"dirtifyFragment",value:function(_){var g,R,Z=_.transformable;Z&&(Z.dirtyFlag=!0,Z.localDirtyFlag=!0),(g=(R=_).dirty)===null||g===void 0||g.call(R,!0,!0);for(var k=_.childNodes.length,q=0;q<k;q++)this.dirtifyFragment(_.childNodes[q]);_.nodeName===et.FRAGMENT&&this.pendingEvents.set(_,!1)}},{key:"triggerPendingEvents",value:function(){var _=this,g=new Set,R,Z,k=function(at,ht){if(!(!at.isConnected||g.has(at)||at.nodeName===et.FRAGMENT)){if(_.boundsChangedEvent.detail=ht,_.boundsChangedEvent.target=at,at.isMutationObserved)at.dispatchEvent(_.boundsChangedEvent);else{if(R===void 0){var Mt;R=((Mt=at.ownerDocument.defaultView)===null||Mt===void 0||(Mt=Mt.getConfig())===null||Mt===void 0||(Mt=Mt.future)===null||Mt===void 0?void 0:Mt.experimentalCancelEventPropagation)===!0}at.ownerDocument.defaultView.dispatchEvent(_.boundsChangedEvent,!0,R)}g.add(at)}};this.pendingEvents.forEach(function(q,at){if(at.nodeName!==et.FRAGMENT){if(Z===void 0){var ht;Z=((ht=at.ownerDocument)===null||ht===void 0||(ht=ht.defaultView)===null||ht===void 0||(ht=ht.getConfig())===null||ht===void 0||(ht=ht.future)===null||ht===void 0?void 0:ht.experimentalAttributeUpdateOptimization)===!0}fr.affectChildren=q,Z?k(at,fr):q?at.forEach(function(Mt){k(Mt,fr)}):k(at,fr)}}),g.clear(),this.clearPendingEvents()}},{key:"clearPendingEvents",value:function(){this.pendingEvents.clear()}},{key:"updateDisplayObjectDependency",value:function(_,g,R,Z){if(g&&g!==R){var k=this.displayObjectDependencyMap.get(g);if(k&&k[_]){var q=k[_].indexOf(Z);k[_].splice(q,1)}}if(R){var at=this.displayObjectDependencyMap.get(R);at||(this.displayObjectDependencyMap.set(R,{}),at=this.displayObjectDependencyMap.get(R)),at[_]||(at[_]=[]),at[_].push(Z)}}},{key:"informDependentDisplayObjects",value:function(_){var g,R=this,Z=this.displayObjectDependencyMap.get(_);if(Z){var k=(g=_.ownerDocument)===null||g===void 0||(g=g.defaultView)===null||g===void 0||(g=g.getConfig())===null||g===void 0||(g=g.future)===null||g===void 0?void 0:g.experimentalCancelEventPropagation;Object.keys(Z).forEach(function(q){Z[q].forEach(function(at){R.dirtyToRoot(at,!0),at.dispatchEvent(new En(Xe.ATTR_MODIFIED,at,R,R,q,En.MODIFICATION,R,R),k,k),at.isCustomElement&&at.isConnected&&at.attributeChangedCallback&&at.attributeChangedCallback(q,R,R)})})}}}])}(),ra=function(){function A(L){if((0,D.Z)(this,A),L<=0)throw new Error("LRU capacity must be a positive number.");this.capacity=L,this.cache=new Map}return(0,p.Z)(A,[{key:"get",value:function(_){if(this.cache.has(_)){var g=this.cache.get(_);return this.cache.delete(_),this.cache.set(_,g),g}}},{key:"put",value:function(_,g){if(this.cache.has(_)&&this.cache.delete(_),this.cache.set(_,g),this.cache.size>this.capacity){var R=this.cache.keys().next().value;this.cache.delete(R)}}},{key:"len",value:function(){return this.cache.size}},{key:"clear",value:function(){this.cache.clear()}}])}(),An={MetricsString:"|\xC9q\xC5",BaselineSymbol:"M",BaselineMultiplier:1.4,HeightMultiplier:2,Newlines:[10,13],BreakingSpaces:[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},ia=/[a-zA-Z0-9\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff!"#$%&'()*+,-./:;]/,al=/[!%),.:;?\]}'""]/,sl=/[$('"]/,ol=/[!),.:;?\]}'""]/,ll=/[([{'"]/,ul=/[)\]'"?!:;,.]/,cl=/[(['"...]/,dl=/[!%),.:;?\]}'"]/,fl=/[$([{'"#]/,hl=new RegExp("".concat(al.source,"|").concat(ol.source,"|").concat(ul.source,"|").concat(dl.source)),vl=new RegExp("".concat(sl.source,"|").concat(ll.source,"|").concat(cl.source,"|").concat(fl.source)),_l=function(){function A(L){var _=this;(0,D.Z)(this,A),this.fontMetricsCache={},this.shouldBreakByKinsokuShorui=function(g,R){return _.isBreakingSpace(R)?!1:!!(g&&(vl.exec(R)||hl.exec(g)))},this.trimByKinsokuShorui=function(g){var R=(0,M.Z)(g),Z=R[R.length-2];if(!Z)return g;var k=Z[Z.length-1];return R[R.length-2]=Z.slice(0,-1),R[R.length-1]=k+R[R.length-1],R},this.runtime=L,this.charWidthCache=new ra(100)}return(0,p.Z)(A,[{key:"measureFont",value:function(_,g){if(this.fontMetricsCache[_])return this.fontMetricsCache[_];var R={ascent:0,descent:0,fontSize:0},Z=this.runtime.offscreenCanvasCreator.getOrCreateCanvas(g),k=this.runtime.offscreenCanvasCreator.getOrCreateContext(g,{willReadFrequently:!0});k.font=_;var q=An.MetricsString+An.BaselineSymbol,at=Math.ceil(k.measureText(q).width),ht=Math.ceil(k.measureText(An.BaselineSymbol).width),Mt=An.HeightMultiplier*ht;ht=ht*An.BaselineMultiplier|0,Z.width=at,Z.height=Mt,k.fillStyle="#f00",k.fillRect(0,0,at,Mt),k.font=_,k.textBaseline="alphabetic",k.fillStyle="#000",k.fillText(q,0,ht);var xt=k.getImageData(0,0,at||1,Mt||1).data,wt=xt.length,Kt=at*4,Nt=0,Vt=0,Jt=!1;for(Nt=0;Nt<ht;++Nt){for(var qt=0;qt<Kt;qt+=4)if(xt[Vt+qt]!==255){Jt=!0;break}if(!Jt)Vt+=Kt;else break}for(R.ascent=ht-Nt,Vt=wt-Kt,Jt=!1,Nt=Mt;Nt>ht;--Nt){for(var Xt=0;Xt<Kt;Xt+=4)if(xt[Vt+Xt]!==255){Jt=!0;break}if(!Jt)Vt-=Kt;else break}return R.descent=Nt-ht,R.fontSize=R.ascent+R.descent,this.fontMetricsCache[_]=R,R}},{key:"measureText",value:function(_,g,R){var Z=g.fontSize,k=Z===void 0?16:Z,q=g.wordWrap,at=q===void 0?!1:q,ht=g.lineHeight,Mt=g.lineWidth,xt=Mt===void 0?1:Mt,wt=g.textBaseline,Kt=wt===void 0?"alphabetic":wt,Nt=g.textAlign,Vt=Nt===void 0?"start":Nt,Jt=g.letterSpacing,qt=Jt===void 0?0:Jt,Xt=g.textPath;g.textPathSide,g.textPathStartOffset;var ne=g.leading,ge=ne===void 0?0:ne,Ht=$i(g),kt=this.measureFont(Ht,R);kt.fontSize===0&&(kt.fontSize=k,kt.ascent=k);var Ft=this.runtime.offscreenCanvasCreator.getOrCreateContext(R);Ft.font=Ht,g.isOverflowing=!1;var $t=at?this.wordWrap(_,g,R):_,ue=$t.split(/(?:\r\n|\r|\n)/),se=new Array(ue.length),fe=0;if(Xt){Xt.getTotalLength();for(var ce=0;ce<ue.length;ce++)Ft.measureText(ue[ce]).width+(ue[ce].length-1)*qt}else{for(var Me=0;Me<ue.length;Me++){var De=Ft.measureText(ue[Me]).width+(ue[Me].length-1)*qt;se[Me]=De,fe=Math.max(fe,De)}var xe=fe+xt,Le=ht||kt.fontSize+xt,Ee=Math.max(Le,kt.fontSize+xt)+(ue.length-1)*(Le+ge);Le+=ge;var Te=0;return Kt==="middle"?Te=-Ee/2:Kt==="bottom"||Kt==="alphabetic"||Kt==="ideographic"?Te=-Ee:(Kt==="top"||Kt==="hanging")&&(Te=0),{font:Ht,width:xe,height:Ee,lines:ue,lineWidths:se,lineHeight:Le,maxLineWidth:fe,fontProperties:kt,lineMetrics:se.map(function(Ce,He){var Je=0;return Vt==="center"||Vt==="middle"?Je-=Ce/2:(Vt==="right"||Vt==="end")&&(Je-=Ce),new ct(Je-xt/2,Te+He*Le,Ce+xt,Le)})}}}},{key:"wordWrap",value:function(_,g,R){var Z=this,k=Array.from(_);if(k.length===0)return"";var q=this,at=g.wordWrapWidth,ht=at===void 0?0:at,Mt=g.letterSpacing,xt=Mt===void 0?0:Mt,wt=g.maxLines,Kt=wt===void 0?1/0:wt,Nt=g.textOverflow,Vt=this.runtime.offscreenCanvasCreator.getOrCreateContext(R),Jt=ht+xt,qt="";Nt==="ellipsis"?qt="...":Nt&&Nt!=="clip"&&(qt=Nt);var Xt=[""],ne=0,ge=0,Ht=-1,kt=$i(g),Ft=this.charWidthCache.get(kt);Ft||(Ft=new ra(500),this.charWidthCache.put(kt,Ft));var $t=function(Ce){return Z.getFromCache(Ce,xt,Ft,Vt)},ue=$t(qt);function se(Te,Ce,He,Je){for(;$t(Te)<Je&&Ce<k.length-1&&!q.isNewline(k[Ce+1]);)Ce+=1,Te+=k[Ce];for(;$t(Te)>Je&&Ce>=He;)Ce-=1,Te=Te.slice(0,-1);return{lineTxt:Te,txtLastCharIndex:Ce}}function fe(Te,Ce){if(!(ue<=0||ue>Jt)){if(!Xt[Te]){Xt[Te]=qt;return}var He=se(Xt[Te],Ce,Ht+1,Jt-ue);Xt[Te]=He.lineTxt+qt}}for(var ce=0;ce<k.length;ce++){var Me=k[ce],De=k[ce-1],xe=k[ce+1],Le=$t(Me);if(this.isNewline(Me)){if(ne+1>=Kt){ce<k.length-1&&fe(ne,ce-1),g.isOverflowing=!0;break}Ht=ce-1,ne+=1,ge=0,Xt[ne]="";continue}if(Le>Jt){fe(ne,ce-1),g.isOverflowing=!0;break}if(ge>0&&ge+Le>Jt){var Ee=se(Xt[ne],ce-1,Ht+1,Jt);if(Ee.txtLastCharIndex!==ce-1){if(Xt[ne]=Ee.lineTxt,Ee.txtLastCharIndex===k.length-1)break;ce=Ee.txtLastCharIndex+1,Me=k[ce],De=k[ce-1],xe=k[ce+1],Le=$t(Me)}if(ne+1>=Kt){fe(ne,ce-1),g.isOverflowing=!0;break}if(Ht=ce-1,ne+=1,ge=0,Xt[ne]="",this.isBreakingSpace(Me))continue;this.canBreakInLastChar(Me)||(Xt=this.trimToBreakable(Xt),ge=this.sumTextWidthByCache(Xt[ne]||"",$t)),this.shouldBreakByKinsokuShorui(Me,xe)&&(Xt=this.trimByKinsokuShorui(Xt),ge+=$t(De||""))}ge+=Le,Xt[ne]+=Me}return Xt.join(`
`)}},{key:"isBreakingSpace",value:function(_){return typeof _!="string"?!1:An.BreakingSpaces.indexOf(_.charCodeAt(0))>=0}},{key:"isNewline",value:function(_){return typeof _!="string"?!1:An.Newlines.indexOf(_.charCodeAt(0))>=0}},{key:"trimToBreakable",value:function(_){var g=(0,M.Z)(_),R=g[g.length-2],Z=this.findBreakableIndex(R);if(Z===-1||!R)return g;var k=R.slice(Z,Z+1),q=this.isBreakingSpace(k),at=Z+1,ht=Z+(q?0:1);return g[g.length-1]+=R.slice(at,R.length),g[g.length-2]=R.slice(0,ht),g}},{key:"canBreakInLastChar",value:function(_){return!(_&&ia.test(_))}},{key:"sumTextWidthByCache",value:function(_,g){return _.split("").reduce(function(R,Z){return R+g(Z)},0)}},{key:"findBreakableIndex",value:function(_){for(var g=_.length-1;g>=0;g--)if(!ia.test(_[g]))return g;return-1}},{key:"getFromCache",value:function(_,g,R,Z){var k=R.get(_);if(typeof k!="number"){var q=_.length*g,at=Z.measureText(_);k=at.width+q,R.put(_,k)}return k}},{key:"clearCache",value:function(){this.fontMetricsCache={},this.charWidthCache.clear()}}])}(),ie={},gl=function(A){var L=new ko,_=new Ko;return A={},(0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)(A,et.FRAGMENT,null),et.CIRCLE,new wo),et.ELLIPSE,new Wo),et.RECT,L),et.IMAGE,L),et.GROUP,new Fo),et.LINE,new Uo),et.TEXT,new Zo(ie)),et.POLYLINE,_),et.POLYGON,_),(0,V.Z)((0,V.Z)((0,V.Z)(A,et.PATH,new No),et.HTML,new zo),et.MESH,null)}(),pl=function(A){var L=new Vs,_=new wr;return A={},(0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)(A,le.PERCENTAGE,null),le.NUMBER,new Xs),le.ANGLE,new zs),le.DEFINED_PATH,new js),le.PAINT,L),le.COLOR,L),le.FILTER,new Gs),le.LENGTH,_),le.LENGTH_PERCENTAGE,_),le.LENGTH_PERCENTAGE_12,new Hs),(0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)(A,le.LENGTH_PERCENTAGE_14,new Ys),le.COORDINATE,new wr),le.OFFSET_DISTANCE,new Js),le.OPACITY_VALUE,new Qs),le.PATH,new qs),le.LIST_OF_POINTS,new to),le.SHADOW_BLUR,new eo),le.TEXT,new no),le.TEXT_TRANSFORM,new ro),le.TRANSFORM,new Io),(0,V.Z)((0,V.Z)((0,V.Z)(A,le.TRANSFORM_ORIGIN,new So),le.Z_INDEX,new Bo),le.MARKER,new $s)}(),El=function(){return typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof t.g!="undefined"?t.g:{}};ie.CameraContribution=Pe,ie.AnimationTimeline=null,ie.EasingFunction=null,ie.offscreenCanvasCreator=new ta,ie.sceneGraphSelector=new Yo,ie.sceneGraphService=new il(ie),ie.textService=new _l(ie),ie.geometryUpdaterFactory=gl,ie.CSSPropertySyntaxFactory=pl,ie.styleValueRegistry=new Zs(ie),ie.layoutRegistry=null,ie.globalThis=El(),ie.enableStyleSyntax=!0,ie.enableSizeAttenuation=!1;var aa=0;function Jl(){aa=0}var zr=new En(Xe.INSERTED,null,"","","",0,"",""),jr=new En(Xe.REMOVED,null,"","","",0,"",""),sa=new qe(Xe.DESTROY),ml=function(A){function L(){var _;(0,D.Z)(this,L);for(var g=arguments.length,R=new Array(g),Z=0;Z<g;Z++)R[Z]=arguments[Z];return _=(0,m.Z)(this,L,[].concat(R)),_.entity=aa++,_.transformable={dirtyFlag:!1,localDirtyFlag:!1,localPosition:[0,0,0],localRotation:[0,0,0,1],localScale:[1,1,1],localTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],localSkew:[0,0],position:[0,0,0],rotation:[0,0,0,1],scaling:[1,1,1],worldTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],origin:[0,0,0]},_.renderable={bounds:void 0,boundsDirty:!0,renderBounds:void 0,renderBoundsDirty:!0,dirtyRenderBounds:void 0,dirty:!1},_.geometry={contentBounds:void 0,renderBounds:void 0,dirty:!0},_.cullable={strategy:Re.Standard,visibilityPlaneMask:-1,visible:!0,enable:!0},_.sortable={dirty:!1,sorted:void 0,renderOrder:0,dirtyChildren:[],dirtyReason:void 0},_.rBushNode={aabb:void 0},_.namespaceURI="g",_.scrollLeft=0,_.scrollTop=0,_.clientTop=0,_.clientLeft=0,_.style={},_.computedStyle={},_.parsedStyle={},_.attributes={},_}return(0,c.Z)(L,A),(0,p.Z)(L,[{key:"dirty",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.renderable.dirty=g,R&&(this.renderable.boundsDirty=g,this.renderable.renderBoundsDirty=g)}},{key:"className",get:function(){return this.getAttribute("class")||""},set:function(g){this.setAttribute("class",g)}},{key:"classList",get:function(){return this.className.split(" ").filter(function(g){return g!==""})}},{key:"tagName",get:function(){return this.nodeName}},{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"parentElement",get:function(){return this.parentNode}},{key:"nextSibling",get:function(){if(this.parentNode){var g=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[g+1]||null}return null}},{key:"previousSibling",get:function(){if(this.parentNode){var g=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[g-1]||null}return null}},{key:"cloneNode",value:function(g){throw new Error(vt)}},{key:"appendChild",value:function(g,R){var Z;if(g.destroyed)throw new Error(_t);return ie.sceneGraphService.attach(g,this,R),(Z=this.ownerDocument)!==null&&Z!==void 0&&Z.defaultView&&(!sr(this)&&g.nodeName===et.FRAGMENT?this.ownerDocument.defaultView.mountFragment(g):this.ownerDocument.defaultView.mountChildren(g)),this.isMutationObserved&&(zr.relatedNode=this,g.dispatchEvent(zr)),g}},{key:"insertBefore",value:function(g,R){if(!R)this.appendChild(g);else{g.parentElement&&g.parentElement.removeChild(g);var Z=this.childNodes.indexOf(R);Z===-1?this.appendChild(g):this.appendChild(g,Z)}return g}},{key:"replaceChild",value:function(g,R){var Z=this.childNodes.indexOf(R);return this.removeChild(R),this.appendChild(g,Z),R}},{key:"removeChild",value:function(g){var R,Z,k=((R=this.ownerDocument)===null||R===void 0||(R=R.defaultView)===null||R===void 0||(R=R.getConfig().future)===null||R===void 0?void 0:R.experimentalCancelEventPropagation)===!0;return jr.relatedNode=this,g.dispatchEvent(jr,k,k),(Z=g.ownerDocument)!==null&&Z!==void 0&&Z.defaultView&&g.ownerDocument.defaultView.unmountChildren(g),ie.sceneGraphService.detach(g),g}},{key:"removeChildren",value:function(){for(var g=this.childNodes.length-1;g>=0;g--){var R=this.childNodes[g];this.removeChild(R)}}},{key:"destroyChildren",value:function(){for(var g=this.childNodes.length-1;g>=0;g--){var R=this.childNodes[g];R.childNodes.length>0&&R.destroyChildren(),R.destroy()}}},{key:"matches",value:function(g){return ie.sceneGraphService.matches(g,this)}},{key:"getElementById",value:function(g){return ie.sceneGraphService.querySelector("#".concat(g),this)}},{key:"getElementsByName",value:function(g){return ie.sceneGraphService.querySelectorAll('[name="'.concat(g,'"]'),this)}},{key:"getElementsByClassName",value:function(g){return ie.sceneGraphService.querySelectorAll(".".concat(g),this)}},{key:"getElementsByTagName",value:function(g){return ie.sceneGraphService.querySelectorAll(g,this)}},{key:"querySelector",value:function(g){return ie.sceneGraphService.querySelector(g,this)}},{key:"querySelectorAll",value:function(g){return ie.sceneGraphService.querySelectorAll(g,this)}},{key:"closest",value:function(g){var R=this;do{if(ie.sceneGraphService.matches(g,R))return R;R=R.parentElement}while(R!==null);return null}},{key:"find",value:function(g){var R=this,Z=null;return this.forEach(function(k){return k!==R&&g(k)?(Z=k,!1):!0}),Z}},{key:"findAll",value:function(g){var R=this,Z=[];return this.forEach(function(k){k!==R&&g(k)&&Z.push(k)}),Z}},{key:"after",value:function(){var g=this;if(this.parentNode){for(var R=this.parentNode.childNodes.indexOf(this),Z=arguments.length,k=new Array(Z),q=0;q<Z;q++)k[q]=arguments[q];k.forEach(function(at,ht){var Mt;return(Mt=g.parentNode)===null||Mt===void 0?void 0:Mt.appendChild(at,R+ht+1)})}}},{key:"before",value:function(){if(this.parentNode){for(var g,R=this.parentNode.childNodes.indexOf(this),Z=arguments.length,k=new Array(Z),q=0;q<Z;q++)k[q]=arguments[q];var at=k[0],ht=k.slice(1);this.parentNode.appendChild(at,R),(g=at).after.apply(g,(0,M.Z)(ht))}}},{key:"replaceWith",value:function(){this.after.apply(this,arguments),this.remove()}},{key:"append",value:function(){for(var g=this,R=arguments.length,Z=new Array(R),k=0;k<R;k++)Z[k]=arguments[k];Z.forEach(function(q){return g.appendChild(q)})}},{key:"prepend",value:function(){for(var g=this,R=arguments.length,Z=new Array(R),k=0;k<R;k++)Z[k]=arguments[k];Z.forEach(function(q,at){return g.appendChild(q,at)})}},{key:"replaceChildren",value:function(){for(;this.childNodes.length&&this.firstChild;)this.removeChild(this.firstChild);this.append.apply(this,arguments)}},{key:"remove",value:function(){return this.parentNode?this.parentNode.removeChild(this):this}},{key:"destroy",value:function(){var g,R=((g=this.ownerDocument)===null||g===void 0||(g=g.defaultView)===null||g===void 0||(g=g.getConfig().future)===null||g===void 0?void 0:g.experimentalCancelEventPropagation)===!0;this.destroyChildren(),this.dispatchEvent(sa,R,R),this.remove(),this.emitter.removeAllListeners(),this.destroyed=!0}},{key:"getGeometryBounds",value:function(){return ie.sceneGraphService.getGeometryBounds(this)}},{key:"getRenderBounds",value:function(){return ie.sceneGraphService.getBounds(this,!0)}},{key:"getBounds",value:function(){return ie.sceneGraphService.getBounds(this)}},{key:"getLocalBounds",value:function(){return ie.sceneGraphService.getLocalBounds(this)}},{key:"getBoundingClientRect",value:function(){return ie.sceneGraphService.getBoundingClientRect(this)}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"computedStyleMap",value:function(){return new Map(Object.entries(this.computedStyle))}},{key:"getAttributeNames",value:function(){return Object.keys(this.attributes)}},{key:"getAttribute",value:function(g){if(typeof g!="symbol"){var R=this.attributes[g];return R}}},{key:"hasAttribute",value:function(g){return this.getAttributeNames().includes(g)}},{key:"hasAttributes",value:function(){return!!this.getAttributeNames().length}},{key:"removeAttribute",value:function(g){this.setAttribute(g,null),delete this.attributes[g]}},{key:"setAttribute",value:function(g,R,Z,k){this.attributes[g]=R}},{key:"getAttributeNS",value:function(g,R){throw new Error(vt)}},{key:"getAttributeNode",value:function(g){throw new Error(vt)}},{key:"getAttributeNodeNS",value:function(g,R){throw new Error(vt)}},{key:"hasAttributeNS",value:function(g,R){throw new Error(vt)}},{key:"removeAttributeNS",value:function(g,R){throw new Error(vt)}},{key:"removeAttributeNode",value:function(g){throw new Error(vt)}},{key:"setAttributeNS",value:function(g,R,Z){throw new Error(vt)}},{key:"setAttributeNode",value:function(g){throw new Error(vt)}},{key:"setAttributeNodeNS",value:function(g){throw new Error(vt)}},{key:"toggleAttribute",value:function(g,R){throw new Error(vt)}}])}(ke);function Ue(A){return!!(A!=null&&A.nodeName)}var yl=ie.globalThis.Proxy?ie.globalThis.Proxy:function(){},mn=new En(Xe.ATTR_MODIFIED,null,null,null,null,En.MODIFICATION,null,null),zn=a.Ue(),Ml=d.Ue(),Ze=function(A){function L(_){var g;return(0,D.Z)(this,L),g=(0,m.Z)(this,L),g.isCustomElement=!1,g.isMutationObserved=!1,g.activeAnimations=[],g.config=_,g.id=_.id||"",g.name=_.name||"",(_.className||_.class)&&(g.className=_.className||_.class),g.nodeName=_.type||et.GROUP,_.initialParsedStyle&&Object.assign(g.parsedStyle,_.initialParsedStyle),g.initAttributes(_.style),ie.enableStyleSyntax&&(g.style=new yl({setProperty:function(Z,k){g.setAttribute(Z,k)},getPropertyValue:function(Z){return g.getAttribute(Z)},removeProperty:function(Z){g.removeAttribute(Z)},item:function(){return""}},{get:function(Z,k){return Z[k]!==void 0?Z[k]:g.getAttribute(k)},set:function(Z,k,q){return g.setAttribute(k,q),!0}})),g}return(0,c.Z)(L,A),(0,p.Z)(L,[{key:"destroy",value:function(){(0,X.Z)(L,"destroy",this,3)([]),this.getAnimations().forEach(function(g){g.cancel()})}},{key:"cloneNode",value:function(g,R){var Z=(0,u.Z)({},this.attributes);for(var k in Z){var q=Z[k];Ue(q)&&k!=="clipPath"&&k!=="offsetPath"&&k!=="textPath"&&(Z[k]=q.cloneNode(g)),R&&(Z[k]=R(k,q))}var at=new this.constructor((0,u.Z)((0,u.Z)({},this.config),{},{style:Z}));return at.setLocalTransform(this.getLocalTransform()),g&&this.children.forEach(function(ht){if(!ht.style.isMarker){var Mt=ht.cloneNode(g);at.appendChild(Mt)}}),at}},{key:"initAttributes",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R={forceUpdateGeometry:!0};ie.styleValueRegistry.processProperties(this,g,R),this.dirty()}},{key:"setAttribute",value:function(g,R){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;(0,j.Z)(R)||(Z||R!==this.attributes[g])&&(this.internalSetAttribute(g,R,{memoize:k}),(0,X.Z)(L,"setAttribute",this,3)([g,R]))}},{key:"internalSetAttribute",value:function(g,R){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},k=this.attributes[g],q=this.parsedStyle[g];ie.styleValueRegistry.processProperties(this,(0,V.Z)({},g,R),Z),this.dirty();var at=this.parsedStyle[g];if(this.isConnected)if(mn.relatedNode=this,mn.prevValue=k,mn.newValue=R,mn.attrName=g,mn.prevParsedValue=q,mn.newParsedValue=at,this.isMutationObserved)this.dispatchEvent(mn);else{var ht,Mt=((ht=this.ownerDocument.defaultView.getConfig().future)===null||ht===void 0?void 0:ht.experimentalCancelEventPropagation)===!0;mn.target=this,this.ownerDocument.defaultView.dispatchEvent(mn,!0,Mt)}if(this.isCustomElement&&this.isConnected||!this.isCustomElement){var xt,wt;(xt=(wt=this).attributeChangedCallback)===null||xt===void 0||xt.call(wt,g,k,R,q,at)}}},{key:"getBBox",value:function(){var g=this.getBounds(),R=g.getMin(),Z=(0,h.Z)(R,2),k=Z[0],q=Z[1],at=g.getMax(),ht=(0,h.Z)(at,2),Mt=ht[0],xt=ht[1];return new ct(k,q,Mt-k,xt-q)}},{key:"setOrigin",value:function(g){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return ie.sceneGraphService.setOrigin(this,Pt(g,R,Z,!1)),this}},{key:"getOrigin",value:function(){return ie.sceneGraphService.getOrigin(this)}},{key:"setPosition",value:function(g){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return ie.sceneGraphService.setPosition(this,Pt(g,R,Z,!1)),this}},{key:"setLocalPosition",value:function(g){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return ie.sceneGraphService.setLocalPosition(this,Pt(g,R,Z,!1)),this}},{key:"translate",value:function(g){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return ie.sceneGraphService.translate(this,Pt(g,R,Z,!1)),this}},{key:"translateLocal",value:function(g){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return ie.sceneGraphService.translateLocal(this,Pt(g,R,Z,!1)),this}},{key:"getPosition",value:function(){return ie.sceneGraphService.getPosition(this)}},{key:"getLocalPosition",value:function(){return ie.sceneGraphService.getLocalPosition(this)}},{key:"scale",value:function(g,R,Z){return this.scaleLocal(g,R,Z)}},{key:"scaleLocal",value:function(g,R,Z){return typeof g=="number"&&(R=R||g,Z=Z||g,g=Pt(g,R,Z,!1)),ie.sceneGraphService.scaleLocal(this,g),this}},{key:"setLocalScale",value:function(g,R,Z){return typeof g=="number"&&(R=R||g,Z=Z||g,g=Pt(g,R,Z,!1)),ie.sceneGraphService.setLocalScale(this,g),this}},{key:"getLocalScale",value:function(){return ie.sceneGraphService.getLocalScale(this)}},{key:"getScale",value:function(){return ie.sceneGraphService.getScale(this)}},{key:"getEulerAngles",value:function(){var g=ve(zn,ie.sceneGraphService.getWorldTransform(this)),R=(0,h.Z)(g,3),Z=R[2];return Bt(Z)}},{key:"getLocalEulerAngles",value:function(){var g=ve(zn,ie.sceneGraphService.getLocalRotation(this)),R=(0,h.Z)(g,3),Z=R[2];return Bt(Z)}},{key:"setEulerAngles",value:function(g){return ie.sceneGraphService.setEulerAngles(this,0,0,g),this}},{key:"setLocalEulerAngles",value:function(g){return ie.sceneGraphService.setLocalEulerAngles(this,0,0,g),this}},{key:"rotateLocal",value:function(g,R,Z){return(0,e.Z)(R)&&(0,e.Z)(Z)?ie.sceneGraphService.rotateLocal(this,0,0,g):ie.sceneGraphService.rotateLocal(this,g,R,Z),this}},{key:"rotate",value:function(g,R,Z){return(0,e.Z)(R)&&(0,e.Z)(Z)?ie.sceneGraphService.rotate(this,0,0,g):ie.sceneGraphService.rotate(this,g,R,Z),this}},{key:"setRotation",value:function(g,R,Z,k){return ie.sceneGraphService.setRotation(this,g,R,Z,k),this}},{key:"setLocalRotation",value:function(g,R,Z,k){return ie.sceneGraphService.setLocalRotation(this,g,R,Z,k),this}},{key:"setLocalSkew",value:function(g,R){return ie.sceneGraphService.setLocalSkew(this,g,R),this}},{key:"getRotation",value:function(){return ie.sceneGraphService.getRotation(this)}},{key:"getLocalRotation",value:function(){return ie.sceneGraphService.getLocalRotation(this)}},{key:"getLocalSkew",value:function(){return ie.sceneGraphService.getLocalSkew(this)}},{key:"getLocalTransform",value:function(){return ie.sceneGraphService.getLocalTransform(this)}},{key:"getWorldTransform",value:function(){return ie.sceneGraphService.getWorldTransform(this)}},{key:"setLocalTransform",value:function(g){return ie.sceneGraphService.setLocalTransform(this,g),this}},{key:"resetLocalTransform",value:function(){ie.sceneGraphService.resetLocalTransform(this)}},{key:"getAnimations",value:function(){return this.activeAnimations}},{key:"animate",value:function(g,R){var Z,k=(Z=this.ownerDocument)===null||Z===void 0?void 0:Z.timeline;return k?k.play(this,g,R):null}},{key:"isVisible",value:function(){var g;return((g=this.parsedStyle)===null||g===void 0?void 0:g.visibility)!=="hidden"}},{key:"interactive",get:function(){return this.isInteractive()},set:function(g){this.style.pointerEvents=g?"auto":"none"}},{key:"isInteractive",value:function(){var g;return((g=this.parsedStyle)===null||g===void 0?void 0:g.pointerEvents)!=="none"}},{key:"isCulled",value:function(){return!!(this.cullable&&this.cullable.enable&&!this.cullable.visible)}},{key:"toFront",value:function(){return this.parentNode&&(this.style.zIndex=Math.max.apply(Math,(0,M.Z)(this.parentNode.children.map(function(g){return Number(g.style.zIndex)})))+1),this}},{key:"toBack",value:function(){return this.parentNode&&(this.style.zIndex=Math.min.apply(Math,(0,M.Z)(this.parentNode.children.map(function(g){return Number(g.style.zIndex)})))-1),this}},{key:"getConfig",value:function(){return this.config}},{key:"attr",value:function(){for(var g=this,R=arguments.length,Z=new Array(R),k=0;k<R;k++)Z[k]=arguments[k];var q=Z[0],at=Z[1];return q?(0,H.Z)(q)?(Object.keys(q).forEach(function(ht){g.setAttribute(ht,q[ht])}),this):Z.length===2?(this.setAttribute(q,at),this):this.attributes[q]:this.attributes}},{key:"getMatrix",value:function(g){var R=g||this.getWorldTransform(),Z=s.getTranslation(zn,R),k=(0,h.Z)(Z,2),q=k[0],at=k[1],ht=s.getScaling(zn,R),Mt=(0,h.Z)(ht,2),xt=Mt[0],wt=Mt[1],Kt=s.getRotation(Ml,R),Nt=ve(zn,Kt),Vt=(0,h.Z)(Nt,3),Jt=Vt[0],qt=Vt[2];return de(Jt||qt,q,at,xt,wt)}},{key:"getLocalMatrix",value:function(){return this.getMatrix(this.getLocalTransform())}},{key:"setMatrix",value:function(g){var R=_e(g),Z=(0,h.Z)(R,5),k=Z[0],q=Z[1],at=Z[2],ht=Z[3],Mt=Z[4];this.setEulerAngles(Mt).setPosition(k,q).setLocalScale(at,ht)}},{key:"setLocalMatrix",value:function(g){var R=_e(g),Z=(0,h.Z)(R,5),k=Z[0],q=Z[1],at=Z[2],ht=Z[3],Mt=Z[4];this.setLocalEulerAngles(Mt).setLocalPosition(k,q).setLocalScale(at,ht)}},{key:"show",value:function(){this.forEach(function(g){g.style.visibility="visible"})}},{key:"hide",value:function(){this.forEach(function(g){g.style.visibility="hidden"})}},{key:"getCount",value:function(){return this.childElementCount}},{key:"getParent",value:function(){return this.parentElement}},{key:"getChildren",value:function(){return this.children}},{key:"getFirst",value:function(){return this.firstElementChild}},{key:"getLast",value:function(){return this.lastElementChild}},{key:"getChildByIndex",value:function(g){return this.children[g]||null}},{key:"add",value:function(g,R){return this.appendChild(g,R)}},{key:"set",value:function(g,R){this.config[g]=R}},{key:"get",value:function(g){return this.config[g]}},{key:"moveTo",value:function(g){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return this.setPosition(g,R,Z),this}},{key:"move",value:function(g){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return this.setPosition(g,R,Z),this}},{key:"setZIndex",value:function(g){return this.style.zIndex=g,this}}])}(ml);Ze.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","display","draggable","droppable","fill","fillOpacity","fillRule","filter","increasedLineWidthForHitTesting","lineCap","lineDash","lineDashOffset","lineJoin","lineWidth","miterLimit","hitArea","offsetDistance","offsetPath","offsetX","offsetY","opacity","pointerEvents","shadowColor","shadowType","shadowBlur","shadowOffsetX","shadowOffsetY","stroke","strokeOpacity","strokeWidth","strokeLinecap","strokeLineJoin","strokeDasharray","strokeDashoffset","transform","transformOrigin","textTransform","visibility","zIndex"]);var Vr=function(A){function L(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,D.Z)(this,L),(0,m.Z)(this,L,[(0,u.Z)({type:et.CIRCLE},_)])}return(0,c.Z)(L,A),(0,p.Z)(L)}(Ze);Vr.PARSED_STYLE_LIST=new Set([].concat((0,M.Z)(Ze.PARSED_STYLE_LIST),["cx","cy","cz","r","isBillboard","isSizeAttenuation"]));var Ol=["style"],oa=function(A){function L(){var _,g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=g.style,Z=(0,G.Z)(g,Ol);return(0,D.Z)(this,L),_=(0,m.Z)(this,L,[(0,u.Z)({style:R},Z)]),_.isCustomElement=!0,_}return(0,c.Z)(L,A),(0,p.Z)(L)}(Ze);oa.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var Gr=function(A){function L(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,D.Z)(this,L),(0,m.Z)(this,L,[(0,u.Z)({type:et.ELLIPSE},_)])}return(0,c.Z)(L,A),(0,p.Z)(L)}(Ze);Gr.PARSED_STYLE_LIST=new Set([].concat((0,M.Z)(Ze.PARSED_STYLE_LIST),["cx","cy","cz","rx","ry","isBillboard","isSizeAttenuation"]));var Pl=function(A){function L(){return(0,D.Z)(this,L),(0,m.Z)(this,L,[{type:et.FRAGMENT}])}return(0,c.Z)(L,A),(0,p.Z)(L)}(Ze);Pl.PARSED_STYLE_LIST=new Set(["class","className"]);var jn=function(A){function L(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,D.Z)(this,L),(0,m.Z)(this,L,[(0,u.Z)({type:et.GROUP},_)])}return(0,c.Z)(L,A),(0,p.Z)(L)}(Ze);jn.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var Dl=["style"],Hr=function(A){function L(){var _,g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=g.style,Z=(0,G.Z)(g,Dl);return(0,D.Z)(this,L),_=(0,m.Z)(this,L,[(0,u.Z)({type:et.HTML,style:R},Z)]),_.cullable.enable=!1,_}return(0,c.Z)(L,A),(0,p.Z)(L,[{key:"getDomElement",value:function(){return this.parsedStyle.$el}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"getLocalBounds",value:function(){if(this.parentNode){var g=s.invert(s.create(),this.parentNode.getWorldTransform()),R=this.getBounds();if(!bt.isEmpty(R)){var Z=new bt;return Z.setFromTransformedAABB(R,g),Z}}return this.getBounds()}}])}(Ze);Hr.PARSED_STYLE_LIST=new Set([].concat((0,M.Z)(Ze.PARSED_STYLE_LIST),["x","y","$el","innerHTML","width","height"]));var Yr=function(A){function L(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,D.Z)(this,L),(0,m.Z)(this,L,[(0,u.Z)({type:et.IMAGE},_)])}return(0,c.Z)(L,A),(0,p.Z)(L)}(Ze);Yr.PARSED_STYLE_LIST=new Set([].concat((0,M.Z)(Ze.PARSED_STYLE_LIST),["x","y","z","src","width","height","isBillboard","billboardRotation","isSizeAttenuation","keepAspectRatio"]));var Tl=["style"],$r=function(A){function L(){var _,g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=g.style,Z=(0,G.Z)(g,Tl);(0,D.Z)(this,L),_=(0,m.Z)(this,L,[(0,u.Z)({type:et.LINE,style:(0,u.Z)({x1:0,y1:0,x2:0,y2:0,z1:0,z2:0},R)},Z)]),_.markerStartAngle=0,_.markerEndAngle=0;var k=_.parsedStyle,q=k.markerStart,at=k.markerEnd;return q&&Ue(q)&&(_.markerStartAngle=q.getLocalEulerAngles(),_.appendChild(q)),at&&Ue(at)&&(_.markerEndAngle=at.getLocalEulerAngles(),_.appendChild(at)),_.transformMarker(!0),_.transformMarker(!1),_}return(0,c.Z)(L,A),(0,p.Z)(L,[{key:"attributeChangedCallback",value:function(g,R,Z,k,q){g==="x1"||g==="y1"||g==="x2"||g==="y2"||g==="markerStartOffset"||g==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):g==="markerStart"?(k&&Ue(k)&&(this.markerStartAngle=0,k.remove()),q&&Ue(q)&&(this.markerStartAngle=q.getLocalEulerAngles(),this.appendChild(q),this.transformMarker(!0))):g==="markerEnd"&&(k&&Ue(k)&&(this.markerEndAngle=0,k.remove()),q&&Ue(q)&&(this.markerEndAngle=q.getLocalEulerAngles(),this.appendChild(q),this.transformMarker(!1)))}},{key:"transformMarker",value:function(g){var R=this.parsedStyle,Z=R.markerStart,k=R.markerEnd,q=R.markerStartOffset,at=R.markerEndOffset,ht=R.x1,Mt=R.x2,xt=R.y1,wt=R.y2,Kt=g?Z:k;if(!(!Kt||!Ue(Kt))){var Nt=0,Vt,Jt,qt,Xt,ne,ge;g?(qt=ht,Xt=xt,Vt=Mt-ht,Jt=wt-xt,ne=q||0,ge=this.markerStartAngle):(qt=Mt,Xt=wt,Vt=ht-Mt,Jt=xt-wt,ne=at||0,ge=this.markerEndAngle),Nt=Math.atan2(Jt,Vt),Kt.setLocalEulerAngles(Nt*180/Math.PI+ge),Kt.setLocalPosition(qt+Math.cos(Nt)*ne,Xt+Math.sin(Nt)*ne)}}},{key:"getPoint",value:function(g){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Z=this.parsedStyle,k=Z.x1,q=Z.y1,at=Z.x2,ht=Z.y2,Mt=(0,$.U4)(k,q,at,ht,g),xt=Mt.x,wt=Mt.y,Kt=a.fF(a.Ue(),a.al(xt,wt,0),R?this.getWorldTransform():this.getLocalTransform());return new Q(Kt[0],Kt[1])}},{key:"getPointAtLength",value:function(g){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPoint(g/this.getTotalLength(),R)}},{key:"getTotalLength",value:function(){var g=this.parsedStyle,R=g.x1,Z=g.y1,k=g.x2,q=g.y2;return(0,$.Xk)(R,Z,k,q)}}])}(Ze);$r.PARSED_STYLE_LIST=new Set([].concat((0,M.Z)(Ze.PARSED_STYLE_LIST),["x1","y1","x2","y2","z1","z2","isBillboard","isSizeAttenuation","markerStart","markerEnd","markerStartOffset","markerEndOffset"]));var Cl=["style"],Xr=function(A){function L(){var _,g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=g.style,Z=(0,G.Z)(g,Cl);(0,D.Z)(this,L),_=(0,m.Z)(this,L,[(0,u.Z)({type:et.PATH,style:R,initialParsedStyle:{miterLimit:4,d:(0,u.Z)({},tn)}},Z)]),_.markerStartAngle=0,_.markerEndAngle=0,_.markerMidList=[];var k=_.parsedStyle,q=k.markerStart,at=k.markerEnd,ht=k.markerMid;return q&&Ue(q)&&(_.markerStartAngle=q.getLocalEulerAngles(),_.appendChild(q)),ht&&Ue(ht)&&_.placeMarkerMid(ht),at&&Ue(at)&&(_.markerEndAngle=at.getLocalEulerAngles(),_.appendChild(at)),_.transformMarker(!0),_.transformMarker(!1),_}return(0,c.Z)(L,A),(0,p.Z)(L,[{key:"attributeChangedCallback",value:function(g,R,Z,k,q){g==="d"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):g==="markerStartOffset"||g==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):g==="markerStart"?(k&&Ue(k)&&(this.markerStartAngle=0,k.remove()),q&&Ue(q)&&(this.markerStartAngle=q.getLocalEulerAngles(),this.appendChild(q),this.transformMarker(!0))):g==="markerEnd"?(k&&Ue(k)&&(this.markerEndAngle=0,k.remove()),q&&Ue(q)&&(this.markerEndAngle=q.getLocalEulerAngles(),this.appendChild(q),this.transformMarker(!1))):g==="markerMid"&&this.placeMarkerMid(q)}},{key:"transformMarker",value:function(g){var R=this.parsedStyle,Z=R.markerStart,k=R.markerEnd,q=R.markerStartOffset,at=R.markerEndOffset,ht=g?Z:k;if(!(!ht||!Ue(ht))){var Mt=0,xt,wt,Kt,Nt,Vt,Jt;if(g){var qt=this.getStartTangent(),Xt=(0,h.Z)(qt,2),ne=Xt[0],ge=Xt[1];Kt=ge[0],Nt=ge[1],xt=ne[0]-ge[0],wt=ne[1]-ge[1],Vt=q||0,Jt=this.markerStartAngle}else{var Ht=this.getEndTangent(),kt=(0,h.Z)(Ht,2),Ft=kt[0],$t=kt[1];Kt=$t[0],Nt=$t[1],xt=Ft[0]-$t[0],wt=Ft[1]-$t[1],Vt=at||0,Jt=this.markerEndAngle}Mt=Math.atan2(wt,xt),ht.setLocalEulerAngles(Mt*180/Math.PI+Jt),ht.setLocalPosition(Kt+Math.cos(Mt)*Vt,Nt+Math.sin(Mt)*Vt)}}},{key:"placeMarkerMid",value:function(g){var R=this.parsedStyle.d.segments;if(this.markerMidList.forEach(function(Mt){Mt.remove()}),g&&Ue(g))for(var Z=1;Z<R.length-1;Z++){var k=(0,h.Z)(R[Z].currentPoint,2),q=k[0],at=k[1],ht=Z===1?g:g.cloneNode(!0);this.markerMidList.push(ht),this.appendChild(ht),ht.setLocalPosition(q,at)}}},{key:"getTotalLength",value:function(){return Ar(this)}},{key:"getPointAtLength",value:function(g){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Z=this.parsedStyle.d.absolutePath,k=(0,Y.r)(Z,g),q=k.x,at=k.y,ht=a.fF(a.Ue(),a.al(q,at,0),R?this.getWorldTransform():this.getLocalTransform());return new Q(ht[0],ht[1])}},{key:"getPoint",value:function(g){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPointAtLength(g*Ar(this),R)}},{key:"getStartTangent",value:function(){var g=this.parsedStyle.d.segments,R=[];if(g.length>1){var Z=g[0].currentPoint,k=g[1].currentPoint,q=g[1].startTangent;R=[],q?(R.push([Z[0]-q[0],Z[1]-q[1]]),R.push([Z[0],Z[1]])):(R.push([k[0],k[1]]),R.push([Z[0],Z[1]]))}return R}},{key:"getEndTangent",value:function(){var g=this.parsedStyle.d.segments,R=g.length,Z=[];if(R>1){var k=g[R-2].currentPoint,q=g[R-1].currentPoint,at=g[R-1].endTangent;Z=[],at?(Z.push([q[0]-at[0],q[1]-at[1]]),Z.push([q[0],q[1]])):(Z.push([k[0],k[1]]),Z.push([q[0],q[1]]))}return Z}}])}(Ze);Xr.PARSED_STYLE_LIST=new Set([].concat((0,M.Z)(Ze.PARSED_STYLE_LIST),["d","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard","isSizeAttenuation"]));var bl=["style"],Vn=function(A){function L(){var _,g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=g.style,Z=(0,G.Z)(g,bl);(0,D.Z)(this,L),_=(0,m.Z)(this,L,[(0,u.Z)({type:et.POLYGON,style:R,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!0}},Z)]),_.markerStartAngle=0,_.markerEndAngle=0,_.markerMidList=[];var k=_.parsedStyle,q=k.markerStart,at=k.markerEnd,ht=k.markerMid;return q&&Ue(q)&&(_.markerStartAngle=q.getLocalEulerAngles(),_.appendChild(q)),ht&&Ue(ht)&&_.placeMarkerMid(ht),at&&Ue(at)&&(_.markerEndAngle=at.getLocalEulerAngles(),_.appendChild(at)),_.transformMarker(!0),_.transformMarker(!1),_}return(0,c.Z)(L,A),(0,p.Z)(L,[{key:"attributeChangedCallback",value:function(g,R,Z,k,q){g==="points"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):g==="markerStartOffset"||g==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):g==="markerStart"?(k&&Ue(k)&&(this.markerStartAngle=0,k.remove()),q&&Ue(q)&&(this.markerStartAngle=q.getLocalEulerAngles(),this.appendChild(q),this.transformMarker(!0))):g==="markerEnd"?(k&&Ue(k)&&(this.markerEndAngle=0,k.remove()),q&&Ue(q)&&(this.markerEndAngle=q.getLocalEulerAngles(),this.appendChild(q),this.transformMarker(!1))):g==="markerMid"&&this.placeMarkerMid(q)}},{key:"transformMarker",value:function(g){var R=this.parsedStyle,Z=R.markerStart,k=R.markerEnd,q=R.markerStartOffset,at=R.markerEndOffset,ht=R.points,Mt=ht||{},xt=Mt.points,wt=g?Z:k;if(!(!wt||!Ue(wt)||!xt)){var Kt=0,Nt,Vt,Jt,qt,Xt,ne;if(Jt=xt[0][0],qt=xt[0][1],g)Nt=xt[1][0]-xt[0][0],Vt=xt[1][1]-xt[0][1],Xt=q||0,ne=this.markerStartAngle;else{var ge=xt.length;this.parsedStyle.isClosed?(Nt=xt[ge-1][0]-xt[0][0],Vt=xt[ge-1][1]-xt[0][1]):(Jt=xt[ge-1][0],qt=xt[ge-1][1],Nt=xt[ge-2][0]-xt[ge-1][0],Vt=xt[ge-2][1]-xt[ge-1][1]),Xt=at||0,ne=this.markerEndAngle}Kt=Math.atan2(Vt,Nt),wt.setLocalEulerAngles(Kt*180/Math.PI+ne),wt.setLocalPosition(Jt+Math.cos(Kt)*Xt,qt+Math.sin(Kt)*Xt)}}},{key:"placeMarkerMid",value:function(g){var R=this.parsedStyle.points,Z=R||{},k=Z.points;if(this.markerMidList.forEach(function(xt){xt.remove()}),this.markerMidList=[],g&&Ue(g)&&k)for(var q=1;q<(this.parsedStyle.isClosed?k.length:k.length-1);q++){var at=k[q][0],ht=k[q][1],Mt=q===1?g:g.cloneNode(!0);this.markerMidList.push(Mt),this.appendChild(Mt),Mt.setLocalPosition(at,ht)}}}])}(Ze);Vn.PARSED_STYLE_LIST=new Set([].concat((0,M.Z)(Ze.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isClosed","isBillboard","isSizeAttenuation"]));var xl=["style"],Jr=function(A){function L(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=_.style,R=(0,G.Z)(_,xl);return(0,D.Z)(this,L),(0,m.Z)(this,L,[(0,u.Z)({type:et.POLYLINE,style:g,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!1}},R)])}return(0,c.Z)(L,A),(0,p.Z)(L,[{key:"getTotalLength",value:function(){return vs(this)}},{key:"getPointAtLength",value:function(g){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPoint(g/this.getTotalLength(),R)}},{key:"getPoint",value:function(g){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Z=this.parsedStyle.points.points;if(this.parsedStyle.points.segments.length===0){var k=[],q=0,at,ht,Mt=this.getTotalLength();Z.forEach(function(qt,Xt){Z[Xt+1]&&(at=[0,0],at[0]=q/Mt,ht=(0,$.Xk)(qt[0],qt[1],Z[Xt+1][0],Z[Xt+1][1]),q+=ht,at[1]=q/Mt,k.push(at))}),this.parsedStyle.points.segments=k}var xt=0,wt=0;this.parsedStyle.points.segments.forEach(function(qt,Xt){g>=qt[0]&&g<=qt[1]&&(xt=(g-qt[0])/(qt[1]-qt[0]),wt=Xt)});var Kt=(0,$.U4)(Z[wt][0],Z[wt][1],Z[wt+1][0],Z[wt+1][1],xt),Nt=Kt.x,Vt=Kt.y,Jt=a.fF(a.Ue(),a.al(Nt,Vt,0),R?this.getWorldTransform():this.getLocalTransform());return new Q(Jt[0],Jt[1])}},{key:"getStartTangent",value:function(){var g=this.parsedStyle.points.points,R=[];return R.push([g[1][0],g[1][1]]),R.push([g[0][0],g[0][1]]),R}},{key:"getEndTangent",value:function(){var g=this.parsedStyle.points.points,R=g.length-1,Z=[];return Z.push([g[R-1][0],g[R-1][1]]),Z.push([g[R][0],g[R][1]]),Z}}])}(Vn);Jr.PARSED_STYLE_LIST=new Set([].concat((0,M.Z)(Vn.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard"]));var Qr=function(A){function L(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,D.Z)(this,L),(0,m.Z)(this,L,[(0,u.Z)({type:et.RECT},_)])}return(0,c.Z)(L,A),(0,p.Z)(L)}(Ze);Qr.PARSED_STYLE_LIST=new Set([].concat((0,M.Z)(Ze.PARSED_STYLE_LIST),["x","y","z","width","height","isBillboard","isSizeAttenuation","radius"]));var Al=["style"],hr=function(A){function L(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=_.style,R=(0,G.Z)(_,Al);return(0,D.Z)(this,L),(0,m.Z)(this,L,[(0,u.Z)({type:et.TEXT,style:(0,u.Z)({fill:"black"},g)},R)])}return(0,c.Z)(L,A),(0,p.Z)(L,[{key:"getComputedTextLength",value:function(){var g;return this.getGeometryBounds(),((g=this.parsedStyle.metrics)===null||g===void 0?void 0:g.maxLineWidth)||0}},{key:"getLineBoundingRects",value:function(){var g;return this.getGeometryBounds(),((g=this.parsedStyle.metrics)===null||g===void 0?void 0:g.lineMetrics)||[]}},{key:"isOverflowing",value:function(){return this.getGeometryBounds(),!!this.parsedStyle.isOverflowing}}])}(Ze);hr.PARSED_STYLE_LIST=new Set([].concat((0,M.Z)(Ze.PARSED_STYLE_LIST),["x","y","z","isBillboard","billboardRotation","isSizeAttenuation","text","textAlign","textBaseline","fontStyle","fontSize","fontFamily","fontWeight","fontVariant","lineHeight","letterSpacing","leading","wordWrap","wordWrapWidth","maxLines","textOverflow","isOverflowing","textPath","textDecorationLine","textDecorationColor","textDecorationStyle","textPathSide","textPathStartOffset","metrics","dx","dy"]));var Rl=function(){function A(){(0,D.Z)(this,A),this.registry={},this.define(et.CIRCLE,Vr),this.define(et.ELLIPSE,Gr),this.define(et.RECT,Qr),this.define(et.IMAGE,Yr),this.define(et.LINE,$r),this.define(et.GROUP,jn),this.define(et.PATH,Xr),this.define(et.POLYGON,Vn),this.define(et.POLYLINE,Jr),this.define(et.TEXT,hr),this.define(et.HTML,Hr)}return(0,p.Z)(A,[{key:"define",value:function(_,g){this.registry[_]=g}},{key:"get",value:function(_){return this.registry[_]}}])}(),Ql={number:function(L){return new We(L)},percent:function(L){return new We(L,"%")},px:function(L){return new We(L,"px")},em:function(L){return new We(L,"em")},rem:function(L){return new We(L,"rem")},deg:function(L){return new We(L,"deg")},grad:function(L){return new We(L,"grad")},rad:function(L){return new We(L,"rad")},turn:function(L){return new We(L,"turn")},s:function(L){return new We(L,"s")},ms:function(L){return new We(L,"ms")},registerProperty:function(L){var _=L.name,g=L.inherits,R=L.interpolable,Z=L.initialValue,k=L.syntax;ie.styleValueRegistry.registerMetadata({n:_,inh:g,int:R,d:Z,syntax:k})},registerLayout:function(L,_){ie.layoutRegistry.registerLayout(L,_)}},la=function(A){function L(){var _;(0,D.Z)(this,L),_=(0,m.Z)(this,L),_.defaultView=null,_.ownerDocument=null,_.nodeName="document";try{_.timeline=new ie.AnimationTimeline(_)}catch(R){}var g={};return Br.forEach(function(R){var Z=R.n,k=R.inh,q=R.d;k&&q&&(g[Z]=(0,F.Z)(q)?q(et.GROUP):q)}),_.documentElement=new jn({id:"g-root",style:g}),_.documentElement.ownerDocument=_,_.documentElement.parentNode=_,_.childNodes=[_.documentElement],_}return(0,c.Z)(L,A),(0,p.Z)(L,[{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"createElement",value:function(g,R){if(g==="svg")return this.documentElement;var Z=this.defaultView.customElements.get(g);Z||(console.warn("Unsupported tagName: ",g),Z=g==="tspan"?hr:jn);var k=new Z(R);return k.ownerDocument=this,k}},{key:"createElementNS",value:function(g,R,Z){return this.createElement(R,Z)}},{key:"cloneNode",value:function(g){throw new Error(vt)}},{key:"destroy",value:function(){try{this.documentElement.destroyChildren(),this.timeline.destroy()}catch(g){}}},{key:"elementsFromBBox",value:function(g,R,Z,k){var q=this.defaultView.context.rBushRoot,at=q.search({minX:g,minY:R,maxX:Z,maxY:k}),ht=[];return at.forEach(function(Mt){var xt=Mt.displayObject,wt=xt.parsedStyle.pointerEvents,Kt=wt===void 0?"auto":wt,Nt=["auto","visiblepainted","visiblefill","visiblestroke","visible"].includes(Kt);(!Nt||Nt&&xt.isVisible())&&!xt.isCulled()&&xt.isInteractive()&&ht.push(xt)}),ht.sort(function(Mt,xt){return xt.sortable.renderOrder-Mt.sortable.renderOrder}),ht}},{key:"elementFromPointSync",value:function(g,R){var Z=this.defaultView.canvas2Viewport({x:g,y:R}),k=Z.x,q=Z.y,at=this.defaultView.getConfig(),ht=at.width,Mt=at.height;if(k<0||q<0||k>ht||q>Mt)return null;var xt=this.defaultView.viewport2Client({x:k,y:q}),wt=xt.x,Kt=xt.y,Nt=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!0,position:{x:g,y:R,viewportX:k,viewportY:q,clientX:wt,clientY:Kt},picked:[]}),Vt=Nt.picked;return Vt&&Vt[0]||this.documentElement}},{key:"elementFromPoint",value:function(){var _=(0,ot.Z)((0,rt.Z)().mark(function R(Z,k){var q,at,ht,Mt,xt,wt,Kt,Nt,Vt,Jt,qt;return(0,rt.Z)().wrap(function(Xt){for(;;)switch(Xt.prev=Xt.next){case 0:if(q=this.defaultView.canvas2Viewport({x:Z,y:k}),at=q.x,ht=q.y,Mt=this.defaultView.getConfig(),xt=Mt.width,wt=Mt.height,!(at<0||ht<0||at>xt||ht>wt)){Xt.next=1;break}return Xt.abrupt("return",null);case 1:return Kt=this.defaultView.viewport2Client({x:at,y:ht}),Nt=Kt.x,Vt=Kt.y,Xt.next=2,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!0,position:{x:Z,y:k,viewportX:at,viewportY:ht,clientX:Nt,clientY:Vt},picked:[]});case 2:return Jt=Xt.sent,qt=Jt.picked,Xt.abrupt("return",qt&&qt[0]||this.documentElement);case 3:case"end":return Xt.stop()}},R,this)}));function g(R,Z){return _.apply(this,arguments)}return g}()},{key:"elementsFromPointSync",value:function(g,R){var Z=this.defaultView.canvas2Viewport({x:g,y:R}),k=Z.x,q=Z.y,at=this.defaultView.getConfig(),ht=at.width,Mt=at.height;if(k<0||q<0||k>ht||q>Mt)return[];var xt=this.defaultView.viewport2Client({x:k,y:q}),wt=xt.x,Kt=xt.y,Nt=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!1,position:{x:g,y:R,viewportX:k,viewportY:q,clientX:wt,clientY:Kt},picked:[]}),Vt=Nt.picked;return Vt[Vt.length-1]!==this.documentElement&&Vt.push(this.documentElement),Vt}},{key:"elementsFromPoint",value:function(){var _=(0,ot.Z)((0,rt.Z)().mark(function R(Z,k){var q,at,ht,Mt,xt,wt,Kt,Nt,Vt,Jt,qt;return(0,rt.Z)().wrap(function(Xt){for(;;)switch(Xt.prev=Xt.next){case 0:if(q=this.defaultView.canvas2Viewport({x:Z,y:k}),at=q.x,ht=q.y,Mt=this.defaultView.getConfig(),xt=Mt.width,wt=Mt.height,!(at<0||ht<0||at>xt||ht>wt)){Xt.next=1;break}return Xt.abrupt("return",[]);case 1:return Kt=this.defaultView.viewport2Client({x:at,y:ht}),Nt=Kt.x,Vt=Kt.y,Xt.next=2,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!1,position:{x:Z,y:k,viewportX:at,viewportY:ht,clientX:Nt,clientY:Vt},picked:[]});case 2:return Jt=Xt.sent,qt=Jt.picked,qt[qt.length-1]!==this.documentElement&&qt.push(this.documentElement),Xt.abrupt("return",qt);case 3:case"end":return Xt.stop()}},R,this)}));function g(R,Z){return _.apply(this,arguments)}return g}()},{key:"appendChild",value:function(g,R){throw new Error(ft)}},{key:"insertBefore",value:function(g,R){throw new Error(ft)}},{key:"removeChild",value:function(g,R){throw new Error(ft)}},{key:"replaceChild",value:function(g,R,Z){throw new Error(ft)}},{key:"append",value:function(){throw new Error(ft)}},{key:"prepend",value:function(){throw new Error(ft)}},{key:"getElementById",value:function(g){return this.documentElement.getElementById(g)}},{key:"getElementsByName",value:function(g){return this.documentElement.getElementsByName(g)}},{key:"getElementsByTagName",value:function(g){return this.documentElement.getElementsByTagName(g)}},{key:"getElementsByClassName",value:function(g){return this.documentElement.getElementsByClassName(g)}},{key:"querySelector",value:function(g){return this.documentElement.querySelector(g)}},{key:"querySelectorAll",value:function(g){return this.documentElement.querySelectorAll(g)}},{key:"find",value:function(g){return this.documentElement.find(g)}},{key:"findAll",value:function(g){return this.documentElement.findAll(g)}}])}(ke),ua=function(){function A(L){(0,D.Z)(this,A),this.strategies=L}return(0,p.Z)(A,[{key:"apply",value:function(_){var g=_.config,R=_.camera,Z=_.renderingService,k=_.renderingContext,q=this.strategies;Z.hooks.cull.tap(A.tag,function(at){if(at){var ht,Mt=at.cullable;if(q.length===0?Mt.visible=k.unculledEntities.indexOf(at.entity)>-1:Mt.visible=q.every(function(wt){return wt.isVisible(R,at)}),!at.isCulled()&&at.isVisible())return at;var xt=((ht=g.future)===null||ht===void 0?void 0:ht.experimentalCancelEventPropagation)===!0;return at.dispatchEvent(new qe(Xe.CULLED),xt,xt),null}return at}),Z.hooks.afterRender.tap(A.tag,function(at){at.cullable.visibilityPlaneMask=-1})}}])}();ua.tag="Culling";var ca=function(){function A(){var L=this;(0,D.Z)(this,A),this.autoPreventDefault=!1,this.rootPointerEvent=new lr(null),this.rootWheelEvent=new Fr(null),this.onPointerMove=function(_){var g,R=(g=L.context.renderingContext.root)===null||g===void 0||(g=g.ownerDocument)===null||g===void 0?void 0:g.defaultView;if(!(R.supportsTouchEvents&&_.pointerType==="touch")){var Z=L.normalizeToPointerEvent(_,R),k=(0,tt.Z)(Z),q;try{for(k.s();!(q=k.n()).done;){var at=q.value,ht=L.bootstrapEvent(L.rootPointerEvent,at,R,_);L.context.eventService.mapEvent(ht)}}catch(Mt){k.e(Mt)}finally{k.f()}L.setCursor(L.context.eventService.cursor)}},this.onClick=function(_){var g,R=(g=L.context.renderingContext.root)===null||g===void 0||(g=g.ownerDocument)===null||g===void 0?void 0:g.defaultView,Z=L.normalizeToPointerEvent(_,R),k=(0,tt.Z)(Z),q;try{for(k.s();!(q=k.n()).done;){var at=q.value,ht=L.bootstrapEvent(L.rootPointerEvent,at,R,_);L.context.eventService.mapEvent(ht)}}catch(Mt){k.e(Mt)}finally{k.f()}L.setCursor(L.context.eventService.cursor)}}return(0,p.Z)(A,[{key:"apply",value:function(_){var g=this;this.context=_;var R=_.renderingService,Z=this.context.renderingContext.root.ownerDocument.defaultView;this.context.eventService.setPickHandler(function(k){var q=g.context.renderingService.hooks.pickSync.call({position:k,picked:[],topmost:!0}),at=q.picked;return at[0]||null}),R.hooks.pointerWheel.tap(A.tag,function(k){var q=g.normalizeWheelEvent(k);g.context.eventService.mapEvent(q)}),R.hooks.pointerDown.tap(A.tag,function(k){if(!(Z.supportsTouchEvents&&k.pointerType==="touch")){var q=g.normalizeToPointerEvent(k,Z);if(g.autoPreventDefault&&q[0].isNormalized){var at=k.cancelable||!("cancelable"in k);at&&k.preventDefault()}var ht=(0,tt.Z)(q),Mt;try{for(ht.s();!(Mt=ht.n()).done;){var xt=Mt.value,wt=g.bootstrapEvent(g.rootPointerEvent,xt,Z,k);g.context.eventService.mapEvent(wt)}}catch(Kt){ht.e(Kt)}finally{ht.f()}g.setCursor(g.context.eventService.cursor)}}),R.hooks.pointerUp.tap(A.tag,function(k){if(!(Z.supportsTouchEvents&&k.pointerType==="touch")){var q=g.context.contextService.getDomElement(),at=g.context.eventService.isNativeEventFromCanvas(q,k),ht=at?"":"outside",Mt=g.normalizeToPointerEvent(k,Z),xt=(0,tt.Z)(Mt),wt;try{for(xt.s();!(wt=xt.n()).done;){var Kt=wt.value,Nt=g.bootstrapEvent(g.rootPointerEvent,Kt,Z,k);Nt.type+=ht,g.context.eventService.mapEvent(Nt)}}catch(Vt){xt.e(Vt)}finally{xt.f()}g.setCursor(g.context.eventService.cursor)}}),R.hooks.pointerMove.tap(A.tag,this.onPointerMove),R.hooks.pointerOver.tap(A.tag,this.onPointerMove),R.hooks.pointerOut.tap(A.tag,this.onPointerMove),R.hooks.click.tap(A.tag,this.onClick),R.hooks.pointerCancel.tap(A.tag,function(k){var q=g.normalizeToPointerEvent(k,Z),at=(0,tt.Z)(q),ht;try{for(at.s();!(ht=at.n()).done;){var Mt=ht.value,xt=g.bootstrapEvent(g.rootPointerEvent,Mt,Z,k);g.context.eventService.mapEvent(xt)}}catch(wt){at.e(wt)}finally{at.f()}g.setCursor(g.context.eventService.cursor)})}},{key:"bootstrapEvent",value:function(_,g,R,Z){_.view=R,_.originalEvent=null,_.nativeEvent=Z,_.pointerId=g.pointerId,_.width=g.width,_.height=g.height,_.isPrimary=g.isPrimary,_.pointerType=g.pointerType,_.pressure=g.pressure,_.tangentialPressure=g.tangentialPressure,_.tiltX=g.tiltX,_.tiltY=g.tiltY,_.twist=g.twist,this.transferMouseData(_,g);var k=this.context.eventService.client2Viewport({x:g.clientX,y:g.clientY}),q=k.x,at=k.y;_.viewport.x=q,_.viewport.y=at;var ht=this.context.eventService.viewport2Canvas(_.viewport),Mt=ht.x,xt=ht.y;return _.canvas.x=Mt,_.canvas.y=xt,_.global.copyFrom(_.canvas),_.offset.copyFrom(_.canvas),_.isTrusted=Z.isTrusted,_.type==="pointerleave"&&(_.type="pointerout"),_.type.startsWith("mouse")&&(_.type=_.type.replace("mouse","pointer")),_.type.startsWith("touch")&&(_.type=fo[_.type]||_.type),_}},{key:"normalizeWheelEvent",value:function(_){var g=this.rootWheelEvent;this.transferMouseData(g,_),g.deltaMode=_.deltaMode,g.deltaX=_.deltaX,g.deltaY=_.deltaY,g.deltaZ=_.deltaZ;var R=this.context.eventService.client2Viewport({x:_.clientX,y:_.clientY}),Z=R.x,k=R.y;g.viewport.x=Z,g.viewport.y=k;var q=this.context.eventService.viewport2Canvas(g.viewport),at=q.x,ht=q.y;return g.canvas.x=at,g.canvas.y=ht,g.global.copyFrom(g.canvas),g.offset.copyFrom(g.canvas),g.nativeEvent=_,g.type=_.type,g}},{key:"transferMouseData",value:function(_,g){_.isTrusted=g.isTrusted,_.srcElement=g.srcElement,_.timeStamp=Nr.now(),_.type=g.type,_.altKey=g.altKey,_.metaKey=g.metaKey,_.shiftKey=g.shiftKey,_.ctrlKey=g.ctrlKey,_.button=g.button,_.buttons=g.buttons,_.client.x=g.clientX,_.client.y=g.clientY,_.movement.x=g.movementX,_.movement.y=g.movementY,_.page.x=g.pageX,_.page.y=g.pageY,_.screen.x=g.screenX,_.screen.y=g.screenY,_.relatedTarget=null}},{key:"setCursor",value:function(_){this.context.contextService.applyCursorStyle(_||this.context.config.cursor||"default")}},{key:"normalizeToPointerEvent",value:function(_,g){var R=[];if(g.isTouchEvent(_))for(var Z=0;Z<_.changedTouches.length;Z++){var k=_.changedTouches[Z];(0,j.Z)(k.button)&&(k.button=0),(0,j.Z)(k.buttons)&&(k.buttons=1),(0,j.Z)(k.isPrimary)&&(k.isPrimary=_.touches.length===1&&_.type==="touchstart"),(0,j.Z)(k.width)&&(k.width=k.radiusX||1),(0,j.Z)(k.height)&&(k.height=k.radiusY||1),(0,j.Z)(k.tiltX)&&(k.tiltX=0),(0,j.Z)(k.tiltY)&&(k.tiltY=0),(0,j.Z)(k.pointerType)&&(k.pointerType="touch"),(0,j.Z)(k.pointerId)&&(k.pointerId=k.identifier||0),(0,j.Z)(k.pressure)&&(k.pressure=k.force||.5),(0,j.Z)(k.twist)&&(k.twist=0),(0,j.Z)(k.tangentialPressure)&&(k.tangentialPressure=0),k.isNormalized=!0,k.type=_.type,R.push(k)}else if(g.isMouseEvent(_)){var q=_;(0,j.Z)(q.isPrimary)&&(q.isPrimary=!0),(0,j.Z)(q.width)&&(q.width=1),(0,j.Z)(q.height)&&(q.height=1),(0,j.Z)(q.tiltX)&&(q.tiltX=0),(0,j.Z)(q.tiltY)&&(q.tiltY=0),(0,j.Z)(q.pointerType)&&(q.pointerType="mouse"),(0,j.Z)(q.pointerId)&&(q.pointerId=co),(0,j.Z)(q.pressure)&&(q.pressure=.5),(0,j.Z)(q.twist)&&(q.twist=0),(0,j.Z)(q.tangentialPressure)&&(q.tangentialPressure=0),q.isNormalized=!0,R.push(q)}else R.push(_);return R}}])}();ca.tag="Event";var Ll=[et.CIRCLE,et.ELLIPSE,et.IMAGE,et.RECT,et.LINE,et.POLYLINE,et.POLYGON,et.TEXT,et.PATH,et.HTML],Il=function(){function A(){(0,D.Z)(this,A)}return(0,p.Z)(A,[{key:"isVisible",value:function(_,g){var R,Z=g.cullable;if(!Z.enable)return!0;var k=g.getRenderBounds();if(bt.isEmpty(k))return!1;var q=_.getFrustum(),at=(R=g.parentNode)===null||R===void 0||(R=R.cullable)===null||R===void 0?void 0:R.visibilityPlaneMask;return Z.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(g,k,at||It.INDETERMINATE,q.planes),Z.visible=Z.visibilityPlaneMask!==It.OUTSIDE,Z.visible}},{key:"computeVisibilityWithPlaneMask",value:function(_,g,R,Z){if(R===It.OUTSIDE||R===It.INSIDE)return R;for(var k=It.INSIDE,q=Ll.indexOf(_.nodeName)>-1,at=0,ht=Z.length;at<ht;++at){var Mt=1<<at;if(R&Mt&&!(q&&(at===4||at===5))){var xt=Z[at],wt=xt.normal,Kt=xt.distance;if(a.AK(wt,g.getPositiveFarPoint(Z[at]))+Kt<0)return It.OUTSIDE;a.AK(wt,g.getNegativeFarPoint(Z[at]))+Kt<0&&(k|=Mt)}}return k}}])}(),da=function(){function A(){(0,D.Z)(this,A),this.syncTasks=new Map,this.isFirstTimeRendering=!0,this.syncing=!1,this.isFirstTimeRenderingFinished=!1}return(0,p.Z)(A,[{key:"apply",value:function(_){var g=this,R,Z,k=_.config,q=_.renderingService,at=_.renderingContext,ht=_.rBushRoot,Mt=at.root.ownerDocument.defaultView;this.rBush=ht;var xt=function(Xt){q.dirtify()},wt=function(Xt){g.syncTasks.set(Xt.target,Xt.detail.affectChildren),q.dirtify()},Kt=function(Xt){var ne=Xt.target;ie.enableSizeAttenuation&&ie.styleValueRegistry.updateSizeAttenuation(ne,Mt.getCamera().getZoom())},Nt=function(Xt){var ne=Xt.target,ge=ne.rBushNode;ge!=null&&ge.aabb&&g.rBush.remove(ge.aabb),g.syncTasks.delete(ne),ie.sceneGraphService.dirtyToRoot(ne),q.dirtify()};q.hooks.init.tap(A.tag,function(){Mt.addEventListener(Xe.MOUNTED,Kt),Mt.addEventListener(Xe.UNMOUNTED,Nt),Mt.addEventListener(Xe.ATTR_MODIFIED,xt),Mt.addEventListener(Xe.BOUNDS_CHANGED,wt)}),q.hooks.destroy.tap(A.tag,function(){Mt.removeEventListener(Xe.MOUNTED,Kt),Mt.removeEventListener(Xe.UNMOUNTED,Nt),Mt.removeEventListener(Xe.ATTR_MODIFIED,xt),Mt.removeEventListener(Xe.BOUNDS_CHANGED,wt),g.syncTasks.clear()});var Vt=(R=ie.globalThis.requestIdleCallback)!==null&&R!==void 0?R:Kr.bind(ie.globalThis),Jt=((Z=k.future)===null||Z===void 0?void 0:Z.experimentalRICSyncRTree)===!0;q.hooks.endFrame.tap(A.tag,function(){g.isFirstTimeRendering?(g.isFirstTimeRendering=!1,g.syncing=!0,Vt(function(){g.syncRTree(!0),g.isFirstTimeRenderingFinished=!0})):Jt&&ie.globalThis.requestIdleCallback&&ie.globalThis.cancelIdleCallback?(ie.globalThis.cancelIdleCallback(g.ricSyncRTreeId),g.ricSyncRTreeId=ie.globalThis.requestIdleCallback(function(){return g.syncRTree()})):g.syncRTree()})}},{key:"syncNode",value:function(_){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(_.isConnected){var R=_.rBushNode;R.aabb&&this.rBush.remove(R.aabb);var Z=_.getRenderBounds();if(Z){var k=_.renderable;g&&(k.dirtyRenderBounds||(k.dirtyRenderBounds=new bt),k.dirtyRenderBounds.update(Z.center,Z.halfExtents));var q=Z.getMin(),at=(0,h.Z)(q,2),ht=at[0],Mt=at[1],xt=Z.getMax(),wt=(0,h.Z)(xt,2),Kt=wt[0],Nt=wt[1];R.aabb||(R.aabb={}),R.aabb.displayObject=_,R.aabb.minX=ht,R.aabb.minY=Mt,R.aabb.maxX=Kt,R.aabb.maxY=Nt}if(R.aabb&&!isNaN(R.aabb.maxX)&&!isNaN(R.aabb.maxX)&&!isNaN(R.aabb.minX)&&!isNaN(R.aabb.minY))return R.aabb}}},{key:"syncRTree",value:function(){var _=this,g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!g&&(this.syncing||this.syncTasks.size===0))){this.syncing=!0;var R=[],Z=new Set,k=function(at){if(!Z.has(at)&&at.renderable){var ht=_.syncNode(at,g);ht&&(R.push(ht),Z.add(at))}};this.syncTasks.forEach(function(q,at){q&&at.forEach(k);for(var ht=at;ht;)k(ht),ht=ht.parentElement}),this.rBush.load(R),R.length=0,this.syncing=!1}}}])}();da.tag="Prepare";function ql(A){return!!A.document}var yn=function(A){return A.READY="ready",A.BEFORE_RENDER="beforerender",A.RERENDER="rerender",A.AFTER_RENDER="afterrender",A.BEFORE_DESTROY="beforedestroy",A.AFTER_DESTROY="afterdestroy",A.RESIZE="resize",A.DIRTY_RECTANGLE="dirtyrectangle",A.RENDERER_CHANGED="rendererchanged",A}({}),fa=500,Sl=.1,Bl=1e3,vr=new qe(Xe.MOUNTED),_r=new qe(Xe.UNMOUNTED),qr=new qe(yn.BEFORE_RENDER),ha=new qe(yn.RERENDER),ti=new qe(yn.AFTER_RENDER),wl=function(A){function L(_){var g;(0,D.Z)(this,L),g=(0,m.Z)(this,L),g.Element=Ze,g.inited=!1,g.context={};var R=_.container,Z=_.canvas,k=_.renderer,q=_.width,at=_.height,ht=_.background,Mt=_.cursor,xt=_.supportsMutipleCanvasesInOneContainer,wt=_.cleanUpOnDestroy,Kt=wt===void 0?!0:wt,Nt=_.offscreenCanvas,Vt=_.devicePixelRatio,Jt=_.requestAnimationFrame,qt=_.cancelAnimationFrame,Xt=_.createImage,ne=_.supportsTouchEvents,ge=_.supportsPointerEvents,Ht=_.isTouchEvent,kt=_.isMouseEvent,Ft=_.dblClickSpeed,$t=q,ue=at,se=Vt||Ur&&window.devicePixelRatio||1;return se=se>=1?Math.ceil(se):1,Z&&($t=q||lo(Z)||Z.width/se,ue=at||uo(Z)||Z.height/se),g.customElements=new Rl,g.devicePixelRatio=se,g.requestAnimationFrame=Jt!=null?Jt:Kr.bind(ie.globalThis),g.cancelAnimationFrame=qt!=null?qt:Hi.bind(ie.globalThis),g.createImage=Xt!=null?Xt:function(){return new window.Image},g.supportsTouchEvents=ne!=null?ne:"ontouchstart"in ie.globalThis,g.supportsPointerEvents=ge!=null?ge:!!ie.globalThis.PointerEvent,g.isTouchEvent=Ht!=null?Ht:function(fe){return g.supportsTouchEvents&&fe instanceof ie.globalThis.TouchEvent},g.isMouseEvent=kt!=null?kt:function(fe){return!ie.globalThis.MouseEvent||fe instanceof ie.globalThis.MouseEvent&&(!g.supportsPointerEvents||!(fe instanceof ie.globalThis.PointerEvent))},Nt&&(ie.offscreenCanvas=Nt),g.document=new la,g.document.defaultView=g,xt||io(R,g,Kt),g.initRenderingContext((0,u.Z)((0,u.Z)({},_),{},{width:$t,height:ue,background:ht!=null?ht:"transparent",cursor:Mt!=null?Mt:"default",cleanUpOnDestroy:Kt,devicePixelRatio:se,requestAnimationFrame:g.requestAnimationFrame,cancelAnimationFrame:g.cancelAnimationFrame,createImage:g.createImage,supportsTouchEvents:g.supportsTouchEvents,supportsPointerEvents:g.supportsPointerEvents,isTouchEvent:g.isTouchEvent,isMouseEvent:g.isMouseEvent,dblClickSpeed:Ft!=null?Ft:200})),g.initDefaultCamera($t,ue,k.clipSpaceNearZ),g.initRenderer(k,!0),g}return(0,c.Z)(L,A),(0,p.Z)(L,[{key:"initRenderingContext",value:function(g){this.context.config=g,this.context.renderingContext={root:this.document.documentElement,unculledEntities:[],renderListCurrentFrame:[],renderReasons:new Set,force:!1,dirty:!1}}},{key:"initDefaultCamera",value:function(g,R,Z){var k=this,q=new ie.CameraContribution;q.clipSpaceNearZ=Z,q.setType(Wt.EXPLORING,Qt.DEFAULT).setPosition(g/2,R/2,fa).setFocalPoint(g/2,R/2,0).setOrthographic(g/-2,g/2,R/2,R/-2,Sl,Bl),q.canvas=this,q.eventEmitter.on(oe.UPDATED,function(){k.context.renderingContext.renderReasons.add(Zn.CAMERA_CHANGED),ie.enableSizeAttenuation&&k.getConfig().renderer.getConfig().enableSizeAttenuation&&k.updateSizeAttenuation()}),this.context.camera=q}},{key:"updateSizeAttenuation",value:function(){var g=this.getCamera().getZoom();this.document.documentElement.forEach(function(R){ie.styleValueRegistry.updateSizeAttenuation(R,g)})}},{key:"getConfig",value:function(){return this.context.config}},{key:"getRoot",value:function(){return this.document.documentElement}},{key:"getCamera",value:function(){return this.context.camera}},{key:"getContextService",value:function(){return this.context.contextService}},{key:"getEventService",value:function(){return this.context.eventService}},{key:"getRenderingService",value:function(){return this.context.renderingService}},{key:"getRenderingContext",value:function(){return this.context.renderingContext}},{key:"getStats",value:function(){return this.getRenderingService().getStats()}},{key:"ready",get:function(){var g=this;return this.readyPromise||(this.readyPromise=new Promise(function(R){g.resolveReadyPromise=function(){R(g)}}),this.inited&&this.resolveReadyPromise()),this.readyPromise}},{key:"destroy",value:function(){var g,R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,Z=arguments.length>1?arguments[1]:void 0;Ve.clearCache();var k=((g=this.getConfig().future)===null||g===void 0?void 0:g.experimentalCancelEventPropagation)===!0;Z||this.dispatchEvent(new qe(yn.BEFORE_DESTROY),k,k),this.frameId&&this.cancelAnimationFrame(this.frameId);var q=this.getRoot();R&&(this.unmountChildren(q),this.document.destroy(),this.getEventService().destroy()),this.getRenderingService().destroy(),this.getContextService().destroy(),this.context.rBushRoot&&this.context.rBushRoot.clear(),Z||this.dispatchEvent(new qe(yn.AFTER_DESTROY),k,k);var at=function(Mt){Mt.currentTarget=null,Mt.manager=null,Mt.target=null,Mt.relatedNode=null};at(vr),at(_r),at(qr),at(ha),at(ti),at(mn),at(zr),at(jr),at(sa),ie.textService.clearCache()}},{key:"changeSize",value:function(g,R){this.resize(g,R)}},{key:"resize",value:function(g,R){var Z,k=this.context.config;k.width=g,k.height=R,this.getContextService().resize(g,R);var q=this.context.camera,at=q.getProjectionMode();q.setPosition(g/2,R/2,fa).setFocalPoint(g/2,R/2,0),at===ae.ORTHOGRAPHIC?q.setOrthographic(g/-2,g/2,R/2,R/-2,q.getNear(),q.getFar()):q.setAspect(g/R);var ht=((Z=k.future)===null||Z===void 0?void 0:Z.experimentalCancelEventPropagation)===!0;this.dispatchEvent(new qe(yn.RESIZE,{width:g,height:R}),ht,ht)}},{key:"appendChild",value:function(g,R){return this.document.documentElement.appendChild(g,R)}},{key:"insertBefore",value:function(g,R){return this.document.documentElement.insertBefore(g,R)}},{key:"removeChild",value:function(g){return this.document.documentElement.removeChild(g)}},{key:"removeChildren",value:function(){this.document.documentElement.removeChildren()}},{key:"destroyChildren",value:function(){this.document.documentElement.destroyChildren()}},{key:"render",value:function(g){var R,Z=this;g&&(qr.detail=g,ti.detail=g);var k=((R=this.getConfig().future)===null||R===void 0?void 0:R.experimentalCancelEventPropagation)===!0;this.dispatchEvent(qr,k,k);var q=this.getRenderingService();q.render(this.getConfig(),g,function(){Z.dispatchEvent(ha,k,k)}),this.dispatchEvent(ti,k,k)}},{key:"run",value:function(){var g=this,R=function(k,q){g.render(q),g.frameId=g.requestAnimationFrame(R)};R()}},{key:"initRenderer",value:function(g){var R=this,Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!g)throw new Error("Renderer is required.");this.inited=!1,this.readyPromise=void 0,this.context.rBushRoot=new dt,this.context.renderingPlugins=[],this.context.renderingPlugins.push(new ca,new da,new ua([new Il])),this.loadRendererContainerModule(g),this.context.contextService=new this.context.ContextService((0,u.Z)((0,u.Z)({},ie),this.context)),this.context.renderingService=new Go(ie,this.context),this.context.eventService=new Vo(ie,this.context),this.context.eventService.init(),this.context.contextService.init?(this.context.contextService.init(),this.initRenderingService(g,Z,!0)):this.context.contextService.initAsync().then(function(){R.initRenderingService(g,Z)}).catch(function(k){console.error(k)})}},{key:"initRenderingService",value:function(g){var R=this,Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.context.renderingService.init(function(){var q;R.inited=!0;var at=((q=R.getConfig().future)===null||q===void 0?void 0:q.experimentalCancelEventPropagation)===!0;Z?k?R.requestAnimationFrame(function(){R.dispatchEvent(new qe(yn.READY),at,at)}):R.dispatchEvent(new qe(yn.READY),at,at):R.dispatchEvent(new qe(yn.RENDERER_CHANGED),at,at),R.readyPromise&&R.resolveReadyPromise(),Z||R.getRoot().forEach(function(ht){var Mt,xt;(Mt=(xt=ht).dirty)===null||Mt===void 0||Mt.call(xt,!0,!0)}),R.mountChildren(R.getRoot()),g.getConfig().enableAutoRendering&&R.run()})}},{key:"loadRendererContainerModule",value:function(g){var R=this,Z=g.getPlugins();Z.forEach(function(k){k.context=R.context,k.init(ie)})}},{key:"setRenderer",value:function(g){var R=this.getConfig();if(R.renderer!==g){var Z=R.renderer;R.renderer=g,this.destroy(!1,!0),(0,M.Z)((Z==null?void 0:Z.getPlugins())||[]).reverse().forEach(function(k){k.destroy(ie)}),this.initRenderer(g)}}},{key:"setCursor",value:function(g){var R=this.getConfig();R.cursor=g,this.getContextService().applyCursorStyle(g)}},{key:"unmountChildren",value:function(g){var R=this;if(g.childNodes.forEach(function(q){R.unmountChildren(q)}),this.inited){if(g.isMutationObserved)g.dispatchEvent(_r);else{var Z,k=((Z=this.getConfig().future)===null||Z===void 0?void 0:Z.experimentalCancelEventPropagation)===!0;_r.target=g,this.dispatchEvent(_r,!0,k)}g!==this.document.documentElement&&(g.ownerDocument=null),g.isConnected=!1}g.isCustomElement&&g.disconnectedCallback&&g.disconnectedCallback()}},{key:"mountChildren",value:function(g){var R=this,Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:sr(g);if(this.inited){if(!g.isConnected&&(g.ownerDocument=this.document,g.isConnected=!0,!Z))if(g.isMutationObserved)g.dispatchEvent(vr);else{var k,q=((k=this.getConfig().future)===null||k===void 0?void 0:k.experimentalCancelEventPropagation)===!0;vr.target=g,this.dispatchEvent(vr,!0,q)}}else console.warn("[g]: You are trying to call `canvas.appendChild` before canvas' initialization finished. You can either await `canvas.ready` or listen to `CanvasEvent.READY` manually.","appended child: ",g.nodeName);g.childNodes.forEach(function(at){R.mountChildren(at,Z)}),g.isCustomElement&&g.connectedCallback&&g.connectedCallback()}},{key:"mountFragment",value:function(g){this.mountChildren(g,!1)}},{key:"client2Viewport",value:function(g){return this.getEventService().client2Viewport(g)}},{key:"viewport2Client",value:function(g){return this.getEventService().viewport2Client(g)}},{key:"viewport2Canvas",value:function(g){return this.getEventService().viewport2Canvas(g)}},{key:"canvas2Viewport",value:function(g){return this.getEventService().canvas2Viewport(g)}},{key:"getPointByClient",value:function(g,R){return this.client2Viewport({x:g,y:R})}},{key:"getClientByPoint",value:function(g,R){return this.viewport2Client({x:g,y:R})}}])}(qi)},17457:function(it,w,t){"use strict";t.d(w,{TE:function(){return M},U4:function(){return x},Xk:function(){return b},Y1:function(){return vt},_x:function(){return S},hE:function(){return dt},l5:function(){return F},ph:function(){return V},vp:function(){return i},x4:function(){return st}});var u=t(87948),D=t(45378),p=t(75837);function M(ft,_t,yt,Ct){var Pt=ft-yt,Dt=_t-Ct;return Math.sqrt(Pt*Pt+Dt*Dt)}function m(ft,_t){var yt=Math.min.apply(Math,(0,u.Z)(ft)),Ct=Math.min.apply(Math,(0,u.Z)(_t)),Pt=Math.max.apply(Math,(0,u.Z)(ft)),Dt=Math.max.apply(Math,(0,u.Z)(_t));return{x:yt,y:Ct,width:Pt-yt,height:Dt-Ct}}function c(ft){return(ft+Math.PI*2)%(Math.PI*2)}function h(ft,_t){var yt=Math.abs(ft);return _t>0?yt:yt*-1}function v(ft,_t,yt,Ct,Pt,Dt){var At=yt,Ut=Ct;if(At===0||Ut===0)return{x:ft,y:_t};for(var Bt=Pt-ft,zt=Dt-_t,jt=Math.abs(Bt),Yt=Math.abs(zt),te=At*At,re=Ut*Ut,ee=Math.PI/4,Gt=0,ve=0,de=0;de<4;de++){Gt=At*Math.cos(ee),ve=Ut*Math.sin(ee);var ye=(te-re)*Math.pow(Math.cos(ee),3)/At,_e=(re-te)*Math.pow(Math.sin(ee),3)/Ut,me=Gt-ye,be=ve-_e,Ie=jt-ye,pe=Yt-_e,Ye=Math.hypot(be,me),dn=Math.hypot(pe,Ie),Zt=Ye*Math.asin((me*pe-be*Ie)/(Ye*dn)),St=Zt/Math.sqrt(te+re-Gt*Gt-ve*ve);ee+=St,ee=Math.min(Math.PI/2,Math.max(0,ee))}return{x:ft+h(Gt,Bt),y:_t+h(ve,zt)}}function a(ft,_t,yt,Ct,Pt,Dt,At,Ut){return-1*yt*Math.cos(Pt)*Math.sin(Ut)-Ct*Math.sin(Pt)*Math.cos(Ut)}function r(ft,_t,yt,Ct,Pt,Dt,At,Ut){return-1*yt*Math.sin(Pt)*Math.sin(Ut)+Ct*Math.cos(Pt)*Math.cos(Ut)}function s(ft,_t,yt){return Math.atan(-_t/ft*Math.tan(yt))}function o(ft,_t,yt){return Math.atan(_t/(ft*Math.tan(yt)))}function d(ft,_t,yt,Ct,Pt,Dt){return yt*Math.cos(Pt)*Math.cos(Dt)-Ct*Math.sin(Pt)*Math.sin(Dt)+ft}function f(ft,_t,yt,Ct,Pt,Dt){return yt*Math.sin(Pt)*Math.cos(Dt)+Ct*Math.cos(Pt)*Math.sin(Dt)+_t}function y(ft,_t,yt,Ct){var Pt=Math.atan2(Ct*ft,yt*_t);return(Pt+Math.PI*2)%(Math.PI*2)}function E(ft,_t,yt){return{x:ft*Math.cos(yt),y:_t*Math.sin(yt)}}function e(ft,_t,yt){var Ct=Math.cos(yt),Pt=Math.sin(yt);return[ft*Ct-_t*Pt,ft*Pt+_t*Ct]}function i(ft,_t,yt,Ct,Pt,Dt,At){for(var Ut=s(yt,Ct,Pt),Bt=1/0,zt=-1/0,jt=[Dt,At],Yt=-Math.PI*2;Yt<=Math.PI*2;Yt+=Math.PI){var te=Ut+Yt;Dt<At?Dt<te&&te<At&&jt.push(te):At<te&&te<Dt&&jt.push(te)}for(var re=0;re<jt.length;re++){var ee=d(ft,_t,yt,Ct,Pt,jt[re]);ee<Bt&&(Bt=ee),ee>zt&&(zt=ee)}for(var Gt=o(yt,Ct,Pt),ve=1/0,de=-1/0,ye=[Dt,At],_e=-Math.PI*2;_e<=Math.PI*2;_e+=Math.PI){var me=Gt+_e;Dt<At?Dt<me&&me<At&&ye.push(me):At<me&&me<Dt&&ye.push(me)}for(var be=0;be<ye.length;be++){var Ie=f(ft,_t,yt,Ct,Pt,ye[be]);Ie<ve&&(ve=Ie),Ie>de&&(de=Ie)}return{x:Bt,y:ve,width:zt-Bt,height:de-ve}}function n(ft,_t,yt,Ct,Pt,Dt,At,Ut,Bt){var zt=e(Ut-ft,Bt-_t,-Pt),jt=_slicedToArray(zt,2),Yt=jt[0],te=jt[1],re=v(0,0,yt,Ct,Yt,te),ee=y(yt,Ct,re.x,re.y);ee<Dt?re=E(yt,Ct,Dt):ee>At&&(re=E(yt,Ct,At));var Gt=e(re.x,re.y,Pt);return{x:Gt[0]+ft,y:Gt[1]+_t}}function l(ft,_t,yt,Ct,Pt,Dt,At,Ut){var Bt=(At-Dt)*Ut+Dt,zt=a(ft,_t,yt,Ct,Pt,Dt,At,Bt),jt=r(ft,_t,yt,Ct,Pt,Dt,At,Bt);return c(Math.atan2(jt,zt))}var O=1e-4;function C(ft,_t,yt,Ct,Pt,Dt){var At=-1,Ut=1/0,Bt=[yt,Ct],zt=20;Dt&&Dt>200&&(zt=Dt/10);for(var jt=1/zt,Yt=jt/10,te=0;te<=zt;te++){var re=te*jt,ee=[Pt.apply(void 0,(0,u.Z)(ft.concat([re]))),Pt.apply(void 0,(0,u.Z)(_t.concat([re])))],Gt=M(Bt[0],Bt[1],ee[0],ee[1]);Gt<Ut&&(At=re,Ut=Gt)}if(At===0)return{x:ft[0],y:_t[0]};if(At===1){var ve=ft.length;return{x:ft[ve-1],y:_t[ve-1]}}Ut=1/0;for(var de=0;de<32&&!(Yt<O);de++){var ye=At-Yt,_e=At+Yt,me=[Pt.apply(void 0,(0,u.Z)(ft.concat([ye]))),Pt.apply(void 0,(0,u.Z)(_t.concat([ye])))],be=M(Bt[0],Bt[1],me[0],me[1]);if(ye>=0&&be<Ut)At=ye,Ut=be;else{var Ie=[Pt.apply(void 0,(0,u.Z)(ft.concat([_e]))),Pt.apply(void 0,(0,u.Z)(_t.concat([_e])))],pe=M(Bt[0],Bt[1],Ie[0],Ie[1]);_e<=1&&pe<Ut?(At=_e,Ut=pe):Yt*=.5}}return{x:Pt.apply(void 0,(0,u.Z)(ft.concat([At]))),y:Pt.apply(void 0,(0,u.Z)(_t.concat([At])))}}function T(ft,_t){for(var yt=0,Ct=ft.length,Pt=0;Pt<Ct;Pt++){var Dt=ft[Pt],At=_t[Pt],Ut=ft[(Pt+1)%Ct],Bt=_t[(Pt+1)%Ct];yt+=M(Dt,At,Ut,Bt)}return yt/2}function P(ft,_t,yt,Ct){return m([ft,yt],[_t,Ct])}function b(ft,_t,yt,Ct){return M(ft,_t,yt,Ct)}function x(ft,_t,yt,Ct,Pt){return{x:(1-Pt)*ft+Pt*yt,y:(1-Pt)*_t+Pt*Ct}}function I(ft,_t,yt,Ct,Pt,Dt){var At=(yt-ft)*(Pt-ft)+(Ct-_t)*(Dt-_t);if(At<0)return M(ft,_t,Pt,Dt);var Ut=(yt-ft)*(yt-ft)+(Ct-_t)*(Ct-_t);return At>Ut?M(yt,Ct,Pt,Dt):S(ft,_t,yt,Ct,Pt,Dt)}function S(ft,_t,yt,Ct,Pt,Dt){var At=[yt-ft,Ct-_t];if(p.I6(At,[0,0]))return Math.sqrt((Pt-ft)*(Pt-ft)+(Dt-_t)*(Dt-_t));var Ut=[-At[1],At[0]];p.Fv(Ut,Ut);var Bt=[Pt-ft,Dt-_t];return Math.abs(p.AK(Bt,Ut))}function K(ft,_t,yt,Ct){return Math.atan2(Ct-_t,yt-ft)}function N(ft,_t,yt,Ct,Pt){var Dt=1-Pt;return Dt*Dt*Dt*ft+3*_t*Pt*Dt*Dt+3*yt*Pt*Pt*Dt+Ct*Pt*Pt*Pt}function z(ft,_t,yt,Ct,Pt){var Dt=1-Pt;return 3*(Dt*Dt*(_t-ft)+2*Dt*Pt*(yt-_t)+Pt*Pt*(Ct-yt))}function j(ft,_t,yt,Ct){var Pt=-3*ft+9*_t-9*yt+3*Ct,Dt=6*ft-12*_t+6*yt,At=3*_t-3*ft,Ut=[],Bt,zt,jt;if((0,D.Z)(Pt,0))(0,D.Z)(Dt,0)||(Bt=-At/Dt,Bt>=0&&Bt<=1&&Ut.push(Bt));else{var Yt=Dt*Dt-4*Pt*At;(0,D.Z)(Yt,0)?Ut.push(-Dt/(2*Pt)):Yt>0&&(jt=Math.sqrt(Yt),Bt=(-Dt+jt)/(2*Pt),zt=(-Dt-jt)/(2*Pt),Bt>=0&&Bt<=1&&Ut.push(Bt),zt>=0&&zt<=1&&Ut.push(zt))}return Ut}function W(ft,_t,yt,Ct,Pt,Dt,At,Ut,Bt){var zt=N(ft,yt,Pt,At,Bt),jt=N(_t,Ct,Dt,Ut,Bt),Yt=x(ft,_t,yt,Ct,Bt),te=x(yt,Ct,Pt,Dt,Bt),re=x(Pt,Dt,At,Ut,Bt),ee=x(Yt.x,Yt.y,te.x,te.y,Bt),Gt=x(te.x,te.y,re.x,re.y,Bt);return[[ft,_t,Yt.x,Yt.y,ee.x,ee.y,zt,jt],[zt,jt,Gt.x,Gt.y,re.x,re.y,At,Ut]]}function U(ft,_t,yt,Ct,Pt,Dt,At,Ut,Bt){if(Bt===0)return T([ft,yt,Pt,At],[_t,Ct,Dt,Ut]);var zt=W(ft,_t,yt,Ct,Pt,Dt,At,Ut,.5),jt=[].concat(_toConsumableArray(zt[0]),[Bt-1]),Yt=[].concat(_toConsumableArray(zt[1]),[Bt-1]);return U.apply(void 0,_toConsumableArray(jt))+U.apply(void 0,_toConsumableArray(Yt))}function F(ft,_t,yt,Ct,Pt,Dt,At,Ut){for(var Bt=[ft,At],zt=[_t,Ut],jt=j(ft,yt,Pt,At),Yt=j(_t,Ct,Dt,Ut),te=0;te<jt.length;te++)Bt.push(N(ft,yt,Pt,At,jt[te]));for(var re=0;re<Yt.length;re++)zt.push(N(_t,Ct,Dt,Ut,Yt[re]));return m(Bt,zt)}function H(ft,_t,yt,Ct,Pt,Dt,At,Ut){return U(ft,_t,yt,Ct,Pt,Dt,At,Ut,3)}function Y(ft,_t,yt,Ct,Pt,Dt,At,Ut,Bt,zt,jt){return C([ft,yt,Pt,At],[_t,Ct,Dt,Ut],Bt,zt,N,jt)}function V(ft,_t,yt,Ct,Pt,Dt,At,Ut,Bt,zt,jt){var Yt=Y(ft,_t,yt,Ct,Pt,Dt,At,Ut,Bt,zt,jt);return M(Yt.x,Yt.y,Bt,zt)}function X(ft,_t,yt,Ct,Pt,Dt,At,Ut,Bt){return{x:N(ft,yt,Pt,At,Bt),y:N(_t,Ct,Dt,Ut,Bt)}}function $(ft,_t,yt,Ct,Pt,Dt,At,Ut,Bt){var zt=z(ft,yt,Pt,At,Bt),jt=z(_t,Ct,Dt,Ut,Bt);return c(Math.atan2(jt,zt))}function rt(ft){for(var _t=0,yt=[],Ct=0;Ct<ft.length-1;Ct++){var Pt=ft[Ct],Dt=ft[Ct+1],At=M(Pt[0],Pt[1],Dt[0],Dt[1]),Ut={from:Pt,to:Dt,length:At};yt.push(Ut),_t+=At}return{segments:yt,totalLength:_t}}function ot(ft){if(ft.length<2)return 0;for(var _t=0,yt=0;yt<ft.length-1;yt++){var Ct=ft[yt],Pt=ft[yt+1];_t+=M(Ct[0],Ct[1],Pt[0],Pt[1])}return _t}function tt(ft,_t){if(_t>1||_t<0||ft.length<2)return null;var yt=rt(ft),Ct=yt.segments,Pt=yt.totalLength;if(Pt===0)return{x:ft[0][0],y:ft[0][1]};for(var Dt=0,At=null,Ut=0;Ut<Ct.length;Ut++){var Bt=Ct[Ut],zt=Bt.from,jt=Bt.to,Yt=Bt.length/Pt;if(_t>=Dt&&_t<=Dt+Yt){var te=(_t-Dt)/Yt;At=x(zt[0],zt[1],jt[0],jt[1],te);break}Dt+=Yt}return At}function G(ft,_t){if(_t>1||_t<0||ft.length<2)return 0;for(var yt=rt(ft),Ct=yt.segments,Pt=yt.totalLength,Dt=0,At=0,Ut=0;Ut<Ct.length;Ut++){var Bt=Ct[Ut],zt=Bt.from,jt=Bt.to,Yt=Bt.length/Pt;if(_t>=Dt&&_t<=Dt+Yt){At=Math.atan2(jt[1]-zt[1],jt[0]-zt[0]);break}Dt+=Yt}return At}function nt(ft,_t,yt){for(var Ct=1/0,Pt=0;Pt<ft.length-1;Pt++){var Dt=ft[Pt],At=ft[Pt+1],Ut=I(Dt[0],Dt[1],At[0],At[1],_t,yt);Ut<Ct&&(Ct=Ut)}return Ct}function ut(ft){for(var _t=[],yt=[],Ct=0;Ct<ft.length;Ct++){var Pt=ft[Ct];_t.push(Pt[0]),yt.push(Pt[1])}return m(_t,yt)}function dt(ft){return ot(ft)}function et(ft,_t){return tt(ft,_t)}function gt(ft,_t,yt){return nt(ft,_t,yt)}function Et(ft,_t){return G(ft,_t)}function lt(ft){var _t=ft.slice(0);return ft.length&&_t.push(ft[0]),_t}function mt(ft){return ut(ft)}function Tt(ft){return ot(lt(ft))}function B(ft,_t){return tt(lt(ft),_t)}function J(ft,_t,yt){return nt(lt(ft),_t,yt)}function pt(ft,_t){return G(lt(ft),_t)}function Ot(ft,_t,yt,Ct){var Pt=1-Ct;return Pt*Pt*ft+2*Ct*Pt*_t+Ct*Ct*yt}function bt(ft,_t,yt){var Ct=ft+yt-2*_t;if((0,D.Z)(Ct,0))return[.5];var Pt=(ft-_t)/Ct;return Pt<=1&&Pt>=0?[Pt]:[]}function Rt(ft,_t,yt,Ct,Pt,Dt,At){var Ut=Ot(ft,yt,Pt,At),Bt=Ot(_t,Ct,Dt,At),zt=x(ft,_t,yt,Ct,At),jt=x(yt,Ct,Pt,Dt,At);return[[ft,_t,zt.x,zt.y,Ut,Bt],[Ut,Bt,jt.x,jt.y,Pt,Dt]]}function It(ft,_t,yt,Ct,Pt,Dt,At){if(At===0)return(M(ft,_t,yt,Ct)+M(yt,Ct,Pt,Dt)+M(ft,_t,Pt,Dt))/2;var Ut=Rt(ft,_t,yt,Ct,Pt,Dt,.5),Bt=Ut[0],zt=Ut[1];return Bt.push(At-1),zt.push(At-1),It.apply(void 0,_toConsumableArray(Bt))+It.apply(void 0,_toConsumableArray(zt))}function st(ft,_t,yt,Ct,Pt,Dt){var At=bt(ft,yt,Pt)[0],Ut=bt(_t,Ct,Dt)[0],Bt=[ft,Pt],zt=[_t,Dt];return At!==void 0&&Bt.push(Ot(ft,yt,Pt,At)),Ut!==void 0&&zt.push(Ot(_t,Ct,Dt,Ut)),m(Bt,zt)}function Q(ft,_t,yt,Ct,Pt,Dt){return It(ft,_t,yt,Ct,Pt,Dt,3)}function ct(ft,_t,yt,Ct,Pt,Dt,At,Ut){return C([ft,yt,Pt],[_t,Ct,Dt],At,Ut,Ot)}function vt(ft,_t,yt,Ct,Pt,Dt,At,Ut){var Bt=ct(ft,_t,yt,Ct,Pt,Dt,At,Ut);return M(Bt.x,Bt.y,At,Ut)}},80110:function(it,w,t){"use strict";t.d(w,{S:function(){return E}});var u=t(59125),D=t(76132),p=t(99190),M=t(87974),m=t(61912),c=t(46911),h=t(8818),v=t(15378);function a(e,i){var n=i.cx,l=n===void 0?0:n,O=i.cy,C=O===void 0?0:O,T=i.r;e.arc(l,C,T,0,Math.PI*2,!1)}function r(e,i){var n=i.cx,l=n===void 0?0:n,O=i.cy,C=O===void 0?0:O,T=i.rx,P=i.ry;if(e.ellipse)e.ellipse(l,C,T,P,0,0,Math.PI*2,!1);else{var b=T>P?T:P,x=T>P?1:T/P,I=T>P?P/T:1;e.save(),e.scale(x,I),e.arc(l,C,b,0,Math.PI*2)}}function s(e,i){var n=i.x1,l=i.y1,O=i.x2,C=i.y2,T=i.markerStart,P=i.markerEnd,b=i.markerStartOffset,x=i.markerEndOffset,I=0,S=0,K=0,N=0,z=0,j,W;T&&(0,c.RV)(T)&&b&&(j=O-n,W=C-l,z=Math.atan2(W,j),I=Math.cos(z)*(b||0),S=Math.sin(z)*(b||0)),P&&(0,c.RV)(P)&&x&&(j=n-O,W=l-C,z=Math.atan2(W,j),K=Math.cos(z)*(x||0),N=Math.sin(z)*(x||0)),e.moveTo(n+I,l+S),e.lineTo(O+K,C+N)}function o(e,i){var n=i.markerStart,l=i.markerEnd,O=i.markerStartOffset,C=i.markerEndOffset,T=i.d,P=T.absolutePath,b=T.segments,x=0,I=0,S=0,K=0,N=0,z,j;if(n&&(0,c.RV)(n)&&O){var W=n.parentNode.getStartTangent(),U=(0,h.Z)(W,2),F=U[0],H=U[1];z=F[0]-H[0],j=F[1]-H[1],N=Math.atan2(j,z),x=Math.cos(N)*(O||0),I=Math.sin(N)*(O||0)}if(l&&(0,c.RV)(l)&&C){var Y=l.parentNode.getEndTangent(),V=(0,h.Z)(Y,2),X=V[0],$=V[1];z=X[0]-$[0],j=X[1]-$[1],N=Math.atan2(j,z),S=Math.cos(N)*(C||0),K=Math.sin(N)*(C||0)}for(var rt=0;rt<P.length;rt++){var ot=P[rt],tt=ot[0],G=P[rt+1],nt=rt===0&&(x!==0||I!==0),ut=(rt===P.length-1||G&&(G[0]==="M"||G[0]==="Z"))&&S!==0&&K!==0,dt=nt?[x,I]:[0,0],et=(0,h.Z)(dt,2),gt=et[0],Et=et[1],lt=ut?[S,K]:[0,0],mt=(0,h.Z)(lt,2),Tt=mt[0],B=mt[1];switch(tt){case"M":e.moveTo(ot[1]+gt,ot[2]+Et);break;case"L":e.lineTo(ot[1]+Tt,ot[2]+B);break;case"Q":e.quadraticCurveTo(ot[1],ot[2],ot[3]+Tt,ot[4]+B);break;case"C":e.bezierCurveTo(ot[1],ot[2],ot[3],ot[4],ot[5]+Tt,ot[6]+B);break;case"A":{var J=b[rt].arcParams,pt=J.cx,Ot=J.cy,bt=J.rx,Rt=J.ry,It=J.startAngle,st=J.endAngle,Q=J.xRotation,ct=J.sweepFlag;if(e.ellipse)e.ellipse(pt,Ot,bt,Rt,Q,It,st,!!(1-ct));else{var vt=bt>Rt?bt:Rt,ft=bt>Rt?1:bt/Rt,_t=bt>Rt?Rt/bt:1;e.translate(pt,Ot),e.rotate(Q),e.scale(ft,_t),e.arc(0,0,vt,It,st,!!(1-ct)),e.scale(1/ft,1/_t),e.rotate(-Q),e.translate(-pt,-Ot)}ut&&e.lineTo(ot[6]+S,ot[7]+K);break}case"Z":e.closePath();break}}}function d(e,i){var n=i.markerStart,l=i.markerEnd,O=i.markerStartOffset,C=i.markerEndOffset,T=i.points.points,P=T.length,b=T[0][0],x=T[0][1],I=T[P-1][0],S=T[P-1][1],K=0,N=0,z=0,j=0,W=0,U,F;n&&(0,c.RV)(n)&&O&&(U=T[1][0]-T[0][0],F=T[1][1]-T[0][1],W=Math.atan2(F,U),K=Math.cos(W)*(O||0),N=Math.sin(W)*(O||0)),l&&(0,c.RV)(l)&&C&&(U=T[P-1][0]-T[0][0],F=T[P-1][1]-T[0][1],W=Math.atan2(F,U),z=Math.cos(W)*(C||0),j=Math.sin(W)*(C||0)),e.moveTo(b+(K||z),x+(N||j));for(var H=1;H<P-1;H++){var Y=T[H];e.lineTo(Y[0],Y[1])}e.lineTo(I,S)}function f(e,i){var n=i.markerStart,l=i.markerEnd,O=i.markerStartOffset,C=i.markerEndOffset,T=i.points.points,P=T.length,b=T[0][0],x=T[0][1],I=T[P-1][0],S=T[P-1][1],K=0,N=0,z=0,j=0,W=0,U,F;n&&(0,c.RV)(n)&&O&&(U=T[1][0]-T[0][0],F=T[1][1]-T[0][1],W=Math.atan2(F,U),K=Math.cos(W)*(O||0),N=Math.sin(W)*(O||0)),l&&(0,c.RV)(l)&&C&&(U=T[P-2][0]-T[P-1][0],F=T[P-2][1]-T[P-1][1],W=Math.atan2(F,U),z=Math.cos(W)*(C||0),j=Math.sin(W)*(C||0)),e.moveTo(b+K,x+N);for(var H=1;H<P-1;H++){var Y=T[H];e.lineTo(Y[0],Y[1])}e.lineTo(I+z,S+j)}function y(e,i){var n=i.x,l=n===void 0?0:n,O=i.y,C=O===void 0?0:O,T=i.radius,P=i.width,b=i.height,x=P,I=b,S=T&&T.some(function(V){return V!==0});if(!S)e.rect(l,C,x,I);else{var K=P>0?1:-1,N=b>0?1:-1,z=K+N===0,j=T.map(function(V){return(0,v.Z)(V,0,Math.min(Math.abs(x)/2,Math.abs(I)/2))}),W=(0,h.Z)(j,4),U=W[0],F=W[1],H=W[2],Y=W[3];e.moveTo(K*U+l,C),e.lineTo(x-K*F+l,C),F!==0&&e.arc(x-K*F+l,N*F+C,F,-N*Math.PI/2,K>0?0:Math.PI,z),e.lineTo(x+l,I-N*H+C),H!==0&&e.arc(x-K*H+l,I-N*H+C,H,K>0?0:Math.PI,N>0?Math.PI/2:1.5*Math.PI,z),e.lineTo(K*Y+l,I+C),Y!==0&&e.arc(K*Y+l,I-N*Y+C,Y,N>0?Math.PI/2:-Math.PI/2,K>0?Math.PI:0,z),e.lineTo(l,N*U+C),U!==0&&e.arc(K*U+l,N*U+C,U,K>0?Math.PI:0,N>0?Math.PI*1.5:Math.PI/2,z)}}var E=function(e){function i(){var n;(0,D.Z)(this,i);for(var l=arguments.length,O=new Array(l),C=0;C<l;C++)O[C]=arguments[C];return n=(0,M.Z)(this,i,[].concat(O)),n.name="canvas-path-generator",n}return(0,m.Z)(i,e),(0,p.Z)(i,[{key:"init",value:function(){var l,O=(l={},(0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)(l,c.bn.CIRCLE,a),c.bn.ELLIPSE,r),c.bn.RECT,y),c.bn.LINE,s),c.bn.POLYLINE,f),c.bn.POLYGON,d),c.bn.PATH,o),c.bn.TEXT,void 0),c.bn.GROUP,void 0),c.bn.IMAGE,void 0),(0,u.Z)((0,u.Z)((0,u.Z)(l,c.bn.HTML,void 0),c.bn.MESH,void 0),c.bn.FRAGMENT,void 0));this.context.pathGeneratorFactory=O}},{key:"destroy",value:function(){delete this.context.pathGeneratorFactory}}])}(c.F6)},81003:function(it,w,t){"use strict";t.d(w,{S:function(){return G}});var u=t(59125),D=t(76132),p=t(99190),M=t(87974),m=t(61912),c=t(46911),h=t(36249),v=t(94882),a=t(7556),r=t(35136),s=t(14690),o=t(8818),d=t(17457),f=t(6477),y=t(15378),E=t(59942);var e=r.Ue(),i=r.Ue(),n=r.Ue(),l=s.create(),O=function(){function nt(){var ut=this;(0,D.Z)(this,nt),this.isHit=function(dt,et,gt,Et){var lt=ut.context.pointInPathPickerFactory[dt.nodeName];if(lt){var mt=s.invert(l,gt),Tt=r.fF(i,r.t8(n,et[0],et[1],0),mt);if(lt(dt,new c.E9(Tt[0],Tt[1]),Et,ut.isPointInPath,ut.context,ut.runtime))return!0}return!1},this.isPointInPath=function(dt,et){var gt=ut.runtime.offscreenCanvasCreator.getOrCreateContext(ut.context.config.offscreenCanvas),Et=ut.context.pathGeneratorFactory[dt.nodeName];return Et&&(gt.beginPath(),Et(gt,dt.parsedStyle),gt.closePath()),gt.isPointInPath(et.x,et.y)}}return(0,p.Z)(nt,[{key:"apply",value:function(dt,et){var gt,Et=this,lt=dt.renderingService,mt=dt.renderingContext;this.context=dt,this.runtime=et;var Tt=(gt=mt.root)===null||gt===void 0?void 0:gt.ownerDocument;lt.hooks.pick.tapPromise(nt.tag,function(){var B=(0,a.Z)((0,v.Z)().mark(function J(pt){return(0,v.Z)().wrap(function(Ot){for(;;)switch(Ot.prev=Ot.next){case 0:return Ot.abrupt("return",Et.pick(Tt,pt));case 1:case"end":return Ot.stop()}},J)}));return function(J){return B.apply(this,arguments)}}()),lt.hooks.pickSync.tap(nt.tag,function(B){return Et.pick(Tt,B)})}},{key:"pick",value:function(dt,et){var gt=et.topmost,Et=et.position,lt=Et.x,mt=Et.y,Tt=r.t8(e,lt,mt,0),B=dt.elementsFromBBox(Tt[0],Tt[1],Tt[0],Tt[1]),J=[],pt=(0,h.Z)(B),Ot;try{for(pt.s();!(Ot=pt.n()).done;){var bt=Ot.value,Rt=bt.getWorldTransform(),It=this.isHit(bt,Tt,Rt,!1);if(It){var st=(0,c.Oi)(bt);if(st){var Q=st.parsedStyle.clipPath,ct=this.isHit(Q,Tt,Q.getWorldTransform(),!0);if(ct){if(gt)return et.picked=[bt],et;J.push(bt)}}else{if(gt)return et.picked=[bt],et;J.push(bt)}}}}catch(vt){pt.e(vt)}finally{pt.f()}return et.picked=J,et}}])}();O.tag="CanvasPicker";function C(nt,ut,dt){var et=nt.parsedStyle,gt=et.cx,Et=gt===void 0?0:gt,lt=et.cy,mt=lt===void 0?0:lt,Tt=et.r,B=et.fill,J=et.stroke,pt=et.lineWidth,Ot=pt===void 0?1:pt,bt=et.increasedLineWidthForHitTesting,Rt=bt===void 0?0:bt,It=et.pointerEvents,st=It===void 0?"auto":It,Q=(Ot+Rt)/2,ct=(0,d.TE)(Et,mt,ut.x,ut.y),vt=(0,c.L1)(st,B,J),ft=(0,o.Z)(vt,2),_t=ft[0],yt=ft[1];return _t&&yt||dt?ct<=Tt+Q:_t?ct<=Tt:yt?ct>=Tt-Q&&ct<=Tt+Q:!1}function T(nt,ut,dt,et){return nt/(dt*dt)+ut/(et*et)}function P(nt,ut,dt){var et=nt.parsedStyle,gt=et.cx,Et=gt===void 0?0:gt,lt=et.cy,mt=lt===void 0?0:lt,Tt=et.rx,B=et.ry,J=et.fill,pt=et.stroke,Ot=et.lineWidth,bt=Ot===void 0?1:Ot,Rt=et.increasedLineWidthForHitTesting,It=Rt===void 0?0:Rt,st=et.pointerEvents,Q=st===void 0?"auto":st,ct=ut.x,vt=ut.y,ft=(0,c.L1)(Q,J,pt),_t=(0,o.Z)(ft,2),yt=_t[0],Ct=_t[1],Pt=(bt+It)/2,Dt=(ct-Et)*(ct-Et),At=(vt-mt)*(vt-mt);return yt&&Ct||dt?T(Dt,At,Tt+Pt,B+Pt)<=1:yt?T(Dt,At,Tt,B)<=1:Ct?T(Dt,At,Tt-Pt,B-Pt)>=1&&T(Dt,At,Tt+Pt,B+Pt)<=1:!1}function b(nt,ut,dt,et,gt,Et){return gt>=nt&&gt<=nt+dt&&Et>=ut&&Et<=ut+et}function x(nt,ut,dt,et,gt,Et,lt){var mt=gt/2;return b(nt-mt,ut-mt,dt,gt,Et,lt)||b(nt+dt-mt,ut-mt,gt,et,Et,lt)||b(nt+mt,ut+et-mt,dt,gt,Et,lt)||b(nt-mt,ut+mt,gt,et,Et,lt)}function I(nt,ut,dt,et,gt,Et,lt,mt){var Tt=(Math.atan2(mt-ut,lt-nt)+Math.PI*2)%(Math.PI*2),B={x:nt+dt*Math.cos(Tt),y:ut+dt*Math.sin(Tt)};return(0,d.TE)(B.x,B.y,lt,mt)<=Et/2}function S(nt,ut,dt,et,gt,Et,lt){var mt=Math.min(nt,dt),Tt=Math.max(nt,dt),B=Math.min(ut,et),J=Math.max(ut,et),pt=gt/2;return Et>=mt-pt&&Et<=Tt+pt&&lt>=B-pt&&lt<=J+pt?(0,d._x)(nt,ut,dt,et,Et,lt)<=gt/2:!1}function K(nt,ut,dt,et,gt){var Et=nt.length;if(Et<2)return!1;for(var lt=0;lt<Et-1;lt++){var mt=nt[lt][0],Tt=nt[lt][1],B=nt[lt+1][0],J=nt[lt+1][1];if(S(mt,Tt,B,J,ut,dt,et))return!0}if(gt){var pt=nt[0],Ot=nt[Et-1];if(S(pt[0],pt[1],Ot[0],Ot[1],ut,dt,et))return!0}return!1}var N=1e-6;function z(nt){return Math.abs(nt)<N?0:nt<0?-1:1}function j(nt,ut,dt){return(dt[0]-nt[0])*(ut[1]-nt[1])===(ut[0]-nt[0])*(dt[1]-nt[1])&&Math.min(nt[0],ut[0])<=dt[0]&&dt[0]<=Math.max(nt[0],ut[0])&&Math.min(nt[1],ut[1])<=dt[1]&&dt[1]<=Math.max(nt[1],ut[1])}function W(nt,ut,dt){var et=!1,gt=nt.length;if(gt<=2)return!1;for(var Et=0;Et<gt;Et++){var lt=nt[Et],mt=nt[(Et+1)%gt];if(j(lt,mt,[ut,dt]))return!0;z(lt[1]-dt)>0!=z(mt[1]-dt)>0&&z(ut-(dt-lt[1])*(lt[0]-mt[0])/(lt[1]-mt[1])-lt[0])<0&&(et=!et)}return et}function U(nt,ut,dt){for(var et=!1,gt=0;gt<nt.length;gt++){var Et=nt[gt];if(et=W(Et,ut,dt),et)break}return et}function F(nt,ut,dt){var et=nt.parsedStyle,gt=et.x1,Et=et.y1,lt=et.x2,mt=et.y2,Tt=et.lineWidth,B=Tt===void 0?1:Tt,J=et.increasedLineWidthForHitTesting,pt=J===void 0?0:J,Ot=et.pointerEvents,bt=Ot===void 0?"auto":Ot,Rt=et.fill,It=et.stroke,st=(0,c.L1)(bt,Rt,It),Q=(0,o.Z)(st,2),ct=Q[1];return!ct&&!dt||!B?!1:S(gt,Et,lt,mt,B+pt,ut.x,ut.y)}function H(nt,ut,dt,et,gt){for(var Et=!1,lt=ut/2,mt=0;mt<nt.length;mt++){var Tt=nt[mt],B=Tt.currentPoint,J=Tt.params,pt=Tt.prePoint,Ot=Tt.box;if(!(Ot&&!b(Ot.x-lt,Ot.y-lt,Ot.width+ut,Ot.height+ut,dt,et)))switch(Tt.command){case"L":case"Z":if(Et=S(pt[0],pt[1],B[0],B[1],ut,dt,et),Et)return!0;break;case"Q":var bt=(0,d.Y1)(pt[0],pt[1],J[1],J[2],J[3],J[4],dt,et);if(Et=bt<=ut/2,Et)return!0;break;case"C":var Rt=(0,d.ph)(pt[0],pt[1],J[1],J[2],J[3],J[4],J[5],J[6],dt,et,gt);if(Et=Rt<=ut/2,Et)return!0;break;case"A":Tt.cubicParams||(Tt.cubicParams=(0,f.W)(pt[0],pt[1],J[1],J[2],J[3],J[4],J[5],J[6],J[7],void 0));for(var It=Tt.cubicParams,st=pt,Q=0;Q<It.length;Q+=6){var ct=(0,d.ph)(st[0],st[1],It[Q],It[Q+1],It[Q+2],It[Q+3],It[Q+4],It[Q+5],dt,et,gt);if(st=[It[Q+4],It[Q+5]],Et=ct<=ut/2,Et)return!0}break}}return Et}function Y(nt,ut,dt,et,gt,Et){var lt=nt.parsedStyle,mt=lt.lineWidth,Tt=mt===void 0?1:mt,B=lt.increasedLineWidthForHitTesting,J=B===void 0?0:B,pt=lt.stroke,Ot=lt.fill,bt=lt.d,Rt=lt.pointerEvents,It=Rt===void 0?"auto":Rt,st=bt.segments,Q=bt.hasArc,ct=bt.polylines,vt=bt.polygons,ft=(0,c.L1)(It,(vt==null?void 0:vt.length)&&Ot,pt),_t=(0,o.Z)(ft,2),yt=_t[0],Ct=_t[1],Pt=(0,c.gz)(nt),Dt=!1;return yt||dt?(Q?Dt=et(nt,ut):Dt=U(vt,ut.x,ut.y)||U(ct,ut.x,ut.y),Dt):((Ct||dt)&&(Dt=H(st,Tt+J,ut.x,ut.y,Pt)),Dt)}function V(nt,ut,dt){var et=nt.parsedStyle,gt=et.stroke,Et=et.fill,lt=et.lineWidth,mt=lt===void 0?1:lt,Tt=et.increasedLineWidthForHitTesting,B=Tt===void 0?0:Tt,J=et.points,pt=et.pointerEvents,Ot=pt===void 0?"auto":pt,bt=(0,c.L1)(Ot,Et,gt),Rt=(0,o.Z)(bt,2),It=Rt[0],st=Rt[1],Q=!1;return(st||dt)&&(Q=K(J.points,mt+B,ut.x,ut.y,!0)),!Q&&(It||dt)&&(Q=W(J.points,ut.x,ut.y)),Q}function X(nt,ut,dt){var et=nt.parsedStyle,gt=et.lineWidth,Et=gt===void 0?1:gt,lt=et.increasedLineWidthForHitTesting,mt=lt===void 0?0:lt,Tt=et.points,B=et.pointerEvents,J=B===void 0?"auto":B,pt=et.fill,Ot=et.stroke,bt=(0,c.L1)(J,pt,Ot),Rt=(0,o.Z)(bt,2),It=Rt[1];return!It&&!dt||!Et?!1:K(Tt.points,Et+mt,ut.x,ut.y,!1)}function $(nt,ut,dt,et,gt){var Et=nt.parsedStyle,lt=Et.radius,mt=Et.fill,Tt=Et.stroke,B=Et.lineWidth,J=B===void 0?1:B,pt=Et.increasedLineWidthForHitTesting,Ot=pt===void 0?0:pt,bt=Et.x,Rt=bt===void 0?0:bt,It=Et.y,st=It===void 0?0:It,Q=Et.width,ct=Et.height,vt=Et.pointerEvents,ft=vt===void 0?"auto":vt,_t=(0,c.L1)(ft,mt,Tt),yt=(0,o.Z)(_t,2),Ct=yt[0],Pt=yt[1],Dt=lt&&lt.some(function(zt){return zt!==0}),At=J+Ot;if(Dt){var Bt=!1;return(Pt||dt)&&(Bt=rt(Rt,st,Q,ct,lt.map(function(zt){return(0,y.Z)(zt,0,Math.min(Math.abs(Q)/2,Math.abs(ct)/2))}),At,ut.x,ut.y)),!Bt&&(Ct||dt)&&(Bt=et(nt,ut)),Bt}else{var Ut=At/2;if(Ct&&Pt||dt)return b(Rt-Ut,st-Ut,Q+Ut,ct+Ut,ut.x,ut.y);if(Ct)return b(Rt,st,Q,ct,ut.x,ut.y);if(Pt)return x(Rt,st,Q,ct,At,ut.x,ut.y)}return!1}function rt(nt,ut,dt,et,gt,Et,lt,mt){var Tt=(0,o.Z)(gt,4),B=Tt[0],J=Tt[1],pt=Tt[2],Ot=Tt[3];return S(nt+B,ut,nt+dt-J,ut,Et,lt,mt)||S(nt+dt,ut+J,nt+dt,ut+et-pt,Et,lt,mt)||S(nt+dt-pt,ut+et,nt+Ot,ut+et,Et,lt,mt)||S(nt,ut+et-Ot,nt,ut+B,Et,lt,mt)||I(nt+dt-J,ut+J,J,1.5*Math.PI,2*Math.PI,Et,lt,mt)||I(nt+dt-pt,ut+et-pt,pt,0,.5*Math.PI,Et,lt,mt)||I(nt+Ot,ut+et-Ot,Ot,.5*Math.PI,Math.PI,Et,lt,mt)||I(nt+B,ut+B,B,Math.PI,1.5*Math.PI,Et,lt,mt)}function ot(nt,ut,dt,et,gt,Et){var lt=nt.parsedStyle,mt=lt.pointerEvents,Tt=mt===void 0?"auto":mt,B=lt.x,J=B===void 0?0:B,pt=lt.y,Ot=pt===void 0?0:pt,bt=lt.width,Rt=lt.height;if(Tt==="non-transparent-pixel"){var It=gt.config.offscreenCanvas,st=Et.offscreenCanvasCreator.getOrCreateCanvas(It),Q=Et.offscreenCanvasCreator.getOrCreateContext(It,{willReadFrequently:!0});st.width=bt,st.height=Rt,gt.defaultStyleRendererFactory[c.bn.IMAGE].render(Q,(0,E.Z)((0,E.Z)({},nt.parsedStyle),{},{x:0,y:0}),nt,void 0,void 0,void 0);var ct=Q.getImageData(ut.x-J,ut.y-Ot,1,1).data;return ct.every(function(vt){return vt!==0})}return!0}function tt(nt,ut,dt,et){var gt=nt.getGeometryBounds();return ut.x>=gt.min[0]&&ut.y>=gt.min[1]&&ut.x<=gt.max[0]&&ut.y<=gt.max[1]}var G=function(nt){function ut(){var dt;(0,D.Z)(this,ut);for(var et=arguments.length,gt=new Array(et),Et=0;Et<et;Et++)gt[Et]=arguments[Et];return dt=(0,M.Z)(this,ut,[].concat(gt)),dt.name="canvas-picker",dt}return(0,m.Z)(ut,nt),(0,p.Z)(ut,[{key:"init",value:function(){var et,gt=(et={},(0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)(et,c.bn.CIRCLE,C),c.bn.ELLIPSE,P),c.bn.RECT,$),c.bn.LINE,F),c.bn.POLYLINE,X),c.bn.POLYGON,V),c.bn.PATH,Y),c.bn.TEXT,tt),c.bn.GROUP,null),c.bn.IMAGE,ot),(0,u.Z)((0,u.Z)(et,c.bn.HTML,null),c.bn.MESH,null));this.context.pointInPathPickerFactory=gt,this.addRenderingPlugin(new O)}},{key:"destroy",value:function(){delete this.context.pointInPathPickerFactory,this.removeAllRenderingPlugins()}}])}(c.F6)},89445:function(it,w,t){"use strict";t.d(w,{Sy:function(){return U}});var u=t(59125),D=t(59942),p=t(76132),M=t(99190),m=t(87974),c=t(61912),h=t(46911),v=t(8818),a=t(87948),r=t(82231),s=t(44756),o=t(14690),d=t(35136),f=t(89148),y=t(46689);var E=(0,s.Z)("renderState"),e=function(){function F(H){(0,p.Z)(this,F),this.removedRBushNodeAABBs=[],this.renderQueue=[],Object.defineProperty(this,E,{writable:!0,value:{restoreStack:[],prevObject:null,currentContext:new Map}}),this.clearFullScreenLastFrame=!1,this.clearFullScreen=!1,this.vpMatrix=o.create(),this.dprMatrix=o.create(),this.tmpMat4=o.create(),this.vec3a=d.Ue(),this.vec3b=d.Ue(),this.vec3c=d.Ue(),this.vec3d=d.Ue(),this.canvasRendererPluginOptions=H}return(0,M.Z)(F,[{key:"apply",value:function(Y,V){var X=this;this.context=Y;var $=this.context,rt=$.config,ot=$.camera,tt=$.renderingService,G=$.renderingContext,nt=$.rBushRoot,ut=$.pathGeneratorFactory,dt=rt.renderer.getConfig().enableRenderingOptimization;rt.renderer.getConfig().enableDirtyCheck=!1,rt.renderer.getConfig().enableDirtyRectangleRendering=!1,this.rBush=nt,this.pathGeneratorFactory=ut;var et=Y.contextService,gt=G.root.ownerDocument.defaultView,Et=function(J){var pt=J.target,Ot=pt.rBushNode;Ot!=null&&Ot.aabb&&X.removedRBushNodeAABBs.push(Ot.aabb)},lt=function(J){var pt=J.target,Ot=pt.rBushNode;Ot.aabb&&X.removedRBushNodeAABBs.push(Ot.aabb)};tt.hooks.init.tap(F.tag,function(){gt.addEventListener(h.Dk.UNMOUNTED,Et),gt.addEventListener(h.Dk.CULLED,lt);var B=et.getDPR(),J=rt.width,pt=rt.height,Ot=et.getContext();X.clearRect(Ot,0,0,J*B,pt*B,rt.background)}),tt.hooks.destroy.tap(F.tag,function(){gt.removeEventListener(h.Dk.UNMOUNTED,Et),gt.removeEventListener(h.Dk.CULLED,lt),X.renderQueue=[],X.removedRBushNodeAABBs=[],(0,r.Z)(X,E)[E]={restoreStack:[],prevObject:null,currentContext:null}});var mt=function(){var J,pt=et.getContext(),Ot=et.getDPR(),bt=rt.width,Rt=rt.height,It=X.canvasRendererPluginOptions,st=It.dirtyObjectNumThreshold,Q=It.dirtyObjectRatioThreshold,ct=tt.getStats(),vt=ct.total,ft=ct.rendered,_t=ft/vt;X.clearFullScreen=X.clearFullScreenLastFrame||!((J=gt.context.renderingPlugins[1])!==null&&J!==void 0&&J.isFirstTimeRenderingFinished)||tt.disableDirtyRectangleRendering()||ft>st&&_t>Q,pt&&(typeof pt.resetTransform=="function"?pt.resetTransform():pt.setTransform(1,0,0,1,0,0),X.clearFullScreen&&X.clearRect(pt,0,0,bt*Ot,Rt*Ot,rt.background))},Tt=function(J,pt){for(var Ot=[J];Ot.length>0;){var bt,Rt=Ot.pop();Rt.isVisible()&&!Rt.isCulled()&&(dt?X.renderDisplayObjectOptimized(Rt,pt,X.context,(0,r.Z)(X,E)[E],V):X.renderDisplayObject(Rt,pt,X.context,(0,r.Z)(X,E)[E],V));for(var It=((bt=Rt.sortable)===null||bt===void 0||(bt=bt.sorted)===null||bt===void 0?void 0:bt.length)>0?Rt.sortable.sorted:Rt.childNodes,st=It.length-1;st>=0;st--)Ot.push(It[st])}};tt.hooks.endFrame.tap(F.tag,function(){if(mt(),G.root.childNodes.length===0){X.clearFullScreenLastFrame=!0;return}dt=rt.renderer.getConfig().enableRenderingOptimization,(0,r.Z)(X,E)[E]={restoreStack:[],prevObject:null,currentContext:(0,r.Z)(X,E)[E].currentContext},(0,r.Z)(X,E)[E].currentContext.clear(),X.clearFullScreenLastFrame=!1;var B=et.getContext(),J=et.getDPR();if(o.fromScaling(X.dprMatrix,[J,J,1]),o.multiply(X.vpMatrix,X.dprMatrix,ot.getOrthoMatrix()),X.clearFullScreen)dt?(B.save(),Tt(G.root,B),B.restore()):Tt(G.root,B),X.removedRBushNodeAABBs=[];else{var pt=X.safeMergeAABB.apply(X,[X.mergeDirtyAABBs(X.renderQueue)].concat((0,a.Z)(X.removedRBushNodeAABBs.map(function(te){var re=te.minX,ee=te.minY,Gt=te.maxX,ve=te.maxY,de=new h.mN;return de.setMinMax([re,ee,0],[Gt,ve,0]),de}))));if(X.removedRBushNodeAABBs=[],h.mN.isEmpty(pt)){X.renderQueue=[];return}var Ot=X.convertAABB2Rect(pt),bt=Ot.x,Rt=Ot.y,It=Ot.width,st=Ot.height,Q=d.fF(X.vec3a,[bt,Rt,0],X.vpMatrix),ct=d.fF(X.vec3b,[bt+It,Rt,0],X.vpMatrix),vt=d.fF(X.vec3c,[bt,Rt+st,0],X.vpMatrix),ft=d.fF(X.vec3d,[bt+It,Rt+st,0],X.vpMatrix),_t=Math.min(Q[0],ct[0],ft[0],vt[0]),yt=Math.min(Q[1],ct[1],ft[1],vt[1]),Ct=Math.max(Q[0],ct[0],ft[0],vt[0]),Pt=Math.max(Q[1],ct[1],ft[1],vt[1]),Dt=Math.floor(_t),At=Math.floor(yt),Ut=Math.ceil(Ct-_t),Bt=Math.ceil(Pt-yt);B.save(),X.clearRect(B,Dt,At,Ut,Bt,rt.background),B.beginPath(),B.rect(Dt,At,Ut,Bt),B.clip(),B.setTransform(X.vpMatrix[0],X.vpMatrix[1],X.vpMatrix[4],X.vpMatrix[5],X.vpMatrix[12],X.vpMatrix[13]);var zt=rt.renderer.getConfig(),jt=zt.enableDirtyRectangleRenderingDebug;jt&&gt.dispatchEvent(new h.Aw(h.$6.DIRTY_RECTANGLE,{dirtyRect:{x:Dt,y:At,width:Ut,height:Bt}}));var Yt=X.searchDirtyObjects(pt);Yt.sort(function(te,re){return te.sortable.renderOrder-re.sortable.renderOrder}).forEach(function(te){te&&te.isVisible()&&!te.isCulled()&&X.renderDisplayObject(te,B,X.context,(0,r.Z)(X,E)[E],V)}),B.restore(),X.renderQueue.forEach(function(te){X.saveDirtyAABB(te)}),X.renderQueue=[]}(0,r.Z)(X,E)[E].restoreStack.forEach(function(){B.restore()}),(0,r.Z)(X,E)[E].restoreStack=[]}),tt.hooks.render.tap(F.tag,function(B){X.clearFullScreen||X.renderQueue.push(B)})}},{key:"clearRect",value:function(Y,V,X,$,rt,ot){Y.clearRect(V,X,$,rt),ot&&(Y.fillStyle=ot,Y.fillRect(V,X,$,rt))}},{key:"renderDisplayObjectOptimized",value:function(Y,V,X,$,rt){var ot=Y.nodeName,tt=!1,G=!1,nt=this.context.styleRendererFactory[ot],ut=this.pathGeneratorFactory[ot],dt=Y.parsedStyle.clipPath;if(dt){tt=!$.prevObject||!o.exactEquals(dt.getWorldTransform(),$.prevObject.getWorldTransform()),tt&&(this.applyWorldTransform(V,dt),$.prevObject=null);var et=this.pathGeneratorFactory[dt.nodeName];et&&(V.save(),G=!0,V.beginPath(),et(V,dt.parsedStyle),V.closePath(),V.clip())}if(nt){tt=!$.prevObject||!o.exactEquals(Y.getWorldTransform(),$.prevObject.getWorldTransform()),tt&&this.applyWorldTransform(V,Y);var gt=!$.prevObject;if(!gt){var Et=$.prevObject.nodeName;ot===h.bn.TEXT?gt=Et!==h.bn.TEXT:ot===h.bn.IMAGE?gt=Et!==h.bn.IMAGE:gt=Et===h.bn.TEXT||Et===h.bn.IMAGE}nt.applyStyleToContext(V,Y,gt,$),$.prevObject=Y}ut&&(V.beginPath(),ut(V,Y.parsedStyle),ot!==h.bn.LINE&&ot!==h.bn.PATH&&ot!==h.bn.POLYLINE&&V.closePath()),nt&&nt.drawToContext(V,Y,(0,r.Z)(this,E)[E],this,rt),G&&V.restore(),Y.dirty(!1)}},{key:"renderDisplayObject",value:function(Y,V,X,$,rt){var ot=Y.nodeName,tt=$.restoreStack[$.restoreStack.length-1];tt&&!(Y.compareDocumentPosition(tt)&h.NB.DOCUMENT_POSITION_CONTAINS)&&(V.restore(),$.restoreStack.pop());var G=this.context.styleRendererFactory[ot],nt=this.pathGeneratorFactory[ot],ut=Y.parsedStyle.clipPath;if(ut){this.applyWorldTransform(V,ut);var dt=this.pathGeneratorFactory[ut.nodeName];dt&&(V.save(),$.restoreStack.push(Y),V.beginPath(),dt(V,ut.parsedStyle),V.closePath(),V.clip())}G&&(this.applyWorldTransform(V,Y),V.save(),this.applyAttributesToContext(V,Y)),nt&&(V.beginPath(),nt(V,Y.parsedStyle),ot!==h.bn.LINE&&ot!==h.bn.PATH&&ot!==h.bn.POLYLINE&&V.closePath()),G&&(G.render(V,Y.parsedStyle,Y,X,this,rt),V.restore()),Y.dirty(!1)}},{key:"applyAttributesToContext",value:function(Y,V){var X=V.parsedStyle,$=X.stroke,rt=X.fill,ot=X.opacity,tt=X.lineDash,G=X.lineDashOffset;tt&&Y.setLineDash(tt),(0,f.Z)(G)||(Y.lineDashOffset=G),(0,f.Z)(ot)||(Y.globalAlpha*=ot),!(0,f.Z)($)&&!Array.isArray($)&&!$.isNone&&(Y.strokeStyle=V.attributes.stroke),!(0,f.Z)(rt)&&!Array.isArray(rt)&&!rt.isNone&&(Y.fillStyle=V.attributes.fill)}},{key:"convertAABB2Rect",value:function(Y){var V=Y.getMin(),X=Y.getMax(),$=Math.floor(V[0]),rt=Math.floor(V[1]),ot=Math.ceil(X[0]),tt=Math.ceil(X[1]),G=ot-$,nt=tt-rt;return{x:$,y:rt,width:G,height:nt}}},{key:"mergeDirtyAABBs",value:function(Y){var V=new h.mN;return Y.forEach(function(X){var $=X.getRenderBounds();V.add($);var rt=X.renderable.dirtyRenderBounds;rt&&V.add(rt)}),V}},{key:"searchDirtyObjects",value:function(Y){var V=Y.getMin(),X=(0,v.Z)(V,2),$=X[0],rt=X[1],ot=Y.getMax(),tt=(0,v.Z)(ot,2),G=tt[0],nt=tt[1],ut=this.rBush.search({minX:$,minY:rt,maxX:G,maxY:nt});return ut.map(function(dt){var et=dt.displayObject;return et})}},{key:"saveDirtyAABB",value:function(Y){var V=Y.renderable;V.dirtyRenderBounds||(V.dirtyRenderBounds=new h.mN);var X=Y.getRenderBounds();X&&V.dirtyRenderBounds.update(X.center,X.halfExtents)}},{key:"applyWorldTransform",value:function(Y,V,X){X?(o.copy(this.tmpMat4,V.getLocalTransform()),o.multiply(this.tmpMat4,X,this.tmpMat4),o.multiply(this.tmpMat4,this.vpMatrix,this.tmpMat4)):(o.copy(this.tmpMat4,V.getWorldTransform()),o.multiply(this.tmpMat4,this.vpMatrix,this.tmpMat4)),Y.setTransform(this.tmpMat4[0],this.tmpMat4[1],this.tmpMat4[4],this.tmpMat4[5],this.tmpMat4[12],this.tmpMat4[13])}},{key:"safeMergeAABB",value:function(){for(var Y=new h.mN,V=arguments.length,X=new Array(V),$=0;$<V;$++)X[$]=arguments[$];return X.forEach(function(rt){Y.add(rt)}),Y}}])}();e.tag="CanvasRenderer";function i(F,H,Y,V,X,$,rt){var ot,tt;if(F.image.nodeName==="rect"){var G=F.image.parsedStyle,nt=G.width,ut=G.height;tt=V.contextService.getDPR();var dt=V.config.offscreenCanvas;ot=$.offscreenCanvasCreator.getOrCreateCanvas(dt),ot.width=nt*tt,ot.height=ut*tt;var et=$.offscreenCanvasCreator.getOrCreateContext(dt),gt={restoreStack:[],prevObject:null,currentContext:new Map};F.image.forEach(function(lt){X.renderDisplayObject(lt,et,V,gt,$)}),gt.restoreStack.forEach(function(){et.restore()})}var Et=rt.getOrCreatePatternSync(H,F,Y,ot,tt,H.getGeometryBounds().min,function(){H.dirty(),V.renderingService.dirtify()});return Et}function n(F,H,Y,V){var X;if(F.type===h.GL.LinearGradient||F.type===h.GL.RadialGradient){var $=H.getGeometryBounds(),rt=$&&$.halfExtents[0]*2||1,ot=$&&$.halfExtents[1]*2||1,tt=$&&$.min||[0,0];X=V.getOrCreateGradient((0,D.Z)((0,D.Z)({type:F.type},F.value),{},{min:tt,width:rt,height:ot}),Y)}return X}var l=["shadowBlur","shadowOffsetX","shadowOffsetY"],O=["lineCap","lineJoin","miterLimit"],C={globalAlpha:1,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",filter:"none",globalCompositeOperation:"source-over",strokeStyle:"#000",strokeOpacity:1,lineWidth:1,lineDash:[],lineDashOffset:0,lineCap:"butt",lineJoin:"miter",miterLimit:10,fillStyle:"#000",fillOpacity:1},T={};function P(F,H,Y,V){var X=V.has(H)?V.get(H):C[H];return X!==Y&&(H==="lineDash"?F.setLineDash(Y):F[H]=Y,V.set(H,Y)),X}var b=function(){function F(H){(0,p.Z)(this,F),this.imagePool=H}return(0,M.Z)(F,[{key:"applyAttributesToContext",value:function(Y,V){}},{key:"render",value:function(Y,V,X,$,rt,ot){}},{key:"applyCommonStyleToContext",value:function(Y,V,X,$){var rt=X?T:$.prevObject.parsedStyle,ot=V.parsedStyle;(X||ot.opacity!==rt.opacity)&&P(Y,"globalAlpha",(0,f.Z)(ot.opacity)?C.globalAlpha:ot.opacity,$.currentContext),(X||ot.blend!==rt.blend)&&P(Y,"globalCompositeOperation",(0,f.Z)(ot.blend)?C.globalCompositeOperation:ot.blend,$.currentContext)}},{key:"applyStrokeFillStyleToContext",value:function(Y,V,X,$){var rt=X?T:$.prevObject.parsedStyle,ot=V.parsedStyle,tt=ot.lineWidth,G=tt===void 0?C.lineWidth:tt,nt=ot.fill&&!ot.fill.isNone,ut=ot.stroke&&!ot.stroke.isNone&&G>0;if(ut){if(X||V.attributes.stroke!==$.prevObject.attributes.stroke){var dt=!(0,f.Z)(ot.stroke)&&!Array.isArray(ot.stroke)&&!ot.stroke.isNone?V.attributes.stroke:C.strokeStyle;P(Y,"strokeStyle",dt,$.currentContext)}(X||ot.lineWidth!==rt.lineWidth)&&P(Y,"lineWidth",(0,f.Z)(ot.lineWidth)?C.lineWidth:ot.lineWidth,$.currentContext),(X||ot.lineDash!==rt.lineDash)&&P(Y,"lineDash",ot.lineDash||C.lineDash,$.currentContext),(X||ot.lineDashOffset!==rt.lineDashOffset)&&P(Y,"lineDashOffset",(0,f.Z)(ot.lineDashOffset)?C.lineDashOffset:ot.lineDashOffset,$.currentContext);for(var et=0;et<O.length;et++){var gt=O[et];(X||ot[gt]!==rt[gt])&&P(Y,gt,(0,f.Z)(ot[gt])?C[gt]:ot[gt],$.currentContext)}}if(nt&&(X||V.attributes.fill!==$.prevObject.attributes.fill)){var Et=!(0,f.Z)(ot.fill)&&!Array.isArray(ot.fill)&&!ot.fill.isNone?V.attributes.fill:C.fillStyle;P(Y,"fillStyle",Et,$.currentContext)}}},{key:"applyStyleToContext",value:function(Y,V,X,$){var rt=V.nodeName;this.applyCommonStyleToContext(Y,V,X,$),rt===h.bn.IMAGE||this.applyStrokeFillStyleToContext(Y,V,X,$)}},{key:"applyShadowAndFilterStyleToContext",value:function(Y,V,X,$){var rt=V.parsedStyle;if(X){P(Y,"shadowColor",rt.shadowColor.toString(),$.currentContext);for(var ot=0;ot<l.length;ot++){var tt=l[ot];P(Y,tt,rt[tt]||C[tt],$.currentContext)}}rt.filter&&rt.filter.length&&P(Y,"filter",V.attributes.filter,$.currentContext)}},{key:"clearShadowAndFilterStyleForContext",value:function(Y,V,X,$){var rt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(V){P(Y,"shadowColor",C.shadowColor,$.currentContext);for(var ot=0;ot<l.length;ot++){var tt=l[ot];P(Y,tt,C[tt],$.currentContext)}}if(X)if(V&&rt){var G=Y.filter;!(0,f.Z)(G)&&G.indexOf("drop-shadow")>-1&&P(Y,"filter",G.replace(/drop-shadow\([^)]*\)/,"").trim()||C.filter,$.currentContext)}else P(Y,"filter",C.filter,$.currentContext)}},{key:"fillToContext",value:function(Y,V,X,$,rt){var ot=this,tt=V.parsedStyle,G=tt.fill,nt=tt.fillRule,ut=null;if(Array.isArray(G)&&G.length>0)G.forEach(function(et){var gt=P(Y,"fillStyle",n(et,V,Y,ot.imagePool),X.currentContext);ut=ut!=null?ut:gt,nt?Y.fill(nt):Y.fill()});else{if((0,h.R)(G)){var dt=i(G,V,Y,V.ownerDocument.defaultView.context,$,rt,this.imagePool);dt&&(Y.fillStyle=dt,ut=!0)}nt?Y.fill(nt):Y.fill()}ut!==null&&P(Y,"fillStyle",ut,X.currentContext)}},{key:"strokeToContext",value:function(Y,V,X,$,rt){var ot=this,tt=V.parsedStyle.stroke,G=null;if(Array.isArray(tt)&&tt.length>0)tt.forEach(function(dt){var et=P(Y,"strokeStyle",n(dt,V,Y,ot.imagePool),X.currentContext);G=G!=null?G:et,Y.stroke()});else{if((0,h.R)(tt)){var nt=i(tt,V,Y,V.ownerDocument.defaultView.context,$,rt,this.imagePool);if(nt){var ut=P(Y,"strokeStyle",nt,X.currentContext);G=G!=null?G:ut}}Y.stroke()}G!==null&&P(Y,"strokeStyle",G,X.currentContext)}},{key:"drawToContext",value:function(Y,V,X,$,rt){var ot,tt=V.nodeName,G=V.parsedStyle,nt=G.opacity,ut=nt===void 0?C.globalAlpha:nt,dt=G.fillOpacity,et=dt===void 0?C.fillOpacity:dt,gt=G.strokeOpacity,Et=gt===void 0?C.strokeOpacity:gt,lt=G.lineWidth,mt=lt===void 0?C.lineWidth:lt,Tt=G.fill&&!G.fill.isNone,B=G.stroke&&!G.stroke.isNone&&mt>0;if(!(!Tt&&!B)){var J=!(0,f.Z)(G.shadowColor)&&G.shadowBlur>0,pt=G.shadowType==="inner",Ot=((ot=G.fill)===null||ot===void 0?void 0:ot.alpha)===0,bt=!!(G.filter&&G.filter.length),Rt=J&&B&&(tt===h.bn.PATH||tt===h.bn.LINE||tt===h.bn.POLYLINE||Ot||pt),It=null;if(Tt){Rt||this.applyShadowAndFilterStyleToContext(Y,V,J,X);var st=ut*et;It=P(Y,"globalAlpha",st,X.currentContext),this.fillToContext(Y,V,X,$,rt),Rt||this.clearShadowAndFilterStyleForContext(Y,J,bt,X)}if(B){var Q=!1,ct=ut*Et,vt=P(Y,"globalAlpha",ct,X.currentContext);if(It=Tt?It:vt,Rt&&(this.applyShadowAndFilterStyleToContext(Y,V,J,X),Q=!0,pt)){var ft=Y.globalCompositeOperation;Y.globalCompositeOperation="source-atop",this.strokeToContext(Y,V,X,$,rt),Y.globalCompositeOperation=ft,this.clearShadowAndFilterStyleForContext(Y,J,bt,X,!0)}this.strokeToContext(Y,V,X,$,rt),Q&&this.clearShadowAndFilterStyleForContext(Y,J,bt,X)}It!==null&&P(Y,"globalAlpha",It,X.currentContext)}}}])}(),x=function(F){function H(){return(0,p.Z)(this,H),(0,m.Z)(this,H,arguments)}return(0,c.Z)(H,F),(0,M.Z)(H,[{key:"render",value:function(V,X,$,rt,ot,tt){var G=X.fill,nt=X.fillRule,ut=X.opacity,dt=ut===void 0?1:ut,et=X.fillOpacity,gt=et===void 0?1:et,Et=X.stroke,lt=X.strokeOpacity,mt=lt===void 0?1:lt,Tt=X.lineWidth,B=Tt===void 0?1:Tt,J=X.lineCap,pt=X.lineJoin,Ot=X.shadowType,bt=X.shadowColor,Rt=X.shadowBlur,It=X.filter,st=X.miterLimit,Q=G&&!G.isNone,ct=Et&&!Et.isNone&&B>0,vt=(G==null?void 0:G.alpha)===0,ft=!!(It&&It.length),_t=!(0,f.Z)(bt)&&Rt>0,yt=$.nodeName,Ct=Ot==="inner",Pt=ct&&_t&&(yt===h.bn.PATH||yt===h.bn.LINE||yt===h.bn.POLYLINE||vt||Ct);Q&&(V.globalAlpha=dt*gt,Pt||I($,V,_t),S(V,$,G,nt,rt,ot,tt,this.imagePool),Pt||this.clearShadowAndFilter(V,ft,_t)),ct&&(V.globalAlpha=dt*mt,V.lineWidth=B,(0,f.Z)(st)||(V.miterLimit=st),(0,f.Z)(J)||(V.lineCap=J),(0,f.Z)(pt)||(V.lineJoin=pt),Pt&&(Ct&&(V.globalCompositeOperation="source-atop"),I($,V,!0),Ct&&(K(V,$,Et,rt,ot,tt,this.imagePool),V.globalCompositeOperation=C.globalCompositeOperation,this.clearShadowAndFilter(V,ft,!0))),K(V,$,Et,rt,ot,tt,this.imagePool))}},{key:"clearShadowAndFilter",value:function(V,X,$){if($&&(V.shadowColor="transparent",V.shadowBlur=0),X){var rt=V.filter;!(0,f.Z)(rt)&&rt.indexOf("drop-shadow")>-1&&(V.filter=rt.replace(/drop-shadow\([^)]*\)/,"").trim()||"none")}}}])}(b);function I(F,H,Y){var V=F.parsedStyle,X=V.filter,$=V.shadowColor,rt=V.shadowBlur,ot=V.shadowOffsetX,tt=V.shadowOffsetY;X&&X.length&&(H.filter=F.style.filter),Y&&(H.shadowColor=$.toString(),H.shadowBlur=rt||0,H.shadowOffsetX=ot||0,H.shadowOffsetY=tt||0)}function S(F,H,Y,V,X,$,rt,ot){var tt=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1;Array.isArray(Y)?Y.forEach(function(G){F.fillStyle=n(G,H,F,ot),tt||(V?F.fill(V):F.fill())}):((0,h.R)(Y)&&(F.fillStyle=i(Y,H,F,X,$,rt,ot)),tt||(V?F.fill(V):F.fill()))}function K(F,H,Y,V,X,$,rt){var ot=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1;Array.isArray(Y)?Y.forEach(function(tt){F.strokeStyle=n(tt,H,F,rt),ot||F.stroke()}):((0,h.R)(Y)&&(F.strokeStyle=i(Y,H,F,V,X,$,rt)),ot||F.stroke())}function N(F,H){var Y=(0,v.Z)(F,4),V=Y[0],X=Y[1],$=Y[2],rt=Y[3],ot=(0,v.Z)(H,4),tt=ot[0],G=ot[1],nt=ot[2],ut=ot[3],dt=Math.max(V,tt),et=Math.max(X,G),gt=Math.min(V+$,tt+nt),Et=Math.min(X+rt,G+ut);return gt<=dt||Et<=et?null:[dt,et,gt-dt,Et-et]}function z(F,H){var Y=d.fF(d.Ue(),[F[0],F[1],0],H),V=d.fF(d.Ue(),[F[0]+F[2],F[1],0],H),X=d.fF(d.Ue(),[F[0],F[1]+F[3],0],H),$=d.fF(d.Ue(),[F[0]+F[2],F[1]+F[3],0],H);return[Math.min(Y[0],V[0],X[0],$[0]),Math.min(Y[1],V[1],X[1],$[1]),Math.max(Y[0],V[0],X[0],$[0])-Math.min(Y[0],V[0],X[0],$[0]),Math.max(Y[1],V[1],X[1],$[1])-Math.min(Y[1],V[1],X[1],$[1])]}var j=function(F){function H(){return(0,p.Z)(this,H),(0,m.Z)(this,H,arguments)}return(0,c.Z)(H,F),(0,M.Z)(H,[{key:"renderDownSampled",value:function(V,X,$,rt){var ot=rt.src,tt=rt.imageCache;if(!tt.downSampled){this.imagePool.createDownSampledImage(ot,$).then(function(){$.ownerDocument&&($.dirty(),$.ownerDocument.defaultView.context.renderingService.dirtify())}).catch(function(G){console.error(G)});return}V.drawImage(tt.downSampled,Math.floor(rt.drawRect[0]),Math.floor(rt.drawRect[1]),Math.ceil(rt.drawRect[2]),Math.ceil(rt.drawRect[3]))}},{key:"renderTile",value:function(V,X,$,rt){var ot=rt.src,tt=rt.imageCache,G=rt.imageRect,nt=rt.drawRect,ut=tt.size,dt=V.getTransform(),et=dt.a,gt=dt.b,Et=dt.c,lt=dt.d,mt=dt.e,Tt=dt.f;if(V.resetTransform(),!(tt!=null&&tt.gridSize)){this.imagePool.createImageTiles(ot,[],function(){$.ownerDocument&&($.dirty(),$.ownerDocument.defaultView.context.renderingService.dirtify())},$).catch(function(_t){console.error(_t)});return}for(var B=[ut[0]/G[2],ut[1]/G[3]],J=[tt.tileSize[0]/B[0],tt.tileSize[1]/B[1]],pt=[Math.floor((nt[0]-G[0])/J[0]),Math.ceil((nt[0]+nt[2]-G[0])/J[0])],Ot=pt[0],bt=pt[1],Rt=[Math.floor((nt[1]-G[1])/J[1]),Math.ceil((nt[1]+nt[3]-G[1])/J[1])],It=Rt[0],st=Rt[1],Q=It;Q<=st;Q++)for(var ct=Ot;ct<=bt;ct++){var vt=tt.tiles[Q][ct];if(vt){var ft=[Math.floor(G[0]+vt.tileX*J[0]),Math.floor(G[1]+vt.tileY*J[1]),Math.ceil(J[0]),Math.ceil(J[1])];V.drawImage(vt.data,ft[0],ft[1],ft[2],ft[3])}}V.setTransform(et,gt,Et,lt,mt,Tt)}},{key:"render",value:function(V,X,$){var rt=X.x,ot=rt===void 0?0:rt,tt=X.y,G=tt===void 0?0:tt,nt=X.width,ut=X.height,dt=X.src,et=X.shadowColor,gt=X.shadowBlur,Et=this.imagePool.getImageSync(dt,$),lt=Et==null?void 0:Et.img,mt=nt,Tt=ut;if(lt){mt||(mt=lt.width),Tt||(Tt=lt.height);var B=!(0,f.Z)(et)&&gt>0;I($,V,B);try{var J=$.ownerDocument.defaultView.getContextService().getDomElement(),pt=J.width,Ot=J.height,bt=V.getTransform(),Rt=bt.a,It=bt.b,st=bt.c,Q=bt.d,ct=bt.e,vt=bt.f,ft=o.fromValues(Rt,st,0,0,It,Q,0,0,0,0,1,0,ct,vt,0,1),_t=z([ot,G,mt,Tt],ft),yt=N([0,0,pt,Ot],_t);if(!yt)return;if(!$.ownerDocument.defaultView.getConfig().enableLargeImageOptimization){H.renderFull(V,X,$,{image:lt,drawRect:[ot,G,mt,Tt]});return}var Ct=_t[2]/Et.size[0];if(Ct<(Et.downSamplingRate||.5)){this.renderDownSampled(V,X,$,{src:dt,imageCache:Et,drawRect:[ot,G,mt,Tt]});return}if(!y.Z.isSupportTile){H.renderFull(V,X,$,{image:lt,drawRect:[ot,G,mt,Tt]});return}this.renderTile(V,X,$,{src:dt,imageCache:Et,imageRect:_t,drawRect:yt})}catch(Pt){}}}},{key:"drawToContext",value:function(V,X,$,rt,ot){this.render(V,X.parsedStyle,X)}}],[{key:"renderFull",value:function(V,X,$,rt){V.drawImage(rt.image,Math.floor(rt.drawRect[0]),Math.floor(rt.drawRect[1]),Math.ceil(rt.drawRect[2]),Math.ceil(rt.drawRect[3]))}}])}(x),W=function(F){function H(){return(0,p.Z)(this,H),(0,m.Z)(this,H,arguments)}return(0,c.Z)(H,F),(0,M.Z)(H,[{key:"render",value:function(V,X,$,rt,ot,tt){$.getBounds();var G=X.lineWidth,nt=G===void 0?1:G,ut=X.textAlign,dt=ut===void 0?"start":ut,et=X.textBaseline,gt=et===void 0?"alphabetic":et,Et=X.lineJoin,lt=Et===void 0?"miter":Et,mt=X.miterLimit,Tt=mt===void 0?10:mt,B=X.letterSpacing,J=B===void 0?0:B,pt=X.stroke,Ot=X.fill,bt=X.fillRule,Rt=X.fillOpacity,It=Rt===void 0?1:Rt,st=X.strokeOpacity,Q=st===void 0?1:st,ct=X.opacity,vt=ct===void 0?1:ct,ft=X.metrics,_t=X.x,yt=_t===void 0?0:_t,Ct=X.y,Pt=Ct===void 0?0:Ct,Dt=X.dx,At=X.dy,Ut=X.shadowColor,Bt=X.shadowBlur,zt=ft.font,jt=ft.lines,Yt=ft.height,te=ft.lineHeight,re=ft.lineMetrics;V.font=zt,V.lineWidth=nt,V.textAlign=dt==="middle"?"center":dt;var ee=gt;ee==="alphabetic"&&(ee="bottom"),V.lineJoin=lt,(0,f.Z)(Tt)||(V.miterLimit=Tt);var Gt=Pt;gt==="middle"?Gt+=-Yt/2-te/2:gt==="bottom"||gt==="alphabetic"||gt==="ideographic"?Gt+=-Yt:(gt==="top"||gt==="hanging")&&(Gt+=-te);var ve=yt+(Dt||0);Gt+=At||0,jt.length===1&&(ee==="bottom"?(ee="middle",Gt-=.5*Yt):ee==="top"&&(ee="middle",Gt+=.5*Yt)),V.textBaseline=ee;var de=!(0,f.Z)(Ut)&&Bt>0;I($,V,de);for(var ye=0;ye<jt.length;ye++){var _e=nt/2+ve;Gt+=te,!(0,f.Z)(pt)&&!pt.isNone&&nt&&this.drawLetterSpacing(V,$,jt[ye],re[ye],dt,_e,Gt,J,Ot,bt,It,pt,Q,vt,!0,rt,ot,tt),(0,f.Z)(Ot)||this.drawLetterSpacing(V,$,jt[ye],re[ye],dt,_e,Gt,J,Ot,bt,It,pt,Q,vt,!1,rt,ot,tt)}}},{key:"drawLetterSpacing",value:function(V,X,$,rt,ot,tt,G,nt,ut,dt,et,gt,Et,lt,mt,Tt,B,J){if(nt===0){mt?this.strokeText(V,X,$,tt,G,gt,Et,Tt,B,J):this.fillText(V,X,$,tt,G,ut,dt,et,lt,Tt,B,J);return}var pt=V.textAlign;V.textAlign="left";var Ot=tt;ot==="center"||ot==="middle"?Ot=tt-rt.width/2:(ot==="right"||ot==="end")&&(Ot=tt-rt.width);for(var bt=Array.from($),Rt=V.measureText($).width,It=0,st=0;st<bt.length;++st){var Q=bt[st];mt?this.strokeText(V,X,Q,Ot,G,gt,Et,Tt,B,J):this.fillText(V,X,Q,Ot,G,ut,dt,et,lt,Tt,B,J),It=V.measureText($.substring(st+1)).width,Ot+=Rt-It+nt,Rt=It}V.textAlign=pt}},{key:"fillText",value:function(V,X,$,rt,ot,tt,G,nt,ut,dt,et,gt){S(V,X,tt,G,dt,et,gt,this.imagePool,!0);var Et,lt=!(0,f.Z)(nt)&&nt!==1;lt&&(Et=V.globalAlpha,V.globalAlpha=nt*ut),V.fillText($,rt,ot),lt&&(V.globalAlpha=Et)}},{key:"strokeText",value:function(V,X,$,rt,ot,tt,G,nt,ut,dt){K(V,X,tt,nt,ut,dt,this.imagePool,!0);var et,gt=!(0,f.Z)(G)&&G!==1;gt&&(et=V.globalAlpha,V.globalAlpha=G),V.strokeText($,rt,ot),gt&&(V.globalAlpha=et)}},{key:"drawToContext",value:function(V,X,$,rt,ot){this.render(V,X.parsedStyle,X,X.ownerDocument.defaultView.context,rt,ot)}}])}(x),U=function(F){function H(){var Y,V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,p.Z)(this,H),Y=(0,m.Z)(this,H),Y.name="canvas-renderer",Y.options=V,Y}return(0,c.Z)(H,F),(0,M.Z)(H,[{key:"init",value:function(){var V,X=(0,D.Z)({dirtyObjectNumThreshold:500,dirtyObjectRatioThreshold:.8},this.options),$=this.context.imagePool,rt=new x($),ot=(V={},(0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)(V,h.bn.CIRCLE,rt),h.bn.ELLIPSE,rt),h.bn.RECT,rt),h.bn.IMAGE,new j($)),h.bn.TEXT,new W($)),h.bn.LINE,rt),h.bn.POLYLINE,rt),h.bn.POLYGON,rt),h.bn.PATH,rt),h.bn.GROUP,void 0),(0,u.Z)((0,u.Z)((0,u.Z)(V,h.bn.HTML,void 0),h.bn.MESH,void 0),h.bn.FRAGMENT,void 0));this.context.defaultStyleRendererFactory=ot,this.context.styleRendererFactory=ot,this.addRenderingPlugin(new e(X))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins(),delete this.context.defaultStyleRendererFactory,delete this.context.styleRendererFactory}}])}(h.F6)},49832:function(it,w,t){"use strict";t.d(w,{S:function(){return h}});var u=t(76132),D=t(99190),p=t(87974),M=t(61912),m=t(46911);var c=function(){function v(){(0,u.Z)(this,v)}return(0,D.Z)(v,[{key:"apply",value:function(r,s){var o=this,d=r.renderingService,f=r.renderingContext,y=r.config;this.context=r;var E=f.root.ownerDocument.defaultView,e=function(j){d.hooks.pointerMove.call(j)},i=function(j){d.hooks.pointerUp.call(j)},n=function(j){d.hooks.pointerDown.call(j)},l=function(j){d.hooks.pointerOver.call(j)},O=function(j){d.hooks.pointerOut.call(j)},C=function(j){d.hooks.pointerCancel.call(j)},T=function(j){d.hooks.pointerWheel.call(j)},P=function(j){d.hooks.click.call(j)},b=function(j){s.globalThis.document.addEventListener("pointermove",e,!0),j.addEventListener("pointerdown",n,!0),j.addEventListener("pointerleave",O,!0),j.addEventListener("pointerover",l,!0),s.globalThis.addEventListener("pointerup",i,!0),s.globalThis.addEventListener("pointercancel",C,!0)},x=function(j){j.addEventListener("touchstart",n,!0),j.addEventListener("touchend",i,!0),j.addEventListener("touchmove",e,!0),j.addEventListener("touchcancel",C,!0)},I=function(j){s.globalThis.document.addEventListener("mousemove",e,!0),j.addEventListener("mousedown",n,!0),j.addEventListener("mouseout",O,!0),j.addEventListener("mouseover",l,!0),s.globalThis.addEventListener("mouseup",i,!0)},S=function(j){s.globalThis.document.removeEventListener("pointermove",e,!0),j.removeEventListener("pointerdown",n,!0),j.removeEventListener("pointerleave",O,!0),j.removeEventListener("pointerover",l,!0),s.globalThis.removeEventListener("pointerup",i,!0),s.globalThis.removeEventListener("pointercancel",C,!0)},K=function(j){j.removeEventListener("touchstart",n,!0),j.removeEventListener("touchend",i,!0),j.removeEventListener("touchmove",e,!0),j.removeEventListener("touchcancel",C,!0)},N=function(j){s.globalThis.document.removeEventListener("mousemove",e,!0),j.removeEventListener("mousedown",n,!0),j.removeEventListener("mouseout",O,!0),j.removeEventListener("mouseover",l,!0),s.globalThis.removeEventListener("mouseup",i,!0)};d.hooks.init.tap(v.tag,function(){var z=o.context.contextService.getDomElement();s.globalThis.navigator.msPointerEnabled?(z.style.msContentZooming="none",z.style.msTouchAction="none"):E.supportsPointerEvents&&(z.style.touchAction="none"),E.supportsPointerEvents?b(z):I(z),E.supportsTouchEvents&&x(z),y.useNativeClickEvent&&z.addEventListener("click",P,!0),z.addEventListener("wheel",T,{passive:!0,capture:!0})}),d.hooks.destroy.tap(v.tag,function(){var z=o.context.contextService.getDomElement();s.globalThis.navigator.msPointerEnabled?(z.style.msContentZooming="",z.style.msTouchAction=""):E.supportsPointerEvents&&(z.style.touchAction=""),E.supportsPointerEvents?S(z):N(z),E.supportsTouchEvents&&K(z),y.useNativeClickEvent&&z.removeEventListener("click",P,!0),z.removeEventListener("wheel",T,!0)})}}])}();c.tag="DOMInteraction";var h=function(v){function a(){var r;(0,u.Z)(this,a);for(var s=arguments.length,o=new Array(s),d=0;d<s;d++)o[d]=arguments[d];return r=(0,p.Z)(this,a,[].concat(o)),r.name="dom-interaction",r}return(0,M.Z)(a,v),(0,D.Z)(a,[{key:"init",value:function(){this.addRenderingPlugin(new c)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(m.F6)},15403:function(it,w,t){"use strict";t.d(w,{S:function(){return s}});var u=t(59942),D=t(76132),p=t(99190),M=t(87974),m=t(61912),c=t(46911),h=t(94882),v=t(7556),a=t(35476);var r=function(){function o(d){(0,D.Z)(this,o),this.dragndropPluginOptions=d}return(0,p.Z)(o,[{key:"apply",value:function(f){var y=this,E=f.renderingService,e=f.renderingContext,i=e.root.ownerDocument,n=i.defaultView,l=function(C){var T=C.target,P=T===i,b=P&&y.dragndropPluginOptions.isDocumentDraggable?i:T.closest&&T.closest("[draggable=true]");if(b){var x=!1,I=C.timeStamp,S=[C.clientX,C.clientY],K=null,N=[C.clientX,C.clientY],z=function(){var W=(0,v.Z)((0,h.Z)().mark(function U(F){var H,Y,V,X,$,rt;return(0,h.Z)().wrap(function(ot){for(;;)switch(ot.prev=ot.next){case 0:if(x){ot.next=2;break}if(H=F.timeStamp-I,Y=(0,a.y)([F.clientX,F.clientY],S),!(H<=y.dragndropPluginOptions.dragstartTimeThreshold||Y<=y.dragndropPluginOptions.dragstartDistanceThreshold)){ot.next=1;break}return ot.abrupt("return");case 1:F.type="dragstart",b.dispatchEvent(F),x=!0;case 2:if(F.type="drag",F.dx=F.clientX-N[0],F.dy=F.clientY-N[1],b.dispatchEvent(F),N=[F.clientX,F.clientY],P){ot.next=4;break}return V=y.dragndropPluginOptions.overlap==="pointer"?[F.canvasX,F.canvasY]:T.getBounds().center,ot.next=3,i.elementsFromPoint(V[0],V[1]);case 3:X=ot.sent,$=X[X.indexOf(T)+1],rt=($==null?void 0:$.closest("[droppable=true]"))||(y.dragndropPluginOptions.isDocumentDroppable?i:null),K!==rt&&(K&&(F.type="dragleave",F.target=K,K.dispatchEvent(F)),rt&&(F.type="dragenter",F.target=rt,rt.dispatchEvent(F)),K=rt,K&&(F.type="dragover",F.target=K,K.dispatchEvent(F)));case 4:case"end":return ot.stop()}},U)}));return function(F){return W.apply(this,arguments)}}();n.addEventListener("pointermove",z);var j=function(U){if(x){U.detail={preventClick:!0};var F=U.clone();K&&(F.type="drop",F.target=K,K.dispatchEvent(F)),F.type="dragend",b.dispatchEvent(F),x=!1}n.removeEventListener("pointermove",z)};T.addEventListener("pointerup",j,{once:!0}),T.addEventListener("pointerupoutside",j,{once:!0})}};E.hooks.init.tap(o.tag,function(){n.addEventListener("pointerdown",l)}),E.hooks.destroy.tap(o.tag,function(){n.removeEventListener("pointerdown",l)})}}])}();r.tag="Dragndrop";var s=function(o){function d(){var f,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,D.Z)(this,d),f=(0,M.Z)(this,d),f.name="dragndrop",f.options=y,f}return(0,m.Z)(d,o),(0,p.Z)(d,[{key:"init",value:function(){this.addRenderingPlugin(new r((0,u.Z)({overlap:"pointer",isDocumentDraggable:!1,isDocumentDroppable:!1,dragstartDistanceThreshold:0,dragstartTimeThreshold:0},this.options)))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}},{key:"setOptions",value:function(y){Object.assign(this.plugins[0].dragndropPluginOptions,y)}}])}(c.F6)},48745:function(it,w,t){"use strict";t.d(w,{S:function(){return s}});var u=t(76132),D=t(99190),p=t(87974),M=t(61912),m=t(46911),c=t(27412),h=t(26912),v=t(89148);var a="g-canvas-camera",r=function(){function o(){(0,u.Z)(this,o),this.displayObjectHTMLElementMap=new WeakMap}return(0,D.Z)(o,[{key:"joinTransformMatrix",value:function(f){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0];return"matrix(".concat([f[0],f[1],f[4],f[5],f[12]+y[0],f[13]+y[1]].join(","),")")}},{key:"apply",value:function(f,y){var E=this,e=f.camera,i=f.renderingContext,n=f.renderingService;this.context=f;var l=i.root.ownerDocument.defaultView,O=l.context.eventService.nativeHTMLMap,C=function(K,N){N.style.transform=E.joinTransformMatrix(K.getWorldTransform(),K.getOrigin())},T=function(K){var N=K.target;if(N.nodeName===m.bn.HTML){E.$camera||(E.$camera=E.createCamera(e));var z=E.getOrCreateEl(N);E.$camera.appendChild(z),Object.keys(N.attributes).forEach(function(j){E.updateAttribute(j,N)}),C(N,z),O.set(z,N)}},P=function(K){var N=K.target;if(N.nodeName===m.bn.HTML&&E.$camera){var z=E.getOrCreateEl(N);z&&(z.remove(),O.delete(z))}},b=function(K){var N=K.target;if(N.nodeName===m.bn.HTML){var z=K.attrName;E.updateAttribute(z,N)}},x=function(K){var N=K.target,z=N.nodeName===m.bn.FRAGMENT?N.childNodes:[N];z.forEach(function(j){if(j.nodeName===m.bn.HTML){var W=E.getOrCreateEl(j);C(j,W)}})},I=function(){if(E.$camera){var K=E.context.config,N=K.width,z=K.height;E.$camera.parentElement.style.width="".concat(N||0,"px"),E.$camera.parentElement.style.height="".concat(z||0,"px")}};n.hooks.init.tap(o.tag,function(){l.addEventListener(m.$6.RESIZE,I),l.addEventListener(m.Dk.MOUNTED,T),l.addEventListener(m.Dk.UNMOUNTED,P),l.addEventListener(m.Dk.ATTR_MODIFIED,b),l.addEventListener(m.Dk.BOUNDS_CHANGED,x)}),n.hooks.endFrame.tap(o.tag,function(){E.$camera&&i.renderReasons.has(m.Rr.CAMERA_CHANGED)&&(E.$camera.style.transform=E.joinTransformMatrix(e.getOrthoMatrix()))}),n.hooks.destroy.tap(o.tag,function(){E.$camera&&E.$camera.remove(),l.removeEventListener(m.$6.RESIZE,I),l.removeEventListener(m.Dk.MOUNTED,T),l.removeEventListener(m.Dk.UNMOUNTED,P),l.removeEventListener(m.Dk.ATTR_MODIFIED,b),l.removeEventListener(m.Dk.BOUNDS_CHANGED,x)})}},{key:"createCamera",value:function(f){var y=this.context.config,E=y.document,e=y.width,i=y.height,n=this.context.contextService.getDomElement(),l=n.parentNode;if(l){var O=a,C=l.querySelector("#".concat(O));if(!C){var T=(E||document).createElement("div");T.style.overflow="hidden",T.style.pointerEvents="none",T.style.position="absolute",T.style.left="0px",T.style.top="0px",T.style.width="".concat(e||0,"px"),T.style.height="".concat(i||0,"px");var P=(E||document).createElement("div");C=P,P.id=O,P.style.position="absolute",P.style.left="".concat(n.offsetLeft||0,"px"),P.style.top="".concat(n.offsetTop||0,"px"),P.style.transformOrigin="left top",P.style.transform=this.joinTransformMatrix(f.getOrthoMatrix()),P.style.pointerEvents="none",P.style.width="100%",P.style.height="100%",T.appendChild(P),l.appendChild(T)}return C}return null}},{key:"getOrCreateEl",value:function(f){var y=this.context.config.document,E=this.displayObjectHTMLElementMap.get(f);return E||(E=(y||document).createElement("div"),f.parsedStyle.$el=E,this.displayObjectHTMLElementMap.set(f,E),f.id&&(E.id=f.id),f.name&&E.setAttribute("name",f.name),f.className&&(E.className=f.className),E.style.position="absolute",E.style["will-change"]="transform",E.style.transform=this.joinTransformMatrix(f.getWorldTransform(),f.getOrigin())),E}},{key:"updateAttribute",value:function(f,y){var E=this.getOrCreateEl(y);switch(f){case"innerHTML":var e=y.parsedStyle.innerHTML;(0,c.Z)(e)?E.innerHTML=e:(E.innerHTML="",E.appendChild(e));break;case"x":E.style.left="".concat(y.parsedStyle.x,"px");break;case"y":E.style.top="".concat(y.parsedStyle.y,"px");break;case"transformOrigin":var i=y.parsedStyle.transformOrigin;E.style["transform-origin"]="".concat(i[0].buildCSSText(null,null,"")," ").concat(i[1].buildCSSText(null,null,""));break;case"width":var n=y.parsedStyle.width;E.style.width=(0,h.Z)(n)?"".concat(n,"px"):n.toString();break;case"height":var l=y.parsedStyle.height;E.style.height=(0,h.Z)(l)?"".concat(l,"px"):l.toString();break;case"zIndex":var O=y.parsedStyle.zIndex;E.style["z-index"]="".concat(O);break;case"visibility":var C=y.parsedStyle.visibility;E.style.visibility=C;break;case"pointerEvents":var T=y.parsedStyle.pointerEvents,P=T===void 0?"auto":T;E.style.pointerEvents=P;break;case"opacity":var b=y.parsedStyle.opacity;E.style.opacity="".concat(b);break;case"fill":var x=y.parsedStyle.fill,I="";(0,m.qA)(x)?x.isNone?I="transparent":I=y.getAttribute("fill"):Array.isArray(x)?I=y.getAttribute("fill"):(0,m.R)(x),E.style.background=I;break;case"stroke":var S=y.parsedStyle.stroke,K="";(0,m.qA)(S)?S.isNone?K="transparent":K=y.getAttribute("stroke"):Array.isArray(S)?K=y.getAttribute("stroke"):(0,m.R)(S),E.style["border-color"]=K,E.style["border-style"]="solid";break;case"lineWidth":var N=y.parsedStyle.lineWidth;E.style["border-width"]="".concat(N||0,"px");break;case"lineDash":E.style["border-style"]="dashed";break;case"filter":var z=y.style.filter;E.style.filter=z;break;default:!(0,v.Z)(y.style[f])&&y.style[f]!==""&&(E.style[f]=y.style[f])}}}])}();r.tag="HTMLRendering";var s=function(o){function d(){var f;(0,u.Z)(this,d);for(var y=arguments.length,E=new Array(y),e=0;e<y;e++)E[e]=arguments[e];return f=(0,p.Z)(this,d,[].concat(E)),f.name="html-renderer",f}return(0,M.Z)(d,o),(0,D.Z)(d,[{key:"init",value:function(){this.addRenderingPlugin(new r)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(m.F6)},46689:function(it,w,t){"use strict";t.d(w,{S:function(){return l},Z:function(){return e}});var u=t(76132),D=t(99190),p=t(87974),M=t(61912),m=t(46911),c=t(94882),h=t(59942),v=t(8818),a=t(7556),r=t(27412),s=t(14690);var o=function(){function O(){(0,u.Z)(this,O),this.cacheStore=new Map}return(0,D.Z)(O,[{key:"onRefAdded",value:function(T){}},{key:"has",value:function(T){return this.cacheStore.has(T)}},{key:"put",value:function(T,P,b){return this.cacheStore.has(T)?!1:(this.cacheStore.set(T,{value:P,counter:new Set([b.entity])}),this.onRefAdded(b),!0)}},{key:"get",value:function(T,P){var b=this.cacheStore.get(T);return b?(b.counter.has(P.entity)||(b.counter.add(P.entity),this.onRefAdded(P)),b.value):null}},{key:"update",value:function(T,P,b){var x=this.cacheStore.get(T);return x?(x.value=(0,h.Z)((0,h.Z)({},x.value),P),x.counter.has(b.entity)||(x.counter.add(b.entity),this.onRefAdded(b)),!0):!1}},{key:"release",value:function(T,P){var b=this.cacheStore.get(T);return b?(b.counter.delete(P.entity),b.counter.size<=0&&this.cacheStore.delete(T),!0):!1}},{key:"releaseRef",value:function(T){var P=this;Array.from(this.cacheStore.keys()).forEach(function(b){P.release(b,T)})}},{key:"getSize",value:function(){return this.cacheStore.size}},{key:"clear",value:function(){this.cacheStore.clear()}}])}(),d=[],f=[],y=function(){function O(){(0,u.Z)(this,O)}return(0,D.Z)(O,null,[{key:"stop",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:O.api;O.rafId&&(T.cancelAnimationFrame(O.rafId),O.rafId=null)}},{key:"executeTask",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:O.api;d.length<=0&&f.length<=0||(f.forEach(function(P){return P()}),f=d.splice(0,O.TASK_NUM_PER_FRAME),O.rafId=T.requestAnimationFrame(function(){O.executeTask(T)}))}},{key:"sliceImage",value:function(T,P,b,x){for(var I=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,S=arguments.length>5&&arguments[5]!==void 0?arguments[5]:O.api,K=T.naturalWidth||T.width,N=T.naturalHeight||T.height,z=P-I,j=b-I,W=Math.ceil(K/z),U=Math.ceil(N/j),F={tileSize:[P,b],gridSize:[U,W],tiles:Array(U).fill(null).map(function(){return Array(W).fill(null)})},H=function(X){for(var $=function(tt){d.push(function(){var G=tt*z,nt=X*j,ut=[Math.min(P,K-G),Math.min(b,N-nt)],dt=ut[0],et=ut[1],gt=S.createCanvas();gt.width=P,gt.height=b;var Et=gt.getContext("2d");Et.drawImage(T,G,nt,dt,et,0,0,dt,et),F.tiles[X][tt]={x:G,y:nt,tileX:tt,tileY:X,data:gt},x()})},rt=0;rt<W;rt++)$(rt)},Y=0;Y<U;Y++)H(Y);return O.stop(),O.executeTask(),F}}])}();y.TASK_NUM_PER_FRAME=10;var E=new o;E.onRefAdded=function(C){var T=this;C.addEventListener(m.Dk.DESTROY,function(){T.releaseRef(C)},{once:!0})};var e=function(){function O(C,T){(0,u.Z)(this,O),this.gradientCache={},this.patternCache={},this.context=C,this.runtime=T}return(0,D.Z)(O,[{key:"getImageSync",value:function(T,P,b){var x=(0,r.Z)(T)?T:T.src;if(E.has(x)){var I=E.get(x,P);if(I.img.complete)return b==null||b(I),I}return this.getOrCreateImage(T,P).then(function(S){b==null||b(S)}).catch(function(S){console.error(S)}),null}},{key:"getOrCreateImage",value:function(T,P){var b=this,x=(0,r.Z)(T)?T:T.src;if(!(0,r.Z)(T)&&!E.has(x)){var I={img:T,size:[T.naturalWidth||T.width,T.naturalHeight||T.height],tileSize:i(T)};E.put(x,I,P)}if(E.has(x)){var S=E.get(x,P);return S.img.complete?Promise.resolve(S):new Promise(function(K,N){S.img.addEventListener("load",function(){S.size=[S.img.naturalWidth||S.img.width,S.img.naturalHeight||S.img.height],S.tileSize=i(S.img),K(S)}),S.img.addEventListener("error",function(z){N(z)})})}return new Promise(function(K,N){var z=b.context.config.createImage();if(z){var j={img:z,size:[0,0],tileSize:i(z)};E.put(x,j,P),z.onload=function(){j.size=[z.naturalWidth||z.width,z.naturalHeight||z.height],j.tileSize=i(j.img),K(j)},z.onerror=function(W){N(W)},z.crossOrigin="Anonymous",z.src=x}})}},{key:"createDownSampledImage",value:function(){var C=(0,a.Z)((0,c.Z)().mark(function P(b,x){var I,S,K,N,z,j,W,U,F,H,Y,V,X,$;return(0,c.Z)().wrap(function(rt){for(;;)switch(rt.prev=rt.next){case 0:return rt.next=1,this.getOrCreateImage(b,x);case 1:if(I=rt.sent,typeof I.downSamplingRate=="undefined"){rt.next=2;break}return rt.abrupt("return",I);case 2:if(S=this.context.config.enableLargeImageOptimization,K=typeof S=="boolean"?{}:S,N=K.maxDownSampledImageSize,z=N===void 0?2048:N,j=K.downSamplingRateThreshold,W=j===void 0?.5:j,U=this.runtime.globalThis.createImageBitmap,F=(0,v.Z)(I.size,2),H=F[0],Y=F[1],V=I.img,X=Math.min((z+z)/(H+Y),Math.max(.01,Math.min(W,.5))),$=(0,h.Z)((0,h.Z)({},I),{},{downSamplingRate:X}),E.update(I.img.src,$,x),!U){rt.next=7;break}return rt.prev=3,rt.next=4,U(I.img,{resizeWidth:H*X,resizeHeight:Y*X});case 4:V=rt.sent,rt.next=6;break;case 5:rt.prev=5,rt.catch(3),X=1;case 6:rt.next=8;break;case 7:X=1;case 8:return $=(0,h.Z)((0,h.Z)({},this.getImageSync(b,x)),{},{downSampled:V,downSamplingRate:X}),E.update(I.img.src,$,x),rt.abrupt("return",$);case 9:case"end":return rt.stop()}},P,this,[[3,5]])}));function T(P,b){return C.apply(this,arguments)}return T}()},{key:"createImageTiles",value:function(){var C=(0,a.Z)((0,c.Z)().mark(function P(b,x,I,S){var K,N,z,j,W;return(0,c.Z)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=1,this.getOrCreateImage(b,S);case 1:return K=U.sent,N=S.ownerDocument.defaultView,z=N.requestAnimationFrame,j=N.cancelAnimationFrame,y.api={requestAnimationFrame:z,cancelAnimationFrame:j,createCanvas:function(){return m.jB.createCanvas()}},W=(0,h.Z)((0,h.Z)({},K),y.sliceImage(K.img,K.tileSize[0],K.tileSize[0],I)),E.update(K.img.src,W,S),U.abrupt("return",W);case 2:case"end":return U.stop()}},P,this)}));function T(P,b,x,I){return C.apply(this,arguments)}return T}()},{key:"releaseImage",value:function(T,P){E.release((0,r.Z)(T)?T:T.src,P)}},{key:"releaseImageRef",value:function(T){E.releaseRef(T)}},{key:"getOrCreatePatternSync",value:function(T,P,b,x,I,S,K){var N=this.generatePatternKey(P);if(N&&this.patternCache[N])return this.patternCache[N];var z=P.image,j=P.repetition,W=P.transform,U,F=!1;if((0,r.Z)(z)){var H=this.getImageSync(z,T,K);U=H==null?void 0:H.img}else x?(U=x,F=!0):U=z;var Y=U&&b.createPattern(U,j);if(Y){var V;W?V=(0,m.G0)((0,m.G$)(W),new m.s$({})):V=s.identity(s.create()),F&&s.scale(V,V,[1/I,1/I,1]),Y.setTransform({a:V[0],b:V[1],c:V[4],d:V[5],e:V[12]+S[0],f:V[13]+S[1]})}return N&&Y&&(this.patternCache[N]=Y),Y}},{key:"getOrCreateGradient",value:function(T,P){var b=this.generateGradientKey(T),x=T.type,I=T.steps,S=T.min,K=T.width,N=T.height,z=T.angle,j=T.cx,W=T.cy,U=T.size;if(this.gradientCache[b])return this.gradientCache[b];var F=null;if(x===m.GL.LinearGradient){var H=(0,m.Rx)(S,K,N,z),Y=H.x1,V=H.y1,X=H.x2,$=H.y2;F=P.createLinearGradient(Y,V,X,$)}else if(x===m.GL.RadialGradient){var rt=(0,m.o6)(S,K,N,j,W,U),ot=rt.x,tt=rt.y,G=rt.r;F=P.createRadialGradient(ot,tt,0,ot,tt,G)}return F&&(I.forEach(function(nt){var ut=nt.offset,dt=nt.color;if(ut.unit===m.Cm.kPercentage){var et;(et=F)===null||et===void 0||et.addColorStop(ut.value/100,dt.toString())}}),this.gradientCache[b]=F),this.gradientCache[b]}},{key:"generateGradientKey",value:function(T){var P=T.type,b=T.min,x=T.width,I=T.height,S=T.steps,K=T.angle,N=T.cx,z=T.cy,j=T.size;return"gradient-".concat(P,"-").concat((K==null?void 0:K.toString())||0,"-").concat((N==null?void 0:N.toString())||0,"-").concat((z==null?void 0:z.toString())||0,"-").concat((j==null?void 0:j.toString())||0,"-").concat(b[0],"-").concat(b[1],"-").concat(x,"-").concat(I,"-").concat(S.map(function(W){var U=W.offset,F=W.color;return"".concat(U).concat(F)}).join("-"))}},{key:"generatePatternKey",value:function(T){var P=T.image,b=T.repetition;if((0,r.Z)(P))return"pattern-".concat(P,"-").concat(b);if(P.nodeName==="rect")return"pattern-".concat(P.entity,"-").concat(b)}}])}();e.isSupportTile=!!m.jB.createCanvas();function i(O){if(!O.complete)return[0,0];var C=O.naturalWidth||O.width,T=O.naturalHeight||O.height,P=256;return[256,512].forEach(function(b){var x=Math.ceil(T/b),I=Math.ceil(C/b);x*I<1e3&&(P=b)}),[P,P]}var n=function(){function O(){(0,u.Z)(this,O)}return(0,D.Z)(O,[{key:"apply",value:function(T){var P=T.renderingService,b=T.renderingContext,x=T.imagePool,I=b.root.ownerDocument.defaultView,S=function(j,W,U){var F=j.parsedStyle,H=F.width,Y=F.height;H&&!Y?j.setAttribute("height",U/W*H):!H&&Y&&j.setAttribute("width",W/U*Y)},K=function(j){var W=j.target,U=W.nodeName,F=W.attributes;if(U===m.bn.IMAGE){var H=F.src,Y=F.keepAspectRatio;x.getImageSync(H,W,function(V){var X=V.img,$=X.width,rt=X.height;Y&&S(W,$,rt),W.renderable.dirty=!0,P.dirtify()})}},N=function(j){var W=j.target,U=j.attrName,F=j.prevValue,H=j.newValue;W.nodeName!==m.bn.IMAGE||U!=="src"||(F!==H&&x.releaseImage(F,W),(0,r.Z)(H)&&x.getOrCreateImage(H,W).then(function(Y){var V=Y.img,X=V.width,$=V.height;W.attributes.keepAspectRatio&&S(W,X,$),W.renderable.dirty=!0,P.dirtify()}).catch(function(){}))};P.hooks.init.tap(O.tag,function(){I.addEventListener(m.Dk.MOUNTED,K),I.addEventListener(m.Dk.ATTR_MODIFIED,N)}),P.hooks.destroy.tap(O.tag,function(){I.removeEventListener(m.Dk.MOUNTED,K),I.removeEventListener(m.Dk.ATTR_MODIFIED,N)})}}])}();n.tag="LoadImage";var l=function(O){function C(){var T;(0,u.Z)(this,C);for(var P=arguments.length,b=new Array(P),x=0;x<P;x++)b[x]=arguments[x];return T=(0,p.Z)(this,C,[].concat(b)),T.name="image-loader",T}return(0,M.Z)(C,O),(0,D.Z)(C,[{key:"init",value:function(P){this.context.imagePool=new e(this.context,P),this.addRenderingPlugin(new n)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(m.F6)},28351:function(it,w,t){"use strict";var u=t(46911),D=t(76132),p=t(99190),M=t(87974),m=t(61912),c=t(87948),h=t(8818),v=t(15378),a=t(26912),r=t(89148);var s=function(Zt){function St(Lt,Wt,Qt,ae){var oe;return(0,D.Z)(this,St),oe=(0,M.Z)(this,St,[Lt]),oe.currentTime=Qt,oe.timelineTime=ae,oe.target=Wt,oe.type="finish",oe.bubbles=!1,oe.currentTarget=Wt,oe.defaultPrevented=!1,oe.eventPhase=oe.AT_TARGET,oe.timeStamp=Date.now(),oe.currentTime=Qt,oe.timelineTime=ae,oe}return(0,m.Z)(St,Zt),(0,p.Z)(St)}(u.xA),o=0,d=function(){function Zt(St,Lt){var Wt;(0,D.Z)(this,Zt),this.currentTimePending=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._playbackRate=1,this._inTimeline=!0,this.effect=St,St.animation=this,this.timeline=Lt,this.id="".concat(o++),this._inEffect=!!this.effect.update(0),this._totalDuration=Number((Wt=this.effect)===null||Wt===void 0?void 0:Wt.getComputedTiming().endTime),this._holdTime=0,this._paused=!1,this.oldPlayState="idle",this.updatePromises()}return(0,p.Z)(Zt,[{key:"pending",get:function(){return this._startTime===null&&!this._paused&&this.playbackRate!==0||this.currentTimePending}},{key:"playState",get:function(){return this._idle?"idle":this._isFinished?"finished":this._paused?"paused":"running"}},{key:"ready",get:function(){var Lt=this;return this.readyPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.readyPromise=new Promise(function(Wt,Qt){Lt.resolveReadyPromise=function(){Wt(Lt)},Lt.rejectReadyPromise=function(){Qt(new Error)}}),this.pending||this.resolveReadyPromise()),this.readyPromise}},{key:"finished",get:function(){var Lt=this;return this.finishedPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.finishedPromise=new Promise(function(Wt,Qt){Lt.resolveFinishedPromise=function(){Wt(Lt)},Lt.rejectFinishedPromise=function(){Qt(new Error)}}),this.playState==="finished"&&this.resolveFinishedPromise()),this.finishedPromise}},{key:"currentTime",get:function(){return this.updatePromises(),this._idle||this.currentTimePending?null:this._currentTime},set:function(Lt){if(Lt=Number(Lt),!isNaN(Lt)){if(this.timeline.restart(),!this._paused&&this._startTime!==null){var Wt;this._startTime=Number((Wt=this.timeline)===null||Wt===void 0?void 0:Wt.currentTime)-Lt/this.playbackRate}this.currentTimePending=!1,this._currentTime!==Lt&&(this._idle&&(this._idle=!1,this._paused=!0),this.tickCurrentTime(Lt,!0),this.timeline.applyDirtiedAnimation(this))}}},{key:"startTime",get:function(){return this._startTime},set:function(Lt){if(Lt!==null){if(this.updatePromises(),Lt=Number(Lt),isNaN(Lt)||this._paused||this._idle)return;this._startTime=Lt,this.tickCurrentTime((Number(this.timeline.currentTime)-this._startTime)*this.playbackRate),this.timeline.applyDirtiedAnimation(this),this.updatePromises()}}},{key:"playbackRate",get:function(){return this._playbackRate},set:function(Lt){if(Lt!==this._playbackRate){this.updatePromises();var Wt=this.currentTime;this._playbackRate=Lt,this.startTime=null,this.playState!=="paused"&&this.playState!=="idle"&&(this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this)),Wt!==null&&(this.currentTime=Wt),this.updatePromises()}}},{key:"_isFinished",get:function(){return!this._idle&&(this._playbackRate>0&&Number(this._currentTime)>=this._totalDuration||this._playbackRate<0&&Number(this._currentTime)<=0)}},{key:"totalDuration",get:function(){return this._totalDuration}},{key:"_needsTick",get:function(){return this.pending||this.playState==="running"||!this._finishedFlag}},{key:"updatePromises",value:function(){var Lt;if((Lt=this.effect.target)!==null&&Lt!==void 0&&Lt.destroyed)return this.readyPromise=void 0,this.finishedPromise=void 0,!1;var Wt=this.oldPlayState,Qt=this.pending?"pending":this.playState;return this.readyPromise&&Qt!==Wt&&(Qt==="idle"?(this.rejectReadyPromise(),this.readyPromise=void 0):Wt==="pending"?this.resolveReadyPromise():Qt==="pending"&&(this.readyPromise=void 0)),this.finishedPromise&&Qt!==Wt&&(Qt==="idle"?(this.rejectFinishedPromise(),this.finishedPromise=void 0):Qt==="finished"?this.resolveFinishedPromise():Wt==="finished"&&(this.finishedPromise=void 0)),this.oldPlayState=Qt,this.readyPromise||this.finishedPromise}},{key:"play",value:function(){this.updatePromises(),this._paused=!1,(this._isFinished||this._idle)&&(this.rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this),this.timeline.animations.indexOf(this)===-1&&this.timeline.animations.push(this),this.updatePromises()}},{key:"pause",value:function(){this.updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),!this._isFinished&&!this._paused&&!this._idle?this.currentTimePending=!0:this._idle&&(this.rewind(),this._idle=!1),this._startTime=null,this._paused=!0,this.updatePromises()}},{key:"finish",value:function(){this.updatePromises(),!this._idle&&(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this.currentTimePending=!1,this.timeline.applyDirtiedAnimation(this),this.updatePromises())}},{key:"cancel",value:function(){var Lt=this;if(this.updatePromises(),!!this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this.effect.update(null),this.timeline.applyDirtiedAnimation(this),this.updatePromises(),this.oncancel)){var Wt=new s(null,this,this.currentTime,null);setTimeout(function(){Lt.oncancel(Wt)})}}},{key:"reverse",value:function(){this.updatePromises();var Lt=this.currentTime;this.playbackRate*=-1,this.play(),Lt!==null&&(this.currentTime=Lt),this.updatePromises()}},{key:"updatePlaybackRate",value:function(Lt){this.playbackRate=Lt}},{key:"targetAnimations",value:function(){var Lt,Wt=(Lt=this.effect)===null||Lt===void 0?void 0:Lt.target;return Wt.getAnimations()}},{key:"markTarget",value:function(){var Lt=this.targetAnimations();Lt.indexOf(this)===-1&&Lt.push(this)}},{key:"unmarkTarget",value:function(){var Lt=this.targetAnimations(),Wt=Lt.indexOf(this);Wt!==-1&&Lt.splice(Wt,1)}},{key:"tick",value:function(Lt,Wt){!this._idle&&!this._paused&&(this._startTime===null?Wt&&(this.startTime=Lt-this._currentTime/this.playbackRate):this._isFinished||this.tickCurrentTime((Lt-this._startTime)*this.playbackRate)),Wt&&(this.currentTimePending=!1,this.fireEvents(Lt))}},{key:"rewind",value:function(){if(this.playbackRate>=0)this.currentTime=0;else if(this._totalDuration<1/0)this.currentTime=this._totalDuration;else throw new Error("Unable to rewind negative playback rate animation with infinite duration")}},{key:"persist",value:function(){throw new Error(u.jf)}},{key:"addEventListener",value:function(Lt,Wt,Qt){throw new Error(u.jf)}},{key:"removeEventListener",value:function(Lt,Wt,Qt){throw new Error(u.jf)}},{key:"dispatchEvent",value:function(Lt){throw new Error(u.jf)}},{key:"commitStyles",value:function(){throw new Error(u.jf)}},{key:"ensureAlive",value:function(){if(this.playbackRate<0&&this.currentTime===0){var Lt;this._inEffect=!!((Lt=this.effect)!==null&&Lt!==void 0&&Lt.update(-1))}else{var Wt;this._inEffect=!!((Wt=this.effect)!==null&&Wt!==void 0&&Wt.update(this.currentTime))}!this._inTimeline&&(this._inEffect||!this._finishedFlag)&&(this._inTimeline=!0,this.timeline.animations.push(this))}},{key:"tickCurrentTime",value:function(Lt,Wt){Lt!==this._currentTime&&(this._currentTime=Lt,this._isFinished&&!Wt&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this.ensureAlive())}},{key:"fireEvents",value:function(Lt){var Wt=this;if(this._isFinished){if(!this._finishedFlag){if(this.onfinish){var Qt=new s(null,this,this.currentTime,Lt);setTimeout(function(){Wt.onfinish&&Wt.onfinish(Qt)})}this._finishedFlag=!0}}else{if(this.onframe&&this.playState==="running"){var ae=new s(null,this,this.currentTime,Lt);this.onframe(ae)}this._finishedFlag=!1}}}])}(),f=4,y=.001,E=1e-7,e=10,i=11,n=1/(i-1),l=typeof Float32Array=="function",O=function(St,Lt){return 1-3*Lt+3*St},C=function(St,Lt){return 3*Lt-6*St},T=function(St){return 3*St},P=function(St,Lt,Wt){return((O(Lt,Wt)*St+C(Lt,Wt))*St+T(Lt))*St},b=function(St,Lt,Wt){return 3*O(Lt,Wt)*St*St+2*C(Lt,Wt)*St+T(Lt)},x=function(St,Lt,Wt,Qt,ae){var oe,Oe,Pe=0;do Oe=Lt+(Wt-Lt)/2,oe=P(Oe,Qt,ae)-St,oe>0?Wt=Oe:Lt=Oe;while(Math.abs(oe)>E&&++Pe<e);return Oe},I=function(St,Lt,Wt,Qt){for(var ae=0;ae<f;++ae){var oe=b(Lt,Wt,Qt);if(oe===0)return Lt;var Oe=P(Lt,Wt,Qt)-St;Lt-=Oe/oe}return Lt},S=function(St,Lt,Wt,Qt){if(!(St>=0&&St<=1&&Wt>=0&&Wt<=1))throw new Error("bezier x values must be in [0, 1] range");if(St===Lt&&Wt===Qt)return function(Pe){return Pe};for(var ae=l?new Float32Array(i):new Array(i),oe=0;oe<i;++oe)ae[oe]=P(oe*n,St,Wt);var Oe=function(Re){for(var Se=0,Ae=1,Be=i-1;Ae!==Be&&ae[Ae]<=Re;++Ae)Se+=n;--Ae;var je=(Re-ae[Ae])/(ae[Ae+1]-ae[Ae]),Fe=Se+je*n,rn=b(Fe,St,Wt);return rn>=y?I(Re,Fe,St,Wt):rn===0?Fe:x(Re,Se,Se+n,St,Wt)};return function(Pe){return Pe===0||Pe===1?Pe:P(Oe(Pe),Lt,Qt)}},K=function(St){return St=St.replace(/([A-Z])/g,function(Lt){return"-".concat(Lt.toLowerCase())}),St.charAt(0)==="-"?St.substring(1):St},N=function(St){return Math.pow(St,2)},z=function(St){return Math.pow(St,3)},j=function(St){return Math.pow(St,4)},W=function(St){return Math.pow(St,5)},U=function(St){return Math.pow(St,6)},F=function(St){return 1-Math.cos(St*Math.PI/2)},H=function(St){return 1-Math.sqrt(1-St*St)},Y=function(St){return St*St*(3*St-2)},V=function(St){for(var Lt,Wt=4;St<((Lt=Math.pow(2,--Wt))-1)/11;);return 1/Math.pow(4,3-Wt)-7.5625*Math.pow((Lt*3-2)/22-St,2)},X=function(St){var Lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],Wt=(0,h.Z)(Lt,2),Qt=Wt[0],ae=Qt===void 0?1:Qt,oe=Wt[1],Oe=oe===void 0?.5:oe,Pe=(0,v.Z)(Number(ae),1,10),Re=(0,v.Z)(Number(Oe),.1,2);return St===0||St===1?St:-Pe*Math.pow(2,10*(St-1))*Math.sin((St-1-Re/(Math.PI*2)*Math.asin(1/Pe))*(Math.PI*2)/Re)},$=function(St){var Lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],Wt=arguments.length>2?arguments[2]:void 0,Qt=(0,h.Z)(Lt,4),ae=Qt[0],oe=ae===void 0?1:ae,Oe=Qt[1],Pe=Oe===void 0?100:Oe,Re=Qt[2],Se=Re===void 0?10:Re,Ae=Qt[3],Be=Ae===void 0?0:Ae;oe=(0,v.Z)(oe,.1,1e3),Pe=(0,v.Z)(Pe,.1,1e3),Se=(0,v.Z)(Se,.1,1e3),Be=(0,v.Z)(Be,.1,1e3);var je=Math.sqrt(Pe/oe),Fe=Se/(2*Math.sqrt(Pe*oe)),rn=Fe<1?je*Math.sqrt(1-Fe*Fe):0,tn=1,le=Fe<1?(Fe*je+-Be)/rn:-Be+je,Qe=Wt?Wt*St/1e3:St;return Fe<1?Qe=Math.exp(-Qe*Fe*je)*(tn*Math.cos(rn*Qe)+le*Math.sin(rn*Qe)):Qe=(tn+le*Qe)*Math.exp(-Qe*je),St===0||St===1?St:1-Qe},rt=function(St){var Lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],Wt=Lt,Qt=(0,h.Z)(Wt,2),ae=Qt[0],oe=ae===void 0?10:ae,Oe=Qt[1],Pe=Oe==="start"?Math.ceil:Math.floor;return Pe((0,v.Z)(St,0,1)*oe)/oe},ot=function(St){var Lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],Wt=(0,h.Z)(Lt,4),Qt=Wt[0],ae=Wt[1],oe=Wt[2],Oe=Wt[3];return S(Qt,ae,oe,Oe)(St)},tt=S(.42,0,1,1),G=function(St){return function(Lt){var Wt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],Qt=arguments.length>2?arguments[2]:void 0;return 1-St(1-Lt,Wt,Qt)}},nt=function(St){return function(Lt){var Wt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],Qt=arguments.length>2?arguments[2]:void 0;return Lt<.5?St(Lt*2,Wt,Qt)/2:1-St(Lt*-2+2,Wt,Qt)/2}},ut=function(St){return function(Lt){var Wt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],Qt=arguments.length>2?arguments[2]:void 0;return Lt<.5?(1-St(1-Lt*2,Wt,Qt))/2:(St(Lt*2-1,Wt,Qt)+1)/2}},dt={steps:rt,"step-start":function(St){return rt(St,[1,"start"])},"step-end":function(St){return rt(St,[1,"end"])},linear:function(St){return St},"cubic-bezier":ot,ease:function(St){return ot(St,[.25,.1,.25,1])},in:tt,out:G(tt),"in-out":nt(tt),"out-in":ut(tt),"in-quad":N,"out-quad":G(N),"in-out-quad":nt(N),"out-in-quad":ut(N),"in-cubic":z,"out-cubic":G(z),"in-out-cubic":nt(z),"out-in-cubic":ut(z),"in-quart":j,"out-quart":G(j),"in-out-quart":nt(j),"out-in-quart":ut(j),"in-quint":W,"out-quint":G(W),"in-out-quint":nt(W),"out-in-quint":ut(W),"in-expo":U,"out-expo":G(U),"in-out-expo":nt(U),"out-in-expo":ut(U),"in-sine":F,"out-sine":G(F),"in-out-sine":nt(F),"out-in-sine":ut(F),"in-circ":H,"out-circ":G(H),"in-out-circ":nt(H),"out-in-circ":ut(H),"in-back":Y,"out-back":G(Y),"in-out-back":nt(Y),"out-in-back":ut(Y),"in-bounce":V,"out-bounce":G(V),"in-out-bounce":nt(V),"out-in-bounce":ut(V),"in-elastic":X,"out-elastic":G(X),"in-out-elastic":nt(X),"out-in-elastic":ut(X),spring:$,"spring-in":$,"spring-out":G($),"spring-in-out":nt($),"spring-out-in":ut($)},et=function(St){return K(St).replace(/^ease-/,"").replace(/(\(|\s).+/,"").toLowerCase().trim()},gt=function(St){return dt[et(St)]||dt.linear},Et=function(St){return St},lt=1,mt=.5,Tt=0;function B(Zt,St){return function(Lt){if(Lt>=1)return 1;var Wt=1/Zt;return Lt+=St*Wt,Lt-Lt%Wt}}var J="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",pt=new RegExp("cubic-bezier\\(".concat(J,",").concat(J,",").concat(J,",").concat(J,"\\)")),Ot=/steps\(\s*(\d+)\s*\)/,bt=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/;function Rt(Zt){var St=pt.exec(Zt);if(St)return S.apply(void 0,(0,c.Z)(St.slice(1).map(Number)));var Lt=Ot.exec(Zt);if(Lt)return B(Number(Lt[1]),Tt);var Wt=bt.exec(Zt);return Wt?B(Number(Wt[1]),{start:lt,middle:mt,end:Tt}[Wt[2]]):gt(Zt)}function It(Zt){return Math.abs(st(Zt)/(Zt.playbackRate||1))}function st(Zt){var St;return Zt.duration===0||Zt.iterations===0?0:(Zt.duration==="auto"?0:Number(Zt.duration))*((St=Zt.iterations)!==null&&St!==void 0?St:1)}var Q=0,ct=1,vt=2,ft=3;function _t(Zt,St,Lt){if(St===null)return Q;var Wt=Lt.endTime;return St<Math.min(Lt.delay,Wt)?ct:St>=Math.min(Lt.delay+Zt+Lt.endDelay,Wt)?vt:ft}function yt(Zt,St,Lt,Wt,Qt){switch(Wt){case ct:return St==="backwards"||St==="both"?0:null;case ft:return Lt-Qt;case vt:return St==="forwards"||St==="both"?Zt:null;case Q:return null}}function Ct(Zt,St,Lt,Wt,Qt){var ae=Qt;return Zt===0?St!==ct&&(ae+=Lt):ae+=Wt/Zt,ae}function Pt(Zt,St,Lt,Wt,Qt,ae){var oe=Zt===1/0?St%1:Zt%1;return oe===0&&Lt===vt&&Wt!==0&&(Qt!==0||ae===0)&&(oe=1),oe}function Dt(Zt,St,Lt,Wt){return Zt===vt&&St===1/0?1/0:Lt===1?Math.floor(Wt)-1:Math.floor(Wt)}function At(Zt,St,Lt){var Wt=Zt;if(Zt!=="normal"&&Zt!=="reverse"){var Qt=St;Zt==="alternate-reverse"&&(Qt+=1),Wt="normal",Qt!==1/0&&Qt%2!==0&&(Wt="reverse")}return Wt==="normal"?Lt:1-Lt}function Ut(Zt,St,Lt){var Wt=_t(Zt,St,Lt),Qt=yt(Zt,Lt.fill,St,Wt,Lt.delay);if(Qt===null)return null;var ae=Lt.duration==="auto"?0:Lt.duration,oe=Ct(ae,Wt,Lt.iterations,Qt,Lt.iterationStart),Oe=Pt(oe,Lt.iterationStart,Wt,Lt.iterations,Qt,ae),Pe=Dt(Wt,Lt.iterations,Oe,oe),Re=At(Lt.direction,Pe,Oe);return Lt.currentIteration=Pe,Lt.progress=Re,Lt.easingFunction(Re)}function Bt(Zt,St,Lt){var Wt=jt(Zt,St),Qt=Yt(Wt,Lt);return function(ae,oe){if(oe!==null)Qt.filter(function(Pe){return oe>=Pe.applyFrom&&oe<Pe.applyTo}).forEach(function(Pe){var Re=oe-Pe.startOffset,Se=Pe.endOffset-Pe.startOffset,Ae=Se===0?0:Re/Se;ae.setAttribute(Pe.property,Pe.interpolation(Ae),!1,!1)});else for(var Oe in Wt)zt(Oe)&&ae.setAttribute(Oe,null)}}function zt(Zt){return Zt!=="offset"&&Zt!=="easing"&&Zt!=="composite"&&Zt!=="computedOffset"}function jt(Zt,St){for(var Lt={},Wt=0;Wt<Zt.length;Wt++)for(var Qt in Zt[Wt])if(zt(Qt)){var ae={offset:Zt[Wt].offset,computedOffset:Zt[Wt].computedOffset,easing:Zt[Wt].easing,easingFunction:Rt(Zt[Wt].easing)||St.easingFunction,value:Zt[Wt][Qt]};Lt[Qt]=Lt[Qt]||[],Lt[Qt].push(ae)}return Lt}function Yt(Zt,St){var Lt=[];for(var Wt in Zt)for(var Qt=Zt[Wt],ae=0;ae<Qt.length-1;ae++){var oe=ae,Oe=ae+1,Pe=Qt[oe].computedOffset,Re=Qt[Oe].computedOffset,Se=Pe,Ae=Re;ae===0&&(Se=-1/0,Re===0&&(Oe=oe)),ae===Qt.length-2&&(Ae=1/0,Pe===1&&(oe=Oe)),Lt.push({applyFrom:Se,applyTo:Ae,startOffset:Qt[oe].computedOffset,endOffset:Qt[Oe].computedOffset,easingFunction:Qt[oe].easingFunction,property:Wt,interpolation:re(Wt,Qt[oe].value,Qt[Oe].value,St)})}return Lt.sort(function(Be,je){return Be.startOffset-je.startOffset}),Lt}var te=function(St,Lt,Wt){return function(Qt){var ae=ee(St,Lt,Qt);return(0,a.Z)(ae)?ae:Wt(ae)}};function re(Zt,St,Lt,Wt){var Qt=u.N1[Zt];if(Qt&&Qt.syntax&&Qt.int){var ae=u.GZ.styleValueRegistry.getPropertySyntax(Qt.syntax);if(ae){var oe=ae.parser,Oe=oe?oe(St,Wt):St,Pe=oe?oe(Lt,Wt):Lt,Re=ae.mixer(Oe,Pe,Wt);if(Re){var Se=te.apply(void 0,(0,c.Z)(Re));return function(Ae){return Ae===0?St:Ae===1?Lt:Se(Ae)}}}}return te(!1,!0,function(Ae){return Ae?Lt:St})}function ee(Zt,St,Lt){if(typeof Zt=="number"&&typeof St=="number")return Zt*(1-Lt)+St*Lt;if(typeof Zt=="boolean"&&typeof St=="boolean"||typeof Zt=="string"&&typeof St=="string")return Lt<.5?Zt:St;if(Array.isArray(Zt)&&Array.isArray(St)){for(var Wt=Zt.length,Qt=St.length,ae=Math.max(Wt,Qt),oe=[],Oe=0;Oe<ae;Oe++)oe.push(ee(Zt[Oe<Wt?Oe:Wt-1],St[Oe<Qt?Oe:Qt-1],Lt));return oe}throw new Error("Mismatched interpolation arguments ".concat(Zt,":").concat(St))}var Gt=function(){function Zt(){(0,D.Z)(this,Zt),this.delay=0,this.direction="normal",this.duration="auto",this._easing="linear",this.easingFunction=Et,this.endDelay=0,this.fill="auto",this.iterationStart=0,this.iterations=1,this.currentIteration=null,this.progress=null}return(0,p.Z)(Zt,[{key:"easing",get:function(){return this._easing},set:function(Lt){this.easingFunction=Rt(Lt),this._easing=Lt}}])}();function ve(Zt){var St=[];for(var Lt in Zt)if(!(Lt in["easing","offset","composite"])){var Wt=Zt[Lt];Array.isArray(Wt)||(Wt=[Wt]);for(var Qt=Wt.length,ae=0;ae<Qt;ae++){if(!St[ae]){var oe={};"offset"in Zt&&(oe.offset=Number(Zt.offset)),"easing"in Zt&&(oe.easing=Zt.easing),"composite"in Zt&&(oe.composite=Zt.composite),St[ae]=oe}Wt[ae]!==void 0&&Wt[ae]!==null&&(St[ae][Lt]=Wt[ae])}}return St.sort(function(Oe,Pe){return(Oe.computedOffset||0)-(Pe.computedOffset||0)}),St}function de(Zt,St){if(Zt===null)return[];Array.isArray(Zt)||(Zt=ve(Zt));for(var Lt=Zt.map(function(Pe){var Re={};St!=null&&St.composite&&(Re.composite="auto");for(var Se in Pe){var Ae=Pe[Se];if(Se==="offset"){if(Ae!==null){if(Ae=Number(Ae),!isFinite(Ae))throw new Error("Keyframe offsets must be numbers.");if(Ae<0||Ae>1)throw new Error("Keyframe offsets must be between 0 and 1.");Re.computedOffset=Ae}}else if(Se==="composite"&&["replace","add","accumulate","auto"].indexOf(Ae)===-1)throw new Error("".concat(Ae," compositing is not supported"));Re[Se]=Ae}return Re.offset===void 0&&(Re.offset=null),Re.easing===void 0&&(Re.easing=(St==null?void 0:St.easing)||"linear"),Re.composite===void 0&&(Re.composite="auto"),Re}),Wt=!0,Qt=-1/0,ae=0;ae<Lt.length;ae++){var oe=Lt[ae].offset;if((0,r.Z)(oe))Wt=!1;else{if(oe<Qt)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");Qt=oe}}Lt=Lt.filter(function(Pe){return Number(Pe.offset)>=0&&Number(Pe.offset)<=1});function Oe(){var Pe,Re=Lt,Se=Re.length;if(Lt[Se-1].computedOffset=Number((Pe=Lt[Se-1].offset)!==null&&Pe!==void 0?Pe:1),Se>1){var Ae;Lt[0].computedOffset=Number((Ae=Lt[0].offset)!==null&&Ae!==void 0?Ae:0)}for(var Be=0,je=Number(Lt[0].computedOffset),Fe=1;Fe<Se;Fe++){var rn=Lt[Fe].computedOffset;if(!(0,r.Z)(rn)&&!(0,r.Z)(je)){for(var tn=1;tn<Fe-Be;tn++)Lt[Be+tn].computedOffset=je+(Number(rn)-je)*tn/(Fe-Be);Be=Fe,je=Number(rn)}}}return Wt||Oe(),Lt}var ye="backwards|forwards|both|none".split("|"),_e="reverse|alternate|alternate-reverse".split("|");function me(Zt,St){var Lt=new Gt;return St&&(Lt.fill="both",Lt.duration="auto"),typeof Zt=="number"&&!isNaN(Zt)?Lt.duration=Zt:Zt!==void 0&&Object.keys(Zt).forEach(function(Wt){if(Zt[Wt]!==void 0&&Zt[Wt]!==null&&Zt[Wt]!=="auto"){if((typeof Lt[Wt]=="number"||Wt==="duration")&&(typeof Zt[Wt]!="number"||isNaN(Zt[Wt]))||Wt==="fill"&&ye.indexOf(Zt[Wt])===-1||Wt==="direction"&&_e.indexOf(Zt[Wt])===-1)return;Lt[Wt]=Zt[Wt]}}),Lt}function be(Zt,St){return Zt=Ie(Zt!=null?Zt:{duration:"auto"}),me(Zt,St)}function Ie(Zt){return typeof Zt=="number"&&(isNaN(Zt)?Zt={duration:"auto"}:Zt={duration:Zt}),Zt}var pe=function(){function Zt(St,Lt,Wt){var Qt=this;(0,D.Z)(this,Zt),this.composite="replace",this.iterationComposite="replace",this.target=St,this.timing=be(Wt,!1),this.timing.effect=this,this.timing.activeDuration=It(this.timing),this.timing.endTime=Math.max(0,this.timing.delay+this.timing.activeDuration+this.timing.endDelay),this.normalizedKeyframes=de(Lt,this.timing),this.interpolations=Bt(this.normalizedKeyframes,this.timing,this.target);var ae=u.GZ.globalThis.Proxy;this.computedTiming=ae?new ae(this.timing,{get:function(Oe,Pe){return Pe==="duration"?Oe.duration==="auto"?0:Oe.duration:Pe==="fill"?Oe.fill==="auto"?"none":Oe.fill:Pe==="localTime"?Qt.animation&&Qt.animation.currentTime||null:Pe==="currentIteration"?!Qt.animation||Qt.animation.playState!=="running"?null:Oe.currentIteration||0:Pe==="progress"?!Qt.animation||Qt.animation.playState!=="running"?null:Oe.progress||0:Oe[Pe]},set:function(){return!0}}):this.timing}return(0,p.Z)(Zt,[{key:"applyInterpolations",value:function(){this.interpolations(this.target,Number(this.timeFraction))}},{key:"update",value:function(Lt){return Lt===null?!1:(this.timeFraction=Ut(this.timing.activeDuration,Lt,this.timing),this.timeFraction!==null)}},{key:"getKeyframes",value:function(){return this.normalizedKeyframes}},{key:"setKeyframes",value:function(Lt){this.normalizedKeyframes=de(Lt)}},{key:"getComputedTiming",value:function(){return this.computedTiming}},{key:"getTiming",value:function(){return this.timing}},{key:"updateTiming",value:function(Lt){var Wt=this;Object.keys(Lt||{}).forEach(function(Qt){Wt.timing[Qt]=Lt[Qt]})}}])}();function Ye(Zt,St){return Number(Zt.id)-Number(St.id)}var dn=function(){function Zt(St){var Lt=this;(0,D.Z)(this,Zt),this.animations=[],this.ticking=!1,this.timelineTicking=!1,this.hasRestartedThisFrame=!1,this.animationsWithPromises=[],this.inTick=!1,this.pendingEffects=[],this.currentTime=null,this.rafId=0,this.rafCallbacks=[],this.webAnimationsNextTick=function(Wt){Lt.currentTime=Wt,Lt.discardAnimations(),Lt.animations.length===0?Lt.timelineTicking=!1:Lt.requestAnimationFrame(Lt.webAnimationsNextTick)},this.processRafCallbacks=function(Wt){var Qt=Lt.rafCallbacks;Lt.rafCallbacks=[],Wt<Number(Lt.currentTime)&&(Wt=Number(Lt.currentTime)),Lt.animations.sort(Ye),Lt.animations=Lt.tick(Wt,!0,Lt.animations)[0],Qt.forEach(function(ae){ae[1](Wt)}),Lt.applyPendingEffects()},this.document=St}return(0,p.Z)(Zt,[{key:"getAnimations",value:function(){return this.discardAnimations(),this.animations.slice()}},{key:"isTicking",value:function(){return this.inTick}},{key:"play",value:function(Lt,Wt,Qt){var ae=new pe(Lt,Wt,Qt),oe=new d(ae,this);return this.animations.push(oe),this.restartWebAnimationsNextTick(),oe.updatePromises(),oe.play(),oe.updatePromises(),oe}},{key:"applyDirtiedAnimation",value:function(Lt){var Wt=this;if(!this.inTick){Lt.markTarget();var Qt=Lt.targetAnimations();Qt.sort(Ye);var ae=this.tick(Number(this.currentTime),!1,Qt.slice())[1];ae.forEach(function(oe){var Oe=Wt.animations.indexOf(oe);Oe!==-1&&Wt.animations.splice(Oe,1)}),this.applyPendingEffects()}}},{key:"restart",value:function(){return this.ticking||(this.ticking=!0,this.requestAnimationFrame(function(){}),this.hasRestartedThisFrame=!0),this.hasRestartedThisFrame}},{key:"destroy",value:function(){this.document.defaultView.cancelAnimationFrame(this.frameId)}},{key:"applyPendingEffects",value:function(){this.pendingEffects.forEach(function(Lt){Lt==null||Lt.applyInterpolations()}),this.pendingEffects=[]}},{key:"updateAnimationsPromises",value:function(){this.animationsWithPromises=this.animationsWithPromises.filter(function(Lt){return Lt.updatePromises()})}},{key:"discardAnimations",value:function(){this.updateAnimationsPromises(),this.animations=this.animations.filter(function(Lt){return Lt.playState!=="finished"&&Lt.playState!=="idle"})}},{key:"restartWebAnimationsNextTick",value:function(){this.timelineTicking||(this.timelineTicking=!0,this.requestAnimationFrame(this.webAnimationsNextTick))}},{key:"rAF",value:function(Lt){var Wt=this.rafId++;return this.rafCallbacks.length===0&&(this.frameId=this.document.defaultView.requestAnimationFrame(this.processRafCallbacks)),this.rafCallbacks.push([Wt,Lt]),Wt}},{key:"requestAnimationFrame",value:function(Lt){var Wt=this;return this.rAF(function(Qt){Wt.updateAnimationsPromises(),Lt(Qt),Wt.updateAnimationsPromises()})}},{key:"tick",value:function(Lt,Wt,Qt){var ae=this,oe,Oe;this.inTick=!0,this.hasRestartedThisFrame=!1,this.currentTime=Lt,this.ticking=!1;var Pe=[],Re=[],Se=[],Ae=[];return Qt.forEach(function(Be){Be.tick(Lt,Wt),Be._inEffect?(Re.push(Be.effect),Be.markTarget()):(Pe.push(Be.effect),Be.unmarkTarget()),Be._needsTick&&(ae.ticking=!0);var je=Be._inEffect||Be._needsTick;Be._inTimeline=je,je?Se.push(Be):Ae.push(Be)}),(oe=this.pendingEffects).push.apply(oe,Pe),(Oe=this.pendingEffects).push.apply(Oe,Re),this.ticking&&this.requestAnimationFrame(function(){}),this.inTick=!1,[Se,Ae]}}])}();u.GZ.EasingFunction=Rt,u.GZ.AnimationTimeline=dn},57e3:function(it,w,t){"use strict";t.d(w,{L:function(){return m}});var u=t(18599),D=t(69759),p=t(40812),M=function(c,h){var v={};for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&h.indexOf(a)<0&&(v[a]=c[a]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(c);r<a.length;r++)h.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(c,a[r])&&(v[a[r]]=c[a[r]]);return v};const m=(c,h,v)=>{if(!v.length)return null;const[a,r]=h,s=y=>{var E;if(y){const e=c.getShape(y);if(!e)return null;const i=`get${(0,u.Z)(y)}Style`,n=((E=c==null?void 0:c[i])===null||E===void 0?void 0:E.bind(c))||(C=>C),l=(n==null?void 0:n(a))||{},O=(n==null?void 0:n(r))||{};return{shape:e,fromStyle:l,toStyle:O}}else return{shape:c,fromStyle:a,toStyle:r}};let o;const d=v.map(y=>{var{fields:E,shape:e,states:i}=y,n=M(y,["fields","shape","states"]);const l=s(e);if(!l)return null;const{shape:O,fromStyle:C,toStyle:T}=l,P=[{},{}];if(E.forEach(x=>{var I,S;Object.assign(P[0],{[x]:(I=C[x])!==null&&I!==void 0?I:(0,D.HK)(x)}),Object.assign(P[1],{[x]:(S=T[x])!==null&&S!==void 0?S:(0,D.HK)(x)})}),P.some(x=>Object.keys(x).some(I=>["x","y","z"].includes(I)))){const{x=0,y:I=0,z:S,transform:K=""}=O.attributes||{};P.forEach(N=>{var z,j,W;N.transform=(0,p.u)((z=N.x)!==null&&z!==void 0?z:x,(j=N.y)!==null&&j!==void 0?j:I,(W=N.z)!==null&&W!==void 0?W:S,K)})}const b=O.animate((0,D.dk)(P),n);return e===void 0&&(o=b),b}).filter(Boolean),f=o||(d==null?void 0:d[0]);return f?(0,D.zt)(f,d.filter(y=>y!==y)):null}},96057:function(it,w,t){"use strict";t.d(w,{FW:function(){return M},JC:function(){return m},b4:function(){return v},es:function(){return h},fj:function(){return a},pT:function(){return D},s6:function(){return c},vN:function(){return p}});var u=t(57e3);const D=[{fields:["opacity"]}],p=[{fields:["x","y"]}],M=[{fields:["x","y"]}],m=M,c=[{fields:["sourceNode","targetNode"]}],h=c,v=[{fields:["childrenNode","x","y"]}],a=v,r=[{fields:["childrenNode","x","y"]}]},81754:function(it,w,t){"use strict";t.d(w,{n:function(){return r}});var u=t(84237),D=t(26218),p=t(31922),M=t(23098),m=t(52877),c=t(1883),h=t(26898),v=t(88102),a=t(70372);class r extends a.Z{constructor(o,d){super(o,Object.assign({},r.defaultOptions,d)),this.isOverlapping=(f,y)=>y.some(E=>f.intersects(E)),this.occupiedBounds=[],this.detectLabelCollision=f=>{const y=this.context.viewport,E={show:[],hide:[]};return this.occupiedBounds=[],f.forEach(e=>{const i=e.getShape("label").getRenderBounds();y.isInViewport(i,!0)&&!this.isOverlapping(i,this.occupiedBounds)?(E.show.push(e),this.occupiedBounds.push((0,m.cL)(i,this.options.padding))):E.hide.push(e)}),E},this.hideLabelIfExceedViewport=(f,y)=>{const{exit:E}=(0,h.t)(f,y,e=>e.id);E==null||E.forEach(this.hideLabel)},this.nodeCentralities=new Map,this.sortNodesByCentrality=(f,y)=>{const{model:E}=this.context,e=E.getData(),i=E.getRelatedEdgesData.bind(E);return f.map(l=>(this.nodeCentralities.has(l.id)||(this.nodeCentralities=(0,c.iZ)(e,i,y)),{node:l,centrality:this.nodeCentralities.get(l.id)})).sort((l,O)=>O.centrality-l.centrality).map(l=>l.node)},this.sortLabelElementsInView=f=>{const{sort:y,sortNode:E,sortCombo:e,sortEdge:i}=this.options,{model:n}=this.context;if((0,u.Z)(y))return f.sort((x,I)=>y(n.getElementDataById(x.id),n.getElementDataById(I.id)));const{node:l=[],edge:O=[],combo:C=[]}=(0,D.Z)(f,x=>x.type),T=(0,u.Z)(e)?C.sort((x,I)=>e(...n.getComboData([x.id,I.id]))):C,P=(0,u.Z)(E)?l.sort((x,I)=>E(...n.getNodeData([x.id,I.id]))):this.sortNodesByCentrality(l,E),b=(0,u.Z)(i)?O.sort((x,I)=>i(...n.getEdgeData([x.id,I.id]))):O;return[...T,...P,...b]},this.labelElementsInView=[],this.isFirstRender=!0,this.onToggleVisibility=f=>{var y;if(((y=f.data)===null||y===void 0?void 0:y.stage)==="zIndex")return;if(!this.validate(f)){this.hiddenElements.size>0&&(this.hiddenElements.forEach(this.showLabel),this.hiddenElements.clear());return}const E=this.isFirstRender?this.getLabelElements():this.getLabelElementsInView();this.hideLabelIfExceedViewport(this.labelElementsInView,E),this.labelElementsInView=E;const e=this.sortLabelElementsInView(this.labelElementsInView),{show:i,hide:n}=this.detectLabelCollision(e);for(let l=i.length-1;l>=0;l--)this.showLabel(i[l]);n.forEach(this.hideLabel)},this.hiddenElements=new Map,this.hideLabel=f=>{const y=f.getShape("label");y&&(0,v.i)(y,"hidden"),this.hiddenElements.set(f.id,f)},this.showLabel=f=>{const y=f.getShape("label");y&&(0,v.i)(y,"visible"),f.toFront(),this.hiddenElements.delete(f.id)},this.onTransform=(0,p.Z)(this.onToggleVisibility,this.options.throttle,{leading:!0}),this.enableToggle=!0,this.toggle=f=>{this.enableToggle&&this.onToggleVisibility(f)},this.onBeforeRender=()=>{this.enableToggle=!1},this.onAfterRender=f=>{this.onToggleVisibility(f),this.enableToggle=!0},this.bindEvents()}update(o){this.unbindEvents(),super.update(o),this.bindEvents(),this.onToggleVisibility({})}getLabelElements(){const{elementMap:o}=this.context.element,d=[];for(const f in o){const y=o[f];y.isVisible()&&y.getShape("label")&&d.push(y)}return d}getLabelElementsInView(){const o=this.context.viewport;return this.getLabelElements().filter(d=>o.isInViewport(d.getShape("key").getRenderBounds()))}bindEvents(){const{graph:o}=this.context;o.on(M.VR.BEFORE_RENDER,this.onBeforeRender),o.on(M.VR.AFTER_RENDER,this.onAfterRender),o.on(M.VR.AFTER_DRAW,this.toggle),o.on(M.VR.AFTER_LAYOUT,this.toggle),o.on(M.VR.AFTER_TRANSFORM,this.onTransform)}unbindEvents(){const{graph:o}=this.context;o.off(M.VR.BEFORE_RENDER,this.onBeforeRender),o.off(M.VR.AFTER_RENDER,this.onAfterRender),o.off(M.VR.AFTER_DRAW,this.toggle),o.off(M.VR.AFTER_LAYOUT,this.toggle),o.off(M.VR.AFTER_TRANSFORM,this.onTransform)}validate(o){if(this.destroyed)return!1;const{enable:d}=this.options;return(0,u.Z)(d)?d(o):!!d}destroy(){this.unbindEvents(),super.destroy()}}r.defaultOptions={enable:!0,throttle:100,padding:0,sortNode:{type:"degree"}}},70372:function(it,w,t){"use strict";t.d(w,{Z:function(){return D}});var u=t(30054);class D extends u.j{}},54608:function(it,w,t){"use strict";t.d(w,{C:function(){return r},_:function(){return a}});var u=t(81614),D=t(48690),p=t(84237),M=t(23098),m=t(29193),c=t(59268),h=t(80860),v=t(70372);class a extends v.Z{constructor(o,d){super(o,(0,D.Z)({},a.defaultOptions,d)),this.shortcut=new h.z(o.graph),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.clearStates=this.clearStates.bind(this),this.bindEvents()}onPointerDown(o){if(!this.validate(o)||!this.isKeydown()||this.startPoint)return;const{canvas:d,graph:f}=this.context,y=Object.assign({},this.options.style);this.options.style.lineWidth&&(y.lineWidth=+this.options.style.lineWidth/f.getZoom()),this.rectShape=new u.UL({id:"g6-brush-select",style:y}),d.appendChild(this.rectShape),this.startPoint=[o.canvas.x,o.canvas.y]}onPointerMove(o){var d;if(!this.startPoint)return;const{immediately:f,mode:y}=this.options;this.endPoint=r(o,this.context.graph),(d=this.rectShape)===null||d===void 0||d.attr({x:Math.min(this.endPoint[0],this.startPoint[0]),y:Math.min(this.endPoint[1],this.startPoint[1]),width:Math.abs(this.endPoint[0]-this.startPoint[0]),height:Math.abs(this.endPoint[1]-this.startPoint[1])}),f&&y==="default"&&this.updateElementsStates((0,c.k3)(this.startPoint,this.endPoint))}onPointerUp(o){if(this.startPoint){if(!this.endPoint){this.clearBrush();return}this.endPoint=r(o,this.context.graph),this.updateElementsStates((0,c.k3)(this.startPoint,this.endPoint)),this.clearBrush()}}clearStates(){this.endPoint||this.clearElementsStates()}clearElementsStates(){const{graph:o}=this.context,d=Object.values(o.getData()).reduce((f,y)=>Object.assign({},f,y.reduce((E,e)=>{var i;const n=(i=e.states||[])===null||i===void 0?void 0:i.filter(l=>l!==this.options.state);return E[(0,m.jD)(e)]=n,E},{})),{});o.setElementState(d,this.options.animation)}updateElementsStates(o){const{graph:d}=this.context,{enableElements:f,state:y,mode:E,onSelect:e}=this.options,i=this.selector(d,o,f);let n={};switch(E){case"union":i.forEach(l=>{n[l]=[...d.getElementState(l),y]});break;case"diff":i.forEach(l=>{const O=d.getElementState(l);n[l]=O.includes(y)?O.filter(C=>C!==y):[...O,y]});break;case"intersect":i.forEach(l=>{const O=d.getElementState(l);n[l]=O.includes(y)?[y]:[]});break;case"default":default:i.forEach(l=>{n[l]=[y]});break}(0,p.Z)(e)&&(n=e(n)),d.setElementState(n,this.options.animation)}selector(o,d,f){if(!f||f.length===0)return[];const y=[],E=o.getData();if(f.forEach(e=>{E[`${e}s`].forEach(i=>{const n=(0,m.jD)(i);o.getElementVisibility(n)!=="hidden"&&(0,c.c9)(o.getElementPosition(n),d)&&y.push(n)})}),f.includes("edge")){const e=E.edges;e==null||e.forEach(i=>{const{source:n,target:l}=i;y.includes(n)&&y.includes(l)&&y.push((0,m.jD)(i))})}return y}clearBrush(){var o;(o=this.rectShape)===null||o===void 0||o.remove(),this.rectShape=void 0,this.startPoint=void 0,this.endPoint=void 0}isKeydown(){const{trigger:o}=this.options,d=Array.isArray(o)?o:[o];return this.shortcut.match(d.filter(f=>f!=="drag"))}validate(o){if(this.destroyed)return!1;const{enable:d}=this.options;return(0,p.Z)(d)?d(o):!!d}bindEvents(){const{graph:o}=this.context;o.on(M.C9.POINTER_DOWN,this.onPointerDown),o.on(M.C9.POINTER_MOVE,this.onPointerMove),o.on(M.C9.POINTER_UP,this.onPointerUp),o.on(M.$6.CLICK,this.clearStates)}unbindEvents(){const{graph:o}=this.context;o.off(M.C9.POINTER_DOWN,this.onPointerDown),o.off(M.C9.POINTER_MOVE,this.onPointerMove),o.off(M.C9.POINTER_UP,this.onPointerUp),o.off(M.$6.CLICK,this.clearStates)}update(o){this.unbindEvents(),this.options=(0,D.Z)(this.options,o),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy()}}a.defaultOptions={animation:!1,enable:!0,enableElements:["node","combo","edge"],immediately:!1,mode:"default",state:"selected",trigger:["shift"],style:{width:0,height:0,lineWidth:1,fill:"#1677FF",stroke:"#1677FF",fillOpacity:.1,zIndex:2,pointerEvents:"none"}};const r=(s,o)=>{if((s.targetType==="node"||s.targetType==="combo")&&!(s.nativeEvent.target instanceof HTMLCanvasElement)){const[d,f]=o.getCanvasByClient([s.client.x,s.client.y]);return[d,f]}return[s.canvas.x,s.canvas.y]}},53293:function(it,w,t){"use strict";t.d(w,{B:function(){return r}});var u=t(84237),D=t(23098),p=t(66185),M=t(29193),m=t(78822),c=t(80860),h=t(38499),v=t(70372),a=function(s,o,d,f){function y(E){return E instanceof d?E:new d(function(e){e(E)})}return new(d||(d=Promise))(function(E,e){function i(O){try{l(f.next(O))}catch(C){e(C)}}function n(O){try{l(f.throw(O))}catch(C){e(C)}}function l(O){O.done?E(O.value):y(O.value).then(i,n)}l((f=f.apply(s,o||[])).next())})};class r extends v.Z{constructor(o,d){super(o,Object.assign({},r.defaultOptions,d)),this.onClickSelect=f=>a(this,void 0,void 0,function*(){var y,E;this.validate(f)&&(yield this.updateState(f),(E=(y=this.options).onClick)===null||E===void 0||E.call(y,f))}),this.onClickCanvas=f=>a(this,void 0,void 0,function*(){var y,E;this.validate(f)&&(yield this.clearState(),(E=(y=this.options).onClick)===null||E===void 0||E.call(y,f))}),this.shortcut=new c.z(o.graph),this.bindEvents()}bindEvents(){const{graph:o}=this.context;this.unbindEvents(),p.Y.forEach(d=>{o.on(`${d}:${D.C9.CLICK}`,this.onClickSelect)}),o.on(D.$6.CLICK,this.onClickCanvas)}get isMultipleSelect(){const{multiple:o,trigger:d}=this.options;return o&&this.shortcut.match(d)}getNeighborIds(o){const{target:d,targetType:f}=o,{graph:y}=this.context,{degree:E}=this.options;return(0,m.g)(y,f,d.id,typeof E=="function"?E(o):E).filter(e=>e!==d.id)}updateState(o){return a(this,void 0,void 0,function*(){const{state:d,unselectedState:f,neighborState:y,animation:E}=this.options;if(!d&&!y&&!f)return;const{target:e}=o,{graph:i}=this.context,n=i.getElementData(e.id),l=(0,h.x)(n).includes(d)?"unselect":"select",O={},C=this.isMultipleSelect,T=[e.id],P=this.getNeighborIds(o);if(C)if(Object.assign(O,this.getDataStates()),l==="select"){const b=(x,I)=>{x.forEach(S=>{const K=new Set(i.getElementState(S));K.add(I),K.delete(f),O[S]=Array.from(K)})};b(T,d),b(P,y),f&&Object.keys(O).forEach(x=>{const I=O[x];!I.includes(d)&&!I.includes(y)&&!I.includes(f)&&O[x].push(f)})}else{const b=O[e.id];O[e.id]=b.filter(x=>x!==d&&x!==y),b.includes(f)||O[e.id].push(f),P.forEach(x=>{O[x]=O[x].filter(I=>I!==y),O[x].includes(d)||O[x].push(f)})}else if(l==="select"){Object.assign(O,this.getClearStates(!!f));const b=(x,I)=>{x.forEach(S=>{O[S]||(O[S]=i.getElementState(S)),O[S].push(I)})};b(T,d),b(P,y),f&&Object.keys(O).forEach(x=>{!T.includes(x)&&!P.includes(x)&&O[x].push(f)})}else Object.assign(O,this.getClearStates());yield i.setElementState(O,E)})}getDataStates(){const{graph:o}=this.context,{nodes:d,edges:f,combos:y}=o.getData(),E={};return[...d,...f,...y].forEach(e=>{E[(0,M.jD)(e)]=(0,h.x)(e)}),E}getClearStates(o=!1){const{graph:d}=this.context,{state:f,unselectedState:y,neighborState:E}=this.options,e=new Set([f,y,E]),{nodes:i,edges:n,combos:l}=d.getData(),O={};return[...i,...n,...l].forEach(C=>{const T=(0,h.x)(C),P=T.filter(b=>!e.has(b));(o||P.length!==T.length)&&(O[(0,M.jD)(C)]=P)}),O}clearState(){return a(this,void 0,void 0,function*(){const{graph:o}=this.context;yield o.setElementState(this.getClearStates(),this.options.animation)})}validate(o){if(this.destroyed)return!1;const{enable:d}=this.options;return(0,u.Z)(d)?d(o):!!d}unbindEvents(){const{graph:o}=this.context;p.Y.forEach(d=>{o.off(`${d}:${D.C9.CLICK}`,this.onClickSelect)}),o.off(D.$6.CLICK,this.onClickCanvas)}destroy(){this.unbindEvents(),super.destroy()}}r.defaultOptions={animation:!0,enable:!0,multiple:!1,trigger:["shift"],state:"selected",neighborState:"selected",unselectedState:void 0,degree:0}},12883:function(it,w,t){"use strict";t.d(w,{y:function(){return h}});var u=t(84237),D=t(23098),p=t(5343),M=t(23295),m=t(70372),c=function(v,a,r,s){function o(d){return d instanceof r?d:new r(function(f){f(d)})}return new(r||(r=Promise))(function(d,f){function y(i){try{e(s.next(i))}catch(n){f(n)}}function E(i){try{e(s.throw(i))}catch(n){f(n)}}function e(i){i.done?d(i.value):o(i.value).then(y,E)}e((s=s.apply(v,a||[])).next())})};class h extends m.Z{constructor(a,r){super(a,Object.assign({},h.defaultOptions,r)),this.onCollapseExpand=s=>c(this,void 0,void 0,function*(){if(!this.validate(s))return;const{target:o}=s;if(!(0,M.kK)(o))return;const d=o.id,{model:f,graph:y}=this.context,E=f.getElementDataById(d);if(!E)return!1;const{onCollapse:e,onExpand:i,animation:n,align:l}=this.options;(0,p.z)(E)?(yield y.expandElement(d,{animation:n,align:l}),i==null||i(d)):(yield y.collapseElement(d,{animation:n,align:l}),e==null||e(d))}),this.bindEvents()}update(a){this.unbindEvents(),super.update(a),this.bindEvents()}bindEvents(){const{graph:a}=this.context,{trigger:r}=this.options;a.on(`node:${r}`,this.onCollapseExpand),a.on(`combo:${r}`,this.onCollapseExpand)}unbindEvents(){const{graph:a}=this.context,{trigger:r}=this.options;a.off(`node:${r}`,this.onCollapseExpand),a.off(`combo:${r}`,this.onCollapseExpand)}validate(a){if(this.destroyed)return!1;const{enable:r}=this.options;return(0,u.Z)(r)?r(a):!!r}destroy(){this.unbindEvents(),super.destroy()}}h.defaultOptions={enable:!0,animation:!0,trigger:D.C9.DBLCLICK,align:!0}},54531:function(it,w,t){"use strict";t.d(w,{P:function(){return v}});var u=t(6466),D=t(84237),p=t(23098),M=t(70372),m=function(a,r,s,o){function d(f){return f instanceof s?f:new s(function(y){y(f)})}return new(s||(s=Promise))(function(f,y){function E(n){try{i(o.next(n))}catch(l){y(l)}}function e(n){try{i(o.throw(n))}catch(l){y(l)}}function i(n){n.done?f(n.value):d(n.value).then(E,e)}i((o=o.apply(a,r||[])).next())})};const c="g6-create-edge-assist-edge-id",h="g6-create-edge-assist-node-id";class v extends M.Z{constructor(r,s){super(r,Object.assign({},v.defaultOptions,s)),this.drop=o=>m(this,void 0,void 0,function*(){const{targetType:d}=o;["combo","node"].includes(d)&&this.source?yield this.handleCreateEdge(o):yield this.cancelEdge()}),this.handleCreateEdge=o=>m(this,void 0,void 0,function*(){var d,f,y;if(!this.validate(o))return;const{graph:E,canvas:e,batch:i,element:n}=this.context,{style:l}=this.options;if(this.source){this.createEdge(o),yield this.cancelEdge();return}i.startBatch(),e.setCursor("crosshair"),this.source=this.getSelectedNodeIDs([o.target.id])[0];const O=E.getElementData(this.source);E.addNodeData([{id:h,style:{visibility:"hidden",ports:[{key:"port-1",placement:[.5,.5]}],x:(d=O.style)===null||d===void 0?void 0:d.x,y:(f=O.style)===null||f===void 0?void 0:f.y}}]),E.addEdgeData([{id:c,source:this.source,target:h,style:Object.assign({pointerEvents:"none"},l)}]),yield(y=n.draw({animation:!1}))===null||y===void 0?void 0:y.finished}),this.updateAssistEdge=o=>m(this,void 0,void 0,function*(){var d;if(!this.source)return;const{model:f,element:y}=this.context;f.translateNodeTo(h,[o.canvas.x,o.canvas.y]),yield(d=y.draw({animation:!1,silence:!0}))===null||d===void 0?void 0:d.finished}),this.createEdge=o=>{var d,f;const{graph:y}=this.context,{style:E,onFinish:e,onCreate:i}=this.options;if(((d=o.target)===null||d===void 0?void 0:d.id)===void 0||this.source===void 0)return;const l=(f=this.getSelectedNodeIDs([o.target.id]))===null||f===void 0?void 0:f[0],O=`${this.source}-${l}-${(0,u.Z)()}`,C=i({id:O,source:this.source,target:l,style:E});C&&(y.addEdgeData([C]),e(C))},this.cancelEdge=()=>m(this,void 0,void 0,function*(){var o;if(!this.source)return;const{graph:d,element:f,batch:y}=this.context;d.removeNodeData([h]),this.source=void 0,yield(o=f.draw({animation:!1}))===null||o===void 0?void 0:o.finished,y.endBatch()}),this.bindEvents()}update(r){super.update(r),this.bindEvents()}bindEvents(){const{graph:r}=this.context,{trigger:s}=this.options;this.unbindEvents(),s==="click"?(r.on(p.bG.CLICK,this.handleCreateEdge),r.on(p.jU.CLICK,this.handleCreateEdge),r.on(p.$6.CLICK,this.cancelEdge),r.on(p.qX.CLICK,this.cancelEdge)):(r.on(p.bG.DRAG_START,this.handleCreateEdge),r.on(p.jU.DRAG_START,this.handleCreateEdge),r.on(p.C9.POINTER_UP,this.drop)),r.on(p.C9.POINTER_MOVE,this.updateAssistEdge)}getSelectedNodeIDs(r){return Array.from(new Set(this.context.graph.getElementDataByState("node",this.options.state).map(s=>s.id).concat(r)))}validate(r){if(this.destroyed)return!1;const{enable:s}=this.options;return(0,D.Z)(s)?s(r):!!s}unbindEvents(){const{graph:r}=this.context;r.off(p.bG.CLICK,this.handleCreateEdge),r.off(p.jU.CLICK,this.handleCreateEdge),r.off(p.$6.CLICK,this.cancelEdge),r.off(p.qX.CLICK,this.cancelEdge),r.off(p.bG.DRAG_START,this.handleCreateEdge),r.off(p.jU.DRAG_START,this.handleCreateEdge),r.off(p.C9.POINTER_UP,this.drop),r.off(p.C9.POINTER_MOVE,this.updateAssistEdge)}destroy(){this.unbindEvents(),super.destroy()}}v.defaultOptions={animation:!0,enable:!0,style:{},trigger:"drag",onCreate:a=>a,onFinish:()=>{}}},26889:function(it,w,t){"use strict";t.d(w,{U:function(){return s}});var u=t(83633),D=t(70373),p=t(23098),M=t(52877),m=t(17439),c=t(93187),h=t(80860),v=t(26192),a=t(70372),r=function(o,d,f,y){function E(e){return e instanceof f?e:new f(function(i){i(e)})}return new(f||(f=Promise))(function(e,i){function n(C){try{O(y.next(C))}catch(T){i(T)}}function l(C){try{O(y.throw(C))}catch(T){i(T)}}function O(C){C.done?e(C.value):E(C.value).then(n,l)}O((y=y.apply(o,d||[])).next())})};class s extends a.Z{constructor(d,f){super(d,Object.assign({},s.defaultOptions,f)),this.isDragging=!1,this.onDragStart=y=>{this.validate(y)&&(this.isDragging=!0,this.context.canvas.setCursor("grabbing"))},this.onDrag=y=>{var E,e,i,n;if(!this.isDragging||c.P.isPinching)return;const l=(e=(E=y.movement)===null||E===void 0?void 0:E.x)!==null&&e!==void 0?e:y.dx,O=(n=(i=y.movement)===null||i===void 0?void 0:i.y)!==null&&n!==void 0?n:y.dy;l|O&&this.translate([l,O],!1)},this.onDragEnd=()=>{var y,E;this.isDragging=!1,this.context.canvas.setCursor(this.defaultCursor),(E=(y=this.options).onFinish)===null||E===void 0||E.call(y)},this.invokeOnFinish=(0,u.Z)(()=>{var y,E;(E=(y=this.options).onFinish)===null||E===void 0||E.call(y)},300),this.shortcut=new h.z(d.graph),this.bindEvents(),this.defaultCursor=this.context.canvas.getConfig().cursor||"default"}update(d){this.unbindEvents(),super.update(d),this.bindEvents()}bindEvents(){const{trigger:d}=this.options;if((0,D.Z)(d)){const{up:f=[],down:y=[],left:E=[],right:e=[]}=d;this.shortcut.bind(f,i=>this.onTranslate([0,1],i)),this.shortcut.bind(y,i=>this.onTranslate([0,-1],i)),this.shortcut.bind(E,i=>this.onTranslate([1,0],i)),this.shortcut.bind(e,i=>this.onTranslate([-1,0],i))}else{const{graph:f}=this.context;f.on(p.C9.DRAG_START,this.onDragStart),f.on(p.C9.DRAG,this.onDrag),f.on(p.C9.DRAG_END,this.onDragEnd)}}onTranslate(d,f){return r(this,void 0,void 0,function*(){if(!this.validate(f))return;const{sensitivity:y}=this.options,E=y*-1;yield this.translate((0,v.Jp)(d,E),this.options.animation),this.invokeOnFinish()})}translate(d,f){return r(this,void 0,void 0,function*(){d=this.clampByDirection(d),d=this.clampByRange(d),d=this.clampByRotation(d),yield this.context.graph.translateBy(d,f)})}clampByRotation([d,f]){const y=this.context.graph.getRotation();return(0,v.U1)([d,f],y)}clampByDirection([d,f]){const{direction:y}=this.options;return y==="x"?f=0:y==="y"&&(d=0),[d,f]}clampByRange([d,f]){const{viewport:y,canvas:E}=this.context,[e,i]=E.getSize(),[n,l,O,C]=(0,m.dj)(this.options.range),T=[i*n,e*l,i*O,e*C],P=(0,M.cL)((0,M.uU)(y.getCanvasCenter()),T),b=(0,v.$X)(y.getViewportCenter(),[d,f,0]);if(!(0,M.W6)(b,P)){const{min:[x,I],max:[S,K]}=P;(b[0]<x&&d>0||b[0]>S&&d<0)&&(d=0),(b[1]<I&&f>0||b[1]>K&&f<0)&&(f=0)}return[d,f]}validate(d){if(this.destroyed)return!1;const{enable:f}=this.options;return typeof f=="function"?f(d):!!f}unbindEvents(){this.shortcut.unbindAll();const{graph:d}=this.context;d.off(p.C9.DRAG_START,this.onDragStart),d.off(p.C9.DRAG,this.onDrag),d.off(p.C9.DRAG_END,this.onDragEnd)}destroy(){this.shortcut.destroy(),this.unbindEvents(),this.context.canvas.setCursor(this.defaultCursor),super.destroy()}}s.defaultOptions={enable:o=>"targetType"in o?o.targetType==="canvas":!0,sensitivity:10,direction:"both",range:1/0}},90755:function(it,w,t){"use strict";t.d(w,{F:function(){return h}});var u=t(29193),D=t(70562),p=t(90040),M=t(26192),m=t(21663),c=function(v,a,r,s){function o(d){return d instanceof r?d:new r(function(f){f(d)})}return new(r||(r=Promise))(function(d,f){function y(i){try{e(s.next(i))}catch(n){f(n)}}function E(i){try{e(s.throw(i))}catch(n){f(n)}}function e(i){i.done?d(i.value):o(i.value).then(y,E)}e((s=s.apply(v,a||[])).next())})};class h extends m.Q{get forceLayoutInstance(){return this.context.layout.getLayoutInstance().find(a=>["d3-force","d3-force-3d"].includes(a==null?void 0:a.id))}validate(a){return this.context.layout?this.forceLayoutInstance?super.validate(a):(p.S.warn("DragElementForce only works with d3-force or d3-force-3d layout"),!1):!1}moveElement(a,r){return c(this,void 0,void 0,function*(){const s=this.forceLayoutInstance;this.context.graph.getNodeData(a).forEach((o,d)=>{const{x:f=0,y=0}=o.style||{};s&&(0,D.KQ)(s,"setFixedPosition",a[d],[...(0,M.IH)([+f,+y],this.clampByRotation(r))])})})}onDragStart(a){if(this.enable=this.validate(a),!this.enable)return;this.target=this.getSelectedNodeIDs([a.target.id]),this.hideEdge(),this.context.graph.frontElement(this.target);const r=this.forceLayoutInstance;r&&(0,D.yt)(r,"simulation").alphaTarget(.3).restart(),this.context.graph.getNodeData(this.target).forEach(s=>{const{x:o=0,y:d=0}=s.style||{};r&&(0,D.KQ)(r,"setFixedPosition",(0,u.jD)(s),[+o,+d])})}onDrag(a){if(!this.enable)return;const r=this.getDelta(a);this.moveElement(this.target,r)}onDragEnd(){const a=this.forceLayoutInstance;a&&(0,D.yt)(a,"simulation").alphaTarget(0),!this.options.fixed&&this.context.graph.getNodeData(this.target).forEach(r=>{a&&(0,D.KQ)(a,"setFixedPosition",(0,u.jD)(r),[null,null,null])})}}},21663:function(it,w,t){"use strict";t.d(w,{Q:function(){return s}});var u=t(81614),D=t(84237),p=t(23098),M=t(52877),m=t(23295),c=t(29193),h=t(28660),v=t(26192),a=t(70372),r=function(o,d,f,y){function E(e){return e instanceof f?e:new f(function(i){i(e)})}return new(f||(f=Promise))(function(e,i){function n(C){try{O(y.next(C))}catch(T){i(T)}}function l(C){try{O(y.throw(C))}catch(T){i(T)}}function O(C){C.done?e(C.value):E(C.value).then(n,l)}O((y=y.apply(o,d||[])).next())})};class s extends a.Z{constructor(d,f){super(d,Object.assign({},s.defaultOptions,f)),this.enable=!1,this.enableElements=["node","combo"],this.target=[],this.shadowOrigin=[0,0],this.hiddenEdges=[],this.isDragging=!1,this.onDrop=y=>r(this,void 0,void 0,function*(){var E;if(this.options.dropEffect!=="link")return;const{model:e,element:i}=this.context,n=y.target.id;this.target.forEach(l=>{const O=e.getParentData(l,p.dK);O&&(0,c.jD)(O)===n&&e.refreshComboData(n),e.setParent(l,n,p.dK)}),yield(E=i==null?void 0:i.draw({animation:!0}))===null||E===void 0?void 0:E.finished}),this.setCursor=y=>{if(this.isDragging)return;const{type:E}=y,{canvas:e}=this.context,{cursor:i}=this.options;E===p.C9.POINTER_ENTER?e.setCursor((i==null?void 0:i.grab)||"grab"):e.setCursor((i==null?void 0:i.default)||"default")},this.onDragStart=this.onDragStart.bind(this),this.onDrag=this.onDrag.bind(this),this.onDragEnd=this.onDragEnd.bind(this),this.onDrop=this.onDrop.bind(this),this.bindEvents()}update(d){this.unbindEvents(),super.update(d),this.bindEvents()}bindEvents(){const{graph:d,canvas:f}=this.context,y=f.getLayer().getContextService().$canvas;y&&(y.addEventListener("blur",this.onDragEnd),y.addEventListener("contextmenu",this.onDragEnd)),this.enableElements.forEach(E=>{d.on(`${E}:${p.C9.DRAG_START}`,this.onDragStart),d.on(`${E}:${p.C9.DRAG}`,this.onDrag),d.on(`${E}:${p.C9.DRAG_END}`,this.onDragEnd),d.on(`${E}:${p.C9.POINTER_ENTER}`,this.setCursor),d.on(`${E}:${p.C9.POINTER_LEAVE}`,this.setCursor)}),["link"].includes(this.options.dropEffect)&&(d.on(p.jU.DROP,this.onDrop),d.on(p.$6.DROP,this.onDrop))}getSelectedNodeIDs(d){return Array.from(new Set(this.context.graph.getElementDataByState("node",this.options.state).map(f=>f.id).concat(d)))}getDelta(d){const f=this.context.graph.getZoom();return(0,v.cs)([d.dx,d.dy],f)}onDragStart(d){var f;if(this.enable=this.validate(d),!this.enable)return;const{batch:y,canvas:E,graph:e}=this.context;E.setCursor(((f=this.options.cursor)===null||f===void 0?void 0:f.grabbing)||"grabbing"),this.isDragging=!0,y.startBatch();const i=d.target.id;e.getElementState(i).includes(this.options.state)?this.target=this.getSelectedNodeIDs([i]):this.target=[i],this.hideEdge(),this.context.graph.frontElement(this.target),this.options.shadow&&this.createShadow(this.target)}onDrag(d){if(!this.enable)return;const f=this.getDelta(d);this.options.shadow?this.moveShadow(f):this.moveElement(this.target,f)}onDragEnd(){var d,f,y;if(!this.enable)return;if(this.enable=!1,this.options.shadow){if(!this.shadow)return;this.shadow.style.visibility="hidden";const{x:i=0,y:n=0}=this.shadow.attributes,[l,O]=(0,v.$X)([+i,+n],this.shadowOrigin);this.moveElement(this.target,[l,O])}this.showEdges(),(f=(d=this.options).onFinish)===null||f===void 0||f.call(d,this.target);const{batch:E,canvas:e}=this.context;E.endBatch(),e.setCursor(((y=this.options.cursor)===null||y===void 0?void 0:y.grab)||"grab"),this.isDragging=!1,this.target=[]}validate(d){if(this.destroyed||(0,m.xE)(d.target)||this.context.graph.isCollapsingExpanding)return!1;const{enable:f}=this.options;return(0,D.Z)(f)?f(d):!!f}clampByRotation([d,f]){const y=this.context.graph.getRotation();return(0,v.U1)([d,f],y)}moveElement(d,f){return r(this,void 0,void 0,function*(){const{graph:y,model:E}=this.context,{dropEffect:e}=this.options;e==="move"&&d.forEach(i=>E.refreshComboData(i)),y.translateElementBy(Object.fromEntries(d.map(i=>[i,this.clampByRotation(f)])),!1)})}moveShadow(d){if(!this.shadow)return;const{x:f=0,y=0}=this.shadow.attributes,[E,e]=d;this.shadow.attr({x:+f+E,y:+y+e})}createShadow(d){const f=(0,h.zs)(this.options,"shadow"),y=(0,M.SV)(d.map(O=>this.context.element.getElement(O).getBounds())),[E,e]=y.min;this.shadowOrigin=[E,e];const[i,n]=(0,M.qt)(y),l={width:i,height:n,x:E,y:e};this.shadow?this.shadow.attr(Object.assign(Object.assign(Object.assign({},f),l),{visibility:"visible"})):(this.shadow=new u.UL({style:Object.assign(Object.assign(Object.assign({$layer:"transient"},f),l),{pointerEvents:"none"})}),this.context.canvas.appendChild(this.shadow))}showEdges(){this.options.shadow||this.hiddenEdges.length===0||(this.context.graph.showElement(this.hiddenEdges),this.hiddenEdges=[])}hideEdge(){const{hideEdge:d,shadow:f}=this.options;if(d==="none"||f)return;const{graph:y}=this.context;d==="all"?this.hiddenEdges=y.getEdgeData().map(c.jD):this.hiddenEdges=Array.from(new Set(this.target.map(E=>y.getRelatedEdgesData(E,d).map(c.jD)).flat())),y.hideElement(this.hiddenEdges)}unbindEvents(){const{graph:d,canvas:f}=this.context,y=f.getLayer().getContextService().$canvas;y&&(y.removeEventListener("blur",this.onDragEnd),y.removeEventListener("contextmenu",this.onDragEnd)),this.enableElements.forEach(E=>{d.off(`${E}:${p.C9.DRAG_START}`,this.onDragStart),d.off(`${E}:${p.C9.DRAG}`,this.onDrag),d.off(`${E}:${p.C9.DRAG_END}`,this.onDragEnd),d.off(`${E}:${p.C9.POINTER_ENTER}`,this.setCursor),d.off(`${E}:${p.C9.POINTER_LEAVE}`,this.setCursor)}),d.off(`combo:${p.C9.DROP}`,this.onDrop),d.off(`canvas:${p.C9.DROP}`,this.onDrop)}destroy(){var d;this.unbindEvents(),(d=this.shadow)===null||d===void 0||d.destroy(),super.destroy()}}s.defaultOptions={animation:!0,enable:o=>["node","combo"].includes(o.targetType),dropEffect:"move",state:"selected",hideEdge:"none",shadow:!1,shadowZIndex:100,shadowFill:"#F3F9FF",shadowFillOpacity:.5,shadowStroke:"#1890FF",shadowStrokeOpacity:.9,shadowLineDash:[5,5],cursor:{default:"default",grab:"grab",grabbing:"grabbing"}}},28872:function(it,w,t){"use strict";t.d(w,{x:function(){return a}});var u=t(26912),D=t(61989),p=t(84237),M=t(23098),m=t(29193),c=t(39310),h=t(70372),v=function(r,s,o,d){function f(y){return y instanceof o?y:new o(function(E){E(y)})}return new(o||(o=Promise))(function(y,E){function e(l){try{n(d.next(l))}catch(O){E(O)}}function i(l){try{n(d.throw(l))}catch(O){E(O)}}function n(l){l.done?y(l.value):f(l.value).then(e,i)}n((d=d.apply(r,s||[])).next())})};class a extends h.Z{constructor(s,o){super(s,Object.assign({},a.defaultOptions,o)),this.isZoomEvent=d=>!!(d.data&&"scale"in d.data),this.relatedEdgeToUpdate=new Set,this.zoom=this.context.graph.getZoom(),this.fixElementSize=d=>v(this,void 0,void 0,function*(){if(!this.validate(d))return;const{graph:f}=this.context,{state:y,nodeFilter:E,edgeFilter:e,comboFilter:i}=this.options,n=(y?f.getElementDataByState("node",y):f.getNodeData()).filter(E),l=(y?f.getElementDataByState("edge",y):f.getEdgeData()).filter(e),O=(y?f.getElementDataByState("combo",y):f.getComboData()).filter(i),C=this.isZoomEvent(d)?this.zoom=Math.max(.01,Math.min(d.data.scale,10)):this.zoom,T=[...n,...O];T.length>0&&T.forEach(P=>this.fixNodeLike(P,C)),this.updateRelatedEdges(),l.length>0&&l.forEach(P=>this.fixEdge(P,C))}),this.cachedStyles=new Map,this.getOriginalFieldValue=(d,f,y)=>{var E;const e=this.cachedStyles.get(d)||[],i=((E=e.find(n=>n.shape===f))===null||E===void 0?void 0:E.style)||{};return y in i||(i[y]=f.attributes[y],this.cachedStyles.set(d,[...e.filter(n=>n.shape!==f),{shape:f,style:i}])),i[y]},this.scaleEntireElement=(d,f,y)=>{f.setLocalScale(1/y);const E=this.cachedStyles.get(d)||[];E.push({shape:f}),this.cachedStyles.set(d,E)},this.scaleSpecificShapes=(d,f,y)=>{const E=(0,c.W)(d);(Array.isArray(y)?y:[y]).forEach(i=>{const{shape:n,fields:l}=i,O=typeof n=="function"?n(E):d.getShape(n);if(O){if(!l){this.scaleEntireElement(d.id,O,f);return}l.forEach(C=>{const T=this.getOriginalFieldValue(d.id,O,C);(0,u.Z)(T)&&(O.style[C]=T/f)})}})},this.skipIfExceedViewport=d=>{const{viewport:f}=this.context;return!(f!=null&&f.isInViewport(d.getRenderBounds(),!1,30))},this.fixNodeLike=(d,f)=>{const y=(0,m.jD)(d),{element:E,model:e}=this.context,i=E.getElement(y);if(!i||this.skipIfExceedViewport(i))return;e.getRelatedEdgesData(y).forEach(O=>this.relatedEdgeToUpdate.add((0,m.jD)(O)));const l=this.options[i.type];if(!l){this.scaleEntireElement(y,i,f);return}this.scaleSpecificShapes(i,f,l)},this.fixEdge=(d,f)=>{const y=(0,m.jD)(d),E=this.context.element.getElement(y);if(!E||this.skipIfExceedViewport(E))return;const e=this.options.edge;if(!e){E.style.transformOrigin="center",this.scaleEntireElement(y,E,f);return}this.scaleSpecificShapes(E,f,e)},this.updateRelatedEdges=()=>{const{element:d}=this.context;this.relatedEdgeToUpdate.size>0&&this.relatedEdgeToUpdate.forEach(f=>{const y=d.getElement(f);y==null||y.update({})}),this.relatedEdgeToUpdate.clear()},this.resetTransform=d=>v(this,void 0,void 0,function*(){var f;!((f=d.data)===null||f===void 0)&&f.firstRender||(this.options.reset?this.restoreCachedStyles():this.fixElementSize({data:{scale:this.zoom}}))}),this.bindEvents()}restoreCachedStyles(){if(this.cachedStyles.size>0){this.cachedStyles.forEach(f=>{f.forEach(({shape:y,style:E})=>{if((0,D.Z)(E))y.setLocalScale(1);else{if(this.options.state)return;Object.entries(E).forEach(([e,i])=>y.style[e]=i)}})});const{graph:s,element:o}=this.context,d=Object.keys(Object.fromEntries(this.cachedStyles)).filter(f=>f&&s.getElementType(f)==="node");if(d.length>0){const f=new Set;d.forEach(y=>{s.getRelatedEdgesData(y).forEach(E=>f.add((0,m.jD)(E)))}),f.forEach(y=>{const E=o==null?void 0:o.getElement(y);E==null||E.update({})})}}}bindEvents(){const{graph:s}=this.context;s.on(M.VR.AFTER_DRAW,this.resetTransform),s.on(M.VR.AFTER_TRANSFORM,this.fixElementSize)}unbindEvents(){const{graph:s}=this.context;s.off(M.VR.AFTER_DRAW,this.resetTransform),s.off(M.VR.AFTER_TRANSFORM,this.fixElementSize)}validate(s){if(this.destroyed)return!1;const{enable:o}=this.options;return(0,p.Z)(o)?o(s):!!o}destroy(){this.unbindEvents(),super.destroy()}}a.defaultOptions={enable:r=>r.data.scale<1,nodeFilter:()=>!0,edgeFilter:()=>!0,comboFilter:()=>!0,edge:[{shape:"key",fields:["lineWidth"]},{shape:"halo",fields:["lineWidth"]},{shape:"label"}],reset:!1}},74711:function(it,w,t){"use strict";t.d(w,{g:function(){return c}});var u=t(84237),D=t(23098),p=t(66185),M=t(70372),m=function(h,v,a,r){function s(o){return o instanceof a?o:new a(function(d){d(o)})}return new(a||(a=Promise))(function(o,d){function f(e){try{E(r.next(e))}catch(i){d(i)}}function y(e){try{E(r.throw(e))}catch(i){d(i)}}function E(e){e.done?o(e.value):s(e.value).then(f,y)}E((r=r.apply(h,v||[])).next())})};class c extends M.Z{constructor(v,a){super(v,Object.assign({},c.defaultOptions,a)),this.focus=r=>m(this,void 0,void 0,function*(){if(!this.validate(r))return;const{graph:s}=this.context;yield s.focusElement(r.target.id,this.options.animation)}),this.bindEvents()}bindEvents(){const{graph:v}=this.context;this.unbindEvents(),p.Y.forEach(a=>{v.on(`${a}:${D.C9.CLICK}`,this.focus)})}validate(v){if(this.destroyed)return!1;const{enable:a}=this.options;return(0,u.Z)(a)?a(v):!!a}unbindEvents(){const{graph:v}=this.context;p.Y.forEach(a=>{v.off(`${a}:${D.C9.CLICK}`,this.focus)})}destroy(){this.unbindEvents(),super.destroy()}}c.defaultOptions={animation:{easing:"ease-in",duration:500},enable:!0}},67379:function(it,w,t){"use strict";t.d(w,{W:function(){return v}});var u=t(84237),D=t(23098),p=t(66185),M=t(23295),m=t(29193),c=t(78822),h=t(70372);class v extends h.Z{constructor(r,s){super(r,Object.assign({},v.defaultOptions,s)),this.isFrozen=!1,this.toggleFrozen=o=>{this.isFrozen=o.type==="dragstart"},this.hoverElement=o=>{if(!this.validate(o))return;const d=o.type===D.C9.POINTER_ENTER;this.updateElementsState(o,d);const{onHover:f,onHoverEnd:y}=this.options;d?f==null||f(o):y==null||y(o)},this.updateElementsState=(o,d)=>{if(!this.options.state&&!this.options.inactiveState)return;const{graph:f}=this.context,{state:y,animation:E,inactiveState:e}=this.options,i=this.getActiveIds(o),n={};if(y&&Object.assign(n,this.getElementsState(i,y,d)),e){const l=(0,m.oI)(f.getData(),!0).filter(O=>!i.includes(O));Object.assign(n,this.getElementsState(l,e,d))}f.setElementState(n,E)},this.getElementsState=(o,d,f)=>{const{graph:y}=this.context,E={};return o.forEach(e=>{const i=y.getElementState(e);f?E[e]=i.includes(d)?i:[...i,d]:E[e]=i.filter(n=>n!==d)}),E},this.bindEvents()}bindEvents(){const{graph:r}=this.context;this.unbindEvents(),p.Y.forEach(o=>{r.on(`${o}:${D.C9.POINTER_ENTER}`,this.hoverElement),r.on(`${o}:${D.C9.POINTER_LEAVE}`,this.hoverElement)});const s=this.context.canvas.document;s.addEventListener(`${D.C9.DRAG_START}`,this.toggleFrozen),s.addEventListener(`${D.C9.DRAG_END}`,this.toggleFrozen)}getActiveIds(r){const{graph:s}=this.context,{degree:o,direction:d}=this.options,f=r.target.id;return o?(0,c.g)(s,r.targetType,f,typeof o=="function"?o(r):o,d):[f]}validate(r){if(this.destroyed||this.isFrozen||(0,M.xE)(r.target)||this.context.graph.isCollapsingExpanding)return!1;const{enable:s}=this.options;return(0,u.Z)(s)?s(r):!!s}unbindEvents(){const{graph:r}=this.context;p.Y.forEach(o=>{r.off(`${o}:${D.C9.POINTER_ENTER}`,this.hoverElement),r.off(`${o}:${D.C9.POINTER_LEAVE}`,this.hoverElement)});const s=this.context.canvas.document;s.removeEventListener(`${D.C9.DRAG_START}`,this.toggleFrozen),s.removeEventListener(`${D.C9.DRAG_END}`,this.toggleFrozen)}destroy(){this.unbindEvents(),super.destroy()}}v.defaultOptions={animation:!1,enable:!0,degree:0,direction:"both",state:"active",inactiveState:void 0}},26990:function(it,w,t){"use strict";t.d(w,{BB:function(){return M.B},CE:function(){return E.C},DJ:function(){return y.D},Fg:function(){return a.F},Iz:function(){return d.I},PZ:function(){return c.P},QG:function(){return v.Q},U$:function(){return f.U},Uo:function(){return h.U},Wp:function(){return o.W},_e:function(){return p._},gs:function(){return s.g},nC:function(){return u.n},xD:function(){return r.x},yZ:function(){return m.y}});var u=t(81754),D=t(70372),p=t(54608),M=t(53293),m=t(12883),c=t(54531),h=t(26889),v=t(21663),a=t(90755),r=t(28872),s=t(74711),o=t(67379),d=t(13561),f=t(88124),y=t(65317),E=t(8120)},13561:function(it,w,t){"use strict";t.d(w,{I:function(){return M}});var u=t(81614),D=t(38865),p=t(54608);class M extends p._{onPointerDown(c){if(!super.validate(c)||!super.isKeydown()||this.points)return;const{canvas:h,graph:v}=this.context;this.pathShape=new u.y$({id:"g6-lasso-select",style:this.options.style}),h.appendChild(this.pathShape),this.points=[(0,p.C)(c,v)]}onPointerMove(c){var h;if(!this.points)return;const{immediately:v,mode:a}=this.options;this.points.push((0,p.C)(c,this.context.graph)),(h=this.pathShape)===null||h===void 0||h.setAttribute("d",(0,D.WG)(this.points)),v&&a==="default"&&this.points.length>2&&super.updateElementsStates(this.points)}onPointerUp(){if(this.points){if(this.points.length<2){this.clearLasso();return}super.updateElementsStates(this.points),this.clearLasso()}}clearLasso(){var c;(c=this.pathShape)===null||c===void 0||c.remove(),this.pathShape=void 0,this.points=void 0}}},88124:function(it,w,t){"use strict";t.d(w,{U:function(){return c}});var u=t(84237),D=t(83633),p=t(23098),M=t(88102),m=t(70372);class c extends m.Z{constructor(v,a){super(v,Object.assign({},c.defaultOptions,a)),this.hiddenShapes=[],this.isVisible=!0,this.setElementsVisibility=(r,s,o)=>{r.filter(Boolean).forEach(d=>{s==="hidden"&&!d.isVisible()?this.hiddenShapes.push(d):s==="visible"&&this.hiddenShapes.includes(d)?this.hiddenShapes.splice(this.hiddenShapes.indexOf(d),1):(0,M.i)(d,s,o)})},this.filterShapes=(r,s)=>{if((0,u.Z)(s))return d=>!s(r,d);const o=s==null?void 0:s[r];return d=>d.className?!(o!=null&&o.includes(d.className)):!0},this.hideShapes=r=>{if(!this.validate(r)||!this.isVisible)return;const{element:s}=this.context,{shapes:o={}}=this.options;this.setElementsVisibility(s.getNodes(),"hidden",this.filterShapes("node",o)),this.setElementsVisibility(s.getEdges(),"hidden",this.filterShapes("edge",o)),this.setElementsVisibility(s.getCombos(),"hidden",this.filterShapes("combo",o)),this.isVisible=!1},this.showShapes=(0,D.Z)(r=>{if(!this.validate(r)||this.isVisible)return;const{element:s}=this.context;this.setElementsVisibility(s.getNodes(),"visible"),this.setElementsVisibility(s.getEdges(),"visible"),this.setElementsVisibility(s.getCombos(),"visible"),this.isVisible=!0},this.options.debounce),this.bindEvents()}bindEvents(){const{graph:v}=this.context;v.on(p.VR.BEFORE_TRANSFORM,this.hideShapes),v.on(p.VR.AFTER_TRANSFORM,this.showShapes)}unbindEvents(){const{graph:v}=this.context;v.off(p.VR.BEFORE_TRANSFORM,this.hideShapes),v.off(p.VR.AFTER_TRANSFORM,this.showShapes)}validate(v){if(this.destroyed)return!1;const{enable:a}=this.options;return(0,u.Z)(a)?a(v):!!a}update(v){this.unbindEvents(),super.update(v),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy()}}c.defaultOptions={enable:!0,debounce:200,shapes:h=>h==="node"}},65317:function(it,w,t){"use strict";t.d(w,{D:function(){return r}});var u=t(70373),D=t(84237),p=t(23098),M=t(52877),m=t(17439),c=t(80860),h=t(26192),v=t(70372),a=function(s,o,d,f){function y(E){return E instanceof d?E:new d(function(e){e(E)})}return new(d||(d=Promise))(function(E,e){function i(O){try{l(f.next(O))}catch(C){e(C)}}function n(O){try{l(f.throw(O))}catch(C){e(C)}}function l(O){O.done?E(O.value):y(O.value).then(i,n)}l((f=f.apply(s,o||[])).next())})};class r extends v.Z{constructor(o,d){super(o,Object.assign({},r.defaultOptions,d)),this.onWheel=f=>a(this,void 0,void 0,function*(){this.options.preventDefault&&f.preventDefault();const y=f.deltaX,E=f.deltaY;yield this.scroll([-y,-E],f)}),this.shortcut=new c.z(o.graph),this.bindEvents()}update(o){super.update(o),this.bindEvents()}bindEvents(){var o,d;const{trigger:f}=this.options;if(this.shortcut.unbindAll(),(0,u.Z)(f)){(o=this.graphDom)===null||o===void 0||o.removeEventListener(p.C9.WHEEL,this.onWheel);const{up:y=[],down:E=[],left:e=[],right:i=[]}=f;this.shortcut.bind(y,n=>this.scroll([0,-10],n)),this.shortcut.bind(E,n=>this.scroll([0,10],n)),this.shortcut.bind(e,n=>this.scroll([-10,0],n)),this.shortcut.bind(i,n=>this.scroll([10,0],n))}else(d=this.graphDom)===null||d===void 0||d.addEventListener(p.C9.WHEEL,this.onWheel,{passive:!1})}get graphDom(){return this.context.graph.getCanvas().getContextService().getDomElement()}formatDisplacement(o){const{sensitivity:d}=this.options;return o=(0,h.Jp)(o,d),o=this.clampByDirection(o),o=this.clampByRange(o),o}clampByDirection([o,d]){const{direction:f}=this.options;return f==="x"?d=0:f==="y"&&(o=0),[o,d]}clampByRange([o,d]){const{viewport:f,canvas:y}=this.context,[E,e]=y.getSize(),[i,n,l,O]=(0,m.dj)(this.options.range),C=[e*i,E*n,e*l,E*O],T=(0,M.cL)((0,M.uU)(f.getCanvasCenter()),C),P=(0,h.$X)(f.getViewportCenter(),[o,d,0]);if(!(0,M.W6)(P,T)){const{min:[b,x],max:[I,S]}=T;(P[0]<b&&o>0||P[0]>I&&o<0)&&(o=0),(P[1]<x&&d>0||P[1]>S&&d<0)&&(d=0)}return[o,d]}scroll(o,d){return a(this,void 0,void 0,function*(){if(!this.validate(d))return;const{onFinish:f}=this.options,y=this.context.graph,E=this.formatDisplacement(o);yield y.translateBy(E,!1),f==null||f()})}validate(o){if(this.destroyed)return!1;const{enable:d}=this.options;return(0,D.Z)(d)?d(o):!!d}destroy(){var o;this.shortcut.destroy(),(o=this.graphDom)===null||o===void 0||o.removeEventListener(p.C9.WHEEL,this.onWheel),super.destroy()}}r.defaultOptions={enable:!0,sensitivity:1,preventDefault:!0,range:1/0}},8120:function(it,w,t){"use strict";t.d(w,{C:function(){return v}});var u=t(15378),D=t(84237),p=t(23098),M=t(59268),m=t(80860),c=t(70372),h=function(a,r,s,o){function d(f){return f instanceof s?f:new s(function(y){y(f)})}return new(s||(s=Promise))(function(f,y){function E(n){try{i(o.next(n))}catch(l){y(l)}}function e(n){try{i(o.throw(n))}catch(l){y(l)}}function i(n){n.done?f(n.value):d(n.value).then(E,e)}i((o=o.apply(a,r||[])).next())})};class v extends c.Z{constructor(r,s){super(r,Object.assign({},v.defaultOptions,s)),this.zoom=(o,d,f)=>h(this,void 0,void 0,function*(){if(!this.validate(d))return;const{graph:y}=this.context;let E=this.options.origin;!E&&"viewport"in d&&(E=(0,M.rx)(d.viewport));const{sensitivity:e,onFinish:i}=this.options,n=1+(0,u.Z)(o,-50,50)*e/100,l=y.getZoom();yield y.zoomTo(l*n,f,E),i==null||i()}),this.onReset=()=>h(this,void 0,void 0,function*(){yield this.context.graph.zoomTo(1,this.options.animation)}),this.preventDefault=o=>{this.options.preventDefault&&o.preventDefault()},this.shortcut=new m.z(r.graph),this.bindEvents()}update(r){super.update(r),this.bindEvents()}bindEvents(){const{trigger:r}=this.options;if(this.shortcut.unbindAll(),Array.isArray(r))if(r.includes(p.C9.PINCH))this.shortcut.bind([p.C9.PINCH],s=>{this.zoom(s.scale,s,!1)});else{const s=this.context.canvas.getContainer();s==null||s.addEventListener(p.C9.WHEEL,this.preventDefault),this.shortcut.bind([...r,p.C9.WHEEL],o=>{const{deltaX:d,deltaY:f}=o;this.zoom(-(f!=null?f:d),o,!1)})}if(typeof r=="object"){const{zoomIn:s=[],zoomOut:o=[],reset:d=[]}=r;this.shortcut.bind(s,f=>this.zoom(10,f,this.options.animation)),this.shortcut.bind(o,f=>this.zoom(-10,f,this.options.animation)),this.shortcut.bind(d,this.onReset)}}validate(r){if(this.destroyed)return!1;const{enable:s}=this.options;return(0,D.Z)(s)?s(r):!!s}destroy(){var r;this.shortcut.destroy(),(r=this.context.canvas.getContainer())===null||r===void 0||r.removeEventListener(p.C9.WHEEL,this.preventDefault),super.destroy()}}v.defaultOptions={animation:{duration:200},enable:!0,sensitivity:1,trigger:[],preventDefault:!0}},64525:function(it,w,t){"use strict";t.d(w,{A:function(){return D},X:function(){return u}});const u={duration:500},D={duration:1e3,easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",iterations:1,fill:"both"}},63260:function(it,w,t){"use strict";t.d(w,{u:function(){return D}});const u={CHANGE:"change"};var D;(function(p){p.NodeAdded="NodeAdded",p.NodeUpdated="NodeUpdated",p.NodeRemoved="NodeRemoved",p.EdgeAdded="EdgeAdded",p.EdgeUpdated="EdgeUpdated",p.EdgeRemoved="EdgeRemoved",p.ComboAdded="ComboAdded",p.ComboUpdated="ComboUpdated",p.ComboRemoved="ComboRemoved"})(D||(D={}))},66185:function(it,w,t){"use strict";t.d(w,{Y:function(){return D},f:function(){return u}});const u=.8,D=["node","edge","combo"]},20666:function(it,w,t){"use strict";t.d(w,{r:function(){return u}});var u;(function(D){D.DRAW="draw",D.COLLAPSE="collapse",D.EXPAND="expand",D.TRANSFORM="transform"})(u||(u={}))},50048:function(it,w,t){"use strict";t.d(w,{$:function(){return u}});var u;(function(D){D.CLICK="canvas:click",D.DBLCLICK="canvas:dblclick",D.POINTER_OVER="canvas:pointerover",D.POINTER_LEAVE="canvas:pointerleave",D.POINTER_ENTER="canvas:pointerenter",D.POINTER_MOVE="canvas:pointermove",D.POINTER_OUT="canvas:pointerout",D.POINTER_DOWN="canvas:pointerdown",D.POINTER_UP="canvas:pointerup",D.CONTEXT_MENU="canvas:contextmenu",D.DRAG_START="canvas:dragstart",D.DRAG="canvas:drag",D.DRAG_END="canvas:dragend",D.DRAG_ENTER="canvas:dragenter",D.DRAG_OVER="canvas:dragover",D.DRAG_LEAVE="canvas:dragleave",D.DROP="canvas:drop",D.WHEEL="canvas:wheel"})(u||(u={}))},63683:function(it,w,t){"use strict";t.d(w,{j:function(){return u}});var u;(function(D){D.CLICK="combo:click",D.DBLCLICK="combo:dblclick",D.POINTER_OVER="combo:pointerover",D.POINTER_LEAVE="combo:pointerleave",D.POINTER_ENTER="combo:pointerenter",D.POINTER_MOVE="combo:pointermove",D.POINTER_OUT="combo:pointerout",D.POINTER_DOWN="combo:pointerdown",D.POINTER_UP="combo:pointerup",D.CONTEXT_MENU="combo:contextmenu",D.DRAG_START="combo:dragstart",D.DRAG="combo:drag",D.DRAG_END="combo:dragend",D.DRAG_ENTER="combo:dragenter",D.DRAG_OVER="combo:dragover",D.DRAG_LEAVE="combo:dragleave",D.DROP="combo:drop"})(u||(u={}))},79373:function(it,w,t){"use strict";t.d(w,{C:function(){return u}});var u;(function(D){D.CLICK="click",D.DBLCLICK="dblclick",D.POINTER_OVER="pointerover",D.POINTER_LEAVE="pointerleave",D.POINTER_ENTER="pointerenter",D.POINTER_MOVE="pointermove",D.POINTER_OUT="pointerout",D.POINTER_DOWN="pointerdown",D.POINTER_UP="pointerup",D.CONTEXT_MENU="contextmenu",D.DRAG_START="dragstart",D.DRAG="drag",D.DRAG_END="dragend",D.DRAG_ENTER="dragenter",D.DRAG_OVER="dragover",D.DRAG_LEAVE="dragleave",D.DROP="drop",D.KEY_DOWN="keydown",D.KEY_UP="keyup",D.WHEEL="wheel",D.PINCH="pinch"})(u||(u={}))},22457:function(it,w,t){"use strict";t.d(w,{W:function(){return u}});var u;(function(D){D.KEY_DOWN="keydown",D.KEY_UP="keyup"})(u||(u={}))},18589:function(it,w,t){"use strict";t.d(w,{q:function(){return u}});var u;(function(D){D.CLICK="edge:click",D.DBLCLICK="edge:dblclick",D.POINTER_OVER="edge:pointerover",D.POINTER_LEAVE="edge:pointerleave",D.POINTER_ENTER="edge:pointerenter",D.POINTER_MOVE="edge:pointermove",D.POINTER_OUT="edge:pointerout",D.POINTER_DOWN="edge:pointerdown",D.POINTER_UP="edge:pointerup",D.CONTEXT_MENU="edge:contextmenu",D.DRAG_ENTER="edge:dragenter",D.DRAG_OVER="edge:dragover",D.DRAG_LEAVE="edge:dragleave",D.DROP="edge:drop"})(u||(u={}))},15404:function(it,w,t){"use strict";t.d(w,{V:function(){return u}});var u;(function(D){D.BEFORE_CANVAS_INIT="beforecanvasinit",D.AFTER_CANVAS_INIT="aftercanvasinit",D.BEFORE_SIZE_CHANGE="beforesizechange",D.AFTER_SIZE_CHANGE="aftersizechange",D.BEFORE_ELEMENT_CREATE="beforeelementcreate",D.AFTER_ELEMENT_CREATE="afterelementcreate",D.BEFORE_ELEMENT_UPDATE="beforeelementupdate",D.AFTER_ELEMENT_UPDATE="afterelementupdate",D.BEFORE_ELEMENT_DESTROY="beforeelementdestroy",D.AFTER_ELEMENT_DESTROY="afterelementdestroy",D.BEFORE_ELEMENT_TRANSLATE="beforeelementtranslate",D.AFTER_ELEMENT_TRANSLATE="afterelementtranslate",D.BEFORE_DRAW="beforedraw",D.AFTER_DRAW="afterdraw",D.BEFORE_RENDER="beforerender",D.AFTER_RENDER="afterrender",D.BEFORE_ANIMATE="beforeanimate",D.AFTER_ANIMATE="afteranimate",D.BEFORE_LAYOUT="beforelayout",D.AFTER_LAYOUT="afterlayout",D.BEFORE_STAGE_LAYOUT="beforestagelayout",D.AFTER_STAGE_LAYOUT="afterstagelayout",D.BEFORE_TRANSFORM="beforetransform",D.AFTER_TRANSFORM="aftertransform",D.BATCH_START="batchstart",D.BATCH_END="batchend",D.BEFORE_DESTROY="beforedestroy",D.AFTER_DESTROY="afterdestroy",D.BEFORE_RENDERER_CHANGE="beforerendererchange",D.AFTER_RENDERER_CHANGE="afterrendererchange"})(u||(u={}))},23972:function(it,w,t){"use strict";t.d(w,{b:function(){return u}});var u;(function(D){D.UNDO="undo",D.REDO="redo",D.CANCEL="cancel",D.ADD="add",D.CLEAR="clear",D.CHANGE="change"})(u||(u={}))},18097:function(it,w,t){"use strict";t.d(w,{$6:function(){return D.$},C9:function(){return M.C},VR:function(){return h.V},WG:function(){return m.W},bG:function(){return a.b},jU:function(){return p.j},qX:function(){return c.q},ru:function(){return u.r}});var u=t(20666),D=t(50048),p=t(63683),M=t(79373),m=t(22457),c=t(18589),h=t(15404),v=t(23972),a=t(45238)},45238:function(it,w,t){"use strict";t.d(w,{b:function(){return u}});var u;(function(D){D.CLICK="node:click",D.DBLCLICK="node:dblclick",D.POINTER_OVER="node:pointerover",D.POINTER_LEAVE="node:pointerleave",D.POINTER_ENTER="node:pointerenter",D.POINTER_MOVE="node:pointermove",D.POINTER_OUT="node:pointerout",D.POINTER_DOWN="node:pointerdown",D.POINTER_UP="node:pointerup",D.CONTEXT_MENU="node:contextmenu",D.DRAG_START="node:dragstart",D.DRAG="node:drag",D.DRAG_END="node:dragend",D.DRAG_ENTER="node:dragenter",D.DRAG_OVER="node:dragover",D.DRAG_LEAVE="node:dragleave",D.DROP="node:drop"})(u||(u={}))},12880:function(it,w,t){"use strict";t.d(w,{d:function(){return u},p:function(){return D}});const u="combo",D="tree"},23098:function(it,w,t){"use strict";t.d(w,{$6:function(){return p.$6},Am:function(){return u.A},C9:function(){return p.C9},MD:function(){return m.M},VR:function(){return p.VR},WG:function(){return p.WG},Xy:function(){return u.X},bG:function(){return p.bG},dK:function(){return M.d},jU:function(){return p.jU},pf:function(){return M.p},qX:function(){return p.qX},ru:function(){return p.ru},u4:function(){return D.u}});var u=t(64525),D=t(63260),p=t(18097),M=t(12880),m=t(45791)},45791:function(it,w,t){"use strict";t.d(w,{M:function(){return u}});var u;(function(D){D.NODE="node",D.EDGE="edge",D.COMBO="combo",D.THEME="theme",D.PALETTE="palette",D.LAYOUT="layout",D.BEHAVIOR="behavior",D.PLUGIN="plugin",D.ANIMATION="animation",D.TRANSFORM="transform",D.SHAPE="shape"})(u||(u={}))},95616:function(it,w,t){"use strict";t.d(w,{H:function(){return D}});var u=t(23618);class D extends u.PS{get context(){return this.config.context}get parsedAttributes(){return this.attributes}onframe(){}animate(M,m){const c=super.animate(M,m);return c&&(c.onframe=()=>this.onframe(),c.finished.then(()=>this.onframe())),c}}},38885:function(it,w,t){"use strict";t.d(w,{V:function(){return y}});var u=t(81614),D=t(84237),p=t(52877),M=t(29193),m=t(17439),c=t(49559),h=t(28660),v=t(33626),a=t(95272),r=t(26192),s=t(39385),o=t(23618),d=t(48969),f=function(E,e){var i={};for(var n in E)Object.prototype.hasOwnProperty.call(E,n)&&e.indexOf(n)<0&&(i[n]=E[n]);if(E!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(E);l<n.length;l++)e.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(E,n[l])&&(i[n[l]]=E[n[l]]);return i};class y extends s.Hd{constructor(e){super((0,a.JH)({style:y.defaultStyleProps},e)),this.type="combo",this.updateComboPosition(this.parsedAttributes)}getKeySize(e){const{collapsed:i,childrenNode:n=[]}=e;return n.length===0?this.getEmptyKeySize(e):i?this.getCollapsedKeySize(e):this.getExpandedKeySize(e)}getEmptyKeySize(e){const{padding:i,collapsedSize:n}=e,[l,O,C,T]=(0,m.dj)(i);return(0,r.IH)((0,v._)(n),[T+O,l+C,0])}getCollapsedKeySize(e){return(0,v._)(e.collapsedSize)}getExpandedKeySize(e){const i=this.getContentBBox(e);return[(0,p.Ru)(i),(0,p.vs)(i),0]}getContentBBox(e){const{childrenNode:i=[],padding:n}=e,l=i.map(C=>this.context.element.getElement(C)).filter(Boolean);if(l.length===0){const C=new u.mN,{x:T=0,y:P=0,size:b}=e,[x,I]=(0,v._)(b);return C.setMinMax([T-x/2,P-I/2,0],[T+x/2,P+I/2,0]),C}const O=(0,p.SV)(l.map(C=>C.getBounds()));return n?(0,p.cL)(O,n):O}drawCollapsedMarkerShape(e,i){const n=this.getCollapsedMarkerStyle(e);this.upsert("collapsed-marker",o.JO,n,i),(0,d.XV)(this)}getCollapsedMarkerStyle(e){if(!e.collapsed||!e.collapsedMarker)return!1;const i=(0,h.zs)(this.getGraphicStyle(e),"collapsedMarker"),{type:n}=i,l=f(i,["type"]),O=this.getShape("key"),[C,T]=(0,c.V4)(O.getLocalBounds(),"center"),P=Object.assign(Object.assign({},l),{x:C,y:T});if(n){const b=this.getCollapsedMarkerText(n,e);Object.assign(P,{text:b})}return P}getCollapsedMarkerText(e,i){const{childrenData:n=[]}=i,{model:l}=this.context;return e==="descendant-count"?l.getDescendantsData(this.id).length.toString():e==="child-count"?n.length.toString():e==="node-count"?l.getDescendantsData(this.id).filter(O=>l.getElementType((0,M.jD)(O))==="node").length.toString():(0,D.Z)(e)?e(n):""}getComboPosition(e){const{x:i=0,y:n=0,collapsed:l,childrenData:O=[]}=e;if(O.length===0)return[+i,+n,0];if(l){const{model:C}=this.context,T=C.getDescendantsData(this.id).filter(P=>!C.isCombo((0,M.jD)(P)));if(T.length>0&&T.some(c.kN)){const P=T.reduce((b,x)=>(0,r.IH)(b,(0,c.TA)(x)),[0,0,0]);return(0,r.cs)(P,T.length)}return[+i,+n,0]}return this.getContentBBox(e).center}getComboStyle(e){const[i,n]=this.getComboPosition(e);return{x:i,y:n,transform:[["translate",i,n]]}}updateComboPosition(e){const i=this.getComboStyle(e);Object.assign(this.style,i);const{x:n,y:l}=i;this.context.model.syncNodeLikeDatum({id:this.id,style:{x:n,y:l}}),(0,d.Ny)(this)}render(e,i=this){super.render(e,i),this.drawCollapsedMarkerShape(e,i)}update(e={}){super.update(e),this.updateComboPosition(this.parsedAttributes)}onframe(){super.onframe(),this.attributes.collapsed||this.updateComboPosition(this.parsedAttributes),this.drawKeyShape(this.parsedAttributes,this)}animate(e,i){const n=super.animate(this.attributes.collapsed?e:e.map(l=>{var{x:O,y:C,z:T,transform:P}=l,b=f(l,["x","y","z","transform"]);return b}),i);return n&&new Proxy(n,{set:(l,O,C)=>(O==="currentTime"&&Promise.resolve().then(()=>this.onframe()),Reflect.set(l,O,C))})}}y.defaultStyleProps={childrenNode:[],droppable:!0,draggable:!0,collapsed:!1,collapsedSize:32,collapsedMarker:!0,collapsedMarkerZIndex:1,collapsedMarkerFontSize:12,collapsedMarkerTextAlign:"center",collapsedMarkerTextBaseline:"middle",collapsedMarkerType:"child-count"}},49810:function(it,w,t){"use strict";t.d(w,{D:function(){return h}});var u=t(81614),D=t(52877),p=t(59268),M=t(28660),m=t(33626),c=t(38885);class h extends c.V{constructor(a){super(a)}drawKeyShape(a,r){return this.upsert("key",u.Cd,this.getKeyStyle(a),r)}getKeyStyle(a){const{collapsed:r}=a,s=super.getKeyStyle(a),[o]=this.getKeySize(a);return Object.assign(Object.assign(Object.assign({},s),r&&(0,M.zs)(s,"collapsed")),{r:o/2})}getCollapsedKeySize(a){const[r,s]=(0,m._)(a.collapsedSize),o=Math.max(r,s)/2;return[o*2,o*2,0]}getExpandedKeySize(a){const r=this.getContentBBox(a),[s,o]=(0,D.qt)(r),d=Math.sqrt(Math.pow(s,2)+Math.pow(o,2))/2;return[d*2,d*2,0]}getIntersectPoint(a,r=!1){const s=this.getShape("key").getBounds();return(0,p.te)(a,s,r)}}},17789:function(it,w,t){"use strict";t.d(w,{DH:function(){return D.D},Vy:function(){return u.V},aM:function(){return p.a}});var u=t(38885),D=t(49810),p=t(77408)},77408:function(it,w,t){"use strict";t.d(w,{a:function(){return M}});var u=t(81614),D=t(28660),p=t(38885);class M extends p.V{constructor(c){super(c)}drawKeyShape(c,h){return this.upsert("key",u.UL,this.getKeyStyle(c),h)}getKeyStyle(c){const h=super.getKeyStyle(c),[v,a]=this.getKeySize(c);return Object.assign(Object.assign(Object.assign({},h),c.collapsed&&(0,D.zs)(h,"collapsed")),{width:v,height:a,x:-v/2,y:-a/2})}}},90956:function(it,w,t){"use strict";t.d(w,{u:function(){return y}});var u=t(81614),D=t(84237),p=t(88458),M=t(52877),m=t(41632),c=t(23295),h=t(28660),v=t(33626),a=t(95272),r=t(62879),s=t(52449),o=t(95616),d=t(23618),f=function(E,e){var i={};for(var n in E)Object.prototype.hasOwnProperty.call(E,n)&&e.indexOf(n)<0&&(i[n]=E[n]);if(E!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(E);l<n.length;l++)e.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(E,n[l])&&(i[n[l]]=E[n[l]]);return i};class y extends o.H{constructor(e){super((0,a.JH)({style:y.defaultStyleProps},e)),this.type="edge"}get sourceNode(){const{sourceNode:e}=this.parsedAttributes;return this.context.element.getElement(e)}get targetNode(){const{targetNode:e}=this.parsedAttributes;return this.context.element.getElement(e)}getKeyStyle(e){const i=this.getGraphicStyle(e),{loop:n}=i,l=f(i,["loop"]),{sourceNode:O,targetNode:C}=this,P={d:n&&(0,c.Ob)(O,C)?this.getLoopPath(e):this.getKeyPath(e)};return u.y$.PARSED_STYLE_LIST.forEach(b=>{b in l&&(P[b]=l[b])}),P}getLoopPath(e){const{sourcePort:i,targetPort:n}=e,l=this.sourceNode,O=(0,M.Js)(l),C=Math.max((0,M.Ru)(O),(0,M.vs)(O)),{placement:T,clockwise:P,dist:b=C}=(0,h.zs)(this.getGraphicStyle(e),"loop");return(0,m.YH)(l,T,P,b,i,n)}getEndpoints(e,i=!0,n=[]){const{sourcePort:l,targetPort:O}=e,{sourceNode:C,targetNode:T}=this,[P,b]=(0,c.OQ)(C,T,l,O);if(!i){const K=P?(0,c.Z0)(P):C.getCenter(),N=b?(0,c.Z0)(b):T.getCenter();return[K,N]}const x=typeof n=="function"?n():n,I=(0,c.ZO)(P||C,x[0]||b||T),S=(0,c.ZO)(b||T,x[x.length-1]||P||C);return[I,S]}getHaloStyle(e){if(e.halo===!1)return!1;const i=this.getKeyStyle(e),n=(0,h.zs)(this.getGraphicStyle(e),"halo");return Object.assign(Object.assign({},i),n)}getLabelStyle(e){if(e.label===!1||!e.labelText)return!1;const i=(0,h.zs)(this.getGraphicStyle(e),"label"),{placement:n,offsetX:l,offsetY:O,autoRotate:C,maxWidth:T}=i,P=f(i,["placement","offsetX","offsetY","autoRotate","maxWidth"]),b=(0,m.AB)(this.shapeMap.key,n,C,l,O),x=this.shapeMap.key.getLocalBounds(),I=(0,s.AC)([x.min,x.max],T);return Object.assign({wordWrapWidth:I},b,P)}getBadgeStyle(e){if(e.badge===!1||!e.badgeText)return!1;const i=(0,h.zs)(e,"badge"),{offsetX:n,offsetY:l,placement:O}=i,C=f(i,["offsetX","offsetY","placement"]);return Object.assign(C,(0,m.mA)(this.shapeMap,O,e.labelPlacement,n,l))}drawArrow(e,i){var n;const l=i==="start",C=e[i==="start"?"startArrow":"endArrow"],T=this.shapeMap.key;if(C){const P=this.getArrowStyle(e,l),[b,x,I]=l?["markerStart","markerStartOffset","startArrowOffset"]:["markerEnd","markerEndOffset","endArrowOffset"],S=T.parsedStyle[b];if(S)S.attr(P);else{const K=P.src?u.Ee:u.y$,N=new K({style:P});T.style[b]=N}T.style[x]=e[I]||P.width/2+ +P.lineWidth}else{const P=l?"markerStart":"markerEnd";(n=T.style[P])===null||n===void 0||n.destroy(),T.style[P]=null}}getArrowStyle(e,i){const n=this.getShape("key").attributes,l=i?"startArrow":"endArrow",O=(0,h.zs)(this.getGraphicStyle(e),l),{size:C,type:T}=O,P=f(O,["size","type"]),[b,x]=(0,v._)((0,m.wo)(n.lineWidth,C)),S=((0,D.Z)(T)?T:r[T]||r.triangle)(b,x);return Object.assign((0,p.Z)(n,["stroke","strokeOpacity","fillOpacity"]),{width:b,height:x},Object.assign({},S&&{d:S,fill:T==="simple"?"":n.stroke}),P)}drawLabelShape(e,i){const n=this.getLabelStyle(e);this.upsert("label",d.__,n,i)}drawHaloShape(e,i){const n=this.getHaloStyle(e);this.upsert("halo",u.y$,n,i)}drawBadgeShape(e,i){const n=this.getBadgeStyle(e);this.upsert("badge",d.Ct,n,i)}drawSourceArrow(e){this.drawArrow(e,"start")}drawTargetArrow(e){this.drawArrow(e,"end")}drawKeyShape(e,i){const n=this.getKeyStyle(e);return this.upsert("key",u.y$,n,i)}render(e=this.parsedAttributes,i=this){this.drawKeyShape(e,i),this.getShape("key")&&(this.drawSourceArrow(e),this.drawTargetArrow(e),this.drawLabelShape(e,i),this.drawHaloShape(e,i),this.drawBadgeShape(e,i))}onframe(){this.drawKeyShape(this.parsedAttributes,this),this.drawSourceArrow(this.parsedAttributes),this.drawTargetArrow(this.parsedAttributes),this.drawHaloShape(this.parsedAttributes,this),this.drawLabelShape(this.parsedAttributes,this),this.drawBadgeShape(this.parsedAttributes,this)}animate(e,i){const n=super.animate(e,i);return n&&new Proxy(n,{set:(l,O,C)=>(O==="currentTime"&&Promise.resolve().then(()=>this.onframe()),Reflect.set(l,O,C))})}}y.defaultStyleProps={badge:!0,badgeOffsetX:0,badgeOffsetY:0,badgePlacement:"suffix",isBillboard:!0,label:!0,labelAutoRotate:!0,labelIsBillboard:!0,labelMaxWidth:"80%",labelOffsetX:4,labelOffsetY:0,labelPlacement:"center",labelTextBaseline:"middle",labelWordWrap:!1,halo:!1,haloDroppable:!1,haloLineDash:0,haloLineWidth:12,haloPointerEvents:"none",haloStrokeOpacity:.25,haloZIndex:-1,loop:!0,startArrow:!1,startArrowLineDash:0,startArrowLineJoin:"round",startArrowLineWidth:1,startArrowTransformOrigin:"center",startArrowType:"vee",endArrow:!1,endArrowLineDash:0,endArrowLineJoin:"round",endArrowLineWidth:1,endArrowTransformOrigin:"center",endArrowType:"vee",loopPlacement:"top",loopClockwise:!0}},58577:function(it,w,t){"use strict";t.d(w,{k:function(){return p}});var u=t(95272),D=t(59249);class p extends D.L{constructor(m){super((0,u.JH)({style:p.defaultStyleProps},m))}getControlPoints(m,c,h,v){const a=c[0]-m[0];return[[m[0]+a*h[0]+v[0],m[1]],[c[0]-a*h[1]+v[1],c[1]]]}}p.defaultStyleProps={curvePosition:[.5,.5],curveOffset:[0,0]}},77790:function(it,w,t){"use strict";t.d(w,{Z:function(){return m}});var u=t(49559),D=t(95272),p=t(26192),M=t(59249);class m extends M.L{constructor(h){super((0,D.JH)({style:m.defaultStyleProps},h))}get ref(){return this.context.model.getRootsData()[0]}getEndpoints(h){if(this.sourceNode.id===this.ref.id)return super.getEndpoints(h);const v=(0,u.TA)(this.ref),a=this.sourceNode.getIntersectPoint(v,!0),r=this.targetNode.getIntersectPoint(v);return[a,r]}toRadialCoordinate(h){const v=(0,u.TA)(this.ref),a=(0,p.TE)(h,v),r=(0,p.BJ)((0,p.$X)(h,v));return[a,r]}getControlPoints(h,v,a,r){const[s,o]=this.toRadialCoordinate(h),[d]=this.toRadialCoordinate(v),f=d-s;return[[h[0]+(f*a[0]+r[0])*Math.cos(o),h[1]+(f*a[0]+r[0])*Math.sin(o)],[v[0]-(f*a[1]-r[0])*Math.cos(o),v[1]-(f*a[1]-r[0])*Math.sin(o)]]}}m.defaultStyleProps={curvePosition:.5,curveOffset:20}},36655:function(it,w,t){"use strict";t.d(w,{l:function(){return p}});var u=t(95272),D=t(59249);class p extends D.L{constructor(m){super((0,u.JH)({style:p.defaultStyleProps},m))}getControlPoints(m,c,h,v){const a=c[1]-m[1];return[[m[0],m[1]+a*h[0]+v[0]],[c[0],c[1]-a*h[1]+v[1]]]}}p.defaultStyleProps={curvePosition:[.5,.5],curveOffset:[0,0]}},59249:function(it,w,t){"use strict";t.d(w,{L:function(){return M}});var u=t(41632),D=t(95272),p=t(90956);class M extends p.u{constructor(c){super((0,D.JH)({style:M.defaultStyleProps},c))}getKeyPath(c){const[h,v]=this.getEndpoints(c),{controlPoints:a,curvePosition:r,curveOffset:s}=c,o=this.getControlPoints(h,v,(0,u.aI)(r),(0,u.VC)(s),a);return(0,u.kY)(h,v,o)}getControlPoints(c,h,v,a,r){return(r==null?void 0:r.length)===2?r:[(0,u.yU)(c,h,v[0],a[0]),(0,u.yU)(c,h,v[1],a[1])]}}M.defaultStyleProps={curvePosition:.5,curveOffset:20}},86098:function(it,w,t){"use strict";t.d(w,{Ab:function(){return v.A},Ll:function(){return D.L},ZJ:function(){return M.Z},aH:function(){return h.a},kQ:function(){return p.k},ls:function(){return m.l},u5:function(){return u.u},x1:function(){return c.x}});var u=t(90956),D=t(59249),p=t(58577),M=t(77790),m=t(36655),c=t(57513),h=t(39263),v=t(68210)},57513:function(it,w,t){"use strict";t.d(w,{x:function(){return p}});var u=t(95272),D=t(90956);class p extends D.u{constructor(m){super((0,u.JH)({style:p.defaultStyleProps},m))}getKeyPath(m){const[c,h]=this.getEndpoints(m);return[["M",c[0],c[1]],["L",h[0],h[1]]]}}p.defaultStyleProps={}},39263:function(it,w,t){"use strict";t.d(w,{a:function(){return v}});var u=t(52877),D=t(41632),p=t(28660),M=t(36614),m=t(18679),c=t(95272),h=t(90956);class v extends h.u{constructor(r){super((0,c.JH)({style:v.defaultStyleProps},r))}getControlPoints(r){const{router:s}=r,{sourceNode:o,targetNode:d}=this,[f,y]=this.getEndpoints(r,!1);let E=[];if(!s)E=r.controlPoints;else if(s.type==="shortest-path"){const e=this.context.element.getNodes();E=(0,m.f5)(o,d,e,s),E.length||(E=(0,M.r4)(f,y,o,d,r.controlPoints,{padding:s.offset}))}else s.type==="orth"&&(E=(0,M.r4)(f,y,o,d,r.controlPoints,s));return E}getPoints(r){const s=this.getControlPoints(r),[o,d]=this.getEndpoints(r,!0,s);return[o,...s,d]}getKeyPath(r){const s=this.getPoints(r);return(0,D.eu)(s,r.radius)}getLoopPath(r){const{sourcePort:s,targetPort:o,radius:d}=r,f=this.sourceNode,y=(0,u.Js)(f),E=Math.max((0,u.Ru)(y),(0,u.vs)(y))/4,{placement:e,clockwise:i,dist:n=E}=(0,p.zs)(this.getGraphicStyle(r),"loop");return(0,D.WZ)(f,d,e,i,n,s,o)}}v.defaultStyleProps={radius:0,controlPoints:[],router:!1}},68210:function(it,w,t){"use strict";t.d(w,{A:function(){return M}});var u=t(41632),D=t(95272),p=t(90956);class M extends p.u{constructor(c){super((0,D.JH)({style:M.defaultStyleProps},c))}getKeyPath(c){const{curvePosition:h,curveOffset:v}=c,[a,r]=this.getEndpoints(c),s=c.controlPoint||(0,u.yU)(a,r,h,v);return(0,u.$D)(a,r,s)}}M.defaultStyleProps={curvePosition:.5,curveOffset:30}},13921:function(it,w,t){"use strict";const u=new WeakMap;function D(M,m,c){u.has(M)||u.set(M,{});const h=u.get(M);if(!h[m])return h[m]=c,!0;const v=h[m];return p(v,c)?!1:(h[m]=c,!0)}const p=(M,m,c=2)=>{if(typeof M!="object"||typeof m!="object")return M===m;const h=Object.keys(M),v=Object.keys(m);if(h.length!==v.length)return!1;for(const a of h){const r=M[a],s=m[a];if(c>1&&typeof r=="object"&&typeof s=="object"){if(!p(r,s,c-1))return!1}else if(r!==s)return!1}return!0}},2790:function(it,w,t){"use strict";t.d(w,{Ab:function(){return D.Ab},CJ:function(){return p.CJ},Cd:function(){return p.Cd},DH:function(){return u.DH},Ee:function(){return p.Ee},Hd:function(){return p.Hd},Ll:function(){return D.Ll},NJ:function(){return p.NJ},Pj:function(){return p.Pj},UL:function(){return p.UL},Ux:function(){return p.Ux},Vy:function(){return u.Vy},ZJ:function(){return D.ZJ},aH:function(){return D.aH},aM:function(){return u.aM},k9:function(){return p.k9},kQ:function(){return D.kQ},ls:function(){return D.ls},tv:function(){return p.tv},u5:function(){return D.u5},x1:function(){return D.x1},yi:function(){return p.yi}});var u=t(17789),D=t(86098),p=t(39385)},56707:function(it,w,t){"use strict";t.d(w,{H:function(){return y}});var u=t(81614),D=t(23295),p=t(1123),M=t(32584),m=t(59268),c=t(28660),h=t(33626),v=t(95272),a=t(52449),r=t(88102),s=t(95616),o=t(23618),d=t(48969),f=function(e,i){var n={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&i.indexOf(l)<0&&(n[l]=e[l]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var O=0,l=Object.getOwnPropertySymbols(e);O<l.length;O++)i.indexOf(l[O])<0&&Object.prototype.propertyIsEnumerable.call(e,l[O])&&(n[l[O]]=e[l[O]]);return n};class y extends s.H{constructor(i){super((0,v.JH)({style:y.defaultStyleProps},i)),this.type="node"}getSize(i=this.attributes){const{size:n}=i;return(0,h._)(n)}getKeyStyle(i){const n=this.getGraphicStyle(i);return Object.assign((0,c.Yf)(n,["label","halo","icon","badge","port"]))}getLabelStyle(i){if(i.label===!1||!i.labelText)return!1;const n=(0,c.zs)(this.getGraphicStyle(i),"label"),{placement:l,maxWidth:O,offsetX:C,offsetY:T}=n,P=f(n,["placement","maxWidth","offsetX","offsetY"]),b=this.getShape("key").getLocalBounds();return Object.assign((0,D.Ys)(b,l,C,T),{wordWrapWidth:(0,a.Wp)(b,O)},P)}getHaloStyle(i){if(i.halo===!1)return!1;const n=this.getKeyStyle(i),{fill:l}=n,O=f(n,["fill"]),C=(0,c.zs)(this.getGraphicStyle(i),"halo");return Object.assign(Object.assign(Object.assign({},O),{stroke:l}),C)}getIconStyle(i){if(i.icon===!1||!i.iconText&&!i.iconSrc)return!1;const n=(0,c.zs)(this.getGraphicStyle(i),"icon");return Object.assign((0,p.I)(i.size,n),n)}getBadgesStyle(i){var n;const l=(0,c.hB)(this.shapeMap,"badge-"),O={};if(Object.keys(l).forEach(S=>{O[S]=!1}),i.badge===!1||!(!((n=i.badges)===null||n===void 0)&&n.length))return O;const{badges:C=[],badgePalette:T,opacity:P=1}=i,b=f(i,["badges","badgePalette","opacity"]),x=(0,M.s5)(T),I=(0,c.zs)(this.getGraphicStyle(b),"badge");return C.forEach((S,K)=>{O[K]=Object.assign(Object.assign({backgroundFill:x?x[K%(x==null?void 0:x.length)]:void 0,opacity:P},I),this.getBadgeStyle(S))}),O}getBadgeStyle(i){const n=this.getShape("key"),{placement:l="top",offsetX:O,offsetY:C}=i,T=f(i,["placement","offsetX","offsetY"]),P=(0,D.Ys)(n.getLocalBounds(),l,O,C,!0);return Object.assign(Object.assign({},P),T)}getPortsStyle(i){var n;const l=this.getPorts(),O={};if(Object.keys(l).forEach(P=>{O[P]=!1}),i.port===!1||!(!((n=i.ports)===null||n===void 0)&&n.length))return O;const C=(0,c.zs)(this.getGraphicStyle(i),"port"),{ports:T=[]}=i;return T.forEach((P,b)=>{const x=P.key||b,I=Object.assign(Object.assign({},C),P);if((0,D.PH)(I))O[x]=!1;else{const[S,K]=this.getPortXY(i,P);O[x]=Object.assign({transform:[["translate",S,K]]},I)}}),O}getPortXY(i,n){const{placement:l="left"}=n,O=this.getShape("key");return(0,D.ch)(E(this.context,O),l)}getPorts(){return(0,c.hB)(this.shapeMap,"port-")}getCenter(){return this.getShape("key").getBounds().center}getIntersectPoint(i,n=!1){const l=this.getShape("key").getBounds();return(0,m.Ri)(i,l,n)}drawHaloShape(i,n){const l=this.getHaloStyle(i),O=this.getShape("key");this.upsert("halo",O.constructor,l,n)}drawIconShape(i,n){const l=this.getIconStyle(i);this.upsert("icon",o.JO,l,n),(0,d.XV)(this)}drawBadgeShapes(i,n){const l=this.getBadgesStyle(i);Object.keys(l).forEach(O=>{const C=l[O];this.upsert(`badge-${O}`,o.Ct,C,n)})}drawPortShapes(i,n){const l=this.getPortsStyle(i);Object.keys(l).forEach(O=>{const C=l[O],T=`port-${O}`;this.upsert(T,u.Cd,C,n)})}drawLabelShape(i,n){const l=this.getLabelStyle(i);this.upsert("label",o.__,l,n)}_drawKeyShape(i,n){return this.drawKeyShape(i,n)}render(i=this.parsedAttributes,n=this){this._drawKeyShape(i,n),this.getShape("key")&&(this.drawHaloShape(i,n),this.drawIconShape(i,n),this.drawBadgeShapes(i,n),this.drawLabelShape(i,n),this.drawPortShapes(i,n))}update(i){super.update(i),i&&("x"in i||"y"in i||"z"in i)&&(0,d.Ny)(this)}onframe(){this.drawBadgeShapes(this.parsedAttributes,this),this.drawLabelShape(this.parsedAttributes,this)}}y.defaultStyleProps={x:0,y:0,size:32,droppable:!0,draggable:!0,port:!0,ports:[],portZIndex:2,portLinkToCenter:!1,badge:!0,badges:[],badgeZIndex:3,halo:!1,haloDroppable:!1,haloLineDash:0,haloLineWidth:12,haloStrokeOpacity:.25,haloPointerEvents:"none",haloZIndex:-1,icon:!0,iconZIndex:1,label:!0,labelIsBillboard:!0,labelMaxWidth:"200%",labelPlacement:"bottom",labelWordWrap:!1,labelZIndex:0};function E(e,i){if(!e)return i.getLocalBounds();const n=e.canvas.getLayer(),l=i.cloneNode();(0,r.i)(l,"hidden"),n.appendChild(l);const O=l.getLocalBounds();return l.destroy(),O}},96604:function(it,w,t){"use strict";t.d(w,{C:function(){return c}});var u=t(81614),D=t(66185),p=t(59268),M=t(95272),m=t(56707);class c extends m.H{constructor(v){super((0,M.JH)({style:c.defaultStyleProps},v))}drawKeyShape(v,a){return this.upsert("key",u.Cd,this.getKeyStyle(v),a)}getKeyStyle(v){const a=super.getKeyStyle(v);return Object.assign(Object.assign({},a),{r:Math.min(...this.getSize(v))/2})}getIconStyle(v){const a=super.getIconStyle(v),{r}=this.getShape("key").attributes,s=r*2*D.f;return a?Object.assign({width:s,height:s},a):!1}getIntersectPoint(v,a=!1){const r=this.getShape("key").getBounds();return(0,p.te)(v,r,a)}}c.defaultStyleProps={size:32}},10157:function(it,w,t){"use strict";t.d(w,{t:function(){return p}});var u=t(23295),D=t(48889);class p extends D.m{constructor(m){super(m)}getPoints(m){const[c,h]=this.getSize(m);return(0,u.UC)(c,h)}}},64078:function(it,w,t){"use strict";t.d(w,{y:function(){return r}});var u=t(81614),D=t(27412),p=t(26912),M=t(32584),m=t(28660),c=t(33626),h=t(95272),v=t(96604),a=function(y,E){var e={};for(var i in y)Object.prototype.hasOwnProperty.call(y,i)&&E.indexOf(i)<0&&(e[i]=y[i]);if(y!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(y);n<i.length;n++)E.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(y,i[n])&&(e[i[n]]=y[i[n]]);return e};class r extends v.C{constructor(E){super((0,h.JH)({style:r.defaultStyleProps},E))}parseOuterR(){const{size:E}=this.parsedAttributes;return Math.min(...(0,c._)(E))/2}parseInnerR(){const{innerR:E}=this.parsedAttributes;return(0,D.Z)(E)?parseInt(E)/100*this.parseOuterR():E}drawDonutShape(E,e){const{donuts:i}=E;if(!(i!=null&&i.length))return;const n=i.map(x=>(0,p.Z)(x)?{value:x}:x),l=(0,m.zs)(this.getGraphicStyle(E),"donut"),O=(0,M.s5)(E.donutPalette);if(!O)return;const C=n.reduce((x,I)=>{var S;return x+((S=I.value)!==null&&S!==void 0?S:0)},0),T=this.parseOuterR(),P=this.parseInnerR();let b=0;n.forEach((x,I)=>{const{value:S=0,color:K=O[I%O.length]}=x,N=a(x,["value","color"]),z=(C===0?1/n.length:S/C)*360;this.upsert(`round${I}`,u.y$,Object.assign(Object.assign(Object.assign({},l),{d:f(T,P,b,b+z),fill:K}),N),e),b+=z})}render(E,e=this){super.render(E,e),this.drawDonutShape(E,e)}}r.defaultStyleProps={innerR:"50%",donuts:[],donutPalette:"tableau"};const s=(y,E,e,i)=>[y+Math.sin(i)*e,E-Math.cos(i)*e],o=(y,E,e,i)=>i<=0||e<=i?[["M",y-e,E],["A",e,e,0,1,1,y+e,E],["A",e,e,0,1,1,y-e,E],["Z"]]:[["M",y-e,E],["A",e,e,0,1,1,y+e,E],["A",e,e,0,1,1,y-e,E],["Z"],["M",y+i,E],["A",i,i,0,1,0,y-i,E],["A",i,i,0,1,0,y+i,E],["Z"]],d=(y,E,e,i,n,l)=>{const[O,C]=[n/360*2*Math.PI,l/360*2*Math.PI],T=[s(y,E,i,O),s(y,E,e,O),s(y,E,e,C),s(y,E,i,C)],P=C-O>Math.PI?1:0;return[["M",T[0][0],T[0][1]],["L",T[1][0],T[1][1]],["A",e,e,0,P,1,T[2][0],T[2][1]],["L",T[3][0],T[3][1]],["A",i,i,0,P,0,T[0][0],T[0][1]],["Z"]]},f=(y=0,E=0,e,i)=>{const[n,l]=[0,0];return Math.abs(e-i)%360<1e-6?o(n,l,y,E):d(n,l,y,E,e,i)}},88640:function(it,w,t){"use strict";t.d(w,{P:function(){return c}});var u=t(81614),D=t(66185),p=t(59268),M=t(95272),m=t(56707);class c extends m.H{constructor(v){super((0,M.JH)({style:c.defaultStyleProps},v))}drawKeyShape(v,a){return this.upsert("key",u.Pj,this.getKeyStyle(v),a)}getKeyStyle(v){const a=super.getKeyStyle(v),[r,s]=this.getSize(v);return Object.assign(Object.assign({},a),{rx:r/2,ry:s/2})}getIconStyle(v){const a=super.getIconStyle(v),{rx:r,ry:s}=this.getShape("key").attributes,o=Math.min(+r,+s)*2*D.f;return a?Object.assign({width:o,height:o},a):!1}getIntersectPoint(v,a=!1){const r=this.getShape("key").getBounds();return(0,p.te)(v,r,a)}}c.defaultStyleProps={size:[45,35]}},48490:function(it,w,t){"use strict";t.d(w,{N:function(){return M}});var u=t(66185),D=t(23295),p=t(48889);class M extends p.m{constructor(c){super(c)}getOuterR(c){return c.outerR||Math.min(...this.getSize(c))/2}getPoints(c){return(0,D.Jo)(this.getOuterR(c))}getIconStyle(c){const h=super.getIconStyle(c),v=this.getOuterR(c)*u.f;return h?Object.assign({width:v,height:v},h):!1}}},46490:function(it,w,t){"use strict";t.d(w,{k:function(){return r}});var u=t(81614),D=t(61075),p=t(28767),M=t(88458),m=t(36179),c=t(89148),h=t(23098),v=t(56707),a=function(s,o){var d={};for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&o.indexOf(f)<0&&(d[f]=s[f]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,f=Object.getOwnPropertySymbols(s);y<f.length;y++)o.indexOf(f[y])<0&&Object.prototype.propertyIsEnumerable.call(s,f[y])&&(d[f[y]]=s[f[y]]);return d};class r extends v.H{constructor(o){super(Object.assign(Object.assign({},o),{style:Object.assign({},r.defaultStyleProps,o.style)})),this.rootPointerEvent=new u.nR(null),this.forwardEvents=d=>{const f=this.context.canvas,y=f.context.renderingContext.root.ownerDocument.defaultView;this.normalizeToPointerEvent(d,y).forEach(e=>{const i=this.bootstrapEvent(this.rootPointerEvent,e,y,d);(0,p.Z)(f.context.eventService,"mappingTable.pointerupoutside",[]),f.context.eventService.mapEvent(i)})}}get eventService(){return this.context.canvas.context.eventService}get events(){return[h.C9.CLICK,h.C9.POINTER_DOWN,h.C9.POINTER_MOVE,h.C9.POINTER_UP,h.C9.POINTER_OVER,h.C9.POINTER_LEAVE]}getDomElement(){return this.getShape("key").getDomElement()}render(o=this.parsedAttributes,d=this){this.drawKeyShape(o,d),this.drawPortShapes(o,d)}getKeyStyle(o){const d=(0,M.Z)(o,["dx","dy","innerHTML","pointerEvents","cursor"]),{dx:f=0,dy:y=0}=d,E=a(d,["dx","dy"]),[e,i]=this.getSize(o);return Object.assign(Object.assign({x:f,y},E),{width:e,height:i})}drawKeyShape(o,d){const f=this.getKeyStyle(o),{x:y,y:E,width:e=0,height:i=0}=f,n=this.upsert("key-container",u.UL,{x:y,y:E,width:e,height:i,opacity:0},d);return this.upsert("key",u.k9,f,n)}connectedCallback(){if(!(this.context.canvas.getRenderer("main")instanceof D.Th))return;const f=this.getDomElement();this.events.forEach(y=>{f.addEventListener(y,this.forwardEvents)})}attributeChangedCallback(o,d,f){o==="zIndex"&&d!==f&&(this.getDomElement().style.zIndex=f)}destroy(){const o=this.getDomElement();this.events.forEach(d=>{o.removeEventListener(d,this.forwardEvents)}),super.destroy()}normalizeToPointerEvent(o,d){const f=[];if(d.isTouchEvent(o))for(let y=0;y<o.changedTouches.length;y++){const E=o.changedTouches[y];(0,m.Z)(E.button)&&(E.button=0),(0,m.Z)(E.buttons)&&(E.buttons=1),(0,m.Z)(E.isPrimary)&&(E.isPrimary=o.touches.length===1&&o.type==="touchstart"),(0,m.Z)(E.width)&&(E.width=E.radiusX||1),(0,m.Z)(E.height)&&(E.height=E.radiusY||1),(0,m.Z)(E.tiltX)&&(E.tiltX=0),(0,m.Z)(E.tiltY)&&(E.tiltY=0),(0,m.Z)(E.pointerType)&&(E.pointerType="touch"),(0,m.Z)(E.pointerId)&&(E.pointerId=E.identifier||0),(0,m.Z)(E.pressure)&&(E.pressure=E.force||.5),(0,m.Z)(E.twist)&&(E.twist=0),(0,m.Z)(E.tangentialPressure)&&(E.tangentialPressure=0),E.isNormalized=!0,E.type=o.type,f.push(E)}else if(d.isMouseEvent(o)){const y=o;(0,m.Z)(y.isPrimary)&&(y.isPrimary=!0),(0,m.Z)(y.width)&&(y.width=1),(0,m.Z)(y.height)&&(y.height=1),(0,m.Z)(y.tiltX)&&(y.tiltX=0),(0,m.Z)(y.tiltY)&&(y.tiltY=0),(0,m.Z)(y.pointerType)&&(y.pointerType="mouse"),(0,m.Z)(y.pointerId)&&(y.pointerId=1),(0,m.Z)(y.pressure)&&(y.pressure=.5),(0,m.Z)(y.twist)&&(y.twist=0),(0,m.Z)(y.tangentialPressure)&&(y.tangentialPressure=0),y.isNormalized=!0,f.push(y)}else f.push(o);return f}transferMouseData(o,d){o.isTrusted=d.isTrusted,o.srcElement=d.srcElement,o.timeStamp=performance.now(),o.type=d.type,o.altKey=d.altKey,o.metaKey=d.metaKey,o.shiftKey=d.shiftKey,o.ctrlKey=d.ctrlKey,o.button=d.button,o.buttons=d.buttons,o.client.x=d.clientX,o.client.y=d.clientY,o.movement.x=d.movementX,o.movement.y=d.movementY,o.page.x=d.pageX,o.page.y=d.pageY,o.screen.x=d.screenX,o.screen.y=d.screenY,o.relatedTarget=null}bootstrapEvent(o,d,f,y){o.view=f,o.originalEvent=null,o.nativeEvent=y,o.pointerId=d.pointerId,o.width=d.width,o.height=d.height,o.isPrimary=d.isPrimary,o.pointerType=d.pointerType,o.pressure=d.pressure,o.tangentialPressure=d.tangentialPressure,o.tiltX=d.tiltX,o.tiltY=d.tiltY,o.twist=d.twist,this.transferMouseData(o,d);const{x:E,y:e}=this.getViewportXY(d);o.viewport.x=E,o.viewport.y=e;const[i,n]=this.context.canvas.getCanvasByViewport([E,e]);return o.canvas.x=i,o.canvas.y=n,o.global.copyFrom(o.canvas),o.offset.copyFrom(o.canvas),o.isTrusted=y.isTrusted,o.type==="pointerleave"&&(o.type="pointerout"),o}getViewportXY(o){let d,f;const{offsetX:y,offsetY:E,clientX:e,clientY:i}=o;if(!(0,c.Z)(y)&&!(0,c.Z)(E))d=y,f=E;else{const n=this.eventService.client2Viewport({x:e,y:i});d=n.x,f=n.y}return{x:d,y:f}}onframe(){super.onframe();const{opacity:o}=this.attributes;this.getDomElement().style.opacity=`${o}`}}r.defaultStyleProps={size:[160,80],halo:!1,icon:!1,label:!1,pointerEvents:"auto"}},83371:function(it,w,t){"use strict";t.d(w,{E:function(){return r}});var u=t(81614),D=t(66185),p=t(28660),M=t(95272),m=t(26192),c=t(23618),h=t(48969),v=t(56707),a=function(s,o){var d={};for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&o.indexOf(f)<0&&(d[f]=s[f]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,f=Object.getOwnPropertySymbols(s);y<f.length;y++)o.indexOf(f[y])<0&&Object.prototype.propertyIsEnumerable.call(s,f[y])&&(d[f[y]]=s[f[y]]);return d};class r extends v.H{constructor(o){super((0,M.JH)({style:r.defaultStyleProps},o))}getKeyStyle(o){const[d,f]=this.getSize(o),y=super.getKeyStyle(o),{fillOpacity:E,opacity:e=E}=y,i=a(y,["fillOpacity","opacity"]);return Object.assign(Object.assign({opacity:e},i),{width:d,height:f,x:-d/2,y:-f/2})}getBounds(){return this.getShape("key").getBounds()}getHaloStyle(o){if(o.halo===!1)return!1;const d=this.getShape("key").attributes,{fill:f,stroke:y}=d,E=a(d,["fill","stroke"]),e=(0,p.zs)(this.getGraphicStyle(o),"halo"),i=Number(e.lineWidth),[n,l]=(0,m.IH)(this.getSize(o),[i,i]),{lineWidth:O}=e,C={fill:"transparent",lineWidth:O/2,width:n-O/2,height:l-O/2,x:-(n-O/2)/2,y:-(l-O/2)/2};return Object.assign(Object.assign({},e),C)}getIconStyle(o){const d=super.getIconStyle(o),[f,y]=this.getSize(o);return d?Object.assign({width:f*D.f,height:y*D.f},d):!1}drawKeyShape(o,d){const f=this.upsert("key",c.Ee,this.getKeyStyle(o),d);return(0,h.XV)(this),f}drawHaloShape(o,d){this.upsert("halo",u.UL,this.getHaloStyle(o),d)}update(o){super.update(o),o&&("x"in o||"y"in o||"z"in o)&&(0,h.Ny)(this)}}r.defaultStyleProps={size:32}},39385:function(it,w,t){"use strict";t.d(w,{CJ:function(){return s.C},Cd:function(){return D.C},Ee:function(){return v.E},Hd:function(){return u.H},NJ:function(){return c.N},Pj:function(){return m.P},UL:function(){return a.U},Ux:function(){return r.U},k9:function(){return h.k},tv:function(){return p.t},yi:function(){return M.y}});var u=t(56707),D=t(96604),p=t(10157),M=t(64078),m=t(88640),c=t(48490),h=t(46490),v=t(83371),a=t(45623),r=t(74326),s=t(12872)},45623:function(it,w,t){"use strict";t.d(w,{U:function(){return M}});var u=t(81614),D=t(66185),p=t(56707);class M extends p.H{constructor(c){super(c)}getKeyStyle(c){const[h,v]=this.getSize(c);return Object.assign(Object.assign({},super.getKeyStyle(c)),{width:h,height:v,x:-h/2,y:-v/2})}getIconStyle(c){const h=super.getIconStyle(c),{width:v,height:a}=this.getShape("key").attributes;return h?Object.assign({width:v*D.f,height:a*D.f},h):!1}drawKeyShape(c,h){return this.upsert("key",u.UL,this.getKeyStyle(c),h)}}},74326:function(it,w,t){"use strict";t.d(w,{U:function(){return M}});var u=t(66185),D=t(23295),p=t(48889);class M extends p.m{constructor(c){super(c)}getInnerR(c){return c.innerR||this.getOuterR(c)*3/8}getOuterR(c){return Math.min(...this.getSize(c))/2}getPoints(c){return(0,D.Xm)(this.getOuterR(c),this.getInnerR(c))}getIconStyle(c){const h=super.getIconStyle(c),v=this.getInnerR(c)*2*u.f;return h?Object.assign({width:v,height:v},h):!1}getPortXY(c,h){const{placement:v="top"}=h,a=this.getShape("key").getLocalBounds(),r=(0,D.UA)(this.getOuterR(c),this.getInnerR(c));return(0,D.ch)(a,v,r,!1)}}},12872:function(it,w,t){"use strict";t.d(w,{C:function(){return v}});var u=t(61989),D=t(66185),p=t(52877),M=t(23295),m=t(28660),c=t(95272),h=t(48889);class v extends h.m{constructor(r){super((0,c.JH)({style:v.defaultStyleProps},r))}getPoints(r){const{direction:s}=r,[o,d]=this.getSize(r);return(0,M.mw)(o,d,s)}getPortXY(r,s){const{direction:o}=r,{placement:d="top"}=s,f=this.getShape("key").getLocalBounds(),[y,E]=this.getSize(r),e=(0,M.Pe)(y,E,o);return(0,M.ch)(f,d,e,!1)}getIconStyle(r){const{icon:s,iconText:o,iconSrc:d,direction:f}=r;if(s===!1||(0,u.Z)(o||d))return!1;const y=(0,m.zs)(this.getGraphicStyle(r),"icon"),E=this.getShape("key").getLocalBounds(),[e,i]=(0,p.ew)(E,f),n=(0,p.wK)(E,f)*2*D.f;return Object.assign({x:e,y:i,width:n,height:n},y)}}v.defaultStyleProps={size:40,direction:"up"}},87484:function(it,w,t){"use strict";t.d(w,{C:function(){return M}});var u=t(95272),D=t(65840),p=t(21344);class M extends D.P{constructor(c){super((0,u.JH)({style:M.defaultStyleProps},c))}getBadgeStyle(c){return this.getGraphicStyle(c)}render(c=this.parsedAttributes,h=this){this.upsert("label",p._,this.getBadgeStyle(c),h)}getGeometryBounds(){const c=this.getShape("label");return(c.getShape("background")||c.getShape("text")).getGeometryBounds()}}M.defaultStyleProps={padding:[2,4,2,4],fontSize:10,wordWrap:!1,backgroundRadius:"50%",backgroundOpacity:1}},65840:function(it,w,t){"use strict";t.d(w,{P:function(){return f}});var u=t(81614),D=t(18599),p=t(84237),M=t(61989),m=t(23098),c=t(69759),h=t(23295),v=t(28660),a=t(90040),r=t(95272),s=t(40812),o=t(88102),d=t(15186);class f extends u.b_{constructor(i){E(i.style),super(i),this.shapeMap={},this.animateMap={},this.render(this.attributes,this),this.setVisibility(),this.bindEvents()}get parsedAttributes(){return this.attributes}upsert(i,n,l,O,C){var T,P,b,x,I,S,K,N;const z=this.shapeMap[i];if(l===!1){z&&((T=C==null?void 0:C.beforeDestroy)===null||T===void 0||T.call(C,z),O.removeChild(z),delete this.shapeMap[i],(P=C==null?void 0:C.afterDestroy)===null||P===void 0||P.call(C,z));return}const j=typeof n=="string"?(0,d.R)(m.MD.SHAPE,n):n;if(!j)throw new Error((0,a.W)(`Shape ${n} not found`));if(!z||z.destroyed||!(z instanceof j)){z&&((b=C==null?void 0:C.beforeDestroy)===null||b===void 0||b.call(C,z),z==null||z.destroy(),(x=C==null?void 0:C.afterDestroy)===null||x===void 0||x.call(C,z)),(I=C==null?void 0:C.beforeCreate)===null||I===void 0||I.call(C);const W=new j({className:i,style:l});return O.appendChild(W),this.shapeMap[i]=W,(S=C==null?void 0:C.afterCreate)===null||S===void 0||S.call(C,W),W}return(K=C==null?void 0:C.beforeUpdate)===null||K===void 0||K.call(C,z),(0,h.Uz)(z,l),(N=C==null?void 0:C.afterUpdate)===null||N===void 0||N.call(C,z),z}update(i={}){const n=Object.assign({},this.attributes,i);E(n),(0,h.KT)(this,n),this.render(n,this),this.setVisibility()}bindEvents(){}getGraphicStyle(i){return(0,r.Df)(i)}get compositeShapes(){return[["badges","badge-"],["ports","port-"]]}animate(i,n){if(i.length===0)return null;const l=[];if(i[0].x!==void 0||i[0].y!==void 0||i[0].z!==void 0){const{x:C=0,y:T=0,z:P=0}=this.attributes;i.forEach(b=>{const{x=C,y:I=T,z:S=P}=b;Object.assign(b,{transform:S?[["translate3d",x,I,S]]:[["translate",x,I]]})})}const O=super.animate(i,n);if(O&&(y(this,O),l.push(O)),Array.isArray(i)&&i.length>0){const C=["transform","transformOrigin","x","y","z","zIndex"];if(Object.keys(i[0]).some(T=>!C.includes(T))){Object.entries(this.shapeMap).forEach(([P,b])=>{const x=`get${(0,D.Z)(P)}Style`,I=this[x];if((0,p.Z)(I)){const S=i.map(N=>I.call(this,Object.assign(Object.assign({},this.attributes),N))),K=b.animate((0,c.dk)(S),n);K&&(y(b,K),l.push(K))}});const T=(P,b)=>{if(!(0,M.Z)(P)){const x=`get${(0,D.Z)(b)}Style`,I=this[x];if((0,p.Z)(I)){const S=i.map(K=>I.call(this,Object.assign(Object.assign({},this.attributes),K)));Object.entries(S[0]).map(([K])=>{const N=S.map(j=>j[K]),z=P[K];if(z){const j=z.animate((0,c.dk)(N),n);j&&(y(z,j),l.push(j))}})}}};this.compositeShapes.forEach(([P,b])=>{const x=(0,v.hB)(this.shapeMap,b);T(x,P)})}}return(0,c.zt)(l)}getShape(i){return this.shapeMap[i]}setVisibility(){const{visibility:i}=this.attributes;(0,o.i)(this,i)}destroy(){this.shapeMap={},this.animateMap={},super.destroy()}}function y(e,i){i==null||i.finished.then(()=>{const n=e.activeAnimations.findIndex(l=>l===i);n>-1&&e.activeAnimations.splice(n,1)})}function E(e){if(!e)return{};if("x"in e||"y"in e||"z"in e){const{x:i=0,y:n=0,z:l,transform:O}=e,C=(0,s.u)(i,n,l,O);C&&(e.transform=C)}return e}},59211:function(it,w,t){"use strict";t.d(w,{f:function(){return a}});var u=t(81614),D=t(81177),p=t(28660),M=t(95272),m=t(52449),c=t(65840),h=t(21344),v=function(r,s){var o={};for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&s.indexOf(d)<0&&(o[d]=r[d]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,d=Object.getOwnPropertySymbols(r);f<d.length;f++)s.indexOf(d[f])<0&&Object.prototype.propertyIsEnumerable.call(r,d[f])&&(o[d[f]]=r[d[f]]);return o};class a extends c.P{constructor(s){super((0,M.JH)({style:a.defaultStyleProps},s))}getLabelStyle(s){if(!s.label||!s.d||s.d.length===0)return!1;const o=(0,p.zs)(this.getGraphicStyle(s),"label"),{maxWidth:d,offsetX:f,offsetY:y,autoRotate:E,placement:e,closeToPath:i}=o,n=v(o,["maxWidth","offsetX","offsetY","autoRotate","placement","closeToPath"]),l=this.shapeMap.key,O=l==null?void 0:l.getRenderBounds();return Object.assign((0,D.j)(O,e,f,y,i,s.d,E),{wordWrapWidth:(0,m.Wp)(O,d)},n)}getKeyStyle(s){return this.getGraphicStyle(s)}render(s,o){this.upsert("key",u.y$,this.getKeyStyle(s),o),this.upsert("label",h._,this.getLabelStyle(s),o)}}a.defaultStyleProps={label:!0,labelPlacement:"bottom",labelCloseToPath:!0,labelAutoRotate:!0,labelOffsetX:0,labelOffsetY:0}},75488:function(it,w,t){"use strict";t.d(w,{J:function(){return M}});var u=t(81614),D=t(65840),p=t(48969);class M extends D.P{constructor(c){super(c)}isImage(){const{src:c}=this.attributes;return!!c}getIconStyle(c=this.attributes){const{width:h=0,height:v=0}=c,a=this.getGraphicStyle(c);return this.isImage()?Object.assign({x:-h/2,y:-v/2},a):Object.assign({textBaseline:"middle",textAlign:"center"},a)}render(c=this.attributes,h=this){this.upsert("icon",this.isImage()?p.Ee:u.xv,this.getIconStyle(c),h)}}},48969:function(it,w,t){"use strict";t.d(w,{Ee:function(){return p},Ny:function(){return h},XV:function(){return c}});var u=t(81614),D=t(39310);class p extends u.Ee{constructor(a){super(a),this.onMounted=()=>{this.handleRadius()},this.onAttrModified=()=>{this.handleRadius()},m=this,this.isMutationObserved=!0,this.addEventListener(u.Dk.MOUNTED,this.onMounted),this.addEventListener(u.Dk.ATTR_MODIFIED,this.onAttrModified)}handleRadius(){const{radius:a,clipPath:r,width:s=0,height:o=0}=this.attributes;if(a&&s&&o){const[d,f]=this.getBounds().min,y={x:d,y:f,radius:a,width:s,height:o};if(r)Object.assign(this.parsedStyle.clipPath.style,y);else{const E=new u.UL({style:y});this.style.clipPath=E}}else r&&(this.style.clipPath=null)}}const M=new WeakMap;let m=null;const c=v=>{if(m&&(0,D.d)(m).includes(v)){const a=M.get(v);a?a.includes(m)||a.push(m):M.set(v,[m])}},h=v=>{const a=M.get(v);a&&a.forEach(r=>r.handleRadius())}},23618:function(it,w,t){"use strict";t.d(w,{Ct:function(){return u.C},Ee:function(){return m.Ee},JO:function(){return M.J},PS:function(){return D.P},__:function(){return c._},ff:function(){return p.f}});var u=t(87484),D=t(65840),p=t(59211),M=t(75488),m=t(48969),c=t(21344)},21344:function(it,w,t){"use strict";t.d(w,{_:function(){return h}});var u=t(81614),D=t(17439),p=t(28660),M=t(95272),m=t(65840),c=function(v,a){var r={};for(var s in v)Object.prototype.hasOwnProperty.call(v,s)&&a.indexOf(s)<0&&(r[s]=v[s]);if(v!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(v);o<s.length;o++)a.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(v,s[o])&&(r[s[o]]=v[s[o]]);return r};class h extends m.P{constructor(a){super((0,M.JH)({style:h.defaultStyleProps},a))}isTextStyle(a){return(0,p.Ny)(a,"label")}isBackgroundStyle(a){return(0,p.Ny)(a,"background")}getTextStyle(a){const r=this.getGraphicStyle(a),{padding:s}=r,o=c(r,["padding"]);return(0,p.Yf)(o,"background")}getBackgroundStyle(a){if(a.background===!1)return!1;const r=this.getGraphicStyle(a),{wordWrap:s,wordWrapWidth:o,padding:d}=r,f=(0,p.zs)(r,"background"),{min:[y,E],center:[e,i],halfExtents:[n,l]}=this.shapeMap.text.getGeometryBounds(),[O,C,T,P]=(0,D.dj)(d),b=n*2+P+C,{width:x,height:I}=f;x&&I?Object.assign(f,{x:e-Number(x)/2,y:i-Number(I)/2}):Object.assign(f,{x:y-P,y:E-O,width:s?Math.min(b,o+P+C):b,height:l*2+O+T});const{radius:S}=f;if(typeof S=="string"&&S.endsWith("%")){const K=Number(S.replace("%",""))/100;f.radius=Math.min(+f.width,+f.height)*K}return f}render(a=this.parsedAttributes,r=this){this.upsert("text",u.xv,this.getTextStyle(a),r),this.upsert("background",u.UL,this.getBackgroundStyle(a),r)}getGeometryBounds(){return(this.getShape("background")||this.getShape("text")).getGeometryBounds()}}h.defaultStyleProps={padding:0,fontSize:12,fontFamily:"system-ui, sans-serif",wordWrap:!0,maxLines:1,wordWrapWidth:128,textOverflow:"...",textBaseline:"middle",backgroundOpacity:.75,backgroundZIndex:-1,backgroundLineWidth:0}},48889:function(it,w,t){"use strict";t.d(w,{m:function(){return M}});var u=t(81614),D=t(59268),p=t(56707);class M extends p.H{constructor(c){super(c)}get parsedAttributes(){return this.attributes}drawKeyShape(c,h){return this.upsert("key",u.mg,this.getKeyStyle(c),h)}getKeyStyle(c){const h=super.getKeyStyle(c);return Object.assign(Object.assign({},h),{points:this.getPoints(c)})}getIntersectPoint(c,h=!1){var v,a;const{points:r}=this.getShape("key").attributes,s=[+(((v=this.attributes)===null||v===void 0?void 0:v.x)||0),+(((a=this.attributes)===null||a===void 0?void 0:a.y)||0)];return(0,D.AC)(c,s,r,!0,h).point}}},15707:function(it,w,t){"use strict";t.d(w,{jD:function(){return y.jD},kJ:function(){return d.k}});var u=t(26990),D=t(23098),p=t(17789),M=t(86098),m=t(13921),c=t(39385),h=t(23618),v=t(4709),a=t(91572),r=t(15186),s=t(2071),o=t(33132),d=t(16918),f=t(24469),y=t(29193),E=t(70562),e=t(80860),i=t(17160)},40200:function(it,w,t){"use strict";t.d(w,{kJ:function(){return D.kJ}});var u=t(97519),D=t(15707);const p={css:"//at.alicdn.com/t/a/font_470089_8hnbbf8n4u8.css",js:"//at.alicdn.com/t/a/font_470089_8hnbbf8n4u8.js"}},27933:function(it,w,t){"use strict";t.d(w,{I:function(){return u}});class u{constructor(p,M){this.context=p,this.options=M||{}}}},15584:function(it,w,t){"use strict";t.d(w,{m:function(){return h}});var u=t(61989),D=t(15427),p=t(29193),M=t(33626),m=t(27933),c=function(s,o,d,f){function y(E){return E instanceof d?E:new d(function(e){e(E)})}return new(d||(d=Promise))(function(E,e){function i(O){try{l(f.next(O))}catch(C){e(C)}}function n(O){try{l(f.throw(O))}catch(C){e(C)}}function l(O){O.done?E(O.value):y(O.value).then(i,n)}l((f=f.apply(s,o||[])).next())})};class h extends m.I{constructor(){super(...arguments),this.id="fishbone"}getRoot(){const o=this.context.model.getRootsData();if(!((0,u.Z)(o)||o.length>2))return o[0]}formatSize(o){const d=typeof o=="function"?o:()=>o;return f=>(0,M._)(d(f))}doLayout(o,d){const{hGap:f,getRibSep:y,vGap:E,nodeSize:e,height:i}=d,{model:n}=this.context,l=this.formatSize(e);let O=l(o)[0]+y(o);const C=(N,z=0)=>{var j;return z+=f*((N.children||[]).length+1),(j=N.children)===null||j===void 0||j.forEach(W=>{var U;(U=n.getNodeLikeDatum(W).children)===null||U===void 0||U.forEach(H=>{const Y=n.getNodeLikeDatum(H);z=C(Y,z)})}),z},T=N=>{if(N.depth===1)return O;const z=n.getParentData(N.id,"tree");if(r(N)){const j=n.getParentData(z.id,"tree"),W=x(N)-x(j);return T(z)+W*f/E}else{const j=(z.children||[]).indexOf(N.id),W=n.getNodeData((z.children||[]).slice(j));return P(z)-W.reduce((U,F)=>U+C(F),0)-l(z)[0]/2}},P=(0,D.Z)(N=>{if(a(N))return l(N)[0]/2;const z=n.getParentData(N.id,"tree");if(r(N))return T(N)+C(N)+l(N)[0]/2;{const j=x(N)-x(z),W=f/E;return T(N)+j*W}},N=>N.id),b=N=>x(n.getParentData(N,"tree")),x=(0,D.Z)(N=>{if(a(N))return i/2;if(r(N)){const z=n.getParentData(N.id,"tree"),j=z.children.indexOf(N.id);if(j===0)return b(z.id)+E;const W=n.getNodeLikeDatum(z.children[j-1]);if((0,u.Z)(W.children))return x(W)+E;const U=n.getDescendantsData(W.id);return Math.max(...U.map(F=>r(F)?b(F.id):x(F)))+E}else{if((0,u.Z)(N.children))return b(N.id)+E;const z=n.getNodeLikeDatum(N.children.slice(-1)[0]);if((0,u.Z)(z.children))return x(z)+E;const j=n.getDescendantsData(N.id).slice(-1)[0];return(r(j)?b(j.id):x(j))+E}},N=>N.id);let I=0;const S={nodes:[],edges:[]},K=N=>{var z;(z=N.children)===null||z===void 0||z.forEach(H=>K(n.getNodeLikeDatum(H)));const j=x(N),W=P(N);if(S.nodes.push({id:N.id,x:W,y:j}),a(N))return;const U=n.getRelatedEdgesData(N.id,"in")[0],F=[T(N),r(N)?j:b(N.id)];S.edges.push({id:(0,p.jD)(U),controlPoints:[F],relatedNodeId:N.id}),I=Math.max(I,W+y(N)),N.depth===1&&(O=I)};return K(o),S}placeAlterative(o,d){const f=(d.children||[]).filter((i,n)=>n%2!==0);if(f.length===0)return o;const{model:y}=this.context,E=o.nodes.find(i=>i.id===d.id).y,e=i=>{const n=y.getAncestorsData(i,"tree");if((0,u.Z)(n))return!1;const l=n.length===1?i:n[n.length-2].id;return f.includes(l)};o.nodes.forEach(i=>{e(i.id)&&(i.y=2*E-i.y)}),o.edges.forEach(i=>{e(i.relatedNodeId)&&(i.controlPoints=i.controlPoints.map(n=>[n[0],2*E-n[1]]))})}rightToLeft(o,d){return o.nodes.forEach(f=>f.x=d.width-f.x),o.edges.forEach(f=>{f.controlPoints=f.controlPoints.map(y=>[d.width-y[0],y[1]])}),o}execute(o,d){return c(this,void 0,void 0,function*(){const f=Object.assign(Object.assign(Object.assign({},h.defaultOptions),this.options),d),{direction:y,nodeSize:E}=f,e=this.getRoot();if(!e)return o;const i=this.formatSize(E);f.vGap||(f.vGap=Math.max(...(o.nodes||[]).map(T=>i(T)[1]))),f.hGap||(f.hGap=Math.max(...(o.nodes||[]).map(T=>i(T)[0])));let n=this.doLayout(e,f);this.placeAlterative(n,e),y==="RL"&&(n=this.rightToLeft(n,f));const{model:l}=this.context,O=[],C=[];return n.nodes.forEach(T=>{const{id:P,x:b,y:x}=T,I=l.getNodeLikeDatum(P);O.push(v(I,{x:b,y:x}))}),n.edges.forEach(T=>{const{id:P,controlPoints:b}=T,x=l.getEdgeDatum(P);C.push(v(x,{controlPoints:b}))}),{nodes:O,edges:C}})}}h.defaultOptions={direction:"RL",getRibSep:()=>60};const v=(s,o)=>Object.assign(Object.assign({},s),{style:Object.assign(Object.assign({},s.style||{}),o)}),a=s=>s.depth===0,r=s=>(s.depth||(s.depth=0))%2===0},4709:function(it,w,t){"use strict";t.d(w,{AI:function(){return d.A},D4:function(){return f.D},E9:function(){return a.E},F0:function(){return u.mindmap},IE:function(){return E.I},Me:function(){return o.M},O2:function(){return s.O},SB:function(){return M.S},V:function(){return u.compactBox},Vq:function(){return v.V},W1:function(){return c.W},WH:function(){return u.dendrogram},_5:function(){return y._},b8:function(){return p.b},dt:function(){return i.d},eb:function(){return u.indented},jA:function(){return h.j},mf:function(){return e.m},uR:function(){return m.u},y7:function(){return r.y}});var u=t(74355),D=t.n(u),p=t(95446),M=t(37644),m=t(85399),c=t(3447),h=t(36238),v=t(99580),a=t(41292),r=t(39538),s=t(83700),o=t(22591),d=t(26993),f=t(92770),y=t(69053),E=t(27933),e=t(15584),i=t(86158)},86158:function(it,w,t){"use strict";t.d(w,{d:function(){return m}});var u=t(17439),D=t(33626),p=t(27933),M=function(h,v,a,r){function s(o){return o instanceof a?o:new a(function(d){d(o)})}return new(a||(a=Promise))(function(o,d){function f(e){try{E(r.next(e))}catch(i){d(i)}}function y(e){try{E(r.throw(e))}catch(i){d(i)}}function E(e){e.done?o(e.value):s(e.value).then(f,y)}E((r=r.apply(h,v||[])).next())})};class m extends p.I{constructor(){super(...arguments),this.id="snake"}formatSize(v,a){const r=typeof a=="function"?a:()=>a;return v.reduce((s,o)=>{const[d,f]=(0,D._)(r(o))||[0,0];return[Math.max(s[0],d),Math.max(s[1],f)]},[0,0])}validate(v){const{nodes:a=[],edges:r=[]}=v,s={},o={},d={};a.forEach(n=>{s[n.id]=0,o[n.id]=0,d[n.id]=[]}),r.forEach(n=>{s[n.target]++,o[n.source]++,d[n.source].push(n.target)});const f=new Set,y=n=>{f.has(n)||(f.add(n),d[n].forEach(y))};if(y(a[0].id),f.size!==a.length)return!1;const E=a.filter(n=>s[n.id]===0),e=a.filter(n=>o[n.id]===0);return!(E.length!==1||e.length!==1||a.filter(n=>s[n.id]===1&&o[n.id]===1).length!==a.length-2)}execute(v,a){return M(this,void 0,void 0,function*(){var r;if(!this.validate(v))return v;const{nodeSize:s,padding:o,sortBy:d,cols:f,colGap:y,rowGap:E,clockwise:e,width:i,height:n}=Object.assign({},m.defaultOptions,this.options,a),[l,O,C,T]=(0,u.dj)(o),P=this.formatSize(v.nodes||[],s),b=Math.ceil((v.nodes||[]).length/f);let x=y||(i-T-O-f*P[0])/(f-1),I=E||(n-l-C-b*P[1])/(b-1);return(I===1/0||I<0)&&(I=0),(x===1/0||x<0)&&(x=0),{nodes:((d?(r=v.nodes)===null||r===void 0?void 0:r.sort(d):c(v))||[]).map((N,z)=>{const j=Math.floor(z/f),W=z%f,U=e?j%2===0?W:f-1-W:j%2===0?f-1-W:W,F=T+U*(P[0]+x)+P[0]/2,H=l+j*(P[1]+I)+P[1]/2;return{id:N.id,style:{x:F,y:H}}})}})}}m.defaultOptions={padding:0,cols:5,clockwise:!0};function c(h){const{nodes:v=[],edges:a=[]}=h,r={},s={};v.forEach(f=>{r[f.id]=0,s[f.id]=[]}),a.forEach(f=>{r[f.target]++,s[f.source].push(f.target)});const o=[],d=[];for(v.forEach(f=>{r[f.id]===0&&o.push(f.id)});o.length>0;){const f=o.shift(),y=v.find(E=>E.id===f);d.push(y),s[f].forEach(E=>{r[E]--,r[E]===0&&o.push(E)})}return d}},7007:function(it,w,t){"use strict";t.d(w,{Fd:function(){return p},JL:function(){return D},PJ:function(){return m},WO:function(){return M},uN:function(){return u}});const u=["rgb(158, 1, 66)","rgb(213, 62, 79)","rgb(244, 109, 67)","rgb(253, 174, 97)","rgb(254, 224, 139)","rgb(255, 255, 191)","rgb(230, 245, 152)","rgb(171, 221, 164)","rgb(102, 194, 165)","rgb(50, 136, 189)","rgb(94, 79, 162)"],D=["rgb(78, 121, 167)","rgb(242, 142, 44)","rgb(225, 87, 89)","rgb(118, 183, 178)","rgb(89, 161, 79)","rgb(237, 201, 73)","rgb(175, 122, 161)","rgb(255, 157, 167)","rgb(156, 117, 95)","rgb(186, 176, 171)"],p=["rgb(255, 245, 235)","rgb(254, 230, 206)","rgb(253, 208, 162)","rgb(253, 174, 107)","rgb(253, 141, 60)","rgb(241, 105, 19)","rgb(217, 72, 1)","rgb(166, 54, 3)","rgb(127, 39, 4)"],M=["rgb(247, 252, 245)","rgb(229, 245, 224)","rgb(199, 233, 192)","rgb(161, 217, 155)","rgb(116, 196, 118)","rgb(65, 171, 93)","rgb(35, 139, 69)","rgb(0, 109, 44)","rgb(0, 68, 27)"],m=["rgb(247, 251, 255)","rgb(222, 235, 247)","rgb(198, 219, 239)","rgb(158, 202, 225)","rgb(107, 174, 214)","rgb(66, 146, 198)","rgb(33, 113, 181)","rgb(8, 81, 156)","rgb(8, 48, 107)"]},13422:function(it,w,t){"use strict";t.d(w,{A:function(){return m}});var u=t(97067),D=t(1938),p=t(90992),M=function(c,h,v,a){function r(s){return s instanceof v?s:new v(function(o){o(s)})}return new(v||(v=Promise))(function(s,o){function d(E){try{y(a.next(E))}catch(e){o(e)}}function f(E){try{y(a.throw(E))}catch(e){o(e)}}function y(E){E.done?s(E.value):r(E.value).then(d,f)}y((a=a.apply(c,h||[])).next())})};class m extends D.v{constructor(h,v){super(h,Object.assign({},m.defaultOptions,v)),this.$element=(0,p.C)("background"),this.context.canvas.getContainer().prepend(this.$element),this.update(v)}update(h){const v=Object.create(null,{update:{get:()=>super.update}});return M(this,void 0,void 0,function*(){v.update.call(this,h),Object.assign(this.$element.style,(0,u.Z)(this.options,["key","type"]))})}destroy(){super.destroy(),this.$element.remove()}}m.defaultOptions={transition:"background 0.5s",backgroundSize:"cover",zIndex:"-1"}},1938:function(it,w,t){"use strict";t.d(w,{v:function(){return D}});var u=t(30054);class D extends u.j{}},10616:function(it,w,t){"use strict";t.d(w,{C:function(){return f}});var u=t(48690),D=t(99666),p=t(84237),M=t(25470),m=t(23098),c=t(23618),h=t(52877),v=t(26898),a=t(29193),r=t(38865),s=t(59268),o=t(1938),d=function(e,i){var n={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&i.indexOf(l)<0&&(n[l]=e[l]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var O=0,l=Object.getOwnPropertySymbols(e);O<l.length;O++)i.indexOf(l[O])<0&&Object.prototype.propertyIsEnumerable.call(e,l[O])&&(n[l[O]]=e[l[O]]);return n};class f extends o.v{constructor(i,n){super(i,(0,u.Z)({},f.defaultOptions,n)),this.members=new Map,this.avoidMembers=new Map,this.bubbleSetOptions={},this.drawBubbleSets=()=>{const{style:l,bubbleSetOptions:O}=this.parseOptions();(0,D.Z)(this.bubbleSetOptions,O)||this.init(),this.bubbleSetOptions=Object.assign({},O);const C=Object.assign(Object.assign({},l),{d:this.getPath()});this.shape?this.shape.update(C):(this.shape=new c.ff({style:C}),this.context.canvas.appendChild(this.shape))},this.updateBubbleSetsPath=l=>{if(!this.shape)return;const O=(0,a.jD)(l.data);[...this.options.members,...this.options.avoidMembers].includes(O)&&this.shape.update(Object.assign(Object.assign({},this.parseOptions().style),{d:this.getPath(O)}))},this.getPath=l=>{const{graph:O}=this.context,C=this.options.members,T=[...this.members.keys()],P=this.options.avoidMembers,b=[...this.avoidMembers.keys()];if(!l&&(0,D.Z)(C,T)&&(0,D.Z)(P,b))return this.path;const{enter:x=[],exit:I=[]}=(0,v.t)(T,C,W=>W),{enter:S=[],exit:K=[]}=(0,v.t)(b,P,W=>W);l&&(I.push(l),x.push(l));const N=(W,U,F)=>{W.forEach(H=>{const Y=F?this.members:this.avoidMembers,V=F?"pushMember":"pushNonMember",X=F?"removeMember":"removeNonMember";if(U){let $;O.getElementType(H)==="edge"?([$]=E(O,H),this.bubbleSets.pushEdge($)):([$]=y(O,H),this.bubbleSets[V]($)),Y.set(H,$)}else{const $=Y.get(H);$&&(O.getElementType(H)==="edge"?this.bubbleSets.removeEdge($):this.bubbleSets[X]($),Y.delete(H))}})};N(I,!1,!0),N(x,!0,!0),N(K,!1,!1),N(S,!0,!1);const j=this.bubbleSets.compute().sample(8).simplify(0).bSplines().simplify(0);return this.path=(0,r.Yu)(j.points.map(s.rx)),this.path},this.bindEvents(),this.bubbleSets=new M.CF(this.options)}bindEvents(){this.context.graph.on(m.VR.AFTER_RENDER,this.drawBubbleSets),this.context.graph.on(m.VR.AFTER_ELEMENT_UPDATE,this.updateBubbleSetsPath)}init(){this.bubbleSets=new M.CF(this.options),this.members=new Map,this.avoidMembers=new Map}parseOptions(){const i=this.options,{type:n,key:l,members:O,avoidMembers:C}=i,T=d(i,["type","key","members","avoidMembers"]),P=Object.keys(T).reduce((b,x)=>(x in M.vC?b.bubbleSetOptions[x]=T[x]:b.style[x]=T[x],b),{style:{},bubbleSetOptions:{}});return Object.assign({type:n,key:l,members:O,avoidMembers:C},P)}addMember(i){const n=Array.isArray(i)?i:[i];n.some(l=>this.options.avoidMembers.includes(l))&&(this.options.avoidMembers=this.options.avoidMembers.filter(l=>!n.includes(l))),this.options.members=[...new Set([...this.options.members,...n])],this.drawBubbleSets()}removeMember(i){const n=Array.isArray(i)?i:[i];this.options.members=this.options.members.filter(l=>!n.includes(l)),this.drawBubbleSets()}updateMember(i){this.options.members=(0,p.Z)(i)?i(this.options.members):i,this.drawBubbleSets()}getMember(){return this.options.members}addAvoidMember(i){const n=Array.isArray(i)?i:[i];n.some(l=>this.options.members.includes(l))&&(this.options.members=this.options.members.filter(l=>!n.includes(l))),this.options.avoidMembers=[...new Set([...this.options.avoidMembers,...n])],this.drawBubbleSets()}removeAvoidMember(i){const n=Array.isArray(i)?i:[i];this.options.avoidMembers.some(l=>n.includes(l))&&(this.options.avoidMembers=this.options.avoidMembers.filter(l=>!n.includes(l)),this.drawBubbleSets())}updateAvoidMember(i){this.options.avoidMembers=Array.isArray(i)?i:[i],this.drawBubbleSets()}getAvoidMember(){return this.options.avoidMembers}destroy(){this.context.graph.off(m.VR.AFTER_RENDER,this.drawBubbleSets),this.context.graph.off(m.VR.AFTER_ELEMENT_UPDATE,this.updateBubbleSetsPath),this.shape.destroy(),super.destroy()}}f.defaultOptions=Object.assign({members:[],avoidMembers:[],fill:"lightblue",fillOpacity:.2,stroke:"blue",strokeOpacity:.2},M.vC);const y=(e,i)=>(Array.isArray(i)?i:[i]).map(l=>{const O=e.getElementRenderBounds(l);return new M.Ae(O.min[0],O.min[1],(0,h.Ru)(O),(0,h.vs)(O))}),E=(e,i)=>(Array.isArray(i)?i:[i]).map(l=>{const O=e.getEdgeData(l),C=e.getElementPosition(O.source),T=e.getElementPosition(O.target);return M.x1.from({x1:C[0],y1:C[1],x2:T[0],y2:T[1]})})},95038:function(it,w,t){"use strict";var u=t(23098),D=t(1938);class p extends null{constructor(m,c){super(m,c),this.setOptions=h=>{const v={cameraType:"setType",near:"setNear",far:"setFar",fov:"setFov",aspect:"setAspect",projectionMode:"setProjectionMode",distance:"setDistance",minDistance:"setMinDistance",maxDistance:"setMaxDistance",roll:"setRoll",elevation:"setElevation",azimuth:"setAzimuth"},a=(r,s)=>{switch(r){case"projectionMode":return s==="perspective"?1:0;case"cameraType":return{orbiting:0,exploring:1,tracking:2}[s];case"aspect":return typeof s=="number"?s:this.getCanvasAspect();default:return s}};Object.entries(v).forEach(([r,s])=>{const o=h[r];if(o!==void 0){const d=a(r,o);this.context.canvas.getCamera()[s](d)}})},this.bindEvents()}update(m){this.setOptions(m),super.update(m)}bindEvents(){this.context.graph.once(GraphEvent.BEFORE_DRAW,()=>this.setOptions(this.options))}getCanvasAspect(){const[m,c]=this.context.viewport.getCanvasSize();return m/c}}},61795:function(it,w,t){"use strict";t.d(w,{V:function(){return m}});var u=t(1938),D=t(90992),p=t(10294),M=function(c,h,v,a){function r(s){return s instanceof v?s:new v(function(o){o(s)})}return new(v||(v=Promise))(function(s,o){function d(E){try{y(a.next(E))}catch(e){o(e)}}function f(E){try{y(a.throw(E))}catch(e){o(e)}}function y(E){E.done?s(E.value):r(E.value).then(d,f)}y((a=a.apply(c,h||[])).next())})};class m extends u.v{constructor(h,v){super(h,Object.assign({},m.defaultOptions,v)),this.targetElement=null,this.onTriggerEvent=a=>{var r;(r=a.preventDefault)===null||r===void 0||r.call(a),this.show(a)},this.onMenuItemClick=a=>{const{onClick:r,trigger:s}=this.options;if(a.target instanceof HTMLElement&&a.target.className.includes("g6-contextmenu-li")){const o=a.target.getAttribute("value");r==null||r(o,a.target,this.targetElement),this.hide()}s!=="click"&&this.hide()},this.initElement(),this.update(v)}initElement(){this.$element=(0,D.C)("contextmenu",!1,{zIndex:"99"});const{className:h}=this.options;h&&this.$element.classList.add(h),this.context.canvas.getContainer().appendChild(this.$element),(0,D.q)("g6-contextmenu-css","style",{},p.P,document.head)}show(h){return M(this,void 0,void 0,function*(){const{enable:v,offset:a}=this.options;if(typeof v=="function"&&!v(h)||!v){this.hide();return}const r=yield this.getDOMContent(h);r instanceof HTMLElement?(this.$element.innerHTML="",this.$element.appendChild(r)):this.$element.innerHTML=r;const s=this.context.graph.getCanvas().getContainer().getBoundingClientRect();this.$element.style.left=`${h.client.x-s.left+a[0]}px`,this.$element.style.top=`${h.client.y-s.top+a[1]}px`,this.$element.style.display="block",this.targetElement=h.target})}hide(){this.$element.style.display="none",this.targetElement=null}update(h){this.unbindEvents(),super.update(h),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy(),this.$element.remove()}getDOMContent(h){return M(this,void 0,void 0,function*(){const{getContent:v,getItems:a}=this.options;return a?(0,p.c)(yield a(h)):yield v(h)})}bindEvents(){const{graph:h}=this.context,{trigger:v}=this.options;h.on(`canvas:${v}`,this.onTriggerEvent),h.on(`node:${v}`,this.onTriggerEvent),h.on(`edge:${v}`,this.onTriggerEvent),h.on(`combo:${v}`,this.onTriggerEvent),document.addEventListener("click",this.onMenuItemClick)}unbindEvents(){const{graph:h}=this.context,{trigger:v}=this.options;h.off(`canvas:${v}`,this.onTriggerEvent),h.off(`node:${v}`,this.onTriggerEvent),h.off(`edge:${v}`,this.onTriggerEvent),h.off(`combo:${v}`,this.onTriggerEvent),document.removeEventListener("click",this.onMenuItemClick)}}m.defaultOptions={trigger:"contextmenu",offset:[4,4],loadingContent:'<div class="g6-contextmenu-loading">Loading...</div>',getContent:()=>"It is a empty context menu.",enable:()=>!0}},10294:function(it,w,t){"use strict";t.d(w,{P:function(){return D},c:function(){return u}});function u(p){return`
    <ul class="g6-contextmenu-ul">
      ${p.map(M=>`<li  class="g6-contextmenu-li" value="${M.value}">${M.name}</li>`).join("")}
    </ul>
  `}const D=`
  .g6-contextmenu {
    font-size: 12px;
    background-color: rgba(255, 255, 255, 0.96);
    border-radius: 4px;
    overflow: hidden;
    box-shadow: rgba(0, 0, 0, 0.12) 0px 6px 12px 0px;
    transition: visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1) 0s, left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s;
  }

  .g6-contextmenu-ul {
    max-width: 256px;
    min-width: 96px;
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .g6-contextmenu-li {
    padding: 8px 12px;
    cursor: pointer;
    user-select: none;
  }

  .g6-contextmenu-li:hover {
    background-color: #f5f5f5;
    cursor: pointer;
  }
`},64313:function(it,w,t){"use strict";t.d(w,{D:function(){return v}});var u=t(61989),D=t(23098),p=t(41632),M=t(29193),m=t(49559),c=t(26192),h=t(1938);class v extends h.v{constructor(e,i){super(e,Object.assign({},v.defaultOptions,i)),this.edgeBundles={},this.edgePoints={},this.onBundle=()=>{const{model:n,element:l}=this.context,O=n.getEdgeData();this.divideEdges(this.options.divisions);const{cycles:C,iterRate:T,divRate:P}=this.options;let{lambda:b,divisions:x,iterations:I}=this.options;for(let S=0;S<C;S++){for(let K=0;K<I;K++){const N={};O.forEach(z=>{var j;if(z.source===z.target)return;const W=(0,M.jD)(z);N[W]=this.getEdgeForces(z,x,b);for(let U=0;U<x+1;U++)(j=this.edgePoints)[W]||(j[W]=[]),this.edgePoints[W][U]=(0,c.IH)(this.edgePoints[W][U],N[W][U])})}b/=2,x*=P,I*=T,this.divideEdges(x)}O.forEach(S=>{const K=(0,M.jD)(S),N=l.getElement(K);N==null||N.update({d:(0,p.eu)(this.edgePoints[K])})})},this.bindEvents()}get nodeMap(){const e=this.context.model.getNodeData();return Object.fromEntries(e.map(i=>[(0,M.jD)(i),(0,c.e_)((0,m.TA)(i))]))}divideEdges(e){this.context.model.getEdgeData().forEach(n=>{var l;const O=(0,M.jD)(n);(l=this.edgePoints)[O]||(l[O]=[]);const C=this.nodeMap[n.source],T=this.nodeMap[n.target];if(e===1)this.edgePoints[O].push(C),this.edgePoints[O].push((0,c.cs)((0,c.IH)(C,T),2)),this.edgePoints[O].push(T);else{const b=(this.edgePoints[O].length===0?(0,c.TE)(C,T):y(this.edgePoints[O]))/(e+1);let x=b;const I=[C];for(let S=1;S<this.edgePoints[O].length;S++){const K=this.edgePoints[O][S-1],N=this.edgePoints[O][S];let z=(0,c.TE)(N,K);for(;z>x;){const j=x/z,W=(0,c.IH)(K,(0,c.Jp)((0,c.$X)(N,K),j));I.push(W),z-=x,x=b}x-=z}I.push(T),this.edgePoints[O]=I}})}getVectorPosition(e){const i=this.nodeMap[e.source],n=this.nodeMap[e.target],[l,O]=(0,c.$X)(n,i),C=(0,c.TE)(i,n);return{source:i,target:n,vx:l,vy:O,length:C}}measureEdgeCompatibility(e,i){const n=this.getVectorPosition(e),l=this.getVectorPosition(i),O=a(n,l),C=r(n,l),T=s(n,l),P=f(n,l);return O*C*T*P}getEdgeBundles(){const e={},i=this.options.bundleThreshold,n=this.context.model.getEdgeData();return n.forEach((l,O)=>{n.forEach((C,T)=>{var P,b;if(T<=O)return;this.measureEdgeCompatibility(l,C)>=i&&(e[P=(0,M.jD)(l)]||(e[P]=[]),e[(0,M.jD)(l)].push(C),e[b=(0,M.jD)(C)]||(e[b]=[]),e[(0,M.jD)(C)].push(l))})}),e}getSpringForce(e,i){const{pre:n,cur:l,next:O}=e;return(0,c.Jp)((0,c.$X)((0,c.IH)(n,O),(0,c.Jp)(l,2)),i)}getElectrostaticForce(e,i){(0,u.Z)(this.edgeBundles)&&(this.edgeBundles=this.getEdgeBundles());const n=this.edgeBundles[(0,M.jD)(i)];let l=[0,0];return n==null||n.forEach(O=>{const C=this.edgePoints[(0,M.jD)(O)][e],T=this.edgePoints[(0,M.jD)(i)][e],P=(0,c.$X)(C,T),b=(0,c.TE)(C,T);l=(0,c.IH)(l,(0,c.Jp)(P,1/b))}),l}getEdgeForces(e,i,n){const l=this.nodeMap[e.source],O=this.nodeMap[e.target],C=this.options.K/((0,c.TE)(l,O)*(i+1)),T=[[0,0]],P=(0,M.jD)(e);for(let b=1;b<i;b++){const x=this.getSpringForce({pre:this.edgePoints[P][b-1],cur:this.edgePoints[P][b],next:this.edgePoints[P][b+1]||[0,0]},C),I=this.getElectrostaticForce(b,e);T.push((0,c.Jp)((0,c.IH)(x,I),n))}return T.push([0,0]),T}bindEvents(){const{graph:e}=this.context;e.on(D.VR.AFTER_RENDER,this.onBundle)}unbindEvents(){const{graph:e}=this.context;e.off(D.VR.AFTER_RENDER,this.onBundle)}destroy(){this.unbindEvents(),super.destroy()}}v.defaultOptions={K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:2/3,bundleThreshold:.6};const a=(E,e)=>Math.abs((0,c.AK)([E.vx,E.vy],[e.vx,e.vy])/(E.length*e.length)),r=(E,e)=>{const i=(E.length+e.length)/2;return 2/(i/Math.min(E.length,e.length)+Math.max(E.length,e.length)/i)},s=(E,e)=>{const i=(E.length+e.length)/2,n=(0,c.cs)((0,c.IH)(E.source,E.target),2),l=(0,c.cs)((0,c.IH)(e.source,e.target),2);return i/(i+(0,c.TE)(n,l))},o=(E,e)=>{if(e.source[0]===e.target[0])return[e.source[0],E[1]];if(e.source[1]===e.target[1])return[E[0],e.source[1]];const i=(e.source[1]-e.target[1])/(e.source[0]-e.target[0]),n=(i*i*e.source[0]+i*(E[1]-e.source[1])+E[0])/(i*i+1),l=i*(n-e.source[0])+e.source[1];return[n,l]},d=(E,e)=>{const i=o(e.source,E),n=o(e.target,E),l=(0,c.cs)((0,c.IH)(i,n),2),O=(0,c.cs)((0,c.IH)(E.source,E.target),2);return(0,c.TE)(i,n)===0?0:Math.max(0,1-2*(0,c.TE)(O,l)/(0,c.TE)(i,n))},f=(E,e)=>Math.min(d(E,e),d(e,E)),y=E=>{let e=0;for(let i=1;i<E.length;i++)e+=(0,c.TE)(E[i],E[i-1]);return e}},66834:function(it,w,t){"use strict";t.d(w,{b:function(){return r}});var u=t(23098),D=t(2790),p=t(29193),M=t(59268),m=t(49559),c=t(26192),h=t(1938);const v={fill:"#fff",fillOpacity:1,lineWidth:1,stroke:"#000",strokeOpacity:.8,zIndex:-1/0},a=.05;class r extends h.v{constructor(o,d){super(o,Object.assign({},r.defaultOptions,d)),this.shapes=new Map,this.r=this.options.r,this.onEdgeFilter=f=>{if(this.options.trigger==="drag"&&this.isLensOn)return;const y=(0,M.rx)(f.canvas);this.renderLens(y),this.renderFocusElements()},this.renderLens=f=>{const y=Object.assign({},v,this.options.style);this.isLensOn||(this.lens=new D.Cd({style:y}),this.canvas.appendChild(this.lens)),Object.assign(y,(0,M.Zv)(f),{size:this.r*2}),this.lens.update(y)},this.getFilterData=()=>{const{filter:f}=this.options,{model:y}=this.context,E=y.getData();if(!f)return E;const{nodes:e,edges:i,combos:n}=E;return{nodes:e.filter(l=>f((0,p.jD)(l),"node")),edges:i.filter(l=>f((0,p.jD)(l),"edge")),combos:n.filter(l=>f((0,p.jD)(l),"combo"))}},this.getFocusElements=f=>{const{nodes:y,edges:E}=this.getFilterData(),e=y.filter(l=>(0,c.TE)((0,m.TA)(l),f)<this.r),i=e.map(l=>(0,p.jD)(l)),n=E.filter(l=>{const{source:O,target:C}=l,T=i.includes(O),P=i.includes(C);switch(this.options.nodeType){case"both":return T&&P;case"either":return T!==P;case"source":return T&&!P;case"target":return!T&&P;default:return!1}});return{nodes:e,edges:n}},this.renderFocusElements=()=>{const{element:f,graph:y}=this.context;if(!this.isLensOn)return;const E=this.lens.getCenter(),{nodes:e,edges:i}=this.getFocusElements(E),n=new Set,l=O=>{const C=(0,p.jD)(O);n.add(C);const T=f.getElement(C);if(!T)return;const P=this.shapes.get(C)||T.cloneNode();P.setPosition(T.getPosition()),P.id=T.id,this.shapes.has(C)?Object.entries(T.attributes).forEach(([I,S])=>{P.style[I]!==S&&(P.style[I]=S)}):(this.canvas.appendChild(P),this.shapes.set(C,P));const b=y.getElementType(C),x=this.getElementStyle(b,O);P.update(x)};e.forEach(l),i.forEach(l),this.shapes.forEach((O,C)=>{n.has(C)||(O.destroy(),this.shapes.delete(C))})},this.scaleRByWheel=f=>{var y;this.options.preventDefault&&f.preventDefault();const{clientX:E,clientY:e,deltaX:i,deltaY:n}=f,{graph:l,canvas:O}=this.context,C=l.getCanvasByClient([E,e]),T=(y=this.lens)===null||y===void 0?void 0:y.getCenter();if(!this.isLensOn||(0,c.TE)(C,T)>this.r)return;const{maxR:P,minR:b}=this.options,x=i+n>0?1/(1-a):1-a,I=Math.min(...O.getSize())/2;this.r=Math.max(b||0,Math.min(P||I,this.r*x)),this.renderLens(T),this.renderFocusElements()},this.isLensDragging=!1,this.onDragStart=f=>{var y;const E=(0,M.rx)(f.canvas),e=(y=this.lens)===null||y===void 0?void 0:y.getCenter();!this.isLensOn||(0,c.TE)(E,e)>this.r||(this.isLensDragging=!0)},this.onDrag=f=>{if(!this.isLensDragging)return;const y=(0,M.rx)(f.canvas);this.renderLens(y),this.renderFocusElements()},this.onDragEnd=()=>{this.isLensDragging=!1},this.bindEvents()}get canvas(){return this.context.canvas.getLayer("transient")}get isLensOn(){return this.lens&&!this.lens.destroyed}getElementStyle(o,d){const f=o==="node"?this.options.nodeStyle:this.options.edgeStyle;return typeof f=="function"?f(d):f}get graphDom(){return this.context.graph.getCanvas().getContextService().getDomElement()}bindEvents(){var o;const{graph:d}=this.context,{trigger:f,scaleRBy:y}=this.options,E=d.getCanvas().getLayer();["click","drag"].includes(f)&&E.addEventListener(u.C9.CLICK,this.onEdgeFilter),f==="pointermove"?E.addEventListener(u.C9.POINTER_MOVE,this.onEdgeFilter):f==="drag"&&(E.addEventListener(u.C9.DRAG_START,this.onDragStart),E.addEventListener(u.C9.DRAG,this.onDrag),E.addEventListener(u.C9.DRAG_END,this.onDragEnd)),y==="wheel"&&((o=this.graphDom)===null||o===void 0||o.addEventListener(u.C9.WHEEL,this.scaleRByWheel,{passive:!1}))}unbindEvents(){var o;const{graph:d}=this.context,{trigger:f,scaleRBy:y}=this.options,E=d.getCanvas().getLayer();["click","drag"].includes(f)&&E.removeEventListener(u.C9.CLICK,this.onEdgeFilter),f==="pointermove"?E.removeEventListener(u.C9.POINTER_MOVE,this.onEdgeFilter):f==="drag"&&(E.removeEventListener(u.C9.DRAG_START,this.onDragStart),E.removeEventListener(u.C9.DRAG,this.onDrag),E.removeEventListener(u.C9.DRAG_END,this.onDragEnd)),y==="wheel"&&((o=this.graphDom)===null||o===void 0||o.removeEventListener(u.C9.WHEEL,this.scaleRByWheel))}update(o){var d;this.unbindEvents(),super.update(o),this.r=(d=o.r)!==null&&d!==void 0?d:this.r,this.bindEvents()}destroy(){this.unbindEvents(),this.isLensOn&&this.lens.destroy(),this.shapes.forEach((o,d)=>{o.destroy(),this.shapes.delete(d)}),super.destroy()}}r.defaultOptions={trigger:"pointermove",r:60,nodeType:"both",filter:()=>!0,style:{lineWidth:2},nodeStyle:{label:!1},edgeStyle:{label:!0},scaleRBy:"wheel",preventDefault:!0}},46013:function(it,w,t){"use strict";t.d(w,{y:function(){return d}});var u=t(88458),D=t(23098),p=t(2790),M=t(26898),m=t(29193),c=t(59268),h=t(49559),v=t(26192),a=t(1938);const r={fill:"#ccc",fillOpacity:.1,lineWidth:2,stroke:"#000",strokeOpacity:.8,labelFontSize:12},s=.05,o=.1;class d extends a.v{constructor(y,E){super(y,Object.assign({},d.defaultOptions,E)),this.r=this.options.r,this.d=this.options.d,this.onCreateFisheye=e=>{if(this.options.trigger==="drag"&&this.isLensOn)return;const i=(0,c.rx)(e.canvas);this.onMagnify(i)},this.onMagnify=e=>{e.some(isNaN)||(this.renderLens(e),this.renderFocusElements())},this.renderLens=e=>{const i=Object.assign({},r,this.options.style);this.isLensOn||(this.lens=new p.Cd({style:i}),this.canvas.appendChild(this.lens)),Object.assign(i,(0,c.Zv)(e),{size:this.r*2,label:this.options.showDPercent,labelText:this.getDPercent()}),this.lens.update(i)},this.getDPercent=()=>{const{minD:e,maxD:i}=this.options;return`${Math.round((this.d-e)/(i-e)*100)}%`},this.prevMagnifiedStyleMap=new Map,this.prevOriginStyleMap=new Map,this.renderFocusElements=()=>{if(!this.isLensOn)return;const{graph:e}=this.context,i=this.lens.getCenter(),n=(this.d+1)*this.r,l=new Map,O=new Map;e.getNodeData().forEach(T=>{const P=(0,h.TA)(T),b=(0,v.TE)(P,i);if(b>this.r)return;const x=n*b/(this.d*b+this.r),[I,S]=P,[K,N]=i,z=(I-K)/b,j=(S-N)/b,W=[K+x*z,N+x*j],U=(0,m.jD)(T),F=this.getNodeStyle(T),H=(0,u.Z)(e.getElementRenderStyle(U),Object.keys(F));l.set(U,Object.assign(Object.assign({},(0,c.Zv)(W)),F)),O.set(U,Object.assign(Object.assign({},(0,c.Zv)(P)),H))}),this.updateStyle(l,O)},this.getNodeStyle=e=>{const{nodeStyle:i}=this.options;return typeof i=="function"?i(e):i},this.updateStyle=(e,i)=>{const{graph:n,element:l}=this.context,{enter:O,exit:C,keep:T}=(0,M.t)(Array.from(this.prevMagnifiedStyleMap.keys()),Array.from(e.keys()),x=>x),P=new Set,b=(x,I)=>{const S=l.getElement(x);S==null||S.update(I),n.getRelatedEdgesData(x).forEach(K=>{P.add((0,m.jD)(K))})};[...O,...T].forEach(x=>{b(x,e.get(x))}),C.forEach(x=>{b(x,this.prevOriginStyleMap.get(x)),this.prevOriginStyleMap.delete(x)}),P.forEach(x=>{const I=l.getElement(x);I==null||I.update({})}),this.prevMagnifiedStyleMap=e,i.forEach((x,I)=>{this.prevOriginStyleMap.has(I)||this.prevOriginStyleMap.set(I,x)})},this.isWheelValid=e=>{if(this.options.preventDefault&&e.preventDefault(),!this.isLensOn)return!1;const{clientX:i,clientY:n}=e,l=this.context.graph.getCanvasByClient([i,n]),O=this.lens.getCenter();return!((0,v.TE)(l,O)>this.r)},this.scaleR=e=>{const{maxR:i,minR:n}=this.options,l=e?1/(1-s):1-s,O=Math.min(...this.context.canvas.getSize())/2;this.r=Math.max(n||0,Math.min(i||O,this.r*l))},this.scaleD=e=>{const{maxD:i,minD:n}=this.options,l=e?this.d+o:this.d-o;this.d=Math.max(n,Math.min(i,l))},this.scaleRByWheel=e=>{if(!this.isWheelValid(e))return;const{deltaX:i,deltaY:n}=e;this.scaleR(i+n>0);const l=this.lens.getCenter();this.onMagnify(l)},this.scaleDByWheel=e=>{if(!this.isWheelValid(e))return;const{deltaX:i,deltaY:n}=e;this.scaleD(i+n>0);const l=this.lens.getCenter();this.onMagnify(l)},this.isDragValid=e=>{if(this.options.preventDefault&&e.preventDefault(),!this.isLensOn)return!1;const i=(0,c.rx)(e.canvas),n=this.lens.getCenter();return!((0,v.TE)(i,n)>this.r)},this.isLensDragging=!1,this.onDragStart=e=>{this.isDragValid(e)&&(this.isLensDragging=!0)},this.onDrag=e=>{if(!this.isLensDragging)return;const i=(0,c.rx)(e.canvas);this.onMagnify(i)},this.onDragEnd=()=>{this.isLensDragging=!1},this.scaleRByDrag=e=>{if(!this.isLensDragging)return;const{dx:i,dy:n}=e;this.scaleR(i-n>0);const l=this.lens.getCenter();this.onMagnify(l)},this.scaleDByDrag=e=>{if(!this.isLensDragging)return;const{dx:i,dy:n}=e;this.scaleD(i-n>0);const l=this.lens.getCenter();this.onMagnify(l)},this.bindEvents()}get canvas(){return this.context.canvas.getLayer("transient")}get isLensOn(){return this.lens&&!this.lens.destroyed}get graphDom(){return this.context.graph.getCanvas().getContextService().getDomElement()}bindEvents(){var y;const{graph:E}=this.context,{trigger:e,scaleRBy:i,scaleDBy:n}=this.options,l=E.getCanvas().getLayer();if(["click","drag"].includes(e)&&l.addEventListener(D.C9.CLICK,this.onCreateFisheye),e==="pointermove"&&l.addEventListener(D.C9.POINTER_MOVE,this.onCreateFisheye),e==="drag"||i==="drag"||n==="drag"){l.addEventListener(D.C9.DRAG_START,this.onDragStart),l.addEventListener(D.C9.DRAG_END,this.onDragEnd);const O=e==="drag"?this.onDrag:i==="drag"?this.scaleRByDrag:this.scaleDByDrag;l.addEventListener(D.C9.DRAG,O)}if(i==="wheel"||n==="wheel"){const O=i==="wheel"?this.scaleRByWheel:this.scaleDByWheel;(y=this.graphDom)===null||y===void 0||y.addEventListener(D.C9.WHEEL,O,{passive:!1})}}unbindEvents(){var y;const{graph:E}=this.context,{trigger:e,scaleRBy:i,scaleDBy:n}=this.options,l=E.getCanvas().getLayer();if(["click","drag"].includes(e)&&l.removeEventListener(D.C9.CLICK,this.onCreateFisheye),e==="pointermove"&&l.removeEventListener(D.C9.POINTER_MOVE,this.onCreateFisheye),e==="drag"||i==="drag"||n==="drag"){l.removeEventListener(D.C9.DRAG_START,this.onDragStart),l.removeEventListener(D.C9.DRAG_END,this.onDragEnd);const O=e==="drag"?this.onDrag:i==="drag"?this.scaleRByDrag:this.scaleDByDrag;l.removeEventListener(D.C9.DRAG,O)}if(i==="wheel"||n==="wheel"){const O=i==="wheel"?this.scaleRByWheel:this.scaleDByWheel;(y=this.graphDom)===null||y===void 0||y.removeEventListener(D.C9.WHEEL,O)}}update(y){var E,e;this.unbindEvents(),super.update(y),this.r=(E=y.r)!==null&&E!==void 0?E:this.r,this.d=(e=y.d)!==null&&e!==void 0?e:this.d,this.bindEvents()}destroy(){var y;this.unbindEvents(),this.isLensOn&&((y=this.lens)===null||y===void 0||y.destroy()),this.prevMagnifiedStyleMap.clear(),this.prevOriginStyleMap.clear(),super.destroy()}}d.defaultOptions={trigger:"pointermove",r:120,d:1.5,maxD:5,minD:0,showDPercent:!0,style:{},nodeStyle:{label:!0},preventDefault:!0}},25577:function(it,w,t){"use strict";t.d(w,{i:function(){return M}});var u=t(90040),D=t(80860),p=t(1938);class M extends p.v{constructor(h,v){super(h,Object.assign({},M.defaultOptions,v)),this.$el=this.context.canvas.getContainer(),this.graphSize=[0,0],this.onFullscreenChange=()=>{var a,r,s,o;const d=!!document.fullscreenElement;this.options.autoFit&&this.setGraphSize(d),d?(r=(a=this.options).onEnter)===null||r===void 0||r.call(a):(o=(s=this.options).onExit)===null||o===void 0||o.call(s)},this.shortcut=new D.z(h.graph),this.bindEvents(),this.style=document.createElement("style"),document.head.appendChild(this.style),this.style.innerHTML=`
      :not(:root):fullscreen::backdrop {
        background: transparent;
      }
    `}bindEvents(){this.unbindEvents(),this.shortcut.unbindAll();const{request:h=[],exit:v=[]}=this.options.trigger;this.shortcut.bind(h,this.request),this.shortcut.bind(v,this.exit),["webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange"].forEach(r=>{document.addEventListener(r,this.onFullscreenChange,!1)})}unbindEvents(){this.shortcut.unbindAll(),["webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange"].forEach(v=>{document.removeEventListener(v,this.onFullscreenChange,!1)})}setGraphSize(h=!0){var v,a;let r,s;h?(r=((v=globalThis.screen)===null||v===void 0?void 0:v.width)||0,s=((a=globalThis.screen)===null||a===void 0?void 0:a.height)||0,this.graphSize=this.context.graph.getSize()):[r,s]=this.graphSize,this.context.graph.setSize(r,s),this.context.graph.render()}request(){document.fullscreenElement||!m()||this.$el.requestFullscreen().catch(h=>{u.S.warn(`Error attempting to enable full-screen: ${h.message} (${h.name})`)})}exit(){document.fullscreenElement&&document.exitFullscreen()}update(h){this.unbindEvents(),super.update(h),this.bindEvents()}destroy(){this.exit(),this.style.remove(),super.destroy()}}M.defaultOptions={trigger:{},autoFit:!0};function m(){return document.fullscreenEnabled||Reflect.get(document,"webkitFullscreenEnabled")||Reflect.get(document,"mozFullscreenEnabled")||Reflect.get(document,"msFullscreenEnabled")}},38691:function(it,w,t){"use strict";t.d(w,{G:function(){return c}});var u=t(29803),D=t(23098),p=t(26192),M=t(1938),m=t(90992);class c extends M.v{constructor(v,a){super(v,Object.assign({},c.defaultOptions,a)),this.$element=(0,m.C)("grid-line",!0),this.offset=[0,0],this.currentScale=1,this.followZoom=s=>{const{data:{scale:o,origin:d}}=s;if(!o||d===void 0&&this.context.viewport===void 0)return;const f=this.currentScale;this.currentScale=o;const y=o/f,E=(0,p.Jp)(d||this.context.graph.getCanvasCenter(),1-y),e=this.baseSize*o,i=(0,p.Jp)(this.offset,y),n=(0,p.wQ)(i,e),l=(0,p.IH)(n,E);this.$element.style.backgroundSize=`${e}px ${e}px`,this.$element.style.backgroundPosition=`${l[0]}px ${l[1]}px`,this.offset=(0,p.wQ)(l,e)},this.followTranslate=s=>{if(!this.options.follow)return;const{data:{translate:o}}=s;o&&this.updateOffset(o)},this.onTransform=s=>{const o=this.parseFollow(this.options.follow);o.zoom&&this.followZoom(s),o.translate&&this.followTranslate(s)},this.context.canvas.getContainer().prepend(this.$element),this.baseSize=this.options.size,this.updateStyle(),this.bindEvents()}update(v){super.update(v),v.size!==void 0&&(this.baseSize=v.size),this.updateStyle()}bindEvents(){const{graph:v}=this.context;v.on(D.VR.AFTER_TRANSFORM,this.onTransform)}updateStyle(){const{stroke:v,lineWidth:a,border:r,borderLineWidth:s,borderStroke:o,borderStyle:d}=this.options,f=this.baseSize*this.currentScale;Object.assign(this.$element.style,{border:r?`${s}px ${d} ${o}`:"none",backgroundImage:`linear-gradient(${v} ${a}px, transparent ${a}px), linear-gradient(90deg, ${v} ${a}px, transparent ${a}px)`,backgroundSize:`${f}px ${f}px`,backgroundRepeat:"repeat"})}updateOffset(v){const a=this.baseSize*this.currentScale;this.offset=(0,p.wQ)((0,p.IH)(this.offset,v),a),this.$element.style.backgroundPosition=`${this.offset[0]}px ${this.offset[1]}px`}parseFollow(v){var a,r;return(0,u.Z)(v)?{translate:v,zoom:v}:{translate:(a=v==null?void 0:v.translate)!==null&&a!==void 0?a:!1,zoom:(r=v==null?void 0:v.zoom)!==null&&r!==void 0?r:!1}}destroy(){this.context.graph.off(D.VR.AFTER_TRANSFORM,this.onTransform),this.$element.remove(),super.destroy()}}c.defaultOptions={border:!0,borderLineWidth:1,borderStroke:"#eee",borderStyle:"solid",lineWidth:1,size:20,stroke:"#eee"}},30634:function(it,w,t){"use strict";t.d(w,{A:function(){return h}});var u=t(80216),D=t(23098),p=t(23972),M=t(29193),m=t(1938),c=t(82051);class h extends m.v{constructor(a,r){super(a,Object.assign({},h.defaultOptions,r)),this.batchChanges=null,this.batchAnimation=!1,this.undoStack=[],this.redoStack=[],this.freezed=!1,this.executeCommand=(o,d=!0)=>{var f,y,E;this.freezed=!0,(y=(f=this.options).executeCommand)===null||y===void 0||y.call(f,o);const e=d?o.original:o.current;this.context.graph.addData(e.add),this.context.graph.updateData(e.update),this.context.graph.removeData((0,M.oI)(e.remove,!1)),(E=this.context.element)===null||E===void 0||E.draw({silence:!0,animation:o.animation}),this.freezed=!1},this.addCommand=o=>{var d;if(!this.freezed){if(o.type===D.VR.AFTER_DRAW){const{dataChanges:f=[],animation:y=!0}=o.data;if(!((d=this.context.batch)===null||d===void 0)&&d.isBatching){if(!this.batchChanges)return;this.batchChanges.push(f),this.batchAnimation&&(this.batchAnimation=y);return}this.batchChanges=[f],this.batchAnimation=y}this.undoStackPush((0,c.$)(this.batchChanges.flat(),this.batchAnimation,this.context)),this.notify(p.b.ADD,this.undoStack[this.undoStack.length-1])}},this.initBatchCommand=o=>{const{initiate:d}=o.data;this.batchAnimation=!1,d?this.batchChanges=[]:this.undoStack.pop()||(this.batchChanges=null)},this.emitter=new u.Z;const{graph:s}=this.context;s.on(D.VR.AFTER_DRAW,this.addCommand),s.on(D.VR.BATCH_START,this.initBatchCommand),s.on(D.VR.BATCH_END,this.addCommand)}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}undo(){var a,r,s,o;const d=this.undoStack.pop();if(d){if(this.executeCommand(d),((r=(a=this.options).beforeAddCommand)===null||r===void 0?void 0:r.call(a,d,!1))===!1)return;this.redoStack.push(d),(o=(s=this.options).afterAddCommand)===null||o===void 0||o.call(s,d,!1),this.notify(p.b.UNDO,d)}return this}redo(){const a=this.redoStack.pop();return a&&(this.executeCommand(a,!1),this.undoStackPush(a),this.notify(p.b.REDO,a)),this}undoAndCancel(){const a=this.undoStack.pop();return a&&(this.executeCommand(a,!1),this.redoStack=[],this.notify(p.b.CANCEL,a)),this}undoStackPush(a){var r,s,o,d;const{stackSize:f}=this.options;f!==0&&this.undoStack.length>=f&&this.undoStack.shift(),((s=(r=this.options).beforeAddCommand)===null||s===void 0?void 0:s.call(r,a,!0))!==!1&&(this.undoStack.push(a),(d=(o=this.options).afterAddCommand)===null||d===void 0||d.call(o,a,!0))}clear(){this.undoStack=[],this.redoStack=[],this.batchChanges=null,this.batchAnimation=!1,this.notify(p.b.CLEAR,null)}notify(a,r){this.emitter.emit(a,{cmd:r}),this.emitter.emit(p.b.CHANGE,{cmd:r})}on(a,r){this.emitter.on(a,r)}destroy(){const{graph:a}=this.context;a.off(D.VR.AFTER_DRAW,this.addCommand),a.off(D.VR.BATCH_START,this.initBatchCommand),a.off(D.VR.BATCH_END,this.addCommand),this.emitter.off(),super.destroy(),this.undoStack=[],this.redoStack=[]}}h.defaultOptions={stackSize:0}},82051:function(it,w,t){"use strict";t.d(w,{$:function(){return c}});var u=t(70373),D=t(69759),p=t(98478),M=t(29193);function m(h,v){for(const a in h)(0,u.Z)(h[a])&&!Array.isArray(h[a])&&h[a]!==null?(v[a]||(v[a]={}),m(h[a],v[a])):v[a]===void 0&&(v[a]=(0,D.HK)(a))}function c(h,v=!1,a){const r={animation:v,current:{add:{},update:{},remove:{}},original:{add:{},update:{},remove:{}}},{add:s,update:o,remove:d}=(0,p._)((0,p.G)(h));return["nodes","edges","combos"].forEach(f=>{o[f]&&o[f].forEach(y=>{var E,e;const i=Object.assign({},y.value);let n=Object.assign({},y.original);if(a){const l=a.graph.getElementType((0,M.jD)(y.original)),O=l==="edge"?"stroke":"fill",C=a.element.getElementComputedStyle(l,y.original);n=Object.assign(Object.assign({},y.original),{style:Object.assign({[O]:C[O]},y.original.style)})}m(i,n),(E=r.current.update)[f]||(E[f]=[]),r.current.update[f].push(i),(e=r.original.update)[f]||(e[f]=[]),r.original.update[f].push(n)}),s[f]&&s[f].forEach(y=>{var E,e;const i=Object.assign({},y.value);(E=r.current.add)[f]||(E[f]=[]),r.current.add[f].push(i),(e=r.original.remove)[f]||(e[f]=[]),r.original.remove[f].push(i)}),d[f]&&d[f].forEach(y=>{var E,e;const i=Object.assign({},y.value);(E=r.current.remove)[f]||(E[f]=[]),r.current.remove[f].push(i),(e=r.original.add)[f]||(e[f]=[]),r.original.add[f].push(i)})}),r}},95263:function(it,w,t){"use strict";t.d(w,{K:function(){return u}});const u={toXy(D,p){if(!p)return[...D];const M=p[0].slice(1),m=p[1].slice(1);return D.map(c=>[c[M],c[m]])},fromXy(D,p){if(!p)return[...D];const M=p[0].slice(1),m=p[1].slice(1);return D.map(([c,h])=>({[M]:c,[m]:h}))}}},48529:function(it,w,t){"use strict";t.d(w,{e:function(){return D}});class u{constructor(M,m){this._cells=[],this._cellSize=m,this._reverseCellSize=1/m;for(const c of M){const h=this.coordToCellNum(c[0]),v=this.coordToCellNum(c[1]);this._cells[h]||(this._cells[h]=[]),this._cells[h][v]||(this._cells[h][v]=[]),this._cells[h][v].push(c)}}cellPoints(M,m){var c;return((c=this._cells[M])===null||c===void 0?void 0:c[m])||[]}rangePoints(M){const m=this.coordToCellNum(M[0]),c=this.coordToCellNum(M[1]),h=this.coordToCellNum(M[2]),v=this.coordToCellNum(M[3]),a=[];for(let r=m;r<=h;r++)for(let s=c;s<=v;s++){const o=this.cellPoints(r,s);for(const d of o)a.push(d)}return a}removePoint(M){const m=this.coordToCellNum(M[0]),c=this.coordToCellNum(M[1]),h=this._cells[m][c],v=h.findIndex(([a,r])=>a===M[0]&&r===M[1]);return v>-1&&h.splice(v,1),h}trunc(M){return Math.trunc(M)}coordToCellNum(M){return this.trunc(M*this._reverseCellSize)}extendBbox(M,m){return[M[0]-m*this._cellSize,M[1]-m*this._cellSize,M[2]+m*this._cellSize,M[3]+m*this._cellSize]}}function D(p,M){return new u(p,M)}},3118:function(it,w,t){"use strict";t.d(w,{$:function(){return f}});var u=t(95263),D=t(48529),p=t(7631),M=t(19275);function m(e){const i=[e[0]];let n=e[0];for(let l=1;l<e.length;l++){const O=e[l];(n[0]!==O[0]||n[1]!==O[1])&&i.push(O),n=O}return i}function c(e){return e.sort(function(i,n){return i[0]-n[0]||i[1]-n[1]})}function h(e,i){return Math.pow(i[0]-e[0],2)+Math.pow(i[1]-e[1],2)}function v(e,i,n){const l=[i[0]-e[0],i[1]-e[1]],O=[n[0]-e[0],n[1]-e[1]],C=h(e,i),T=h(e,n);return(l[0]*O[0]+l[1]*O[1])/Math.sqrt(C*T)}function a(e,i){for(let n=0;n<i.length-1;n++){const l=[i[n],i[n+1]];if(!(e[0][0]===l[0][0]&&e[0][1]===l[0][1]||e[0][0]===l[1][0]&&e[0][1]===l[1][1])&&(0,M.T)(e[0],e[1],l[0],l[1]))return!0}return!1}function r(e){let i=1/0,n=1/0,l=-1/0,O=-1/0;for(let C=e.length-1;C>=0;C--)e[C][0]<i&&(i=e[C][0]),e[C][1]<n&&(n=e[C][1]),e[C][0]>l&&(l=e[C][0]),e[C][1]>O&&(O=e[C][1]);return[l-i,O-n]}function s(e){return[Math.min(e[0][0],e[1][0]),Math.min(e[0][1],e[1][1]),Math.max(e[0][0],e[1][0]),Math.max(e[0][1],e[1][1])]}function o(e,i,n){let l=null,O=y,C=y,T,P;for(let b=0;b<i.length;b++)T=v(e[0],e[1],i[b]),P=v(e[1],e[0],i[b]),T>O&&P>C&&!a([e[0],i[b]],n)&&!a([e[1],i[b]],n)&&(O=T,C=P,l=i[b]);return l}function d(e,i,n,l,O){let C=!1;for(let T=0;T<e.length-1;T++){const P=[e[T],e[T+1]],b=P[0][0]+","+P[0][1]+","+P[1][0]+","+P[1][1];if(h(P[0],P[1])<i||O.has(b))continue;let x=0,I=s(P),S,K,N;do I=l.extendBbox(I,x),S=I[2]-I[0],K=I[3]-I[1],N=o(P,l.rangePoints(I),e),x++;while(N===null&&(n[0]>S||n[1]>K));S>=n[0]&&K>=n[1]&&O.add(b),N!==null&&(e.splice(T+1,0,N),l.removePoint(N),C=!0)}return C?d(e,i,n,l,O):e}function f(e,i,n){const l=i||20,O=m(c(u.K.toXy(e,n)));if(O.length<4){const S=O.concat([O[0]]);return n?u.K.fromXy(S,n):S}const C=r(O),T=[C[0]*E,C[1]*E],P=(0,p.O)(O).reverse().map(S=>O[S]);P.push(P[0]);const b=O.filter(function(S){return P.indexOf(S)<0}),x=Math.ceil(1/(O.length/(C[0]*C[1]))),I=d(P,Math.pow(l,2),T,(0,D.e)(b,x),new Set);return n?u.K.fromXy(I,n):I}const y=Math.cos(90/(180/Math.PI)),E=.6},7631:function(it,w,t){"use strict";t.d(w,{O:function(){return p}});var u=t(49422);const D=u.Z[3];function p(M){const m=M.length;if(m<3){const s=new Array(m);for(let o=0;o<m;++o)s[o]=o;return m===2&&M[0][0]===M[1][0]&&M[0][1]===M[1][1]?[0]:s}const c=new Array(m);for(let s=0;s<m;++s)c[s]=s;c.sort((s,o)=>{const d=M[s][0]-M[o][0];return d||M[s][1]-M[o][1]});const h=[c[0],c[1]],v=[c[0],c[1]];for(let s=2;s<m;++s){const o=c[s],d=M[o];let f=h.length;for(;f>1&&D(M[h[f-2]],M[h[f-1]],d)<=0;)f-=1,h.pop();for(h.push(o),f=v.length;f>1&&D(M[v[f-2]],M[v[f-1]],d)>=0;)f-=1,v.pop();v.push(o)}const a=new Array(v.length+h.length-2);let r=0;for(let s=0,o=h.length;s<o;++s)a[r++]=h[s];for(let s=v.length-2;s>0;--s)a[r++]=v[s];return a}},49422:function(it,w,t){"use strict";var u=t(15677),D=t(56099),p=t(95411),M=t(6853);const m=5,c=11102230246251565e-32,h=(3+16*c)*c,v=(7+56*c)*c;function a(n,l,O,C){return function(P,b,x){const I=n(n(l(b[1],x[0]),l(-x[1],b[0])),n(l(P[1],b[0]),l(-b[1],P[0]))),S=n(l(P[1],x[0]),l(-x[1],P[0])),K=C(I,S);return K[K.length-1]}}function r(n,l,O,C){return function(P,b,x,I){const S=n(n(O(n(l(x[1],I[0]),l(-I[1],x[0])),b[2]),n(O(n(l(b[1],I[0]),l(-I[1],b[0])),-x[2]),O(n(l(b[1],x[0]),l(-x[1],b[0])),I[2]))),n(O(n(l(b[1],I[0]),l(-I[1],b[0])),P[2]),n(O(n(l(P[1],I[0]),l(-I[1],P[0])),-b[2]),O(n(l(P[1],b[0]),l(-b[1],P[0])),I[2])))),K=n(n(O(n(l(x[1],I[0]),l(-I[1],x[0])),P[2]),n(O(n(l(P[1],I[0]),l(-I[1],P[0])),-x[2]),O(n(l(P[1],x[0]),l(-x[1],P[0])),I[2]))),n(O(n(l(b[1],x[0]),l(-x[1],b[0])),P[2]),n(O(n(l(P[1],x[0]),l(-x[1],P[0])),-b[2]),O(n(l(P[1],b[0]),l(-b[1],P[0])),x[2])))),N=C(S,K);return N[N.length-1]}}function s(n,l,O,C){return function(P,b,x,I,S){const K=n(n(n(O(n(O(n(l(I[1],S[0]),l(-S[1],I[0])),x[2]),n(O(n(l(x[1],S[0]),l(-S[1],x[0])),-I[2]),O(n(l(x[1],I[0]),l(-I[1],x[0])),S[2]))),b[3]),n(O(n(O(n(l(I[1],S[0]),l(-S[1],I[0])),b[2]),n(O(n(l(b[1],S[0]),l(-S[1],b[0])),-I[2]),O(n(l(b[1],I[0]),l(-I[1],b[0])),S[2]))),-x[3]),O(n(O(n(l(x[1],S[0]),l(-S[1],x[0])),b[2]),n(O(n(l(b[1],S[0]),l(-S[1],b[0])),-x[2]),O(n(l(b[1],x[0]),l(-x[1],b[0])),S[2]))),I[3]))),n(O(n(O(n(l(x[1],I[0]),l(-I[1],x[0])),b[2]),n(O(n(l(b[1],I[0]),l(-I[1],b[0])),-x[2]),O(n(l(b[1],x[0]),l(-x[1],b[0])),I[2]))),-S[3]),n(O(n(O(n(l(I[1],S[0]),l(-S[1],I[0])),b[2]),n(O(n(l(b[1],S[0]),l(-S[1],b[0])),-I[2]),O(n(l(b[1],I[0]),l(-I[1],b[0])),S[2]))),P[3]),O(n(O(n(l(I[1],S[0]),l(-S[1],I[0])),P[2]),n(O(n(l(P[1],S[0]),l(-S[1],P[0])),-I[2]),O(n(l(P[1],I[0]),l(-I[1],P[0])),S[2]))),-b[3])))),n(n(O(n(O(n(l(b[1],S[0]),l(-S[1],b[0])),P[2]),n(O(n(l(P[1],S[0]),l(-S[1],P[0])),-b[2]),O(n(l(P[1],b[0]),l(-b[1],P[0])),S[2]))),I[3]),n(O(n(O(n(l(b[1],I[0]),l(-I[1],b[0])),P[2]),n(O(n(l(P[1],I[0]),l(-I[1],P[0])),-b[2]),O(n(l(P[1],b[0]),l(-b[1],P[0])),I[2]))),-S[3]),O(n(O(n(l(x[1],I[0]),l(-I[1],x[0])),b[2]),n(O(n(l(b[1],I[0]),l(-I[1],b[0])),-x[2]),O(n(l(b[1],x[0]),l(-x[1],b[0])),I[2]))),P[3]))),n(O(n(O(n(l(x[1],I[0]),l(-I[1],x[0])),P[2]),n(O(n(l(P[1],I[0]),l(-I[1],P[0])),-x[2]),O(n(l(P[1],x[0]),l(-x[1],P[0])),I[2]))),-b[3]),n(O(n(O(n(l(b[1],I[0]),l(-I[1],b[0])),P[2]),n(O(n(l(P[1],I[0]),l(-I[1],P[0])),-b[2]),O(n(l(P[1],b[0]),l(-b[1],P[0])),I[2]))),x[3]),O(n(O(n(l(b[1],x[0]),l(-x[1],b[0])),P[2]),n(O(n(l(P[1],x[0]),l(-x[1],P[0])),-b[2]),O(n(l(P[1],b[0]),l(-b[1],P[0])),x[2]))),-I[3]))))),N=n(n(n(O(n(O(n(l(I[1],S[0]),l(-S[1],I[0])),x[2]),n(O(n(l(x[1],S[0]),l(-S[1],x[0])),-I[2]),O(n(l(x[1],I[0]),l(-I[1],x[0])),S[2]))),P[3]),O(n(O(n(l(I[1],S[0]),l(-S[1],I[0])),P[2]),n(O(n(l(P[1],S[0]),l(-S[1],P[0])),-I[2]),O(n(l(P[1],I[0]),l(-I[1],P[0])),S[2]))),-x[3])),n(O(n(O(n(l(x[1],S[0]),l(-S[1],x[0])),P[2]),n(O(n(l(P[1],S[0]),l(-S[1],P[0])),-x[2]),O(n(l(P[1],x[0]),l(-x[1],P[0])),S[2]))),I[3]),O(n(O(n(l(x[1],I[0]),l(-I[1],x[0])),P[2]),n(O(n(l(P[1],I[0]),l(-I[1],P[0])),-x[2]),O(n(l(P[1],x[0]),l(-x[1],P[0])),I[2]))),-S[3]))),n(n(O(n(O(n(l(x[1],S[0]),l(-S[1],x[0])),b[2]),n(O(n(l(b[1],S[0]),l(-S[1],b[0])),-x[2]),O(n(l(b[1],x[0]),l(-x[1],b[0])),S[2]))),P[3]),O(n(O(n(l(x[1],S[0]),l(-S[1],x[0])),P[2]),n(O(n(l(P[1],S[0]),l(-S[1],P[0])),-x[2]),O(n(l(P[1],x[0]),l(-x[1],P[0])),S[2]))),-b[3])),n(O(n(O(n(l(b[1],S[0]),l(-S[1],b[0])),P[2]),n(O(n(l(P[1],S[0]),l(-S[1],P[0])),-b[2]),O(n(l(P[1],b[0]),l(-b[1],P[0])),S[2]))),x[3]),O(n(O(n(l(b[1],x[0]),l(-x[1],b[0])),P[2]),n(O(n(l(P[1],x[0]),l(-x[1],P[0])),-b[2]),O(n(l(P[1],b[0]),l(-b[1],P[0])),x[2]))),-S[3])))),z=C(K,N);return z[z.length-1]}}function o(n){return(n===3?a:n===4?r:s)(p.Y,M.Q,u.G,D.p)}const d=o(3),f=o(4),y=[function(){return 0},function(){return 0},function(l,O){return O[0]-l[0]},function(l,O,C){const T=(l[1]-C[1])*(O[0]-C[0]),P=(l[0]-C[0])*(O[1]-C[1]),b=T-P;let x;if(T>0){if(P<=0)return b;x=T+P}else if(T<0){if(P>=0)return b;x=-(T+P)}else return b;const I=h*x;return b>=I||b<=-I?b:d(l,O,C)},function(l,O,C,T){const P=l[0]-T[0],b=O[0]-T[0],x=C[0]-T[0],I=l[1]-T[1],S=O[1]-T[1],K=C[1]-T[1],N=l[2]-T[2],z=O[2]-T[2],j=C[2]-T[2],W=b*K,U=x*S,F=x*I,H=P*K,Y=P*S,V=b*I,X=N*(W-U)+z*(F-H)+j*(Y-V),$=(Math.abs(W)+Math.abs(U))*Math.abs(N)+(Math.abs(F)+Math.abs(H))*Math.abs(z)+(Math.abs(Y)+Math.abs(V))*Math.abs(j),rt=v*$;return X>rt||-X>rt?X:f(l,O,C,T)}];function E(n){let l=y[n.length];return l||(l=y[n.length]=o(n.length)),l.apply(void 0,...n)}function e(n,l,O,C,T,P,b){return function(...I){switch(I.length){case 0:case 1:return 0;case 2:return C(I[0],I[1]);case 3:return T(I[0],I[1],I[2]);case 4:return P(I[0],I[1],I[2],I[3]);case 5:return b(I[0],I[1],I[2],I[3],I[4])}return n(I)}}function i(){for(;y.length<=m;)y.push(o(y.length));const n=e(void 0,E,...y);for(let l=0;l<=m;++l)n[l]=y[l];return n}w.Z=i()},15677:function(it,w,t){"use strict";t.d(w,{G:function(){return p}});var u=t(6853),D=t(4099);function p(M,m){const c=M.length;if(c===1){const s=(0,u.Q)(M[0],m);return s[0]?s:[s[1]]}const h=new Array(2*c),v=[.1,.1],a=[.1,.1];let r=0;(0,u.Q)(M[0],m,v),v[0]&&(h[r++]=v[0]);for(let s=1;s<c;++s){(0,u.Q)(M[s],m,a);const o=v[1];(0,D.v)(o,a[0],v),v[0]&&(h[r++]=v[0]);const d=a[1],f=v[1],y=d+f,E=y-d,e=f-E;v[1]=y,e&&(h[r++]=e)}return v[1]&&(h[r++]=v[1]),r===0&&(h[r++]=0),h.length=r,h}},19275:function(it,w,t){"use strict";t.d(w,{T:function(){return p}});var u=t(49422);function D(M,m,c,h){for(let v=0;v<2;++v){const a=M[v],r=m[v],[s,o]=[Math.min(a,r),Math.max(a,r)],d=c[v],f=h[v],[y,E]=[Math.min(d,f),Math.max(d,f)];if(E<s||o<y)return!1}return!0}function p(M,m,c,h){const v=(0,u.Z)(M,c,h),a=(0,u.Z)(m,c,h);if(v>0&&a>0||v<0&&a<0)return!1;const r=(0,u.Z)(c,M,m),s=(0,u.Z)(h,M,m);return r>0&&s>0||r<0&&s<0?!1:v===0&&a===0&&r===0&&s===0?D(M,m,c,h):!0}},56099:function(it,w,t){"use strict";t.d(w,{p:function(){return D}});function u(p,M){const m=p+M,c=m-p,h=m-c,v=M-c,r=p-h+v;return r?[r,m]:[m]}function D(p,M){const m=p.length|0,c=M.length|0;if(m===1&&c===1)return u(p[0],-M[0]);const h=m+c,v=new Array(h);let a=0,r=0,s=0;const o=Math.abs;let d=p[r],f=o(d),y=-M[s],E=o(y),e,i;f<E?(i=d,r+=1,r<m&&(d=p[r],f=o(d))):(i=y,s+=1,s<c&&(y=-M[s],E=o(y))),r<m&&f<E||s>=c?(e=d,r+=1,r<m&&(d=p[r],f=o(d))):(e=y,s+=1,s<c&&(y=-M[s],E=o(y)));let n=e+i,l=n-e,O=i-l,C=O,T=n,P,b,x,I,S;for(;r<m&&s<c;)f<E?(e=d,r+=1,r<m&&(d=p[r],f=o(d))):(e=y,s+=1,s<c&&(y=-M[s],E=o(y))),i=C,n=e+i,l=n-e,O=i-l,O&&(v[a++]=O),P=T+n,b=P-T,x=P-b,I=n-b,S=T-x,C=S+I,T=P;for(;r<m;)e=d,i=C,n=e+i,l=n-e,O=i-l,O&&(v[a++]=O),P=T+n,b=P-T,x=P-b,I=n-b,S=T-x,C=S+I,T=P,r+=1,r<m&&(d=p[r]);for(;s<c;)e=y,i=C,n=e+i,l=n-e,O=i-l,O&&(v[a++]=O),P=T+n,b=P-T,x=P-b,I=n-b,S=T-x,C=S+I,T=P,s+=1,s<c&&(y=-M[s]);return C&&(v[a++]=C),T&&(v[a++]=T),a||(v[a++]=0),v.length=a,v}},95411:function(it,w,t){"use strict";t.d(w,{Y:function(){return D}});function u(p,M){const m=p+M,c=m-p,h=m-c,v=M-c,r=p-h+v;return r?[r,m]:[m]}function D(p,M){const m=p.length|0,c=M.length|0;if(m===1&&c===1)return u(p[0],M[0]);const h=m+c,v=new Array(h);let a=0,r=0,s=0;const o=Math.abs;let d=p[r],f=o(d),y=M[s],E=o(y),e,i;f<E?(i=d,r+=1,r<m&&(d=p[r],f=o(d))):(i=y,s+=1,s<c&&(y=M[s],E=o(y))),r<m&&f<E||s>=c?(e=d,r+=1,r<m&&(d=p[r],f=o(d))):(e=y,s+=1,s<c&&(y=M[s],E=o(y)));let n=e+i,l=n-e,O=i-l,C=O,T=n,P,b,x,I,S;for(;r<m&&s<c;)f<E?(e=d,r+=1,r<m&&(d=p[r],f=o(d))):(e=y,s+=1,s<c&&(y=M[s],E=o(y))),i=C,n=e+i,l=n-e,O=i-l,O&&(v[a++]=O),P=T+n,b=P-T,x=P-b,I=n-b,S=T-x,C=S+I,T=P;for(;r<m;)e=d,i=C,n=e+i,l=n-e,O=i-l,O&&(v[a++]=O),P=T+n,b=P-T,x=P-b,I=n-b,S=T-x,C=S+I,T=P,r+=1,r<m&&(d=p[r]);for(;s<c;)e=y,i=C,n=e+i,l=n-e,O=i-l,O&&(v[a++]=O),P=T+n,b=P-T,x=P-b,I=n-b,S=T-x,C=S+I,T=P,s+=1,s<c&&(y=M[s]);return C&&(v[a++]=C),T&&(v[a++]=T),a||(v[a++]=0),v.length=a,v}},6853:function(it,w,t){"use strict";t.d(w,{Q:function(){return D}});const u=+(Math.pow(2,27)+1);function D(p,M,m){const c=p*M,h=u*p,v=h-p,a=h-v,r=p-a,s=u*M,o=s-M,d=s-o,f=M-d,e=c-a*d-r*d-a*f,i=r*f-e;return m?(m[0]=i,m[1]=c,m):[i,c]}},4099:function(it,w,t){"use strict";t.d(w,{v:function(){return u}});function u(D,p,M){const m=D+p,c=m-D,h=m-c,v=p-c,a=D-h;return M?(M[0]=a+v,M[1]=m,M):[a+v,m]}},38557:function(it,w,t){"use strict";t.d(w,{L:function(){return s}});var u=t(99666),D=t(84237),p=t(23098),M=t(23618),m=t(29193),c=t(49559),h=t(1938),v=t(3118),a=t(9631),r=function(o,d){var f={};for(var y in o)Object.prototype.hasOwnProperty.call(o,y)&&d.indexOf(y)<0&&(f[y]=o[y]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var E=0,y=Object.getOwnPropertySymbols(o);E<y.length;E++)d.indexOf(y[E])<0&&Object.prototype.propertyIsEnumerable.call(o,y[E])&&(f[y[E]]=o[y[E]]);return f};class s extends h.v{constructor(d,f){super(d,Object.assign({},s.defaultOptions,f)),this.hullMemberIds=[],this.drawHull=()=>{if(!this.shape)this.shape=new M.ff({style:this.getHullStyle()}),this.context.canvas.appendChild(this.shape);else{const y=!(0,u.Z)(this.optionsCache,this.options);this.shape.update(this.getHullStyle(y))}this.optionsCache=Object.assign({},this.options)},this.updateHullPath=y=>{this.shape&&this.options.members.includes((0,m.jD)(y.data))&&this.shape.update({d:this.getHullPath(!0)})},this.getHullPath=(y=!1)=>{const{graph:E}=this.context,e=this.getMember();if(e.length===0)return"";const i=e.map(O=>E.getNodeData(O)),n=(0,v.$)(i.map(c.TA),this.options.concavity).slice(1).reverse(),l=n.flatMap(O=>i.filter(C=>(0,u.Z)((0,c.TA)(C),O)).map(m.jD));return(0,u.Z)(l,this.hullMemberIds)&&!y?this.path:(this.hullMemberIds=l,this.path=(0,a.G)(n,this.getPadding(),this.options.corner),this.path)},this.bindEvents()}bindEvents(){this.context.graph.on(p.VR.AFTER_RENDER,this.drawHull),this.context.graph.on(p.VR.AFTER_ELEMENT_UPDATE,this.updateHullPath)}unbindEvents(){this.context.graph.off(p.VR.AFTER_RENDER,this.drawHull),this.context.graph.off(p.VR.AFTER_ELEMENT_UPDATE,this.updateHullPath)}getHullStyle(d){const f=this.options,{members:y,padding:E,corner:e}=f,i=r(f,["members","padding","corner"]);return Object.assign(Object.assign({},i),{d:this.getHullPath(d)})}getPadding(){const{graph:d}=this.context;return this.hullMemberIds.reduce((y,E)=>{const{halfExtents:e}=d.getElementRenderBounds(E),i=Math.max(e[0],e[1]);return Math.max(y,i)},0)+this.options.padding}addMember(d){const f=Array.isArray(d)?d:[d];this.options.members=[...new Set([...this.options.members,...f])],this.shape.update({d:this.getHullPath()})}removeMember(d){const f=Array.isArray(d)?d:[d];this.options.members=this.options.members.filter(y=>!f.includes(y)),f.some(y=>this.hullMemberIds.includes(y))&&this.shape.update({d:this.getHullPath()})}updateMember(d){this.options.members=(0,D.Z)(d)?d(this.options.members):d,this.shape.update(this.getHullStyle(!0))}getMember(){return this.options.members}destroy(){this.unbindEvents(),this.shape.destroy(),this.hullMemberIds=[],super.destroy()}}s.defaultOptions={members:[],padding:10,corner:"rounded",concavity:1/0,fill:"lightblue",fillOpacity:.2,labelOpacity:1,stroke:"blue",strokeOpacity:.2}},9631:function(it,w,t){"use strict";t.d(w,{G:function(){return m}});var u=t(19324),D=t(38865),p=t(59268),M=t(26192);function m(s,o,d){if(s.length===1)return c(s[0],o,d);if(s.length===2)return h(s,o,d);if(s.length===3){const[f,y,E]=(0,p.JV)(s);if((0,p.cp)(f,y,E))return h([f,E],o,d)}switch(d){case"smooth":return a(s,o);case"sharp":return r(s,o);case"rounded":default:return v(s,o)}}const c=(s,o,d)=>{if(d==="sharp")return[["M",s[0]-o,s[1]-o],["L",s[0]+o,s[1]-o],["L",s[0]+o,s[1]+o],["L",s[0]-o,s[1]+o],["Z"]];const f=[o,o,0,0,0];return[["M",s[0],s[1]-o],["A",...f,s[0],s[1]+o],["A",...f,s[0],s[1]-o]]},h=(s,o,d)=>{const f=[o,o,0,0,0],y=d==="sharp"?(0,M.IH)(s[0],(0,M.bA)((0,M.Fv)((0,M.$X)(s[0],s[1])),o)):s[0],E=d==="sharp"?(0,M.IH)(s[1],(0,M.bA)((0,M.Fv)((0,M.$X)(s[1],s[0])),o)):s[1],e=(0,M.bA)((0,M.Fv)((0,M.xq)((0,M.$X)(y,E),!1)),o),i=(0,M.bA)(e,-1),n=(0,M.IH)(y,e),l=(0,M.IH)(E,e),O=(0,M.IH)(E,i),C=(0,M.IH)(y,i);return d==="sharp"?[["M",n[0],n[1]],["L",l[0],l[1]],["L",O[0],O[1]],["L",C[0],C[1]],["Z"]]:[["M",n[0],n[1]],["L",l[0],l[1]],["A",...f,O[0],O[1]],["L",C[0],C[1]],["A",...f,n[0],n[1]]]},v=(s,o)=>{const d=(0,p.JV)(s).map((i,n)=>{const l=(n-2+s.length)%s.length,O=(n-1+s.length)%s.length,C=(n+1)%s.length,T=s[l],P=s[O],b=s[C],x=(0,M.$X)(T,P),I=(0,M.$X)(P,i),S=(0,M.$X)(i,b),K=(U,F)=>(0,M.EU)(U,F,!0)<Math.PI,N=K(x,I),z=K(I,S),j=U=>(0,M.bA)((0,M.Fv)((0,M.xq)(U,!1)),o),W=j(I);return[{p:(0,M.e_)(N?(0,M.IH)(P,j(x)):(0,M.IH)(P,W)),concave:N&&P},{p:(0,M.e_)(z?(0,M.IH)(i,j(S)):(0,M.IH)(i,W)),concave:z&&i}]}),f=[o,o,0,0,0],y=d.findIndex((i,n)=>!d[(n-1+d.length)%d.length][0].concave&&!d[(n-1+d.length)%d.length][1].concave&&!i[0].concave&&!i[0].concave&&!i[1].concave),E=d.slice(y).concat(d.slice(0,y));let e=[];return E.flatMap((i,n)=>{const l=[],O=E[d.length-1];return n===0&&l.push(["M",...O[1].p]),i[0].concave?e.push(i[0].p,i[1].p):l.push(["A",...f,...i[0].p]),i[1].concave?e.unshift(i[1].p):l.push(["L",...i[1].p]),e.length===3&&(l.pop(),l.push(["C",...e.flat()]),e=[]),l})},a=(s,o)=>{const d=(0,p.JV)(s).map((f,y)=>{const E=s[(y+1)%s.length];return{p:f,v:(0,M.Fv)((0,M.$X)(E,f))}});return d.forEach((f,y)=>{const E=y>0?y-1:s.length-1,e=d[E].v,i=(0,M.Fv)((0,M.IH)(e,(0,M.bA)(f.v,(0,M.EU)(e,f.v,!0)<Math.PI?1:-1)));f.p=(0,M.IH)(f.p,(0,M.bA)(i,o))}),(0,D.Yu)(d.map(f=>f.p))},r=(s,o)=>{const f=s.map((E,e)=>{const i=s[e===0?s.length-1:e-1],n=(0,M.Uy)((0,M.bA)((0,M.Fv)((0,M.xq)((0,M.$X)(i,E),!1)),o));return[(0,M.IH)(i,n),(0,M.IH)(E,n)]}).flat();return f.map((E,e)=>{if(e%2===0)return null;const i=[f[(e-1)%f.length],f[e%f.length]],n=[f[(e+1)%f.length],f[(e+2)%f.length]];return(0,u.D)(i,n,!0)}).filter(Boolean).map((E,e)=>[e===0?"M":"L",E[0],E[1]]).concat([["Z"]])}},91572:function(it,w,t){"use strict";t.d(w,{Aq:function(){return u.A},Ay:function(){return s.A},CF:function(){return p.C},Dc:function(){return c.D},De:function(){return d.D},Dx:function(){return e.D},Gl:function(){return r.G},HV:function(){return y.H},L$:function(){return o.L},N5:function(){return f.N},VS:function(){return m.V},bP:function(){return h.b},iT:function(){return a.i},le:function(){return l.l},o8:function(){return i.o},s4:function(){return E.s},u:function(){return n.u},yO:function(){return v.y}});var u=t(13422),D=t(1938),p=t(10616),M=t(95038),m=t(61795),c=t(64313),h=t(66834),v=t(46013),a=t(25577),r=t(38691),s=t(30634),o=t(38557),d=t(4898),f=t(77304),y=t(43695),E=t(28557),e=t(29995),i=t(89098),n=t(3431),l=t(18357)},4898:function(it,w,t){"use strict";t.d(w,{D:function(){return v}});var u=t(41339),D=t(22040),p=t(84237),M=t(23098),m=t(1938),c=t(77334),h=function(a,r){var s={};for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&r.indexOf(o)<0&&(s[o]=a[o]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,o=Object.getOwnPropertySymbols(a);d<o.length;d++)r.indexOf(o[d])<0&&Object.prototype.propertyIsEnumerable.call(a,o[d])&&(s[o[d]]=a[o[d]]);return s};class v extends m.v{constructor(r,s){super(r,Object.assign({},v.defaultOptions,s)),this.typePrefix="__data__",this.draw=!1,this.fieldMap={node:new Map,edge:new Map,combo:new Map},this.selectedItems=[],this.bindEvents=()=>{const{graph:o}=this.context;o.on(M.VR.AFTER_DRAW,this.createElement)},this.changeState=(o,d)=>{const{graph:f}=this.context,{typePrefix:y}=this,E=(0,D.Z)(o,[y,"id"]),e=(0,D.Z)(o,[y,"style","labelText"]),[i]=E.split("__"),n=this.fieldMap[i].get(e)||[];f.setElementState(Object.fromEntries(n==null?void 0:n.map(l=>[l,d])))},this.click=o=>{if(this.options.trigger==="hover")return;const d=(0,D.Z)(o,[this.typePrefix,"id"]);this.selectedItems.includes(d)?(this.selectedItems=this.selectedItems.filter(f=>f!==d),this.changeState(o,[])):(this.selectedItems.push(d),this.changeState(o,"selected"))},this.mouseleave=o=>{this.options.trigger!=="click"&&(this.selectedItems=[],this.changeState(o,[]))},this.mouseenter=o=>{if(this.options.trigger==="click")return;const d=(0,D.Z)(o,[this.typePrefix,"id"]);this.selectedItems.includes(d)?this.selectedItems=this.selectedItems.filter(f=>f!==d):(this.selectedItems.push(d),this.changeState(o,"active"))},this.setFieldMap=(o,d,f)=>{if(!o)return;const y=this.fieldMap[f];if(y)if(!y.has(o))y.set(o,[d]);else{const E=y.get(o);E&&(E.push(d),y.set(o,E))}},this.getEvents=()=>({mouseenter:this.mouseenter,mouseleave:this.mouseleave,click:this.click}),this.getMarkerData=(o,d)=>{if(!o)return[];const{model:f,element:y}=this.context,{nodes:E,edges:e,combos:i}=f.getData(),n={},l=b=>(0,p.Z)(o)?o(b):o,O={node:"circle",edge:"line",combo:"rect"},C={circle:"circle",ellipse:"circle",image:"bowtie",rect:"square",star:"cross",triangle:"triangle",diamond:"diamond",cubic:"dot",line:"hyphen",polyline:"hyphen",quadratic:"hv","cubic-horizontal":"hyphen","cubic-vertical":"line"},T=(b,x)=>y==null?void 0:y.getElementComputedStyle(b,x),P=(b,x)=>{b.forEach(I=>{const{id:S}=I,K=(0,D.Z)(I,["data",l(I)]),N=(y==null?void 0:y.getElementType(x,I))||"circle",z=T(x,I),j=(x==="edge"?z==null?void 0:z.stroke:z==null?void 0:z.fill)||"#1783ff";S&&K&&K.replace(/\s+/g,"")&&(this.setFieldMap(K,S,x),n[K]||(n[K]={id:`${x}__${S}`,label:K,marker:C[N]||O[x],elementType:x,lineWidth:1,stroke:j,fill:j}))})};switch(d){case"node":P(E,"node");break;case"edge":P(e,"edge");break;case"combo":P(i,"combo");break;default:return[]}return Object.values(n)},this.createElement=()=>{if(this.draw){this.updateElement();return}const o=this.options,{width:d,height:f,nodeField:y,edgeField:E,comboField:e,trigger:i,position:n,container:l,containerStyle:O,className:C}=o,T=h(o,["width","height","nodeField","edgeField","comboField","trigger","position","container","containerStyle","className"]),P=this.getMarkerData(y,"node"),b=this.getMarkerData(E,"edge"),x=this.getMarkerData(e,"combo"),I=[...P,...x,...b],S=Object.assign({width:d,height:f,data:I,itemMarkerLineWidth:({lineWidth:z})=>z,itemMarker:({marker:z})=>z,itemMarkerStroke:({stroke:z})=>z,itemMarkerFill:({fill:z})=>z,gridCol:P.length},T,this.getEvents()),K=new u.W({className:"legend",style:S});this.category=K,this.upsertCanvas().appendChild(K),this.draw=!0},this.bindEvents()}update(r){super.update(r),this.clear(),this.createElement()}clear(){var r,s;(r=this.canvas)===null||r===void 0||r.destroy(),(s=this.container)===null||s===void 0||s.remove(),this.canvas=void 0,this.container=void 0,this.draw=!1}updateElement(){this.category&&this.category.update({itemMarkerOpacity:({id:r})=>!this.selectedItems.length||this.selectedItems.includes(r)?1:.5,itemLabelOpacity:({id:r})=>!this.selectedItems.length||this.selectedItems.includes(r)?1:.5})}upsertCanvas(){if(this.canvas)return this.canvas;const r=this.context.canvas,[s,o]=r.getSize(),{width:d=s,height:f=o,position:y,container:E,containerStyle:e,className:i}=this.options,[n,l]=(0,c.$)({width:d,height:f,graphCanvas:r,container:E,containerStyle:e,placement:y,className:"legend"});return this.container=n,i&&n.classList.add(i),this.canvas=l,this.canvas}destroy(){this.clear(),this.context.graph.off(M.VR.AFTER_DRAW,this.createElement),super.destroy()}}v.defaultOptions={position:"bottom",trigger:"hover",orientation:"horizontal",layout:"flex",itemSpacing:4,rowPadding:10,colPadding:10,itemMarkerSize:16,itemLabelFontSize:16,width:240,height:160}},77304:function(it,w,t){"use strict";t.d(w,{N:function(){return r}});var u=t(31922),D=t(83633),p=t(23098),M=t(23295),m=t(29193),c=t(17439),h=t(59268),v=t(1938),a=t(77334);class r extends v.v{constructor(f,y){super(f,Object.assign({},r.defaultOptions,y)),this.onDraw=E=>{var e;!((e=E==null?void 0:E.data)===null||e===void 0)&&e.render||this.onRender()},this.landmarkMap=new Map,this.mask=null,this.isMaskDragging=!1,this.onMaskDragStart=E=>{this.mask&&(this.isMaskDragging=!0,this.mask.setPointerCapture(E.pointerId),this.mask.addEventListener("pointermove",this.onMaskDrag),this.mask.addEventListener("pointerup",this.onMaskDragEnd),this.mask.addEventListener("pointercancel",this.onMaskDragEnd))},this.onMaskDrag=E=>{if(!this.mask||!this.isMaskDragging)return;const{size:[e,i]}=this.options,{movementX:n,movementY:l}=E,{left:O,top:C,width:T,height:P}=this.mask.style,[,,b,x]=this.maskBBox;let I=parseInt(O)+n,S=parseInt(C)+l,K=parseInt(T),N=parseInt(P);I<0&&(I=0),S<0&&(S=0),I+K>e&&(I=o(e-K,0)),S+N>i&&(S=o(i-N,0)),K<b&&(n>0?(I=o(I-n,0),K=s(K+n,e)):n<0&&(K=s(K-n,e))),N<x&&(l>0?(S=o(S-l,0),N=s(N+l,i)):l<0&&(N=s(N-l,i))),Object.assign(this.mask.style,{left:I+"px",top:S+"px",width:K+"px",height:N+"px"});const z=parseInt(O)-I,j=parseInt(C)-S;if(z===0&&j===0)return;const W=this.context.canvas.getCamera().getZoom(),U=this.canvas.getCamera().getZoom(),F=W/U;this.context.graph.translateBy([z*F,j*F],!1)},this.onMaskDragEnd=E=>{this.mask&&(this.isMaskDragging=!1,this.mask.releasePointerCapture(E.pointerId),this.mask.removeEventListener("pointermove",this.onMaskDrag),this.mask.removeEventListener("pointerup",this.onMaskDragEnd),this.mask.removeEventListener("pointercancel",this.onMaskDragEnd))},this.onTransform=(0,u.Z)(()=>{this.isMaskDragging||(this.updateMask(),this.setCamera())},32,{leading:!0}),this.setOnRender(),this.bindEvents()}update(f){this.unbindEvents(),super.update(f),"delay"in f&&this.setOnRender(),this.bindEvents()}setOnRender(){this.onRender=(0,D.Z)(()=>{this.renderMinimap(),this.renderMask()},this.options.delay)}bindEvents(){const{graph:f}=this.context;f.on(p.VR.AFTER_DRAW,this.onDraw),f.on(p.VR.AFTER_RENDER,this.onRender),f.on(p.VR.AFTER_ANIMATE,this.onRender),f.on(p.VR.AFTER_TRANSFORM,this.onTransform)}unbindEvents(){const{graph:f}=this.context;f.off(p.VR.AFTER_DRAW,this.onDraw),f.off(p.VR.AFTER_RENDER,this.onRender),f.off(p.VR.AFTER_ANIMATE,this.onRender),f.off(p.VR.AFTER_TRANSFORM,this.onTransform)}renderMinimap(){const f=this.getElements(),y=this.initCanvas();this.setShapes(y,f)}getElements(){const{filter:f}=this.options,{model:y,element:E}=this.context,e=y.getData(),i={nodes:e.nodes.filter(C=>E==null?void 0:E.getElement((0,m.jD)(C))),edges:e.edges.filter(C=>{const T=E==null?void 0:E.getElement((0,m.jD)(C));return T&&(0,M.pn)(T)}),combos:e.combos.filter(C=>E==null?void 0:E.getElement((0,m.jD)(C)))};if(!f)return i;const{nodes:n,edges:l,combos:O}=i;return{nodes:n.filter(C=>f((0,m.jD)(C),"node")),edges:l.filter(C=>f((0,m.jD)(C),"edge")),combos:O.filter(C=>f((0,m.jD)(C),"combo"))}}setShapes(f,y){const{nodes:E,edges:e,combos:i}=y,{shape:n}=this.options,{element:l}=this.context,O=(C,T)=>{const P=(0,m.jD)(C),b=l==null?void 0:l.getElement(P);if(!b)return;const x=b.getShape("key");let I;if(typeof n=="string"){const S=n;I=b.getShape(S).cloneNode()}else{const S=n(P,T,b);S===b?I=S.cloneNode(!0):I=S}I.setPosition(x.getPosition()),b.style.zIndex&&(I.style.zIndex=b.style.zIndex),I.id=b.id,f.appendChild(I)};f.removeChildren(),e.forEach(C=>O(C,"edge")),i.forEach(C=>O(C,"combo")),E.forEach(C=>O(C,"node"))}initCanvas(){const{renderer:f,size:[y,E]}=this.options;if(this.canvas){const{width:e,height:i}=this.canvas.getConfig();(y!==e||E!==i)&&this.canvas.resize(y,E),f&&this.canvas.setRenderer(f)}else{const{className:e,position:i,container:n,containerStyle:l}=this.options,[O,C]=(0,a.$)({renderer:f,width:y,height:E,placement:i,className:"minimap",container:n,containerStyle:l,graphCanvas:this.context.canvas});e&&O.classList.add(e),this.container=O,this.canvas=C}return this.setCamera(),this.canvas}createLandmark(f,y,E){const e=`${f.join(",")}-${y.join(",")}-${E}`;if(this.landmarkMap.has(e))return this.landmarkMap.get(e);const n=this.canvas.getCamera().createLandmark(e,{position:f,focalPoint:y,zoom:E});return this.landmarkMap.set(e,n),n}setCamera(){var f;const{canvas:y}=this.context,E=(f=this.canvas)===null||f===void 0?void 0:f.getCamera();if(!E)return;const{size:[e,i],padding:n}=this.options,[l,O,C,T]=(0,c.dj)(n),{min:P,max:b,center:x}=y.getBounds("elements"),I=b[0]-P[0],S=b[1]-P[1],K=e-T-O,N=i-l-C,z=K/I,j=N/S,W=Math.min(z,j),U=this.createLandmark(x,x,W);E.gotoLandmark(U,0)}get maskBBox(){const{canvas:f}=this.context,y=f.getSize(),E=f.getCanvasByViewport([0,0]),e=f.getCanvasByViewport(y),i=this.canvas.canvas2Viewport((0,h.Zv)(E)),n=this.canvas.canvas2Viewport((0,h.Zv)(e)),l=n.x-i.x,O=n.y-i.y;return[i.x,i.y,l,O]}calculateMaskBBox(){const{size:[f,y]}=this.options;let[E,e,i,n]=this.maskBBox;return E<0&&(i=s(i+E,f),E=0),e<0&&(n=s(n+e,y),e=0),E+i>f&&(i=o(f-E,0)),e+n>y&&(n=o(y-e,0)),[s(E,f),s(e,y),o(i,0),o(n,0)]}renderMask(){const{maskStyle:f}=this.options;this.mask||(this.mask=document.createElement("div"),this.mask.addEventListener("pointerdown",this.onMaskDragStart),this.mask.draggable=!0,this.mask.addEventListener("dragstart",y=>y.preventDefault&&y.preventDefault())),this.container.appendChild(this.mask),Object.assign(this.mask.style,Object.assign(Object.assign({},f),{cursor:"move",position:"absolute",pointerEvents:"auto"})),this.updateMask()}updateMask(){if(!this.mask)return;const[f,y,E,e]=this.calculateMaskBBox();Object.assign(this.mask.style,{top:y+"px",left:f+"px",width:E+"px",height:e+"px"})}destroy(){var f,y,E;this.unbindEvents(),(f=this.canvas)===null||f===void 0||f.destroy(),(y=this.mask)===null||y===void 0||y.remove(),(E=this.container)===null||E===void 0||E.remove(),super.destroy()}}r.defaultOptions={size:[240,160],shape:"key",padding:10,position:"right-bottom",maskStyle:{border:"1px solid #ddd",background:"rgba(0, 0, 0, 0.1)"},containerStyle:{border:"1px solid #ddd",background:"#fff"},delay:128};const s=(d,f)=>Math.min(d,f),o=(d,f)=>Math.max(d,f)},43695:function(it,w,t){"use strict";t.d(w,{H:function(){return a}});var u=t(81614),D=t(99666),p=t(23098),M=t(23295),m=t(26192),c=t(1938),h=function(o,d,f,y){function E(e){return e instanceof f?e:new f(function(i){i(e)})}return new(f||(f=Promise))(function(e,i){function n(C){try{O(y.next(C))}catch(T){i(T)}}function l(C){try{O(y.throw(C))}catch(T){i(T)}}function O(C){C.done?e(C.value):E(C.value).then(n,l)}O((y=y.apply(o,d||[])).next())})};const v={x1:0,y1:0,x2:0,y2:0,visibility:"hidden"};class a extends c.v{constructor(d,f){super(d,Object.assign({},a.defaultOptions,f)),this.initSnapline=()=>{const y=this.context.canvas.getLayer("transient");this.horizontalLine||(this.horizontalLine=y.appendChild(new u.x1({style:Object.assign(Object.assign({},v),this.options.horizontalLineStyle)}))),this.verticalLine||(this.verticalLine=y.appendChild(new u.x1({style:Object.assign(Object.assign({},v),this.options.verticalLineStyle)})))},this.isHorizontalSticking=!1,this.isVerticalSticking=!1,this.enableStick=!0,this.autoSnapToLine=(y,E,e)=>h(this,void 0,void 0,function*(){const{verticalX:i,horizontalY:n}=e,{tolerance:l}=this.options,{min:[O,C],max:[T,P],center:[b,x]}=E;let I=0,S=0;i!==null&&(r(T,i)<l&&(I=i-T),r(O,i)<l&&(I=i-O),r(b,i)<l&&(I=i-b),I!==0&&(this.isVerticalSticking=!0)),n!==null&&(r(P,n)<l&&(S=n-P),r(C,n)<l&&(S=n-C),r(x,n)<l&&(S=n-x),S!==0&&(this.isHorizontalSticking=!0)),(I!==0||S!==0)&&(yield this.context.graph.translateElementBy({[y]:[I,S]},!1))}),this.enableSnap=y=>{const{target:E}=y,e=.5;if(this.isHorizontalSticking||this.isVerticalSticking){const[i,n]=this.getDelta(y);if(this.isHorizontalSticking&&this.isVerticalSticking&&Math.abs(i)<=e&&Math.abs(n)<=e)return this.context.graph.translateElementBy({[E.id]:[-i,-n]},!1),!1;if(this.isHorizontalSticking&&Math.abs(n)<=e)return this.context.graph.translateElementBy({[E.id]:[0,-n]},!1),!1;if(this.isVerticalSticking&&Math.abs(i)<=e)return this.context.graph.translateElementBy({[E.id]:[-i,0]},!1),!1;this.isHorizontalSticking=!1,this.isVerticalSticking=!1,this.enableStick=!1,setTimeout(()=>{this.enableStick=!0},200)}return this.enableStick},this.calcSnaplineMetadata=(y,E)=>{const{tolerance:e,shape:i}=this.options,{min:[n,l],max:[O,C],center:[T,P]}=E;let b=null,x=null,I=null,S=null,K=null,N=null;return this.getNodes().some(z=>{if((0,D.Z)(y.id,z.id))return!1;const j=s(z,i).getRenderBounds(),{min:[W,U],max:[F,H],center:[Y,V]}=j;return b===null&&(r(Y,T)<e?b=Y:r(W,n)<e||r(W,O)<e?b=W:(r(F,O)<e||r(F,n)<e)&&(b=F),b!==null&&(x=Math.min(U,l),I=Math.max(H,C))),S===null&&(r(V,P)<e?S=V:r(U,l)<e||r(U,C)<e?S=U:(r(H,C)<e||r(H,l)<e)&&(S=H),S!==null&&(K=Math.min(W,n),N=Math.max(F,O))),b!==null&&S!==null}),{verticalX:b,verticalMinY:x,verticalMaxY:I,horizontalY:S,horizontalMinX:K,horizontalMaxX:N}},this.onDragStart=()=>{this.initSnapline()},this.onDrag=y=>h(this,void 0,void 0,function*(){const{target:E}=y;if(this.options.autoSnap&&!this.enableSnap(y))return;const e=s(E,this.options.shape).getRenderBounds(),i=this.calcSnaplineMetadata(E,e);this.hideSnapline(),(i.verticalX!==null||i.horizontalY!==null)&&this.updateSnapline(i),this.options.autoSnap&&(yield this.autoSnapToLine(E.id,e,i))}),this.onDragEnd=()=>{this.hideSnapline()},this.bindEvents()}getNodes(){var d;const{filter:f}=this.options,E=(((d=this.context.element)===null||d===void 0?void 0:d.getNodes())||[]).filter(e=>{var i;return(0,M.pn)(e)&&((i=this.context.viewport)===null||i===void 0?void 0:i.isInViewport(e.getRenderBounds()))});return f?E.filter(e=>f(e)):E}hideSnapline(){this.horizontalLine.style.visibility="hidden",this.verticalLine.style.visibility="hidden"}getLineWidth(d){const{lineWidth:f}=this.options[`${d}LineStyle`];return+(f||v.lineWidth||1)/this.context.graph.getZoom()}updateSnapline(d){const{verticalX:f,verticalMinY:y,verticalMaxY:E,horizontalY:e,horizontalMinX:i,horizontalMaxX:n}=d,[l,O]=this.context.canvas.getSize(),{offset:C}=this.options;e!==null?Object.assign(this.horizontalLine.style,{x1:C===1/0?0:i-C,y1:e,x2:C===1/0?l:n+C,y2:e,visibility:"visible",lineWidth:this.getLineWidth("horizontal")}):this.horizontalLine.style.visibility="hidden",f!==null?Object.assign(this.verticalLine.style,{x1:f,y1:C===1/0?0:y-C,x2:f,y2:C===1/0?O:E+C,visibility:"visible",lineWidth:this.getLineWidth("vertical")}):this.verticalLine.style.visibility="hidden"}getDelta(d){const f=this.context.graph.getZoom();return(0,m.cs)([d.dx,d.dy],f)}bindEvents(){return h(this,void 0,void 0,function*(){const{graph:d}=this.context;d.on(p.bG.DRAG_START,this.onDragStart),d.on(p.bG.DRAG,this.onDrag),d.on(p.bG.DRAG_END,this.onDragEnd)})}unbindEvents(){const{graph:d}=this.context;d.off(p.bG.DRAG_START,this.onDragStart),d.off(p.bG.DRAG,this.onDrag),d.off(p.bG.DRAG_END,this.onDragEnd)}destroyElements(){var d,f;(d=this.horizontalLine)===null||d===void 0||d.destroy(),(f=this.verticalLine)===null||f===void 0||f.destroy()}destroy(){this.destroyElements(),this.unbindEvents(),super.destroy()}}a.defaultOptions={tolerance:5,offset:20,autoSnap:!0,shape:"key",verticalLineStyle:{stroke:"#1783FF"},horizontalLineStyle:{stroke:"#1783FF"},filter:()=>!0};const r=(o,d)=>Math.abs(o-d),s=(o,d)=>typeof d=="function"?d(o):o.getShape(d)},28557:function(it,w,t){"use strict";t.d(w,{s:function(){return o}});var u=t(29371),D=t(83262),p=t(91984),M=t(26912),m=t(29193),c=t(17439),h=t(1938),v=t(77334),a=function(E,e,i,n){function l(O){return O instanceof i?O:new i(function(C){C(O)})}return new(i||(i=Promise))(function(O,C){function T(x){try{b(n.next(x))}catch(I){C(I)}}function P(x){try{b(n.throw(x))}catch(I){C(I)}}function b(x){x.done?O(x.value):l(x.value).then(T,P)}b((n=n.apply(E,e||[])).next())})},r=function(E,e){var i={};for(var n in E)Object.prototype.hasOwnProperty.call(E,n)&&e.indexOf(n)<0&&(i[n]=E[n]);if(E!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(E);l<n.length;l++)e.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(E,n[l])&&(i[n[l]]=E[n[l]]);return i};const s=["timestamp","time","date","datetime"];class o extends h.v{get padding(){return(0,c.dj)(this.options.padding)}constructor(e,i){super(e,Object.assign({},o.defaultOptions,i)),this.backup(),this.upsertTimebar()}play(){var e;(e=this.timebar)===null||e===void 0||e.play()}pause(){var e;(e=this.timebar)===null||e===void 0||e.pause()}forward(){var e;(e=this.timebar)===null||e===void 0||e.forward()}backward(){var e;(e=this.timebar)===null||e===void 0||e.backward()}reset(){var e;(e=this.timebar)===null||e===void 0||e.reset()}update(e){super.update(e),this.backup(),this.upsertTimebar()}backup(){this.originalData=d(this.context.graph.getData())}upsertTimebar(){const{canvas:e}=this.context,i=this.options,{onChange:n,timebarType:l,data:O,x:C,y:T,width:P,height:b,mode:x}=i,I=r(i,["onChange","timebarType","data","x","y","width","height","mode"]),S=e.getSize(),[K]=this.padding;this.upsertCanvas().ready.then(()=>{var N;const z=Object.assign(Object.assign({x:S[0]/2-P/2,y:K,onChange:j=>{const W=((0,D.Z)(j)?j:[j,j]).map(U=>(0,p.Z)(U)?U.getTime():U);this.options.mode==="modify"?this.filterElements(W):this.hiddenElements(W),n==null||n(W)}},I),{data:O.map(j=>(0,M.Z)(j)?{time:j,value:0}:j),width:P,height:b,type:l});this.timebar?this.timebar.update(z):(this.timebar=new u.s({style:z}),(N=this.canvas)===null||N===void 0||N.appendChild(this.timebar))})}upsertCanvas(){if(this.canvas)return this.canvas;const{className:e,height:i,position:n}=this.options,l=this.context.canvas,[O]=l.getSize(),[C,,T]=this.padding,[P,b]=(0,v.$)({width:O,height:i+C+T,graphCanvas:l,className:"timebar",placement:n});return this.container=P,e&&P.classList.add(e),this.canvas=b,this.canvas}filterElements(e){return a(this,void 0,void 0,function*(){var i;if(!this.originalData)return;const{elementTypes:n,getTime:l}=this.options,{graph:O,element:C}=this.context,T=d(this.originalData);n.forEach(b=>{const x=`${b}s`;T[x]=(this.originalData[x]||[]).filter(I=>{const S=l(I);return!!f(S,e)})});const P=[...T.nodes,...T.combos].map(b=>(0,m.jD)(b));T.edges=T.edges.filter(b=>{const x=b.source,I=b.target;return P.includes(x)&&P.includes(I)}),O.setData(T),yield(i=C.draw({animation:!1,silence:!0}))===null||i===void 0?void 0:i.finished})}hiddenElements(e){const{graph:i}=this.context,{elementTypes:n,getTime:l}=this.options,O=[],C=[];n.forEach(T=>{var P;const b=`${T}s`;(((P=this.originalData)===null||P===void 0?void 0:P[b])||[]).forEach(I=>{const S=(0,m.jD)(I),K=l(I);f(K,e)?C.push(S):O.push(S)})}),i.hideElement(O,!1),i.showElement(C,!1)}destroy(){var e,i,n;const{graph:l}=this.context;this.originalData&&l.setData(Object.assign({},this.originalData)),(e=this.timebar)===null||e===void 0||e.destroy(),(i=this.canvas)===null||i===void 0||i.destroy(),(n=this.container)===null||n===void 0||n.remove(),this.originalData=void 0,this.container=void 0,this.timebar=void 0,this.canvas=void 0,super.destroy()}}o.defaultOptions={position:"bottom",enable:!0,timebarType:"time",className:"g6-timebar",width:450,height:60,zIndex:3,elementTypes:["node"],padding:10,mode:"modify",getTime:E=>y(E,s,void 0),loop:!1};const d=E=>{const{nodes:e=[],edges:i=[],combos:n=[]}=E;return{nodes:[...e],edges:[...i],combos:[...n]}},f=(E,e)=>{if((0,M.Z)(e))return E===e;const[i,n]=e;return E>=i&&E<=n},y=(E,e,i)=>{var n;for(let l=0;l<e.length;l++){const O=e[l],C=(n=E.data)===null||n===void 0?void 0:n[O];if(C)return C}return i}},29995:function(it,w,t){"use strict";t.d(w,{D:function(){return f}});var u=t(23098),D=t(21344),p=t(17439),M=t(28660),m=t(1938),c=t(77334),h=function(E,e){var i={};for(var n in E)Object.prototype.hasOwnProperty.call(E,n)&&e.indexOf(n)<0&&(i[n]=E[n]);if(E!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(E);l<n.length;l++)e.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(E,n[l])&&(i[n[l]]=E[n[l]]);return i};const v={fill:"#1D2129",wordWrap:!0,maxLines:1,textOverflow:"ellipsis",textBaseline:"top",textAlign:"start",x:0},a=Object.assign(Object.assign({},v),{fillOpacity:.9,fontSize:16,fontWeight:"bold"}),r=Object.assign(Object.assign({},v),{fillOpacity:.65,fontSize:12,fontWeight:"normal"}),s={align:"left",spacing:8,size:44,padding:[16,24,0,24]},o="title",d="subtitle";class f extends m.v{get padding(){return(0,p.dj)(this.options.padding)}constructor(e,i){const n=Object.assign({},s,i);super(e,n),this.onRender=()=>{const l=this.updateCanvas();this.renderTitle(l)},this.bindEvents()}bindEvents(){const{graph:e}=this.context;e.on(u.VR.AFTER_RENDER,this.onRender),e.on(u.VR.AFTER_ANIMATE,this.onRender)}unbindEvents(){const{graph:e}=this.context;e.off(u.VR.AFTER_RENDER,this.onRender),e.off(u.VR.AFTER_ANIMATE,this.onRender)}destroy(){var e,i;this.unbindEvents(),(e=this.canvas)===null||e===void 0||e.destroy(),(i=this.container)===null||i===void 0||i.remove(),super.destroy()}updateCanvas(){const{size:e,className:i,align:n}=this.options,[l]=this.context.canvas.getSize(),[O=0,,C=0]=this.padding,T=e+O+C;if(this.canvas){const{width:P,height:b}=this.canvas.getConfig();(l!==P||T!==b)&&this.canvas.resize(l,T)}else{const P={left:"left-top",center:"top",right:"right-top"},[b,x]=(0,c.$)({width:l,height:T,placement:P[n]||P.left,className:"title-canvas",graphCanvas:this.context.canvas});i&&b.classList.add(i),this.container=b,this.canvas=x}return this.canvas}renderTitle(e){const i=new y({options:this.options,ctx:this.context});e.removeChildren(),i.getTitle().forEach(n=>{n&&e.appendChild(n)})}}class y{get padding(){return(0,p.dj)(this.options.padding)}constructor(e){const{options:i,ctx:n}=e;this.options=i,this.context=n}getTitle(){const e=this.options,i=o,n=e[i],l=d,O=e[l],{spacing:C=44,padding:T,align:P}=e,b=h(e,[typeof i=="symbol"?i:i+"",typeof l=="symbol"?l:l+"","spacing","padding","align"]),x=n,I=O,S=(0,M.zs)(b,o),K=(0,M.zs)(b,d),[N]=this.context.graph.getSize(),[z=0,j=0,,W=0]=this.padding,U=N,F=U-W-j;let H=null,Y=W,V="left";switch(P){case"left":Y=W,V="left";break;case"center":Y=U/2,V="center";break;case"right":Y=U-j,V="right";break;default:Y=W,V="left"}const X=new D._({className:o,style:Object.assign(Object.assign(Object.assign(Object.assign({},a),{wordWrapWidth:F-5,x:Y,y:z,textAlign:V}),S),{text:x})}),$=X.getBBox();return I&&(H=new D._({className:"subTitle",style:Object.assign(Object.assign(Object.assign(Object.assign({},r),{wordWrapWidth:F-5,x:Y,y:$.height+C+z,textAlign:V}),K),{text:I})})),[X,H]}}},89098:function(it,w,t){"use strict";t.d(w,{o:function(){return m}});var u=t(1938),D=t(90992),p=t(6957),M=function(c,h,v,a){function r(s){return s instanceof v?s:new v(function(o){o(s)})}return new(v||(v=Promise))(function(s,o){function d(E){try{y(a.next(E))}catch(e){o(e)}}function f(E){try{y(a.throw(E))}catch(e){o(e)}}function y(E){E.done?s(E.value):r(E.value).then(d,f)}y((a=a.apply(c,h||[])).next())})};class m extends u.v{constructor(h,v){super(h,Object.assign({},m.defaultOptions,v)),this.$element=(0,D.C)("toolbar",!1),this.onToolbarItemClick=r=>{const{onClick:s}=this.options;if(r.target instanceof Element&&r.target.className.includes("g6-toolbar-item")){const o=r.target.getAttribute("value");s==null||s(o,r.target)}};const a=this.context.canvas.getContainer();this.$element.style.display="flex",a.appendChild(this.$element),(0,D.q)("g6-toolbar-css","style",{},p.zR,document.head),(0,D.q)("g6-toolbar-svgicon","div",{display:"none"},p.px),this.$element.addEventListener("click",this.onToolbarItemClick),this.update(v)}update(h){const v=Object.create(null,{update:{get:()=>super.update}});return M(this,void 0,void 0,function*(){v.update.call(this,h);const{className:a,position:r,style:s}=this.options;this.$element.className=`g6-toolbar ${a||""}`,Object.assign(this.$element.style,s,(0,p.Hv)(r)),this.$element.innerHTML=yield this.getDOMContent()})}destroy(){this.$element.removeEventListener("click",this.onToolbarItemClick),this.$element.remove(),super.destroy()}getDOMContent(){return M(this,void 0,void 0,function*(){return(yield this.options.getItems()).map(v=>{var a;return`
          <div class="g6-toolbar-item" value="${v.value}" title="${(a=v.title)!==null&&a!==void 0?a:""}">
            <svg aria-hidden="true" focusable="false">
              <use xlink:href="#${v.id}"></use>
            </svg>
          </div>`}).join("")})}}m.defaultOptions={position:"top-left"}},6957:function(it,w,t){"use strict";t.d(w,{Hv:function(){return u},px:function(){return p},zR:function(){return D}});function u(M){const m={top:"unset",right:"unset",bottom:"unset",left:"unset"};return M.split("-").forEach(h=>{m[h]="8px"}),m.flexDirection=M.startsWith("top")||M.startsWith("bottom")?"row":"column",m}const D=`
  .g6-toolbar {
    position: absolute;
    z-index: 100;
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;
    border-radius: 4px;
    box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.1);
    opacity: 0.65;
  }
  .g6-toolbar .g6-toolbar-item {
    display: inline-block;
    width: 16px;
    height: 16px;
    padding: 4px;
    cursor: pointer;
    box-sizing: content-box;
  }

  .g6-toolbar .g6-toolbar-item:hover {
    background-color: #f0f0f0;
  }

  .g6-toolbar .g6-toolbar-item svg {
    display: inline-block;
    width: 100%;
    height: 100%;
    pointer-events: none;
  }
`,p=`
  <svg>
    <symbol id="zoom-in" viewBox="64 64 896 896">
      <path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"></path>
    </symbol>
    <symbol id="zoom-out" viewBox="64 64 896 896">
      <path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"></path>
    </symbol>
    <symbol id="edit" viewBox="64 64 896 896">
      <path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"></path>
    </symbol>
    <symbol id="delete" viewBox="64 64 896 896">
      <path d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"></path>
    </symbol>
    <symbol id="redo" viewBox="64 64 896 896">
      <path d="M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"></path>
    </symbol>
    <symbol id="undo" viewBox="64 64 896 896">
      <path d="M511.4 124C290.5 124.3 112 303 112 523.9c0 128 60.2 242 153.8 315.2l-37.5 48c-4.1 5.3-.3 13 6.3 12.9l167-.8c5.2 0 9-4.9 7.7-9.9L369.8 727a8 8 0 00-14.1-3L315 776.1c-10.2-8-20-16.7-29.3-26a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-7.5 7.5-15.3 14.5-23.4 21.2a7.93 7.93 0 00-1.2 11.1l39.4 50.5c2.8 3.5 7.9 4.1 11.4 1.3C854.5 760.8 912 649.1 912 523.9c0-221.1-179.4-400.2-400.6-399.9z"></path>
    </symbol>
    <symbol id="export" viewBox="64 64 896 896">
      <path d="M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"></path>
    </symbol>
    <symbol id="auto-fit" viewBox="64 64 896 896">
      <path d="M952 474H829.8C812.5 327.6 696.4 211.5 550 194.2V72c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v122.2C327.6 211.5 211.5 327.6 194.2 474H72c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h122.2C211.5 696.4 327.6 812.5 474 829.8V952c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V829.8C696.4 812.5 812.5 696.4 829.8 550H952c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zM512 756c-134.8 0-244-109.2-244-244s109.2-244 244-244 244 109.2 244 244-109.2 244-244 244z"></path>
      <path d="M512 392c-32.1 0-62.1 12.4-84.8 35.2-22.7 22.7-35.2 52.7-35.2 84.8s12.5 62.1 35.2 84.8C449.9 619.4 480 632 512 632s62.1-12.5 84.8-35.2C619.4 574.1 632 544 632 512s-12.5-62.1-35.2-84.8A118.57 118.57 0 00512 392z"></path>
    </symbol>
    <symbol id="reset" viewBox="64 64 896 896">
      <path d="M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"></path>
    </symbol>
    <symbol id="exit-fullscreen" viewBox="0 0 1024 1024">
      <path d="M418.13333333 361.43786666c0 0.2048-0.13653333 0.4096-0.13653334 0.68266667C417.99679999 362.32533333 418.13333333 362.53013333 418.13333333 362.73493333 418.13333333 371.54133333 414.44693333 379.392 408.78079999 385.39946666 408.43946666 385.7408 408.30293333 386.21866666 408.02986666 386.49173333c-1.09226667 1.09226667-2.59413333 1.77493333-3.82293333 2.73066667C398.40426666 393.65973333 391.64586666 396.8 383.93173333 396.8 383.72693333 396.8 383.59039999 396.73173333 383.38559999 396.73173333S382.97599999 396.8 382.77119999 396.8L112.29866666 396.8C92.50133333 396.8 76.79999999 381.50826666 76.79999999 362.66666666 76.66346666 343.89333333 92.63786666 328.53333333 112.16213333 328.53333333l189.44 0L87.44959999 114.51733333C73.59146666 100.59093333 73.25013333 78.5408 86.63039999 65.29706666c13.17546667-13.44853333 35.36213333-12.97066667 49.152 0.88746667l214.08426667 214.08426667L349.86666666 90.89706666C349.79839999 71.23626666 365.22666666 55.46666666 383.99999999 55.46666666 402.77333333 55.33013333 418.13333333 71.30453333 418.13333333 90.8288L418.13333333 361.43786666zM928.90453333 328.53333333l-189.44 0 214.15253333-214.08426667c13.85813333-13.9264 14.19946667-35.90826667 0.88746667-49.22026666-13.17546667-13.44853333-35.36213333-12.97066667-49.152 0.88746666l-214.08426667 214.08426667L691.26826666 90.89706666C691.26826666 71.23626666 675.83999999 55.46666666 657.06666666 55.46666666 638.29333333 55.33013333 622.93333333 71.30453333 622.93333333 90.8288l0 270.60906666c0 0.2048 0.13653333 0.4096 0.13653333 0.68266667C623.06986666 362.32533333 622.93333333 362.53013333 622.93333333 362.73493333 622.93333333 371.54133333 626.61973333 379.392 632.28586666 385.39946666c0.34133333 0.34133333 0.47786667 0.8192 0.8192 1.09226667 1.09226667 1.09226667 2.59413333 1.77493333 3.8912 2.73066667C642.66239999 393.65973333 649.42079999 396.8 657.13493333 396.8c0.2048 0 0.34133333-0.06826667 0.54613333-0.06826667S658.09066666 396.8 658.29546666 396.8l270.5408 0C948.56533333 396.8 964.26666666 381.50826666 964.26666666 362.66666666 964.40319999 343.89333333 948.42879999 328.53333333 928.90453333 328.53333333zM418.13333333 635.73333333c0-8.8064-3.6864-16.5888-9.35253334-22.66453333C408.43946666 612.72746666 408.30293333 612.2496 408.02986666 611.90826666 406.86933333 610.88426666 405.43573333 610.2016 404.20693333 609.24586666 398.47253333 604.80853333 391.64586666 601.6 383.93173333 601.6 383.72693333 601.6 383.59039999 601.73653333 383.38559999 601.73653333S382.97599999 601.6 382.77119999 601.6L112.29866666 601.6C92.50133333 601.6 76.79999999 616.96 76.79999999 635.73333333 76.66346666 654.50666666 92.63786666 669.86666666 112.16213333 669.86666666l189.44 0-214.15253334 214.15253334c-13.85813333 13.85813333-14.19946667 35.84-0.88746666 49.22026666 13.17546667 13.44853333 35.36213333 12.9024 49.152-0.95573333l214.08426666-214.08426667 0 189.37173334c0 19.59253333 15.42826667 35.49866667 34.2016 35.36213333C402.77333333 943.2064 418.13333333 927.232 418.13333333 907.5712L418.13333333 637.09866666c0-0.27306667-0.13653333-0.47786667-0.13653334-0.68266666C417.99679999 636.14293333 418.13333333 635.93813333 418.13333333 635.73333333zM739.46453333 669.86666666l189.44 0c19.456 0 35.49866667-15.36 35.36213333-34.13333333C964.26666666 616.96 948.56533333 601.6 928.76799999 601.6L658.29546666 601.6C658.09066666 601.6 657.88586666 601.73653333 657.68106666 601.73653333S657.33973333 601.6 657.13493333 601.6C649.42079999 601.6 642.59413333 604.80853333 636.85973333 609.24586666 635.63093333 610.2016 634.19733333 610.88426666 633.03679999 611.90826666 632.76373333 612.2496 632.62719999 612.72746666 632.28586666 613.0688 626.61973333 619.14453333 622.93333333 626.92693333 622.93333333 635.73333333c0 0.2048 0.13653333 0.4096 0.13653333 0.68266667C623.06986666 636.6208 622.93333333 636.8256 622.93333333 637.09866666l0 270.5408C622.93333333 927.232 638.29333333 943.2064 657.06666666 942.93333333c18.77333333 0.13653333 34.2016-15.70133333 34.2016-35.36213333l0-189.37173334 214.08426667 214.08426667c13.78986667 13.85813333 35.90826667 14.40426667 49.152 0.95573333 13.312-13.312 12.97066667-35.36213333-0.88746667-49.22026666L739.46453333 669.86666666z"  ></path></symbol>
    <symbol id="request-fullscreen" viewBox="0 0 1024 1024">
      <path d="M69.818182 87.598545v273.128728a34.909091 34.909091 0 0 0 69.818182 0V163.653818l221.928727 222.021818a33.512727 33.512727 0 0 0 47.383273-47.383272L186.926545 116.363636h197.073455a34.909091 34.909091 0 0 0 0-69.818181H110.871273C85.364364 46.545455 69.818182 59.671273 69.818182 87.598545zM938.542545 46.545455H665.413818a34.909091 34.909091 0 0 0 0 69.818181h197.073455L640.465455 338.292364a33.512727 33.512727 0 0 0 47.383272 47.383272l221.928728-222.021818v197.073455a34.909091 34.909091 0 0 0 69.818181 0V87.598545c0-27.927273-15.453091-41.053091-40.96-41.05309z m-827.671272 907.636363h273.128727a34.909091 34.909091 0 0 0 0-69.818182H186.926545l222.021819-221.928727a33.512727 33.512727 0 0 0-47.383273-47.383273L139.636364 837.073455V640a34.909091 34.909091 0 0 0-69.818182 0v273.128727c0 27.927273 15.546182 41.053091 41.053091 41.053091z m868.724363-41.053091V640a34.909091 34.909091 0 0 0-69.818181 0v197.073455L687.941818 615.051636a33.512727 33.512727 0 0 0-47.383273 47.383273L862.487273 884.363636H665.413818a34.909091 34.909091 0 0 0 0 69.818182h273.128727c25.6 0 41.053091-13.125818 41.053091-41.053091z"  ></path></symbol>
  </svg>
`},3431:function(it,w,t){"use strict";t.d(w,{u:function(){return c}});var u=t(8701),D=t(22040),p=t(23295),M=t(1938),m=function(h,v,a,r){function s(o){return o instanceof a?o:new a(function(d){d(o)})}return new(a||(a=Promise))(function(o,d){function f(e){try{E(r.next(e))}catch(i){d(i)}}function y(e){try{E(r.throw(e))}catch(i){d(i)}}function E(e){e.done?o(e.value):s(e.value).then(f,y)}E((r=r.apply(h,v||[])).next())})};class c extends M.v{constructor(v,a){super(v,Object.assign({},c.defaultOptions,a)),this.currentTarget=null,this.tooltipElement=null,this.container=null,this.isEnable=(r,s)=>{const{enable:o}=this.options;return typeof o=="function"?o(r,s):o},this.onClick=r=>{const{target:{id:s}}=r;this.currentTarget===s?this.hide(r):this.show(r)},this.onPointerMove=r=>{const{target:s}=r;!this.currentTarget||s.id===this.currentTarget||this.show(r)},this.onPointerLeave=r=>{this.hide(r)},this.onCanvasMove=r=>{this.hide(r)},this.onPointerOver=r=>{this.show(r)},this.showById=r=>m(this,void 0,void 0,function*(){const s={target:{id:r}};yield this.show(s)}),this.getElementData=(r,s)=>{const{model:o}=this.context;switch(s){case"node":return o.getNodeData([r]);case"edge":return o.getEdgeData([r]);case"combo":return o.getComboData([r]);default:return[]}},this.show=r=>m(this,void 0,void 0,function*(){var s,o;const{client:d,target:{id:f}}=r;if((0,p.xE)(r.target))return;const y=this.context.graph.getElementType(f),{getContent:E,title:e}=this.options,i=this.getElementData(f,y);if(!this.tooltipElement||!this.isEnable(r,i))return;let n={};if(E){if(n.content=yield E(r,i),!n.content)return}else{const C=this.context.graph.getElementRenderStyle(f),T=y==="node"?C.fill:C.stroke;n={title:e||y,data:i.map(P=>({name:"ID",value:P.id||`${P.source} -> ${P.target}`,color:T}))}}this.currentTarget=f;let l,O;if(d)l=d.x,O=d.y;else{const C=(0,D.Z)(i,"0.style",{x:0,y:0});l=C.x,O=C.y}(o=(s=this.options).onOpenChange)===null||o===void 0||o.call(s,!0),this.tooltipElement.update(Object.assign(Object.assign(Object.assign({},this.tooltipStyleProps),{x:l,y:O,style:{".tooltip":{visibility:"visible"}}}),n))}),this.hide=r=>{var s,o,d,f,y;if(!r){(o=(s=this.options).onOpenChange)===null||o===void 0||o.call(s,!1),(d=this.tooltipElement)===null||d===void 0||d.hide(),this.currentTarget=null;return}if(!this.tooltipElement||!this.currentTarget)return;const{client:{x:E,y:e}}=r;(y=(f=this.options).onOpenChange)===null||y===void 0||y.call(f,!1),this.tooltipElement.hide(E,e),this.currentTarget=null},this.initTooltip=()=>{var r;const s=new u.u({className:"tooltip",style:this.tooltipStyleProps});return(r=this.container)===null||r===void 0||r.appendChild(s.HTMLTooltipElement),s},this.render(),this.bindEvents()}getEvents(){return this.options.trigger==="click"?{"node:click":this.onClick,"edge:click":this.onClick,"combo:click":this.onClick,"canvas:click":this.onPointerLeave,contextmenu:this.onPointerLeave,drag:this.onPointerLeave}:{"node:pointerover":this.onPointerOver,"node:pointermove":this.onPointerMove,"canvas:pointermove":this.onCanvasMove,"edge:pointerover":this.onPointerOver,"edge:pointermove":this.onPointerMove,"combo:pointerover":this.onPointerOver,"combo:pointermove":this.onPointerMove,contextmenu:this.onPointerLeave,"node:drag":this.onPointerLeave}}update(v){var a;this.unbindEvents(),super.update(v),this.tooltipElement&&((a=this.container)===null||a===void 0||a.removeChild(this.tooltipElement.HTMLTooltipElement)),this.tooltipElement=this.initTooltip(),this.bindEvents()}render(){const{canvas:v}=this.context,a=v.getContainer();a&&(this.container=a,this.tooltipElement=this.initTooltip())}unbindEvents(){const{graph:v}=this.context,a=this.getEvents();Object.keys(a).forEach(r=>{v.off(r,a[r])})}bindEvents(){const{graph:v}=this.context,a=this.getEvents();Object.keys(a).forEach(r=>{v.on(r,a[r])})}get tooltipStyleProps(){const{canvas:v}=this.context,{center:a}=v.getBounds(),r=v.getContainer(),{top:s,left:o}=r.getBoundingClientRect(),{style:d,position:f,enterable:y,container:E={x:-o,y:-s},title:e,offset:i}=this.options,[n,l]=a,[O,C]=v.getSize();return{x:n,y:l,container:E,title:e,bounding:{x:0,y:0,width:O,height:C},position:f,enterable:y,offset:i,style:d}}destroy(){var v;this.unbindEvents(),this.tooltipElement&&((v=this.container)===null||v===void 0||v.removeChild(this.tooltipElement.HTMLTooltipElement)),super.destroy()}}c.defaultOptions={trigger:"hover",position:"top-right",enterable:!1,enable:!0,offset:[10,10],style:{".tooltip":{visibility:"hidden"}}}},77334:function(it,w,t){"use strict";t.d(w,{$:function(){return m}});var u=t(81614),D=t(61075),p=t(73543),M=t(90992);function m(v){const{width:a,height:r,renderer:s}=v,o=c(v),d=new u.Xz({width:a,height:r,container:o,renderer:s||new D.Th});return[o,d]}function c(v){var a;const{container:r,className:s,graphCanvas:o}=v;if(r)return typeof r=="string"?document.getElementById(r):r;const d=(0,M.C)(s,!1),{width:f,height:y,containerStyle:E}=v,[e,i]=h(v);return Object.assign(d.style,Object.assign({position:"absolute",left:e+"px",top:i+"px",width:f+"px",height:y+"px"},E)),(a=o.getContainer())===null||a===void 0||a.appendChild(d),d}function h(v){const{width:a,height:r,placement:s,graphCanvas:o}=v,[d,f]=o.getSize(),[y,E]=(0,p.X)(s);return[y*(d-a),E*(f-r)]}},90992:function(it,w,t){"use strict";t.d(w,{C:function(){return u},q:function(){return D}});function u(p,M=!0,m){const c=document.createElement("div");return c.setAttribute("class",`g6-${p}`),Object.assign(c.style,{position:"absolute",display:"block"}),M&&Object.assign(c.style,{position:"unset",gridArea:"1 / 1 / 2 / 2",inset:"0px",height:"100%",width:"100%",overflow:"hidden",pointerEvents:"none"}),m&&Object.assign(c.style,m),c}function D(p,M="div",m={},c="",h=document.body){const v=document.getElementById(p);v&&v.remove();const a=document.createElement(M);return a.innerHTML=c,a.id=p,Object.assign(a.style,m),h.appendChild(a),a}},18357:function(it,w,t){"use strict";t.d(w,{l:function(){return c}});var u=t(1938),D=t(90992),p=t(59252),M=function(h,v,a,r){function s(o){return o instanceof a?o:new a(function(d){d(o)})}return new(a||(a=Promise))(function(o,d){function f(e){try{E(r.next(e))}catch(i){d(i)}}function y(e){try{E(r.throw(e))}catch(i){d(i)}}function E(e){e.done?o(e.value):s(e.value).then(f,y)}E((r=r.apply(h,v||[])).next())})},m=function(h,v){var a={};for(var r in h)Object.prototype.hasOwnProperty.call(h,r)&&v.indexOf(r)<0&&(a[r]=h[r]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(h);s<r.length;s++)v.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(h,r[s])&&(a[r[s]]=h[r[s]]);return a};class c extends u.v{constructor(v,a){super(v,Object.assign({},c.defaultOptions,a)),this.$element=(0,D.C)("watermark"),this.context.canvas.getContainer().appendChild(this.$element),this.update(a)}update(v){const a=Object.create(null,{update:{get:()=>super.update}});return M(this,void 0,void 0,function*(){a.update.call(this,v);const r=this.options,{width:s,height:o,text:d,imageURL:f}=r,y=m(r,["width","height","text","imageURL"]);Object.keys(y).forEach(e=>{e.startsWith("background")&&(this.$element.style[e]=v[e])});const E=f?yield(0,p.a)(s,o,f,y):yield(0,p.h)(s,o,d,y);this.$element.style.backgroundImage=`url(${E})`})}destroy(){super.destroy(),this.$element.remove()}}c.defaultOptions={width:200,height:100,opacity:.2,rotate:Math.PI/12,text:"",textFill:"#000",textFontSize:16,textAlign:"center",textBaseline:"middle",backgroundRepeat:"repeat"}},59252:function(it,w,t){"use strict";t.d(w,{a:function(){return m},h:function(){return M}});var u=function(c,h,v,a){function r(s){return s instanceof v?s:new v(function(o){o(s)})}return new(v||(v=Promise))(function(s,o){function d(E){try{y(a.next(E))}catch(e){o(e)}}function f(E){try{y(a.throw(E))}catch(e){o(e)}}function y(E){E.done?s(E.value):r(E.value).then(d,f)}y((a=a.apply(c,h||[])).next())})};let D;function p(c,h){return D||(D=document.createElement("canvas")),D.width=c,D.height=h,D.getContext("2d").clearRect(0,0,c,h),D}function M(c,h,v,a){return u(this,void 0,void 0,function*(){const r=p(c,h),s=r.getContext("2d"),{rotate:o,opacity:d,textFill:f,textFontSize:y,textFontFamily:E,textFontVariant:e,textFontWeight:i,textAlign:n,textBaseline:l}=a;return s.textAlign=n,s.textBaseline=l,s.translate(c/2,h/2),s.font=`${y}px ${E} ${e} ${i}`,o&&s.rotate(o),d&&(s.globalAlpha=d),f&&(s.fillStyle=f,s.fillText(`${v}`,0,0)),r.toDataURL()})}function m(c,h,v,a){return u(this,void 0,void 0,function*(){const r=p(c,h),s=r.getContext("2d"),{rotate:o,opacity:d}=a;o&&s.rotate(o),d&&(s.globalAlpha=d);const f=new Image;return f.crossOrigin="anonymous",f.src=v,new Promise(y=>{f.onload=function(){const E=c>f.width?(c-f.width)/2:0,e=h>f.height?(h-f.height)/2:0;s.drawImage(f,0,0,f.width,f.height,E,e,c-E*2,h-e*2),y(r.toDataURL())}})})}},97519:function(it,w,t){"use strict";var u=t(92791);(0,u.a)()},92791:function(it,w,t){"use strict";t.d(w,{a:function(){return d}});var u=t(81614),D=t(96057),p=t(26990),M=t(2790),m=t(23618),c=t(4709),h=t(7007),v=t(91572),a=t(25439),r=t(24469),s=t(2071);const o={animation:{"combo-collapse":D.b4,"combo-expand":D.fj,"node-collapse":D.FW,"node-expand":D.JC,"path-in":D.s6,"path-out":D.es,fade:D.pT,translate:D.vN},behavior:{"brush-select":p._e,"click-select":p.BB,"collapse-expand":p.yZ,"create-edge":p.PZ,"drag-canvas":p.Uo,"drag-element-force":p.Fg,"drag-element":p.QG,"fix-element-size":p.xD,"focus-element":p.gs,"hover-activate":p.Wp,"lasso-select":p.Iz,"auto-adapt-label":p.nC,"optimize-viewport-transform":p.U$,"scroll-canvas":p.DJ,"zoom-canvas":p.CE},combo:{circle:M.DH,rect:M.aM},edge:{cubic:M.Ll,line:M.x1,polyline:M.aH,quadratic:M.Ab,"cubic-horizontal":M.kQ,"cubic-radial":M.ZJ,"cubic-vertical":M.ls},layout:{"antv-dagre":c.b8,"combo-combined":c.uR,"compact-box":c.V,"d3-force":c.jA,"force-atlas2":c.E9,circular:c.SB,concentric:c.W1,dagre:c.Vq,dendrogram:c.WH,fishbone:c.mf,force:c.y7,fruchterman:c.O2,grid:c.Me,indented:c.eb,mds:c.AI,mindmap:c.F0,radial:c.D4,random:c._5,snake:c.dt},node:{circle:M.Cd,diamond:M.tv,ellipse:M.Pj,hexagon:M.NJ,html:M.k9,image:M.Ee,rect:M.UL,star:M.Ux,donut:M.yi,triangle:M.CJ},palette:{spectral:h.uN,tableau:h.JL,oranges:h.Fd,greens:h.WO,blues:h.PJ},theme:{dark:a._,light:a.R},plugin:{"bubble-sets":v.CF,"edge-bundling":v.Dc,"edge-filter-lens":v.bP,"grid-line":v.Gl,background:v.Aq,contextmenu:v.VS,fisheye:v.yO,fullscreen:v.iT,history:v.Ay,hull:v.L$,legend:v.De,minimap:v.N5,snapline:v.HV,timebar:v.s4,title:v.Dx,toolbar:v.o8,tooltip:v.u,watermark:v.le},transform:{"arrange-draw-order":r.tX,"collapse-expand-combo":r.jm,"collapse-expand-node":r.wP,"get-edge-actual-ends":r.vi,"map-node-size":r.to,"place-radial-labels":r.tN,"process-parallel-edges":r.nA,"update-related-edges":r.Co},shape:{circle:u.Cd,ellipse:u.Pj,group:u.ZA,html:u.k9,image:m.Ee,line:u.x1,path:u.y$,polygon:u.mg,polyline:u.aH,rect:u.UL,text:u.xv,label:m.__,badge:m.Ct}};function d(){Object.entries(o).forEach(([f,y])=>{Object.entries(y).forEach(([E,e])=>{(0,s.z)(f,E,e)})})}},30054:function(it,w,t){"use strict";t.d(w,{G:function(){return m},j:function(){return c}});var u=t(26898),D=t(63183),p=t(90040),M=t(15186);class m{constructor(v){this.extensions=[],this.extensionMap={},this.context=v}setExtensions(v){const a=(0,D.r)(this.context.graph,this.category,v),{enter:r,update:s,exit:o,keep:d}=(0,u.t)(this.extensions,a,f=>f.key);this.createExtensions(r),this.updateExtensions([...s,...d]),this.destroyExtensions(o),this.extensions=a}createExtension(v){const{category:a}=this,{key:r,type:s}=v,o=(0,M.R)(a,s);if(!o)return p.S.warn(`The extension ${s} of ${a} is not registered.`);const d=new o(this.context,v);d.initialized=!0,this.extensionMap[r]=d}createExtensions(v){v.forEach(a=>this.createExtension(a))}updateExtension(v){const{key:a}=v,r=this.extensionMap[a];r&&r.update(v)}updateExtensions(v){v.forEach(a=>this.updateExtension(a))}destroyExtension(v){const a=this.extensionMap[v];a&&(a.initialized&&!a.destroyed&&a.destroy(),delete this.extensionMap[v])}destroyExtensions(v){v.forEach(({key:a})=>this.destroyExtension(a))}destroy(){this.destroyExtensions(this.extensions),this.context={},this.extensions=[],this.extensionMap={}}}class c{constructor(v,a){this.events=[],this.initialized=!1,this.destroyed=!1,this.context=v,this.options=a}update(v){this.options=Object.assign(this.options,v)}destroy(){this.context={},this.options={},this.destroyed=!0}}},15186:function(it,w,t){"use strict";t.d(w,{R:function(){return D}});var u=t(21338);function D(M,m){var c;const h=(c=u.S[M])===null||c===void 0?void 0:c[m];if(h)return h}function p(M){return EXTENSION_REGISTRY[M]}},2071:function(it,w,t){"use strict";t.d(w,{z:function(){return p}});var u=t(90040),D=t(21338);function p(M,m,c){D.S[M][m]&&u.S.warn(`The extension ${m} of ${M} has been registered before, and will be overridden.`),Object.assign(D.S[M],{[m]:c})}},21338:function(it,w,t){"use strict";t.d(w,{S:function(){return u}});const u={animation:{},behavior:{},combo:{},edge:{},layout:{},node:{},palette:{},theme:{},plugin:{},transform:{},shape:{}}},43155:function(it,w,t){"use strict";t.d(w,{f:function(){return M}});var u=t(57e3),D=t(69759),p=t(32794);class M{constructor(c){this.tasks=[],this.animations=new Set,this.context=c}getTasks(){const c=[...this.tasks];return this.tasks=[],c}add(c,h){this.tasks.push([c,h])}animate(c,h,v){var a,r,s;(a=h==null?void 0:h.before)===null||a===void 0||a.call(h);const o=this.getTasks().map(([f,y])=>{var E,e,i;const{element:n,elementType:l,stage:O}=f,C=(0,D.tI)(this.context.options,l,O,c);(E=y==null?void 0:y.before)===null||E===void 0||E.call(y);const T=C.length?(0,u.L)(n,this.inferStyle(f,v),C):null;return T?((e=y==null?void 0:y.beforeAnimate)===null||e===void 0||e.call(y,T),T.finished.then(()=>{var P,b;(P=y==null?void 0:y.afterAnimate)===null||P===void 0||P.call(y,T),(b=y==null?void 0:y.after)===null||b===void 0||b.call(y),this.animations.delete(T)})):(i=y==null?void 0:y.after)===null||i===void 0||i.call(y),T}).filter(Boolean);o.forEach(f=>this.animations.add(f));const d=(0,D.zt)(o);return d?((r=h==null?void 0:h.beforeAnimate)===null||r===void 0||r.call(h,d),d.finished.then(()=>{var f,y;(f=h==null?void 0:h.afterAnimate)===null||f===void 0||f.call(h,d),(y=h==null?void 0:h.after)===null||y===void 0||y.call(h),this.release()})):(s=h==null?void 0:h.after)===null||s===void 0||s.call(h),d}inferStyle(c,h){var v,a;const{element:r,elementType:s,stage:o,originalStyle:d,updatedStyle:f={}}=c;c.modifiedStyle||(c.modifiedStyle=Object.assign(Object.assign({},d),f));const{modifiedStyle:y}=c,E={},e={};if(o==="enter")Object.assign(E,{opacity:0});else if(o==="exit")Object.assign(e,{opacity:0});else if(o==="show")Object.assign(E,{opacity:0}),Object.assign(e,{opacity:(v=(0,p.ZJ)(r,"opacity"))!==null&&v!==void 0?v:(0,D.HK)("opacity")});else if(o==="hide")Object.assign(E,{opacity:(a=(0,p.ZJ)(r,"opacity"))!==null&&a!==void 0?a:(0,D.HK)("opacity")}),Object.assign(e,{opacity:0});else if(o==="collapse"){const{collapse:i}=h||{},{target:n,descendants:l,position:O}=i;if(s==="node"){if(l.includes(r.id)){const[C,T,P]=O;Object.assign(e,{x:C,y:T,z:P})}}else if(s==="combo"){if(r.id===n||l.includes(r.id)){const[C,T]=O;Object.assign(e,{x:C,y:T,childrenNode:d.childrenNode})}}else s==="edge"&&Object.assign(e,{sourceNode:y.sourceNode,targetNode:y.targetNode})}else if(o==="expand"){const{expand:i}=h||{},{target:n,descendants:l,position:O}=i;if(s==="node"){if(r.id===n||l.includes(r.id)){const[C,T,P]=O;Object.assign(E,{x:C,y:T,z:P})}}else if(s==="combo"){if(r.id===n||l.includes(r.id)){const[C,T,P]=O;Object.assign(E,{x:C,y:T,z:P,childrenNode:y.childrenNode})}}else s==="edge"&&Object.assign(E,{sourceNode:y.sourceNode,targetNode:y.targetNode})}return[Object.keys(E).length>0?Object.assign({},d,E):d,Object.keys(e).length>0?Object.assign({},y,e):y]}stop(){this.animations.forEach(c=>c.cancel())}clear(){this.tasks=[]}release(){var c,h;const{canvas:v}=this.context,a=(h=(c=v.document)===null||c===void 0?void 0:c.timeline)===null||h===void 0?void 0:h.animationsWithPromises;a&&(v.document.timeline.animationsWithPromises=a.filter(r=>r.playState!=="finished"))}destroy(){this.stop(),this.animations.clear(),this.tasks=[]}}},57313:function(it,w,t){"use strict";t.d(w,{q:function(){return p}});var u=t(23098),D=t(1306);class p{constructor(m){this.batchCount=0,this.context=m}emit(m){const{graph:c}=this.context;c.emit(m.type,m)}startBatch(m=!0){this.batchCount++,this.batchCount===1&&this.emit(new D.I9(u.VR.BATCH_START,{initiate:m}))}endBatch(){this.batchCount--,this.batchCount===0&&this.emit(new D.I9(u.VR.BATCH_END))}get isBatching(){return this.batchCount>0}destroy(){this.context=null}}},28301:function(it,w,t){"use strict";t.d(w,{g:function(){return m}});var u=t(23098),D=t(30054),p=t(23295),M=t(1306);class m extends D.G{constructor(h){super(h),this.currentTarget=null,this.currentTargetType=null,this.category="behavior",this.forwardCanvasEvents=v=>{const{target:a}=v,r=(0,M.Xy)(a);if(!r)return;const{graph:s,canvas:o}=this.context,{type:d,element:f}=r;if("destroyed"in f&&((0,p.xE)(f)||f.destroyed))return;const{type:y,detail:E,button:e}=v,i=Object.assign(Object.assign({},v),{target:f,targetType:d,originalTarget:a});y===u.C9.POINTER_MOVE&&(this.currentTarget!==f&&(this.currentTarget&&s.emit(`${this.currentTargetType}:${u.C9.POINTER_LEAVE}`,Object.assign(Object.assign({},i),{type:u.C9.POINTER_LEAVE,target:this.currentTarget,targetType:this.currentTargetType})),f&&(Object.assign(i,{type:u.C9.POINTER_ENTER}),s.emit(`${d}:${u.C9.POINTER_ENTER}`,i))),this.currentTarget=f,this.currentTargetType=d),y===u.C9.CLICK&&e===2||(s.emit(`${d}:${y}`,i),s.emit(y,i)),y===u.C9.CLICK&&E===2&&(Object.assign(i,{type:u.C9.DBLCLICK}),s.emit(`${d}:${u.C9.DBLCLICK}`,i),s.emit(u.C9.DBLCLICK,i)),y===u.C9.POINTER_DOWN&&e===2&&(Object.assign(i,{type:u.C9.CONTEXT_MENU,preventDefault:()=>{var n;(n=o.getContainer())===null||n===void 0||n.addEventListener(u.C9.CONTEXT_MENU,l=>l.preventDefault(),{once:!0})}}),s.emit(`${d}:${u.C9.CONTEXT_MENU}`,i),s.emit(u.C9.CONTEXT_MENU,i))},this.forwardContainerEvents=v=>{this.context.graph.emit(v.type,v)},this.forwardEvents(),this.setBehaviors(this.context.options.behaviors||[])}setBehaviors(h){this.setExtensions(h)}forwardEvents(){const h=this.context.canvas.getContainer();h&&[u.WG.KEY_DOWN,u.WG.KEY_UP].forEach(a=>{h.addEventListener(a,this.forwardContainerEvents)});const v=this.context.canvas.document;v&&[u.C9.CLICK,u.C9.DBLCLICK,u.C9.POINTER_OVER,u.C9.POINTER_LEAVE,u.C9.POINTER_ENTER,u.C9.POINTER_MOVE,u.C9.POINTER_OUT,u.C9.POINTER_DOWN,u.C9.POINTER_UP,u.C9.CONTEXT_MENU,u.C9.DRAG_START,u.C9.DRAG,u.C9.DRAG_END,u.C9.DRAG_ENTER,u.C9.DRAG_OVER,u.C9.DRAG_LEAVE,u.C9.DROP,u.C9.WHEEL].forEach(a=>{v.addEventListener(a,this.forwardCanvasEvents)})}destroy(){const h=this.context.canvas.getContainer();h&&[u.WG.KEY_DOWN,u.WG.KEY_UP].forEach(v=>{h.removeEventListener(v,this.forwardContainerEvents)}),this.context.canvas.document.removeAllEventListeners(),super.destroy()}}},33132:function(it,w,t){"use strict";t.d(w,{X:function(){return o}});var u=t(81614),D=t(61075),p=t(15403),M=t(39559),m=t(52877),c=t(59268),h=function(y,E,e,i){function n(l){return l instanceof e?l:new e(function(O){O(l)})}return new(e||(e=Promise))(function(l,O){function C(b){try{P(i.next(b))}catch(x){O(x)}}function T(b){try{P(i.throw(b))}catch(x){O(x)}}function P(b){b.done?l(b.value):n(b.value).then(C,T)}P((i=i.apply(y,E||[])).next())})},v=function(y,E){var e={};for(var i in y)Object.prototype.hasOwnProperty.call(y,i)&&E.indexOf(i)<0&&(e[i]=y[i]);if(y!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(y);n<i.length;n++)E.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(y,i[n])&&(e[i[n]]=y[i[n]]);return e};const a=["main"],r=["background","main","label","transient"];function s(y){return y.main}class o{getConfig(){return this.config}getLayer(E="main"){return this.extends.layers[E]||s(this.getLayers())}getLayers(){return this.extends.layers}getRenderer(E){return this.extends.renderers[E]}getCamera(E="main"){return this.getLayer(E).getCamera()}getRoot(E="main"){return this.getLayer(E).getRoot()}getContextService(E="main"){return this.getLayer(E).getContextService()}setCursor(E){this.config.cursor=E,this.getLayer().setCursor(E)}get document(){return this.getLayer().document}get context(){return this.getLayer().context}constructor(E){this.config={enableMultiLayer:!0},Object.assign(this.config,E);const e=this.config,{renderer:i,background:n,cursor:l,enableMultiLayer:O}=e,C=v(e,["renderer","background","cursor","enableMultiLayer"]),T=O?r:a,P=d(i,T),b=Object.fromEntries(T.map(x=>{const I=new u.Xz(Object.assign(Object.assign({},C),{supportsMutipleCanvasesInOneContainer:O,renderer:P[x],background:O?x==="background"?n:void 0:n}));return[x,I]}));f(b),this.extends={config:this.config,renderer:i,renderers:P,layers:b}}get ready(){return Promise.all(Object.entries(this.getLayers()).map(([,E])=>E.ready))}resize(E,e){Object.assign(this.extends.config,{width:E,height:e}),Object.values(this.getLayers()).forEach(i=>{const n=i.getCamera(),l=n.getPosition(),O=n.getFocalPoint();i.resize(E,e),n.setPosition(l),n.setFocalPoint(O)})}getBounds(E){return(0,m.SV)(Object.values(this.getLayers()).map(e=>E?e.getRoot().childNodes.find(n=>n.classList.includes(E)):e.getRoot()).filter(e=>(e==null?void 0:e.childNodes.length)>0).map(e=>e.getBounds()))}getContainer(){const E=this.extends.config.container;return typeof E=="string"?document.getElementById(E):E}getSize(){return[this.extends.config.width||0,this.extends.config.height||0]}appendChild(E,e){var i;const n=((i=E.style)===null||i===void 0?void 0:i.$layer)||"main";return this.getLayer(n).appendChild(E,e)}setRenderer(E){if(E===this.extends.renderer)return;const e=d(E,this.config.enableMultiLayer?r:a);this.extends.renderers=e,Object.entries(e).forEach(([i,n])=>this.getLayer(i).setRenderer(n)),f(this.getLayers())}getCanvasByViewport(E){return(0,c.rx)(this.getLayer().viewport2Canvas((0,c.Zv)(E)))}getViewportByCanvas(E){return(0,c.rx)(this.getLayer().canvas2Viewport((0,c.Zv)(E)))}getViewportByClient(E){return(0,c.rx)(this.getLayer().client2Viewport((0,c.Zv)(E)))}getClientByViewport(E){return(0,c.rx)(this.getLayer().viewport2Client((0,c.Zv)(E)))}getClientByCanvas(E){return this.getClientByViewport(this.getViewportByCanvas(E))}getCanvasByClient(E){const e=this.getLayer(),i=e.client2Viewport((0,c.Zv)(E));return(0,c.rx)(e.viewport2Canvas(i))}toDataURL(){return h(this,arguments,void 0,function*(E={}){const e=globalThis.devicePixelRatio||1,{mode:i="viewport"}=E,n=v(E,["mode"]);let[l,O,C,T]=[0,0,0,0];if(i==="viewport")[C,T]=this.getSize();else if(i==="overall"){const j=this.getBounds(),W=(0,m.qt)(j);[l,O]=j.min,[C,T]=W}const P=(0,M.L)('<div id="virtual-image"></div>'),b=new u.Xz({width:C,height:T,renderer:new D.Th,devicePixelRatio:e,container:P,background:this.extends.config.background});yield b.ready,b.appendChild(this.getLayer("background").getRoot().cloneNode(!0)),b.appendChild(this.getRoot().cloneNode(!0));const x=this.getLayer("label").getRoot().cloneNode(!0),I=b.viewport2Canvas({x:0,y:0}),S=this.getCanvasByViewport([0,0]);x.translate([S[0]-I.x,S[1]-I.y]),x.scale(1/this.getCamera().getZoom()),b.appendChild(x),b.appendChild(this.getLayer("transient").getRoot().cloneNode(!0));const K=this.getCamera(),N=b.getCamera();if(i==="viewport")N.setZoom(K.getZoom()),N.setPosition(K.getPosition()),N.setFocalPoint(K.getFocalPoint());else if(i==="overall"){const[j,W,U]=N.getPosition(),[F,H,Y]=N.getFocalPoint();N.setPosition([j+l,W+O,U]),N.setFocalPoint([F+l,H+O,Y])}const z=b.getContextService();return new Promise(j=>{b.addEventListener(u.$6.RERENDER,()=>h(this,void 0,void 0,function*(){yield new Promise(U=>setTimeout(U,300));const W=yield z.toDataURL(n);j(W)}))})})}destroy(){Object.values(this.getLayers()).forEach(E=>{E.getCamera().cancelLandmarkAnimation(),E.destroy()})}}function d(y,E){return Object.fromEntries(E.map(e=>{const i=(y==null?void 0:y(e))||new D.Th;return i instanceof D.Th&&i.setConfig({enableDirtyRectangleRendering:!1}),e==="main"?i.registerPlugin(new p.S({isDocumentDraggable:!0,isDocumentDroppable:!0,dragstartDistanceThreshold:10,dragstartTimeThreshold:100})):i.unregisterPlugin(i.getPlugin("dom-interaction")),[e,i]}))}function f(y){Object.entries(y).forEach(([E,e])=>{const i=e.getContextService().getDomElement();i!=null&&i.style&&(i.style.gridArea="1 / 1 / 2 / 2",i.style.outline="none",i.tabIndex=1,E!=="main"&&(i.style.pointerEvents="none")),i!=null&&i.parentElement&&(i.parentElement.style.display="grid",i.parentElement.style.isolation="isolate")})}},99539:function(it,w,t){"use strict";t.d(w,{Y:function(){return y}});var u=t(94075),D=t(26912),p=t(36172),M=t(89148),m=t(23098),c=t(5343),h=t(18023),v=t(26898),a=t(22860),r=t(29193),s=t(49559),o=t(90040),d=t(88824),f=t(26192);class y{constructor(){this.latestRemovedComboIds=new Set,this.comboIds=new Set,this.changes=[],this.batchCount=0,this.isTraceless=!1,this.enableUpdateNodeLikeHierarchy=!0,this.model=new u.k}pushChange(e){if(this.isTraceless)return;const{type:i}=e;if(i===m.u4.NodeUpdated||i===m.u4.EdgeUpdated||i===m.u4.ComboUpdated){const{value:n,original:l}=e;this.changes.push({value:(0,h.fA)(n),original:(0,h.fA)(l),type:i})}else this.changes.push({value:(0,h.fA)(e.value),type:i})}getChanges(){return this.changes}clearChanges(){this.changes=[]}batch(e){this.batchCount++,this.model.batch(e),this.batchCount--}isBatching(){return this.batchCount>0}silence(e){this.isTraceless=!0,e(),this.isTraceless=!1}isCombo(e){return this.comboIds.has(e)||this.latestRemovedComboIds.has(e)}getData(){return{nodes:this.getNodeData(),edges:this.getEdgeData(),combos:this.getComboData()}}getNodeData(e){return this.model.getAllNodes().reduce((i,n)=>{const l=(0,a.o)(n);return this.isCombo((0,r.jD)(l))||(e===void 0||e.includes((0,r.jD)(l)))&&i.push(l),i},[])}getEdgeDatum(e){return(0,a.o)(this.model.getEdge(e))}getEdgeData(e){return this.model.getAllEdges().reduce((i,n)=>{const l=(0,a.o)(n);return(e===void 0||e.includes((0,r.jD)(l)))&&i.push(l),i},[])}getComboData(e){return this.model.getAllNodes().reduce((i,n)=>{const l=(0,a.o)(n);return this.isCombo((0,r.jD)(l))&&(e===void 0||e.includes((0,r.jD)(l)))&&i.push(l),i},[])}getRootsData(e=m.pf){return this.model.getRoots(e).map(a.o)}getAncestorsData(e,i){const{model:n}=this;return!n.hasNode(e)||!n.hasTreeStructure(i)?[]:n.getAncestors(e,i).map(a.o)}getDescendantsData(e){const i=this.getElementDataById(e),n=[];return(0,d._)(i,l=>{l!==i&&n.push(l)},l=>this.getChildrenData((0,r.jD)(l)),"TB"),n}getParentData(e,i){const{model:n}=this;if(!i){o.S.warn("The hierarchy structure key is not specified");return}if(!n.hasNode(e)||!n.hasTreeStructure(i))return;const l=n.getParent(e,i);return l?(0,a.o)(l):void 0}getChildrenData(e){const i=this.getElementType(e)==="node"?m.pf:m.dK,{model:n}=this;return!n.hasNode(e)||!n.hasTreeStructure(i)?[]:n.getChildren(e,i).map(a.o)}getElementsDataByType(e){return e==="node"?this.getNodeData():e==="edge"?this.getEdgeData():e==="combo"?this.getComboData():[]}getElementDataById(e){return this.getElementType(e)==="edge"?this.getEdgeDatum(e):this.getNodeLikeDatum(e)}getNodeLikeDatum(e){const i=this.model.getNode(e);return(0,a.o)(i)}getNodeLikeData(e){return this.model.getAllNodes().reduce((i,n)=>{const l=(0,a.o)(n);return e?e.includes((0,r.jD)(l))&&i.push(l):i.push(l),i},[])}getElementDataByState(e,i){return this.getElementsDataByType(e).filter(l=>{var O;return(O=l.states)===null||O===void 0?void 0:O.includes(i)})}getElementState(e){var i;return((i=this.getElementDataById(e))===null||i===void 0?void 0:i.states)||[]}hasNode(e){return this.model.hasNode(e)&&!this.isCombo(e)}hasEdge(e){return this.model.hasEdge(e)}hasCombo(e){return this.model.hasNode(e)&&this.isCombo(e)}getRelatedEdgesData(e,i="both"){return this.model.getRelatedEdges(e,i).map(a.o)}getNeighborNodesData(e){return this.model.getNeighbors(e).map(a.o)}setData(e){const{nodes:i=[],edges:n=[],combos:l=[]}=e,{nodes:O,edges:C,combos:T}=this.getData(),P=(0,v.t)(O,i,I=>(0,r.jD)(I),h.Pv),b=(0,v.t)(C,n,I=>(0,r.jD)(I),h.Pv),x=(0,v.t)(T,l,I=>(0,r.jD)(I),h.Pv);this.batch(()=>{const I={nodes:P.enter,edges:b.enter,combos:x.enter};this.addData(I),this.computeZIndex(I,"add",!0);const S={nodes:P.update,edges:b.update,combos:x.update};this.updateData(S),this.computeZIndex(S,"update",!0);const K={nodes:P.exit.map(r.jD),edges:b.exit.map(r.jD),combos:x.exit.map(r.jD)};this.removeData(K)})}addData(e){const{nodes:i,edges:n,combos:l}=e;this.batch(()=>{this.addComboData(l),this.addNodeData(i),this.addEdgeData(n)}),this.computeZIndex(e,"add")}addNodeData(e=[]){e.length&&(this.model.addNodes(e.map(i=>(this.pushChange({value:i,type:m.u4.NodeAdded}),(0,a.en)(i)))),this.updateNodeLikeHierarchy(e),this.computeZIndex({nodes:e},"add"))}addEdgeData(e=[]){e.length&&(this.model.addEdges(e.map(i=>(this.pushChange({value:i,type:m.u4.EdgeAdded}),(0,a.en)(i)))),this.computeZIndex({edges:e},"add"))}addComboData(e=[]){if(!e.length)return;const{model:i}=this;i.hasTreeStructure(m.dK)||i.attachTreeStructure(m.dK),i.addNodes(e.map(n=>(this.comboIds.add((0,r.jD)(n)),this.pushChange({value:n,type:m.u4.ComboAdded}),(0,a.en)(n)))),this.updateNodeLikeHierarchy(e),this.computeZIndex({combos:e},"add")}addChildrenData(e,i){const n=this.getNodeLikeDatum(e),l=i.map(r.jD);this.addNodeData(i),this.updateNodeData([{id:e,children:[...n.children||[],...l]}]),this.addEdgeData(l.map(O=>({source:e,target:O})))}computeZIndex(e,i,n=!1){!n&&this.isBatching()||this.batch(()=>{const{nodes:l=[],edges:O=[],combos:C=[]}=e;C.forEach(T=>{var P,b,x;const I=(0,r.jD)(T);if(i==="add"&&(0,D.Z)((P=T.style)===null||P===void 0?void 0:P.zIndex)||i==="update"&&!("combo"in T))return;const S=this.getParentData(I,m.dK),K=S?((x=(b=S.style)===null||b===void 0?void 0:b.zIndex)!==null&&x!==void 0?x:0)+1:0;this.preventUpdateNodeLikeHierarchy(()=>{this.updateComboData([{id:I,style:{zIndex:K}}])})}),l.forEach(T=>{var P,b,x;const I=(0,r.jD)(T);if(i==="add"&&(0,D.Z)((P=T.style)===null||P===void 0?void 0:P.zIndex)||i==="update"&&!("combo"in T)&&!("children"in T))return;let S=0;const K=this.getParentData(I,m.dK);if(K)S=(((b=K.style)===null||b===void 0?void 0:b.zIndex)||0)+1;else{const N=this.getParentData(I,m.pf);N&&(S=((x=N==null?void 0:N.style)===null||x===void 0?void 0:x.zIndex)||0)}this.preventUpdateNodeLikeHierarchy(()=>{this.updateNodeData([{id:I,style:{zIndex:S}}])})}),O.forEach(T=>{var P,b,x,I,S;if((0,D.Z)((P=T.style)===null||P===void 0?void 0:P.zIndex))return;let{id:K,source:N,target:z}=T;if(!K)K=(0,r.jD)(T);else{const U=this.getEdgeDatum(K);N=U.source,z=U.target}if(!N||!z)return;const j=((x=(b=this.getNodeLikeDatum(N))===null||b===void 0?void 0:b.style)===null||x===void 0?void 0:x.zIndex)||0,W=((S=(I=this.getNodeLikeDatum(z))===null||I===void 0?void 0:I.style)===null||S===void 0?void 0:S.zIndex)||0;this.updateEdgeData([{id:(0,r.jD)(T),style:{zIndex:Math.max(j,W)-1}}])})})}getFrontZIndex(e){var i;const n=this.getElementType(e),l=this.getElementDataById(e),O=this.getData();if(Object.assign(O,{[`${n}s`]:O[`${n}s`].filter(C=>(0,r.jD)(C)!==e)}),n==="combo"&&!(0,c.z)(l)){const C=new Set(this.getAncestorsData(e,m.dK).map(r.jD));O.nodes=O.nodes.filter(T=>!C.has((0,r.jD)(T))),O.combos=O.combos.filter(T=>!C.has((0,r.jD)(T))),O.edges=O.edges.filter(({source:T,target:P})=>!C.has(T)&&!C.has(P))}return Math.max(((i=l.style)===null||i===void 0?void 0:i.zIndex)||0,0,...Object.values(O).flat().map(C=>{var T;return(((T=C==null?void 0:C.style)===null||T===void 0?void 0:T.zIndex)||0)+1}))}updateNodeLikeHierarchy(e){if(!this.enableUpdateNodeLikeHierarchy)return;const{model:i}=this;e.forEach(n=>{const l=(0,r.jD)(n),O=(0,r.Yt)(n);O!==void 0&&(i.hasTreeStructure(m.dK)||i.attachTreeStructure(m.dK),O===null&&this.refreshComboData(l),this.setParent(l,(0,r.Yt)(n),m.dK));const C=n.children||[];if(C.length){i.hasTreeStructure(m.pf)||i.attachTreeStructure(m.pf);const T=C.filter(P=>i.hasNode(P));T.forEach(P=>this.setParent(P,l,m.pf)),T.length!==C.length&&this.updateNodeData([{id:l,children:T}])}})}preventUpdateNodeLikeHierarchy(e){this.enableUpdateNodeLikeHierarchy=!1,e(),this.enableUpdateNodeLikeHierarchy=!0}updateData(e){const{nodes:i,edges:n,combos:l}=e;this.batch(()=>{this.updateNodeData(i),this.updateComboData(l),this.updateEdgeData(n)}),this.computeZIndex(e,"update")}updateNodeData(e=[]){if(!e.length)return;const{model:i}=this;this.batch(()=>{const n=[];e.forEach(l=>{const O=(0,r.jD)(l),C=(0,a.o)(i.getNode(O));if((0,h.Pv)(C,l))return;const T=(0,h.gU)(C,l);this.pushChange({value:T,original:C,type:m.u4.NodeUpdated}),i.mergeNodeData(O,T),n.push(T)}),this.updateNodeLikeHierarchy(n)}),this.computeZIndex({nodes:e},"update")}refreshData(){const{nodes:e,edges:i,combos:n}=this.getData();e.forEach(l=>{this.pushChange({value:l,original:l,type:m.u4.NodeUpdated})}),i.forEach(l=>{this.pushChange({value:l,original:l,type:m.u4.EdgeUpdated})}),n.forEach(l=>{this.pushChange({value:l,original:l,type:m.u4.ComboUpdated})})}syncNodeLikeDatum(e){const{model:i}=this,n=(0,r.jD)(e);if(!i.hasNode(n))return;const l=(0,a.o)(i.getNode(n)),O=(0,h.gU)(l,e);i.mergeNodeData(n,O)}syncEdgeDatum(e){const{model:i}=this,n=(0,r.jD)(e);if(!i.hasEdge(n))return;const l=(0,a.o)(i.getEdge(n)),O=(0,h.gU)(l,e);i.mergeEdgeData(n,O)}updateEdgeData(e=[]){if(!e.length)return;const{model:i}=this;this.batch(()=>{e.forEach(n=>{const l=(0,r.jD)(n),O=(0,a.o)(i.getEdge(l));if((0,h.Pv)(O,n))return;n.source&&O.source!==n.source&&i.updateEdgeSource(l,n.source),n.target&&O.target!==n.target&&i.updateEdgeTarget(l,n.target);const C=(0,h.gU)(O,n);this.pushChange({value:C,original:O,type:m.u4.EdgeUpdated}),i.mergeEdgeData(l,C)})}),this.computeZIndex({edges:e},"update")}updateComboData(e=[]){if(!e.length)return;const{model:i}=this;i.batch(()=>{const n=[];e.forEach(l=>{const O=(0,r.jD)(l),C=(0,a.o)(i.getNode(O));if((0,h.Pv)(C,l))return;const T=(0,h.gU)(C,l);this.pushChange({value:T,original:C,type:m.u4.ComboUpdated}),i.mergeNodeData(O,T),n.push(T)}),this.updateNodeLikeHierarchy(n)}),this.computeZIndex({combos:e},"update")}setParent(e,i,n,l=!0){if(e===i)return;const O=this.getNodeLikeDatum(e),C=(0,r.Yt)(O);if(C!==i&&n===m.dK){const T={id:e,combo:i};this.isCombo(e)?this.syncNodeLikeDatum(T):this.syncNodeLikeDatum(T)}this.model.setParent(e,i,n),l&&n===m.dK&&(0,p.Z)([C,i]).forEach(T=>{T!==void 0&&this.refreshComboData(T)})}refreshComboData(e){const i=this.getComboData([e])[0],n=this.getAncestorsData(e,m.dK);i&&this.pushChange({value:i,original:i,type:m.u4.ComboUpdated}),n.forEach(l=>{this.pushChange({value:l,original:l,type:m.u4.ComboUpdated})})}getElementPosition(e){const i=this.getElementDataById(e);return(0,s.TA)(i)}translateNodeLikeBy(e,i){this.isCombo(e)?this.translateComboBy(e,i):this.translateNodeBy(e,i)}translateNodeLikeTo(e,i){this.isCombo(e)?this.translateComboTo(e,i):this.translateNodeTo(e,i)}translateNodeBy(e,i){const n=this.getElementPosition(e),l=(0,f.IH)(n,[...i,0].slice(0,3));this.translateNodeTo(e,l)}translateNodeTo(e,i){const[n=0,l=0,O=0]=i;this.preventUpdateNodeLikeHierarchy(()=>{this.updateNodeData([{id:e,style:{x:n,y:l,z:O}}])})}translateComboBy(e,i){const[n=0,l=0,O=0]=i;if([n,l,O].some(isNaN)||[n,l,O].every(P=>P===0))return;const C=this.getComboData([e])[0];if(!C)return;const T=new Set;(0,d._)(C,P=>{const b=(0,r.jD)(P);if(T.has(b))return;T.add(b);const[x,I,S]=(0,s.TA)(P),K=(0,h.gU)(P,{style:{x:x+n,y:I+l,z:S+O}});this.pushChange({value:K,original:P,type:this.isCombo(b)?m.u4.ComboUpdated:m.u4.NodeUpdated}),this.model.mergeNodeData(b,K)},P=>this.getChildrenData((0,r.jD)(P)),"BT")}translateComboTo(e,i){var n;if(i.some(isNaN))return;const[l=0,O=0,C=0]=i,T=(n=this.getComboData([e]))===null||n===void 0?void 0:n[0];if(!T)return;const[P,b,x]=(0,s.TA)(T),I=l-P,S=O-b,K=C-x;(0,d._)(T,N=>{const z=(0,r.jD)(N),[j,W,U]=(0,s.TA)(N),F=(0,h.gU)(N,{style:{x:j+I,y:W+S,z:U+K}});this.pushChange({value:F,original:N,type:this.isCombo(z)?m.u4.ComboUpdated:m.u4.NodeUpdated}),this.model.mergeNodeData(z,F)},N=>this.getChildrenData((0,r.jD)(N)),"BT")}removeData(e){const{nodes:i,edges:n,combos:l}=e;this.batch(()=>{this.removeEdgeData(n),this.removeNodeData(i),this.removeComboData(l),this.latestRemovedComboIds=new Set(l)})}removeNodeData(e=[]){e.length&&this.batch(()=>{e.forEach(i=>{this.removeEdgeData(this.getRelatedEdgesData(i).map(r.jD)),this.pushChange({value:this.getNodeData([i])[0],type:m.u4.NodeRemoved}),this.removeNodeLikeHierarchy(i)}),this.model.removeNodes(e)})}removeEdgeData(e=[]){e.length&&(e.forEach(i=>this.pushChange({value:this.getEdgeData([i])[0],type:m.u4.EdgeRemoved})),this.model.removeEdges(e))}removeComboData(e=[]){e.length&&this.batch(()=>{e.forEach(i=>{this.pushChange({value:this.getComboData([i])[0],type:m.u4.ComboRemoved}),this.removeNodeLikeHierarchy(i),this.comboIds.delete(i)}),this.model.removeNodes(e)})}removeNodeLikeHierarchy(e){if(this.model.hasTreeStructure(m.dK)){const i=(0,r.Yt)(this.getNodeLikeDatum(e));this.setParent(e,void 0,m.dK,!1),this.model.getChildren(e,m.dK).forEach(n=>{const l=(0,a.o)(n),O=(0,r.jD)(l);this.setParent((0,r.jD)(l),i,m.dK,!1);const C=(0,h.gU)(l,{id:(0,r.jD)(l),combo:i});this.pushChange({value:C,original:l,type:this.isCombo(O)?m.u4.ComboUpdated:m.u4.NodeUpdated}),this.model.mergeNodeData((0,r.jD)(l),C)}),(0,M.Z)(i)||this.refreshComboData(i)}}getElementType(e){if(this.model.hasNode(e))return this.isCombo(e)?"combo":"node";if(this.model.hasEdge(e))return"edge";throw new Error((0,o.W)(`Unknown element type of id: ${e}`))}destroy(){const{model:e}=this,i=e.getAllNodes(),n=e.getAllEdges();e.removeEdges(n.map(l=>l.id)),e.removeNodes(i.map(l=>l.id)),this.context={}}}},34203:function(it,w,t){"use strict";t.d(w,{t:function(){return l}});var u=t(81614),D=t(26218),p=t(23098),M=t(66185),m=t(15186),c=t(32794),h=t(98478),v=t(5343),a=t(23295),r=t(1306),s=t(29193),o=t(32584),d=t(49559),f=t(90040),y=t(95272),E=t(2348),e=t(26192),i=t(88102),n=function(O,C,T,P){function b(x){return x instanceof T?x:new T(function(I){I(x)})}return new(T||(T=Promise))(function(x,I){function S(z){try{N(P.next(z))}catch(j){I(j)}}function K(z){try{N(P.throw(z))}catch(j){I(j)}}function N(z){z.done?x(z.value):b(z.value).then(S,K)}N((P=P.apply(O,C||[])).next())})};class l{constructor(C){this.elementMap={},this.shapeTypeMap={},this.paletteStyle={},this.defaultStyle={},this.stateStyle={},this.visibilityCache=new WeakMap,this.context=C}init(){this.initContainer()}initContainer(){if(!this.container||this.container.destroyed){const{canvas:C}=this.context;this.container=C.appendChild(new u.ZA({className:"elements"}))}}emit(C,T){T.silence||(0,r.j8)(this.context.graph,C)}forEachElementData(C){M.Y.forEach(T=>{const P=this.context.model.getElementsDataByType(T);C(T,P)})}getElementType(C,T){var P;const{options:b,graph:x}=this.context,I=((P=b[C])===null||P===void 0?void 0:P.type)||T.type;return I?typeof I=="string"?I:I.call(x,T):C==="edge"?"line":"circle"}getTheme(C){return(0,E.c)(this.context.options)[C]||{}}getThemeStyle(C){return this.getTheme(C).style||{}}getThemeStateStyle(C,T){const{state:P={}}=this.getTheme(C);return Object.assign({},...T.map(b=>P[b]||{}))}computePaletteStyle(){const{options:C}=this.context;this.paletteStyle={},this.forEachElementData((T,P)=>{var b,x;const I=Object.assign({},(0,o.HM)((b=this.getTheme(T))===null||b===void 0?void 0:b.palette),(0,o.HM)((x=C[T])===null||x===void 0?void 0:x.palette));I!=null&&I.field&&Object.assign(this.paletteStyle,(0,o.Wl)(P,I))})}getPaletteStyle(C,T){const P=this.paletteStyle[T];return P?C==="edge"?{stroke:P}:{fill:P}:{}}computeElementDefaultStyle(C,T){var P;const{options:b}=this.context,x=((P=b[C])===null||P===void 0?void 0:P.style)||{};"transform"in x&&Array.isArray(x.transform)&&(x.transform=[...x.transform]),this.defaultStyle[(0,s.jD)(T.datum)]=(0,y.$q)(x,T)}computeElementsDefaultStyle(C){const{graph:T}=this.context;this.forEachElementData((P,b)=>{const x=b.length;for(let I=0;I<x;I++){const S=b[I];(C===void 0||C.includes((0,s.jD)(S)))&&this.computeElementDefaultStyle(P,{datum:S,graph:T})}})}getDefaultStyle(C){return this.defaultStyle[C]||{}}getElementState(C){try{const{model:T}=this.context;return T.getElementState(C)}catch(T){return[]}}getElementStateStyle(C,T,P){var b,x;const{options:I}=this.context,S=((x=(b=I[C])===null||b===void 0?void 0:b.state)===null||x===void 0?void 0:x[T])||{};return(0,y.$q)(S,P)}computeElementStatesStyle(C,T,P){this.stateStyle[(0,s.jD)(P.datum)]=Object.assign({},...T.map(b=>this.getElementStateStyle(C,b,P)))}computeElementsStatesStyle(C){const{graph:T}=this.context;this.forEachElementData((P,b)=>{const x=b.length;for(let I=0;I<x;I++){const S=b[I];if(C===void 0||C.includes((0,s.jD)(S))){const K=this.getElementState((0,s.jD)(S));this.computeElementStatesStyle(P,K,{datum:S,graph:T})}}})}getStateStyle(C){return this.stateStyle[C]||{}}computeStyle(C,T){C&&["translate","zIndex"].includes(C)||(this.computePaletteStyle(),this.computeElementsDefaultStyle(T),this.computeElementsStatesStyle(T))}getElement(C){return this.elementMap[C]}getNodes(){return this.context.model.getNodeData().map(({id:C})=>this.elementMap[C])}getEdges(){return this.context.model.getEdgeData().map(C=>this.elementMap[(0,s.jD)(C)])}getCombos(){return this.context.model.getComboData().map(({id:C})=>this.elementMap[C])}getElementComputedStyle(C,T){const P=(0,s.jD)(T),b=this.getThemeStyle(C),x=this.getPaletteStyle(C,P),I=T.style||{},S=this.getDefaultStyle(P),K=this.getThemeStateStyle(C,this.getElementState(P)),N=this.getStateStyle(P),z=Object.assign({},b,x,I,S,K,N);if(C==="combo"){const j=this.context.model.getChildrenData(P),U=!!z.collapsed?[]:j.map(s.jD).filter(F=>this.getElement(F));Object.assign(z,{childrenNode:U,childrenData:j})}return z}getDrawData(C){this.init();const T=this.computeChangesAndDrawData(C);if(!T)return null;const{type:P="draw",stage:b=P}=C;return this.markDestroyElement(T.drawData),this.computeStyle(b),{type:P,stage:b,data:T}}draw(C={animation:!0}){const T=this.getDrawData(C);if(!T)return;const{data:{drawData:{add:P,update:b,remove:x}}}=T;return this.destroyElements(x,C),this.createElements(P,C),this.updateElements(b,C),this.setAnimationTask(C,T)}preLayoutDraw(){return n(this,arguments,void 0,function*(C={animation:!0}){var T,P;const b=this.getDrawData(C);if(!b)return;const{data:{drawData:x}}=b;yield(P=(T=this.context.layout)===null||T===void 0?void 0:T.preLayout)===null||P===void 0?void 0:P.call(T,x);const{add:I,update:S,remove:K}=x;return this.destroyElements(K,C),this.createElements(I,C),this.updateElements(S,C),this.setAnimationTask(C,b)})}setAnimationTask(C,T){const{animation:P,silence:b}=C,{data:{dataChanges:x,drawData:I},stage:S,type:K}=T;return this.context.animation.animate(P,b?{}:{before:()=>this.emit(new r.I9(p.VR.BEFORE_DRAW,{dataChanges:x,animation:P,stage:S,render:K==="render"}),C),beforeAnimate:N=>this.emit(new r.Tm(p.VR.BEFORE_ANIMATE,p.ru.DRAW,N,I),C),afterAnimate:N=>this.emit(new r.Tm(p.VR.AFTER_ANIMATE,p.ru.DRAW,N,I),C),after:()=>this.emit(new r.I9(p.VR.AFTER_DRAW,{dataChanges:x,animation:P,stage:S,render:K==="render",firstRender:this.context.graph.rendered===!1}),C)})}computeChangesAndDrawData(C){const{model:T}=this.context,P=T.getChanges(),b=(0,h.G)(P);if(b.length===0)return null;const{NodeAdded:x=[],NodeUpdated:I=[],NodeRemoved:S=[],EdgeAdded:K=[],EdgeUpdated:N=[],EdgeRemoved:z=[],ComboAdded:j=[],ComboUpdated:W=[],ComboRemoved:U=[]}=(0,D.Z)(b,V=>V.type),F=V=>new Map(V.map(X=>{const $=X.value;return[(0,s.jD)($),$]})),H={add:{nodes:F(x),edges:F(K),combos:F(j)},update:{nodes:F(I),edges:F(N),combos:F(W)},remove:{nodes:F(S),edges:F(z),combos:F(U)}},Y=this.transformData(H,C);return T.clearChanges(),{dataChanges:P,drawData:Y}}transformData(C,T){const P=this.context.transform.getTransformInstance();return Object.values(P).reduce((b,x)=>x.beforeDraw(b,T),C)}createElement(C,T,P){var b;const x=(0,s.jD)(T);if(this.getElement(x))return;const S=this.getElementType(C,T),K=this.getElementComputedStyle(C,T),N=(0,m.R)(C,S);if(!N)return f.S.warn(`The element ${S} of ${C} is not registered.`);this.emit(new r.mT(p.VR.BEFORE_ELEMENT_CREATE,C,T),P);const z=this.container.appendChild(new N({id:x,context:this.context,style:K}));this.shapeTypeMap[x]=S,this.elementMap[x]=z;const{stage:j="enter"}=P;(b=this.context.animation)===null||b===void 0||b.add({element:z,elementType:C,stage:j,originalStyle:Object.assign({},z.attributes),updatedStyle:K},{after:()=>{var W;this.emit(new r.mT(p.VR.AFTER_ELEMENT_CREATE,C,T),P),(W=z.onCreate)===null||W===void 0||W.call(z)}})}createElements(C,T){const{nodes:P,edges:b,combos:x}=C;[["node",P],["combo",x],["edge",b]].forEach(([S,K])=>{K.forEach(N=>this.createElement(S,N,T))})}getUpdateStageStyle(C,T,P){const{stage:b="update"}=P;if(b==="translate")if(C==="node"||C==="combo"){const{style:{x=0,y:I=0,z:S=0}={}}=T;return{x,y:I,z:S}}else return{};return this.getElementComputedStyle(C,T)}updateElement(C,T,P){var b;const x=(0,s.jD)(T),{stage:I="update"}=P,S=this.getElement(x);if(!S)return()=>null;this.emit(new r.mT(p.VR.BEFORE_ELEMENT_UPDATE,C,T),P);const K=this.getElementType(C,T),N=this.getUpdateStageStyle(C,T,P);this.shapeTypeMap[x]!==K&&(S.destroy(),delete this.shapeTypeMap[x],delete this.elementMap[x],this.createElement(C,T,{animation:!1,silence:!0}));const z=I!=="visibility"?I:N.visibility==="hidden"?"hide":"show";z==="hide"&&delete N.visibility,(b=this.context.animation)===null||b===void 0||b.add({element:S,elementType:C,stage:z,originalStyle:Object.assign({},S.attributes),updatedStyle:N},{before:()=>{const j=this.elementMap[x];I!=="collapse"&&(0,a.Uz)(j,N),I==="visibility"&&((0,c.BM)(j,"opacity")||(0,c.l4)(j,"opacity"),this.visibilityCache.set(j,z==="show"?"visible":"hidden"),z==="show"&&(0,i.i)(j,"visible"))},after:()=>{var j;const W=this.elementMap[x];I==="collapse"&&(0,a.Uz)(W,N),z==="hide"&&(0,i.i)(W,this.visibilityCache.get(W)),this.emit(new r.mT(p.VR.AFTER_ELEMENT_UPDATE,C,T),P),(j=W.onUpdate)===null||j===void 0||j.call(W)}})}updateElements(C,T){const{nodes:P,edges:b,combos:x}=C;[["node",P],["combo",x],["edge",b]].forEach(([S,K])=>{K.forEach(N=>this.updateElement(S,N,T))})}markDestroyElement(C){Object.values(C.remove).forEach(T=>{T.forEach(P=>{const b=(0,s.jD)(P),x=this.getElement(b);x&&(0,a._r)(x)})})}destroyElement(C,T,P){var b;const{stage:x="exit"}=P,I=(0,s.jD)(T),S=this.elementMap[I];if(!S)return()=>null;this.emit(new r.mT(p.VR.BEFORE_ELEMENT_DESTROY,C,T),P),(b=this.context.animation)===null||b===void 0||b.add({element:S,elementType:C,stage:x,originalStyle:Object.assign({},S.attributes),updatedStyle:{}},{after:()=>{var K;this.clearElement(I),S.destroy(),(K=S.onDestroy)===null||K===void 0||K.call(S),this.emit(new r.mT(p.VR.AFTER_ELEMENT_DESTROY,C,T),P)}})}destroyElements(C,T){const{nodes:P,edges:b,combos:x}=C;[["combo",x],["edge",b],["node",P]].forEach(([S,K])=>{K.forEach(N=>this.destroyElement(S,N,T))})}clearElement(C){delete this.paletteStyle[C],delete this.defaultStyle[C],delete this.stateStyle[C],delete this.elementMap[C],delete this.shapeTypeMap[C]}alignLayoutResultToElement(C,T){var P,b;const x=(P=C.nodes)===null||P===void 0?void 0:P.find(I=>(0,s.jD)(I)===T);if(x){const I=(0,d.TA)(this.context.model.getNodeLikeDatum(T)),S=(0,d.TA)(x),K=(0,e.$X)(I,S);(b=C.nodes)===null||b===void 0||b.forEach(N=>{var z,j,W;!((z=N.style)===null||z===void 0)&&z.x&&(N.style.x+=K[0]),!((j=N.style)===null||j===void 0)&&j.y&&(N.style.y+=K[1]),!((W=N.style)===null||W===void 0)&&W.z&&(N.style.z+=K[2]||0)})}}collapseNode(C,T){return n(this,void 0,void 0,function*(){var P;const{animation:b}=T,{model:x}=this.context,I=this.computeChangesAndDrawData({stage:"collapse",animation:b});if(!I)return;const{drawData:S}=I,{add:K,remove:N,update:z}=S;this.markDestroyElement(S);const j={animation:b,stage:"collapse",data:S};this.destroyElements(N,j),this.createElements(K,j),this.updateElements(z,j),yield(P=this.context.animation.animate(b,{beforeAnimate:W=>this.emit(new r.Tm(p.VR.BEFORE_ANIMATE,p.ru.COLLAPSE,W,S),j),afterAnimate:W=>this.emit(new r.Tm(p.VR.AFTER_ANIMATE,p.ru.COLLAPSE,W,S),j)},{collapse:{target:C,descendants:Array.from(N.nodes).map(([,W])=>(0,s.jD)(W)),position:(0,d.TA)(z.nodes.get(C))}}))===null||P===void 0?void 0:P.finished})}expandNode(C,T){return n(this,void 0,void 0,function*(){var P;const{model:b,layout:x}=this.context,{animation:I,align:S}=T,K=(0,d.TA)(b.getNodeData([C])[0]),N=this.computeChangesAndDrawData({stage:"expand",animation:I});if(this.createElements(N.drawData.add,{animation:!1,stage:"expand",target:C}),this.context.animation.clear(),this.computeStyle("expand"),!N)return;const{drawData:z}=N,{update:j,add:W}=z,U={animation:I,stage:"expand",data:z};W.edges.forEach(F=>j.edges.set((0,s.jD)(F),F)),W.nodes.forEach(F=>j.nodes.set((0,s.jD)(F),F)),this.updateElements(j,U),yield(P=this.context.animation.animate(I,{beforeAnimate:F=>this.emit(new r.Tm(p.VR.BEFORE_ANIMATE,p.ru.EXPAND,F,z),U),afterAnimate:F=>this.emit(new r.Tm(p.VR.AFTER_ANIMATE,p.ru.EXPAND,F,z),U)},{expand:{target:C,descendants:Array.from(W.nodes).map(([,F])=>(0,s.jD)(F)),position:K}}))===null||P===void 0?void 0:P.finished})}collapseCombo(C,T){return n(this,void 0,void 0,function*(){var P;const{model:b,element:x}=this.context;if(b.getAncestorsData(C,p.dK).some(H=>(0,v.z)(H)))return;const I=x.getElement(C),S=I.getComboPosition(Object.assign(Object.assign({},I.attributes),{collapsed:!0})),K=this.computeChangesAndDrawData({stage:"collapse",animation:T});if(!K)return;const{dataChanges:N,drawData:z}=K;this.markDestroyElement(z);const{update:j,remove:W}=z,U={animation:T,stage:"collapse",data:z};this.destroyElements(W,U),this.updateElements(j,U);const F=H=>Array.from(H).map(([,Y])=>(0,s.jD)(Y));yield(P=this.context.animation.animate(T,{before:()=>this.emit(new r.I9(p.VR.BEFORE_DRAW,{dataChanges:N,animation:T}),U),beforeAnimate:H=>this.emit(new r.Tm(p.VR.BEFORE_ANIMATE,p.ru.COLLAPSE,H,z),U),afterAnimate:H=>this.emit(new r.Tm(p.VR.AFTER_ANIMATE,p.ru.COLLAPSE,H,z),U),after:()=>this.emit(new r.I9(p.VR.AFTER_DRAW,{dataChanges:N,animation:T}),U)},{collapse:{target:C,descendants:[...F(W.nodes),...F(W.combos)],position:S}}))===null||P===void 0?void 0:P.finished})}expandCombo(C,T){return n(this,void 0,void 0,function*(){var P;const{model:b}=this.context,x=(0,d.TA)(b.getComboData([C])[0]);this.computeStyle("expand");const I=this.computeChangesAndDrawData({stage:"expand",animation:T});if(!I)return;const{dataChanges:S,drawData:K}=I,{add:N,update:z}=K,j={animation:T,stage:"expand",data:K,target:C};this.createElements(N,j),this.updateElements(z,j);const W=U=>Array.from(U).map(([,F])=>(0,s.jD)(F));yield(P=this.context.animation.animate(T,{before:()=>this.emit(new r.I9(p.VR.BEFORE_DRAW,{dataChanges:S,animation:T}),j),beforeAnimate:U=>this.emit(new r.Tm(p.VR.BEFORE_ANIMATE,p.ru.EXPAND,U,K),j),afterAnimate:U=>this.emit(new r.Tm(p.VR.AFTER_ANIMATE,p.ru.EXPAND,U,K),j),after:()=>this.emit(new r.I9(p.VR.AFTER_DRAW,{dataChanges:S,animation:T}),j)},{expand:{target:C,descendants:[...W(N.nodes),...W(N.combos)],position:x}}))===null||P===void 0?void 0:P.finished})}clear(){this.container.destroy(),this.initContainer(),this.elementMap={},this.shapeTypeMap={},this.defaultStyle={},this.stateStyle={},this.paletteStyle={}}destroy(){this.clear(),this.container.destroy(),this.context={}}}},16918:function(it,w,t){"use strict";t.d(w,{k:function(){return z}});var u=t(80216),D=t(83633),p=t(84237),M=t(27412),m=t(26912),c=t(99666),h=t(70373),v=t(97067),a=t(23098),r=t(5343),s=t(24519),o=t(41632),d=t(1306),f=t(29193),y=t(70562),E=t(90040),e=t(26192),i=t(43526),n=t(43155),l=t(57313),O=t(28301),C=t(33132),T=t(99539),P=t(34203),b=t(29973),x=t(84160),I=t(34030),S=t(72999),K=t(90731),N=function(j,W,U,F){function H(Y){return Y instanceof U?Y:new U(function(V){V(Y)})}return new(U||(U=Promise))(function(Y,V){function X(ot){try{rt(F.next(ot))}catch(tt){V(tt)}}function $(ot){try{rt(F.throw(ot))}catch(tt){V(tt)}}function rt(ot){ot.done?Y(ot.value):H(ot.value).then(X,$)}rt((F=F.apply(j,W||[])).next())})};class z extends u.Z{constructor(W){var U;super(),this.options={},this.rendered=!1,this.destroyed=!1,this.context={model:new T.Y},this.isCollapsingExpanding=!1,this.onResize=(0,D.Z)(()=>{this.resize()},300),this._setOptions(Object.assign({},z.defaultOptions,W),!0),this.context.graph=this,this.options.autoResize&&((U=globalThis.addEventListener)===null||U===void 0||U.call(globalThis,"resize",this.onResize))}getOptions(){return this.options}setOptions(W){this._setOptions(W,!1)}_setOptions(W,U){if(this.updateCanvas(W),Object.assign(this.options,(0,x.v)(W)),U){const{data:G}=W;G&&this.addData(G);return}const{behaviors:F,combo:H,data:Y,edge:V,layout:X,node:$,plugins:rt,theme:ot,transforms:tt}=W;F&&this.setBehaviors(F),Y&&this.setData(Y),$&&this.setNode($),V&&this.setEdge(V),H&&this.setCombo(H),X&&this.setLayout(X),ot&&this.setTheme(ot),rt&&this.setPlugins(rt),tt&&this.setTransforms(tt)}getSize(){return this.context.canvas?this.context.canvas.getSize():[this.options.width||0,this.options.height||0]}setSize(W,U){W&&(this.options.width=W),U&&(this.options.height=U),this.resize(W,U)}setZoomRange(W){this.options.zoomRange=W}getZoomRange(){return this.options.zoomRange}setNode(W){this.options.node=W,this.context.model.refreshData()}setEdge(W){this.options.edge=W,this.context.model.refreshData()}setCombo(W){this.options.combo=W,this.context.model.refreshData()}getTheme(){return this.options.theme}setTheme(W){this.options.theme=(0,p.Z)(W)?W(this.getTheme()):W}setLayout(W){this.options.layout=(0,p.Z)(W)?W(this.getLayout()):W}getLayout(){return this.options.layout}setBehaviors(W){var U;this.options.behaviors=(0,p.Z)(W)?W(this.getBehaviors()):W,(U=this.context.behavior)===null||U===void 0||U.setBehaviors(this.options.behaviors)}updateBehavior(W){this.setBehaviors(U=>U.map(F=>typeof F=="object"&&F.key===W.key?Object.assign(Object.assign({},F),W):F))}getBehaviors(){return this.options.behaviors||[]}setPlugins(W){var U;this.options.plugins=(0,p.Z)(W)?W(this.getPlugins()):W,(U=this.context.plugin)===null||U===void 0||U.setPlugins(this.options.plugins)}updatePlugin(W){this.setPlugins(U=>U.map(F=>typeof F=="object"&&F.key===W.key?Object.assign(Object.assign({},F),W):F))}getPlugins(){return this.options.plugins||[]}getPluginInstance(W){return this.context.plugin.getPluginInstance(W)}setTransforms(W){var U;this.options.transforms=(0,p.Z)(W)?W(this.getTransforms()):W,(U=this.context.transform)===null||U===void 0||U.setTransforms(this.options.transforms)}updateTransform(W){this.setTransforms(U=>U.map(F=>typeof F=="object"&&F.key===W.key?Object.assign(Object.assign({},F),W):F)),this.context.model.refreshData()}getTransforms(){return this.options.transforms||[]}getData(){return this.context.model.getData()}hasNode(W){return this.context.model.hasNode(W)}hasEdge(W){return this.context.model.hasEdge(W)}hasCombo(W){return this.context.model.hasCombo(W)}getElementData(W){return Array.isArray(W)?W.map(U=>this.context.model.getElementDataById(U)):this.context.model.getElementDataById(W)}getNodeData(W){return W===void 0?this.context.model.getNodeData():Array.isArray(W)?this.context.model.getNodeData(W):this.context.model.getNodeLikeDatum(W)}getEdgeData(W){return W===void 0?this.context.model.getEdgeData():Array.isArray(W)?this.context.model.getEdgeData(W):this.context.model.getEdgeDatum(W)}getComboData(W){return W===void 0?this.context.model.getComboData():Array.isArray(W)?this.context.model.getComboData(W):this.context.model.getNodeLikeDatum(W)}setData(W){this.context.model.setData((0,p.Z)(W)?W(this.getData()):W)}addData(W){this.context.model.addData((0,p.Z)(W)?W(this.getData()):W)}addNodeData(W){this.context.model.addNodeData((0,p.Z)(W)?W(this.getNodeData()):W)}addEdgeData(W){this.context.model.addEdgeData((0,p.Z)(W)?W(this.getEdgeData()):W)}addComboData(W){this.context.model.addComboData((0,p.Z)(W)?W(this.getComboData()):W)}addChildrenData(W,U){this.context.model.addChildrenData(W,U)}updateData(W){this.context.model.updateData((0,p.Z)(W)?W(this.getData()):W)}updateNodeData(W){this.context.model.updateNodeData((0,p.Z)(W)?W(this.getNodeData()):W)}updateEdgeData(W){this.context.model.updateEdgeData((0,p.Z)(W)?W(this.getEdgeData()):W)}updateComboData(W){this.context.model.updateComboData((0,p.Z)(W)?W(this.getComboData()):W)}removeData(W){this.context.model.removeData((0,p.Z)(W)?W(this.getData()):W)}removeNodeData(W){this.context.model.removeNodeData((0,p.Z)(W)?W(this.getNodeData()):W)}removeEdgeData(W){this.context.model.removeEdgeData((0,p.Z)(W)?W(this.getEdgeData()):W)}removeComboData(W){this.context.model.removeComboData((0,p.Z)(W)?W(this.getComboData()):W)}getElementType(W){return this.context.model.getElementType(W)}getRelatedEdgesData(W,U="both"){return this.context.model.getRelatedEdgesData(W,U)}getNeighborNodesData(W){return this.context.model.getNeighborNodesData(W)}getAncestorsData(W,U){return this.context.model.getAncestorsData(W,U)}getParentData(W,U){return this.context.model.getParentData(W,U)}getChildrenData(W){return this.context.model.getChildrenData(W)}getDescendantsData(W){return this.context.model.getDescendantsData(W)}getElementDataByState(W,U){return this.context.model.getElementDataByState(W,U)}initCanvas(){return N(this,void 0,void 0,function*(){var W;if(this.context.canvas)return yield this.context.canvas.ready;const{container:U="container",width:F,height:H,renderer:Y,cursor:V,background:X,canvas:$,devicePixelRatio:rt=(W=globalThis.devicePixelRatio)!==null&&W!==void 0?W:1}=this.options;if(U instanceof C.X)this.context.canvas=U,V&&U.setCursor(V),Y&&U.setRenderer(Y),yield U.ready;else{const ot=(0,M.Z)(U)?document.getElementById(U):U,tt=(0,s.Q)(ot);this.emit(a.VR.BEFORE_CANVAS_INIT,{container:ot,width:F,height:H});const G=Object.assign(Object.assign({},$),{container:ot,width:F||tt[0],height:H||tt[1],background:X,renderer:Y,cursor:V,devicePixelRatio:rt}),nt=new C.X(G);this.context.canvas=nt,yield nt.ready,this.emit(a.VR.AFTER_CANVAS_INIT,{canvas:nt})}})}updateCanvas(W){var U,F;const{renderer:H,cursor:Y,height:V,width:X}=W,$=this.context.canvas;$&&(H&&(this.emit(a.VR.BEFORE_RENDERER_CHANGE,{renderer:this.options.renderer}),$.setRenderer(H),this.emit(a.VR.AFTER_RENDERER_CHANGE,{renderer:H})),Y&&$.setCursor(Y),((0,m.Z)(X)||(0,m.Z)(V))&&this.setSize((U=X!=null?X:this.options.width)!==null&&U!==void 0?U:0,(F=V!=null?V:this.options.height)!==null&&F!==void 0?F:0))}initRuntime(){this.context.options=this.options,this.context.batch||(this.context.batch=new l.q(this.context)),this.context.plugin||(this.context.plugin=new I.T(this.context)),this.context.viewport||(this.context.viewport=new K.V(this.context)),this.context.transform||(this.context.transform=new S.h(this.context)),this.context.element||(this.context.element=new P.t(this.context)),this.context.animation||(this.context.animation=new n.f(this.context)),this.context.layout||(this.context.layout=new b.h(this.context)),this.context.behavior||(this.context.behavior=new O.g(this.context))}prepare(){return N(this,void 0,void 0,function*(){if(yield Promise.resolve(),this.destroyed){console.error((0,E.W)("The graph instance has been destroyed"));return}yield this.initCanvas(),this.initRuntime()})}render(){return N(this,void 0,void 0,function*(){if(yield this.prepare(),(0,d.j8)(this,new d.I9(a.VR.BEFORE_RENDER)),this.options.layout)if(!this.rendered&&(0,y.oW)(this.options.layout)){const W=yield this.context.element.preLayoutDraw({type:"render"});yield Promise.all([W==null?void 0:W.finished,this.autoFit()])}else{const W=this.context.element.draw({type:"render"});yield Promise.all([W==null?void 0:W.finished,this.context.layout.postLayout()]),yield this.autoFit()}else{const W=this.context.element.draw({type:"render"});yield Promise.all([W==null?void 0:W.finished,this.autoFit()])}this.rendered=!0,(0,d.j8)(this,new d.I9(a.VR.AFTER_RENDER))})}draw(){return N(this,void 0,void 0,function*(){var W;yield this.prepare(),yield(W=this.context.element.draw())===null||W===void 0?void 0:W.finished})}layout(W){return N(this,void 0,void 0,function*(){yield this.context.layout.postLayout(W)})}stopLayout(){this.context.layout.stopLayout()}clear(){return N(this,void 0,void 0,function*(){const{model:W,element:U}=this.context;W.setData({}),W.clearChanges(),U==null||U.clear()})}destroy(){var W;(0,d.j8)(this,new d.I9(a.VR.BEFORE_DESTROY));const{layout:U,animation:F,element:H,model:Y,canvas:V,behavior:X,plugin:$}=this.context;$==null||$.destroy(),X==null||X.destroy(),U==null||U.destroy(),F==null||F.destroy(),H==null||H.destroy(),Y.destroy(),V==null||V.destroy(),this.options={},this.context={},this.off(),(W=globalThis.removeEventListener)===null||W===void 0||W.call(globalThis,"resize",this.onResize),this.destroyed=!0,(0,d.j8)(this,new d.I9(a.VR.AFTER_DESTROY))}getCanvas(){return this.context.canvas}resize(W,U){var F;const H=(0,s.Q)((F=this.context.canvas)===null||F===void 0?void 0:F.getContainer()),Y=[W||H[0],U||H[1]];if(!this.context.canvas)return;const V=this.context.canvas.getSize();(0,c.Z)(Y,V)||((0,d.j8)(this,new d.I9(a.VR.BEFORE_SIZE_CHANGE,{size:Y})),this.context.canvas.resize(...Y),(0,d.j8)(this,new d.I9(a.VR.AFTER_SIZE_CHANGE,{size:Y})))}fitView(W,U){return N(this,void 0,void 0,function*(){var F;yield(F=this.context.viewport)===null||F===void 0?void 0:F.fitView(W,U)})}fitCenter(W){return N(this,void 0,void 0,function*(){var U;yield(U=this.context.viewport)===null||U===void 0?void 0:U.fitCenter({animation:W})})}autoFit(){return N(this,void 0,void 0,function*(){const{autoFit:W}=this.context.options;if(W)if((0,M.Z)(W))W==="view"?yield this.fitView():W==="center"&&(yield this.fitCenter());else{const{type:U,animation:F}=W;U==="view"?yield this.fitView(W.options,F):U==="center"&&(yield this.fitCenter(F))}})}focusElement(W,U){return N(this,void 0,void 0,function*(){var F;yield(F=this.context.viewport)===null||F===void 0?void 0:F.focusElements(Array.isArray(W)?W:[W],{animation:U})})}zoomBy(W,U,F){return N(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"relative",scale:W,origin:F},U)})}zoomTo(W,U,F){return N(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"absolute",scale:W,origin:F},U)})}getZoom(){return this.context.viewport.getZoom()}rotateBy(W,U,F){return N(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"relative",rotate:W,origin:F},U)})}rotateTo(W,U,F){return N(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"absolute",rotate:W,origin:F},U)})}getRotation(){return this.context.viewport.getRotation()}translateBy(W,U){return N(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"relative",translate:W},U)})}translateTo(W,U){return N(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"absolute",translate:W},U)})}getPosition(){return(0,e.$X)([0,0],this.getCanvasByViewport([0,0]))}translateElementBy(W,U){return N(this,arguments,void 0,function*(F,H,Y=!0){var V,X;const[$,rt]=(0,h.Z)(F)?[F,(V=H)!==null&&V!==void 0?V:!0]:[{[F]:H},Y];Object.entries($).forEach(([ot,tt])=>this.context.model.translateNodeLikeBy(ot,tt)),yield(X=this.context.element.draw({animation:rt,stage:"translate"}))===null||X===void 0?void 0:X.finished})}translateElementTo(W,U){return N(this,arguments,void 0,function*(F,H,Y=!0){var V,X;const[$,rt]=(0,h.Z)(F)?[F,(V=H)!==null&&V!==void 0?V:!0]:[{[F]:H},Y];Object.entries($).forEach(([ot,tt])=>this.context.model.translateNodeLikeTo(ot,tt)),yield(X=this.context.element.draw({animation:rt,stage:"translate"}))===null||X===void 0?void 0:X.finished})}getElementPosition(W){return this.context.model.getElementPosition(W)}getElementRenderStyle(W){return(0,v.Z)(this.context.element.getElement(W).attributes,["context"])}setElementVisibility(W,U){return N(this,arguments,void 0,function*(F,H,Y=!0){var V,X;const[$,rt]=(0,h.Z)(F)?[F,(V=H)!==null&&V!==void 0?V:!0]:[{[F]:H},Y],ot={nodes:[],edges:[],combos:[]};Object.entries($).forEach(([nt,ut])=>{const dt=this.getElementType(nt);ot[`${dt}s`].push({id:nt,style:{visibility:ut}})});const{model:tt,element:G}=this.context;tt.preventUpdateNodeLikeHierarchy(()=>{tt.updateData(ot)}),yield(X=G.draw({animation:rt,stage:"visibility"}))===null||X===void 0?void 0:X.finished})}showElement(W,U){return N(this,void 0,void 0,function*(){const F=Array.isArray(W)?W:[W];yield this.setElementVisibility(Object.fromEntries(F.map(H=>[H,"visible"])),U)})}hideElement(W,U){return N(this,void 0,void 0,function*(){const F=Array.isArray(W)?W:[W];yield this.setElementVisibility(Object.fromEntries(F.map(H=>[H,"hidden"])),U)})}getElementVisibility(W){var U,F;const H=this.context.element.getElement(W);return(F=(U=H==null?void 0:H.style)===null||U===void 0?void 0:U.visibility)!==null&&F!==void 0?F:"visible"}setElementZIndex(W,U){return N(this,void 0,void 0,function*(){var F;const H={nodes:[],edges:[],combos:[]},Y=(0,h.Z)(W)?W:{[W]:U};Object.entries(Y).forEach(([$,rt])=>{const ot=this.getElementType($);H[`${ot}s`].push({id:$,style:{zIndex:rt}})});const{model:V,element:X}=this.context;V.preventUpdateNodeLikeHierarchy(()=>V.updateData(H)),yield(F=X.draw({animation:!1,stage:"zIndex"}))===null||F===void 0?void 0:F.finished})}frontElement(W){return N(this,void 0,void 0,function*(){const U=Array.isArray(W)?W:[W],{model:F}=this.context,H={};U.map(Y=>{const V=F.getFrontZIndex(Y);if(F.getElementType(Y)==="combo"){const $=F.getAncestorsData(Y,a.dK).at(-1)||this.getComboData(Y),rt=[$,...F.getDescendantsData((0,f.jD)($))],ot=V-(0,i.Y)($);rt.forEach(G=>{H[(0,f.jD)(G)]=this.getElementZIndex((0,f.jD)(G))+ot});const{internal:tt}=(0,o.$t)(rt.map(f.jD),G=>F.getRelatedEdgesData(G));tt.forEach(G=>{const nt=(0,f.jD)(G);H[nt]=this.getElementZIndex(nt)+ot})}else H[Y]=V}),yield this.setElementZIndex(H)})}getElementZIndex(W){return(0,i.Y)(this.context.model.getElementDataById(W))}setElementState(W,U){return N(this,arguments,void 0,function*(F,H,Y=!0){var V,X;const[$,rt]=(0,h.Z)(F)?[F,(V=H)!==null&&V!==void 0?V:!0]:[{[F]:H},Y],ot=G=>G?Array.isArray(G)?G:[G]:[],tt={nodes:[],edges:[],combos:[]};Object.entries($).forEach(([G,nt])=>{const ut=this.getElementType(G);tt[`${ut}s`].push({id:G,states:ot(nt)})}),this.updateData(tt),yield(X=this.context.element.draw({animation:rt,stage:"state"}))===null||X===void 0?void 0:X.finished})}getElementState(W){return this.context.model.getElementState(W)}getElementRenderBounds(W){return this.context.element.getElement(W).getRenderBounds()}collapseElement(W){return N(this,arguments,void 0,function*(U,F=!0){const{model:H,element:Y}=this.context;if((0,r.z)(H.getNodeLikeData([U])[0])||this.isCollapsingExpanding)return;typeof F=="boolean"&&(F={animation:F,align:!0});const V=H.getElementType(U);yield this.frontElement(U),this.isCollapsingExpanding=!0,H.updateData(V==="node"?{nodes:[{id:U,style:{collapsed:!0}}]}:{combos:[{id:U,style:{collapsed:!0}}]}),V==="node"?yield Y.collapseNode(U,F):V==="combo"&&(yield Y.collapseCombo(U,!!F.animation)),this.isCollapsingExpanding=!1})}expandElement(W){return N(this,arguments,void 0,function*(U,F=!0){const{model:H,element:Y}=this.context;if(!(0,r.z)(H.getNodeLikeData([U])[0])||this.isCollapsingExpanding)return;typeof F=="boolean"&&(F={animation:F,align:!0});const V=H.getElementType(U);this.isCollapsingExpanding=!0,H.updateData(V==="node"?{nodes:[{id:U,style:{collapsed:!1}}]}:{combos:[{id:U,style:{collapsed:!1}}]}),V==="node"?yield Y.expandNode(U,F):V==="combo"&&(yield Y.expandCombo(U,!!F.animation)),this.isCollapsingExpanding=!1})}setElementCollapsibility(W,U){const F=this.getElementType(W);F==="node"?this.updateNodeData([{id:W,style:{collapsed:U}}]):F==="combo"&&this.updateComboData([{id:W,style:{collapsed:U}}])}toDataURL(){return N(this,arguments,void 0,function*(W={}){return this.context.canvas.toDataURL(W)})}getCanvasByViewport(W){return this.context.canvas.getCanvasByViewport(W)}getViewportByCanvas(W){return this.context.canvas.getViewportByCanvas(W)}getClientByCanvas(W){return this.context.canvas.getClientByCanvas(W)}getCanvasByClient(W){return this.context.canvas.getCanvasByClient(W)}getViewportCenter(){return this.context.viewport.getViewportCenter()}getCanvasCenter(){return this.context.viewport.getCanvasCenter()}on(W,U,F){return super.on(W,U,F)}once(W,U){return super.once(W,U)}off(W,U){return super.off(W,U)}}z.defaultOptions={autoResize:!1,theme:"light",rotation:0,zoom:1,zoomRange:[.01,10]}},29973:function(it,w,t){"use strict";t.d(w,{h:function(){return n}});var u=t(94075),D=t(93517),p=t(72408),M=t(48690),m=t(23098),c=t(4709),h=t(15186),v=t(69759),a=t(5343),r=t(23295),s=t(1306),o=t(22860),d=t(29193),f=t(70562),y=t(90040),E=t(88824),e=function(O,C,T,P){function b(x){return x instanceof T?x:new T(function(I){I(x)})}return new(T||(T=Promise))(function(x,I){function S(z){try{N(P.next(z))}catch(j){I(j)}}function K(z){try{N(P.throw(z))}catch(j){I(j)}}function N(z){z.done?x(z.value):b(z.value).then(S,K)}N((P=P.apply(O,C||[])).next())})},i=function(O,C){var T={};for(var P in O)Object.prototype.hasOwnProperty.call(O,P)&&C.indexOf(P)<0&&(T[P]=O[P]);if(O!=null&&typeof Object.getOwnPropertySymbols=="function")for(var b=0,P=Object.getOwnPropertySymbols(O);b<P.length;b++)C.indexOf(P[b])<0&&Object.prototype.propertyIsEnumerable.call(O,P[b])&&(T[P[b]]=O[P[b]]);return T};class n{get presetOptions(){return{animation:!!(0,v.Y4)(this.context.options,!0)}}get options(){const{options:C}=this.context;return C.layout}constructor(C){this.instances=[],this.context=C}getLayoutInstance(){return this.instances}preLayout(C){return e(this,void 0,void 0,function*(){var T,P,b,x;const{graph:I,model:S}=this.context,{add:K}=C;(0,s.j8)(I,new s.I9(m.VR.BEFORE_LAYOUT,{type:"pre"}));const N=yield(T=this.context.layout)===null||T===void 0?void 0:T.simulate();(P=N==null?void 0:N.nodes)===null||P===void 0||P.forEach(z=>{const j=(0,d.jD)(z),W=K.nodes.get(j);S.syncNodeLikeDatum(z),W&&Object.assign(W.style,z.style)}),(b=N==null?void 0:N.edges)===null||b===void 0||b.forEach(z=>{const j=(0,d.jD)(z),W=K.edges.get(j);S.syncEdgeDatum(z),W&&Object.assign(W.style,z.style)}),(x=N==null?void 0:N.combos)===null||x===void 0||x.forEach(z=>{const j=(0,d.jD)(z),W=K.combos.get(j);S.syncNodeLikeDatum(z),W&&Object.assign(W.style,z.style)}),(0,s.j8)(I,new s.I9(m.VR.AFTER_LAYOUT,{type:"pre"})),this.transformDataAfterLayout("pre",C)})}postLayout(){return e(this,arguments,void 0,function*(C=this.options){if(!C)return;const T=Array.isArray(C)?C:[C],{graph:P}=this.context;(0,s.j8)(P,new s.I9(m.VR.BEFORE_LAYOUT,{type:"post"}));for(let b=0;b<T.length;b++){const x=T[b],I=this.getLayoutData(x),S=Object.assign(Object.assign({},this.presetOptions),x);(0,s.j8)(P,new s.I9(m.VR.BEFORE_STAGE_LAYOUT,{options:S,index:b}));const K=yield this.stepLayout(I,S,b);(0,s.j8)(P,new s.I9(m.VR.AFTER_STAGE_LAYOUT,{options:S,index:b})),x.animation||this.updateElementPosition(K,!1)}(0,s.j8)(P,new s.I9(m.VR.AFTER_LAYOUT,{type:"post"})),this.transformDataAfterLayout("post")})}transformDataAfterLayout(C,T){const P=this.context.transform.getTransformInstance();Object.values(P).forEach(b=>b.afterLayout(C,T))}simulate(){return e(this,void 0,void 0,function*(){if(!this.options)return{};const C=Array.isArray(this.options)?this.options:[this.options];let T={};for(let P=0;P<C.length;P++){const b=C[P],x=this.getLayoutData(b);T=yield this.stepLayout(x,Object.assign(Object.assign(Object.assign({},this.presetOptions),b),{animation:!1}),P)}return T})}stepLayout(C,T,P){return e(this,void 0,void 0,function*(){return(0,f.O9)(T)?yield this.treeLayout(C,T,P):yield this.graphLayout(C,T,P)})}graphLayout(C,T,P){return e(this,void 0,void 0,function*(){const{animation:b,enableWorker:x,iterations:I=300}=T,S=this.initGraphLayout(T);if(!S)return{};if(this.instances[P]=S,this.instance=S,x){const N=S;return this.supervisor=new D.y(N.graphData2LayoutModel(C),N.instance,{iterations:I}),(0,f.gB)(yield this.supervisor.execute())}if((0,p.h)(S))return b?yield S.execute(C,{onTick:N=>{this.updateElementPosition(N,!1)}}):(S.execute(C),S.stop(),S.tick(I));const K=yield S.execute(C);if(b){const N=this.updateElementPosition(K,b);yield N==null?void 0:N.finished}return K})}treeLayout(C,T,P){return e(this,void 0,void 0,function*(){const{type:b,animation:x}=T,I=(0,h.R)("layout",b);if(!I)return{};const{nodes:S=[],edges:K=[]}=C,N=new u.k({nodes:S.map(F=>({id:(0,d.jD)(F),data:F.data||{}})),edges:K.map(F=>({id:(0,d.jD)(F),source:F.source,target:F.target,data:F.data||{}}))});(0,o.hJ)(N);const z={nodes:[],edges:[]},j={nodes:[],edges:[]};N.getRoots(m.pf).forEach(F=>{(0,E._)(F,$=>{$.children=N.getSuccessors($.id)},$=>N.getSuccessors($.id),"TB");const H=I(F,T),{x:Y,y:V,z:X=0}=H;(0,E._)(H,$=>{const{id:rt,x:ot,y:tt,z:G=0}=$;z.nodes.push({id:rt,style:{x:Y,y:V,z:X}}),j.nodes.push({id:rt,style:{x:ot,y:tt,z:G}})},$=>$.children,"TB")});const U=this.inferTreeLayoutOffset(j);if(l(j,U),x){l(z,U),this.updateElementPosition(z,!1);const F=this.updateElementPosition(j,x);yield F==null?void 0:F.finished}return j})}inferTreeLayoutOffset(C){var T;let[P,b]=[1/0,-1/0],[x,I]=[1/0,-1/0];(T=C.nodes)===null||T===void 0||T.forEach(H=>{const{x:Y=0,y:V=0}=H.style||{};P=Math.min(P,Y),b=Math.max(b,Y),x=Math.min(x,V),I=Math.max(I,V)});const{canvas:S}=this.context,K=S.getSize(),[N,z]=S.getCanvasByViewport([0,0]),[j,W]=S.getCanvasByViewport(K);if(P>=N&&b<=j&&x>=z&&I<=W)return[0,0];const U=(N+j)/2,F=(z+W)/2;return[U-(P+b)/2,F-(x+I)/2]}stopLayout(){this.instance&&(0,p.h)(this.instance)&&(this.instance.stop(),this.instance=void 0),this.supervisor&&(this.supervisor.stop(),this.supervisor=void 0),this.animationResult&&(this.animationResult.finish(),this.animationResult=void 0)}getLayoutData(C){const{nodeFilter:T=()=>!0,comboFilter:P=()=>!0,preLayout:b=!1,isLayoutInvisibleNodes:x=!1}=C,{nodes:I,edges:S,combos:K}=this.context.model.getData(),{element:N,model:z}=this.context,j=V=>N.getElement(V),W=b?V=>{var X;return!x&&(((X=V.style)===null||X===void 0?void 0:X.visibility)==="hidden"||z.getAncestorsData(V.id,m.pf).some(a.z)||z.getAncestorsData(V.id,m.dK).some(a.z))?!1:T(V)}:V=>{const X=(0,d.jD)(V),$=j(X);return!$||(0,r.xE)($)?!1:T(V)},U=I.filter(W),F=K.filter(P),H=new Map(U.map(V=>[(0,d.jD)(V),V]));F.forEach(V=>H.set((0,d.jD)(V),V));const Y=S.filter(({source:V,target:X})=>H.has(V)&&H.has(X));return{nodes:U,edges:Y,combos:F}}initGraphLayout(C){var T;const{element:P,viewport:b}=this.context,{type:x,enableWorker:I,animation:S,iterations:K}=C,N=i(C,["type","enableWorker","animation","iterations"]),[z,j]=b.getCanvasSize(),W=[z/2,j/2],U=(T=C==null?void 0:C.nodeSize)!==null&&T!==void 0?T:X=>{const $=P==null?void 0:P.getElement(X.id);return $?$.attributes.size:P==null?void 0:P.getElementComputedStyle("node",X).size},F=(0,h.R)("layout",x);if(!F)return y.S.warn(`The layout of ${x} is not registered.`);const H=Object.getPrototypeOf(F.prototype)===c.IE.prototype?F:(0,f.Vj)(F,this.context),Y=new H(this.context),V={nodeSize:U,width:z,height:j,center:W};switch(Y.id){case"d3-force":case"d3-force-3d":Object.assign(V,{center:{x:z/2,y:j/2,z:0}});break;default:break}return(0,M.Z)(Y.options,V,N),Y}updateElementPosition(C,T){const{model:P,element:b}=this.context;return b?(P.updateData(C),b.draw({animation:T,silence:!0})):null}destroy(){var C;this.stopLayout(),this.context={},(C=this.supervisor)===null||C===void 0||C.kill(),this.supervisor=void 0,this.instance=void 0,this.instances=[],this.animationResult=void 0}}const l=(O,C)=>{var T;const[P,b]=C;(T=O.nodes)===null||T===void 0||T.forEach(x=>{if(x.style){const{x:I=0,y:S=0}=x.style;x.style.x=I+P,x.style.y=S+b}else x.style={x:P,y:b}})}},84160:function(it,w,t){"use strict";t.d(w,{v:function(){return u}});function u(p){return[D].reduce((m,c)=>c(m),p)}function D(p){return!p.layout||Array.isArray(p.layout)||"preLayout"in p.layout||["antv-dagre","combo-combined","compact-box","circular","concentric","dagre","fishbone","grid","indented","mds","radial","random","snake","dendrogram","mindmap"].includes(p.layout.type)&&(p.layout.preLayout=!0),p}},34030:function(it,w,t){"use strict";t.d(w,{T:function(){return p}});var u=t(30054),D=t(90040);class p extends u.G{constructor(m){super(m),this.category="plugin",this.setPlugins(this.context.options.plugins||[])}setPlugins(m){this.setExtensions(m)}getPluginInstance(m){const c=this.extensionMap[m];if(c)return c;D.S.warn(`Cannot find the plugin ${m}, will try to find it by type.`);const h=this.extensions.find(v=>v.type===m);if(h)return this.extensionMap[h.key]}}},72999:function(it,w,t){"use strict";t.d(w,{h:function(){return p}});var u=t(30054);const D=["update-related-edges","collapse-expand-node","collapse-expand-combo","get-edge-actual-ends","arrange-draw-order"];class p extends u.G{constructor(m){super(m),this.category="transform",this.setTransforms(this.context.options.transforms||[])}getTransforms(){}setTransforms(m){this.setExtensions([...D.slice(0,D.length-1),...m,D[D.length-1]])}getTransformInstance(m){return m?this.extensionMap[m]:this.extensionMap}}},90731:function(it,w,t){"use strict";t.d(w,{V:function(){return d}});var u=t(81614),D=t(88458),p=t(15378),M=t(26912),m=t(23098),c=t(69759),h=t(52877),v=t(1306),a=t(76824),r=t(17439),s=t(26192),o=function(f,y,E,e){function i(n){return n instanceof E?n:new E(function(l){l(n)})}return new(E||(E=Promise))(function(n,l){function O(P){try{T(e.next(P))}catch(b){l(b)}}function C(P){try{T(e.throw(P))}catch(b){l(b)}}function T(P){P.done?n(P.value):i(P.value).then(O,C)}T((e=e.apply(f,y||[])).next())})};class d{get padding(){return(0,r.dj)(this.context.options.padding)}get paddingOffset(){const[y,E,e,i]=this.padding,[n,l,O]=[(i-E)/2,(y-e)/2,0];return[n,l,O]}constructor(y){this.landmarkCounter=0,this.context=y;const[E,e]=this.paddingOffset,{zoom:i,rotation:n,x:l=E,y:O=e}=y.options;this.transform({mode:"absolute",scale:i,translate:[l,O],rotate:n},!1)}get camera(){const{canvas:y}=this.context;return new Proxy(y.getCamera(),{get:(E,e)=>{const n=Object.entries(y.getLayers()).filter(([O])=>!["main"].includes(O)).map(([,O])=>O.getCamera()),l=E[e];if(typeof l=="function")return(...O)=>{const C=l.apply(E,O);return n.forEach(T=>{T[e].apply(T,O)}),C}}})}createLandmark(y){return this.camera.createLandmark(`landmark-${this.landmarkCounter++}`,y)}getAnimation(y){const E=(0,c.Y4)(this.context.options,y);return E?(0,D.Z)(Object.assign({},E),["easing","duration"]):!1}getCanvasSize(){const{canvas:y}=this.context,{width:E=0,height:e=0}=y.getConfig();return[E,e]}getCanvasCenter(){const{canvas:y}=this.context,{width:E=0,height:e=0}=y.getConfig();return[E/2,e/2,0]}getViewportCenter(){const[y,E]=this.camera.getPosition();return[y,E,0]}getGraphCenter(){return this.context.graph.getViewportByCanvas(this.getCanvasCenter())}getZoom(){return this.camera.getZoom()}getRotation(){return this.camera.getRoll()}getTranslateOptions(y){const{camera:E}=this,{mode:e,translate:i=[]}=y,n=this.getZoom(),l=E.getPosition(),O=E.getFocalPoint(),[C,T]=this.getCanvasCenter(),[P=0,b=0,x=0]=i,I=(0,s.cs)([-P,-b,-x],n);return e==="relative"?{position:(0,s.IH)(l,I),focalPoint:(0,s.IH)(O,I)}:{position:(0,s.IH)([C,T,l[2]],I),focalPoint:(0,s.IH)([C,T,O[2]],I)}}getRotateOptions(y){const{mode:E,rotate:e=0}=y;return{roll:E==="relative"?this.camera.getRoll()+e:e}}getZoomOptions(y){const{zoomRange:E}=this.context.options,e=this.camera.getZoom(),{mode:i,scale:n=1}=y;return(0,p.Z)(i==="relative"?e*n:n,...E)}transform(y,E){return o(this,void 0,void 0,function*(){const{graph:e}=this.context,{translate:i,rotate:n,scale:l,origin:O}=y;this.cancelAnimation();const C=this.getAnimation(E);if((0,v.j8)(e,new v._U(m.VR.BEFORE_TRANSFORM,y)),!n&&l&&!i&&O&&!C){this.camera.setZoomByViewportPoint(this.getZoomOptions(y),O),(0,v.j8)(e,new v._U(m.VR.AFTER_TRANSFORM,y));return}const T={};if(i&&Object.assign(T,this.getTranslateOptions(y)),(0,M.Z)(n)&&Object.assign(T,this.getRotateOptions(y)),(0,M.Z)(l)&&Object.assign(T,{zoom:this.getZoomOptions(y)}),C)return(0,v.j8)(e,new v.Tm(m.VR.BEFORE_ANIMATE,m.ru.TRANSFORM,null,y)),new Promise(P=>{this.transformResolver=P,this.camera.gotoLandmark(this.createLandmark(T),Object.assign(Object.assign({},C),{onfinish:()=>{(0,v.j8)(e,new v.Tm(m.VR.AFTER_ANIMATE,m.ru.TRANSFORM,null,y)),(0,v.j8)(e,new v._U(m.VR.AFTER_TRANSFORM,y)),this.transformResolver=void 0,P()}}))});this.camera.gotoLandmark(this.createLandmark(T),{duration:0}),(0,v.j8)(e,new v._U(m.VR.AFTER_TRANSFORM,y))})}fitView(y,E){return o(this,void 0,void 0,function*(){const[e,i,n,l]=this.padding,{when:O="always",direction:C="both"}=y||{},[T,P]=this.context.canvas.getSize(),b=T-l-i,x=P-e-n,I=this.context.canvas.getBounds(),S=this.getBBoxInViewport(I),[K,N]=(0,h.qt)(S),z=C==="x"&&K>=b||C==="y"&&N>=x||C==="both"&&K>=b&&N>=x;if(O==="overflow"&&!z)return yield this.fitCenter({animation:E});const j=b/K,W=x/N,U=C==="x"?j:C==="y"?W:Math.min(j,W),F=this.getAnimation(E);Number.isFinite(U)&&(yield this.transform({mode:"relative",scale:U,translate:(0,s.IH)((0,s.$X)(this.getCanvasCenter(),this.getBBoxInViewport(I).center),(0,s.cs)(this.paddingOffset,U))},F))})}fitCenter(y){return o(this,void 0,void 0,function*(){const E=this.context.canvas.getBounds();yield this.focus(E,y)})}focusElements(y){return o(this,arguments,void 0,function*(E,e={}){const{element:i}=this.context;if(!i)return;const n=O=>e.shapes?O.getShape(e.shapes).getRenderBounds():O.getRenderBounds(),l=(0,h.SV)(E.map(O=>n(i.getElement(O))));yield this.focus(l,e)})}focus(y,E){return o(this,void 0,void 0,function*(){const e=this.context.graph.getViewportByCanvas(y.center),i=E.position||this.getCanvasCenter(),n=(0,s.$X)(i,e);yield this.transform({mode:"relative",translate:(0,s.IH)(n,this.paddingOffset)},E.animation)})}getBBoxInViewport(y){const{min:E,max:e}=y,{graph:i}=this.context,[n,l]=i.getViewportByCanvas(E),[O,C]=i.getViewportByCanvas(e),T=new u.mN;return T.setMinMax([n,l,0],[O,C,0]),T}isInViewport(y,E=!1,e=0){const{graph:i}=this.context,n=this.getCanvasSize(),[l,O]=i.getCanvasByViewport([0,0]),[C,T]=i.getCanvasByViewport(n);let P=new u.mN;return P.setMinMax([l,O,0],[C,T,0]),e&&(P=(0,h.cL)(P,e)),(0,a.wp)(y)?(0,h.W6)(y,P):E?(0,h.xn)(y,P):P.intersects(y)}cancelAnimation(){var y,E;!((y=this.camera.landmarks)===null||y===void 0)&&y.length&&this.camera.cancelLandmarkAnimation(),(E=this.transformResolver)===null||E===void 0||E.call(this)}}},25008:function(it,w,t){"use strict";t.d(w,{U:function(){return M}});const u=["#7E92B5","#F4664A","#FFBE3A"],D={type:"group",color:["#1783FF","#00C9C9","#F08F56","#D580FF","#7863FF","#DB9D0D","#60C42D","#FF80CA","#2491B3","#17C76F"]},p={type:"group",color:["#99ADD1","#1783FF","#00C9C9","#F08F56","#D580FF","#7863FF","#DB9D0D","#60C42D","#FF80CA","#2491B3","#17C76F"]};function M(m){const{bgColor:c,textColor:h,nodeColor:v,nodeColorDisabled:a,nodeStroke:r,nodeHaloStrokeOpacityActive:s=.15,nodeHaloStrokeOpacitySelected:o=.25,nodeOpacityDisabled:d=.06,nodeIconOpacityInactive:f=.85,nodeOpacityInactive:y=.25,nodeBadgePalette:E=u,nodePaletteOptions:e=D,edgeColor:i,edgeColorDisabled:n,edgePaletteOptions:l=p,comboColor:O,comboColorDisabled:C,comboStroke:T,comboStrokeDisabled:P,edgeColorInactive:b}=m;return{background:c,node:{palette:e,style:{donutOpacity:1,badgeBackgroundOpacity:1,badgeFill:"#fff",badgeFontSize:8,badgePadding:[0,4],badgePalette:E,fill:v,fillOpacity:1,halo:!1,iconFill:"#fff",iconOpacity:1,labelBackground:!1,labelBackgroundFill:c,labelBackgroundLineWidth:0,labelBackgroundOpacity:.75,labelFill:h,labelFillOpacity:.85,labelLineHeight:16,labelPadding:[0,2],labelFontSize:12,labelFontWeight:400,labelOpacity:1,labelOffsetY:2,lineWidth:0,portFill:v,portLineWidth:1,portStroke:r,portStrokeOpacity:.65,size:32,stroke:r,strokeOpacity:1,zIndex:2},state:{selected:{halo:!0,haloLineWidth:24,haloStrokeOpacity:o,labelFontSize:12,labelFontWeight:"bold",lineWidth:4,stroke:r},active:{halo:!0,haloLineWidth:12,haloStrokeOpacity:s},highlight:{labelFontWeight:"bold",lineWidth:4,stroke:r,strokeOpacity:.85},inactive:{badgeBackgroundOpacity:y,donutOpacity:y,fillOpacity:y,iconOpacity:f,labelFill:h,labelFillOpacity:y,strokeOpacity:y},disabled:{badgeBackgroundOpacity:.25,donutOpacity:d,fill:a,fillOpacity:d,iconFill:a,iconOpacity:.25,labelFill:h,labelFillOpacity:.25,strokeOpacity:d}},animation:{enter:"fade",exit:"fade",show:"fade",hide:"fade",expand:"node-expand",collapse:"node-collapse",update:[{fields:["x","y","fill","stroke"]}],translate:[{fields:["x","y"]}]}},edge:{palette:l,style:{badgeBackgroundFill:i,badgeFill:"#fff",badgeFontSize:8,badgeOffsetX:10,badgeBackgroundOpacity:1,fillOpacity:1,halo:!1,haloLineWidth:12,haloStrokeOpacity:1,increasedLineWidthForHitTesting:2,labelBackground:!1,labelBackgroundFill:c,labelBackgroundLineWidth:0,labelBackgroundOpacity:.75,labelBackgroundPadding:[4,4,4,4],labelFill:h,labelFontSize:12,labelFontWeight:400,labelOpacity:1,labelPlacement:"center",labelTextBaseline:"middle",lineWidth:1,stroke:i,strokeOpacity:1,zIndex:1},state:{selected:{halo:!0,haloStrokeOpacity:.25,labelFontSize:14,labelFontWeight:"bold",lineWidth:3},active:{halo:!0,haloStrokeOpacity:.15},highlight:{labelFontWeight:"bold",lineWidth:3},inactive:{stroke:b,fillOpacity:.08,labelOpacity:.25,strokeOpacity:.08,badgeBackgroundOpacity:.25},disabled:{stroke:n,fillOpacity:.45,strokeOpacity:.45,labelOpacity:.25,badgeBackgroundOpacity:.45}},animation:{enter:"fade",exit:"fade",expand:"path-in",collapse:"path-out",show:"fade",hide:"fade",update:[{fields:["sourceNode","targetNode"]},{fields:["stroke"],shape:"key"}],translate:[{fields:["sourceNode","targetNode"]}]}},combo:{style:{collapsedMarkerFill:c,collapsedMarkerFontSize:12,collapsedMarkerFillOpacity:1,collapsedSize:32,collapsedFillOpacity:1,fill:O,halo:!1,haloLineWidth:12,haloStroke:T,haloStrokeOpacity:.25,labelBackground:!1,labelBackgroundFill:c,labelBackgroundLineWidth:0,labelBackgroundOpacity:.75,labelBackgroundPadding:[2,4,2,4],labelFill:h,labelFontSize:12,labelFontWeight:400,labelOpacity:1,lineDash:0,lineWidth:1,fillOpacity:.04,strokeOpacity:1,padding:10,stroke:T},state:{selected:{halo:!0,labelFontSize:14,labelFontWeight:700,lineWidth:4},active:{halo:!0},highlight:{labelFontWeight:700,lineWidth:4},inactive:{fillOpacity:.65,labelOpacity:.25,strokeOpacity:.65},disabled:{fill:C,fillOpacity:.25,labelOpacity:.25,stroke:P,strokeOpacity:.25}},animation:{enter:"fade",exit:"fade",show:"fade",hide:"fade",expand:"combo-expand",collapse:"combo-collapse",update:[{fields:["x","y"]},{fields:["fill","stroke","lineWidth"],shape:"key"}],translate:[{fields:["x","y"]}]}}}}},27251:function(it,w,t){"use strict";t.d(w,{_:function(){return M}});var u=t(25008);const p={bgColor:"#000000",comboColor:"#fdfdfd",comboColorDisabled:"#d0e4ff",comboStroke:"#99add1",comboStrokeDisabled:"#969696",edgeColor:"#637088",edgeColorDisabled:"#637088",edgeColorInactive:"#D0E4FF",edgePaletteOptions:{type:"group",color:["#637088","#0F55A6","#008383","#9C5D38","#8B53A6","#4E40A6","#8F6608","#3E801D","#A65383","#175E75","#0F8248"]},nodeColor:"#1783ff",nodeColorDisabled:"#D0E4FF",nodeHaloStrokeOpacityActive:.25,nodeHaloStrokeOpacitySelected:.45,nodeIconOpacityInactive:.45,nodeOpacityDisabled:.25,nodeOpacityInactive:.45,nodeStroke:"#d0e4ff",textColor:"#ffffff"},M=(0,u.U)(p)},25439:function(it,w,t){"use strict";t.d(w,{R:function(){return D.R},_:function(){return u._}});var u=t(27251),D=t(80882)},80882:function(it,w,t){"use strict";t.d(w,{R:function(){return p}});var u=t(25008);const D={bgColor:"#ffffff",comboColor:"#99ADD1",comboColorDisabled:"#f0f0f0",comboStroke:"#99add1",comboStrokeDisabled:"#d9d9d9",edgeColor:"#99add1",edgeColorDisabled:"#d9d9d9",edgeColorInactive:"#1B324F",nodeColor:"#1783ff",nodeColorDisabled:"#1B324F",nodeHaloStrokeOpacityActive:.15,nodeHaloStrokeOpacitySelected:.25,nodeIconOpacityInactive:.85,nodeOpacityDisabled:.06,nodeOpacityInactive:.25,nodeStroke:"#000000",textColor:"#000000"},p=(0,u.U)(D)},22961:function(it,w,t){"use strict";t.d(w,{t:function(){return p}});var u=t(29193),D=t(51690);class p extends D.r{beforeDraw(m){const{model:c}=this.context,h=m.add.combos,v=a=>{const r=[];return a.forEach((s,o)=>{const f=c.getAncestorsData(o,"combo").map(y=>(0,u.jD)(y)).reverse();r.push([o,s,f.length])}),new Map(r.sort(([,,s],[,,o])=>o-s).map(([s,o])=>[s,o]))};return m.add.combos=v(h),m.update.combos=v(m.update.combos),m}}},51690:function(it,w,t){"use strict";t.d(w,{r:function(){return D}});var u=t(30054);class D extends u.j{beforeDraw(M,m){return M}afterLayout(M,m){}}},89837:function(it,w,t){"use strict";t.d(w,{j:function(){return h}});var u=t(23098),D=t(5343),p=t(41632),M=t(29193),m=t(51690),c=t(96531);class h extends m.r{beforeDraw(a,r){if(r.stage==="visibility"||!this.context.model.model.hasTreeStructure(u.dK))return a;const{model:s}=this.context,{add:o,update:d}=a,f=[...a.update.combos.entries(),...a.add.combos.entries()];for(;f.length;){const[y,E]=f.pop();if((0,D.z)(E)){const e=s.getDescendantsData(y),i=e.map(M.jD),{internal:n,external:l}=(0,p.$t)(i,O=>s.getRelatedEdgesData(O));e.forEach(O=>{const C=(0,M.jD)(O),T=f.findIndex(([b])=>b===C);T!==-1&&f.splice(T,1);const P=s.getElementType(C);(0,c.o)(a,"remove",P,O)}),n.forEach(O=>(0,c.o)(a,"remove","edge",O)),l.forEach(O=>{var C;const T=(0,M.jD)(O);((C=this.context.element)===null||C===void 0?void 0:C.getElement(T))?d.edges.set(T,O):o.edges.set(T,O)})}else{const e=s.getChildrenData(y),i=e.map(M.jD),{edges:n}=(0,p.$t)(i,l=>s.getRelatedEdgesData(l));[...e,...n].forEach(l=>{var O;const C=(0,M.jD)(l),T=s.getElementType(C);((O=this.context.element)===null||O===void 0?void 0:O.getElement(C))?(0,c.o)(a,"update",T,l):(0,c.o)(a,"add",T,l),T==="combo"&&f.push([C,l])})}}return a}}},8573:function(it,w,t){"use strict";t.d(w,{w:function(){return h}});var u=t(23098),D=t(5343),p=t(29193),M=t(51690),m=t(96531);const c=(v,a,r,s)=>{const o=`${r}s`,d=(0,p.jD)(s);!v.add[o].has(d)&&!v.update[o].has(d)&&v[a][o].set((0,p.jD)(s),s)};class h extends M.r{getElement(a){return this.context.element.getElement(a)}handleExpand(a,r){if(c(r,"add","node",a),(0,D.z)(a))return;const s=(0,p.jD)(a);c(r,"add","node",a),this.context.model.getRelatedEdgesData(s).forEach(f=>{(0,m.o)(r,"add","edge",f)}),this.context.model.getChildrenData(s).forEach(f=>{this.handleExpand(f,r)})}beforeDraw(a){const{graph:r,model:s}=this.context;if(!s.model.hasTreeStructure(u.pf))return a;const{add:{nodes:o,edges:d},update:{nodes:f}}=a,y=new Map,E=new Map;o.forEach((i,n)=>{(0,D.z)(i)&&y.set(n,i)}),d.forEach(i=>{if(r.getElementType(i.source)!=="node")return;const n=r.getNodeData(i.source);(0,D.z)(n)&&y.set(i.source,n)}),f.forEach((i,n)=>{const l=this.getElement(n);if(!l)return;const O=l.attributes.collapsed;(0,D.z)(i)?O||y.set(n,i):O&&E.set(n,i)});const e=new Set;return y.forEach((i,n)=>{s.getDescendantsData(n).forEach(O=>{const C=(0,p.jD)(O);if(e.has(C))return;(0,m.o)(a,"remove","node",O),s.getRelatedEdgesData(C).forEach(P=>{(0,m.o)(a,"remove","edge",P)}),e.add(C)})}),E.forEach((i,n)=>{if(s.getAncestorsData(n,u.pf).some(D.z)){(0,m.o)(a,"remove","node",i);return}this.handleExpand(i,a)}),a}}},10640:function(it,w,t){"use strict";t.d(w,{I:function(){return c},v:function(){return m}});var u=t(23098),D=t(15707),p=t(41632),M=t(51690);class m extends M.r{beforeDraw(v){const{add:a,update:r}=v,{model:s}=this.context;return[...a.edges.entries(),...r.edges.entries()].forEach(([,o])=>{c(s,o)}),v}}const c=(h,v)=>{const{source:a,target:r}=v,s=h.getElementDataById(a),o=h.getElementDataById(r),d=(0,p._u)(s,i=>h.getParentData(i,u.dK)),f=(0,p._u)(o,i=>h.getParentData(i,u.dK)),y=(0,D.jD)(d),E=(0,D.jD)(f),e={sourceNode:y,targetNode:E};return v.style?Object.assign(v.style,e):v.style=e,v}},24469:function(it,w,t){"use strict";t.d(w,{Co:function(){return a.C},jm:function(){return p.j},nA:function(){return v.nA},tN:function(){return h.t},tX:function(){return u.t},to:function(){return c.t},vi:function(){return m.v},wP:function(){return M.w}});var u=t(22961),D=t(51690),p=t(89837),M=t(8573),m=t(10640),c=t(45339),h=t(10845),v=t(80924),a=t(49217)},45339:function(it,w,t){"use strict";t.d(w,{t:function(){return r}});var u=t(48690),D=t(88458),p=t(1883),M=t(29193),m=t(17439),c=t(11271),h=t(33626),v=t(51690),a=t(96531);class r extends v.r{constructor(o,d){super(o,(0,u.Z)({},r.defaultOptions,d)),this.assignSizeByCentrality=(f,y,E,e,i,n)=>{const l=[y,E],O=[e[0],i[0]],C=[e[1],i[1]],T=[e[2],i[2]],P=(b,x)=>{if(typeof n=="function")return n(b,l,x);switch(n){case"linear":return(0,c.GE)(b,l,x);case"log":return(0,c.cM)(b,l,x);case"pow":return(0,c.sQ)(b,l,x,2);case"sqrt":return(0,c._b)(b,l,x);default:return x[0]}};return[P(f,O),P(f,C),P(f,T)]}}beforeDraw(o){const{model:d}=this.context,f=d.getNodeData(),y=(0,h._)(this.options.maxSize),E=(0,h._)(this.options.minSize),e=this.getCentralities(this.options.centrality),i=e.size>0?Math.max(...e.values()):0,n=e.size>0?Math.min(...e.values()):0;return f.forEach(l=>{var O;const C=this.assignSizeByCentrality(e.get((0,M.jD)(l))||0,n,i,E,y,this.options.scale),T=(O=this.context.element)===null||O===void 0?void 0:O.getElement((0,M.jD)(l)),P={size:C};this.assignLabelStyle(P,C,l,T),(!T||!(0,a.A)(P,T.attributes))&&(0,a.o)(o,T?"update":"add","node",(0,u.Z)(l,{style:P}),!0)}),o}assignLabelStyle(o,d,f,y){var E;const e=y?y.config.style:(E=this.context.element)===null||E===void 0?void 0:E.getElementComputedStyle("node",f);if(Object.assign(o,(0,D.Z)(e,["labelFontSize","labelLineHeight"])),this.options.mapLabelSize){const i=this.getLabelSizeByNodeSize(d,1/0,Number(o.labelFontSize));Object.assign(o,{labelFontSize:i,labelLineHeight:i+(0,m.aY)(o.labelPadding)})}return o}getLabelSizeByNodeSize(o,d,f){const y=Math.min(...o)/2,[E,e]=Array.isArray(this.options.mapLabelSize)?this.options.mapLabelSize:[f,d];return Math.min(e,Math.max(y,E))}getCentralities(o){const{model:d}=this.context,f=d.getData();if(typeof o=="function")return o(f);const y=d.getRelatedEdgesData.bind(d);return(0,p.iZ)(f,y,o)}}r.defaultOptions={centrality:{type:"degree"},maxSize:80,minSize:20,scale:"linear",mapLabelSize:!1}},10845:function(it,w,t){"use strict";t.d(w,{t:function(){return h}});var u=t(81614),D=t(29193),p=t(49559),M=t(33626),m=t(26192),c=t(51690);class h extends c.r{constructor(a,r){super(a,Object.assign({},h.defaultOptions,r))}get ref(){return this.context.model.getRootsData()[0]}afterLayout(){var a;const r=(0,p.TA)(this.ref),{graph:s,model:o}=this.context;(a=o.getData().nodes)===null||a===void 0||a.forEach(f=>{var y;if((0,D.jD)(f)===(0,D.jD)(this.ref))return;const E=(0,m.BJ)((0,m.$X)((0,p.TA)(f),r)),e=Math.abs(E)>Math.PI/2,i=!f.children||f.children.length===0,n=(0,D.jD)(f),l=(y=this.context.element)===null||y===void 0?void 0:y.getElement(n);if(!l||!l.isVisible())return;const O=(0,M._)(s.getElementRenderStyle(n).size)[0]/2,C=(i?1:-1)*(O+this.options.offset),T=[["translate",C*Math.cos(E),C*Math.sin(E)],["rotate",e?(0,u.BV)(E)+180:(0,u.BV)(E)]];o.updateNodeData([{id:(0,D.jD)(f),style:{labelTextAlign:e===i?"right":"left",labelTextBaseline:"middle",labelTransform:T}}])}),s.draw()}}h.defaultOptions={offset:5}},80924:function(it,w,t){"use strict";t.d(w,{nA:function(){return o}});var u=t(61989),D=t(99666),p=t(29803),M=t(84237),m=t(98478),c=t(29193),h=t(51690),v=t(10640),a=t(96531);const r="quadratic",s=["top","top-right","right","right-bottom","bottom","bottom-left","left","left-top"];class o extends h.r{constructor(e,i){super(e,Object.assign({},o.defaultOptions,i)),this.cacheMergeStyle=new Map,this.getAffectedParallelEdges=n=>{const{add:{edges:l},update:{nodes:O,edges:C,combos:T},remove:{edges:P}}=n,{model:b}=this.context,x=new Map,I=(N,z)=>{b.getRelatedEdgesData(z).forEach(W=>!x.has((0,c.jD)(W))&&x.set((0,c.jD)(W),W))};O.forEach(I),T.forEach(I);const S=N=>{const z=new Set(n.remove.edges.keys()),j=b.getEdgeData().filter(W=>!z.has((0,c.jD)(W))).map(W=>(0,v.I)(b,W));f(N,j,!0).forEach(W=>{const U=(0,c.jD)(W);x.has(U)||x.set(U,W)})};if(P.size&&P.forEach(S),l.size&&l.forEach(S),C.size){const N=(0,m._)((0,m.G)(b.getChanges())).update.edges;C.forEach(z=>{var j;S(z);const W=(j=N.find(U=>(0,c.jD)(U.value)===(0,c.jD)(z)))===null||j===void 0?void 0:j.original;W&&!y(z,W)&&S(W)})}(0,u.Z)(this.options.edges)||x.forEach((N,z)=>!this.options.edges.includes(z)&&x.delete(z));const K=b.getEdgeData().map(c.jD);return new Map([...x].sort((N,z)=>K.indexOf(N[0])-K.indexOf(z[0])))},this.applyBundlingStyle=(n,l,O)=>{const{edgeMap:C,reverses:T}=d(l);C.forEach(P=>{P.forEach((b,x,I)=>{var S;const K=I.length,N=b.style||{};if(b.source===b.target){const W=s.length;N.loopPlacement=s[x%W],N.loopDist=Math.floor(x/W)*O+50}else if(K===1)N.curveOffset=0;else{const W=(x%2===0?1:-1)*(T[`${b.source}|${b.target}|${x}`]?-1:1);N.curveOffset=K%2===1?W*Math.ceil(x/2)*O*2:W*(Math.floor(x/2)*O*2+O)}const z=Object.assign(b,{type:r,style:N}),j=(S=this.context.element)===null||S===void 0?void 0:S.getElement((0,c.jD)(b));(!j||!(0,a.A)(z.style,j.attributes))&&(0,a.o)(n,j?"update":"add","edge",z,!0)})})},this.resetEdgeStyle=n=>{const l=n.style||{},O=this.cacheMergeStyle.get((0,c.jD)(n))||{};return Object.keys(O).forEach(C=>{(0,D.Z)(l[C],O[C])&&(n[C]?l[C]=n[C]:delete l[C])}),Object.assign(n,{style:l})},this.applyMergingStyle=(n,l)=>{const{edgeMap:O,reverses:C}=d(l);O.forEach(T=>{var P;if(T.length===1){const x=T[0],I=(P=this.context.element)===null||P===void 0?void 0:P.getElement((0,c.jD)(x)),S=this.resetEdgeStyle(x);(!I||!(0,a.A)(S,I.attributes))&&(0,a.o)(n,I?"update":"add","edge",S);return}const b=T.map(({source:x,target:I,style:S={}},K)=>{const{startArrow:N,endArrow:z}=S,j={},[W,U]=C[`${x}|${I}|${K}`]?["endArrow","startArrow"]:["startArrow","endArrow"];return(0,p.Z)(N)&&(j[W]=N),(0,p.Z)(z)&&(j[U]=z),j}).reduce((x,I)=>Object.assign(Object.assign({},x),I),{});T.forEach((x,I,S)=>{var K;if(I!==0){(0,a.o)(n,"remove","edge",x);return}const N=Object.assign({},(0,M.Z)(this.options.style)?this.options.style(S):this.options.style,{childrenData:S});this.cacheMergeStyle.set((0,c.jD)(x),N);const z=Object.assign(Object.assign({},x),{type:"line",style:Object.assign(Object.assign(Object.assign({},x.style),b),N)}),j=(K=this.context.element)===null||K===void 0?void 0:K.getElement((0,c.jD)(x));(!j||!(0,a.A)(z.style,j.attributes))&&(0,a.o)(n,j?"update":"add","edge",z,!0)})})}}beforeDraw(e){const i=this.getAffectedParallelEdges(e);return i.size===0||(this.options.mode==="bundle"?this.applyBundlingStyle(e,i,this.options.distance):this.applyMergingStyle(e,i)),e}}o.defaultOptions={mode:"bundle",distance:15};const d=E=>{const e=new Map,i=new Set,n={},l=new Map;for(const[O,C]of E){if(i.has(O))continue;const{source:T,target:P}=C,b=`${T}-${P}`;e.has(b)||(e.set(b,[]),l.set(b,new Set));const x=e.get(b),I=l.get(b);x&&I&&!I.has(O)&&(x.push(C),I.add(O),i.add(O));for(const[S,K]of E)if(!(i.has(S)||S===O)&&y(C,K)){const N=e.get(b),z=l.get(b);N&&z&&!z.has(S)&&(N.push(K),z.add(S),T===K.target&&P===K.source&&(n[`${K.source}|${K.target}|${N.length-1}`]=!0),i.add(S))}}return{edgeMap:e,reverses:n}},f=(E,e,i)=>e.filter(n=>(i||(0,c.jD)(n)!==(0,c.jD)(E))&&y(n,E)),y=(E,e)=>{const{sourceNode:i,targetNode:n}=E.style||{},{sourceNode:l,targetNode:O}=e.style||{};return i===l&&n===O||i===O&&n===l}},49217:function(it,w,t){"use strict";t.d(w,{C:function(){return p}});var u=t(29193),D=t(51690);class p extends D.r{beforeDraw(m,c){const{stage:h}=c;if(h==="visibility")return m;const{model:v}=this.context,{update:{nodes:a,edges:r,combos:s}}=m,o=(d,f)=>{v.getRelatedEdgesData(f).forEach(E=>!r.has((0,u.jD)(E))&&r.set((0,u.jD)(E),E))};return a.forEach(o),s.forEach(o),m}}},96531:function(it,w,t){"use strict";t.d(w,{A:function(){return p},o:function(){return D}});var u=t(29193);function D(M,m,c,h,v){const a=(0,u.jD)(h),r=`${c}s`,s=v?h:M.add[r].get(a)||M.update[r].get(a)||M.remove[r].get(a)||h;Object.entries(M).forEach(([o,d])=>{m===o?d[r].set(a,s):d[r].delete(a)})}function p(M,m){return Object.keys(M).every(c=>M[c]===m[c])}},69759:function(it,w,t){"use strict";t.d(w,{HK:function(){return r},Y4:function(){return s},dk:function(){return a},tI:function(){return d},zt:function(){return v}});var u=t(89148),D=t(99666),p=t(70373),M=t(23098),m=t(15186),c=t(90040),h=t(2348);function v(f,y){if(Array.isArray(f)&&f.length===0)return null;const E=Array.isArray(f)?f[0]:f,e=Array.isArray(f)?f.slice(1):y||[];return new Proxy(E,{get(i,n){return typeof i[n]=="function"&&!["onframe","onfinish"].includes(n)?(...l)=>{i[n](...l),e.forEach(O=>{var C;return(C=O[n])===null||C===void 0?void 0:C.call(O,...l)})}:n==="finished"?Promise.all([E.finished,...e.map(l=>l.finished)]):Reflect.get(i,n)},set(i,n,l){return["onframe","onfinish"].includes(n)||e.forEach(O=>{O[n]=l}),Reflect.set(i,n,l)}})}function a(f){const y=f.reduce((e,i)=>(Object.entries(i).forEach(([n,l])=>{e[n]===void 0?e[n]=[l]:e[n].push(l)}),e),{});Object.entries(y).forEach(([e,i])=>{(i.length!==f.length||i.some(n=>(0,u.Z)(n))||i.every(n=>!["sourceNode","targetNode","childrenNode"].includes(e)&&(0,D.Z)(n,i[0])))&&delete y[e]});const E=Object.entries(y).reduce((e,[i,n])=>(n.forEach((l,O)=>{e[O]?e[O][i]=l:e[O]={[i]:l}}),e),[]);return f.length!==0&&E.length===0&&E.push({_:0},{_:0}),E}function r(f){switch(f){case"opacity":return 1;case"x":case"y":case"z":case"zIndex":return 0;case"visibility":return"visible";case"collapsed":return!1;case"states":return[];default:return}}function s(f,y){const{animation:E}=f;if(E===!1||y===!1)return!1;const e=Object.assign({},M.Xy);return(0,p.Z)(E)&&Object.assign(e,E),(0,p.Z)(y)&&Object.assign(e,y),e}function o(f){if(typeof f=="string"){const y=(0,m.R)(M.MD.ANIMATION,f);return y||(c.S.warn(`The animation of ${f} is not registered.`),[])}return f}function d(f,y,E,e){var i,n;const{animation:l}=f;if(l===!1||e===!1)return[];const O=(i=f==null?void 0:f[y])===null||i===void 0?void 0:i.animation;if(O===!1)return[];const C=O==null?void 0:O[E];if(C===!1)return[];const T=(n=(0,h.c)(f)[y])===null||n===void 0?void 0:n.animation,P=(x=[])=>o(x).map(I=>Object.assign(Object.assign(Object.assign(Object.assign({},M.Am),(0,p.Z)(l)&&l),I),(0,p.Z)(e)&&e));if(C)return P(C);if(!T)return[];const b=T[E];return b===!1?[]:P(b)}},52877:function(it,w,t){"use strict";t.d(w,{Js:function(){return a},RO:function(){return i},Ru:function(){return c},S4:function(){return n},SV:function(){return o},W6:function(){return f},Y4:function(){return C},cL:function(){return s},ew:function(){return l},g8:function(){return E},o4:function(){return y},q8:function(){return e},qt:function(){return v},uU:function(){return r},vs:function(){return h},wK:function(){return O},xn:function(){return d}});var u=t(81614),D=t(21914),p=t(76824),M=t(89824),m=t(17439);function c(T){return T.max[0]-T.min[0]}function h(T){return T.max[1]-T.min[1]}function v(T){return[c(T),h(T)]}function a(T,P){const b=(0,p.wp)(T)?r(T):T.getShape("key").getBounds();return P?s(b,P):b}function r(T){const[P,b,x=0]=T,I=new u.mN;return I.setMinMax([P,b,x],[P,b,x]),I}function s(T,P){const[b,x,I,S]=(0,m.dj)(P),[K,N,z]=T.min,[j,W,U]=T.max,F=new u.mN;return F.setMinMax([K-S,N-b,z],[j+x,W+I,U]),F}function o(T){if(T.length===0)return new u.mN;if(T.length===1)return T[0];const P=new u.mN;P.setMinMax(T[0].min,T[0].max);for(let b=1;b<T.length;b++){const x=T[b];P.setMinMax([Math.min(P.min[0],x.min[0]),Math.min(P.min[1],x.min[1]),Math.min(P.min[2],x.min[2])],[Math.max(P.max[0],x.max[0]),Math.max(P.max[1],x.max[1]),Math.max(P.max[2],x.max[2])])}return P}function d(T,P){const[b,x]=T.min,[I,S]=T.max,[K,N]=P.min,[z,j]=P.max;return b>=K&&I<=z&&x>=N&&S<=j}function f(T,P){return(0,M.K)(T[0],P.min[0],P.max[0])&&(0,M.K)(T[1],P.min[1],P.max[1])}function y(T,P,b=!1){const{min:[x,I],max:[S,K]}=P,N=(T[1]===I||T[1]===K)&&(b||(0,M.K)(T[0],x,S)),z=(T[0]===x||T[0]===S)&&(b||(0,M.K)(T[1],I,K));return N||z}function E(T,P){return!f(T,P)}function e(T,P){const{center:b}=P;return T[0]===b[0]&&T[1]===b[1]}function i(T,P){const[b,x]=T,[I,S]=P.min,[K,N]=P.max,z=b-I,j=K-b,W=x-S,U=N-x,F=Math.min(z,j,W,U);return F===z?"left":F===j?"right":F===W?"top":F===U?"bottom":"left"}function n(T,P){const b=(0,D.Z)(T);if(f(T,P))switch(i(T,P)){case"left":b[0]=P.min[0];break;case"right":b[0]=P.max[0];break;case"top":b[1]=P.min[1];break;case"bottom":b[1]=P.max[1];break}else{const[x,I]=T,[S,K]=P.min,[N,z]=P.max;b[0]=(0,M.K)(x,S,N)?x:x<S?S:N,b[1]=(0,M.K)(I,K,z)?I:I<K?K:z}return b}function l(T,P){const{center:b}=T,[x,I]=v(T),S=P==="up"||P==="down"?b[0]:P==="right"?b[0]-x/6:b[0]+x/6,K=P==="left"||P==="right"?b[1]:P==="down"?b[1]-I/6:b[1]+I/6;return[S,K]}function O(T,P){let[b,x]=v(T);return[b,x]=P==="up"||P==="down"?[b,x]:[x,b],(Math.pow(x,2)-Math.pow(Math.sqrt(Math.pow(b/2,2)+Math.pow(x,2))-b/2,2))/(2*x)}function C(T){const{min:[P,b],max:[x,I]}=T,S=[P,I],K=[x,I],N=[x,b],z=[P,b];return[[S,K],[K,N],[N,z],[z,S]]}},32794:function(it,w,t){"use strict";t.d(w,{BM:function(){return h},ZJ:function(){return c},l4:function(){return m}});var u=t(22040),D=t(28767);const p="cachedStyle",M=a=>`__${a}__`;function m(a,r){const s=Array.isArray(r)?r:[r];(0,u.Z)(a,p)||(0,D.Z)(a,p,{}),s.forEach(o=>{(0,D.Z)((0,u.Z)(a,p),M(o),a.attributes[o])})}function c(a,r){return(0,u.Z)(a,[p,M(r)])}function h(a,r){return M(r)in((0,u.Z)(a,p)||{})}function v(a,r,s){set(a,[p,M(r)],s)}},1883:function(it,w,t){"use strict";t.d(w,{iZ:function(){return p}});var u=t(27209),D=t(29193);const p=(s,o,d)=>{var f;switch(d.type){case"degree":{const y=new Map;return(f=s.nodes)===null||f===void 0||f.forEach(E=>{const e=o((0,D.jD)(E),d.direction).length;y.set((0,D.jD)(E),e)}),y}case"betweenness":return m(s,d.directed,d.weightPropertyName);case"closeness":return c(s,d.directed,d.weightPropertyName);case"eigenvector":return v(s,d.directed);case"pagerank":return h(s,d.epsilon,d.linkProb);default:return M(s)}},M=s=>{var o;const d=new Map;return(o=s.nodes)===null||o===void 0||o.forEach(f=>{d.set((0,D.jD)(f),0)}),d},m=(s,o,d)=>{const f=M(s),{nodes:y=[]}=s;return y.forEach(E=>{y.forEach(e=>{if(E!==e){const{allPath:i}=(0,u.ni)(s,(0,D.jD)(E),(0,D.jD)(e),o,d),n=i.length;i.flat().forEach(l=>{l!==(0,D.jD)(E)&&l!==(0,D.jD)(e)&&f.set(l,f.get(l)+1/n)})}})}),f},c=(s,o,d)=>{const f=new Map,{nodes:y=[]}=s;return y.forEach(E=>{const e=y.reduce((i,n)=>{if(E!==n){const{length:l}=(0,u.ni)(s,(0,D.jD)(E),(0,D.jD)(n),o,d);i+=l}return i},0);f.set((0,D.jD)(E),1/e)}),f},h=(s,o,d)=>{var f;const y=new Map,E=(0,u.EF)(s,o,d);return(f=s.nodes)===null||f===void 0||f.forEach(e=>{y.set((0,D.jD)(e),E[(0,D.jD)(e)])}),y},v=(s,o)=>{const{nodes:d=[]}=s,f=a(s,o),y=r(f,d.length),E=new Map;return d.forEach((e,i)=>{E.set((0,D.jD)(e),y[i])}),E},a=(s,o)=>{const{nodes:d=[],edges:f=[]}=s,y=Array(d.length).fill(null).map(()=>Array(d.length).fill(0));return f.forEach(({source:E,target:e})=>{const i=d.findIndex(l=>(0,D.jD)(l)===E),n=d.findIndex(l=>(0,D.jD)(l)===e);o?y[i][n]=1:(y[i][n]=1,y[n][i]=1)}),y},r=(s,o,d=100,f=1e-6)=>{let y=Array(o).fill(1),E=1/0;for(let e=0;e<d&&E>f;e++){const i=Array(o).fill(0);for(let l=0;l<o;l++)for(let O=0;O<o;O++)i[l]+=s[l][O]*y[O];const n=Math.sqrt(i.reduce((l,O)=>l+O*O,0));for(let l=0;l<o;l++)i[l]/=n;E=Math.sqrt(i.reduce((l,O,C)=>l+(O-y[C])*O,0)),y=i}return y}},98478:function(it,w,t){"use strict";t.d(w,{G:function(){return p},_:function(){return M}});var u=t(26218),D=t(29193);function p(m){const c={Added:new Map,Updated:new Map,Removed:new Map};return m.forEach(h=>{const{type:v,value:a}=h,r=(0,D.jD)(a);if(v==="NodeAdded"||v==="EdgeAdded"||v==="ComboAdded")c.Added.set(r,h);else if(v==="NodeUpdated"||v==="EdgeUpdated"||v==="ComboUpdated")if(c.Added.has(r))c.Added.set(r,{type:v.replace("Updated","Added"),value:a});else if(c.Updated.has(r)){const{original:s}=c.Updated.get(r);c.Updated.set(r,{type:v,value:a,original:s})}else c.Removed.has(r)||c.Updated.set(r,h);else(v==="NodeRemoved"||v==="EdgeRemoved"||v==="ComboRemoved")&&(c.Added.has(r)?c.Added.delete(r):(c.Updated.has(r)&&c.Updated.delete(r),c.Removed.set(r,h)))}),[...Array.from(c.Added.values()),...Array.from(c.Updated.values()),...Array.from(c.Removed.values())]}function M(m){const{NodeAdded:c=[],NodeUpdated:h=[],NodeRemoved:v=[],EdgeAdded:a=[],EdgeUpdated:r=[],EdgeRemoved:s=[],ComboAdded:o=[],ComboUpdated:d=[],ComboRemoved:f=[]}=(0,u.Z)(m,y=>y.type);return{add:{nodes:c,edges:a,combos:o},update:{nodes:h,edges:r,combos:d},remove:{nodes:v,edges:s,combos:f}}}},5343:function(it,w,t){"use strict";t.d(w,{z:function(){return u}});function u(D){var p;return!!(!((p=D.style)===null||p===void 0)&&p.collapsed)}},18023:function(it,w,t){"use strict";t.d(w,{Pv:function(){return m},fA:function(){return p},gU:function(){return D}});var u=function(c,h){var v={};for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&h.indexOf(a)<0&&(v[a]=c[a]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(c);r<a.length;r++)h.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(c,a[r])&&(v[a[r]]=c[a[r]]);return v};function D(c,h){const{data:v,style:a}=c,r=u(c,["data","style"]),{data:s,style:o}=h,d=u(h,["data","style"]),f=Object.assign(Object.assign({},r),d);return(v||s)&&Object.assign(f,{data:Object.assign(Object.assign({},v),s)}),(a||o)&&Object.assign(f,{style:Object.assign(Object.assign({},a),o)}),f}function p(c){const{data:h,style:v}=c,r=u(c,["data","style"]);return h&&(r.data=Object.assign({},h)),v&&(r.style=Object.assign({},v)),r}function M(c){return!get(c,["nodes","length"])&&!get(c,["edges","length"])&&!get(c,["combos","length"])}function m(c={},h={}){const{states:v=[],data:a={},style:r={},children:s=[]}=c,o=u(c,["states","data","style","children"]),{states:d=[],data:f={},style:y={},children:E=[]}=h,e=u(h,["states","data","style","children"]),i=(l,O)=>l.length!==O.length?!1:l.every((C,T)=>C===O[T]),n=(l,O)=>{const C=Object.keys(l),T=Object.keys(O);return C.length!==T.length?!1:C.every(P=>l[P]===O[P])};return!(!n(o,e)||!i(s,E)||!i(v,d)||!n(a,f)||!n(r,y))}},26898:function(it,w,t){"use strict";t.d(w,{t:function(){return D}});var u=t(99666);function D(p,M,m,c=u.Z){const h=new Map(p.map(y=>[m(y),y])),v=new Map(M.map(y=>[m(y),y])),a=new Set(h.keys()),r=new Set(v.keys()),s=[],o=[],d=[],f=[];return r.forEach(y=>{a.has(y)?c(h.get(y),v.get(y))?f.push(v.get(y)):o.push(v.get(y)):s.push(v.get(y))}),a.forEach(y=>{r.has(y)||d.push(h.get(y))}),{enter:s,exit:d,keep:f,update:o}}},24519:function(it,w,t){"use strict";t.d(w,{Q:function(){return M}});var u=t(26912);const D=m=>m?parseInt(m):0;function p(m){const c=getComputedStyle(m),h=m.clientWidth||D(c.width),v=m.clientHeight||D(c.height),a=D(c.paddingLeft)+D(c.paddingRight),r=D(c.paddingTop)+D(c.paddingBottom);return[h-a,v-r]}function M(m){if(!m)return[0,0];let c=640,h=480;const[v,a]=p(m);c=v||c,h=a||h;const r=1,s=1;return[Math.max((0,u.Z)(c)?c:r,r),Math.max((0,u.Z)(h)?h:s,s)]}},41632:function(it,w,t){"use strict";t.d(w,{$D:function(){return E},$t:function(){return x},AB:function(){return r},VC:function(){return f},WZ:function(){return P},YH:function(){return C},_u:function(){return I},aI:function(){return y},eu:function(){return i},kY:function(){return e},mA:function(){return s},wo:function(){return S},yU:function(){return d}});var u=t(99666),D=t(26912),p=t(52877),M=t(5343),m=t(23295),c=t(29193),h=t(59268),v=t(36614),a=t(26192);function r(K,N,z,j,W){let Y=typeof N=="number"?N:.5;N==="start"&&(Y=0),N==="end"&&(Y=.99);const V=(0,h.rx)(K.getPoint(Y)),X=(0,h.rx)(K.getPoint(Y+.01));let $=N==="start"?"left":N==="end"?"right":"center";if((0,h.wE)(V,X)||!z){const[ut,dt]=o(K,Y,j,W);return{transform:[["translate",ut,dt]],textAlign:$}}let rt=Math.atan2(X[1]-V[1],X[0]-V[0]);X[0]<V[0]&&($=$==="center"?$:$==="left"?"right":"left",j*=-1,rt+=Math.PI);const[tt,G]=o(K,Y,j,W,rt),nt=[["translate",tt,G],["rotate",rt/Math.PI*180]];return{textAlign:$,transform:nt}}function s(K,N,z,j,W){var U,F;const H=((U=K.badge)===null||U===void 0?void 0:U.getGeometryBounds().halfExtents[0])*2||0,Y=((F=K.label)===null||F===void 0?void 0:F.getGeometryBounds().halfExtents[0])*2||0;return r(K.key,z,!0,(Y?(Y/2+H/2)*(N==="suffix"?1:-1):0)+j,W)}function o(K,N,z,j,W){const[U,F]=(0,h.rx)(K.getPoint(N));let H=z,Y=j;return W&&(H=z*Math.cos(W)-j*Math.sin(W),Y=z*Math.sin(W)+j*Math.cos(W)),[U+H,F+Y]}function d(K,N,z,j){if((0,u.Z)(K,N))return K;const W=(0,a.$X)(N,K),U=[K[0]+z*W[0],K[1]+z*W[1]],F=(0,a.Fv)((0,a.xq)(W,!1));return U[0]+=j*F[0],U[1]+=j*F[1],U}function f(K){return(0,D.Z)(K)?[K,-K]:K}function y(K){return(0,D.Z)(K)?[K,1-K]:K}function E(K,N,z){return[["M",K[0],K[1]],["Q",z[0],z[1],N[0],N[1]]]}function e(K,N,z){return[["M",K[0],K[1]],["C",z[0][0],z[0][1],z[1][0],z[1][1],N[0],N[1]]]}function i(K,N=0,z=!1){const j=K.length-1,W=K[0],U=K[j],F=K.slice(1,j),H=[["M",W[0],W[1]]];return F.forEach((Y,V)=>{const X=F[V-1]||W,$=F[V+1]||U;if(!(0,h.cp)(X,Y,$)&&N){const[rt,ot]=n(X,Y,$,N);H.push(["L",rt[0],rt[1]],["Q",Y[0],Y[1],ot[0],ot[1]],["L",ot[0],ot[1]])}else H.push(["L",Y[0],Y[1]])}),H.push(["L",U[0],U[1]]),z&&H.push(["Z"]),H}function n(K,N,z,j){const W=(0,a.nk)(K,N),U=(0,a.nk)(z,N),F=Math.min(j,Math.min(W,U)/2),H=[N[0]-F/W*(N[0]-K[0]),N[1]-F/W*(N[1]-K[1])],Y=[N[0]-F/U*(N[0]-z[0]),N[1]-F/U*(N[1]-z[1])];return[H,Y]}const l=K=>{const N=Math.PI/2,z=(0,p.vs)(K)/2,j=(0,p.Ru)(K)/2,W=Math.atan2(z,j)/2,U=Math.atan2(j,z)/2;return{top:[-N-U,-N+U],"top-right":[-N+U,-W],"right-top":[-N+U,-W],right:[-W,W],"bottom-right":[W,N-U],"right-bottom":[W,N-U],bottom:[N-U,N+U],"bottom-left":[N+U,Math.PI-W],"left-bottom":[N+U,Math.PI-W],left:[Math.PI-W,Math.PI+W],"top-left":[Math.PI+W,-N-U],"left-top":[Math.PI+W,-N-U]}};function O(K,N,z,j,W){const U=(0,p.Js)(K),F=K.getCenter();let H=j&&(0,m.Z0)(j),Y=W&&(0,m.Z0)(W);if(!H||!Y){const V=l(U),X=V[N][0],$=V[N][1],[rt,ot]=(0,p.qt)(U),tt=Math.max(rt,ot),G=(0,a.IH)(F,[tt*Math.cos(X),tt*Math.sin(X),0]),nt=(0,a.IH)(F,[tt*Math.cos($),tt*Math.sin($),0]);H=(0,m._l)(K,G),Y=(0,m._l)(K,nt),z||([H,Y]=[Y,H])}return[H,Y]}function C(K,N,z,j,W,U){const F=K.getPorts()[W||U],H=K.getPorts()[U||W];let[Y,V]=O(K,N,z,F,H);const X=T(K,Y,V,j);return F&&(Y=(0,m.hk)(F,X[0])),H&&(V=(0,m.hk)(H,X.at(-1))),e(Y,V,X)}function T(K,N,z,j){const W=K.getCenter();if((0,u.Z)(N,z)){const U=(0,a.$X)(N,W),F=[j*Math.sign(U[0])||j/2,j*Math.sign(U[1])||-j/2,0];return[(0,a.IH)(N,F),(0,a.IH)(z,(0,a.Jp)(F,[1,-1,1]))]}return[(0,h.Ao)(W,N,(0,a.TE)(W,N)+j),(0,h.Ao)(W,z,(0,a.TE)(W,z)+j)]}function P(K,N,z,j,W,U,F){const H=(0,m.Vr)(K),Y=H[U||F],V=H[F||U];let[X,$]=O(K,z,j,Y,V);const rt=b(K,X,$,W);return Y&&(X=(0,m.hk)(Y,rt[0])),V&&($=(0,m.hk)(V,rt.at(-1))),i([X,...rt,$],N)}function b(K,N,z,j){const W=[],U=(0,p.Js)(K);if((0,u.Z)(N,z))switch((0,p.RO)(N,U)){case"left":W.push([N[0]-j,N[1]]),W.push([N[0]-j,N[1]+j]),W.push([N[0],N[1]+j]);break;case"right":W.push([N[0]+j,N[1]]),W.push([N[0]+j,N[1]+j]),W.push([N[0],N[1]+j]);break;case"top":W.push([N[0],N[1]-j]),W.push([N[0]+j,N[1]-j]),W.push([N[0]+j,N[1]]);break;case"bottom":W.push([N[0],N[1]+j]),W.push([N[0]+j,N[1]+j]),W.push([N[0]+j,N[1]]);break}else{const F=(0,p.RO)(N,U),H=(0,p.RO)(z,U);if(F===H){const Y=F;let V,X;switch(Y){case"left":V=Math.min(N[0],z[0])-j,W.push([V,N[1]]),W.push([V,z[1]]);break;case"right":V=Math.max(N[0],z[0])+j,W.push([V,N[1]]),W.push([V,z[1]]);break;case"top":X=Math.min(N[1],z[1])-j,W.push([N[0],X]),W.push([z[0],X]);break;case"bottom":X=Math.max(N[1],z[1])+j,W.push([N[0],X]),W.push([z[0],X]);break}}else{const Y=(rt,ot)=>({left:[ot[0]-j,ot[1]],right:[ot[0]+j,ot[1]],top:[ot[0],ot[1]-j],bottom:[ot[0],ot[1]+j]})[rt],V=Y(F,N),X=Y(H,z),$=(0,v.iS)(V,X,U);W.push(V,$,X)}}return W}function x(K,N){const z=new Set,j=new Set,W=new Set;return K.forEach(U=>{N(U).forEach(H=>{z.add(H),K.includes(H.source)&&K.includes(H.target)?j.add(H):W.add(H)})}),{edges:Array.from(z),internal:Array.from(j),external:Array.from(W)}}function I(K,N){const z=[];let j=K;for(;j;){z.push(j);const W=N((0,c.jD)(j));if(W)j=W;else break}if(z.some(W=>{var U;return(U=W.style)===null||U===void 0?void 0:U.collapsed})){const W=z.reverse().findIndex(M.z);return z[W]||z.at(-1)}return K}function S(K,N){return N||(K<4?10:K===4?12:K*2.5)}},23295:function(it,w,t){"use strict";t.d(w,{Jo:function(){return Y},KT:function(){return F},OQ:function(){return O},Ob:function(){return y},PH:function(){return n},Pe:function(){return z},UA:function(){return K},UC:function(){return W},UG:function(){return s},Uz:function(){return H},Vr:function(){return i},Xm:function(){return S},Ys:function(){return I},Z0:function(){return l},ZO:function(){return P},_l:function(){return x},_r:function(){return V},ch:function(){return e},hk:function(){return b},kK:function(){return f},lY:function(){return d},mw:function(){return N},pn:function(){return U},un:function(){return o},xE:function(){return X}});var u=t(27412),D=t(22040),p=t(26912),M=t(28767),m=t(2790),c=t(52877),h=t(76824),v=t(59268),a=t(49559),r=function($,rt){var ot={};for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&rt.indexOf(tt)<0&&(ot[tt]=$[tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var G=0,tt=Object.getOwnPropertySymbols($);G<tt.length;G++)rt.indexOf(tt[G])<0&&Object.prototype.propertyIsEnumerable.call($,tt[G])&&(ot[tt[G]]=$[tt[G]]);return ot};function s($){return $ instanceof m.Hd&&$.type==="node"}function o($){return $ instanceof m.u5}function d($){return $ instanceof m.Vy}function f($){return s($)||o($)||d($)}function y($,rt){return!$||!rt?!1:$===rt}const E={top:[.5,0],right:[1,.5],bottom:[.5,1],left:[0,.5],"left-top":[0,0],"top-left":[0,0],"left-bottom":[0,1],"bottom-left":[0,1],"right-top":[1,0],"top-right":[1,0],"right-bottom":[1,1],"bottom-right":[1,1],default:[.5,.5]};function e($,rt,ot=E,tt=!0){const G=[.5,.5],nt=(0,u.Z)(rt)?(0,D.Z)(ot,rt.toLocaleLowerCase(),G):rt;if(!tt&&(0,u.Z)(rt))return nt;const[ut,dt]=nt||G;return[$.min[0]+(0,c.Ru)($)*ut,$.min[1]+(0,c.vs)($)*dt]}function i($){if(!$)return{};const rt=$.getPorts();return($.attributes.ports||[]).forEach((tt,G)=>{var nt;const{key:ut,placement:dt}=tt;n(tt)&&(rt[nt=ut||G]||(rt[nt]=(0,a.V4)($.getShape("key").getBounds(),dt)))}),rt}function n($){const{r:rt}=$;return!rt||Number(rt)===0}function l($){return(0,h.wp)($)?$:$.getPosition()}function O($,rt,ot,tt){const G=C($,rt,ot,tt),nt=C(rt,$,tt,ot);return[G,nt]}function C($,rt,ot,tt){const G=i($);if(ot)return G[ot];const nt=Object.values(G);if(nt.length===0)return;const ut=nt.map(gt=>l(gt)),dt=T(rt,tt),[et]=(0,v.X_)(ut,dt);return nt.find(gt=>l(gt)===et)}function T($,rt){const ot=i($);if(rt)return[l(ot[rt])];const tt=Object.values(ot);return tt.length>0?tt.map(G=>l(G)):[$.getCenter()]}function P($,rt){return d($)||s($)?x($,rt):b($,rt)}function b($,rt){if(!$||!rt)return[0,0,0];if((0,h.wp)($))return $;if($.attributes.linkToCenter)return $.getPosition();const ot=(0,h.wp)(rt)?rt:s(rt)?rt.getCenter():rt.getPosition();return(0,v.te)(ot,$.getBounds())}function x($,rt){if(!$||!rt)return[0,0,0];const ot=(0,h.wp)(rt)?rt:s(rt)?rt.getCenter():rt.getPosition();return $.getIntersectPoint(ot)||$.getCenter()}function I($,rt="bottom",ot=0,tt=0,G=!1){const nt=rt.split("-"),[ut,dt]=(0,a.V4)($,rt),[et,gt]=G?["bottom","top"]:["top","bottom"],Et=nt.includes("top")?gt:nt.includes("bottom")?et:"middle",lt=nt.includes("left")?"right":nt.includes("right")?"left":"center";return{transform:[["translate",ut+ot,dt+tt]],textBaseline:Et,textAlign:lt}}function S($,rt){return[[0,-$],[rt*Math.cos(3*Math.PI/10),-rt*Math.sin(3*Math.PI/10)],[$*Math.cos(Math.PI/10),-$*Math.sin(Math.PI/10)],[rt*Math.cos(Math.PI/10),rt*Math.sin(Math.PI/10)],[$*Math.cos(3*Math.PI/10),$*Math.sin(3*Math.PI/10)],[0,rt],[-$*Math.cos(3*Math.PI/10),$*Math.sin(3*Math.PI/10)],[-rt*Math.cos(Math.PI/10),rt*Math.sin(Math.PI/10)],[-$*Math.cos(Math.PI/10),-$*Math.sin(Math.PI/10)],[-rt*Math.cos(3*Math.PI/10),-rt*Math.sin(3*Math.PI/10)]]}function K($,rt){const ot={};return ot.top=[0,-$],ot.left=[-$*Math.cos(Math.PI/10),-$*Math.sin(Math.PI/10)],ot["left-bottom"]=[-$*Math.cos(3*Math.PI/10),$*Math.sin(3*Math.PI/10)],ot.bottom=[0,rt],ot["right-bottom"]=[$*Math.cos(3*Math.PI/10),$*Math.sin(3*Math.PI/10)],ot.right=ot.default=[$*Math.cos(Math.PI/10),-$*Math.sin(Math.PI/10)],ot}function N($,rt,ot){const tt=rt/2,G=$/2,nt={up:[[-G,tt],[G,tt],[0,-tt]],left:[[-G,0],[G,tt],[G,-tt]],right:[[-G,tt],[-G,-tt],[G,0]],down:[[-G,-tt],[G,-tt],[0,tt]]};return nt[ot]||nt.up}function z($,rt,ot){const tt=rt/2,G=$/2,nt={};return ot==="down"?(nt.bottom=nt.default=[0,tt],nt.right=[G,-tt],nt.left=[-G,-tt]):ot==="left"?(nt.top=[G,-tt],nt.bottom=[G,tt],nt.left=nt.default=[-G,0]):ot==="right"?(nt.top=[-G,-tt],nt.bottom=[-G,tt],nt.right=nt.default=[G,0]):(nt.left=[-G,tt],nt.top=nt.default=[0,-tt],nt.right=[G,tt]),nt}function j($,rt){return[[$/2,-rt/2],[$/2,rt/2],[-$/2,rt/2],[-$/2,-rt/2]]}function W($,rt){return[[0,-rt/2],[$/2,0],[0,rt/2],[-$/2,0]]}function U($){return(0,D.Z)($,["style","visibility"])!=="hidden"}function F($,rt){const{zIndex:ot,transform:tt,transformOrigin:G,visibility:nt,cursor:ut,clipPath:dt,component:et}=rt,gt=r(rt,["zIndex","transform","transformOrigin","visibility","cursor","clipPath","component"]);Object.assign($.attributes,gt),tt&&$.setAttribute("transform",tt),(0,p.Z)(ot)&&$.setAttribute("zIndex",ot),G&&$.setAttribute("transformOrigin",G),nt&&$.setAttribute("visibility",nt),ut&&$.setAttribute("cursor",ut),dt&&$.setAttribute("clipPath",dt),et&&$.setAttribute("component",et)}function H($,rt){"update"in $?$.update(rt):$.attr(rt)}function Y($){return[[0,$],[$*Math.sqrt(3)/2,$/2],[$*Math.sqrt(3)/2,-$/2],[0,-$],[-$*Math.sqrt(3)/2,-$/2],[-$*Math.sqrt(3)/2,$/2]]}function V($){(0,M.Z)($,"__to_be_destroyed__",!0)}function X($){return(0,D.Z)($,"__to_be_destroyed__",!1)}},47232:function(it,w,t){"use strict";t.d(w,{I9:function(){return D},Tm:function(){return p},_U:function(){return m},mT:function(){return M}});class u{constructor(h){this.type=h}}class D extends u{constructor(h,v){super(h),this.data=v}}class p extends u{constructor(h,v,a,r){super(h),this.animationType=v,this.animation=a,this.data=r}}class M extends u{constructor(h,v,a){super(h),this.elementType=v,this.data=a}}class m extends u{constructor(h,v){super(h),this.data=v}}},1306:function(it,w,t){"use strict";t.d(w,{I9:function(){return p.I9},Tm:function(){return p.Tm},Xy:function(){return m},_U:function(){return p._U},j8:function(){return M},mT:function(){return p.mT}});var u=t(81614),D=t(23295),p=t(47232);function M(c,h){c.emit(h.type,h)}function m(c){if(!c)return null;if(c instanceof u.BB)return{type:"canvas",element:c};let h=c;for(;h;){if((0,D.UG)(h))return{type:"node",element:h};if((0,D.un)(h))return{type:"edge",element:h};if((0,D.lY)(h))return{type:"combo",element:h};h=h.parentElement}return null}},63183:function(it,w,t){"use strict";t.d(w,{r:function(){return u}});function u(D,p,M){const m={},c=h=>(h in m||(m[h]=0),`${p}-${h}-${m[h]++}`);return M.map(h=>typeof h=="string"?{type:h,key:c(h)}:typeof h=="function"?h.call(D):h.key?h:Object.assign(Object.assign({},h),{key:c(h.type)}))}},22860:function(it,w,t){"use strict";t.d(w,{en:function(){return m},hJ:function(){return h},o:function(){return c}});var u=t(23098),D=t(29193),p=t(76824),M=function(v,a){var r={};for(var s in v)Object.prototype.hasOwnProperty.call(v,s)&&a.indexOf(s)<0&&(r[s]=v[s]);if(v!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(v);o<s.length;o++)a.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(v,s[o])&&(r[s[o]]=v[s[o]]);return r};function m(v){const{id:a=(0,D.jD)(v),style:r,data:s}=v,o=M(v,["id","style","data"]),d=Object.assign(Object.assign({},v),{style:Object.assign({},r),data:Object.assign({},s)});return(0,p.qF)(v)?Object.assign({id:a,data:d},o):{id:a,data:d}}function c(v){return v.data}function h(v){if(v.hasTreeStructure(u.pf))return;v.attachTreeStructure(u.pf);const a=v.getAllEdges();for(const r of a){const{source:s,target:o}=r;v.setParent(o,s,u.pf)}}},29193:function(it,w,t){"use strict";t.d(w,{Yt:function(){return p},jD:function(){return D},oI:function(){return M}});var u=t(90040);function D(m){if(m.id!==void 0)return m.id;if(m.source!==void 0&&m.target!==void 0)return`${m.source}-${m.target}`;throw new Error((0,u.W)("The datum does not have available id."))}function p(m){return m.combo}function M(m,c){const h={nodes:(m.nodes||[]).map(D),edges:(m.edges||[]).map(D),combos:(m.combos||[]).map(D)};return c?Object.values(h).flat():h}},76824:function(it,w,t){"use strict";t.d(w,{Oe:function(){return D},qF:function(){return u},wp:function(){return M}});function u(m){return"source"in m&&"target"in m}function D(m){return m.length===2}function p(m){return m.length===3}function M(m){return m instanceof Float32Array?!0:Array.isArray(m)&&(m.length===2||m.length===3)?m.every(c=>typeof c=="number"):!1}},70562:function(it,w,t){"use strict";t.d(w,{KQ:function(){return y},O9:function(){return r},Vj:function(){return f},gB:function(){return d},oW:function(){return o},yt:function(){return E}});var u=t(94075),D=t(48690),p=t(23098),M=t(27933),m=t(29193),c=t(59268),h=function(e,i,n,l){function O(C){return C instanceof n?C:new n(function(T){T(C)})}return new(n||(n=Promise))(function(C,T){function P(I){try{x(l.next(I))}catch(S){T(S)}}function b(I){try{x(l.throw(I))}catch(S){T(S)}}function x(I){I.done?C(I.value):O(I.value).then(P,b)}x((l=l.apply(e,i||[])).next())})},v=function(e,i){var n={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&i.indexOf(l)<0&&(n[l]=e[l]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var O=0,l=Object.getOwnPropertySymbols(e);O<l.length;O++)i.indexOf(l[O])<0&&Object.prototype.propertyIsEnumerable.call(e,l[O])&&(n[l[O]]=e[l[O]]);return n};function a(e){const{type:i}=e;return!!(["comboCombined","comboForce"].includes(i)||i==="antv-dagre"&&e.sortByCombo)}function r(e){const{type:i}=e;return["compact-box","mindmap","dendrogram","indented"].includes(i)}function s(e){return isNumber(e.x)&&isNumber(e.y)}function o(e){return!Array.isArray(e)&&(e==null?void 0:e.preLayout)}function d(e){const{nodes:i,edges:n}=e,l={nodes:[],edges:[],combos:[]};return i.forEach(O=>{const C=O.data._isCombo?l.combos:l.nodes,{x:T,y:P,z:b=0}=O.data;C==null||C.push({id:O.id,style:{x:T,y:P,z:b}})}),n.forEach(O=>{const{id:C,source:T,target:P,data:{points:b=[],controlPoints:x=b.slice(1,b.length-1)}}=O;l.edges.push({id:C,source:T,target:P,style:Object.assign({},x!=null&&x.length?{controlPoints:x.map(c.rx)}:{})})}),l}function f(e,i){class n extends M.I{constructor(O,C){if(super(O,C),this.instance=new e({}),this.id=this.instance.id,"stop"in this.instance&&"tick"in this.instance){const T=this.instance;this.stop=T.stop.bind(T),this.tick=P=>{const b=T.tick(P);return d(b)}}}execute(O,C){return h(this,void 0,void 0,function*(){return d(yield this.instance.execute(this.graphData2LayoutModel(O),this.transformOptions((0,D.Z)({},this.options,C))))})}transformOptions(O){if(!("onTick"in O))return O;const C=O.onTick;return O.onTick=T=>C(d(T)),O}graphData2LayoutModel(O){const{nodes:C=[],edges:T=[],combos:P=[]}=O,b=C.map(N=>{const z=(0,m.jD)(N),{data:j,style:W,combo:U}=N,F=v(N,["data","style","combo"]),H={id:z,data:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},j),{data:j}),U?{parentId:U}:{}),{style:W}),F)};return W!=null&&W.x&&Object.assign(H.data,{x:W.x}),W!=null&&W.y&&Object.assign(H.data,{y:W.y}),W!=null&&W.z&&Object.assign(H.data,{z:W.z}),H}),x=new Map(b.map(N=>[N.id,N])),I=T.filter(N=>{const{source:z,target:j}=N;return x.has(z)&&x.has(j)}).map(N=>{const{source:z,target:j,data:W,style:U}=N;return{id:(0,m.jD)(N),source:z,target:j,data:Object.assign({},W),style:Object.assign({},U)}}),S=P.map(N=>({id:(0,m.jD)(N),data:Object.assign({_isCombo:!0},N.data),style:Object.assign({},N.style)})),K=new u.k({nodes:[...b,...S],edges:I});return i.model.model.hasTreeStructure(p.dK)&&(K.attachTreeStructure(p.dK),b.forEach(N=>{const z=i.model.model.getParent(N.id,p.dK);z&&K.hasNode(z.id)&&K.setParent(N.id,z.id,p.dK)})),K}}return n}function y(e,i,...n){if(i in e)return e[i](...n);if("instance"in e){const l=e.instance;if(i in l)return l[i](...n)}return null}function E(e,i){if(i in e)return e[i];if("instance"in e){const n=e.instance;if(i in n)return n[i]}return null}},19324:function(it,w,t){"use strict";t.d(w,{D:function(){return M},T:function(){return p}});var u=t(89824),D=t(26192);function p(m,c){const[h,v]=m,[a,r]=c,s=(0,D.$X)(h,v),o=(0,D.$X)(a,r);return(0,D.kC)(s,o).every(d=>d===0)}function M(m,c,h=!1){if(p(m,c))return;const[v,a]=m,[r,s]=c,o=((v[0]-r[0])*(r[1]-s[1])-(v[1]-r[1])*(r[0]-s[0]))/((v[0]-a[0])*(r[1]-s[1])-(v[1]-a[1])*(r[0]-s[0])),d=s[0]-r[0]?(v[0]-r[0]+o*(a[0]-v[0]))/(s[0]-r[0]):(v[1]-r[1]+o*(a[1]-v[1]))/(s[1]-r[1]);if(!(!h&&(!(0,u.K)(o,0,1)||!(0,u.K)(d,0,1))))return[v[0]+o*(a[0]-v[0]),v[1]+o*(a[1]-v[1])]}},89824:function(it,w,t){"use strict";t.d(w,{K:function(){return u}});function u(D,p,M){return D>=p&&D<=M}},1123:function(it,w,t){"use strict";t.d(w,{I:function(){return D}});var u=t(33626);function D(p,M){const m=(0,u._)(p);let c={};return M.text&&!M.fontSize&&(c={fontSize:Math.min(...m)*.5}),M.src&&(!M.width||!M.height)&&(c={width:m[0]*.5,height:m[1]*.5}),c}},17439:function(it,w,t){"use strict";t.d(w,{aY:function(){return D},dj:function(){return u}});function u(M=0){if(Array.isArray(M)){const[m=0,c=m,h=m,v=c]=M;return[m,c,h,v]}return[M,M,M,M]}function D(M=0){const m=u(M);return m[0]+m[2]}function p(M=0){const m=u(M);return m[1]+m[3]}},32584:function(it,w,t){"use strict";t.d(w,{HM:function(){return m},Wl:function(){return c},s5:function(){return h}});var u=t(26218),D=t(15186),p=t(29193),M=t(90040);function m(v){if(v)return typeof v=="string"||typeof v=="function"||Array.isArray(v)?{type:"group",field:a=>a.id,color:v,invert:!1}:v}function c(v,a){if(!a)return{};const{type:r,color:s,field:o,invert:d}=a,f=E=>{const e=typeof s=="string"?(0,D.R)("palette",s):s;if(typeof e=="function"){const i={};return E.forEach(([n,l])=>{i[n]=e(d?1-l:l)}),i}else if(Array.isArray(e)){const i=d?[...e].reverse():e,n={};return E.forEach(([l,O])=>{n[l]=i[O%e.length]}),n}return{}},y=(E,e)=>{var i;return typeof E=="string"?(i=e.data)===null||i===void 0?void 0:i[E]:E==null?void 0:E(e)};if(r==="group"){const E=(0,u.Z)(v,l=>{if(!o)return"default";const O=y(o,l);return O?String(O):"default"}),e=Object.keys(E),i=f(e.map((l,O)=>[l,O])),n={};return Object.entries(E).forEach(([l,O])=>{O.forEach(C=>{n[(0,p.jD)(C)]=i[l]})}),n}else if(r==="value"){const[E,e]=v.reduce(([n,l],O)=>{const C=y(o,O);if(typeof C!="number")throw new Error((0,M.W)(`Palette field ${o} is not a number`));return[Math.min(n,C),Math.max(l,C)]},[1/0,-1/0]),i=e-E;return f(v.map(n=>[n.id,(y(o,n)-E)/i]))}}function h(v){const a=typeof v=="string"?(0,D.R)("palette",v):v;if(typeof a!="function")return a}},38865:function(it,w,t){"use strict";t.d(w,{BU:function(){return M},WG:function(){return u},Yu:function(){return m}});function u(c,h=!0){const v=[];return c.forEach((a,r)=>{v.push([r===0?"M":"L",...a])}),h&&v.push(["Z"]),v}const D={M:["x","y"],m:["dx","dy"],H:["x"],h:["dx"],V:["y"],v:["dy"],L:["x","y"],l:["dx","dy"],Z:[],z:[],C:["x1","y1","x2","y2","x","y"],c:["dx1","dy1","dx2","dy2","dx","dy"],S:["x2","y2","x","y"],s:["dx2","dy2","dx","dy"],Q:["x1","y1","x","y"],q:["dx1","dy1","dx","dy"],T:["x","y"],t:["dx","dy"],A:["rx","ry","rotation","large-arc","sweep","x","y"],a:["rx","ry","rotation","large-arc","sweep","dx","dy"]};function p(c){const h=c.replace(/[\n\r]/g,"").replace(/-/g," -").replace(/(\d*\.)(\d+)(?=\.)/g,"$1$2 ").trim().split(/\s*,|\s+/),v=[];let a="",r={};for(;h.length>0;){let s=h.shift();s in D?a=s:h.unshift(s),r={type:a},D[a].forEach(f=>{s=h.shift(),r[f]=s}),a==="M"?a="L":a==="m"&&(a="l");const[o,...d]=Object.values(r);v.push([o,...d.map(Number)])}return v}function M(c){const h=[];return(typeof c=="string"?p(c):c).forEach(a=>{const r=a[0];if(r==="Z"){h.push(h[0]);return}if(r!=="A")for(let s=1;s<a.length;s=s+2)h.push([a[s],a[s+1],0]);else{const s=a.length;h.push([a[s-2],a[s-1],0])}}),h}const m=c=>{if(c.length<2)return[["M",0,0],["L",0,0]];const h=c[0],v=c[1],a=c[c.length-1],r=c[c.length-2];c.unshift(r,a),c.push(h,v);const s=[["M",a[0],a[1]]];for(let o=1;o<c.length-2;o+=1){const[d,f]=c[o-1],[y,E]=c[o],[e,i]=c[o+1],[n,l]=o!==c.length-2?c[o+2]:[e,i],O=y+(e-d)/6,C=E+(i-f)/6,T=e-(n-y)/6,P=i-(l-E)/6;s.push(["C",O,C,T,P,e,i])}return s}},93187:function(it,w,t){"use strict";t.d(w,{P:function(){return D}});var u=t(23098);class D{constructor(M,m,c){if(this.phase=m,this.pointerByTouch=[],this.initialDistance=null,this.emitter=M,D.instance)return D.callbacks[this.phase].push(c),D.instance;this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.bindEvents(),D.instance=this,D.callbacks[this.phase].push(c)}bindEvents(){const{emitter:M}=this;M.on(u.C9.POINTER_DOWN,this.onPointerDown),M.on(u.C9.POINTER_MOVE,this.onPointerMove),M.on(u.C9.POINTER_UP,this.onPointerUp)}updatePointerPosition(M,m,c){const h=this.pointerByTouch.findIndex(v=>v.pointerId===M);h>=0&&(this.pointerByTouch[h]={x:m,y:c,pointerId:M})}onPointerDown(M){const{x:m,y:c}=M.client||{};if(!(m===void 0||c===void 0)&&(this.pointerByTouch.push({x:m,y:c,pointerId:M.pointerId}),M.pointerType==="touch"&&this.pointerByTouch.length===2)){D.isPinching=!0;const h=this.pointerByTouch[0].x-this.pointerByTouch[1].x,v=this.pointerByTouch[0].y-this.pointerByTouch[1].y;this.initialDistance=Math.sqrt(h*h+v*v),D.callbacks.pinchstart.forEach(a=>a(M,{scale:0}))}}onPointerMove(M){if(this.pointerByTouch.length!==2||this.initialDistance===null)return;const{x:m,y:c}=M.client||{};if(m===void 0||c===void 0)return;this.updatePointerPosition(M.pointerId,m,c);const h=this.pointerByTouch[0].x-this.pointerByTouch[1].x,v=this.pointerByTouch[0].y-this.pointerByTouch[1].y,r=Math.sqrt(h*h+v*v)/this.initialDistance;D.callbacks.pinchmove.forEach(s=>s(M,{scale:(r-1)*5}))}onPointerUp(M){var m;D.callbacks.pinchend.forEach(c=>c(M,{scale:0})),D.isPinching=!1,this.initialDistance=null,this.pointerByTouch=[],(m=D.instance)===null||m===void 0||m.tryDestroy()}destroy(){this.emitter.off(u.C9.POINTER_DOWN,this.onPointerDown),this.emitter.off(u.C9.POINTER_MOVE,this.onPointerMove),this.emitter.off(u.C9.POINTER_UP,this.onPointerUp),D.instance=null}off(M,m){const c=D.callbacks[M].indexOf(m);c>-1&&D.callbacks[M].splice(c,1),this.tryDestroy()}tryDestroy(){Object.values(D.callbacks).every(M=>M.length===0)&&this.destroy()}}D.isPinching=!1,D.instance=null,D.callbacks={pinchstart:[],pinchmove:[],pinchend:[]}},73543:function(it,w,t){"use strict";t.d(w,{X:function(){return D}});var u=t(89824);function D(p){if(Array.isArray(p))return(0,u.K)(p[0],0,1)&&(0,u.K)(p[1],0,1)?p:[.5,.5];const M=p.split("-"),m=M.includes("left")?0:M.includes("right")?1:.5,c=M.includes("top")?0:M.includes("bottom")?1:.5;return[m,c]}},59268:function(it,w,t){"use strict";t.d(w,{AC:function(){return e},Ao:function(){return s},IL:function(){return f},JV:function(){return x},NM:function(){return r},Nh:function(){return P},Ri:function(){return n},X_:function(){return O},Zv:function(){return h},c9:function(){return i},cp:function(){return y},k3:function(){return I},n0:function(){return C},rx:function(){return c},te:function(){return l},wE:function(){return o}});var u=t(99666),D=t(52877),p=t(19324),M=t(49559),m=t(26192);function c(S){var K;return[S.x,S.y,(K=S.z)!==null&&K!==void 0?K:0]}function h(S){var K;return{x:S[0],y:S[1],z:(K=S[2])!==null&&K!==void 0?K:0}}function v(S){return S.sort((K,N)=>K[0]-N[0]||K[1]-N[1])}function a(S){const K=new Set;return S.filter(N=>{const z=N.join(",");return K.has(z)?!1:(K.add(z),!0)})}function r(S,K=0){return S.map(N=>parseFloat(N.toFixed(K)))}function s(S,K,N,z=!1){if((0,u.Z)(S,K))return S;const j=z?(0,m.$X)(S,K):(0,m.$X)(K,S),W=(0,m.Fv)(j),U=[W[0]*N,W[1]*N];return(0,m.IH)((0,m.e_)(S),U)}function o(S,K){return S[1]===K[1]}function d(S,K){return S[0]===K[0]}function f(S,K){return o(S,K)||d(S,K)}function y(S,K,N){return(0,p.T)([S,K],[K,N])}function E(S,K){return[2*K[0]-S[0],2*K[1]-S[1]]}function e(S,K,N,z=!0,j=!1){for(let W=0;W<N.length;W++){let U=N[W],F=N[(W+1)%N.length];z&&(U=(0,m.IH)(K,U),F=(0,m.IH)(K,F));const H=j?E(S,K):S,Y=(0,p.D)([K,H],[U,F]);if(Y)return{point:Y,line:[U,F]}}return{point:K,line:void 0}}function i(S,K,N,z){const j=S[0],W=S[1];let U=!1;N===void 0&&(N=0),z===void 0&&(z=K.length);const F=z-N;for(let H=0,Y=F-1;H<F;Y=H++){const V=K[H+N][0],X=K[H+N][1],$=K[Y+N][0],rt=K[Y+N][1];X>W!=rt>W&&j<($-V)*(W-X)/(rt-X)+V&&(U=!U)}return U}function n(S,K,N=!1){const z=(0,M.V4)(K,"center"),j=[(0,M.V4)(K,"left-top"),(0,M.V4)(K,"right-top"),(0,M.V4)(K,"right-bottom"),(0,M.V4)(K,"left-bottom")];return e(S,z,j,!1,N).point}function l(S,K,N=!1){const z=K.center,j=N?E(S,z):S,W=(0,m.$X)(j,K.center),U=Math.atan2(W[1],W[0]);if(isNaN(U))return z;const F=(0,D.Ru)(K)/2,H=(0,D.vs)(K)/2,Y=z[0]+F*Math.cos(U),V=z[1]+H*Math.sin(U);return[Y,V]}function O(S,K){let N=1/0,z=[S[0],K[0]];return S.forEach(j=>{K.forEach(W=>{const U=(0,m.TE)(j,W);U<N&&(N=U,z=[j,W])})}),z}function C(S,K){let N=1/0,z=[[0,0],[0,0]];return K.forEach(j=>{const W=T(S,j);W<N&&(N=W,z=j)}),z}function T(S,K){const N=P(S,K);return(0,m.TE)(S,N)}function P(S,K){const[N,z]=K[0],[j,W]=K[1],[U,F]=S,H=j-N,Y=W-z;if(H===0&&Y===0)return[N,z];let V=((U-N)*H+(F-z)*Y)/(H*H+Y*Y);V>1?V=1:V<0&&(V=0);const X=N+V*H,$=z+V*Y;return[X,$]}function b(S){const K=S.reduce((N,z)=>(0,m.IH)(N,z),[0,0]);return(0,m.cs)(K,S.length)}function x(S,K=!0){const N=b(S);return S.sort(([z,j],[W,U])=>{const F=Math.atan2(j-N[1],z-N[0]),H=Math.atan2(U-N[1],W-N[0]);return K?H-F:F-H})}function I(S,K){return[S,[S[0],K[1]],K,[K[0],S[1]]]}},81177:function(it,w,t){"use strict";t.d(w,{j:function(){return m}});var u=t(99666),D=t(38865),p=t(59268),M=t(49559);function m(c,h,v,a,r,s,o){const[d,f]=(0,M.V4)(c,h),y={textAlign:h==="left"?"right":h==="right"?"left":"center",textBaseline:h==="top"?"bottom":h==="bottom"?"top":"middle",transform:[["translate",d+v,f+a]]};if(h==="center"||!r)return y;const E=(0,D.BU)(s);if(!E||E.length<=3)return y;const e=E.map((l,O)=>{const C=l,T=E[(O+1)%E.length];return(0,u.Z)(C,T)?null:[C,T]}).filter(Boolean),i=(0,p.n0)([d,f],e),n=(0,p.Nh)([d,f],i);if(n&&i&&(y.transform=[["translate",n[0]+v,n[1]+a]],o)){const l=Math.atan((i[0][1]-i[1][1])/(i[0][0]-i[1][0]));y.transform.push(["rotate",l/Math.PI*180]),y.textAlign="center",(h==="right"||h==="left")&&(l>0?y.textBaseline=h==="right"?"bottom":"top":y.textBaseline=h==="right"?"top":"bottom")}return y}},49559:function(it,w,t){"use strict";t.d(w,{TA:function(){return D},V4:function(){return m},kN:function(){return p}});var u=t(73543);function D(v){const{x:a=0,y:r=0,z:s=0}=v.style||{};return[+a,+r,+s]}function p(v){const{x:a,y:r,z:s}=v.style||{};return a!==void 0||r!==void 0||s!==void 0}function M(v,a){const[r,s]=a,{min:o,max:d}=v;return[o[0]+r*(d[0]-o[0]),o[1]+s*(d[1]-o[1])]}function m(v,a="center"){const r=(0,u.X)(a);return M(v,r)}function c(v,a){const r=parseAnchor(a);return M(v,r)}const h=v=>{const[a,r]=v;return{left:Math.min(a[0],r[0]),right:Math.max(a[0],r[0]),top:Math.min(a[1],r[1]),bottom:Math.max(a[1],r[1])}}},28660:function(it,w,t){"use strict";t.d(w,{Ny:function(){return p},Yf:function(){return v},hB:function(){return h},zs:function(){return c}});var u=t(18599),D=t(2159);function p(r,s){if(!r.startsWith(s))return!1;const o=r[s.length];return o>="A"&&o<="Z"}function M(r,s){return`${s}${(0,u.Z)(r)}`}function m(r,s,o=!0){if(!s||!p(r,s))return r;const d=r.slice(s.length);return o?(0,D.Z)(d):d}function c(r,s){const o=Object.entries(r).reduce((d,[f,y])=>(f==="className"||f==="class"||p(f,s)&&Object.assign(d,{[m(f,s)]:y}),d),{});if("opacity"in r){const d=M("opacity",s),f=r.opacity;if(d in r){const y=r[d];Object.assign(o,{opacity:f*y})}else Object.assign(o,{opacity:f})}return o}function h(r,s){const o=s.length;return Object.keys(r).reduce((d,f)=>{if(f.startsWith(s)){const y=f.slice(o);d[y]=r[f]}return d},{})}function v(r,s){const o=typeof s=="string"?[s]:s,d={};return Object.keys(r).forEach(f=>{o.find(y=>f.startsWith(y))||(d[f]=r[f])}),d}function a(r,s,o){return Object.entries(r).reduce((d,[f,y])=>(p(f,s)?d[M(m(f,s,!1),o)]=y:d[f]=y,d),{})}},90040:function(it,w,t){"use strict";t.d(w,{S:function(){return M},W:function(){return p}});var u=t(1247);const D="G6";function p(m){return`[${D} v${u.i}] ${m}`}const M={mute:!1,debug:m=>{!M.mute&&console.debug(p(m))},info:m=>{!M.mute&&console.info(p(m))},warn:m=>{!M.mute&&console.warn(p(m))},error:m=>{!M.mute&&console.error(p(m))}}},78822:function(it,w,t){"use strict";t.d(w,{g:function(){return p}});var u=t(29193),D=t(88824);function p(m,c,h,v,a="both"){if(c==="combo"||c==="node")return M(m,h,v,a);const r=m.getEdgeData(h);if(!r)return[];const s=M(m,r.source,v-1,a),o=M(m,r.target,v-1,a);return Array.from(new Set([...s,...o,h]))}function M(m,c,h,v="both"){const a=new Set,r=new Set,s=new Set;return(0,D.B)(c,(o,d)=>{d>h||(s.add(o),m.getRelatedEdgesData(o,v).forEach(f=>{const y=(0,u.jD)(f);!r.has(y)&&d<h&&(s.add(y),r.add(y))}))},o=>m.getRelatedEdgesData(o,v).map(d=>d.source===o?d.target:d.source).filter(d=>a.has(d)?!1:(a.add(d),!0))),Array.from(s)}},36614:function(it,w,t){"use strict";t.d(w,{iS:function(){return e},r4:function(){return h}});var u=t(15615),D=t(99666),p=t(52877),M=t(59268),m=t(26192);const c={padding:10};function h(i,n,l,O,C,T){const{padding:P}=Object.assign(c,T),b=(0,p.Js)(l,P),x=(0,p.Js)(O,P),I=[i,...C,n];let S=null;const K=[];for(let N=0,z=I.length;N<z-1;N++){const j=N+1,W=I[N],U=I[j],F=(0,M.IL)(W,U);let H=null;if(N===0)if(j===z-1)if(b.intersects(x))H=E(W,U,b,x);else if(!(0,p.q8)(W,b)&&!(0,p.q8)(U,x)){const Y=(0,p.S4)(W,b),V=(0,p.S4)(U,x);H=o(Y,V,r(Y,V)),H.points.unshift(Y),H.points.push(V)}else F||(H=y(W,U,b,x));else(0,p.W6)(U,b)?H=E(W,U,b,(0,p.Js)(U,P),S):F||(H=d(W,U,b));else j===z-1?(0,p.W6)(W,x)?H=E(W,U,(0,p.Js)(W,P),x,S):F||(H=f(W,U,x,S)):F||(H=o(W,U,S));H?(K.push(...H.points),S=H.direction):S=r(W,U),j<z-1&&K.push(U)}return K.map(m.e_)}const v={N:"S",S:"N",W:"E",E:"W"},a={N:-Math.PI/2,S:Math.PI/2,E:0,W:Math.PI};function r(i,n){const[l,O]=i,[C,T]=n;return l===C?O>T?"N":"S":O===T?l>C?"W":"E":null}function s(i,n){return n==="N"||n==="S"?(0,p.vs)(i):(0,p.Ru)(i)}function o(i,n,l){const O=[i[0],n[1]],C=[n[0],i[1]],T=r(i,O),P=r(i,C),b=l?v[l]:null,x=T===l||T!==b&&P!==l?O:C;return{points:[x],direction:r(x,n)}}function d(i,n,l){if((0,p.q8)(i,l)){const O=e(i,n,l);return{points:[O],direction:r(O,n)}}else{const O=(0,p.S4)(i,l),T=["left","right"].includes((0,p.RO)(i,l))?[n[0],O[1]]:[O[0],n[1]];return{points:[T],direction:r(T,n)}}}function f(i,n,l,O){const C=(0,p.q8)(n,l)?n:(0,p.S4)(n,l),T=[[C[0],i[1]],[i[0],C[1]]],P=T.filter(x=>(0,p.g8)(x,l)&&!(0,p.o4)(x,l,!0)),b=P.filter(x=>r(x,i)!==O);if(b.length>0){const x=b.find(I=>r(i,I)===O)||b[0];return{points:[x],direction:r(x,n)}}else{const x=(0,u.Z)(T,P)[0],I=(0,M.Ao)(n,x,s(l,O)/2);return{points:[e(I,i,l),I],direction:r(I,n)}}}function y(i,n,l,O){let C=d(i,n,l);const T=(0,m.Uy)(C.points[0]);if((0,p.W6)(T,O)){C=d(n,i,O);const P=(0,m.Uy)(C.points[0]);if((0,p.W6)(P,l)){const b=(0,M.Ao)(i,T,s(l,r(i,T))/2),x=(0,M.Ao)(n,P,s(O,r(n,P))/2),I=[(b[0]+x[0])/2,(b[1]+x[1])/2],S=d(i,I,l),K=f(I,n,O,S.direction);C.points=[S.points[0],K.points[0]],C.direction=K.direction}}return C}function E(i,n,l,O,C){const P=(0,p.SV)([l,O]),b=(0,m.TE)(n,P.center)>(0,m.TE)(i,P.center),[x,I]=b?[n,i]:[i,n],S=(0,p.vs)(P)+(0,p.Ru)(P);let K;if(C){const j=[x[0]+S*Math.cos(a[C]),x[1]+S*Math.sin(a[C])];K=(0,M.Ao)((0,p.S4)(j,P),j,.01)}else K=(0,M.Ao)((0,p.S4)(x,P),x,-.01);let N=e(K,I,P),z=[(0,M.NM)(K,2),(0,M.NM)(N,2)];if((0,D.Z)((0,M.NM)(K),(0,M.NM)(N))){const j=(0,m.EU)((0,m.$X)(K,x),[1,0,0])+Math.PI/2;N=[I[0]+S*Math.cos(j),I[1]+S*Math.sin(j),0],N=(0,M.NM)((0,M.Ao)((0,p.S4)(N,P),I,-.01),2);const W=e(K,N,P);z=[K,W,N]}return{points:b?z.reverse():z,direction:r(b?K:N,n)}}function e(i,n,l){let O=[i[0],n[1]];return(0,p.W6)(O,l)&&(O=[n[0],i[1]]),O}},18679:function(it,w,t){"use strict";t.d(w,{f5:function(){return E}});var u=t(26912),D=t(52877),p=t(19324),M=t(26192);const m={enableObstacleAvoidance:!1,offset:10,maxAllowedDirectionChange:Math.PI/2,maximumLoops:3e3,gridSize:5,startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{right:{stepX:1,stepY:0},left:{stepX:-1,stepY:0},bottom:{stepX:0,stepY:1},top:{stepX:0,stepY:-1}},penalties:{0:0,90:0},distFunc:M.nk},c=i=>`${Math.round(i[0])}|||${Math.round(i[1])}`;function h(i,n){const l=O=>Math.round(O/n);return(0,u.Z)(i)?l(i):i.map(l)}function v(i,n){const l=Math.abs(i-n);return l>Math.PI?2*Math.PI-l:l}function a(i,n){const l=n[0]-i[0],O=n[1]-i[1];return!l&&!O?0:Math.atan2(O,l)}function r(i,n,l,O){const C=a(i,n),T=l[c(i)],b=a(T||O,i);return v(b,C)}const s=(i,n)=>{const{offset:l,gridSize:O}=n,C={};return i.forEach(T=>{if(!T||T.destroyed||!T.isVisible())return;const P=(0,D.cL)(T.getRenderBounds(),l);for(let b=h(P.min[0],O);b<=h(P.max[0],O);b+=1)for(let x=h(P.min[1],O);x<=h(P.max[1],O);x+=1)C[`${b}|||${x}`]=!0}),C};function o(i,n,l){return Math.min(...n.map(O=>l(i,O)))}function d(i,n,l){let O=i[0],C=l(i[0],n);for(let T=0;T<i.length;T++){const P=i[T],b=l(P,n);b<C&&(O=P,C=b)}return O}const f=(i,n,l,O)=>{if(!n)return[i];const{directionMap:C,offset:T}=O,P=(0,D.cL)(n.getRenderBounds(),T),b=Object.keys(C).reduce((x,I)=>{if(l.includes(I)){const S=C[I],[K,N]=(0,D.qt)(P),z=[i[0]+S.stepX*K,i[1]+S.stepY*N],j=(0,D.Y4)(P);for(let W=0;W<j.length;W++){const U=(0,p.D)([i,z],j[W]);U&&(0,D.o4)(U,P)&&x.push(U)}}return x},[]);return(0,D.W6)(i,P)||b.push(i),b.map(x=>h(x,O.gridSize))},y=(i,n,l,O,C,T,P)=>{const b=[];let x=[T[0]===O[0]?O[0]:i[0]*P,T[1]===O[1]?O[1]:i[1]*P];b.unshift(x);let I=i,S=n[c(I)];for(;S;){const z=S,j=I;r(z,j,n,l)&&(x=[z[0]===j[0]?x[0]:z[0]*P,z[1]===j[1]?x[1]:z[1]*P],b.unshift(x)),S=n[c(z)],I=z}const K=C.map(z=>[z[0]*P,z[1]*P]),N=d(K,x,M.nk);return b.unshift(N),b};function E(i,n,l,O){const C=(0,M.e_)(i.getCenter()),T=(0,M.e_)(n.getCenter()),P=Object.assign(m,O),{gridSize:b}=P,x=P.enableObstacleAvoidance?l:[i,n],I=s(x,P),S=h(C,b),K=h(T,b),N=f(C,i,P.startDirections,P),z=f(T,n,P.endDirections,P);N.forEach(ot=>delete I[c(ot)]),z.forEach(ot=>delete I[c(ot)]);const j={},W={},U={},F={},H={},Y=new e;for(let ot=0;ot<N.length;ot++){const tt=N[ot],G=c(tt);j[G]=tt,F[G]=0,H[G]=o(tt,z,P.distFunc),Y.add({id:G,value:H[G]})}const V=z.map(ot=>c(ot));let X=P.maximumLoops,$,rt=1/0;for(const[ot,tt]of Object.entries(j))H[ot]<=rt&&(rt=H[ot],$=tt);for(;Object.keys(j).length>0&&X>0;){const ot=Y.minId(!1);if(ot)$=j[ot];else break;const tt=c($);if(V.includes(tt))return y($,U,S,T,N,K,b);delete j[tt],Y.remove(tt),W[tt]=!0;for(const G of Object.values(P.directionMap)){const nt=(0,M.IH)($,[G.stepX,G.stepY]),ut=c(nt);if(W[ut])continue;const dt=r($,nt,U,S);if(dt>P.maxAllowedDirectionChange||I[ut])continue;j[ut]||(j[ut]=nt);const et=P.penalties[dt],gt=P.distFunc($,nt)+(isNaN(et)?b:et),Et=F[tt]+gt,lt=F[ut];lt&&Et>=lt||(U[ut]=$,F[ut]=Et,H[ut]=Et+o(nt,z,P.distFunc),Y.add({id:ut,value:H[ut]}))}X-=1}return[]}class e{constructor(){this.arr=[],this.map={},this.arr=[],this.map={}}_innerAdd(n,l){let O=0,C=l-1;for(;C-O>1;){const T=Math.floor((O+C)/2);if(this.arr[T].value>n.value)C=T;else if(this.arr[T].value<n.value)O=T;else{this.arr.splice(T,0,n),this.map[n.id]=!0;return}}this.arr.splice(C,0,n),this.map[n.id]=!0}add(n){delete this.map[n.id];const l=this.arr.length;if(!l||this.arr[l-1].value<n.value){this.arr.push(n),this.map[n.id]=!0;return}this._innerAdd(n,l)}remove(n){this.map[n]&&delete this.map[n]}_clearAndGetMinId(){let n;for(let l=this.arr.length-1;l>=0;l--)this.map[this.arr[l].id]?n=this.arr[l].id:this.arr.splice(l,1);return n}_findFirstId(){for(;this.arr.length;){const n=this.arr.shift();if(this.map[n.id])return n.id}}minId(n){return n?this._clearAndGetMinId():this._findFirstId()}}},11271:function(it,w,t){"use strict";t.d(w,{GE:function(){return u},_b:function(){return M},cM:function(){return D},sQ:function(){return p}});const u=(m,c,h)=>{const[v,a]=c,[r,s]=h;if(a===v)return r;const o=(m-v)/(a-v);return r+o*(s-r)},D=(m,c,h)=>{const[v,a]=c,[r,s]=h,o=Math.log(m-v+1)/Math.log(a-v+1);return r+o*(s-r)},p=(m,c,h,v=2)=>{const[a,r]=c,[s,o]=h,d=Math.pow((m-a)/(r-a),v);return s+d*(o-s)},M=(m,c,h)=>{const[v,a]=c,[r,s]=h,o=Math.sqrt((m-v)/(a-v));return r+o*(s-r)}},39310:function(it,w,t){"use strict";t.d(w,{W:function(){return u},d:function(){return D}});function u(p){const M=[],m=c=>{c!=null&&c.children.length&&c.children.forEach(h=>{M.push(h),m(h)})};return m(p),M}function D(p){const M=[];let m=p.parentNode;for(;m;)M.push(m),m=m.parentNode;return M}},80860:function(it,w,t){"use strict";t.d(w,{z:function(){return c}});var u=t(27412),D=t(99666),p=t(23098),M=t(93187);const m=h=>h.map(v=>(0,u.Z)(v)?v.toLocaleLowerCase():v);class c{constructor(v){this.map=new Map,this.boundHandlePinch=()=>{},this.recordKey=new Set,this.onKeyDown=a=>{a!=null&&a.key&&(this.recordKey.add(a.key),this.trigger(a))},this.onKeyUp=a=>{a!=null&&a.key&&this.recordKey.delete(a.key)},this.onWheel=a=>{this.triggerExtendKey(p.C9.WHEEL,a)},this.onDrag=a=>{this.triggerExtendKey(p.C9.DRAG,a)},this.handlePinch=(a,r)=>{this.triggerExtendKey(p.C9.PINCH,Object.assign(Object.assign({},a),r))},this.onFocus=()=>{this.recordKey.clear()},this.emitter=v,this.bindEvents()}bind(v,a){v.length!==0&&(v.includes(p.C9.PINCH)&&!this.pinchHandler&&(this.boundHandlePinch=this.handlePinch.bind(this),this.pinchHandler=new M.P(this.emitter,"pinchmove",this.boundHandlePinch)),this.map.set(v,a))}unbind(v,a){this.map.forEach((r,s)=>{(0,D.Z)(s,v)&&(!a||a===r)&&this.map.delete(s)})}unbindAll(){this.map.clear()}match(v){const a=m(Array.from(this.recordKey)).sort(),r=m(v).sort();return(0,D.Z)(a,r)}bindEvents(){var v;const{emitter:a}=this;a.on(p.C9.KEY_DOWN,this.onKeyDown),a.on(p.C9.KEY_UP,this.onKeyUp),a.on(p.C9.WHEEL,this.onWheel),a.on(p.C9.DRAG,this.onDrag),(v=globalThis.addEventListener)===null||v===void 0||v.call(globalThis,"focus",this.onFocus)}trigger(v){this.map.forEach((a,r)=>{this.match(r)&&a(v)})}triggerExtendKey(v,a){this.map.forEach((r,s)=>{s.includes(v)&&(0,D.Z)(Array.from(this.recordKey),s.filter(o=>o!==v))&&r(a)})}destroy(){var v,a;this.unbindAll(),this.emitter.off(p.C9.KEY_DOWN,this.onKeyDown),this.emitter.off(p.C9.KEY_UP,this.onKeyUp),this.emitter.off(p.C9.WHEEL,this.onWheel),this.emitter.off(p.C9.DRAG,this.onDrag),(v=this.pinchHandler)===null||v===void 0||v.off("pinchmove",this.boundHandlePinch),(a=globalThis.removeEventListener)===null||a===void 0||a.call(globalThis,"blur",this.onFocus)}}},33626:function(it,w,t){"use strict";t.d(w,{_:function(){return u}});function u(D=0){if(typeof D=="number")return[D,D,D];const[p,M=p,m=p]=D;return[p,M,m]}},38499:function(it,w,t){"use strict";t.d(w,{x:function(){return u}});function u(D){return D.states||[]}},95272:function(it,w,t){"use strict";t.d(w,{$q:function(){return D},Df:function(){return M},JH:function(){return p}});var u=function(m,c){var h={};for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&c.indexOf(v)<0&&(h[v]=m[v]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,v=Object.getOwnPropertySymbols(m);a<v.length;a++)c.indexOf(v[a])<0&&Object.prototype.propertyIsEnumerable.call(m,v[a])&&(h[v[a]]=m[v[a]]);return h};function D(m,c){const{datum:h,graph:v}=c;return typeof m=="function"?m.call(v,h):Object.fromEntries(Object.entries(m).map(([a,r])=>typeof r=="function"?[a,r.call(v,h)]:[a,r]))}function p(m,c){const h=(m==null?void 0:m.style)||{},v=(c==null?void 0:c.style)||{};for(const a in h)a in v||(v[a]=h[a]);return Object.assign({},m,c,{style:v})}function M(m){const{x:c,y:h,z:v,class:a,className:r,transform:s,transformOrigin:o,zIndex:d,visibility:f}=m;return u(m,["x","y","z","class","className","transform","transformOrigin","zIndex","visibility"])}},62879:function(it,w,t){"use strict";t.r(w),t.d(w,{circle:function(){return u},diamond:function(){return p},rect:function(){return m},simple:function(){return h},triangle:function(){return D},triangleRect:function(){return c},vee:function(){return M}});const u=(v,a)=>{const r=Math.max(v,a)/2;return[["M",-v/2,0],["A",r,r,0,1,0,2*r-v/2,0],["A",r,r,0,1,0,-v/2,0],["Z"]]},D=(v,a)=>[["M",-v/2,0],["L",v/2,-a/2],["L",v/2,a/2],["Z"]],p=(v,a)=>[["M",-v/2,0],["L",0,-a/2],["L",v/2,0],["L",0,a/2],["Z"]],M=(v,a)=>[["M",-v/2,0],["L",v/2,-a/2],["L",4*v/5-v/2,0],["L",v/2,a/2],["Z"]],m=(v,a)=>[["M",-v/2,-a/2],["L",v/2,-a/2],["L",v/2,a/2],["L",-v/2,a/2],["Z"]],c=(v,a)=>{const r=v/2,s=v/7,o=v-s;return[["M",-r,0],["L",0,-a/2],["L",0,a/2],["Z"],["M",o-r,-a/2],["L",o+s-r,-a/2],["L",o+s-r,a/2],["L",o-r,a/2],["Z"]]},h=(v,a)=>[["M",v/2,-a/2],["L",-v/2,0],["L",v/2,0],["L",-v/2,0],["L",v/2,a/2]]},52449:function(it,w,t){"use strict";t.d(w,{AC:function(){return M},Wp:function(){return p}});var u=t(26192);function D(m,c){let h=2*m;return typeof c=="string"?h=m*Number(c.replace("%",""))/100:typeof c=="number"&&(h=c),isNaN(h)&&(h=2*m),h}function p(m,c,h=1,v=!1){const a=v?h:1,r=(m.max[0]-m.min[0])*a;return D(r,c)}function M(m,c,h=1){const v=(0,u.TE)(m[0],m[1])*h;return D(v,c)}},2348:function(it,w,t){"use strict";t.d(w,{c:function(){return M}});var u=t(23098),D=t(15186),p=t(90040);function M(m){const{theme:c}=m;if(!c)return{};const h=(0,D.R)(u.MD.THEME,c);return h||(p.S.warn(`The theme of ${c} is not registered.`),{})}},40812:function(it,w,t){"use strict";t.d(w,{u:function(){return D}});var u=t(26912);function D(p,M,m,c=[]){if(!c&&p===0&&M===0&&m===0)return null;if(Array.isArray(c)){let v=-1;const a=[];for(let r=0;r<c.length;r++){const s=c[r];if(s[0]==="translate"){if(s[1]===p&&s[2]===M)return null;v=r,a.push(["translate",p,M])}else if(s[0]==="translate3d"){if(s[1]===p&&s[2]===M&&s[3]===m)return null;v=r,a.push(["translate3d",p,M,m!=null?m:0])}else a.push(s)}return v===-1&&a.splice(0,0,(0,u.Z)(m)?["translate3d",p,M,m!=null?m:0]:["translate",p,M]),a.length===0?null:a}const h=c?c.replace(/translate(3d)?\([^)]*\)/g,""):"";return m===0?`translate(${p}, ${M})${h}`:`translate3d(${p}, ${M}, ${m})${h}`}},88824:function(it,w,t){"use strict";t.d(w,{B:function(){return D},_:function(){return u}});function u(p,M,m,c,h=0){c==="TB"&&M(p,h);const v=m(p);if(v)for(const a of v)u(a,M,m,c,h+1);c==="BT"&&M(p,h)}function D(p,M,m){const c=[[p,0]];for(;c.length;){const[h,v]=c.shift();M(h,v);const a=m(h);if(a)for(const r of a)c.push([r,v+1])}}},17160:function(it,w,t){"use strict";var u=function(p,M){var m={};for(var c in p)Object.prototype.hasOwnProperty.call(p,c)&&M.indexOf(c)<0&&(m[c]=p[c]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var h=0,c=Object.getOwnPropertySymbols(p);h<c.length;h++)M.indexOf(c[h])<0&&Object.prototype.propertyIsEnumerable.call(p,c[h])&&(m[c[h]]=p[c[h]]);return m};function D(p,M){const{getNodeData:m=(r,s)=>{if(r.depth=s,!r.children)return r;const{children:o}=r,d=u(r,["children"]);return Object.assign(Object.assign({},d),{children:o.map(f=>f.id)})},getEdgeData:c=(r,s)=>({source:r.id,target:s.id}),getChildren:h=r=>r.children||[]}=M||{},v=[],a=[];return dfs(p,(r,s)=>{v.push(m(r,s));const o=h(r);for(const d of o)a.push(c(r,d))},r=>h(r),"TB"),{nodes:v,edges:a}}},26192:function(it,w,t){"use strict";t.d(w,{$X:function(){return M},AK:function(){return h},BJ:function(){return n},EU:function(){return d},Fv:function(){return o},IH:function(){return p},Jp:function(){return m},TE:function(){return r},U1:function(){return l},Uy:function(){return i},bA:function(){return a},cs:function(){return c},e_:function(){return e},kC:function(){return v},nk:function(){return s},wQ:function(){return E},xq:function(){return y}});var u=t(76824);const D=[0,0,0];function p(O,C){return O.map((T,P)=>T+C[P])}function M(O,C){return O.map((T,P)=>T-C[P])}function m(O,C){return typeof C=="number"?O.map(T=>T*C):O.map((T,P)=>T*C[P])}function c(O,C){return typeof C=="number"?O.map(T=>T/C):O.map((T,P)=>T/C[P])}function h(O,C){return O.reduce((T,P,b)=>T+P*C[b],0)}function v(O,C){const T=i(O),P=i(C);return[T[1]*P[2]-T[2]*P[1],T[2]*P[0]-T[0]*P[2],T[0]*P[1]-T[1]*P[0]]}function a(O,C){return O.map(T=>T*C)}function r(O,C){return Math.sqrt(O.reduce((T,P,b)=>T+Math.pow(P-C[b]||0,2),0))}function s(O,C){return O.reduce((T,P,b)=>T+Math.abs(P-C[b]),0)}function o(O){const C=O.reduce((T,P)=>T+Math.pow(P,2),0);return O.map(T=>T/Math.sqrt(C))}function d(O,C,T=!1){const P=O[0]*C[1]-O[1]*C[0];let b=Math.acos(m(O,C).reduce((x,I)=>x+I,0)/(r(O,D)*r(C,D)));return T&&P<0&&(b=2*Math.PI-b),b}function f(O,C){return O.every((T,P)=>T===C[P])}function y(O,C=!0){return C?[-O[1],O[0]]:[O[1],-O[0]]}function E(O,C){return O.map(T=>T%C)}function e(O){return[O[0],O[1]]}function i(O){return(0,u.Oe)(O)?[O[0],O[1],0]:O}function n(O){const[C,T]=O;return!C&&!T?0:Math.atan2(T,C)}function l(O,C){const[T,P]=O;if(C%360===0)return[T,P];const b=C*Math.PI/180,x=Math.cos(b),I=Math.sin(b);return[T*x-P*I,T*I+P*x]}},88102:function(it,w,t){"use strict";t.d(w,{i:function(){return u}});function u(D,p,M){const m=c=>{M&&!M(c)||(c.style.visibility=p)};D.forEach(c=>{m(c)})}},43526:function(it,w,t){"use strict";t.d(w,{Y:function(){return u}});function u(D){var p;return((p=D==null?void 0:D.style)===null||p===void 0?void 0:p.zIndex)||0}},1247:function(it,w,t){"use strict";t.d(w,{i:function(){return u}});const u="5.0.50"},81614:function(it,w,t){"use strict";t.d(w,{$6:function(){return p.$6},Aw:function(){return p.Aw},BB:function(){return p.BB},BV:function(){return p.BV},Cd:function(){return p.Cd},Dk:function(){return p.Dk},Ee:function(){return p.Ee},GZ:function(){return p.GZ},Pj:function(){return p.Pj},UL:function(){return p.UL},Xz:function(){return p.Xz},ZA:function(){return p.ZA},aH:function(){return p.aH},b_:function(){return p.b_},k9:function(){return p.k9},mN:function(){return p.mN},mg:function(){return p.mg},nR:function(){return p.nR},s$:function(){return p.s$},x1:function(){return p.x1},xv:function(){return p.xv},y$:function(){return p.y$}});var u=t(72112),D=t(31916),p=t(46911),M=t(28351);},74355:function(it){(function(t,u){it.exports=u()})(typeof self!="undefined"?self:this,function(){return function(w){var t={};function u(D){if(t[D])return t[D].exports;var p=t[D]={i:D,l:!1,exports:{}};return w[D].call(p.exports,p,p.exports,u),p.l=!0,p.exports}return u.m=w,u.c=t,u.d=function(D,p,M){u.o(D,p)||Object.defineProperty(D,p,{configurable:!1,enumerable:!0,get:M})},u.n=function(D){var p=D&&D.__esModule?function(){return D.default}:function(){return D};return u.d(p,"a",p),p},u.o=function(D,p){return Object.prototype.hasOwnProperty.call(D,p)},u.p="",u(u.s=5)}([function(w,t){function u(D,p,M,m){return m===void 0&&(m="height"),M==="center"?(D[m]+p[m])/2:D.height}w.exports={assign:Object.assign,getHeight:u}},function(w,t,u){var D=u(3),p=function(){function M(c,h){h===void 0&&(h={});var v=this;v.options=h,v.rootNode=D(c,h)}var m=M.prototype;return m.execute=function(){throw new Error("please override this method")},M}();w.exports=p},function(w,t,u){var D=u(4),p=["LR","RL","TB","BT","H","V"],M=["LR","RL","H"],m=function(a){return M.indexOf(a)>-1},c=p[0];w.exports=function(v,a,r){var s=a.direction||c;if(a.isHorizontal=m(s),s&&p.indexOf(s)===-1)throw new TypeError("Invalid direction: "+s);if(s===p[0])r(v,a);else if(s===p[1])r(v,a),v.right2left();else if(s===p[2])r(v,a);else if(s===p[3])r(v,a),v.bottom2top();else if(s===p[4]||s===p[5]){var o=D(v,a),d=o.left,f=o.right;r(d,a),r(f,a),a.isHorizontal?d.right2left():d.bottom2top(),f.translate(d.x-f.x,d.y-f.y),v.x=d.x,v.y=f.y;var y=v.getBoundingBox();a.isHorizontal?y.top<0&&v.translate(0,-y.top):y.left<0&&v.translate(-y.left,0)}var E=a.fixedRoot;return E===void 0&&(E=!0),E&&v.translate(-(v.x+v.width/2+v.hgap),-(v.y+v.height/2+v.vgap)),h(v,a),v};function h(v,a){if(a.radial){var r=a.isHorizontal?["x","y"]:["y","x"],s=r[0],o=r[1],d={x:1/0,y:1/0},f={x:-1/0,y:-1/0},y=0;v.DFTraverse(function(i){y++;var n=i.x,l=i.y;d.x=Math.min(d.x,n),d.y=Math.min(d.y,l),f.x=Math.max(f.x,n),f.y=Math.max(f.y,l)});var E=f[o]-d[o];if(E===0)return;var e=Math.PI*2/y;v.DFTraverse(function(i){var n=(i[o]-d[o])/E*(Math.PI*2-e)+e,l=i[s]-v[s];i.x=Math.cos(n)*l,i.y=Math.sin(n)*l})}}},function(w,t,u){var D=u(0),p=18,M=p*2,m=p,c={getId:function(r){return r.id||r.name},getPreH:function(r){return r.preH||0},getPreV:function(r){return r.preV||0},getHGap:function(r){return r.hgap||m},getVGap:function(r){return r.vgap||m},getChildren:function(r){return r.children},getHeight:function(r){return r.height||M},getWidth:function(r){var s=r.label||" ";return r.width||s.split("").length*p}};function h(a,r){var s=this;if(s.vgap=s.hgap=0,a instanceof h)return a;s.data=a;var o=r.getHGap(a),d=r.getVGap(a);return s.preH=r.getPreH(a),s.preV=r.getPreV(a),s.width=r.getWidth(a),s.height=r.getHeight(a),s.width+=s.preH,s.height+=s.preV,s.id=r.getId(a),s.x=s.y=0,s.depth=0,s.children||(s.children=[]),s.addGap(o,d),s}D.assign(h.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(r,s){var o=this;o.hgap+=r,o.vgap+=s,o.width+=2*r,o.height+=2*s},eachNode:function(r){for(var s=this,o=[s],d;d=o.shift();)r(d),o=d.children.concat(o)},DFTraverse:function(r){this.eachNode(r)},BFTraverse:function(r){for(var s=this,o=[s],d;d=o.shift();)r(d),o=o.concat(d.children)},getBoundingBox:function(){var r={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(s){r.left=Math.min(r.left,s.x),r.top=Math.min(r.top,s.y),r.width=Math.max(r.width,s.x+s.width),r.height=Math.max(r.height,s.y+s.height)}),r},translate:function(r,s){r===void 0&&(r=0),s===void 0&&(s=0),this.eachNode(function(o){o.x+=r,o.y+=s,o.x+=o.preH,o.y+=o.preV})},right2left:function(){var r=this,s=r.getBoundingBox();r.eachNode(function(o){o.x=o.x-(o.x-s.left)*2-o.width}),r.translate(s.width,0)},bottom2top:function(){var r=this,s=r.getBoundingBox();r.eachNode(function(o){o.y=o.y-(o.y-s.top)*2-o.height}),r.translate(0,s.height)}});function v(a,r,s){r===void 0&&(r={}),r=D.assign({},c,r);var o=new h(a,r),d=[o],f;if(!s&&!a.collapsed){for(;f=d.shift();)if(!f.data.collapsed){var y=r.getChildren(f.data),E=y?y.length:0;if(f.children=new Array(E),y&&E)for(var e=0;e<E;e++){var i=new h(y[e],r);f.children[e]=i,d.push(i),i.parent=f,i.depth=f.depth+1}}}return o}w.exports=v},function(w,t,u){var D=u(3);w.exports=function(p,M){for(var m=D(p.data,M,!0),c=D(p.data,M,!0),h=p.children.length,v=Math.round(h/2),a=M.getSide||function(d,f){return f<v?"right":"left"},r=0;r<h;r++){var s=p.children[r],o=a(s,r);o==="right"?c.children.push(s):m.children.push(s)}return m.eachNode(function(d){d.isRoot()||(d.side="left")}),c.eachNode(function(d){d.isRoot()||(d.side="right")}),{left:m,right:c}}},function(w,t,u){var D={compactBox:u(6),dendrogram:u(8),indented:u(10),mindmap:u(12)};w.exports=D},function(w,t,u){function D(s,o){s.prototype=Object.create(o.prototype),s.prototype.constructor=s,p(s,o)}function p(s,o){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,f){return d.__proto__=f,d},p(s,o)}var M=u(1),m=u(7),c=u(2),h=u(0),v=function(s){function o(){return s.apply(this,arguments)||this}D(o,s);var d=o.prototype;return d.execute=function(){var y=this;return c(y.rootNode,y.options,m)},o}(M),a={};function r(s,o){return o=h.assign({},a,o),new v(s,o).execute()}w.exports=r},function(w,t){function u(h,v,a,r){r===void 0&&(r=[]);var s=this;s.w=h||0,s.h=v||0,s.y=a||0,s.x=0,s.c=r||[],s.cs=r.length,s.prelim=0,s.mod=0,s.shift=0,s.change=0,s.tl=null,s.tr=null,s.el=null,s.er=null,s.msel=0,s.mser=0}u.fromNode=function(h,v){if(!h)return null;var a=[];return h.children.forEach(function(r){a.push(u.fromNode(r,v))}),v?new u(h.height,h.width,h.x,a):new u(h.width,h.height,h.y,a)};function D(h,v,a){a?h.y+=v:h.x+=v,h.children.forEach(function(r){D(r,v,a)})}function p(h,v){var a=v?h.y:h.x;return h.children.forEach(function(r){a=Math.min(p(r,v),a)}),a}function M(h,v){var a=p(h,v);D(h,-a,v)}function m(h,v,a){a?v.y=h.x:v.x=h.x,h.c.forEach(function(r,s){m(r,v.children[s],a)})}function c(h,v,a){a===void 0&&(a=0),v?(h.x=a,a+=h.width):(h.y=a,a+=h.height),h.children.forEach(function(r){c(r,v,a)})}w.exports=function(h,v){v===void 0&&(v={});var a=v.isHorizontal;function r(b){if(b.cs===0){s(b);return}r(b.c[0]);for(var x=T(E(b.c[0].el),0,null),I=1;I<b.cs;++I){r(b.c[I]);var S=E(b.c[I].er);o(b,I,x),x=T(S,I,x)}n(b),s(b)}function s(b){b.cs===0?(b.el=b,b.er=b,b.msel=b.mser=0):(b.el=b.c[0].el,b.msel=b.c[0].msel,b.er=b.c[b.cs-1].er,b.mser=b.c[b.cs-1].mser)}function o(b,x,I){for(var S=b.c[x-1],K=S.mod,N=b.c[x],z=N.mod;S!==null&&N!==null;){E(S)>I.low&&(I=I.nxt);var j=K+S.prelim+S.w-(z+N.prelim);j>0&&(z+=j,d(b,x,I.index,j));var W=E(S),U=E(N);W<=U&&(S=y(S),S!==null&&(K+=S.mod)),W>=U&&(N=f(N),N!==null&&(z+=N.mod))}!S&&N?e(b,x,N,z):S&&!N&&i(b,x,S,K)}function d(b,x,I,S){b.c[x].mod+=S,b.c[x].msel+=S,b.c[x].mser+=S,O(b,x,I,S)}function f(b){return b.cs===0?b.tl:b.c[0]}function y(b){return b.cs===0?b.tr:b.c[b.cs-1]}function E(b){return b.y+b.h}function e(b,x,I,S){var K=b.c[0].el;K.tl=I;var N=S-I.mod-b.c[0].msel;K.mod+=N,K.prelim-=N,b.c[0].el=b.c[x].el,b.c[0].msel=b.c[x].msel}function i(b,x,I,S){var K=b.c[x].er;K.tr=I;var N=S-I.mod-b.c[x].mser;K.mod+=N,K.prelim-=N,b.c[x].er=b.c[x-1].er,b.c[x].mser=b.c[x-1].mser}function n(b){b.prelim=(b.c[0].prelim+b.c[0].mod+b.c[b.cs-1].mod+b.c[b.cs-1].prelim+b.c[b.cs-1].w)/2-b.w/2}function l(b,x){x+=b.mod,b.x=b.prelim+x,C(b);for(var I=0;I<b.cs;I++)l(b.c[I],x)}function O(b,x,I,S){if(I!==x-1){var K=x-I;b.c[I+1].shift+=S/K,b.c[x].shift-=S/K,b.c[x].change-=S-S/K}}function C(b){for(var x=0,I=0,S=0;S<b.cs;S++)x+=b.c[S].shift,I+=x+b.c[S].change,b.c[S].mod+=I}function T(b,x,I){for(;I!==null&&b>=I.low;)I=I.nxt;return{low:b,index:x,nxt:I}}c(h,a);var P=u.fromNode(h,a);return r(P),l(P,0),m(P,h,a),M(h,a),h}},function(w,t,u){function D(s,o){s.prototype=Object.create(o.prototype),s.prototype.constructor=s,p(s,o)}function p(s,o){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,f){return d.__proto__=f,d},p(s,o)}var M=u(1),m=u(9),c=u(2),h=u(0),v=function(s){function o(){return s.apply(this,arguments)||this}D(o,s);var d=o.prototype;return d.execute=function(){var y=this;return y.rootNode.width=0,c(y.rootNode,y.options,m)},o}(M),a={};function r(s,o){return o=h.assign({},a,o),new v(s,o).execute()}w.exports=r},function(w,t,u){var D=u(0);function p(c,h){c===void 0&&(c=0),h===void 0&&(h=[]);var v=this;v.x=v.y=0,v.leftChild=v.rightChild=null,v.height=0,v.children=h}var M={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function m(c,h,v){v?(h.x=c.x,h.y=c.y):(h.x=c.y,h.y=c.x),c.children.forEach(function(a,r){m(a,h.children[r],v)})}w.exports=function(c,h){h===void 0&&(h={}),h=D.assign({},M,h);var v=0;function a(f){if(!f)return null;f.width=0,f.depth&&f.depth>v&&(v=f.depth);var y=f.children,E=y.length,e=new p(f.height,[]);return y.forEach(function(i,n){var l=a(i);e.children.push(l),n===0&&(e.leftChild=l),n===E-1&&(e.rightChild=l)}),e.originNode=f,e.isLeaf=f.isLeaf(),e}function r(f){if(f.isLeaf||f.children.length===0)f.drawingDepth=v;else{var y=f.children.map(function(e){return r(e)}),E=Math.min.apply(null,y);f.drawingDepth=E-1}return f.drawingDepth}var s;function o(f){f.x=f.drawingDepth*h.rankSep,f.isLeaf?(f.y=0,s&&(f.y=s.y+s.height+h.nodeSep,f.originNode.parent!==s.originNode.parent&&(f.y+=h.subTreeSep)),s=f):(f.children.forEach(function(y){o(y)}),f.y=(f.leftChild.y+f.rightChild.y)/2)}var d=a(c);return r(d),o(d),m(d,c,h.isHorizontal),c}},function(w,t,u){function D(d,f){d.prototype=Object.create(f.prototype),d.prototype.constructor=d,p(d,f)}function p(d,f){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,E){return y.__proto__=E,y},p(d,f)}var M=u(1),m=u(11),c=u(4),h=u(0),v=["LR","RL","H"],a=v[0],r=function(d){function f(){return d.apply(this,arguments)||this}D(f,d);var y=f.prototype;return y.execute=function(){var e=this,i=e.options,n=e.rootNode;i.isHorizontal=!0;var l=i.indent,O=l===void 0?20:l,C=i.dropCap,T=C===void 0?!0:C,P=i.direction,b=P===void 0?a:P,x=i.align;if(b&&v.indexOf(b)===-1)throw new TypeError("Invalid direction: "+b);if(b===v[0])m(n,O,T,x);else if(b===v[1])m(n,O,T,x),n.right2left();else if(b===v[2]){var I=c(n,i),S=I.left,K=I.right;m(S,O,T,x),S.right2left(),m(K,O,T,x);var N=S.getBoundingBox();K.translate(N.width,0),n.x=K.x-n.width/2}return n},f}(M),s={};function o(d,f){return f=h.assign({},s,f),new r(d,f).execute()}w.exports=o},function(w,t,u){var D=u(0);function p(M,m,c,h,v){var a=(typeof c=="function"?c(M):c)*M.depth;if(!h)try{if(M.id===M.parent.children[0].id){M.x+=a,M.y=m?m.y:0;return}}catch(o){}if(M.x+=a,m){if(M.y=m.y+D.getHeight(m,M,v),m.parent&&M.parent.id!==m.parent.id){var r=m.parent,s=r.y+D.getHeight(r,M,v);M.y=s>M.y?s:M.y}}else M.y=0}w.exports=function(M,m,c,h){var v=null;M.eachNode(function(a){p(a,v,m,c,h),v=a})}},function(w,t,u){function D(s,o){s.prototype=Object.create(o.prototype),s.prototype.constructor=s,p(s,o)}function p(s,o){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,f){return d.__proto__=f,d},p(s,o)}var M=u(1),m=u(13),c=u(2),h=u(0),v=function(s){function o(){return s.apply(this,arguments)||this}D(o,s);var d=o.prototype;return d.execute=function(){var y=this;return c(y.rootNode,y.options,m)},o}(M),a={};function r(s,o){return o=h.assign({},a,o),new v(s,o).execute()}w.exports=r},function(w,t,u){var D=u(0);function p(c,h){var v=0;return c.children.length?c.children.forEach(function(a){v+=p(a,h)}):v=c.height,c._subTreeSep=h.getSubTreeSep(c.data),c.totalHeight=Math.max(c.height,v)+2*c._subTreeSep,c.totalHeight}function M(c){var h=c.children,v=h.length;if(v){h.forEach(function(f){M(f)});var a=h[0],r=h[v-1],s=r.y-a.y+r.height,o=0;if(h.forEach(function(f){o+=f.totalHeight}),s>c.height)c.y=a.y+s/2-c.height/2;else if(h.length!==1||c.height>o){var d=c.y+(c.height-s)/2-a.y;h.forEach(function(f){f.translate(0,d)})}else c.y=(a.y+a.height/2+r.y+r.height/2)/2-c.height/2}}var m={getSubTreeSep:function(){return 0}};w.exports=function(c,h){h===void 0&&(h={}),h=D.assign({},m,h),c.parent={x:0,width:0,height:0,y:0},c.BFTraverse(function(v){v.x=v.parent.x+v.parent.width}),c.parent=null,p(c,h),c.startY=0,c.y=c.totalHeight/2-c.height/2,c.eachNode(function(v){var a=v.children,r=a.length;if(r){var s=a[0];if(s.startY=v.startY+v._subTreeSep,r===1)s.y=v.y+v.height/2-s.height/2;else{s.y=s.startY+s.totalHeight/2-s.height/2;for(var o=1;o<r;o++){var d=a[o];d.startY=a[o-1].startY+a[o-1].totalHeight,d.y=d.startY+d.totalHeight/2-d.height/2}}}}),M(c)}}])})},93517:function(it,w,t){"use strict";t.d(w,{y:function(){return m}});var u=t(15767),D=t(80216),p=t(84237),M=t(80345);class m extends D.Z{constructor(h,v,a){super(),this.graph=h,this.layout=v,this.options=a,this.spawnWorker()}spawnWorker(){this.proxy=M.Ud(new Worker(new URL(t.p+t.u(39),t.b),{type:void 0})),this.running&&(this.running=!1,this.execute())}execute(){var h;return(0,u.mG)(this,void 0,void 0,function*(){if(this.running)return this;this.running=!0;const v=this.layout.options,{onTick:a}=v,r=(0,u._T)(v,["onTick"]),s={};Object.keys(r).forEach(y=>{(0,p.Z)(r[y])||(s[y]=r[y])});const o={layout:{id:this.layout.id,options:s,iterations:(h=this.options)===null||h===void 0?void 0:h.iterations},nodes:this.graph.getAllNodes(),edges:this.graph.getAllEdges()},d=new Float32Array([0]),[f]=yield this.proxy.calculateLayout(o,[d]);return f})}stop(){return this.running=!1,this.proxy.stopLayout(),this}kill(){this.proxy[M.Yy]()}isRunning(){return this.running}}},56608:function(it,w,t){"use strict";t.d(w,{t:function(){return v}});var u=t(47566),D=t(5733);function p(a){const r=Math.min(...a);return a.map(s=>s/r)}function M(a,r){const s=a.length,o=r-s;return o>0?[...a,...new Array(o).fill(1)]:o<0?a.slice(0,r):a}function m(a){return Math.round(a*1e12)/1e12}function c(a){const{domain:r,range:s,paddingOuter:o,paddingInner:d,flex:f,round:y,align:E}=a,e=r.length,i=M(f,e),[n,l]=s,O=l-n,C=2/e*o+1-1/e*d,T=O/C,P=T*d/e,b=T-e*P,x=p(i),I=x.reduce((Y,V)=>Y+V),S=b/I,K=new u.L(r.map((Y,V)=>{const X=x[V]*S;return[Y,y?Math.floor(X):X]})),N=new u.L(r.map((Y,V)=>{const $=x[V]*S+P;return[Y,y?Math.floor($):$]})),z=Array.from(N.values()).reduce((Y,V)=>Y+V),W=(O-(z-z/e*d))*E,U=n+W;let F=y?Math.round(U):U;const H=new Array(e);for(let Y=0;Y<e;Y+=1){H[Y]=m(F);const V=r[Y];F+=N.get(V)}return{valueBandWidth:K,valueStep:N,adjustedRange:H}}function h(a){var r;const{domain:s}=a,o=s.length;if(o===0)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(!!(!((r=a.flex)===null||r===void 0)&&r.length))return c(a);const{range:f,paddingOuter:y,paddingInner:E,round:e,align:i}=a;let n,l,O=f[0];const T=f[1]-O,P=y*2,b=o-E;n=T/Math.max(1,P+b),e&&(n=Math.floor(n)),O+=(T-n*(o-E))*i,l=n*(1-E),e&&(O=Math.round(O),l=Math.round(l));const x=new Array(o).fill(0).map((I,S)=>O+S*n);return{valueStep:n,valueBandWidth:l,adjustedRange:x}}class v extends D.r{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:D.z,flex:[]}}constructor(r){super(r)}clone(){return new v(this.options)}getStep(r){return this.valueStep===void 0?1:typeof this.valueStep=="number"?this.valueStep:r===void 0?Array.from(this.valueStep.values())[0]:this.valueStep.get(r)}getBandWidth(r){return this.valueBandWidth===void 0?1:typeof this.valueBandWidth=="number"?this.valueBandWidth:r===void 0?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(r)}getRange(){return this.adjustedRange}getPaddingInner(){const{padding:r,paddingInner:s}=this.options;return r>0?r:s}getPaddingOuter(){const{padding:r,paddingOuter:s}=this.options;return r>0?r:s}rescale(){super.rescale();const{align:r,domain:s,range:o,round:d,flex:f}=this.options,{adjustedRange:y,valueBandWidth:E,valueStep:e}=h({align:r,range:o,round:d,flex:f,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:s});this.valueStep=e,this.valueBandWidth=E,this.adjustedRange=y}}},39429:function(it,w,t){"use strict";t.d(w,{X:function(){return D}});var u=t(48690);class D{constructor(M){this.options=(0,u.Z)({},this.getDefaultOptions()),this.update(M)}getOptions(){return this.options}update(M={}){this.options=(0,u.Z)({},this.options,M),this.rescale(M)}rescale(M){}}},51240:function(it,w,t){"use strict";t.d(w,{V:function(){return d}});var u=t(17602),D=t(39429),p=t(79572),M=t(98882),m=t(88784),c=t(77589),h=t(6393),v=t(91915),a=t(67239);const r=(f,y,E)=>{const[e,i]=f,[n,l]=y;let O,C;return e<i?(O=(0,p.I)(e,i),C=E(n,l)):(O=(0,p.I)(i,e),C=E(l,n)),(0,M.q)(C,O)},s=(f,y,E)=>{const e=Math.min(f.length,y.length)-1,i=new Array(e),n=new Array(e),l=f[0]>f[e],O=l?[...f].reverse():f,C=l?[...y].reverse():y;for(let T=0;T<e;T+=1)i[T]=(0,p.I)(O[T],O[T+1]),n[T]=E(C[T],C[T+1]);return T=>{const P=(0,m.b)(f,T,1,e)-1,b=i[P],x=n[P];return(0,M.q)(x,b)(T)}},o=(f,y,E,e)=>{const n=Math.min(f.length,y.length)>2?s:r,l=e?c.lk:E;return n(f,y,l)};class d extends D.X{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:c.fv,tickCount:5}}map(y){return(0,h.J)(y)?this.output(y):this.options.unknown}invert(y){return(0,h.J)(y)?this.input(y):this.options.unknown}nice(){if(!this.options.nice)return;const[y,E,e,...i]=this.getTickMethodOptions();this.options.domain=this.chooseNice()(y,E,e,...i)}getTicks(){const{tickMethod:y}=this.options,[E,e,i,...n]=this.getTickMethodOptions();return y(E,e,i,...n)}getTickMethodOptions(){const{domain:y,tickCount:E}=this.options,e=y[0],i=y[y.length-1];return[e,i,E]}chooseNice(){return v.n}rescale(){this.nice();const[y,E]=this.chooseTransforms();this.composeOutput(y,this.chooseClamp(y)),this.composeInput(y,E,this.chooseClamp(E))}chooseClamp(y){const{clamp:E,range:e}=this.options,i=this.options.domain.map(y),n=Math.min(i.length,e.length);return E?(0,a.w)(i[0],i[n-1]):u.Z}composeOutput(y,E){const{domain:e,range:i,round:n,interpolate:l}=this.options,O=o(e.map(y),i,l,n);this.output=(0,M.q)(O,E,y)}composeInput(y,E,e){const{domain:i,range:n}=this.options,l=o(n,i.map(y),c.fv);this.input=(0,M.q)(E,e,l)}}},12454:function(it,w,t){"use strict";t.d(w,{b:function(){return m}});var u=t(17602),D=t(51240),p=t(77589),M=t(77341);class m extends D.V{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:p.wp,tickMethod:M.Z,tickCount:5}}chooseTransforms(){return[u.Z,u.Z]}clone(){return new m(this.options)}}},5733:function(it,w,t){"use strict";t.d(w,{r:function(){return c},z:function(){return D}});var u=t(39429);const D=Symbol("defaultUnknown");function p(h,v,a){for(let r=0;r<v.length;r+=1)h.has(v[r])||h.set(a(v[r]),r)}function M(h){const{value:v,from:a,to:r,mapper:s,notFoundReturn:o}=h;let d=s.get(v);if(d===void 0){if(o!==D)return o;d=a.push(v)-1,s.set(v,d)}return r[d%r.length]}function m(h){return h instanceof Date?v=>`${v}`:typeof h=="object"?v=>JSON.stringify(v):v=>v}class c extends u.X{getDefaultOptions(){return{domain:[],range:[],unknown:D}}constructor(v){super(v)}map(v){return this.domainIndexMap.size===0&&p(this.domainIndexMap,this.getDomain(),this.domainKey),M({value:this.domainKey(v),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(v){return this.rangeIndexMap.size===0&&p(this.rangeIndexMap,this.getRange(),this.rangeKey),M({value:this.rangeKey(v),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(v){const[a]=this.options.domain,[r]=this.options.range;if(this.domainKey=m(a),this.rangeKey=m(r),!this.rangeIndexMap){this.rangeIndexMap=new Map,this.domainIndexMap=new Map;return}(!v||v.range)&&this.rangeIndexMap.clear(),(!v||v.domain||v.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}clone(){return new c(this.options)}getRange(){return this.options.range}getDomain(){if(this.sortedDomain)return this.sortedDomain;const{domain:v,compare:a}=this.options;return this.sortedDomain=a?[...v].sort(a):v,this.sortedDomain}}},77341:function(it,w,t){"use strict";t.d(w,{Z:function(){return D}});var u=t(5097);const D=(p,M,m)=>{let c,h,v=p,a=M;if(v===a&&m>0)return[v];let r=(0,u.G)(v,a,m);if(r===0||!Number.isFinite(r))return[];if(r>0){v=Math.ceil(v/r),a=Math.floor(a/r),h=new Array(c=Math.ceil(a-v+1));for(let s=0;s<c;s+=1)h[s]=(v+s)*r}else{r=-r,v=Math.ceil(v*r),a=Math.floor(a*r),h=new Array(c=Math.ceil(a-v+1));for(let s=0;s<c;s+=1)h[s]=(v+s)/r}return h}},88784:function(it,w,t){"use strict";t.d(w,{b:function(){return u}});function u(D,p,M,m,c){let h=M||0,v=m||D.length;const a=c||(r=>r);for(;h<v;){const r=Math.floor((h+v)/2);a(D[r])>p?v=r:h=r+1}return h}},67239:function(it,w,t){"use strict";t.d(w,{w:function(){return u}});function u(D,p){const M=p<D?p:D,m=D>p?D:p;return c=>Math.min(Math.max(M,c),m)}},82689:function(it,w,t){"use strict";t.d(w,{U:function(){return m}});var u=t(2489),D=t.n(u);function p(c,h,v){let a=v;return a<0&&(a+=1),a>1&&(a-=1),a<1/6?c+(h-c)*6*a:a<1/2?h:a<2/3?c+(h-c)*(2/3-a)*6:c}function M(c){const h=c[0]/360,v=c[1]/100,a=c[2]/100,r=c[3];if(v===0)return[a*255,a*255,a*255,r];const s=a<.5?a*(1+v):a+v-a*v,o=2*a-s,d=p(o,s,h+1/3),f=p(o,s,h),y=p(o,s,h-1/3);return[d*255,f*255,y*255,r]}function m(c){const h=D().get(c);if(!h)return null;const{model:v,value:a}=h;return v==="rgb"?a:v==="hsl"?M(a):null}},98882:function(it,w,t){"use strict";t.d(w,{q:function(){return u}});function u(D,...p){return p.reduce((M,m)=>c=>M(m(c)),D)}},91915:function(it,w,t){"use strict";t.d(w,{n:function(){return D}});var u=t(5097);const D=(p,M,m=5)=>{const c=[p,M];let h=0,v=c.length-1,a=c[h],r=c[v],s;return r<a&&([a,r]=[r,a],[h,v]=[v,h]),s=(0,u.G)(a,r,m),s>0?(a=Math.floor(a/s)*s,r=Math.ceil(r/s)*s,s=(0,u.G)(a,r,m)):s<0&&(a=Math.ceil(a*s)/s,r=Math.floor(r*s)/s,s=(0,u.G)(a,r,m)),s>0?(c[h]=Math.floor(a/s)*s,c[v]=Math.ceil(r/s)*s):s<0&&(c[h]=Math.ceil(a*s)/s,c[v]=Math.floor(r*s)/s),c}},47566:function(it,w,t){"use strict";t.d(w,{L:function(){return m}});function u({map:c,initKey:h},v){const a=h(v);return c.has(a)?c.get(a):v}function D({map:c,initKey:h},v){const a=h(v);return c.has(a)?c.get(a):(c.set(a,v),v)}function p({map:c,initKey:h},v){const a=h(v);return c.has(a)&&(v=c.get(a),c.delete(a)),v}function M(c){return typeof c=="object"?c.valueOf():c}class m extends Map{constructor(h){if(super(),this.map=new Map,this.initKey=M,h!==null)for(const[v,a]of h)this.set(v,a)}get(h){return super.get(u({map:this.map,initKey:this.initKey},h))}has(h){return super.has(u({map:this.map,initKey:this.initKey},h))}set(h,v){return super.set(D({map:this.map,initKey:this.initKey},h),v)}delete(h){return super.delete(p({map:this.map,initKey:this.initKey},h))}}},77589:function(it,w,t){"use strict";t.d(w,{fv:function(){return D},lk:function(){return m},wp:function(){return M}});var u=t(82689);const D=(c,h)=>v=>c*(1-v)+h*v,p=(c,h)=>{const v=(0,u.U)(c),a=(0,u.U)(h);return v===null||a===null?v?()=>c:()=>h:r=>{const s=new Array(4);for(let E=0;E<4;E+=1){const e=v[E],i=a[E];s[E]=e*(1-r)+i*r}const[o,d,f,y]=s;return`rgba(${Math.round(o)}, ${Math.round(d)}, ${Math.round(f)}, ${y})`}},M=(c,h)=>typeof c=="number"&&typeof h=="number"?D(c,h):typeof c=="string"&&typeof h=="string"?p(c,h):()=>c,m=(c,h)=>{const v=D(c,h);return a=>Math.round(v(a))}},6393:function(it,w,t){"use strict";t.d(w,{J:function(){return p}});var u=t(36179),D=t(96625);function p(M){return!(0,u.Z)(M)&&!(0,D.Z)(M)&&!Number.isNaN(M)}},79572:function(it,w,t){"use strict";t.d(w,{I:function(){return u}});function u(D,p){return p-D?M=>(M-D)/(p-D):M=>.5}},5097:function(it,w,t){"use strict";t.d(w,{G:function(){return M}});const u=Math.sqrt(50),D=Math.sqrt(10),p=Math.sqrt(2);function M(c,h,v){const a=(h-c)/Math.max(0,v),r=Math.floor(Math.log(a)/Math.LN10),s=a/Hn(10,r);return r>=0?(s>=u?10:s>=D?5:s>=p?2:1)*Hn(10,r):-Hn(10,-r)/(s>=u?10:s>=D?5:s>=p?2:1)}function m(c,h,v){const a=Math.abs(h-c)/Math.max(0,v);let r=Hn(10,Math.floor(Math.log(a)/Math.LN10));const s=a/r;return s>=u?r*=10:s>=D?r*=5:s>=p&&(r*=2),h<c?-r:r}},10724:function(it,w,t){"use strict";var u=t(96408),D=function(){for(var M=[],m=0;m<arguments.length;m++)M[m]=arguments[m];for(var c=M[0],h=1;h<M.length;h++){var v=M[h];isFunction(v)&&(v=v.prototype),mix(c.prototype,v)}},p=null},70936:function(){"use strict";var it=function(){function t(){this.map={}}return t.prototype.has=function(u){return this.map[u]!==void 0},t.prototype.get=function(u,D){var p=this.map[u];return p===void 0?D:p},t.prototype.set=function(u,D){this.map[u]=D},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(u){delete this.map[u]},t.prototype.size=function(){return Object.keys(this.map).length},t}(),w=null},76405:function(it,w,t){"use strict";var u=t(66881),D=function(p){if(typeof p!="object"||p===null)return p;var M;if((0,u.Z)(p)){M=[];for(var m=0,c=p.length;m<c;m++)typeof p[m]=="object"&&p[m]!=null?M[m]=D(p[m]):M[m]=p[m]}else{M={};for(var h in p)typeof p[h]=="object"&&p[h]!=null?M[h]=D(p[h]):M[h]=p[h]}return M};w.Z=D},48685:function(it,w,t){"use strict";var u=t(66881),D=t(83231),p=5;function M(h,v,a,r){a=a||0,r=r||p;for(var s in v)if(v.hasOwnProperty(s)){var o=v[s];o!==null&&isPlainObject(o)?(isPlainObject(h[s])||(h[s]={}),a<r?M(h[s],o,a+1,r):h[s]=v[s]):isArray(o)?(h[s]=[],h[s]=h[s].concat(o)):o!==void 0&&(h[s]=o)}}var m=function(h){for(var v=[],a=1;a<arguments.length;a++)v[a-1]=arguments[a];for(var r=0;r<v.length;r+=1)M(h,v[r]);return h},c=null},91755:function(it,w,t){"use strict";var u=t(66881),D=t(37936);function p(M,m){if(M){var c;if((0,u.Z)(M))for(var h=0,v=M.length;h<v&&(c=m(M[h],h),c!==!1);h++);else if((0,D.Z)(M)){for(var a in M)if(M.hasOwnProperty(a)&&(c=m(M[a],a),c===!1))break}}}w.Z=p},71742:function(it,w,t){"use strict";var u=t(66881),D=t(24872);function p(m,c){return isArray(m)||isString(m)?m[m.length-1]===c:!1}var M=null},51258:function(it,w,t){"use strict";var u=t(96408),D=function(M,m,c,h){isFunction(m)||(c=m,m=M,M=function(){});var v=Object.create?function(r,s){return Object.create(r,{constructor:{value:s}})}:function(r,s){function o(){}o.prototype=r;var d=new o;return d.constructor=s,d},a=v(m.prototype,M);return M.prototype=mix(a,M.prototype),M.superclass=v(m.prototype,m),mix(a,c),mix(M,h),M},p=null},54053:function(it,w,t){"use strict";var u=t(96408),D=t(80636),p=t(66881),M=t(83231);function m(h,v){if(!isArray(h))return null;var a;if(isFunction(v)&&(a=v),isPlainObject(v)&&(a=function(s){return isMatch(s,v)}),a){for(var r=0;r<h.length;r+=1)if(a(h[r]))return h[r]}return null}var c=null},20075:function(it,w,t){"use strict";var u=t(66881),D=function(M,m){for(var c=null,h=0;h<M.length;h++){var v=M[h],a=v[m];if(!isNil(a)){isArray(a)?c=a[0]:c=a;break}}return c},p=null},34631:function(it,w,t){"use strict";var u=t(66881),D=function(M,m){if(m===void 0&&(m=[]),!isArray(M))m.push(M);else for(var c=0;c<M.length;c+=1)D(M[c],m);return m},p=null},39352:function(it,w,t){"use strict";var u=t(66881),D=function(M){if(!isArray(M))return[];for(var m=[],c=0;c<M.length;c++)m=m.concat(M[c]);return m},p=null},80312:function(it,w,t){"use strict";var u=t(91755),D=null},43770:function(it,w,t){"use strict";var u=t(24872),D=t(22968),p=function(M,m,c,h){h===void 0&&(h="...");var v=16,a=measureTextWidth(h,c),r=isString(M)?M:toString(M),s=m,o=[],d,f;if(measureTextWidth(M,c)<=m)return M;for(;d=r.substr(0,v),f=measureTextWidth(d,c),!(f+a>s&&f>s);)if(o.push(d),s-=f,r=r.substr(v),!r)return o.join("");for(;d=r.substr(0,1),f=measureTextWidth(d,c),!(f+a>s);)if(o.push(d),s-=f,r=r.substr(1),!r)return o.join("");return""+o.join("")+h}},88142:function(it,w,t){"use strict";var u=t(66881),D=t(93540),p=t(30753),M=function(c){var h=c.filter(function(o){return!isNaN(o)});if(!h.length)return{min:0,max:0};if(isArray(c[0])){for(var v=[],a=0;a<c.length;a++)v=v.concat(c[a]);h=v}var r=getMax(h),s=getMin(h);return{min:s,max:r}},m=null},4270:function(){"use strict";var it={}.toString,w=function(u){return it.call(u).replace(/^\[object /,"").replace(/]$/,"")},t=null},33592:function(it,w,t){"use strict";var u=t(24872),D=function(p,M,m){for(var c=0,h=isString(M)?M.split("."):M;p&&c<h.length;)p=p[h[c++]];return p===void 0||c<h.length?m:p}},89085:function(it,w,t){"use strict";var u=t(66881),D=t(96408),p=Object.prototype.hasOwnProperty;function M(c,h){if(!h||!isArray(c))return{};for(var v={},a=isFunction(h)?h:function(d){return d[h]},r,s=0;s<c.length;s++){var o=c[s];r=a(o),p.call(v,r)?v[r].push(o):v[r]=[o]}return v}var m=null},94382:function(it,w,t){"use strict";var u=t(66881),D=t(96408),p=t(89085);function M(m,c){if(!c)return{0:m};if(!isFunction(c)){var h=isArray(c)?c:c.replace(/\s+/g,"").split("*");c=function(v){for(var a="_",r=0,s=h.length;r<s;r++)a+=v[h[r]]&&v[h[r]].toString();return a}}return groupBy(m,c)}},17376:function(it,w,t){"use strict";var u=t(94382),D=function(p,M){if(!M)return[p];var m=groupToMap(p,M),c=[];for(var h in m)c.push(m[h]);return c}},53761:function(it,w,t){"use strict";var u=t(56392),D=function(p,M){return contains(values(p),M)}},72691:function(it,w,t){"use strict";t.d(w,{Xy:function(){return bt.Z},d9:function(){return mt.Z},jj:function(){return s.Z},kJ:function(){return X.Z}});var u=t(54053),D=t(20075),p=t(39352),M=t(34631),m=t(88142),c=t(63148),h=t(84441),v=t(59410),a=t(85011),r=t(70042),s=t(78474),o=t(33861),d=t(43960),f=t(71742),y=t(17376),E=t(89085),e=t(94382),i=t(43427),n=t(90718),l=t(65517),O=t(41935),C=t(79433),T=t(68939),P=t(11407),b=t(59046),x=t(93540),I=t(29869),S=t(30753),K=t(70311),N=t(13773),z=t(73098),j=t(80312),W=t(53761),U=t(52928),F=t(80636),H=t(56392),Y=t(4270),V=t(41471),X=t(66881),$=t(71469),rt=t(58157),ot=t(35264),tt=t(96408),G=t(63730),nt=t(56567),ut=t(83231),dt=t(38734),et=t(69792),gt=t(24872),Et=t(15247),lt=t(10724),mt=t(76405),Tt=t(12996),B=t(48685),J=t(91755),pt=t(51258),Ot=t(23504),bt=t(66922),Rt=t(75438),It=t(33592),st=t(41178),Q=t(25277),ct=t(5465),vt=t(18661),ft=t(22968),_t=t(43770),yt=t(70936)},41471:function(it,w,t){"use strict";var u=t(15247),D=function(M){return isType(M,"Arguments")},p=null},59495:function(it,w){"use strict";var t=function(u){return u!==null&&typeof u!="function"&&isFinite(u.length)};w.Z=t},66881:function(it,w,t){"use strict";var u=t(15247);w.Z=function(D){return Array.isArray?Array.isArray(D):(0,u.Z)(D,"Array")}},71469:function(it,w,t){"use strict";var u=t(15247),D=function(M){return isType(M,"Boolean")},p=null},58157:function(it,w,t){"use strict";var u=t(15247),D=function(M){return isType(M,"Date")},p=null},65517:function(it,w,t){"use strict";var u=t(56567),D=function(M){return isNumber(M)&&M%1!==0},p=null},23504:function(it,w,t){"use strict";var u=t(4270),D=t(38734),p=Object.prototype.hasOwnProperty;function M(c){if(isNil(c))return!0;if(isArrayLike(c))return!c.length;var h=getType(c);if(h==="Map"||h==="Set")return!c.size;if(isPrototype(c))return!Object.keys(c).length;for(var v in c)if(p.call(c,v))return!1;return!0}var m=null},75438:function(it,w,t){"use strict";var u=t(96408),D=t(66922),p=function(M,m,c){return isFunction(c)?!!c(M,m):isEqual(M,m)}},66922:function(it,w,t){"use strict";var u=t(18825),D=t(59495),p=t(24872),M=function(m,c){if(m===c)return!0;if(!m||!c||(0,p.Z)(m)||(0,p.Z)(c))return!1;if((0,D.Z)(m)||(0,D.Z)(c)){if(m.length!==c.length)return!1;for(var h=!0,v=0;v<m.length&&(h=M(m[v],c[v]),!!h);v++);return h}if((0,u.Z)(m)||(0,u.Z)(c)){var a=Object.keys(m),r=Object.keys(c);if(a.length!==r.length)return!1;for(var h=!0,v=0;v<a.length&&(h=M(m[a[v]],c[a[v]]),!!h);v++);return h}return!1};w.Z=M},35264:function(it,w,t){"use strict";var u=t(15247),D=function(M){return isType(M,"Error")},p=null},41935:function(it,w,t){"use strict";var u=t(56567),D=function(M){return isNumber(M)&&M%2===0},p=null},63730:function(it,w,t){"use strict";var u=t(56567);function D(p){return isNumber(p)&&isFinite(p)}},96408:function(it,w,t){"use strict";var u=t(15247);w.Z=function(D){return(0,u.Z)(D,"Function")}},79433:function(it,w,t){"use strict";var u=t(56567),D=Number.isInteger?Number.isInteger:function(M){return(0,u.Z)(M)&&M%1===0},p=null},80636:function(it,w,t){"use strict";var u=t(52928);function D(M,m){var c=keys(m),h=c.length;if(isNil(M))return!h;for(var v=0;v<h;v+=1){var a=c[v];if(m[a]!==M[a]||!(a in M))return!1}return!0}var p=null},68939:function(it,w,t){"use strict";var u=t(56567),D=function(M){return isNumber(M)&&M<0},p=null},56567:function(it,w,t){"use strict";var u=t(15247),D=function(p){return(0,u.Z)(p,"Number")};w.Z=D},18825:function(it,w){"use strict";var t=function(u){return typeof u=="object"&&u!==null};w.Z=t},37936:function(it,w){"use strict";w.Z=function(t){var u=typeof t;return t!==null&&u==="object"||u==="function"}},11407:function(it,w,t){"use strict";var u=t(56567),D=function(M){return isNumber(M)&&M%2!==0},p=null},83231:function(it,w,t){"use strict";var u=t(15247),D=function(M){if(!isObjectLike(M)||!isType(M,"Object"))return!1;if(Object.getPrototypeOf(M)===null)return!0;for(var m=M;Object.getPrototypeOf(m)!==null;)m=Object.getPrototypeOf(m);return Object.getPrototypeOf(M)===m},p=null},59046:function(it,w,t){"use strict";var u=t(56567),D=function(M){return isNumber(M)&&M>0},p=null},38734:function(){"use strict";var it=Object.prototype,w=function(u){var D=u&&u.constructor,p=typeof D=="function"&&D.prototype||it;return u===p},t=null},69792:function(it,w,t){"use strict";var u=t(15247),D=function(M){return isType(M,"RegExp")},p=null},24872:function(it,w,t){"use strict";var u=t(15247);w.Z=function(D){return(0,u.Z)(D,"String")}},15247:function(it,w){"use strict";var t={}.toString,u=function(D,p){return t.call(D)==="[object "+p+"]"};w.Z=u},52928:function(it,w,t){"use strict";var u=t(91755),D=t(96408),p=Object.keys?function(m){return Object.keys(m)}:function(m){var c=[];return(0,u.Z)(m,function(h,v){(0,D.Z)(m)&&v==="prototype"||c.push(v)}),c},M=null},29869:function(it,w,t){"use strict";var u=t(66881),D=t(96408),p=function(M,m){if(isArray(M)){for(var c,h=-1/0,v=0;v<M.length;v++){var a=M[v],r=isFunction(m)?m(a):a[m];r>h&&(c=a,h=r)}return c}}},93540:function(it,w,t){"use strict";var u=t(66881),D=function(p){if(isArray(p))return p.reduce(function(M,m){return Math.max(M,m)},p[0])}},22968:function(it,w,t){"use strict";var u=t(15767),D=t(56392),p=t(12996),M=t(24872),m,c=(0,p.Z)(function(h,v){v===void 0&&(v={});var a=v.fontSize,r=v.fontFamily,s=v.fontWeight,o=v.fontStyle,d=v.fontVariant;return m||(m=document.createElement("canvas").getContext("2d")),m.font=[o,d,s,a+"px",r].join(" "),m.measureText((0,M.Z)(h)?h:"").width},function(h,v){return v===void 0&&(v={}),(0,u.pr)([h],(0,D.Z)(v)).join("")})},12996:function(it,w,t){"use strict";var u=t(96408);w.Z=function(D,p){if(!(0,u.Z)(D))throw new TypeError("Expected a function");var M=function(){for(var m=[],c=0;c<arguments.length;c++)m[c]=arguments[c];var h=p?p.apply(this,m):m[0],v=M.cache;if(v.has(h))return v.get(h);var a=D.apply(this,m);return v.set(h,a),a};return M.cache=new Map,M}},70311:function(it,w,t){"use strict";var u=t(66881),D=t(96408),p=function(M,m){if(isArray(M)){for(var c,h=1/0,v=0;v<M.length;v++){var a=M[v],r=isFunction(m)?m(a):a[m];r<h&&(c=a,h=r)}return c}}},30753:function(it,w,t){"use strict";var u=t(66881),D=function(p){if(isArray(p))return p.reduce(function(M,m){return Math.min(M,m)},p[0])}},43427:function(){"use strict";var it={};function w(u){var D=it[u];if(!D){for(var p=u.toString(16),M=p.length;M<6;M++)p="0"+p;D="#"+p,it[u]=D}return D}var t=null},5465:function(it,w,t){"use strict";var u=t(59410),D=function(p,M){return reduce(p,function(m,c,h){return M.includes(h)||(m[h]=c),m},{})}},90718:function(it,w,t){"use strict";var u=t(66881);function D(M){var m=0,c=0,h=0,v=0;return isArray(M)?M.length===1?m=c=h=v=M[0]:M.length===2?(m=h=M[0],c=v=M[1]):M.length===3?(m=M[0],c=v=M[1],h=M[2]):(m=M[0],c=M[1],h=M[2],v=M[3]):m=c=h=v=M,{r1:m,r2:c,r3:h,r4:v}}var p=null},25277:function(it,w,t){"use strict";var u=t(91755),D=t(83231),p=Object.prototype.hasOwnProperty,M=function(m,c){if(m===null||!isPlainObject(m))return{};var h={};return each(c,function(v){p.call(m,v)&&(h[v]=m[v])}),h}},84441:function(){"use strict";var it=Array.prototype.splice,w=function(D,p){if(!isArrayLike(D))return[];for(var M=D?p.length:0,m=M-1;M--;){var c=void 0,h=p[M];(M===m||h!==c)&&(c=h,it.call(D,h,1))}return D},t=null},63148:function(){"use strict";var it=Array.prototype,w=it.splice,t=it.indexOf,u=function(p){for(var M=[],m=1;m<arguments.length;m++)M[m-1]=arguments[m];for(var c=0;c<M.length;c++)for(var h=M[c],v=-1;(v=t.call(p,h))>-1;)w.call(p,v,1);return p},D=null},59410:function(it,w,t){"use strict";var u=t(91755),D=t(66881),p=t(83231),M=function(c,h,v){if(!isArray(c)&&!isPlainObject(c))return c;var a=v;return each(c,function(r,s){a=h(a,r,s)}),a},m=null},85011:function(it,w,t){"use strict";var u=t(84441),D=function(M,m){var c=[];if(!isArrayLike(M))return c;for(var h=-1,v=[],a=M.length;++h<a;){var r=M[h];m(r,h,M)&&(c.push(r),v.push(h))}return pullAt(M,v),c},p=null},41178:function(it,w,t){"use strict";var u=t(24872),D=t(56567),p=function(M,m,c){var h=M,v=isString(m)?m.split("."):m;return v.forEach(function(a,r){r<v.length-1?(isObject(h[a])||(h[a]=isNumber(v[r+1])?[]:{}),h=h[a]):h[a]=c}),M}},70042:function(it,w,t){"use strict";var u=t(66881),D=t(24872),p=t(96408);function M(c,h){var v;if(isFunction(h))v=function(r,s){return h(r)-h(s)};else{var a=[];isString(h)?a.push(h):isArray(h)&&(a=h),v=function(r,s){for(var o=0;o<a.length;o+=1){var d=a[o];if(r[d]>s[d])return 1;if(r[d]<s[d])return-1}return 0}}return c.sort(v),c}var m=null},43960:function(it,w,t){"use strict";var u=t(66881),D=t(24872);function p(m,c){return isArray(m)||isString(m)?m[0]===c:!1}var M=null},13773:function(){"use strict";var it=180/Math.PI,w=function(u){return it*u},t=null},73098:function(){"use strict";var it=Math.PI/180,w=function(u){return it*u},t=null},78474:function(it,w,t){"use strict";t.d(w,{Z:function(){return u}});function u(D,p){p===void 0&&(p=new Map);var M=[];if(Array.isArray(D))for(var m=0,c=D.length;m<c;m++){var h=D[m];p.has(h)||(M.push(h),p.set(h,!0))}return M}},18661:function(){"use strict";var it={},w=function(t){return t=t||"g",it[t]?it[t]+=1:it[t]=1,t+it[t]}},33861:function(it,w,t){"use strict";var u=t(66881),D=function(p,M){for(var m=[],c={},h=0;h<p.length;h++){var v=p[h],a=v[M];if(!isNil(a)){isArray(a)||(a=[a]);for(var r=0;r<a.length;r++){var s=a[r];c[s]||(m.push(s),c[s]=!0)}}}return m}},56392:function(it,w,t){"use strict";var u=t(91755),D=t(96408),p=Object.values?function(M){return Object.values(M)}:function(M){var m=[];return(0,u.Z)(M,function(c,h){(0,D.Z)(M)&&h==="prototype"||m.push(c)}),m};w.Z=p},39559:function(it,w,t){"use strict";t.d(w,{L:function(){return u}});function u(D){var p=document.createElement("div");p.innerHTML=D;var M=p.childNodes[0];return M&&p.contains(M)&&p.removeChild(M),M}},15378:function(it,w){"use strict";var t=function(u,D,p){return u<D?D:u>p?p:u};w.Z=t},77754:function(it,w,t){"use strict";var u=t(37234),D=function(p,M){return(0,u.Z)(p)?p.indexOf(M)>-1:!1};w.Z=D},83633:function(it,w){"use strict";function t(u,D,p){var M;return function(){var m=this,c=arguments,h=function(){M=null,p||u.apply(m,c)},v=p&&!M;clearTimeout(M),M=setTimeout(h,D),v&&u.apply(m,c)}}w.Z=t},15615:function(it,w,t){"use strict";var u=t(13535),D=t(77754),p=function(M,m){return m===void 0&&(m=[]),(0,u.Z)(M,function(c){return!(0,D.Z)(m,c)})};w.Z=p},13535:function(it,w,t){"use strict";var u=t(37234),D=function(p,M){if(!(0,u.Z)(p))return p;for(var m=[],c=0;c<p.length;c++){var h=p[c];M(h,c)&&m.push(h)}return m};w.Z=D},42204:function(it,w,t){"use strict";var u=t(83262),D=function(p){if(!(0,u.Z)(p))return[];for(var M=[],m=0;m<p.length;m++)M=M.concat(p[m]);return M};w.Z=D},11880:function(it,w){"use strict";var t={}.toString,u=function(D){return t.call(D).replace(/^\[object /,"").replace(/]$/,"")};w.Z=u},22040:function(it,w,t){"use strict";var u=t(27412);w.Z=function(D,p,M){for(var m=0,c=(0,u.Z)(p)?p.split("."):p;D&&m<c.length;)D=D[c[m++]];return D===void 0||m<c.length?M:D}},26218:function(it,w,t){"use strict";var u=t(83262),D=t(84237),p=Object.prototype.hasOwnProperty;function M(m,c){if(!c||!(0,u.Z)(m))return{};for(var h={},v=(0,D.Z)(c)?c:function(o){return o[c]},a,r=0;r<m.length;r++){var s=m[r];a=v(s),p.call(h,a)?h[a].push(s):h[a]=[s]}return h}w.Z=M},17602:function(it,w){"use strict";w.Z=function(t){return t}},37234:function(it,w){"use strict";var t=function(u){return u!==null&&typeof u!="function"&&isFinite(u.length)};w.Z=t},29803:function(it,w,t){"use strict";var u=t(15725),D=function(p){return(0,u.Z)(p,"Boolean")};w.Z=D},91984:function(it,w,t){"use strict";t.d(w,{Z:function(){return u}});function u(D){return D instanceof Date}},68627:function(it,w,t){"use strict";t.d(w,{Z:function(){return u}});function u(D){return D instanceof Element||D instanceof Document}},61989:function(it,w,t){"use strict";var u=t(89148),D=t(37234),p=t(11880),M=t(38850),m=Object.prototype.hasOwnProperty;function c(h){if((0,u.Z)(h))return!0;if((0,D.Z)(h))return!h.length;var v=(0,p.Z)(h);if(v==="Map"||v==="Set")return!h.size;if((0,M.Z)(h))return!Object.keys(h).length;for(var a in h)if(m.call(h,a))return!1;return!0}w.Z=c},99666:function(it,w,t){"use strict";var u=t(66611),D=t(37234),p=t(27412),M=function(m,c){if(m===c)return!0;if(!m||!c||(0,p.Z)(m)||(0,p.Z)(c))return!1;if((0,D.Z)(m)||(0,D.Z)(c)){if(m.length!==c.length)return!1;for(var h=!0,v=0;v<m.length&&(h=M(m[v],c[v]),!!h);v++);return h}if((0,u.Z)(m)||(0,u.Z)(c)){var a=Object.keys(m),r=Object.keys(c);if(a.length!==r.length)return!1;for(var h=!0,v=0;v<a.length&&(h=M(m[a[v]],c[a[v]]),!!h);v++);return h}return!1};w.Z=M},96625:function(it,w,t){"use strict";t.d(w,{Z:function(){return u}});function u(D){return D===null}},45378:function(it,w,t){"use strict";t.d(w,{Z:function(){return D}});var u=1e-5;function D(p,M,m){return m===void 0&&(m=u),p===M||Math.abs(p-M)<m}},38850:function(it,w){"use strict";var t=Object.prototype,u=function(D){var p=D&&D.constructor,M=typeof p=="function"&&p.prototype||t;return D===M};w.Z=u},36179:function(it,w){"use strict";var t=function(u){return u===void 0};w.Z=t},2159:function(it,w,t){"use strict";var u=t(47809),D=function(p){var M=(0,u.Z)(p);return M.charAt(0).toLowerCase()+M.substring(1)};w.Z=D},22043:function(it,w,t){"use strict";var u=t(83262),D=t(84237);w.Z=function(p,M){if((0,u.Z)(p)){for(var m,c=-1/0,h=0;h<p.length;h++){var v=p[h],a=(0,D.Z)(M)?M(v):v[M];a>c&&(m=v,c=a)}return m}}},7086:function(it,w,t){"use strict";t.d(w,{Z:function(){return u}});function u(D){if(!Array.isArray(D))return-1/0;var p=D.length;if(!p)return-1/0;for(var M=D[0],m=1;m<p;m++)M=Math.max(M,D[m]);return M}},15427:function(it,w,t){"use strict";t.d(w,{Z:function(){return p}});function u(M){var m,c,h,v=M||1;function a(s,o){++m>v&&(h=c,r(1),++m),c[s]=o}function r(s){m=0,c=Object.create(null),s||(h=Object.create(null))}return r(),{clear:r,has:function(s){return c[s]!==void 0||h[s]!==void 0},get:function(s){var o=c[s];if(o!==void 0)return o;if((o=h[s])!==void 0)return a(s,o),o},set:function(s,o){c[s]!==void 0?c[s]=o:a(s,o)}}}var D=new Map;function p(M,m,c){c===void 0&&(c=128);var h=function(){for(var v=[],a=0;a<arguments.length;a++)v[a]=arguments[a];var r=m?m.apply(this,v):v[0];D.has(M)||D.set(M,u(c));var s=D.get(M);if(s.has(r))return s.get(r);var o=M.apply(this,v);return s.set(r,o),o};return h}},54994:function(it,w,t){"use strict";var u=t(83262),D=t(84237);w.Z=function(p,M){if((0,u.Z)(p)){for(var m,c=1/0,h=0;h<p.length;h++){var v=p[h],a=(0,D.Z)(M)?M(v):v[M];a<c&&(m=v,c=a)}return m}}},20203:function(it,w,t){"use strict";var u=t(83262);w.Z=function(D){if((0,u.Z)(D))return D.reduce(function(p,M){return Math.min(p,M)},D[0])}},34466:function(it,w,t){"use strict";t.d(w,{Z:function(){return D}});function u(p,M){for(var m in M)M.hasOwnProperty(m)&&m!=="constructor"&&M[m]!==void 0&&(p[m]=M[m])}function D(p,M,m,c){return M&&u(p,M),m&&u(p,m),c&&u(p,c),p}},44502:function(it,w){"use strict";var t=function(u,D){return(u%D+D)%D};w.Z=t},52847:function(it,w){"use strict";w.Z=function(){}},97067:function(it,w,t){"use strict";var u=t(62342);w.Z=function(D,p){return(0,u.Z)(D,function(M,m,c){return p.includes(c)||(M[c]=m),M},{})}},62342:function(it,w,t){"use strict";var u=t(53179),D=t(83262),p=t(66520),M=function(m,c,h){if(!(0,D.Z)(m)&&!(0,p.Z)(m))return m;var v=h;return(0,u.Z)(m,function(a,r){v=c(v,a,r)}),v};w.Z=M},28767:function(it,w,t){"use strict";var u=t(70373),D=t(27412),p=t(26912);w.Z=function(M,m,c){var h=M,v=(0,D.Z)(m)?m.split("."):m;return v.forEach(function(a,r){r<v.length-1?((0,u.Z)(h[a])||(h[a]=(0,p.Z)(v[r+1])?[]:{}),h=h[a]):h[a]=c}),M}},94193:function(it,w){"use strict";function t(u,D){return!u||!D?u:u.replace(/\\?\{([^{}]+)\}/g,function(p,M){return p.charAt(0)==="\\"?p.slice(1):D[M]===void 0?"":D[M]})}w.Z=t},31922:function(it,w){"use strict";w.Z=function(t,u,D){var p,M,m,c,h=0;D||(D={});var v=function(){h=D.leading===!1?0:Date.now(),p=null,c=t.apply(M,m),p||(M=m=null)},a=function(){var r=Date.now();!h&&D.leading===!1&&(h=r);var s=u-(r-h);return M=this,m=arguments,s<=0||s>u?(p&&(clearTimeout(p),p=null),h=r,c=t.apply(M,m),p||(M=m=null)):!p&&D.trailing!==!1&&(p=setTimeout(v,s)),c};return a.cancel=function(){clearTimeout(p),h=0,p=M=m=null},a}},47809:function(it,w,t){"use strict";var u=t(89148);w.Z=function(D){return(0,u.Z)(D)?"":D.toString()}},36172:function(it,w,t){"use strict";t.d(w,{Z:function(){return u}});function u(D,p){p===void 0&&(p=new Map);var M=[];if(Array.isArray(D))for(var m=0,c=D.length;m<c;m++){var h=D[m];p.has(h)||(M.push(h),p.set(h,!0))}return M}},6466:function(it,w){"use strict";var t={};w.Z=function(u){return u=u||"g",t[u]?t[u]+=1:t[u]=1,u+t[u]}},18599:function(it,w,t){"use strict";var u=t(47809),D=function(p){var M=(0,u.Z)(p);return M.charAt(0).toUpperCase()+M.substring(1)};w.Z=D},84805:function(it,w,t){"use strict";t.d(w,{w:function(){return p}});var u=t(86567),D=t(19417);function p(M){if((0,u.b)(M))return[].concat(M);var m=(0,D.t)(M),c=0,h=0,v=0,a=0;return m.map(function(r){var s=r.slice(1).map(Number),o=r[0],d=o.toUpperCase();if(o==="M")return c=s[0],h=s[1],v=c,a=h,["M",c,h];var f;if(o!==d)switch(d){case"A":f=[d,s[0],s[1],s[2],s[3],s[4],s[5]+c,s[6]+h];break;case"V":f=[d,s[0]+h];break;case"H":f=[d,s[0]+c];break;default:{var y=s.map(function(e,i){return e+(i%2?h:c)});f=[d].concat(y)}}else f=[d].concat(s);var E=f.length;switch(d){case"Z":c=v,h=a;break;case"H":c=f[1];break;case"V":h=f[1];break;default:c=f[E-2],h=f[E-1],d==="M"&&(v=c,a=h)}return f})}},60246:function(it,w,t){"use strict";t.d(w,{Y:function(){return h}});var u=t(15767),D=t(91809),p=t(73218),M=t(50758),m=t(91033),c=t(31633);function h(v,a){if(a===void 0&&(a=!1),(0,m.H)(v)){var r=[].concat(v);return a?[r,[]]:r}for(var s=(0,M.A)(v),o=(0,u.pi)({},D.z),d=[],f="",y=s.length,E,e,i=[],n=0;n<y;n+=1){s[n]&&(f=s[n][0]),d[n]=f;var l=(0,c.Z)(s[n],o);s[n]=l,(0,p.B)(s,d,n),y=s.length,f==="Z"&&i.push(n),E=s[n],e=E.length,o.x1=+E[e-2],o.y1=+E[e-1],o.x2=+E[e-4]||o.x1,o.y2=+E[e-3]||o.y1}return a?[s,i]:s}},24827:function(it,w,t){"use strict";t.d(w,{M:function(){return D}});var u=t(65821);function D(p){for(var M=p.pathValue[p.segmentStart],m=M.toLowerCase(),c=p.data;c.length>=u.R[m]&&(m==="m"&&c.length>2?(p.segments.push([M].concat(c.splice(0,2))),m="l",M=M==="m"?"l":"L"):p.segments.push([M].concat(c.splice(0,u.R[m]))),!!u.R[m]););}},86905:function(it,w,t){"use strict";t.d(w,{U:function(){return u}});function u(D){return(D|32)===97}},96804:function(it,w,t){"use strict";t.d(w,{B:function(){return u},X:function(){return D}});function u(p){return p>=48&&p<=57||p===43||p===45||p===46}function D(p){return p>=48&&p<=57}},37775:function(it,w,t){"use strict";t.d(w,{C:function(){return u}});function u(D){switch(D|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}}},1395:function(it,w,t){"use strict";t.d(w,{W:function(){return u}});function u(D){var p=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];return D===10||D===13||D===8232||D===8233||D===32||D===9||D===11||D===12||D===160||D>=5760&&p.includes(D)}},65821:function(it,w,t){"use strict";t.d(w,{R:function(){return u}});var u={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0}},91809:function(it,w,t){"use strict";t.d(w,{z:function(){return u}});var u={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null}},19417:function(it,w,t){"use strict";t.d(w,{t:function(){return m}});var u=t(82591),D=t(69992),p=t(81045),M=t(31751);function m(c){if((0,u.n)(c))return[].concat(c);var h=new M.C(c);for((0,p.a)(h);h.index<h.max&&!h.err.length;)(0,D.J)(h);return h.err?h.err:h.segments}},31751:function(it,w,t){"use strict";t.d(w,{C:function(){return u}});var u=function(){function D(p){this.pathValue=p,this.segments=[],this.max=p.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}return D}()},83205:function(it,w,t){"use strict";t.d(w,{w:function(){return u}});function u(D){var p=D.index,M=D.pathValue,m=M.charCodeAt(p);if(m===48){D.param=0,D.index+=1;return}if(m===49){D.param=1,D.index+=1;return}D.err='[path-util]: invalid Arc flag "'.concat(M[p],'", expecting 0 or 1 at index ').concat(p)}},72270:function(it,w,t){"use strict";t.d(w,{a:function(){return D}});var u=t(96804);function D(p){var M=p.max,m=p.pathValue,c=p.index,h=c,v=!1,a=!1,r=!1,s=!1,o;if(h>=M){p.err="[path-util]: Invalid path value at index ".concat(h,', "pathValue" is missing param');return}if(o=m.charCodeAt(h),(o===43||o===45)&&(h+=1,o=m.charCodeAt(h)),!(0,u.X)(o)&&o!==46){p.err="[path-util]: Invalid path value at index ".concat(h,', "').concat(m[h],'" is not a number');return}if(o!==46){if(v=o===48,h+=1,o=m.charCodeAt(h),v&&h<M&&o&&(0,u.X)(o)){p.err="[path-util]: Invalid path value at index ".concat(c,', "').concat(m[c],'" illegal number');return}for(;h<M&&(0,u.X)(m.charCodeAt(h));)h+=1,a=!0;o=m.charCodeAt(h)}if(o===46){for(s=!0,h+=1;(0,u.X)(m.charCodeAt(h));)h+=1,r=!0;o=m.charCodeAt(h)}if(o===101||o===69){if(s&&!a&&!r){p.err="[path-util]: Invalid path value at index ".concat(h,', "').concat(m[h],'" invalid float exponent');return}if(h+=1,o=m.charCodeAt(h),(o===43||o===45)&&(h+=1),h<M&&(0,u.X)(m.charCodeAt(h)))for(;h<M&&(0,u.X)(m.charCodeAt(h));)h+=1;else{p.err="[path-util]: Invalid path value at index ".concat(h,', "').concat(m[h],'" invalid integer exponent');return}}p.index=h,p.param=+p.pathValue.slice(c,h)}},69992:function(it,w,t){"use strict";t.d(w,{J:function(){return a}});var u=t(24827),D=t(65821),p=t(83205),M=t(72270),m=t(81045),c=t(37775),h=t(96804),v=t(86905);function a(r){var s=r.max,o=r.pathValue,d=r.index,f=o.charCodeAt(d),y=D.R[o[d].toLowerCase()];if(r.segmentStart=d,!(0,c.C)(f)){r.err='[path-util]: Invalid path value "'.concat(o[d],'" is not a path command');return}if(r.index+=1,(0,m.a)(r),r.data=[],!y){(0,u.M)(r);return}for(;;){for(var E=y;E>0;E-=1){if((0,v.U)(f)&&(E===3||E===4)?(0,p.w)(r):(0,M.a)(r),r.err.length)return;r.data.push(r.param),(0,m.a)(r),r.index<s&&o.charCodeAt(r.index)===44&&(r.index+=1,(0,m.a)(r))}if(r.index>=r.max||!(0,h.B)(o.charCodeAt(r.index)))break}(0,u.M)(r)}},81045:function(it,w,t){"use strict";t.d(w,{a:function(){return D}});var u=t(1395);function D(p){for(var M=p.pathValue,m=p.max;p.index<m&&(0,u.W)(M.charCodeAt(p.index));)p.index+=1}},6477:function(it,w,t){"use strict";t.d(w,{W:function(){return D}});var u=t(5734);function D(p,M,m,c,h,v,a,r,s,o){var d=p,f=M,y=m,E=c,e=r,i=s,n=Math.PI*120/180,l=Math.PI/180*(+h||0),O=[],C,T,P,b,x;if(o)T=o[0],P=o[1],b=o[2],x=o[3];else{C=(0,u.c)(d,f,-l),d=C.x,f=C.y,C=(0,u.c)(e,i,-l),e=C.x,i=C.y;var I=(d-e)/2,S=(f-i)/2,K=I*I/(y*y)+S*S/(E*E);K>1&&(K=Math.sqrt(K),y*=K,E*=K);var N=y*y,z=E*E,j=(v===a?-1:1)*Math.sqrt(Math.abs((N*z-N*S*S-z*I*I)/(N*S*S+z*I*I)));b=j*y*S/E+(d+e)/2,x=j*-E*I/y+(f+i)/2,T=Math.asin(((f-x)/E*Math.pow(10,9)>>0)/Math.pow(10,9)),P=Math.asin(((i-x)/E*Math.pow(10,9)>>0)/Math.pow(10,9)),T=d<b?Math.PI-T:T,P=e<b?Math.PI-P:P,T<0&&(T=Math.PI*2+T),P<0&&(P=Math.PI*2+P),a&&T>P&&(T-=Math.PI*2),!a&&P>T&&(P-=Math.PI*2)}var W=P-T;if(Math.abs(W)>n){var U=P,F=e,H=i;P=T+n*(a&&P>T?1:-1),e=b+y*Math.cos(P),i=x+E*Math.sin(P),O=D(e,i,y,E,h,0,a,F,H,[P,U,b,x])}W=P-T;var Y=Math.cos(T),V=Math.sin(T),X=Math.cos(P),$=Math.sin(P),rt=Math.tan(W/4),ot=4/3*y*rt,tt=4/3*E*rt,G=[d,f],nt=[d+ot*V,f-tt*Y],ut=[e+ot*$,i-tt*X],dt=[e,i];if(nt[0]=2*G[0]-nt[0],nt[1]=2*G[1]-nt[1],o)return nt.concat(ut,dt,O);O=nt.concat(ut,dt,O);for(var et=[],gt=0,Et=O.length;gt<Et;gt+=1)et[gt]=gt%2?(0,u.c)(O[gt-1],O[gt],l).y:(0,u.c)(O[gt],O[gt+1],l).x;return et}},62370:function(it,w,t){"use strict";t.d(w,{U:function(){return u}});function u(D){return D.map(function(p){return Array.isArray(p)?[].concat(p):p})}},73218:function(it,w,t){"use strict";t.d(w,{B:function(){return u}});function u(D,p,M){if(D[M].length>7){D[M].shift();for(var m=D[M],c=M;m.length;)p[M]="A",D.splice(c+=1,0,["C"].concat(m.splice(0,6)));D.splice(M,1)}}},26826:function(it,w,t){"use strict";t.d(w,{w:function(){return p}});var u=t(15767),D=t(90319),p=function(M,m,c,h){var v=.5,a=(0,D.k)([M,m],[c,h],v);return(0,u.ev)((0,u.ev)([],a,!0),[c,h,c,h],!1)}},50758:function(it,w,t){"use strict";t.d(w,{A:function(){return c}});var u=t(15767),D=t(41282),p=t(91809),M=t(84805),m=t(43270);function c(h){if((0,D.y)(h))return[].concat(h);for(var v=(0,M.w)(h),a=(0,u.pi)({},p.z),r=0;r<v.length;r+=1){v[r]=(0,m.V)(v[r],a);var s=v[r],o=s.length;a.x1=+s[o-2],a.y1=+s[o-1],a.x2=+s[o-4]||a.x1,a.y2=+s[o-3]||a.y1}return v}},43270:function(it,w,t){"use strict";t.d(w,{V:function(){return u}});function u(D,p){var M=D[0],m=p.x1,c=p.y1,h=p.x2,v=p.y2,a=D.slice(1).map(Number),r=D;if("TQ".includes(M)||(p.qx=null,p.qy=null),M==="H")r=["L",D[1],c];else if(M==="V")r=["L",m,D[1]];else if(M==="S"){var s=m*2-h,o=c*2-v;p.x1=s,p.y1=o,r=["C",s,o].concat(a)}else if(M==="T"){var d=m*2-p.qx,f=c*2-p.qy;p.qx=d,p.qy=f,r=["Q",d,f].concat(a)}else if(M==="Q"){var y=a[0],E=a[1];p.qx=y,p.qy=E}return r}},3603:function(it,w,t){"use strict";t.d(w,{h:function(){return u}});function u(D,p,M,m,c,h){var v=.3333333333333333,a=2/3;return[v*D+a*M,v*p+a*m,v*c+a*M,v*h+a*m,c,h]}},2854:function(it,w,t){"use strict";t.d(w,{G:function(){return u}});function u(D){var p=D.slice(1).map(function(M,m,c){return m?c[m-1].slice(-2).concat(M.slice(1)):D[0].slice(1).concat(M.slice(1))}).map(function(M){return M.map(function(m,c){return M[M.length-c-2*(1-c%2)]})}).reverse();return[["M"].concat(p[0].slice(0,2))].concat(p.map(function(M){return["C"].concat(M.slice(2))}))}},31633:function(it,w,t){"use strict";t.d(w,{Z:function(){return M}});var u=t(6477),D=t(3603),p=t(26826);function M(m,c){var h=m[0],v=m.slice(1).map(Number),a=v[0],r=v[1],s,o=c.x1,d=c.y1,f=c.x,y=c.y;switch("TQ".includes(h)||(c.qx=null,c.qy=null),h){case"M":return c.x=a,c.y=r,m;case"A":return s=[o,d].concat(v),["C"].concat((0,u.W)(s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7],s[8],s[9]));case"Q":return c.qx=a,c.qy=r,s=[o,d].concat(v),["C"].concat((0,D.h)(s[0],s[1],s[2],s[3],s[4],s[5]));case"L":return["C"].concat((0,p.w)(o,d,a,r));case"Z":return o===f&&d===y?["C",o,d,f,y,f,y]:["C"].concat((0,p.w)(o,d,f,y));default:}return m}},35476:function(it,w,t){"use strict";t.d(w,{y:function(){return u}});function u(D,p){return Math.sqrt((D[0]-p[0])*(D[0]-p[0])+(D[1]-p[1])*(D[1]-p[1]))}},29873:function(it,w,t){"use strict";t.d(w,{x:function(){return c}});var u=t(90319),D=t(28198),p=50;function M(h,v){v===void 0&&(v=.5);var a=h.slice(0,2),r=h.slice(2,4),s=h.slice(4,6),o=h.slice(6,8),d=(0,u.k)(a,r,v),f=(0,u.k)(r,s,v),y=(0,u.k)(s,o,v),E=(0,u.k)(d,f,v),e=(0,u.k)(f,y,v),i=(0,u.k)(E,e,v);return[["C"].concat(d,E,i),["C"].concat(e,y,o)]}function m(h){return h.map(function(v,a,r){var s=a&&r[a-1].slice(-2).concat(v.slice(1)),o=a?(0,D.S)(s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7],s[8],{bbox:!1}).length:0,d;return a?d=o?M(s):[v,v]:d=[v],{s:v,ss:d,l:o}})}function c(h,v,a,r){if(r===void 0&&(r=0),r>p)return console.warn("Maximum recursion depth reached in equalizeSegments"),[h,v];var s=m(h),o=m(v),d=s.length,f=o.length,y=s.filter(function(P){return P.l}).length,E=o.filter(function(P){return P.l}).length,e=s.filter(function(P){return P.l}).reduce(function(P,b){var x=b.l;return P+x},0)/y||0,i=o.filter(function(P){return P.l}).reduce(function(P,b){var x=b.l;return P+x},0)/E||0,n=a||Math.max(d,f),l=[e,i],O=[n-d,n-f],C=0,T=[s,o].map(function(P,b){return P.l===n?P.map(function(x){return x.s}):P.map(function(x,I){return C=I&&O[b]&&x.l>=l[b],O[b]-=C?1:0,C?x.ss:[x.s]}).flat()});return T[0].length===T[1].length?T:c(T[0],T[1],n,r+1)}},63701:function(it,w,t){"use strict";t.d(w,{b:function(){return D}});var u=t(62280);function D(p){return(0,u.Y)(p)>=0}},62280:function(it,w,t){"use strict";t.d(w,{Y:function(){return p}});var u=t(60246);function D(M,m,c,h,v,a,r,s){return 3*((s-m)*(c+v)-(r-M)*(h+a)+h*(M-v)-c*(m-a)+s*(v+M/3)-r*(a+m/3))/20}function p(M){var m=0,c=0,h=0;return(0,u.Y)(M).map(function(v){var a;switch(v[0]){case"M":return m=v[1],c=v[2],0;default:var r=v.slice(1),s=r[0],o=r[1],d=r[2],f=r[3],y=r[4],E=r[5];return h=D(m,c,s,o,d,f,y,E),a=v.slice(-2),m=a[0],c=a[1],h}}).reduce(function(v,a){return v+a},0)}},59123:function(it,w,t){"use strict";t.d(w,{r:function(){return p}});var u=t(15767),D=t(88271);function p(M,m,c){return(0,D.s)(M,m,(0,u.pi)((0,u.pi)({},c),{bbox:!1,length:!0})).point}},79011:function(it,w,t){"use strict";t.d(w,{g:function(){return p}});var u=t(35476);function D(M){var m=M.length,c=m-1;return M.map(function(h,v){return M.map(function(a,r){var s=v+r,o;return r===0||M[s]&&M[s][0]==="M"?(o=M[s],["M"].concat(o.slice(-2))):(s>=m&&(s-=c),M[s])})})}function p(M,m){var c=M.length-1,h=[],v=0,a=0,r=D(M);return r.forEach(function(s,o){M.slice(1).forEach(function(d,f){a+=(0,u.y)(M[(o+f)%c].slice(-2),m[f%c].slice(-2))}),h[o]=a,a=0}),v=h.indexOf(Math.min.apply(null,h)),r[v]}},59548:function(it,w,t){"use strict";t.d(w,{D:function(){return p}});var u=t(15767),D=t(88271);function p(M,m){return(0,D.s)(M,void 0,(0,u.pi)((0,u.pi)({},m),{bbox:!1,length:!0})).length}},86567:function(it,w,t){"use strict";t.d(w,{b:function(){return D}});var u=t(82591);function D(p){return(0,u.n)(p)&&p.every(function(M){var m=M[0];return m===m.toUpperCase()})}},91033:function(it,w,t){"use strict";t.d(w,{H:function(){return D}});var u=t(41282);function D(p){return(0,u.y)(p)&&p.every(function(M){var m=M[0];return"MC".includes(m)})}},41282:function(it,w,t){"use strict";t.d(w,{y:function(){return D}});var u=t(86567);function D(p){return(0,u.b)(p)&&p.every(function(M){var m=M[0];return"ACLMQZ".includes(m)})}},82591:function(it,w,t){"use strict";t.d(w,{n:function(){return D}});var u=t(65821);function D(p){return Array.isArray(p)&&p.every(function(M){var m=M[0].toLowerCase();return u.R[m]===M.length-1&&"achlmqstvz".includes(m)})}},90319:function(it,w,t){"use strict";t.d(w,{k:function(){return u}});function u(D,p,M){var m=D[0],c=D[1],h=p[0],v=p[1];return[m+(h-m)*M,c+(v-c)*M]}},88271:function(it,w,t){"use strict";t.d(w,{s:function(){return c}});var u=t(50758),D=t(7628),p=t(82378),M=t(28198),m=t(3859);function c(h,v,a){for(var r,s,o,d,f,y,E=(0,u.A)(h),e=typeof v=="number",i,n=[],l,O=0,C=0,T=0,P=0,b,x=[],I=[],S=0,K={x:0,y:0},N=K,z=K,j=K,W=0,U=0,F=E.length;U<F;U+=1)b=E[U],l=b[0],i=l==="M",n=i?n:[O,C].concat(b.slice(1)),i?(T=b[1],P=b[2],K={x:T,y:P},N=K,S=0,e&&v<.001&&(j=K)):l==="L"?(r=(0,D.s)(n[0],n[1],n[2],n[3],(v||0)-W),S=r.length,K=r.min,N=r.max,z=r.point):l==="A"?(s=(0,p.w)(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],(v||0)-W,a||{}),S=s.length,K=s.min,N=s.max,z=s.point):l==="C"?(o=(0,M.S)(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],(v||0)-W,a||{}),S=o.length,K=o.min,N=o.max,z=o.point):l==="Q"?(d=(0,m.b)(n[0],n[1],n[2],n[3],n[4],n[5],(v||0)-W,a||{}),S=d.length,K=d.min,N=d.max,z=d.point):l==="Z"&&(n=[O,C,T,P],f=(0,D.s)(n[0],n[1],n[2],n[3],(v||0)-W),S=f.length,K=f.min,N=f.max,z=f.point),e&&W<v&&W+S>=v&&(j=z),I.push(N),x.push(K),W+=S,y=l!=="Z"?b.slice(-2):[T,P],O=y[0],C=y[1];return e&&v>=W&&(j={x:O,y:C}),{length:W,point:j,min:{x:Math.min.apply(null,x.map(function(H){return H.x})),y:Math.min.apply(null,x.map(function(H){return H.y}))},max:{x:Math.max.apply(null,I.map(function(H){return H.x})),y:Math.max.apply(null,I.map(function(H){return H.y}))}}}},5734:function(it,w,t){"use strict";t.d(w,{c:function(){return u}});function u(D,p,M){var m=D*Math.cos(M)-p*Math.sin(M),c=D*Math.sin(M)+p*Math.cos(M);return{x:m,y:c}}},82378:function(it,w,t){"use strict";t.d(w,{w:function(){return m}});var u=t(7628),D=t(35476);function p(c,h){var v=c.x,a=c.y,r=h.x,s=h.y,o=v*r+a*s,d=Math.sqrt((Math.pow(v,2)+Math.pow(a,2))*(Math.pow(r,2)+Math.pow(s,2))),f=v*s-a*r<0?-1:1,y=f*Math.acos(o/d);return y}function M(c,h,v,a,r,s,o,d,f,y){var E=Math.abs,e=Math.sin,i=Math.cos,n=Math.sqrt,l=Math.PI,O=E(v),C=E(a),T=(r%360+360)%360,P=T*(l/180);if(c===d&&h===f)return{x:c,y:h};if(O===0||C===0)return(0,u.s)(c,h,d,f,y).point;var b=(c-d)/2,x=(h-f)/2,I={x:i(P)*b+e(P)*x,y:-e(P)*b+i(P)*x},S=Math.pow(I.x,2)/Math.pow(O,2)+Math.pow(I.y,2)/Math.pow(C,2);S>1&&(O*=n(S),C*=n(S));var K=Math.pow(O,2)*Math.pow(C,2)-Math.pow(O,2)*Math.pow(I.y,2)-Math.pow(C,2)*Math.pow(I.x,2),N=Math.pow(O,2)*Math.pow(I.y,2)+Math.pow(C,2)*Math.pow(I.x,2),z=K/N;z=z<0?0:z;var j=(s!==o?1:-1)*n(z),W={x:j*(O*I.y/C),y:j*(-(C*I.x)/O)},U={x:i(P)*W.x-e(P)*W.y+(c+d)/2,y:e(P)*W.x+i(P)*W.y+(h+f)/2},F={x:(I.x-W.x)/O,y:(I.y-W.y)/C},H=p({x:1,y:0},F),Y={x:(-I.x-W.x)/O,y:(-I.y-W.y)/C},V=p(F,Y);!o&&V>0?V-=2*l:o&&V<0&&(V+=2*l),V%=2*l;var X=H+V*y,$=O*i(X),rt=C*e(X),ot={x:i(P)*$-e(P)*rt+U.x,y:e(P)*$+i(P)*rt+U.y};return ot}function m(c,h,v,a,r,s,o,d,f,y,E){var e,i=E.bbox,n=i===void 0?!0:i,l=E.length,O=l===void 0?!0:l,C=E.sampleSize,T=C===void 0?30:C,P=typeof y=="number",b=c,x=h,I=0,S=[b,x,I],K=[b,x],N=0,z={x:0,y:0},j=[{x:b,y:x}];P&&y<=0&&(z={x:b,y:x});for(var W=0;W<=T;W+=1){if(N=W/T,e=M(c,h,v,a,r,s,o,d,f,N),b=e.x,x=e.y,n&&j.push({x:b,y:x}),O&&(I+=(0,D.y)(K,[b,x])),K=[b,x],P&&I>=y&&y>S[2]){var U=(I-y)/(I-S[2]);z={x:K[0]*(1-U)+S[0]*U,y:K[1]*(1-U)+S[1]*U}}S=[b,x,I]}return P&&y>=I&&(z={x:d,y:f}),{length:I,point:z,min:{x:Math.min.apply(null,j.map(function(F){return F.x})),y:Math.min.apply(null,j.map(function(F){return F.y}))},max:{x:Math.max.apply(null,j.map(function(F){return F.x})),y:Math.max.apply(null,j.map(function(F){return F.y}))}}}},28198:function(it,w,t){"use strict";t.d(w,{S:function(){return p}});var u=t(35476);function D(M,m,c,h,v,a,r,s,o){var d=1-o;return{x:Math.pow(d,3)*M+3*Math.pow(d,2)*o*c+3*d*Math.pow(o,2)*v+Math.pow(o,3)*r,y:Math.pow(d,3)*m+3*Math.pow(d,2)*o*h+3*d*Math.pow(o,2)*a+Math.pow(o,3)*s}}function p(M,m,c,h,v,a,r,s,o,d){var f,y=d.bbox,E=y===void 0?!0:y,e=d.length,i=e===void 0?!0:e,n=d.sampleSize,l=n===void 0?10:n,O=typeof o=="number",C=M,T=m,P=0,b=[C,T,P],x=[C,T],I=0,S={x:0,y:0},K=[{x:C,y:T}];O&&o<=0&&(S={x:C,y:T});for(var N=0;N<=l;N+=1){if(I=N/l,f=D(M,m,c,h,v,a,r,s,I),C=f.x,T=f.y,E&&K.push({x:C,y:T}),i&&(P+=(0,u.y)(x,[C,T])),x=[C,T],O&&P>=o&&o>b[2]){var z=(P-o)/(P-b[2]);S={x:x[0]*(1-z)+b[0]*z,y:x[1]*(1-z)+b[1]*z}}b=[C,T,P]}return O&&o>=P&&(S={x:r,y:s}),{length:P,point:S,min:{x:Math.min.apply(null,K.map(function(j){return j.x})),y:Math.min.apply(null,K.map(function(j){return j.y}))},max:{x:Math.max.apply(null,K.map(function(j){return j.x})),y:Math.max.apply(null,K.map(function(j){return j.y}))}}}},7628:function(it,w,t){"use strict";t.d(w,{s:function(){return p}});var u=t(90319),D=t(35476);function p(M,m,c,h,v){var a=(0,D.y)([M,m],[c,h]),r={x:0,y:0};if(typeof v=="number")if(v<=0)r={x:M,y:m};else if(v>=a)r={x:c,y:h};else{var s=(0,u.k)([M,m],[c,h],v/a),o=s[0],d=s[1];r={x:o,y:d}}return{length:a,point:r,min:{x:Math.min(M,c),y:Math.min(m,h)},max:{x:Math.max(M,c),y:Math.max(m,h)}}}},3859:function(it,w,t){"use strict";t.d(w,{b:function(){return p}});var u=t(35476);function D(M,m,c,h,v,a,r){var s=1-r;return{x:Math.pow(s,2)*M+2*s*r*c+Math.pow(r,2)*v,y:Math.pow(s,2)*m+2*s*r*h+Math.pow(r,2)*a}}function p(M,m,c,h,v,a,r,s){var o,d=s.bbox,f=d===void 0?!0:d,y=s.length,E=y===void 0?!0:y,e=s.sampleSize,i=e===void 0?10:e,n=typeof r=="number",l=M,O=m,C=0,T=[l,O,C],P=[l,O],b=0,x={x:0,y:0},I=[{x:l,y:O}];n&&r<=0&&(x={x:l,y:O});for(var S=0;S<=i;S+=1){if(b=S/i,o=D(M,m,c,h,v,a,b),l=o.x,O=o.y,f&&I.push({x:l,y:O}),E&&(C+=(0,u.y)(P,[l,O])),P=[l,O],n&&C>=r&&r>T[2]){var K=(C-r)/(C-T[2]);x={x:P[0]*(1-K)+T[0]*K,y:P[1]*(1-K)+T[1]*K}}T=[l,O,C]}return n&&r>=C&&(x={x:v,y:a}),{length:C,point:x,min:{x:Math.min.apply(null,I.map(function(N){return N.x})),y:Math.min.apply(null,I.map(function(N){return N.y}))},max:{x:Math.max.apply(null,I.map(function(N){return N.x})),y:Math.max.apply(null,I.map(function(N){return N.y}))}}}},25470:function(it,w,t){"use strict";t.d(w,{Ae:function(){return e},CF:function(){return Ot},vC:function(){return Tt},x1:function(){return c}});function u(st,Q,ct,vt,ft,_t){const yt=st,Ct=Q,Pt=ct-yt,Dt=vt-Ct;let At=ft-yt,Ut=_t-Ct,Bt=At*Pt+Ut*Dt,zt=0;Bt<=0?zt=0:(At=Pt-At,Ut=Dt-Ut,Bt=At*Pt+Ut*Dt,Bt<=0?zt=0:zt=Bt*Bt/(Pt*Pt+Dt*Dt));const jt=At*At+Ut*Ut-zt;return jt<0?0:jt}function D(st,Q,ct,vt){return(st-ct)*(st-ct)+(Q-vt)*(Q-vt)}function p(st,Q,ct,vt,ft){return D(st,Q,ct,vt)<ft*ft}function M(st){if(!Number.isFinite(st))return ct=>ct;if(st===0)return Math.round;const Q=Math.pow(10,st);return ct=>Math.round(ct*Q)/Q}function m(st){const Q=Math.min(st.x1,st.x2),ct=Math.max(st.x1,st.x2),vt=Math.min(st.y1,st.y2),ft=Math.max(st.y1,st.y2);return{x:Q,y:vt,x2:ct,y2:ft,width:ct-Q,height:ft-vt}}class c{constructor(Q,ct,vt,ft){this.x1=Q,this.y1=ct,this.x2=vt,this.y2=ft}equals(Q){return this.x1===Q.x1&&this.y1===Q.y1&&this.x2===Q.x2&&this.y2===Q.y2}draw(Q){Q.moveTo(this.x1,this.y1),Q.lineTo(this.x2,this.y2)}toString(){return`Line(from=(${this.x1},${this.y1}),to=(${this.x2},${this.y2}))`}static from(Q){return new c(Q.x1,Q.y1,Q.x2,Q.y2)}cuts(Q,ct){if(this.y1===this.y2||ct<this.y1&&ct<=this.y2||ct>this.y1&&ct>=this.y2||Q>this.x1&&Q>=this.x2)return!1;if(Q<this.x1&&Q<=this.x2)return!0;const vt=this.x1+(ct-this.y1)*(this.x2-this.x1)/(this.y2-this.y1);return Q<=vt}distSquare(Q,ct){return u(this.x1,this.y1,this.x2,this.y2,Q,ct)}ptClose(Q,ct,vt){if(this.x1<this.x2){if(Q<this.x1-vt||Q>this.x2+vt)return!1}else if(Q<this.x2-vt||Q>this.x1+vt)return!1;if(this.y1<this.y2){if(ct<this.y1-vt||ct>this.y2+vt)return!1}else if(ct<this.y2-vt||ct>this.y1+vt)return!1;return!0}}var h;(function(st){st[st.POINT=1]="POINT",st[st.PARALLEL=2]="PARALLEL",st[st.COINCIDENT=3]="COINCIDENT",st[st.NONE=4]="NONE"})(h||(h={}));class v{constructor(Q,ct=0,vt=0){this.state=Q,this.x=ct,this.y=vt}}function a(st,Q){const ct=(Q.x2-Q.x1)*(st.y1-Q.y1)-(Q.y2-Q.y1)*(st.x1-Q.x1),vt=(st.x2-st.x1)*(st.y1-Q.y1)-(st.y2-st.y1)*(st.x1-Q.x1),ft=(Q.y2-Q.y1)*(st.x2-st.x1)-(Q.x2-Q.x1)*(st.y2-st.y1);if(ft){const _t=ct/ft,yt=vt/ft;return 0<=_t&&_t<=1&&0<=yt&&yt<=1?new v(h.POINT,st.x1+_t*(st.x2-st.x1),st.y1+_t*(st.y2-st.y1)):new v(h.NONE)}return new v(ct===0||vt===0?h.COINCIDENT:h.PARALLEL)}function r(st,Q){const ct=(Q.x2-Q.x1)*(st.y1-Q.y1)-(Q.y2-Q.y1)*(st.x1-Q.x1),vt=(st.x2-st.x1)*(st.y1-Q.y1)-(st.y2-st.y1)*(st.x1-Q.x1),ft=(Q.y2-Q.y1)*(st.x2-st.x1)-(Q.x2-Q.x1)*(st.y2-st.y1);if(ft){const _t=ct/ft,yt=vt/ft;if(0<=_t&&_t<=1&&0<=yt&&yt<=1)return _t}return Number.POSITIVE_INFINITY}function s(st,Q){function ct(ft,_t,yt,Ct){let Pt=r(Q,new c(ft,_t,yt,Ct));return Pt=Math.abs(Pt-.5),Pt>=0&&Pt<=1?1:0}let vt=ct(st.x,st.y,st.x2,st.y);return vt+=ct(st.x,st.y,st.x,st.y2),vt>1||(vt+=ct(st.x,st.y2,st.x2,st.y2),vt>1)?!0:(vt+=ct(st.x2,st.y,st.x2,st.y2),vt>0)}var o;(function(st){st[st.LEFT=0]="LEFT",st[st.TOP=1]="TOP",st[st.RIGHT=2]="RIGHT",st[st.BOTTOM=3]="BOTTOM"})(o||(o={}));function d(st,Q,ct){const vt=new Set;return st.width<=0?(vt.add(o.LEFT),vt.add(o.RIGHT)):Q<st.x?vt.add(o.LEFT):Q>st.x+st.width&&vt.add(o.RIGHT),st.height<=0?(vt.add(o.TOP),vt.add(o.BOTTOM)):ct<st.y?vt.add(o.TOP):ct>st.y+st.height&&vt.add(o.BOTTOM),vt}function f(st,Q){let ct=Q.x1,vt=Q.y1;const ft=Q.x2,_t=Q.y2,yt=Array.from(d(st,ft,_t));if(yt.length===0)return!0;let Ct=d(st,ct,vt);for(;Ct.size!==0;){for(const Pt of yt)if(Ct.has(Pt))return!1;if(Ct.has(o.RIGHT)||Ct.has(o.LEFT)){let Pt=st.x;Ct.has(o.RIGHT)&&(Pt+=st.width),vt=vt+(Pt-ct)*(_t-vt)/(ft-ct),ct=Pt}else{let Pt=st.y;Ct.has(o.BOTTOM)&&(Pt+=st.height),ct=ct+(Pt-vt)*(ft-ct)/(_t-vt),vt=Pt}Ct=d(st,ct,vt)}return!0}function y(st,Q){let ct=Number.POSITIVE_INFINITY,vt=0;function ft(_t,yt,Ct,Pt){let Dt=r(Q,new c(_t,yt,Ct,Pt));Dt=Math.abs(Dt-.5),Dt>=0&&Dt<=1&&(vt++,Dt<ct&&(ct=Dt))}return ft(st.x,st.y,st.x2,st.y),ft(st.x,st.y,st.x,st.y2),vt>1||(ft(st.x,st.y2,st.x2,st.y2),vt>1)?ct:(ft(st.x2,st.y,st.x2,st.y2),vt===0?-1:ct)}function E(st,Q){let ct=0;const vt=a(st,new c(Q.x,Q.y,Q.x2,Q.y));ct+=vt.state===h.POINT?1:0;const ft=a(st,new c(Q.x,Q.y,Q.x,Q.y2));ct+=ft.state===h.POINT?1:0;const _t=a(st,new c(Q.x,Q.y2,Q.x2,Q.y2));ct+=_t.state===h.POINT?1:0;const yt=a(st,new c(Q.x2,Q.y,Q.x2,Q.y2));return ct+=yt.state===h.POINT?1:0,{top:vt,left:ft,bottom:_t,right:yt,count:ct}}class e{constructor(Q,ct,vt,ft){this.x=Q,this.y=ct,this.width=vt,this.height=ft}get x2(){return this.x+this.width}get y2(){return this.y+this.height}get cx(){return this.x+this.width/2}get cy(){return this.y+this.height/2}get radius(){return Math.max(this.width,this.height)/2}static from(Q){return new e(Q.x,Q.y,Q.width,Q.height)}equals(Q){return this.x===Q.x&&this.y===Q.y&&this.width===Q.width&&this.height===Q.height}clone(){return new e(this.x,this.y,this.width,this.height)}add(Q){const ct=Math.min(this.x,Q.x),vt=Math.min(this.y,Q.y),ft=Math.max(this.x2,Q.x+Q.width),_t=Math.max(this.y2,Q.y+Q.height);this.x=ct,this.y=vt,this.width=ft-ct,this.height=_t-vt}addPoint(Q){const ct=Math.min(this.x,Q.x),vt=Math.min(this.y,Q.y),ft=Math.max(this.x2,Q.x),_t=Math.max(this.y2,Q.y);this.x=ct,this.y=vt,this.width=ft-ct,this.height=_t-vt}toString(){return`Rectangle[x=${this.x}, y=${this.y}, w=${this.width}, h=${this.height}]`}draw(Q){Q.rect(this.x,this.y,this.width,this.height)}containsPt(Q,ct){return Q>=this.x&&Q<=this.x2&&ct>=this.y&&ct<=this.y2}get area(){return this.width*this.height}intersects(Q){return this.area<=0||Q.width<=0||Q.height<=0?!1:Q.x+Q.width>this.x&&Q.y+Q.height>this.y&&Q.x<this.x2&&Q.y<this.y2}distSquare(Q,ct){if(this.containsPt(Q,ct))return 0;const vt=d(this,Q,ct);return vt.has(o.TOP)?vt.has(o.LEFT)?D(Q,ct,this.x,this.y):vt.has(o.RIGHT)?D(Q,ct,this.x2,this.y):(this.y-ct)*(this.y-ct):vt.has(o.BOTTOM)?vt.has(o.LEFT)?D(Q,ct,this.x,this.y2):vt.has(o.RIGHT)?D(Q,ct,this.x2,this.y2):(ct-this.y2)*(ct-this.y2):vt.has(o.LEFT)?(this.x-Q)*(this.x-Q):vt.has(o.RIGHT)?(Q-this.x2)*(Q-this.x2):0}}function i(st){if(st.length===0)return null;const Q=st[0],ct=new e(Q.x,Q.y,0,0);for(const vt of st)ct.addPoint(vt);return ct}class n{constructor(Q,ct,vt){this.cx=Q,this.cy=ct,this.radius=vt}get x(){return this.cx-this.radius}get x2(){return this.cx+this.radius}get width(){return this.radius*2}get y(){return this.cy-this.radius}get y2(){return this.cy+this.radius}get height(){return this.radius*2}static from(Q){return new n(Q.cx,Q.cy,Q.radius)}containsPt(Q,ct){return D(this.cx,this.cy,Q,ct)<this.radius*this.radius}distSquare(Q,ct){const vt=D(this.cx,this.cy,Q,ct);if(vt<this.radius*this.radius)return 0;const ft=Math.sqrt(vt)-this.radius;return ft*ft}draw(Q){Q.ellipse(this.cx,this.cy,this.radius,this.radius,0,0,Math.PI*2)}}class l{constructor(Q,ct=0,vt=0,ft=0,_t=0,yt=10,Ct=10,Pt=new Float32Array(Math.max(0,yt*Ct)).fill(0)){this.pixelGroup=Q,this.i=ct,this.j=vt,this.pixelX=ft,this.pixelY=_t,this.width=yt,this.height=Ct,this.area=Pt}createSub(Q,ct){return new l(this.pixelGroup,Q.x,Q.y,ct.x,ct.y,Q.width,Q.height)}static fromPixelRegion(Q,ct){return new l(ct,0,0,Q.x,Q.y,Math.ceil(Q.width/ct),Math.ceil(Q.height/ct))}copy(Q,ct){return new l(this.pixelGroup,this.scaleX(ct.x),this.scaleY(ct.y),ct.x,ct.y,Q.width,Q.height,Q.area)}boundX(Q){return Q<this.i?this.i:Q>=this.width?this.width-1:Q}boundY(Q){return Q<this.j?this.j:Q>=this.height?this.height-1:Q}scaleX(Q){return this.boundX(Math.floor((Q-this.pixelX)/this.pixelGroup))}scaleY(Q){return this.boundY(Math.floor((Q-this.pixelY)/this.pixelGroup))}scale(Q){const ct=this.scaleX(Q.x),vt=this.scaleY(Q.y),ft=this.boundX(Math.ceil((Q.x+Q.width-this.pixelX)/this.pixelGroup)),_t=this.boundY(Math.ceil((Q.y+Q.height-this.pixelY)/this.pixelGroup)),yt=ft-ct,Ct=_t-vt;return new e(ct,vt,yt,Ct)}invertScaleX(Q){return Math.round(Q*this.pixelGroup+this.pixelX)}invertScaleY(Q){return Math.round(Q*this.pixelGroup+this.pixelY)}addPadding(Q,ct){const vt=Math.ceil(ct/this.pixelGroup),ft=this.boundX(Q.x-vt),_t=this.boundY(Q.y-vt),yt=this.boundX(Q.x2+vt),Ct=this.boundY(Q.y2+vt),Pt=yt-ft,Dt=Ct-_t;return new e(ft,_t,Pt,Dt)}get(Q,ct){return Q<0||ct<0||Q>=this.width||ct>=this.height?Number.NaN:this.area[Q+ct*this.width]}inc(Q,ct,vt){Q<0||ct<0||Q>=this.width||ct>=this.height||(this.area[Q+ct*this.width]+=vt)}set(Q,ct,vt){Q<0||ct<0||Q>=this.width||ct>=this.height||(this.area[Q+ct*this.width]=vt)}incArea(Q,ct){if(Q.width<=0||Q.height<=0||ct===0)return;const vt=this.width,ft=Q.width,_t=Math.max(0,Q.i),yt=Math.max(0,Q.j),Ct=Math.min(Q.i+Q.width,vt),Pt=Math.min(Q.j+Q.height,this.height);if(!(Pt<=0||Ct<=0||_t>=vt||Pt>=this.height))for(let Dt=yt;Dt<Pt;Dt++){const At=(Dt-Q.j)*ft,Ut=Dt*vt;for(let Bt=_t;Bt<Ct;Bt++){const zt=Q.area[Bt-Q.i+At];zt!==0&&(this.area[Bt+Ut]+=ct*zt)}}}fill(Q){this.area.fill(Q)}fillArea(Q,ct){const vt=Q.x+Q.y*this.width;for(let ft=0;ft<Q.height;ft++){const _t=vt+ft*this.width;this.area.fill(ct,_t,_t+Q.width)}}fillHorizontalLine(Q,ct,vt,ft){const _t=Q+ct*this.width;this.area.fill(ft,_t,_t+vt)}fillVerticalLine(Q,ct,vt,ft){const _t=Q+ct*this.width;for(let yt=0;yt<vt;yt++)this.area[_t+yt*this.width]=ft}clear(){this.area.fill(0)}toString(){let Q="";for(let ct=0;ct<this.height;ct++){const vt=ct*this.width;for(let ft=0;ft<this.width;ft++){const _t=this.area[vt+ft];Q+=_t.toFixed(1).padStart(6),Q+=" "}Q+=`
`}return Q}draw(Q,ct=!0){if(this.width<=0||this.height<=0)return;Q.save(),ct&&Q.translate(this.pixelX,this.pixelY);const vt=this.area.reduce((yt,Ct)=>Math.min(yt,Ct),Number.POSITIVE_INFINITY),ft=this.area.reduce((yt,Ct)=>Math.max(yt,Ct),Number.NEGATIVE_INFINITY),_t=yt=>(yt-vt)/(ft-vt);Q.scale(this.pixelGroup,this.pixelGroup);for(let yt=0;yt<this.width;yt++)for(let Ct=0;Ct<this.height;Ct++){const Pt=this.area[yt+Ct*this.width];Q.fillStyle=`rgba(0, 0, 0, ${_t(Pt)})`,Q.fillRect(yt,Ct,1,1)}Q.restore()}drawThreshold(Q,ct,vt=!0){if(!(this.width<=0||this.height<=0)){Q.save(),vt&&Q.translate(this.pixelX,this.pixelY),Q.scale(this.pixelGroup,this.pixelGroup);for(let ft=0;ft<this.width;ft++)for(let _t=0;_t<this.height;_t++){const yt=this.area[ft+_t*this.width];Q.fillStyle=yt>ct?"black":"white",Q.fillRect(ft,_t,1,1)}Q.restore()}}}function O(st,Q){const ct=vt=>({x:vt.x-Q,y:vt.y-Q,width:vt.width+2*Q,height:vt.height+2*Q});return Array.isArray(st)?st.map(ct):ct(st)}function C(st,Q,ct){return T(Object.assign(m(st),{distSquare:(vt,ft)=>u(st.x1,st.y1,st.x2,st.y2,vt,ft)}),Q,ct)}function T(st,Q,ct){const vt=O(st,ct),ft=Q.scale(vt),_t=Q.createSub(ft,vt);return P(_t,Q,ct,(yt,Ct)=>st.distSquare(yt,Ct)),_t}function P(st,Q,ct,vt){const ft=ct*ct;for(let _t=0;_t<st.height;_t++)for(let yt=0;yt<st.width;yt++){const Ct=Q.invertScaleX(st.i+yt),Pt=Q.invertScaleY(st.j+_t),Dt=vt(Ct,Pt);if(Dt===0){st.set(yt,_t,ft);continue}if(Dt<ft){const At=ct-Math.sqrt(Dt);st.set(yt,_t,At*At)}}return st}function b(st,Q,ct){const vt=Q.scale(st),ft=Q.addPadding(vt,ct),_t=Q.createSub(ft,{x:st.x-ct,y:st.y-ct}),yt=vt.x-ft.x,Ct=vt.y-ft.y,Pt=ft.x2-vt.x2,Dt=ft.y2-vt.y2,At=ft.width-yt-Pt,Ut=ft.height-Ct-Dt,Bt=ct*ct;_t.fillArea({x:yt,y:Ct,width:At+1,height:Ut+1},Bt);const zt=[0],jt=Math.max(Ct,yt,Pt,Dt);{const ee=Q.invertScaleX(vt.x+vt.width/2);for(let Gt=1;Gt<jt;Gt++){const ve=Q.invertScaleY(vt.y-Gt),de=st.distSquare(ee,ve);if(de<Bt){const ye=ct-Math.sqrt(de);zt.push(ye*ye)}else break}}const Yt=[],te=Math.max(yt,Pt),re=Math.max(Ct,Pt);for(let ee=1;ee<te;ee++){const Gt=Q.invertScaleX(vt.x-ee),ve=[];for(let de=1;de<re;de++){const ye=Q.invertScaleY(vt.y-de),_e=st.distSquare(Gt,ye);if(_e<Bt){const me=ct-Math.sqrt(_e);ve.push(me*me)}else ve.push(0)}Yt.push(ve)}for(let ee=1;ee<Math.min(Ct,zt.length);ee++){const Gt=zt[ee];_t.fillHorizontalLine(yt,Ct-ee,At+1,Gt)}for(let ee=1;ee<Math.min(Dt,zt.length);ee++){const Gt=zt[ee];_t.fillHorizontalLine(yt,Ct+Ut+ee,At+1,Gt)}for(let ee=1;ee<Math.min(yt,zt.length);ee++){const Gt=zt[ee];_t.fillVerticalLine(yt-ee,Ct,Ut+1,Gt)}for(let ee=1;ee<Math.min(Dt,zt.length);ee++){const Gt=zt[ee];_t.fillVerticalLine(yt+At+ee,Ct,Ut+1,Gt)}for(let ee=1;ee<yt;ee++){const Gt=Yt[ee-1],ve=yt-ee;for(let de=1;de<Ct;de++)_t.set(ve,Ct-de,Gt[de-1]);for(let de=1;de<Dt;de++)_t.set(ve,Ct+Ut+de,Gt[de-1])}for(let ee=1;ee<Pt;ee++){const Gt=Yt[ee-1],ve=yt+At+ee;for(let de=1;de<Ct;de++)_t.set(ve,Ct-de,Gt[de-1]);for(let de=1;de<Dt;de++)_t.set(ve,Ct+Ut+de,Gt[de-1])}return _t}function x(st,Q,ct,vt){return{x:st,y:Q,width:ct,height:vt}}function I(st,Q,ct){return{cx:st,cy:Q,radius:ct}}function S(st,Q,ct,vt){return{x1:st,y1:Q,x2:ct,y2:vt}}function K(st,Q){return{x:st,y:Q}}function N(st,Q,ct,vt){if(st.length===0)return[];const ft=F(st);return ft.map((_t,yt)=>{const Ct=ft.slice(0,yt);return z(Q,_t,Ct,ct,vt)}).flat()}function z(st,Q,ct,vt,ft){const _t=K(Q.cx,Q.cy),yt=U(_t,ct,st);if(yt==null)return[];const Ct=new c(_t.x,_t.y,yt.cx,yt.cy),Pt=j(Ct,st,vt,ft);return W(Pt,st)}function j(st,Q,ct,vt){const ft=[],_t=[];_t.push(st);let yt=!0;for(let Ct=0;Ct<ct&&yt;Ct++)for(yt=!1;!yt&&_t.length>0;){const Pt=_t.pop(),Dt=V(Q,Pt),At=Dt?E(Pt,Dt):null;if(!Dt||!At||At.count!==2){yt||ft.push(Pt);continue}let Ut=vt,Bt=$(Dt,Ut,At,!0),zt=Y(Bt,_t)||Y(Bt,ft),jt=H(Bt,Q);for(;!zt&&jt&&Ut>=1;)Ut/=1.5,Bt=$(Dt,Ut,At,!0),zt=Y(Bt,_t)||Y(Bt,ft),jt=H(Bt,Q);if(Bt&&!zt&&!jt&&(_t.push(new c(Pt.x1,Pt.y1,Bt.x,Bt.y)),_t.push(new c(Bt.x,Bt.y,Pt.x2,Pt.y2)),yt=!0),yt)continue;Ut=vt,Bt=$(Dt,Ut,At,!1);let Yt=Y(Bt,_t)||Y(Bt,ft);for(jt=H(Bt,Q);!Yt&&jt&&Ut>=1;)Ut/=1.5,Bt=$(Dt,Ut,At,!1),Yt=Y(Bt,_t)||Y(Bt,ft),jt=H(Bt,Q);Bt&&!Yt&&(_t.push(new c(Pt.x1,Pt.y1,Bt.x,Bt.y)),_t.push(new c(Bt.x,Bt.y,Pt.x2,Pt.y2)),yt=!0),yt||ft.push(Pt)}for(;_t.length>0;)ft.push(_t.pop());return ft}function W(st,Q){const ct=[];for(;st.length>0;){const vt=st.pop();if(st.length===0){ct.push(vt);break}const ft=st.pop(),_t=new c(vt.x1,vt.y1,ft.x2,ft.y2);V(Q,_t)?(ct.push(vt),st.push(ft)):st.push(_t)}return ct}function U(st,Q,ct){let vt=Number.POSITIVE_INFINITY;return Q.reduce((ft,_t)=>{const yt=D(st.x,st.y,_t.cx,_t.cy);if(yt>vt)return ft;const Ct=new c(st.x,st.y,_t.cx,_t.cy),Pt=X(ct,Ct);return yt*(Pt+1)*(Pt+1)<vt&&(ft=_t,vt=yt*(Pt+1)*(Pt+1)),ft},null)}function F(st){if(st.length<2)return st;let Q=0,ct=0;return st.forEach(vt=>{Q+=vt.cx,ct+=vt.cy}),Q/=st.length,ct/=st.length,st.map(vt=>{const ft=Q-vt.cx,_t=ct-vt.cy,yt=ft*ft+_t*_t;return[vt,yt]}).sort((vt,ft)=>vt[1]-ft[1]).map(vt=>vt[0])}function H(st,Q){return Q.some(ct=>ct.containsPt(st.x,st.y))}function Y(st,Q){return Q.some(ct=>!!(p(ct.x1,ct.y1,st.x,st.y,.001)||p(ct.x2,ct.y2,st.x,st.y,.001)))}function V(st,Q){let ct=Number.POSITIVE_INFINITY,vt=null;for(const ft of st){if(!f(ft,Q))continue;const _t=y(ft,Q);_t>=0&&_t<ct&&(vt=ft,ct=_t)}return vt}function X(st,Q){return st.reduce((ct,vt)=>f(vt,Q)&&s(vt,Q)?ct+1:ct,0)}function $(st,Q,ct,vt){const ft=ct.top,_t=ct.left,yt=ct.bottom,Ct=ct.right;if(vt){if(_t.state===h.POINT){if(ft.state===h.POINT)return K(st.x-Q,st.y-Q);if(yt.state===h.POINT)return K(st.x-Q,st.y2+Q);const Bt=st.width*st.height;return st.width*((_t.y-st.y+(Ct.y-st.y))*.5)<Bt*.5?_t.y>Ct.y?K(st.x-Q,st.y-Q):K(st.x2+Q,st.y-Q):_t.y<Ct.y?K(st.x-Q,st.y2+Q):K(st.x2+Q,st.y2+Q)}if(Ct.state===h.POINT){if(ft.state===h.POINT)return K(st.x2+Q,st.y-Q);if(yt.state===h.POINT)return K(st.x2+Q,st.y2+Q)}const At=st.height*st.width;return st.height*((ft.x-st.x+(Ct.x-st.x))*.5)<At*.5?ft.x>yt.x?K(st.x-Q,st.y-Q):K(st.x-Q,st.y2+Q):ft.x<yt.x?K(st.x2+Q,st.y-Q):K(st.x2+Q,st.y2+Q)}if(_t.state===h.POINT){if(ft.state===h.POINT)return K(st.x2+Q,st.y2+Q);if(yt.state===h.POINT)return K(st.x2+Q,st.y-Q);const At=st.height*st.width;return st.width*((_t.y-st.y+(Ct.y-st.y))*.5)<At*.5?_t.y>Ct.y?K(st.x2+Q,st.y2+Q):K(st.x-Q,st.y2+Q):_t.y<Ct.y?K(st.x2+Q,st.y-Q):K(st.x-Q,st.y-Q)}if(Ct.state===h.POINT){if(ft.state===h.POINT)return K(st.x-Q,st.y2+Q);if(yt.state===h.POINT)return K(st.x-Q,st.y-Q)}const Pt=st.height*st.width;return st.height*((ft.x-st.x+(Ct.x-st.x))*.5)<Pt*.5?ft.x>yt.x?K(st.x2+Q,st.y2+Q):K(st.x2+Q,st.y-Q):ft.x<yt.x?K(st.x-Q,st.y2+Q):K(st.x-Q,st.y-Q)}function rt(st,Q,ct,vt){if(!(st.closed?ct<st.length:ct<st.length-1))return!1;const _t=st.get(Q),yt=st.get(ct+1);for(let Ct=Q+1;Ct<=ct;Ct++){const Pt=st.get(Ct);if(u(_t.x,_t.y,yt.x,yt.y,Pt.x,Pt.y)>vt)return!1}return!0}function ot(st=0){return Q=>{if(st<0||Q.length<3)return Q;const ct=[];let vt=0;const ft=st*st;for(;vt<Q.length;){let _t=vt+1;for(;rt(Q,vt,_t,ft);)_t++;ct.push(Q.get(vt)),vt=_t}return new ut(ct)}}function tt(st,Q){switch(st){case-2:return(((-Q+3)*Q-3)*Q+1)/6;case-1:return((3*Q-6)*Q*Q+4)/6;case 0:return(((-3*Q+3)*Q+3)*Q+1)/6;case 1:return Q*Q*Q/6;default:throw new Error("unknown error")}}function G(st=6){function _t(yt,Ct,Pt){let Dt=0,At=0;for(let Ut=-2;Ut<=1;Ut++){const Bt=yt.get(Ct+Ut),zt=tt(Ut,Pt);Dt+=zt*Bt.x,At+=zt*Bt.y}return{x:Dt,y:At}}return yt=>{if(yt.length<3)return yt;const Ct=[],Pt=yt.closed,Dt=yt.length+3-1+(Pt?0:2);Ct.push(_t(yt,2-(Pt?0:2),0));for(let At=2-(Pt?0:2);At<Dt;At++)for(let Ut=1;Ut<=st;Ut++)Ct.push(_t(yt,At,Ut/st));return new ut(Ct)}}function nt(st=8){return Q=>{let ct=st,vt=Q.length;if(ct>1)for(vt=Math.floor(Q.length/ct);vt<3&&ct>1;)ct-=1,vt=Math.floor(Q.length/ct);const ft=[];for(let _t=0,yt=0;yt<vt;yt++,_t+=ct)ft.push(Q.get(_t));return new ut(ft)}}class ut{constructor(Q=[],ct=!0){this.points=Q,this.closed=ct}get(Q){const ct=Q,vt=this.points.length;return Q<0?this.closed?this.get(Q+vt):this.points[0]:Q>=vt?this.closed?this.get(Q-vt):this.points[vt-1]:this.points[ct]}get length(){return this.points.length}toString(Q=1/0){const ct=this.points;if(ct.length===0)return"";const vt=typeof Q=="function"?Q:M(Q);let ft="M";for(const _t of ct)ft+=`${vt(_t.x)},${vt(_t.y)} L`;return ft=ft.slice(0,-1),this.closed&&(ft+=" Z"),ft}draw(Q){const ct=this.points;if(ct.length!==0){Q.beginPath(),Q.moveTo(ct[0].x,ct[0].y);for(const vt of ct)Q.lineTo(vt.x,vt.y);this.closed&&Q.closePath()}}sample(Q){return nt(Q)(this)}simplify(Q){return ot(Q)(this)}bSplines(Q){return G(Q)(this)}apply(Q){return Q(this)}containsElements(Q){const ct=i(this.points);return ct?Q.every(vt=>ct.containsPt(vt.cx,vt.cy)&&this.withinArea(vt.cx,vt.cy)):!1}withinArea(Q,ct){if(this.length===0)return!1;let vt=0;const ft=this.points[0],_t=new c(ft.x,ft.y,ft.x,ft.y);for(let yt=1;yt<this.points.length;yt++){const Ct=this.points[yt];_t.x1=_t.x2,_t.y1=_t.y2,_t.x2=Ct.x,_t.y2=Ct.y,_t.cuts(Q,ct)&&vt++}return _t.x1=_t.x2,_t.y1=_t.y2,_t.x2=ft.x,_t.y2=ft.y,_t.cuts(Q,ct)&&vt++,vt%2===1}}class dt{constructor(Q=0){this.count=0,this.arr=[],this.set=new Set,this.arr.length=Q}add(Q){this.set.add(`${Q.x}x${Q.y}`),this.arr[this.count++]=Q}contains(Q){return this.set.has(`${Q.x}x${Q.y}`)}isFirst(Q){if(this.count===0)return!1;const ct=this.arr[0];return ct!=null&&ct.x===Q.x&&ct.y===Q.y}path(){return new ut(this.arr.slice(0,this.count))}clear(){this.set.clear(),this.count=0}get(Q){return this.arr[Q]}get length(){return this.count}}const et=0,gt=1,Et=2,lt=3;function mt(st,Q){const ct=(Math.floor(st.width)+Math.floor(st.height))*2,vt=new dt(ct);function ft(Pt,Dt,At,Ut){const Bt=st.get(Pt,Dt);return Number.isNaN(Bt)?Number.NaN:Bt>Q?At+Ut:At}function _t(Pt,Dt){let At=et;return At=ft(Pt,Dt,At,1),At=ft(Pt+1,Dt,At,2),At=ft(Pt,Dt+1,At,4),At=ft(Pt+1,Dt+1,At,8),Number.isNaN(At)?-1:At}let yt=gt;function Ct(Pt,Dt){let At=Pt,Ut=Dt,Bt=st.invertScaleX(At),zt=st.invertScaleY(Ut);for(let jt=0;jt<st.width*st.height;jt++){const Yt={x:Bt,y:zt};if(vt.contains(Yt)){if(vt.isFirst(Yt))return!0}else vt.add(Yt);const te=_t(At,Ut);switch(te){case-1:return!0;case 0:case 3:case 2:case 7:yt=Et;break;case 12:case 14:case 4:yt=lt;break;case 6:yt=yt===et?lt:Et;break;case 1:case 13:case 5:yt=et;break;case 9:yt=yt===Et?et:gt;break;case 10:case 8:case 11:yt=gt;break;default:return console.warn("Marching squares invalid state: "+te),!0}switch(yt){case et:Ut--,zt-=st.pixelGroup;break;case gt:Ut++,zt+=st.pixelGroup;break;case lt:At--,Bt-=st.pixelGroup;break;case Et:At++,Bt+=st.pixelGroup;break;default:return console.warn("Marching squares invalid state: "+te),!0}}return!0}for(let Pt=0;Pt<st.width;Pt++)for(let Dt=0;Dt<st.height;Dt++){if(st.get(Pt,Dt)<=Q)continue;const At=_t(Pt,Dt);if(!(At<0||At===15)&&Ct(Pt,Dt))return vt.path()}return null}const Tt={maxRoutingIterations:100,maxMarchingIterations:20,pixelGroup:4,edgeR0:10,edgeR1:20,nodeR0:15,nodeR1:50,morphBuffer:10,threshold:1,memberInfluenceFactor:1,edgeInfluenceFactor:1,nonMemberInfluenceFactor:-.8,virtualEdges:!0};function B(st){return st!=null&&typeof st.radius=="number"}function J(st,Q){if(B(st)!==B(Q))return!1;if(B(st)){const vt=Q;return st.cx===vt.cx&&st.cy===vt.cy&&st.radius===vt.radius}const ct=Q;return st.x===ct.x&&st.y===ct.y&&st.width===ct.width&&st.height===ct.height}var pt;(function(st){st[st.MEMBERS=0]="MEMBERS",st[st.NON_MEMBERS=1]="NON_MEMBERS",st[st.EDGES=2]="EDGES"})(pt||(pt={}));class Ot{constructor(Q={}){this.dirty=new Set,this.members=[],this.nonMembers=[],this.virtualEdges=[],this.edges=[],this.activeRegion=new e(0,0,0,0),this.potentialArea=new l(1,0,0,0,0,0,0),this.o=Object.assign({},Tt,Q)}pushMember(...Q){if(Q.length!==0){this.dirty.add(pt.MEMBERS);for(const ct of Q)this.members.push({raw:ct,obj:B(ct)?n.from(ct):e.from(ct),area:null})}}removeMember(Q){const ct=this.members.findIndex(vt=>J(vt.raw,Q));return ct<0?!1:(this.members.splice(ct,1),this.dirty.add(pt.MEMBERS),!0)}removeNonMember(Q){const ct=this.nonMembers.findIndex(vt=>J(vt.raw,Q));return ct<0?!1:(this.nonMembers.splice(ct,1),this.dirty.add(pt.NON_MEMBERS),!0)}removeEdge(Q){const ct=this.edges.findIndex(vt=>vt.obj.equals(Q));return ct<0?!1:(this.edges.splice(ct,1),this.dirty.add(pt.NON_MEMBERS),!0)}pushNonMember(...Q){if(Q.length!==0){this.dirty.add(pt.NON_MEMBERS);for(const ct of Q)this.nonMembers.push({raw:ct,obj:B(ct)?n.from(ct):e.from(ct),area:null})}}pushEdge(...Q){if(Q.length!==0){this.dirty.add(pt.EDGES);for(const ct of Q)this.edges.push({raw:ct,obj:c.from(ct),area:null})}}update(){const Q=this.dirty.has(pt.MEMBERS),ct=this.dirty.has(pt.NON_MEMBERS);let vt=this.dirty.has(pt.EDGES);this.dirty.clear();const ft=this.members.map(Dt=>Dt.obj);if(this.o.virtualEdges&&(Q||ct)){const Dt=this.nonMembers.map(Bt=>Bt.obj),At=N(ft,Dt,this.o.maxRoutingIterations,this.o.morphBuffer),Ut=new Map(this.virtualEdges.map(Bt=>[Bt.obj.toString(),Bt.area]));this.virtualEdges=At.map(Bt=>{var zt;return{raw:Bt,obj:Bt,area:(zt=Ut.get(Bt.toString()))!==null&&zt!==void 0?zt:null}}),vt=!0}let _t=!1;if(Q||vt){const Dt=this.virtualEdges.concat(this.edges).map(zt=>zt.obj),At=Rt(ft,Dt),Ut=Math.max(this.o.edgeR1,this.o.nodeR1)+this.o.morphBuffer,Bt=e.from(O(At,Ut));Bt.equals(this.activeRegion)||(_t=!0,this.activeRegion=Bt)}if(_t){const Dt=Math.ceil(this.activeRegion.width/this.o.pixelGroup),At=Math.ceil(this.activeRegion.height/this.o.pixelGroup);this.activeRegion.x!==this.potentialArea.pixelX||this.activeRegion.y!==this.potentialArea.pixelY?(this.potentialArea=l.fromPixelRegion(this.activeRegion,this.o.pixelGroup),this.members.forEach(Ut=>Ut.area=null),this.nonMembers.forEach(Ut=>Ut.area=null),this.edges.forEach(Ut=>Ut.area=null),this.virtualEdges.forEach(Ut=>Ut.area=null)):(Dt!==this.potentialArea.width||At!==this.potentialArea.height)&&(this.potentialArea=l.fromPixelRegion(this.activeRegion,this.o.pixelGroup))}const yt=new Map,Ct=Dt=>{if(Dt.area){const At=`${Dt.obj.width}x${Dt.obj.height}x${Dt.obj instanceof e?"R":"C"}`;yt.set(At,Dt.area)}},Pt=Dt=>{if(Dt.area)return;const At=`${Dt.obj.width}x${Dt.obj.height}x${Dt.obj instanceof e?"R":"C"}`;if(yt.has(At)){const Bt=yt.get(At);Dt.area=this.potentialArea.copy(Bt,{x:Dt.obj.x-this.o.nodeR1,y:Dt.obj.y-this.o.nodeR1});return}const Ut=Dt.obj instanceof e?b(Dt.obj,this.potentialArea,this.o.nodeR1):T(Dt.obj,this.potentialArea,this.o.nodeR1);Dt.area=Ut,yt.set(At,Ut)};this.members.forEach(Ct),this.nonMembers.forEach(Ct),this.members.forEach(Pt),this.nonMembers.forEach(Dt=>{this.activeRegion.intersects(Dt.obj)?Pt(Dt):Dt.area=null}),this.edges.forEach(Dt=>{Dt.area||(Dt.area=C(Dt.obj,this.potentialArea,this.o.edgeR1))}),this.virtualEdges.forEach(Dt=>{Dt.area||(Dt.area=C(Dt.obj,this.potentialArea,this.o.edgeR1))})}drawMembers(Q){for(const ct of this.members)ct.obj.draw(Q)}drawNonMembers(Q){for(const ct of this.nonMembers)ct.obj.draw(Q)}drawEdges(Q){for(const ct of this.edges)ct.obj.draw(Q)}drawPotentialArea(Q,ct=!0){this.potentialArea.draw(Q,ct)}compute(){if(this.members.length===0)return new ut([]);this.dirty.size>0&&this.update();const{o:Q,potentialArea:ct}=this,vt=this.members.map(Ct=>Ct.area),ft=this.virtualEdges.concat(this.edges).map(Ct=>Ct.area),_t=this.nonMembers.filter(Ct=>Ct.area!=null).map(Ct=>Ct.area),yt=this.members.map(Ct=>Ct.obj);return bt(ct,vt,ft,_t,Ct=>Ct.containsElements(yt),Q)}}function bt(st,Q,ct,vt,ft,_t={}){const yt=Object.assign({},Tt,_t);let Ct=yt.threshold,Pt=yt.memberInfluenceFactor,Dt=yt.edgeInfluenceFactor,At=yt.nonMemberInfluenceFactor;const Ut=(yt.nodeR0-yt.nodeR1)*(yt.nodeR0-yt.nodeR1),Bt=(yt.edgeR0-yt.edgeR1)*(yt.edgeR0-yt.edgeR1);for(let zt=0;zt<yt.maxMarchingIterations;zt++){if(st.clear(),Pt!==0){const Yt=Pt/Ut;for(const te of Q)st.incArea(te,Yt)}if(Dt!==0){const Yt=Dt/Bt;for(const te of ct)st.incArea(te,Yt)}if(At!==0){const Yt=At/Ut;for(const te of vt)st.incArea(te,Yt)}const jt=mt(st,Ct);if(jt&&ft(jt))return jt;if(Ct*=.95,zt<=yt.maxMarchingIterations*.5)Pt*=1.2,Dt*=1.2;else if(At!==0&&vt.length>0)At*=.8;else break}return new ut([])}function Rt(st,Q){if(st.length===0)return new e(0,0,0,0);const ct=e.from(st[0]);for(const vt of st)ct.add(vt);for(const vt of Q)ct.add(m(vt));return ct}function It(st,Q=[],ct=[],vt={}){if(st.length===0)return new ut([]);const ft=new Ot(vt);return ft.pushMember(...st),ft.pushNonMember(...Q),ft.pushEdge(...ct),ft.compute()}},99419:function(it){"use strict";it.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},2489:function(it,w,t){var u=t(99419),D=t(32858),p=Object.hasOwnProperty,M=Object.create(null);for(var m in u)p.call(u,m)&&(M[u[m]]=m);var c=it.exports={to:{},get:{}};c.get=function(a){var r=a.substring(0,3).toLowerCase(),s,o;switch(r){case"hsl":s=c.get.hsl(a),o="hsl";break;case"hwb":s=c.get.hwb(a),o="hwb";break;default:s=c.get.rgb(a),o="rgb";break}return s?{model:o,value:s}:null},c.get.rgb=function(a){if(!a)return null;var r=/^#([a-f0-9]{3,4})$/i,s=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,o=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,d=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,f=/^(\w+)$/,y=[0,0,0,1],E,e,i;if(E=a.match(s)){for(i=E[2],E=E[1],e=0;e<3;e++){var n=e*2;y[e]=parseInt(E.slice(n,n+2),16)}i&&(y[3]=parseInt(i,16)/255)}else if(E=a.match(r)){for(E=E[1],i=E[3],e=0;e<3;e++)y[e]=parseInt(E[e]+E[e],16);i&&(y[3]=parseInt(i+i,16)/255)}else if(E=a.match(o)){for(e=0;e<3;e++)y[e]=parseInt(E[e+1],0);E[4]&&(E[5]?y[3]=parseFloat(E[4])*.01:y[3]=parseFloat(E[4]))}else if(E=a.match(d)){for(e=0;e<3;e++)y[e]=Math.round(parseFloat(E[e+1])*2.55);E[4]&&(E[5]?y[3]=parseFloat(E[4])*.01:y[3]=parseFloat(E[4]))}else return(E=a.match(f))?E[1]==="transparent"?[0,0,0,0]:p.call(u,E[1])?(y=u[E[1]],y[3]=1,y):null:null;for(e=0;e<3;e++)y[e]=h(y[e],0,255);return y[3]=h(y[3],0,1),y},c.get.hsl=function(a){if(!a)return null;var r=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,s=a.match(r);if(s){var o=parseFloat(s[4]),d=(parseFloat(s[1])%360+360)%360,f=h(parseFloat(s[2]),0,100),y=h(parseFloat(s[3]),0,100),E=h(isNaN(o)?1:o,0,1);return[d,f,y,E]}return null},c.get.hwb=function(a){if(!a)return null;var r=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,s=a.match(r);if(s){var o=parseFloat(s[4]),d=(parseFloat(s[1])%360+360)%360,f=h(parseFloat(s[2]),0,100),y=h(parseFloat(s[3]),0,100),E=h(isNaN(o)?1:o,0,1);return[d,f,y,E]}return null},c.to.hex=function(){var a=D(arguments);return"#"+v(a[0])+v(a[1])+v(a[2])+(a[3]<1?v(Math.round(a[3]*255)):"")},c.to.rgb=function(){var a=D(arguments);return a.length<4||a[3]===1?"rgb("+Math.round(a[0])+", "+Math.round(a[1])+", "+Math.round(a[2])+")":"rgba("+Math.round(a[0])+", "+Math.round(a[1])+", "+Math.round(a[2])+", "+a[3]+")"},c.to.rgb.percent=function(){var a=D(arguments),r=Math.round(a[0]/255*100),s=Math.round(a[1]/255*100),o=Math.round(a[2]/255*100);return a.length<4||a[3]===1?"rgb("+r+"%, "+s+"%, "+o+"%)":"rgba("+r+"%, "+s+"%, "+o+"%, "+a[3]+")"},c.to.hsl=function(){var a=D(arguments);return a.length<4||a[3]===1?"hsl("+a[0]+", "+a[1]+"%, "+a[2]+"%)":"hsla("+a[0]+", "+a[1]+"%, "+a[2]+"%, "+a[3]+")"},c.to.hwb=function(){var a=D(arguments),r="";return a.length>=4&&a[3]!==1&&(r=", "+a[3]),"hwb("+a[0]+", "+a[1]+"%, "+a[2]+"%"+r+")"},c.to.keyword=function(a){return M[a.slice(0,3)]};function h(a,r,s){return Math.min(Math.max(r,a),s)}function v(a){var r=Math.round(a).toString(16).toUpperCase();return r.length<2?"0"+r:r}},2337:function(it){"use strict";var w=Object.prototype.hasOwnProperty,t="~";function u(){}Object.create&&(u.prototype=Object.create(null),new u().__proto__||(t=!1));function D(c,h,v){this.fn=c,this.context=h,this.once=v||!1}function p(c,h,v,a,r){if(typeof v!="function")throw new TypeError("The listener must be a function");var s=new D(v,a||c,r),o=t?t+h:h;return c._events[o]?c._events[o].fn?c._events[o]=[c._events[o],s]:c._events[o].push(s):(c._events[o]=s,c._eventsCount++),c}function M(c,h){--c._eventsCount===0?c._events=new u:delete c._events[h]}function m(){this._events=new u,this._eventsCount=0}m.prototype.eventNames=function(){var h=[],v,a;if(this._eventsCount===0)return h;for(a in v=this._events)w.call(v,a)&&h.push(t?a.slice(1):a);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(v)):h},m.prototype.listeners=function(h){var v=t?t+h:h,a=this._events[v];if(!a)return[];if(a.fn)return[a.fn];for(var r=0,s=a.length,o=new Array(s);r<s;r++)o[r]=a[r].fn;return o},m.prototype.listenerCount=function(h){var v=t?t+h:h,a=this._events[v];return a?a.fn?1:a.length:0},m.prototype.emit=function(h,v,a,r,s,o){var d=t?t+h:h;if(!this._events[d])return!1;var f=this._events[d],y=arguments.length,E,e;if(f.fn){switch(f.once&&this.removeListener(h,f.fn,void 0,!0),y){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,v),!0;case 3:return f.fn.call(f.context,v,a),!0;case 4:return f.fn.call(f.context,v,a,r),!0;case 5:return f.fn.call(f.context,v,a,r,s),!0;case 6:return f.fn.call(f.context,v,a,r,s,o),!0}for(e=1,E=new Array(y-1);e<y;e++)E[e-1]=arguments[e];f.fn.apply(f.context,E)}else{var i=f.length,n;for(e=0;e<i;e++)switch(f[e].once&&this.removeListener(h,f[e].fn,void 0,!0),y){case 1:f[e].fn.call(f[e].context);break;case 2:f[e].fn.call(f[e].context,v);break;case 3:f[e].fn.call(f[e].context,v,a);break;case 4:f[e].fn.call(f[e].context,v,a,r);break;default:if(!E)for(n=1,E=new Array(y-1);n<y;n++)E[n-1]=arguments[n];f[e].fn.apply(f[e].context,E)}}return!0},m.prototype.on=function(h,v,a){return p(this,h,v,a,!1)},m.prototype.once=function(h,v,a){return p(this,h,v,a,!0)},m.prototype.removeListener=function(h,v,a,r){var s=t?t+h:h;if(!this._events[s])return this;if(!v)return M(this,s),this;var o=this._events[s];if(o.fn)o.fn===v&&(!r||o.once)&&(!a||o.context===a)&&M(this,s);else{for(var d=0,f=[],y=o.length;d<y;d++)(o[d].fn!==v||r&&!o[d].once||a&&o[d].context!==a)&&f.push(o[d]);f.length?this._events[s]=f.length===1?f[0]:f:M(this,s)}return this},m.prototype.removeAllListeners=function(h){var v;return h?(v=t?t+h:h,this._events[v]&&M(this,v)):(this._events=new u,this._eventsCount=0),this},m.prototype.off=m.prototype.removeListener,m.prototype.addListener=m.prototype.on,m.prefixed=t,m.EventEmitter=m,it.exports=m},19537:function(it,w,t){"use strict";t.d(w,{Ib:function(){return u},WT:function(){return D},yy:function(){return M}});var u=1e-6,D=typeof Float32Array!="undefined"?Float32Array:Array,p=Math.random,M="zyx";function m(o){return o>=0?Math.round(o):o%.5===0?Math.floor(o):Math.round(o)}function c(o){D=o}var h=Math.PI/180,v=180/Math.PI;function a(o){return o*h}function r(o){return o*v}function s(o,d){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u;return Math.abs(o-d)<=f*Math.max(1,Math.abs(o),Math.abs(d))}},61899:function(it,w,t){"use strict";t.d(w,{Ue:function(){return D},al:function(){return c},xO:function(){return p}});var u=t(19537);function D(){var U=new u.WT(9);return u.WT!=Float32Array&&(U[1]=0,U[2]=0,U[3]=0,U[5]=0,U[6]=0,U[7]=0),U[0]=1,U[4]=1,U[8]=1,U}function p(U,F){return U[0]=F[0],U[1]=F[1],U[2]=F[2],U[3]=F[4],U[4]=F[5],U[5]=F[6],U[6]=F[8],U[7]=F[9],U[8]=F[10],U}function M(U){var F=new glMatrix.ARRAY_TYPE(9);return F[0]=U[0],F[1]=U[1],F[2]=U[2],F[3]=U[3],F[4]=U[4],F[5]=U[5],F[6]=U[6],F[7]=U[7],F[8]=U[8],F}function m(U,F){return U[0]=F[0],U[1]=F[1],U[2]=F[2],U[3]=F[3],U[4]=F[4],U[5]=F[5],U[6]=F[6],U[7]=F[7],U[8]=F[8],U}function c(U,F,H,Y,V,X,$,rt,ot){var tt=new u.WT(9);return tt[0]=U,tt[1]=F,tt[2]=H,tt[3]=Y,tt[4]=V,tt[5]=X,tt[6]=$,tt[7]=rt,tt[8]=ot,tt}function h(U,F,H,Y,V,X,$,rt,ot,tt){return U[0]=F,U[1]=H,U[2]=Y,U[3]=V,U[4]=X,U[5]=$,U[6]=rt,U[7]=ot,U[8]=tt,U}function v(U){return U[0]=1,U[1]=0,U[2]=0,U[3]=0,U[4]=1,U[5]=0,U[6]=0,U[7]=0,U[8]=1,U}function a(U,F){if(U===F){var H=F[1],Y=F[2],V=F[5];U[1]=F[3],U[2]=F[6],U[3]=H,U[5]=F[7],U[6]=Y,U[7]=V}else U[0]=F[0],U[1]=F[3],U[2]=F[6],U[3]=F[1],U[4]=F[4],U[5]=F[7],U[6]=F[2],U[7]=F[5],U[8]=F[8];return U}function r(U,F){var H=F[0],Y=F[1],V=F[2],X=F[3],$=F[4],rt=F[5],ot=F[6],tt=F[7],G=F[8],nt=G*$-rt*tt,ut=-G*X+rt*ot,dt=tt*X-$*ot,et=H*nt+Y*ut+V*dt;return et?(et=1/et,U[0]=nt*et,U[1]=(-G*Y+V*tt)*et,U[2]=(rt*Y-V*$)*et,U[3]=ut*et,U[4]=(G*H-V*ot)*et,U[5]=(-rt*H+V*X)*et,U[6]=dt*et,U[7]=(-tt*H+Y*ot)*et,U[8]=($*H-Y*X)*et,U):null}function s(U,F){var H=F[0],Y=F[1],V=F[2],X=F[3],$=F[4],rt=F[5],ot=F[6],tt=F[7],G=F[8];return U[0]=$*G-rt*tt,U[1]=V*tt-Y*G,U[2]=Y*rt-V*$,U[3]=rt*ot-X*G,U[4]=H*G-V*ot,U[5]=V*X-H*rt,U[6]=X*tt-$*ot,U[7]=Y*ot-H*tt,U[8]=H*$-Y*X,U}function o(U){var F=U[0],H=U[1],Y=U[2],V=U[3],X=U[4],$=U[5],rt=U[6],ot=U[7],tt=U[8];return F*(tt*X-$*ot)+H*(-tt*V+$*rt)+Y*(ot*V-X*rt)}function d(U,F,H){var Y=F[0],V=F[1],X=F[2],$=F[3],rt=F[4],ot=F[5],tt=F[6],G=F[7],nt=F[8],ut=H[0],dt=H[1],et=H[2],gt=H[3],Et=H[4],lt=H[5],mt=H[6],Tt=H[7],B=H[8];return U[0]=ut*Y+dt*$+et*tt,U[1]=ut*V+dt*rt+et*G,U[2]=ut*X+dt*ot+et*nt,U[3]=gt*Y+Et*$+lt*tt,U[4]=gt*V+Et*rt+lt*G,U[5]=gt*X+Et*ot+lt*nt,U[6]=mt*Y+Tt*$+B*tt,U[7]=mt*V+Tt*rt+B*G,U[8]=mt*X+Tt*ot+B*nt,U}function f(U,F,H){var Y=F[0],V=F[1],X=F[2],$=F[3],rt=F[4],ot=F[5],tt=F[6],G=F[7],nt=F[8],ut=H[0],dt=H[1];return U[0]=Y,U[1]=V,U[2]=X,U[3]=$,U[4]=rt,U[5]=ot,U[6]=ut*Y+dt*$+tt,U[7]=ut*V+dt*rt+G,U[8]=ut*X+dt*ot+nt,U}function y(U,F,H){var Y=F[0],V=F[1],X=F[2],$=F[3],rt=F[4],ot=F[5],tt=F[6],G=F[7],nt=F[8],ut=Math.sin(H),dt=Math.cos(H);return U[0]=dt*Y+ut*$,U[1]=dt*V+ut*rt,U[2]=dt*X+ut*ot,U[3]=dt*$-ut*Y,U[4]=dt*rt-ut*V,U[5]=dt*ot-ut*X,U[6]=tt,U[7]=G,U[8]=nt,U}function E(U,F,H){var Y=H[0],V=H[1];return U[0]=Y*F[0],U[1]=Y*F[1],U[2]=Y*F[2],U[3]=V*F[3],U[4]=V*F[4],U[5]=V*F[5],U[6]=F[6],U[7]=F[7],U[8]=F[8],U}function e(U,F){return U[0]=1,U[1]=0,U[2]=0,U[3]=0,U[4]=1,U[5]=0,U[6]=F[0],U[7]=F[1],U[8]=1,U}function i(U,F){var H=Math.sin(F),Y=Math.cos(F);return U[0]=Y,U[1]=H,U[2]=0,U[3]=-H,U[4]=Y,U[5]=0,U[6]=0,U[7]=0,U[8]=1,U}function n(U,F){return U[0]=F[0],U[1]=0,U[2]=0,U[3]=0,U[4]=F[1],U[5]=0,U[6]=0,U[7]=0,U[8]=1,U}function l(U,F){return U[0]=F[0],U[1]=F[1],U[2]=0,U[3]=F[2],U[4]=F[3],U[5]=0,U[6]=F[4],U[7]=F[5],U[8]=1,U}function O(U,F){var H=F[0],Y=F[1],V=F[2],X=F[3],$=H+H,rt=Y+Y,ot=V+V,tt=H*$,G=Y*$,nt=Y*rt,ut=V*$,dt=V*rt,et=V*ot,gt=X*$,Et=X*rt,lt=X*ot;return U[0]=1-nt-et,U[3]=G-lt,U[6]=ut+Et,U[1]=G+lt,U[4]=1-tt-et,U[7]=dt-gt,U[2]=ut-Et,U[5]=dt+gt,U[8]=1-tt-nt,U}function C(U,F){var H=F[0],Y=F[1],V=F[2],X=F[3],$=F[4],rt=F[5],ot=F[6],tt=F[7],G=F[8],nt=F[9],ut=F[10],dt=F[11],et=F[12],gt=F[13],Et=F[14],lt=F[15],mt=H*rt-Y*$,Tt=H*ot-V*$,B=H*tt-X*$,J=Y*ot-V*rt,pt=Y*tt-X*rt,Ot=V*tt-X*ot,bt=G*gt-nt*et,Rt=G*Et-ut*et,It=G*lt-dt*et,st=nt*Et-ut*gt,Q=nt*lt-dt*gt,ct=ut*lt-dt*Et,vt=mt*ct-Tt*Q+B*st+J*It-pt*Rt+Ot*bt;return vt?(vt=1/vt,U[0]=(rt*ct-ot*Q+tt*st)*vt,U[1]=(ot*It-$*ct-tt*Rt)*vt,U[2]=($*Q-rt*It+tt*bt)*vt,U[3]=(V*Q-Y*ct-X*st)*vt,U[4]=(H*ct-V*It+X*Rt)*vt,U[5]=(Y*It-H*Q-X*bt)*vt,U[6]=(gt*Ot-Et*pt+lt*J)*vt,U[7]=(Et*B-et*Ot-lt*Tt)*vt,U[8]=(et*pt-gt*B+lt*mt)*vt,U):null}function T(U,F,H){return U[0]=2/F,U[1]=0,U[2]=0,U[3]=0,U[4]=-2/H,U[5]=0,U[6]=-1,U[7]=1,U[8]=1,U}function P(U){return"mat3("+U[0]+", "+U[1]+", "+U[2]+", "+U[3]+", "+U[4]+", "+U[5]+", "+U[6]+", "+U[7]+", "+U[8]+")"}function b(U){return Math.sqrt(U[0]*U[0]+U[1]*U[1]+U[2]*U[2]+U[3]*U[3]+U[4]*U[4]+U[5]*U[5]+U[6]*U[6]+U[7]*U[7]+U[8]*U[8])}function x(U,F,H){return U[0]=F[0]+H[0],U[1]=F[1]+H[1],U[2]=F[2]+H[2],U[3]=F[3]+H[3],U[4]=F[4]+H[4],U[5]=F[5]+H[5],U[6]=F[6]+H[6],U[7]=F[7]+H[7],U[8]=F[8]+H[8],U}function I(U,F,H){return U[0]=F[0]-H[0],U[1]=F[1]-H[1],U[2]=F[2]-H[2],U[3]=F[3]-H[3],U[4]=F[4]-H[4],U[5]=F[5]-H[5],U[6]=F[6]-H[6],U[7]=F[7]-H[7],U[8]=F[8]-H[8],U}function S(U,F,H){return U[0]=F[0]*H,U[1]=F[1]*H,U[2]=F[2]*H,U[3]=F[3]*H,U[4]=F[4]*H,U[5]=F[5]*H,U[6]=F[6]*H,U[7]=F[7]*H,U[8]=F[8]*H,U}function K(U,F,H,Y){return U[0]=F[0]+H[0]*Y,U[1]=F[1]+H[1]*Y,U[2]=F[2]+H[2]*Y,U[3]=F[3]+H[3]*Y,U[4]=F[4]+H[4]*Y,U[5]=F[5]+H[5]*Y,U[6]=F[6]+H[6]*Y,U[7]=F[7]+H[7]*Y,U[8]=F[8]+H[8]*Y,U}function N(U,F){return U[0]===F[0]&&U[1]===F[1]&&U[2]===F[2]&&U[3]===F[3]&&U[4]===F[4]&&U[5]===F[5]&&U[6]===F[6]&&U[7]===F[7]&&U[8]===F[8]}function z(U,F){var H=U[0],Y=U[1],V=U[2],X=U[3],$=U[4],rt=U[5],ot=U[6],tt=U[7],G=U[8],nt=F[0],ut=F[1],dt=F[2],et=F[3],gt=F[4],Et=F[5],lt=F[6],mt=F[7],Tt=F[8];return Math.abs(H-nt)<=glMatrix.EPSILON*Math.max(1,Math.abs(H),Math.abs(nt))&&Math.abs(Y-ut)<=glMatrix.EPSILON*Math.max(1,Math.abs(Y),Math.abs(ut))&&Math.abs(V-dt)<=glMatrix.EPSILON*Math.max(1,Math.abs(V),Math.abs(dt))&&Math.abs(X-et)<=glMatrix.EPSILON*Math.max(1,Math.abs(X),Math.abs(et))&&Math.abs($-gt)<=glMatrix.EPSILON*Math.max(1,Math.abs($),Math.abs(gt))&&Math.abs(rt-Et)<=glMatrix.EPSILON*Math.max(1,Math.abs(rt),Math.abs(Et))&&Math.abs(ot-lt)<=glMatrix.EPSILON*Math.max(1,Math.abs(ot),Math.abs(lt))&&Math.abs(tt-mt)<=glMatrix.EPSILON*Math.max(1,Math.abs(tt),Math.abs(mt))&&Math.abs(G-Tt)<=glMatrix.EPSILON*Math.max(1,Math.abs(G),Math.abs(Tt))}var j=null,W=null},14690:function(it,w,t){"use strict";t.r(w),t.d(w,{add:function(){return ut},adjoint:function(){return r},clone:function(){return p},copy:function(){return M},create:function(){return D},decompose:function(){return N},determinant:function(){return s},equals:function(){return lt},exactEquals:function(){return Et},frob:function(){return nt},fromQuat:function(){return W},fromQuat2:function(){return x},fromRotation:function(){return O},fromRotationTranslation:function(){return b},fromRotationTranslationScale:function(){return z},fromRotationTranslationScaleOrigin:function(){return j},fromScaling:function(){return l},fromTranslation:function(){return n},fromValues:function(){return m},fromXRotation:function(){return C},fromYRotation:function(){return T},fromZRotation:function(){return P},frustum:function(){return U},getRotation:function(){return K},getScaling:function(){return S},getTranslation:function(){return I},identity:function(){return h},invert:function(){return a},lookAt:function(){return ot},mul:function(){return mt},multiply:function(){return o},multiplyScalar:function(){return et},multiplyScalarAndAdd:function(){return gt},ortho:function(){return $},orthoNO:function(){return X},orthoZO:function(){return rt},perspective:function(){return H},perspectiveFromFieldOfView:function(){return V},perspectiveNO:function(){return F},perspectiveZO:function(){return Y},rotate:function(){return y},rotateX:function(){return E},rotateY:function(){return e},rotateZ:function(){return i},scale:function(){return f},set:function(){return c},str:function(){return G},sub:function(){return Tt},subtract:function(){return dt},targetTo:function(){return tt},translate:function(){return d},transpose:function(){return v}});var u=t(19537);function D(){var B=new u.WT(16);return u.WT!=Float32Array&&(B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[11]=0,B[12]=0,B[13]=0,B[14]=0),B[0]=1,B[5]=1,B[10]=1,B[15]=1,B}function p(B){var J=new u.WT(16);return J[0]=B[0],J[1]=B[1],J[2]=B[2],J[3]=B[3],J[4]=B[4],J[5]=B[5],J[6]=B[6],J[7]=B[7],J[8]=B[8],J[9]=B[9],J[10]=B[10],J[11]=B[11],J[12]=B[12],J[13]=B[13],J[14]=B[14],J[15]=B[15],J}function M(B,J){return B[0]=J[0],B[1]=J[1],B[2]=J[2],B[3]=J[3],B[4]=J[4],B[5]=J[5],B[6]=J[6],B[7]=J[7],B[8]=J[8],B[9]=J[9],B[10]=J[10],B[11]=J[11],B[12]=J[12],B[13]=J[13],B[14]=J[14],B[15]=J[15],B}function m(B,J,pt,Ot,bt,Rt,It,st,Q,ct,vt,ft,_t,yt,Ct,Pt){var Dt=new u.WT(16);return Dt[0]=B,Dt[1]=J,Dt[2]=pt,Dt[3]=Ot,Dt[4]=bt,Dt[5]=Rt,Dt[6]=It,Dt[7]=st,Dt[8]=Q,Dt[9]=ct,Dt[10]=vt,Dt[11]=ft,Dt[12]=_t,Dt[13]=yt,Dt[14]=Ct,Dt[15]=Pt,Dt}function c(B,J,pt,Ot,bt,Rt,It,st,Q,ct,vt,ft,_t,yt,Ct,Pt,Dt){return B[0]=J,B[1]=pt,B[2]=Ot,B[3]=bt,B[4]=Rt,B[5]=It,B[6]=st,B[7]=Q,B[8]=ct,B[9]=vt,B[10]=ft,B[11]=_t,B[12]=yt,B[13]=Ct,B[14]=Pt,B[15]=Dt,B}function h(B){return B[0]=1,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=1,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=1,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}function v(B,J){if(B===J){var pt=J[1],Ot=J[2],bt=J[3],Rt=J[6],It=J[7],st=J[11];B[1]=J[4],B[2]=J[8],B[3]=J[12],B[4]=pt,B[6]=J[9],B[7]=J[13],B[8]=Ot,B[9]=Rt,B[11]=J[14],B[12]=bt,B[13]=It,B[14]=st}else B[0]=J[0],B[1]=J[4],B[2]=J[8],B[3]=J[12],B[4]=J[1],B[5]=J[5],B[6]=J[9],B[7]=J[13],B[8]=J[2],B[9]=J[6],B[10]=J[10],B[11]=J[14],B[12]=J[3],B[13]=J[7],B[14]=J[11],B[15]=J[15];return B}function a(B,J){var pt=J[0],Ot=J[1],bt=J[2],Rt=J[3],It=J[4],st=J[5],Q=J[6],ct=J[7],vt=J[8],ft=J[9],_t=J[10],yt=J[11],Ct=J[12],Pt=J[13],Dt=J[14],At=J[15],Ut=pt*st-Ot*It,Bt=pt*Q-bt*It,zt=pt*ct-Rt*It,jt=Ot*Q-bt*st,Yt=Ot*ct-Rt*st,te=bt*ct-Rt*Q,re=vt*Pt-ft*Ct,ee=vt*Dt-_t*Ct,Gt=vt*At-yt*Ct,ve=ft*Dt-_t*Pt,de=ft*At-yt*Pt,ye=_t*At-yt*Dt,_e=Ut*ye-Bt*de+zt*ve+jt*Gt-Yt*ee+te*re;return _e?(_e=1/_e,B[0]=(st*ye-Q*de+ct*ve)*_e,B[1]=(bt*de-Ot*ye-Rt*ve)*_e,B[2]=(Pt*te-Dt*Yt+At*jt)*_e,B[3]=(_t*Yt-ft*te-yt*jt)*_e,B[4]=(Q*Gt-It*ye-ct*ee)*_e,B[5]=(pt*ye-bt*Gt+Rt*ee)*_e,B[6]=(Dt*zt-Ct*te-At*Bt)*_e,B[7]=(vt*te-_t*zt+yt*Bt)*_e,B[8]=(It*de-st*Gt+ct*re)*_e,B[9]=(Ot*Gt-pt*de-Rt*re)*_e,B[10]=(Ct*Yt-Pt*zt+At*Ut)*_e,B[11]=(ft*zt-vt*Yt-yt*Ut)*_e,B[12]=(st*ee-It*ve-Q*re)*_e,B[13]=(pt*ve-Ot*ee+bt*re)*_e,B[14]=(Pt*Bt-Ct*jt-Dt*Ut)*_e,B[15]=(vt*jt-ft*Bt+_t*Ut)*_e,B):null}function r(B,J){var pt=J[0],Ot=J[1],bt=J[2],Rt=J[3],It=J[4],st=J[5],Q=J[6],ct=J[7],vt=J[8],ft=J[9],_t=J[10],yt=J[11],Ct=J[12],Pt=J[13],Dt=J[14],At=J[15],Ut=pt*st-Ot*It,Bt=pt*Q-bt*It,zt=pt*ct-Rt*It,jt=Ot*Q-bt*st,Yt=Ot*ct-Rt*st,te=bt*ct-Rt*Q,re=vt*Pt-ft*Ct,ee=vt*Dt-_t*Ct,Gt=vt*At-yt*Ct,ve=ft*Dt-_t*Pt,de=ft*At-yt*Pt,ye=_t*At-yt*Dt;return B[0]=st*ye-Q*de+ct*ve,B[1]=bt*de-Ot*ye-Rt*ve,B[2]=Pt*te-Dt*Yt+At*jt,B[3]=_t*Yt-ft*te-yt*jt,B[4]=Q*Gt-It*ye-ct*ee,B[5]=pt*ye-bt*Gt+Rt*ee,B[6]=Dt*zt-Ct*te-At*Bt,B[7]=vt*te-_t*zt+yt*Bt,B[8]=It*de-st*Gt+ct*re,B[9]=Ot*Gt-pt*de-Rt*re,B[10]=Ct*Yt-Pt*zt+At*Ut,B[11]=ft*zt-vt*Yt-yt*Ut,B[12]=st*ee-It*ve-Q*re,B[13]=pt*ve-Ot*ee+bt*re,B[14]=Pt*Bt-Ct*jt-Dt*Ut,B[15]=vt*jt-ft*Bt+_t*Ut,B}function s(B){var J=B[0],pt=B[1],Ot=B[2],bt=B[3],Rt=B[4],It=B[5],st=B[6],Q=B[7],ct=B[8],vt=B[9],ft=B[10],_t=B[11],yt=B[12],Ct=B[13],Pt=B[14],Dt=B[15],At=J*It-pt*Rt,Ut=J*st-Ot*Rt,Bt=pt*st-Ot*It,zt=ct*Ct-vt*yt,jt=ct*Pt-ft*yt,Yt=vt*Pt-ft*Ct,te=J*Yt-pt*jt+Ot*zt,re=Rt*Yt-It*jt+st*zt,ee=ct*Bt-vt*Ut+ft*At,Gt=yt*Bt-Ct*Ut+Pt*At;return Q*te-bt*re+Dt*ee-_t*Gt}function o(B,J,pt){var Ot=J[0],bt=J[1],Rt=J[2],It=J[3],st=J[4],Q=J[5],ct=J[6],vt=J[7],ft=J[8],_t=J[9],yt=J[10],Ct=J[11],Pt=J[12],Dt=J[13],At=J[14],Ut=J[15],Bt=pt[0],zt=pt[1],jt=pt[2],Yt=pt[3];return B[0]=Bt*Ot+zt*st+jt*ft+Yt*Pt,B[1]=Bt*bt+zt*Q+jt*_t+Yt*Dt,B[2]=Bt*Rt+zt*ct+jt*yt+Yt*At,B[3]=Bt*It+zt*vt+jt*Ct+Yt*Ut,Bt=pt[4],zt=pt[5],jt=pt[6],Yt=pt[7],B[4]=Bt*Ot+zt*st+jt*ft+Yt*Pt,B[5]=Bt*bt+zt*Q+jt*_t+Yt*Dt,B[6]=Bt*Rt+zt*ct+jt*yt+Yt*At,B[7]=Bt*It+zt*vt+jt*Ct+Yt*Ut,Bt=pt[8],zt=pt[9],jt=pt[10],Yt=pt[11],B[8]=Bt*Ot+zt*st+jt*ft+Yt*Pt,B[9]=Bt*bt+zt*Q+jt*_t+Yt*Dt,B[10]=Bt*Rt+zt*ct+jt*yt+Yt*At,B[11]=Bt*It+zt*vt+jt*Ct+Yt*Ut,Bt=pt[12],zt=pt[13],jt=pt[14],Yt=pt[15],B[12]=Bt*Ot+zt*st+jt*ft+Yt*Pt,B[13]=Bt*bt+zt*Q+jt*_t+Yt*Dt,B[14]=Bt*Rt+zt*ct+jt*yt+Yt*At,B[15]=Bt*It+zt*vt+jt*Ct+Yt*Ut,B}function d(B,J,pt){var Ot=pt[0],bt=pt[1],Rt=pt[2],It,st,Q,ct,vt,ft,_t,yt,Ct,Pt,Dt,At;return J===B?(B[12]=J[0]*Ot+J[4]*bt+J[8]*Rt+J[12],B[13]=J[1]*Ot+J[5]*bt+J[9]*Rt+J[13],B[14]=J[2]*Ot+J[6]*bt+J[10]*Rt+J[14],B[15]=J[3]*Ot+J[7]*bt+J[11]*Rt+J[15]):(It=J[0],st=J[1],Q=J[2],ct=J[3],vt=J[4],ft=J[5],_t=J[6],yt=J[7],Ct=J[8],Pt=J[9],Dt=J[10],At=J[11],B[0]=It,B[1]=st,B[2]=Q,B[3]=ct,B[4]=vt,B[5]=ft,B[6]=_t,B[7]=yt,B[8]=Ct,B[9]=Pt,B[10]=Dt,B[11]=At,B[12]=It*Ot+vt*bt+Ct*Rt+J[12],B[13]=st*Ot+ft*bt+Pt*Rt+J[13],B[14]=Q*Ot+_t*bt+Dt*Rt+J[14],B[15]=ct*Ot+yt*bt+At*Rt+J[15]),B}function f(B,J,pt){var Ot=pt[0],bt=pt[1],Rt=pt[2];return B[0]=J[0]*Ot,B[1]=J[1]*Ot,B[2]=J[2]*Ot,B[3]=J[3]*Ot,B[4]=J[4]*bt,B[5]=J[5]*bt,B[6]=J[6]*bt,B[7]=J[7]*bt,B[8]=J[8]*Rt,B[9]=J[9]*Rt,B[10]=J[10]*Rt,B[11]=J[11]*Rt,B[12]=J[12],B[13]=J[13],B[14]=J[14],B[15]=J[15],B}function y(B,J,pt,Ot){var bt=Ot[0],Rt=Ot[1],It=Ot[2],st=Math.sqrt(bt*bt+Rt*Rt+It*It),Q,ct,vt,ft,_t,yt,Ct,Pt,Dt,At,Ut,Bt,zt,jt,Yt,te,re,ee,Gt,ve,de,ye,_e,me;return st<u.Ib?null:(st=1/st,bt*=st,Rt*=st,It*=st,Q=Math.sin(pt),ct=Math.cos(pt),vt=1-ct,ft=J[0],_t=J[1],yt=J[2],Ct=J[3],Pt=J[4],Dt=J[5],At=J[6],Ut=J[7],Bt=J[8],zt=J[9],jt=J[10],Yt=J[11],te=bt*bt*vt+ct,re=Rt*bt*vt+It*Q,ee=It*bt*vt-Rt*Q,Gt=bt*Rt*vt-It*Q,ve=Rt*Rt*vt+ct,de=It*Rt*vt+bt*Q,ye=bt*It*vt+Rt*Q,_e=Rt*It*vt-bt*Q,me=It*It*vt+ct,B[0]=ft*te+Pt*re+Bt*ee,B[1]=_t*te+Dt*re+zt*ee,B[2]=yt*te+At*re+jt*ee,B[3]=Ct*te+Ut*re+Yt*ee,B[4]=ft*Gt+Pt*ve+Bt*de,B[5]=_t*Gt+Dt*ve+zt*de,B[6]=yt*Gt+At*ve+jt*de,B[7]=Ct*Gt+Ut*ve+Yt*de,B[8]=ft*ye+Pt*_e+Bt*me,B[9]=_t*ye+Dt*_e+zt*me,B[10]=yt*ye+At*_e+jt*me,B[11]=Ct*ye+Ut*_e+Yt*me,J!==B&&(B[12]=J[12],B[13]=J[13],B[14]=J[14],B[15]=J[15]),B)}function E(B,J,pt){var Ot=Math.sin(pt),bt=Math.cos(pt),Rt=J[4],It=J[5],st=J[6],Q=J[7],ct=J[8],vt=J[9],ft=J[10],_t=J[11];return J!==B&&(B[0]=J[0],B[1]=J[1],B[2]=J[2],B[3]=J[3],B[12]=J[12],B[13]=J[13],B[14]=J[14],B[15]=J[15]),B[4]=Rt*bt+ct*Ot,B[5]=It*bt+vt*Ot,B[6]=st*bt+ft*Ot,B[7]=Q*bt+_t*Ot,B[8]=ct*bt-Rt*Ot,B[9]=vt*bt-It*Ot,B[10]=ft*bt-st*Ot,B[11]=_t*bt-Q*Ot,B}function e(B,J,pt){var Ot=Math.sin(pt),bt=Math.cos(pt),Rt=J[0],It=J[1],st=J[2],Q=J[3],ct=J[8],vt=J[9],ft=J[10],_t=J[11];return J!==B&&(B[4]=J[4],B[5]=J[5],B[6]=J[6],B[7]=J[7],B[12]=J[12],B[13]=J[13],B[14]=J[14],B[15]=J[15]),B[0]=Rt*bt-ct*Ot,B[1]=It*bt-vt*Ot,B[2]=st*bt-ft*Ot,B[3]=Q*bt-_t*Ot,B[8]=Rt*Ot+ct*bt,B[9]=It*Ot+vt*bt,B[10]=st*Ot+ft*bt,B[11]=Q*Ot+_t*bt,B}function i(B,J,pt){var Ot=Math.sin(pt),bt=Math.cos(pt),Rt=J[0],It=J[1],st=J[2],Q=J[3],ct=J[4],vt=J[5],ft=J[6],_t=J[7];return J!==B&&(B[8]=J[8],B[9]=J[9],B[10]=J[10],B[11]=J[11],B[12]=J[12],B[13]=J[13],B[14]=J[14],B[15]=J[15]),B[0]=Rt*bt+ct*Ot,B[1]=It*bt+vt*Ot,B[2]=st*bt+ft*Ot,B[3]=Q*bt+_t*Ot,B[4]=ct*bt-Rt*Ot,B[5]=vt*bt-It*Ot,B[6]=ft*bt-st*Ot,B[7]=_t*bt-Q*Ot,B}function n(B,J){return B[0]=1,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=1,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=1,B[11]=0,B[12]=J[0],B[13]=J[1],B[14]=J[2],B[15]=1,B}function l(B,J){return B[0]=J[0],B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=J[1],B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=J[2],B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}function O(B,J,pt){var Ot=pt[0],bt=pt[1],Rt=pt[2],It=Math.sqrt(Ot*Ot+bt*bt+Rt*Rt),st,Q,ct;return It<u.Ib?null:(It=1/It,Ot*=It,bt*=It,Rt*=It,st=Math.sin(J),Q=Math.cos(J),ct=1-Q,B[0]=Ot*Ot*ct+Q,B[1]=bt*Ot*ct+Rt*st,B[2]=Rt*Ot*ct-bt*st,B[3]=0,B[4]=Ot*bt*ct-Rt*st,B[5]=bt*bt*ct+Q,B[6]=Rt*bt*ct+Ot*st,B[7]=0,B[8]=Ot*Rt*ct+bt*st,B[9]=bt*Rt*ct-Ot*st,B[10]=Rt*Rt*ct+Q,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B)}function C(B,J){var pt=Math.sin(J),Ot=Math.cos(J);return B[0]=1,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=Ot,B[6]=pt,B[7]=0,B[8]=0,B[9]=-pt,B[10]=Ot,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}function T(B,J){var pt=Math.sin(J),Ot=Math.cos(J);return B[0]=Ot,B[1]=0,B[2]=-pt,B[3]=0,B[4]=0,B[5]=1,B[6]=0,B[7]=0,B[8]=pt,B[9]=0,B[10]=Ot,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}function P(B,J){var pt=Math.sin(J),Ot=Math.cos(J);return B[0]=Ot,B[1]=pt,B[2]=0,B[3]=0,B[4]=-pt,B[5]=Ot,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=1,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}function b(B,J,pt){var Ot=J[0],bt=J[1],Rt=J[2],It=J[3],st=Ot+Ot,Q=bt+bt,ct=Rt+Rt,vt=Ot*st,ft=Ot*Q,_t=Ot*ct,yt=bt*Q,Ct=bt*ct,Pt=Rt*ct,Dt=It*st,At=It*Q,Ut=It*ct;return B[0]=1-(yt+Pt),B[1]=ft+Ut,B[2]=_t-At,B[3]=0,B[4]=ft-Ut,B[5]=1-(vt+Pt),B[6]=Ct+Dt,B[7]=0,B[8]=_t+At,B[9]=Ct-Dt,B[10]=1-(vt+yt),B[11]=0,B[12]=pt[0],B[13]=pt[1],B[14]=pt[2],B[15]=1,B}function x(B,J){var pt=new u.WT(3),Ot=-J[0],bt=-J[1],Rt=-J[2],It=J[3],st=J[4],Q=J[5],ct=J[6],vt=J[7],ft=Ot*Ot+bt*bt+Rt*Rt+It*It;return ft>0?(pt[0]=(st*It+vt*Ot+Q*Rt-ct*bt)*2/ft,pt[1]=(Q*It+vt*bt+ct*Ot-st*Rt)*2/ft,pt[2]=(ct*It+vt*Rt+st*bt-Q*Ot)*2/ft):(pt[0]=(st*It+vt*Ot+Q*Rt-ct*bt)*2,pt[1]=(Q*It+vt*bt+ct*Ot-st*Rt)*2,pt[2]=(ct*It+vt*Rt+st*bt-Q*Ot)*2),b(B,J,pt),B}function I(B,J){return B[0]=J[12],B[1]=J[13],B[2]=J[14],B}function S(B,J){var pt=J[0],Ot=J[1],bt=J[2],Rt=J[4],It=J[5],st=J[6],Q=J[8],ct=J[9],vt=J[10];return B[0]=Math.sqrt(pt*pt+Ot*Ot+bt*bt),B[1]=Math.sqrt(Rt*Rt+It*It+st*st),B[2]=Math.sqrt(Q*Q+ct*ct+vt*vt),B}function K(B,J){var pt=new u.WT(3);S(pt,J);var Ot=1/pt[0],bt=1/pt[1],Rt=1/pt[2],It=J[0]*Ot,st=J[1]*bt,Q=J[2]*Rt,ct=J[4]*Ot,vt=J[5]*bt,ft=J[6]*Rt,_t=J[8]*Ot,yt=J[9]*bt,Ct=J[10]*Rt,Pt=It+vt+Ct,Dt=0;return Pt>0?(Dt=Math.sqrt(Pt+1)*2,B[3]=.25*Dt,B[0]=(ft-yt)/Dt,B[1]=(_t-Q)/Dt,B[2]=(st-ct)/Dt):It>vt&&It>Ct?(Dt=Math.sqrt(1+It-vt-Ct)*2,B[3]=(ft-yt)/Dt,B[0]=.25*Dt,B[1]=(st+ct)/Dt,B[2]=(_t+Q)/Dt):vt>Ct?(Dt=Math.sqrt(1+vt-It-Ct)*2,B[3]=(_t-Q)/Dt,B[0]=(st+ct)/Dt,B[1]=.25*Dt,B[2]=(ft+yt)/Dt):(Dt=Math.sqrt(1+Ct-It-vt)*2,B[3]=(st-ct)/Dt,B[0]=(_t+Q)/Dt,B[1]=(ft+yt)/Dt,B[2]=.25*Dt),B}function N(B,J,pt,Ot){J[0]=Ot[12],J[1]=Ot[13],J[2]=Ot[14];var bt=Ot[0],Rt=Ot[1],It=Ot[2],st=Ot[4],Q=Ot[5],ct=Ot[6],vt=Ot[8],ft=Ot[9],_t=Ot[10];pt[0]=Math.sqrt(bt*bt+Rt*Rt+It*It),pt[1]=Math.sqrt(st*st+Q*Q+ct*ct),pt[2]=Math.sqrt(vt*vt+ft*ft+_t*_t);var yt=1/pt[0],Ct=1/pt[1],Pt=1/pt[2],Dt=bt*yt,At=Rt*Ct,Ut=It*Pt,Bt=st*yt,zt=Q*Ct,jt=ct*Pt,Yt=vt*yt,te=ft*Ct,re=_t*Pt,ee=Dt+zt+re,Gt=0;return ee>0?(Gt=Math.sqrt(ee+1)*2,B[3]=.25*Gt,B[0]=(jt-te)/Gt,B[1]=(Yt-Ut)/Gt,B[2]=(At-Bt)/Gt):Dt>zt&&Dt>re?(Gt=Math.sqrt(1+Dt-zt-re)*2,B[3]=(jt-te)/Gt,B[0]=.25*Gt,B[1]=(At+Bt)/Gt,B[2]=(Yt+Ut)/Gt):zt>re?(Gt=Math.sqrt(1+zt-Dt-re)*2,B[3]=(Yt-Ut)/Gt,B[0]=(At+Bt)/Gt,B[1]=.25*Gt,B[2]=(jt+te)/Gt):(Gt=Math.sqrt(1+re-Dt-zt)*2,B[3]=(At-Bt)/Gt,B[0]=(Yt+Ut)/Gt,B[1]=(jt+te)/Gt,B[2]=.25*Gt),B}function z(B,J,pt,Ot){var bt=J[0],Rt=J[1],It=J[2],st=J[3],Q=bt+bt,ct=Rt+Rt,vt=It+It,ft=bt*Q,_t=bt*ct,yt=bt*vt,Ct=Rt*ct,Pt=Rt*vt,Dt=It*vt,At=st*Q,Ut=st*ct,Bt=st*vt,zt=Ot[0],jt=Ot[1],Yt=Ot[2];return B[0]=(1-(Ct+Dt))*zt,B[1]=(_t+Bt)*zt,B[2]=(yt-Ut)*zt,B[3]=0,B[4]=(_t-Bt)*jt,B[5]=(1-(ft+Dt))*jt,B[6]=(Pt+At)*jt,B[7]=0,B[8]=(yt+Ut)*Yt,B[9]=(Pt-At)*Yt,B[10]=(1-(ft+Ct))*Yt,B[11]=0,B[12]=pt[0],B[13]=pt[1],B[14]=pt[2],B[15]=1,B}function j(B,J,pt,Ot,bt){var Rt=J[0],It=J[1],st=J[2],Q=J[3],ct=Rt+Rt,vt=It+It,ft=st+st,_t=Rt*ct,yt=Rt*vt,Ct=Rt*ft,Pt=It*vt,Dt=It*ft,At=st*ft,Ut=Q*ct,Bt=Q*vt,zt=Q*ft,jt=Ot[0],Yt=Ot[1],te=Ot[2],re=bt[0],ee=bt[1],Gt=bt[2],ve=(1-(Pt+At))*jt,de=(yt+zt)*jt,ye=(Ct-Bt)*jt,_e=(yt-zt)*Yt,me=(1-(_t+At))*Yt,be=(Dt+Ut)*Yt,Ie=(Ct+Bt)*te,pe=(Dt-Ut)*te,Ye=(1-(_t+Pt))*te;return B[0]=ve,B[1]=de,B[2]=ye,B[3]=0,B[4]=_e,B[5]=me,B[6]=be,B[7]=0,B[8]=Ie,B[9]=pe,B[10]=Ye,B[11]=0,B[12]=pt[0]+re-(ve*re+_e*ee+Ie*Gt),B[13]=pt[1]+ee-(de*re+me*ee+pe*Gt),B[14]=pt[2]+Gt-(ye*re+be*ee+Ye*Gt),B[15]=1,B}function W(B,J){var pt=J[0],Ot=J[1],bt=J[2],Rt=J[3],It=pt+pt,st=Ot+Ot,Q=bt+bt,ct=pt*It,vt=Ot*It,ft=Ot*st,_t=bt*It,yt=bt*st,Ct=bt*Q,Pt=Rt*It,Dt=Rt*st,At=Rt*Q;return B[0]=1-ft-Ct,B[1]=vt+At,B[2]=_t-Dt,B[3]=0,B[4]=vt-At,B[5]=1-ct-Ct,B[6]=yt+Pt,B[7]=0,B[8]=_t+Dt,B[9]=yt-Pt,B[10]=1-ct-ft,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}function U(B,J,pt,Ot,bt,Rt,It){var st=1/(pt-J),Q=1/(bt-Ot),ct=1/(Rt-It);return B[0]=Rt*2*st,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=Rt*2*Q,B[6]=0,B[7]=0,B[8]=(pt+J)*st,B[9]=(bt+Ot)*Q,B[10]=(It+Rt)*ct,B[11]=-1,B[12]=0,B[13]=0,B[14]=It*Rt*2*ct,B[15]=0,B}function F(B,J,pt,Ot,bt){var Rt=1/Math.tan(J/2);if(B[0]=Rt/pt,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=Rt,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[11]=-1,B[12]=0,B[13]=0,B[15]=0,bt!=null&&bt!==1/0){var It=1/(Ot-bt);B[10]=(bt+Ot)*It,B[14]=2*bt*Ot*It}else B[10]=-1,B[14]=-2*Ot;return B}var H=F;function Y(B,J,pt,Ot,bt){var Rt=1/Math.tan(J/2);if(B[0]=Rt/pt,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=Rt,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[11]=-1,B[12]=0,B[13]=0,B[15]=0,bt!=null&&bt!==1/0){var It=1/(Ot-bt);B[10]=bt*It,B[14]=bt*Ot*It}else B[10]=-1,B[14]=-Ot;return B}function V(B,J,pt,Ot){var bt=Math.tan(J.upDegrees*Math.PI/180),Rt=Math.tan(J.downDegrees*Math.PI/180),It=Math.tan(J.leftDegrees*Math.PI/180),st=Math.tan(J.rightDegrees*Math.PI/180),Q=2/(It+st),ct=2/(bt+Rt);return B[0]=Q,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=ct,B[6]=0,B[7]=0,B[8]=-((It-st)*Q*.5),B[9]=(bt-Rt)*ct*.5,B[10]=Ot/(pt-Ot),B[11]=-1,B[12]=0,B[13]=0,B[14]=Ot*pt/(pt-Ot),B[15]=0,B}function X(B,J,pt,Ot,bt,Rt,It){var st=1/(J-pt),Q=1/(Ot-bt),ct=1/(Rt-It);return B[0]=-2*st,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=-2*Q,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=2*ct,B[11]=0,B[12]=(J+pt)*st,B[13]=(bt+Ot)*Q,B[14]=(It+Rt)*ct,B[15]=1,B}var $=X;function rt(B,J,pt,Ot,bt,Rt,It){var st=1/(J-pt),Q=1/(Ot-bt),ct=1/(Rt-It);return B[0]=-2*st,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=-2*Q,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=ct,B[11]=0,B[12]=(J+pt)*st,B[13]=(bt+Ot)*Q,B[14]=Rt*ct,B[15]=1,B}function ot(B,J,pt,Ot){var bt,Rt,It,st,Q,ct,vt,ft,_t,yt,Ct=J[0],Pt=J[1],Dt=J[2],At=Ot[0],Ut=Ot[1],Bt=Ot[2],zt=pt[0],jt=pt[1],Yt=pt[2];return Math.abs(Ct-zt)<u.Ib&&Math.abs(Pt-jt)<u.Ib&&Math.abs(Dt-Yt)<u.Ib?h(B):(vt=Ct-zt,ft=Pt-jt,_t=Dt-Yt,yt=1/Math.sqrt(vt*vt+ft*ft+_t*_t),vt*=yt,ft*=yt,_t*=yt,bt=Ut*_t-Bt*ft,Rt=Bt*vt-At*_t,It=At*ft-Ut*vt,yt=Math.sqrt(bt*bt+Rt*Rt+It*It),yt?(yt=1/yt,bt*=yt,Rt*=yt,It*=yt):(bt=0,Rt=0,It=0),st=ft*It-_t*Rt,Q=_t*bt-vt*It,ct=vt*Rt-ft*bt,yt=Math.sqrt(st*st+Q*Q+ct*ct),yt?(yt=1/yt,st*=yt,Q*=yt,ct*=yt):(st=0,Q=0,ct=0),B[0]=bt,B[1]=st,B[2]=vt,B[3]=0,B[4]=Rt,B[5]=Q,B[6]=ft,B[7]=0,B[8]=It,B[9]=ct,B[10]=_t,B[11]=0,B[12]=-(bt*Ct+Rt*Pt+It*Dt),B[13]=-(st*Ct+Q*Pt+ct*Dt),B[14]=-(vt*Ct+ft*Pt+_t*Dt),B[15]=1,B)}function tt(B,J,pt,Ot){var bt=J[0],Rt=J[1],It=J[2],st=Ot[0],Q=Ot[1],ct=Ot[2],vt=bt-pt[0],ft=Rt-pt[1],_t=It-pt[2],yt=vt*vt+ft*ft+_t*_t;yt>0&&(yt=1/Math.sqrt(yt),vt*=yt,ft*=yt,_t*=yt);var Ct=Q*_t-ct*ft,Pt=ct*vt-st*_t,Dt=st*ft-Q*vt;return yt=Ct*Ct+Pt*Pt+Dt*Dt,yt>0&&(yt=1/Math.sqrt(yt),Ct*=yt,Pt*=yt,Dt*=yt),B[0]=Ct,B[1]=Pt,B[2]=Dt,B[3]=0,B[4]=ft*Dt-_t*Pt,B[5]=_t*Ct-vt*Dt,B[6]=vt*Pt-ft*Ct,B[7]=0,B[8]=vt,B[9]=ft,B[10]=_t,B[11]=0,B[12]=bt,B[13]=Rt,B[14]=It,B[15]=1,B}function G(B){return"mat4("+B[0]+", "+B[1]+", "+B[2]+", "+B[3]+", "+B[4]+", "+B[5]+", "+B[6]+", "+B[7]+", "+B[8]+", "+B[9]+", "+B[10]+", "+B[11]+", "+B[12]+", "+B[13]+", "+B[14]+", "+B[15]+")"}function nt(B){return Math.sqrt(B[0]*B[0]+B[1]*B[1]+B[2]*B[2]+B[3]*B[3]+B[4]*B[4]+B[5]*B[5]+B[6]*B[6]+B[7]*B[7]+B[8]*B[8]+B[9]*B[9]+B[10]*B[10]+B[11]*B[11]+B[12]*B[12]+B[13]*B[13]+B[14]*B[14]+B[15]*B[15])}function ut(B,J,pt){return B[0]=J[0]+pt[0],B[1]=J[1]+pt[1],B[2]=J[2]+pt[2],B[3]=J[3]+pt[3],B[4]=J[4]+pt[4],B[5]=J[5]+pt[5],B[6]=J[6]+pt[6],B[7]=J[7]+pt[7],B[8]=J[8]+pt[8],B[9]=J[9]+pt[9],B[10]=J[10]+pt[10],B[11]=J[11]+pt[11],B[12]=J[12]+pt[12],B[13]=J[13]+pt[13],B[14]=J[14]+pt[14],B[15]=J[15]+pt[15],B}function dt(B,J,pt){return B[0]=J[0]-pt[0],B[1]=J[1]-pt[1],B[2]=J[2]-pt[2],B[3]=J[3]-pt[3],B[4]=J[4]-pt[4],B[5]=J[5]-pt[5],B[6]=J[6]-pt[6],B[7]=J[7]-pt[7],B[8]=J[8]-pt[8],B[9]=J[9]-pt[9],B[10]=J[10]-pt[10],B[11]=J[11]-pt[11],B[12]=J[12]-pt[12],B[13]=J[13]-pt[13],B[14]=J[14]-pt[14],B[15]=J[15]-pt[15],B}function et(B,J,pt){return B[0]=J[0]*pt,B[1]=J[1]*pt,B[2]=J[2]*pt,B[3]=J[3]*pt,B[4]=J[4]*pt,B[5]=J[5]*pt,B[6]=J[6]*pt,B[7]=J[7]*pt,B[8]=J[8]*pt,B[9]=J[9]*pt,B[10]=J[10]*pt,B[11]=J[11]*pt,B[12]=J[12]*pt,B[13]=J[13]*pt,B[14]=J[14]*pt,B[15]=J[15]*pt,B}function gt(B,J,pt,Ot){return B[0]=J[0]+pt[0]*Ot,B[1]=J[1]+pt[1]*Ot,B[2]=J[2]+pt[2]*Ot,B[3]=J[3]+pt[3]*Ot,B[4]=J[4]+pt[4]*Ot,B[5]=J[5]+pt[5]*Ot,B[6]=J[6]+pt[6]*Ot,B[7]=J[7]+pt[7]*Ot,B[8]=J[8]+pt[8]*Ot,B[9]=J[9]+pt[9]*Ot,B[10]=J[10]+pt[10]*Ot,B[11]=J[11]+pt[11]*Ot,B[12]=J[12]+pt[12]*Ot,B[13]=J[13]+pt[13]*Ot,B[14]=J[14]+pt[14]*Ot,B[15]=J[15]+pt[15]*Ot,B}function Et(B,J){return B[0]===J[0]&&B[1]===J[1]&&B[2]===J[2]&&B[3]===J[3]&&B[4]===J[4]&&B[5]===J[5]&&B[6]===J[6]&&B[7]===J[7]&&B[8]===J[8]&&B[9]===J[9]&&B[10]===J[10]&&B[11]===J[11]&&B[12]===J[12]&&B[13]===J[13]&&B[14]===J[14]&&B[15]===J[15]}function lt(B,J){var pt=B[0],Ot=B[1],bt=B[2],Rt=B[3],It=B[4],st=B[5],Q=B[6],ct=B[7],vt=B[8],ft=B[9],_t=B[10],yt=B[11],Ct=B[12],Pt=B[13],Dt=B[14],At=B[15],Ut=J[0],Bt=J[1],zt=J[2],jt=J[3],Yt=J[4],te=J[5],re=J[6],ee=J[7],Gt=J[8],ve=J[9],de=J[10],ye=J[11],_e=J[12],me=J[13],be=J[14],Ie=J[15];return Math.abs(pt-Ut)<=u.Ib*Math.max(1,Math.abs(pt),Math.abs(Ut))&&Math.abs(Ot-Bt)<=u.Ib*Math.max(1,Math.abs(Ot),Math.abs(Bt))&&Math.abs(bt-zt)<=u.Ib*Math.max(1,Math.abs(bt),Math.abs(zt))&&Math.abs(Rt-jt)<=u.Ib*Math.max(1,Math.abs(Rt),Math.abs(jt))&&Math.abs(It-Yt)<=u.Ib*Math.max(1,Math.abs(It),Math.abs(Yt))&&Math.abs(st-te)<=u.Ib*Math.max(1,Math.abs(st),Math.abs(te))&&Math.abs(Q-re)<=u.Ib*Math.max(1,Math.abs(Q),Math.abs(re))&&Math.abs(ct-ee)<=u.Ib*Math.max(1,Math.abs(ct),Math.abs(ee))&&Math.abs(vt-Gt)<=u.Ib*Math.max(1,Math.abs(vt),Math.abs(Gt))&&Math.abs(ft-ve)<=u.Ib*Math.max(1,Math.abs(ft),Math.abs(ve))&&Math.abs(_t-de)<=u.Ib*Math.max(1,Math.abs(_t),Math.abs(de))&&Math.abs(yt-ye)<=u.Ib*Math.max(1,Math.abs(yt),Math.abs(ye))&&Math.abs(Ct-_e)<=u.Ib*Math.max(1,Math.abs(Ct),Math.abs(_e))&&Math.abs(Pt-me)<=u.Ib*Math.max(1,Math.abs(Pt),Math.abs(me))&&Math.abs(Dt-be)<=u.Ib*Math.max(1,Math.abs(Dt),Math.abs(be))&&Math.abs(At-Ie)<=u.Ib*Math.max(1,Math.abs(At),Math.abs(Ie))}var mt=o,Tt=dt},10953:function(it,w,t){"use strict";t.d(w,{Fv:function(){return V},JG:function(){return I},Jp:function(){return r},Su:function(){return T},U_:function(){return l},Ue:function(){return m},al:function(){return x},dC:function(){return N},t8:function(){return S},yY:function(){return h}});var u=t(19537),D=t(61899),p=t(35136),M=t(72647);function m(){var G=new u.WT(4);return u.WT!=Float32Array&&(G[0]=0,G[1]=0,G[2]=0),G[3]=1,G}function c(G){return G[0]=0,G[1]=0,G[2]=0,G[3]=1,G}function h(G,nt,ut){ut=ut*.5;var dt=Math.sin(ut);return G[0]=dt*nt[0],G[1]=dt*nt[1],G[2]=dt*nt[2],G[3]=Math.cos(ut),G}function v(G,nt){var ut=Math.acos(nt[3])*2,dt=Math.sin(ut/2);return dt>glMatrix.EPSILON?(G[0]=nt[0]/dt,G[1]=nt[1]/dt,G[2]=nt[2]/dt):(G[0]=1,G[1]=0,G[2]=0),ut}function a(G,nt){var ut=j(G,nt);return Math.acos(2*ut*ut-1)}function r(G,nt,ut){var dt=nt[0],et=nt[1],gt=nt[2],Et=nt[3],lt=ut[0],mt=ut[1],Tt=ut[2],B=ut[3];return G[0]=dt*B+Et*lt+et*Tt-gt*mt,G[1]=et*B+Et*mt+gt*lt-dt*Tt,G[2]=gt*B+Et*Tt+dt*mt-et*lt,G[3]=Et*B-dt*lt-et*mt-gt*Tt,G}function s(G,nt,ut){ut*=.5;var dt=nt[0],et=nt[1],gt=nt[2],Et=nt[3],lt=Math.sin(ut),mt=Math.cos(ut);return G[0]=dt*mt+Et*lt,G[1]=et*mt+gt*lt,G[2]=gt*mt-et*lt,G[3]=Et*mt-dt*lt,G}function o(G,nt,ut){ut*=.5;var dt=nt[0],et=nt[1],gt=nt[2],Et=nt[3],lt=Math.sin(ut),mt=Math.cos(ut);return G[0]=dt*mt-gt*lt,G[1]=et*mt+Et*lt,G[2]=gt*mt+dt*lt,G[3]=Et*mt-et*lt,G}function d(G,nt,ut){ut*=.5;var dt=nt[0],et=nt[1],gt=nt[2],Et=nt[3],lt=Math.sin(ut),mt=Math.cos(ut);return G[0]=dt*mt+et*lt,G[1]=et*mt-dt*lt,G[2]=gt*mt+Et*lt,G[3]=Et*mt-gt*lt,G}function f(G,nt){var ut=nt[0],dt=nt[1],et=nt[2];return G[0]=ut,G[1]=dt,G[2]=et,G[3]=Math.sqrt(Math.abs(1-ut*ut-dt*dt-et*et)),G}function y(G,nt){var ut=nt[0],dt=nt[1],et=nt[2],gt=nt[3],Et=Math.sqrt(ut*ut+dt*dt+et*et),lt=Math.exp(gt),mt=Et>0?lt*Math.sin(Et)/Et:0;return G[0]=ut*mt,G[1]=dt*mt,G[2]=et*mt,G[3]=lt*Math.cos(Et),G}function E(G,nt){var ut=nt[0],dt=nt[1],et=nt[2],gt=nt[3],Et=Math.sqrt(ut*ut+dt*dt+et*et),lt=Et>0?Math.atan2(Et,gt)/Et:0;return G[0]=ut*lt,G[1]=dt*lt,G[2]=et*lt,G[3]=.5*Math.log(ut*ut+dt*dt+et*et+gt*gt),G}function e(G,nt,ut){return E(G,nt),z(G,G,ut),y(G,G),G}function i(G,nt,ut,dt){var et=nt[0],gt=nt[1],Et=nt[2],lt=nt[3],mt=ut[0],Tt=ut[1],B=ut[2],J=ut[3],pt,Ot,bt,Rt,It;return Ot=et*mt+gt*Tt+Et*B+lt*J,Ot<0&&(Ot=-Ot,mt=-mt,Tt=-Tt,B=-B,J=-J),1-Ot>u.Ib?(pt=Math.acos(Ot),bt=Math.sin(pt),Rt=Math.sin((1-dt)*pt)/bt,It=Math.sin(dt*pt)/bt):(Rt=1-dt,It=dt),G[0]=Rt*et+It*mt,G[1]=Rt*gt+It*Tt,G[2]=Rt*Et+It*B,G[3]=Rt*lt+It*J,G}function n(G){var nt=glMatrix.RANDOM(),ut=glMatrix.RANDOM(),dt=glMatrix.RANDOM(),et=Math.sqrt(1-nt),gt=Math.sqrt(nt);return G[0]=et*Math.sin(2*Math.PI*ut),G[1]=et*Math.cos(2*Math.PI*ut),G[2]=gt*Math.sin(2*Math.PI*dt),G[3]=gt*Math.cos(2*Math.PI*dt),G}function l(G,nt){var ut=nt[0],dt=nt[1],et=nt[2],gt=nt[3],Et=ut*ut+dt*dt+et*et+gt*gt,lt=Et?1/Et:0;return G[0]=-ut*lt,G[1]=-dt*lt,G[2]=-et*lt,G[3]=gt*lt,G}function O(G,nt){return G[0]=-nt[0],G[1]=-nt[1],G[2]=-nt[2],G[3]=nt[3],G}function C(G,nt){var ut=nt[0]+nt[4]+nt[8],dt;if(ut>0)dt=Math.sqrt(ut+1),G[3]=.5*dt,dt=.5/dt,G[0]=(nt[5]-nt[7])*dt,G[1]=(nt[6]-nt[2])*dt,G[2]=(nt[1]-nt[3])*dt;else{var et=0;nt[4]>nt[0]&&(et=1),nt[8]>nt[et*3+et]&&(et=2);var gt=(et+1)%3,Et=(et+2)%3;dt=Math.sqrt(nt[et*3+et]-nt[gt*3+gt]-nt[Et*3+Et]+1),G[et]=.5*dt,dt=.5/dt,G[3]=(nt[gt*3+Et]-nt[Et*3+gt])*dt,G[gt]=(nt[gt*3+et]+nt[et*3+gt])*dt,G[Et]=(nt[Et*3+et]+nt[et*3+Et])*dt}return G}function T(G,nt,ut,dt){var et=arguments.length>4&&arguments[4]!==void 0?arguments[4]:u.yy,gt=Math.PI/360;nt*=gt,dt*=gt,ut*=gt;var Et=Math.sin(nt),lt=Math.cos(nt),mt=Math.sin(ut),Tt=Math.cos(ut),B=Math.sin(dt),J=Math.cos(dt);switch(et){case"xyz":G[0]=Et*Tt*J+lt*mt*B,G[1]=lt*mt*J-Et*Tt*B,G[2]=lt*Tt*B+Et*mt*J,G[3]=lt*Tt*J-Et*mt*B;break;case"xzy":G[0]=Et*Tt*J-lt*mt*B,G[1]=lt*mt*J-Et*Tt*B,G[2]=lt*Tt*B+Et*mt*J,G[3]=lt*Tt*J+Et*mt*B;break;case"yxz":G[0]=Et*Tt*J+lt*mt*B,G[1]=lt*mt*J-Et*Tt*B,G[2]=lt*Tt*B-Et*mt*J,G[3]=lt*Tt*J+Et*mt*B;break;case"yzx":G[0]=Et*Tt*J+lt*mt*B,G[1]=lt*mt*J+Et*Tt*B,G[2]=lt*Tt*B-Et*mt*J,G[3]=lt*Tt*J-Et*mt*B;break;case"zxy":G[0]=Et*Tt*J-lt*mt*B,G[1]=lt*mt*J+Et*Tt*B,G[2]=lt*Tt*B+Et*mt*J,G[3]=lt*Tt*J-Et*mt*B;break;case"zyx":G[0]=Et*Tt*J-lt*mt*B,G[1]=lt*mt*J+Et*Tt*B,G[2]=lt*Tt*B-Et*mt*J,G[3]=lt*Tt*J+Et*mt*B;break;default:throw new Error("Unknown angle order "+et)}return G}function P(G){return"quat("+G[0]+", "+G[1]+", "+G[2]+", "+G[3]+")"}var b=M.d9,x=M.al,I=M.JG,S=M.t8,K=M.IH,N=r,z=M.bA,j=M.AK,W=M.t7,U=M.kE,F=null,H=M.we,Y=null,V=M.Fv,X=M.I6;function $(G,nt){return Math.abs(vec4.dot(G,nt))>=1-glMatrix.EPSILON}var rt=function(){var G=p.Ue(),nt=p.al(1,0,0),ut=p.al(0,1,0);return function(dt,et,gt){var Et=p.AK(et,gt);return Et<-.999999?(p.kC(G,nt,et),p.Zh(G)<1e-6&&p.kC(G,ut,et),p.Fv(G,G),h(dt,G,Math.PI),dt):Et>.999999?(dt[0]=0,dt[1]=0,dt[2]=0,dt[3]=1,dt):(p.kC(G,et,gt),dt[0]=G[0],dt[1]=G[1],dt[2]=G[2],dt[3]=1+Et,V(dt,dt))}}(),ot=function(){var G=m(),nt=m();return function(ut,dt,et,gt,Et,lt){return i(G,dt,Et,lt),i(nt,et,gt,lt),i(ut,G,nt,2*lt*(1-lt)),ut}}(),tt=function(){var G=D.Ue();return function(nt,ut,dt,et){return G[0]=dt[0],G[3]=dt[1],G[6]=dt[2],G[1]=et[0],G[4]=et[1],G[7]=et[2],G[2]=-ut[0],G[5]=-ut[1],G[8]=-ut[2],V(nt,C(nt,G))}}()},75837:function(it,w,t){"use strict";t.d(w,{AK:function(){return b},Fv:function(){return P},I6:function(){return V},JG:function(){return m},Ue:function(){return D},t8:function(){return c}});var u=t(19537);function D(){var et=new u.WT(2);return u.WT!=Float32Array&&(et[0]=0,et[1]=0),et}function p(et){var gt=new glMatrix.ARRAY_TYPE(2);return gt[0]=et[0],gt[1]=et[1],gt}function M(et,gt){var Et=new glMatrix.ARRAY_TYPE(2);return Et[0]=et,Et[1]=gt,Et}function m(et,gt){return et[0]=gt[0],et[1]=gt[1],et}function c(et,gt,Et){return et[0]=gt,et[1]=Et,et}function h(et,gt,Et){return et[0]=gt[0]+Et[0],et[1]=gt[1]+Et[1],et}function v(et,gt,Et){return et[0]=gt[0]-Et[0],et[1]=gt[1]-Et[1],et}function a(et,gt,Et){return et[0]=gt[0]*Et[0],et[1]=gt[1]*Et[1],et}function r(et,gt,Et){return et[0]=gt[0]/Et[0],et[1]=gt[1]/Et[1],et}function s(et,gt){return et[0]=Math.ceil(gt[0]),et[1]=Math.ceil(gt[1]),et}function o(et,gt){return et[0]=Math.floor(gt[0]),et[1]=Math.floor(gt[1]),et}function d(et,gt,Et){return et[0]=Math.min(gt[0],Et[0]),et[1]=Math.min(gt[1],Et[1]),et}function f(et,gt,Et){return et[0]=Math.max(gt[0],Et[0]),et[1]=Math.max(gt[1],Et[1]),et}function y(et,gt){return et[0]=glMatrix.round(gt[0]),et[1]=glMatrix.round(gt[1]),et}function E(et,gt,Et){return et[0]=gt[0]*Et,et[1]=gt[1]*Et,et}function e(et,gt,Et,lt){return et[0]=gt[0]+Et[0]*lt,et[1]=gt[1]+Et[1]*lt,et}function i(et,gt){var Et=gt[0]-et[0],lt=gt[1]-et[1];return Math.sqrt(Et*Et+lt*lt)}function n(et,gt){var Et=gt[0]-et[0],lt=gt[1]-et[1];return Et*Et+lt*lt}function l(et){var gt=et[0],Et=et[1];return Math.sqrt(gt*gt+Et*Et)}function O(et){var gt=et[0],Et=et[1];return gt*gt+Et*Et}function C(et,gt){return et[0]=-gt[0],et[1]=-gt[1],et}function T(et,gt){return et[0]=1/gt[0],et[1]=1/gt[1],et}function P(et,gt){var Et=gt[0],lt=gt[1],mt=Et*Et+lt*lt;return mt>0&&(mt=1/Math.sqrt(mt)),et[0]=gt[0]*mt,et[1]=gt[1]*mt,et}function b(et,gt){return et[0]*gt[0]+et[1]*gt[1]}function x(et,gt,Et){var lt=gt[0]*Et[1]-gt[1]*Et[0];return et[0]=et[1]=0,et[2]=lt,et}function I(et,gt,Et,lt){var mt=gt[0],Tt=gt[1];return et[0]=mt+lt*(Et[0]-mt),et[1]=Tt+lt*(Et[1]-Tt),et}function S(et,gt){gt=gt===void 0?1:gt;var Et=glMatrix.RANDOM()*2*Math.PI;return et[0]=Math.cos(Et)*gt,et[1]=Math.sin(Et)*gt,et}function K(et,gt,Et){var lt=gt[0],mt=gt[1];return et[0]=Et[0]*lt+Et[2]*mt,et[1]=Et[1]*lt+Et[3]*mt,et}function N(et,gt,Et){var lt=gt[0],mt=gt[1];return et[0]=Et[0]*lt+Et[2]*mt+Et[4],et[1]=Et[1]*lt+Et[3]*mt+Et[5],et}function z(et,gt,Et){var lt=gt[0],mt=gt[1];return et[0]=Et[0]*lt+Et[3]*mt+Et[6],et[1]=Et[1]*lt+Et[4]*mt+Et[7],et}function j(et,gt,Et){var lt=gt[0],mt=gt[1];return et[0]=Et[0]*lt+Et[4]*mt+Et[12],et[1]=Et[1]*lt+Et[5]*mt+Et[13],et}function W(et,gt,Et,lt){var mt=gt[0]-Et[0],Tt=gt[1]-Et[1],B=Math.sin(lt),J=Math.cos(lt);return et[0]=mt*J-Tt*B+Et[0],et[1]=mt*B+Tt*J+Et[1],et}function U(et,gt){var Et=et[0],lt=et[1],mt=gt[0],Tt=gt[1];return Math.abs(Math.atan2(lt*mt-Et*Tt,Et*mt+lt*Tt))}function F(et,gt){var Et=et[0],lt=et[1],mt=gt[0],Tt=gt[1];return Math.atan2(Et*Tt-lt*mt,Et*mt+lt*Tt)}function H(et){return et[0]=0,et[1]=0,et}function Y(et){return"vec2("+et[0]+", "+et[1]+")"}function V(et,gt){return et[0]===gt[0]&&et[1]===gt[1]}function X(et,gt){var Et=et[0],lt=et[1],mt=gt[0],Tt=gt[1];return Math.abs(Et-mt)<=glMatrix.EPSILON*Math.max(1,Math.abs(Et),Math.abs(mt))&&Math.abs(lt-Tt)<=glMatrix.EPSILON*Math.max(1,Math.abs(lt),Math.abs(Tt))}var $=null,rt=null,ot=null,tt=null,G=null,nt=null,ut=null,dt=function(){var et=D();return function(gt,Et,lt,mt,Tt,B){var J,pt;for(Et||(Et=2),lt||(lt=0),mt?pt=Math.min(mt*Et+lt,gt.length):pt=gt.length,J=lt;J<pt;J+=Et)et[0]=gt[J],et[1]=gt[J+1],Tt(et,et,B),gt[J]=et[0],gt[J+1]=et[1];return gt}}()},35136:function(it,w,t){"use strict";t.d(w,{$X:function(){return a},AK:function(){return b},Fp:function(){return y},Fv:function(){return P},IH:function(){return v},JG:function(){return c},Jp:function(){return r},TK:function(){return ut},Ue:function(){return D},VC:function(){return U},VV:function(){return f},Zh:function(){return et},al:function(){return m},bA:function(){return e},d9:function(){return p},fF:function(){return j},fS:function(){return ot},kC:function(){return x},kE:function(){return M},kK:function(){return W},lu:function(){return tt},t7:function(){return I},t8:function(){return h}});var u=t(19537);function D(){var lt=new u.WT(3);return u.WT!=Float32Array&&(lt[0]=0,lt[1]=0,lt[2]=0),lt}function p(lt){var mt=new u.WT(3);return mt[0]=lt[0],mt[1]=lt[1],mt[2]=lt[2],mt}function M(lt){var mt=lt[0],Tt=lt[1],B=lt[2];return Math.sqrt(mt*mt+Tt*Tt+B*B)}function m(lt,mt,Tt){var B=new u.WT(3);return B[0]=lt,B[1]=mt,B[2]=Tt,B}function c(lt,mt){return lt[0]=mt[0],lt[1]=mt[1],lt[2]=mt[2],lt}function h(lt,mt,Tt,B){return lt[0]=mt,lt[1]=Tt,lt[2]=B,lt}function v(lt,mt,Tt){return lt[0]=mt[0]+Tt[0],lt[1]=mt[1]+Tt[1],lt[2]=mt[2]+Tt[2],lt}function a(lt,mt,Tt){return lt[0]=mt[0]-Tt[0],lt[1]=mt[1]-Tt[1],lt[2]=mt[2]-Tt[2],lt}function r(lt,mt,Tt){return lt[0]=mt[0]*Tt[0],lt[1]=mt[1]*Tt[1],lt[2]=mt[2]*Tt[2],lt}function s(lt,mt,Tt){return lt[0]=mt[0]/Tt[0],lt[1]=mt[1]/Tt[1],lt[2]=mt[2]/Tt[2],lt}function o(lt,mt){return lt[0]=Math.ceil(mt[0]),lt[1]=Math.ceil(mt[1]),lt[2]=Math.ceil(mt[2]),lt}function d(lt,mt){return lt[0]=Math.floor(mt[0]),lt[1]=Math.floor(mt[1]),lt[2]=Math.floor(mt[2]),lt}function f(lt,mt,Tt){return lt[0]=Math.min(mt[0],Tt[0]),lt[1]=Math.min(mt[1],Tt[1]),lt[2]=Math.min(mt[2],Tt[2]),lt}function y(lt,mt,Tt){return lt[0]=Math.max(mt[0],Tt[0]),lt[1]=Math.max(mt[1],Tt[1]),lt[2]=Math.max(mt[2],Tt[2]),lt}function E(lt,mt){return lt[0]=glMatrix.round(mt[0]),lt[1]=glMatrix.round(mt[1]),lt[2]=glMatrix.round(mt[2]),lt}function e(lt,mt,Tt){return lt[0]=mt[0]*Tt,lt[1]=mt[1]*Tt,lt[2]=mt[2]*Tt,lt}function i(lt,mt,Tt,B){return lt[0]=mt[0]+Tt[0]*B,lt[1]=mt[1]+Tt[1]*B,lt[2]=mt[2]+Tt[2]*B,lt}function n(lt,mt){var Tt=mt[0]-lt[0],B=mt[1]-lt[1],J=mt[2]-lt[2];return Math.sqrt(Tt*Tt+B*B+J*J)}function l(lt,mt){var Tt=mt[0]-lt[0],B=mt[1]-lt[1],J=mt[2]-lt[2];return Tt*Tt+B*B+J*J}function O(lt){var mt=lt[0],Tt=lt[1],B=lt[2];return mt*mt+Tt*Tt+B*B}function C(lt,mt){return lt[0]=-mt[0],lt[1]=-mt[1],lt[2]=-mt[2],lt}function T(lt,mt){return lt[0]=1/mt[0],lt[1]=1/mt[1],lt[2]=1/mt[2],lt}function P(lt,mt){var Tt=mt[0],B=mt[1],J=mt[2],pt=Tt*Tt+B*B+J*J;return pt>0&&(pt=1/Math.sqrt(pt)),lt[0]=mt[0]*pt,lt[1]=mt[1]*pt,lt[2]=mt[2]*pt,lt}function b(lt,mt){return lt[0]*mt[0]+lt[1]*mt[1]+lt[2]*mt[2]}function x(lt,mt,Tt){var B=mt[0],J=mt[1],pt=mt[2],Ot=Tt[0],bt=Tt[1],Rt=Tt[2];return lt[0]=J*Rt-pt*bt,lt[1]=pt*Ot-B*Rt,lt[2]=B*bt-J*Ot,lt}function I(lt,mt,Tt,B){var J=mt[0],pt=mt[1],Ot=mt[2];return lt[0]=J+B*(Tt[0]-J),lt[1]=pt+B*(Tt[1]-pt),lt[2]=Ot+B*(Tt[2]-Ot),lt}function S(lt,mt,Tt,B){var J=Math.acos(Math.min(Math.max(b(mt,Tt),-1),1)),pt=Math.sin(J),Ot=Math.sin((1-B)*J)/pt,bt=Math.sin(B*J)/pt;return lt[0]=Ot*mt[0]+bt*Tt[0],lt[1]=Ot*mt[1]+bt*Tt[1],lt[2]=Ot*mt[2]+bt*Tt[2],lt}function K(lt,mt,Tt,B,J,pt){var Ot=pt*pt,bt=Ot*(2*pt-3)+1,Rt=Ot*(pt-2)+pt,It=Ot*(pt-1),st=Ot*(3-2*pt);return lt[0]=mt[0]*bt+Tt[0]*Rt+B[0]*It+J[0]*st,lt[1]=mt[1]*bt+Tt[1]*Rt+B[1]*It+J[1]*st,lt[2]=mt[2]*bt+Tt[2]*Rt+B[2]*It+J[2]*st,lt}function N(lt,mt,Tt,B,J,pt){var Ot=1-pt,bt=Ot*Ot,Rt=pt*pt,It=bt*Ot,st=3*pt*bt,Q=3*Rt*Ot,ct=Rt*pt;return lt[0]=mt[0]*It+Tt[0]*st+B[0]*Q+J[0]*ct,lt[1]=mt[1]*It+Tt[1]*st+B[1]*Q+J[1]*ct,lt[2]=mt[2]*It+Tt[2]*st+B[2]*Q+J[2]*ct,lt}function z(lt,mt){mt=mt===void 0?1:mt;var Tt=glMatrix.RANDOM()*2*Math.PI,B=glMatrix.RANDOM()*2-1,J=Math.sqrt(1-B*B)*mt;return lt[0]=Math.cos(Tt)*J,lt[1]=Math.sin(Tt)*J,lt[2]=B*mt,lt}function j(lt,mt,Tt){var B=mt[0],J=mt[1],pt=mt[2],Ot=Tt[3]*B+Tt[7]*J+Tt[11]*pt+Tt[15];return Ot=Ot||1,lt[0]=(Tt[0]*B+Tt[4]*J+Tt[8]*pt+Tt[12])/Ot,lt[1]=(Tt[1]*B+Tt[5]*J+Tt[9]*pt+Tt[13])/Ot,lt[2]=(Tt[2]*B+Tt[6]*J+Tt[10]*pt+Tt[14])/Ot,lt}function W(lt,mt,Tt){var B=mt[0],J=mt[1],pt=mt[2];return lt[0]=B*Tt[0]+J*Tt[3]+pt*Tt[6],lt[1]=B*Tt[1]+J*Tt[4]+pt*Tt[7],lt[2]=B*Tt[2]+J*Tt[5]+pt*Tt[8],lt}function U(lt,mt,Tt){var B=Tt[0],J=Tt[1],pt=Tt[2],Ot=Tt[3],bt=mt[0],Rt=mt[1],It=mt[2],st=J*It-pt*Rt,Q=pt*bt-B*It,ct=B*Rt-J*bt;return st=st+st,Q=Q+Q,ct=ct+ct,lt[0]=bt+Ot*st+J*ct-pt*Q,lt[1]=Rt+Ot*Q+pt*st-B*ct,lt[2]=It+Ot*ct+B*Q-J*st,lt}function F(lt,mt,Tt,B){var J=[],pt=[];return J[0]=mt[0]-Tt[0],J[1]=mt[1]-Tt[1],J[2]=mt[2]-Tt[2],pt[0]=J[0],pt[1]=J[1]*Math.cos(B)-J[2]*Math.sin(B),pt[2]=J[1]*Math.sin(B)+J[2]*Math.cos(B),lt[0]=pt[0]+Tt[0],lt[1]=pt[1]+Tt[1],lt[2]=pt[2]+Tt[2],lt}function H(lt,mt,Tt,B){var J=[],pt=[];return J[0]=mt[0]-Tt[0],J[1]=mt[1]-Tt[1],J[2]=mt[2]-Tt[2],pt[0]=J[2]*Math.sin(B)+J[0]*Math.cos(B),pt[1]=J[1],pt[2]=J[2]*Math.cos(B)-J[0]*Math.sin(B),lt[0]=pt[0]+Tt[0],lt[1]=pt[1]+Tt[1],lt[2]=pt[2]+Tt[2],lt}function Y(lt,mt,Tt,B){var J=[],pt=[];return J[0]=mt[0]-Tt[0],J[1]=mt[1]-Tt[1],J[2]=mt[2]-Tt[2],pt[0]=J[0]*Math.cos(B)-J[1]*Math.sin(B),pt[1]=J[0]*Math.sin(B)+J[1]*Math.cos(B),pt[2]=J[2],lt[0]=pt[0]+Tt[0],lt[1]=pt[1]+Tt[1],lt[2]=pt[2]+Tt[2],lt}function V(lt,mt){var Tt=lt[0],B=lt[1],J=lt[2],pt=mt[0],Ot=mt[1],bt=mt[2],Rt=Math.sqrt((Tt*Tt+B*B+J*J)*(pt*pt+Ot*Ot+bt*bt)),It=Rt&&b(lt,mt)/Rt;return Math.acos(Math.min(Math.max(It,-1),1))}function X(lt){return lt[0]=0,lt[1]=0,lt[2]=0,lt}function $(lt){return"vec3("+lt[0]+", "+lt[1]+", "+lt[2]+")"}function rt(lt,mt){return lt[0]===mt[0]&&lt[1]===mt[1]&&lt[2]===mt[2]}function ot(lt,mt){var Tt=lt[0],B=lt[1],J=lt[2],pt=mt[0],Ot=mt[1],bt=mt[2];return Math.abs(Tt-pt)<=u.Ib*Math.max(1,Math.abs(Tt),Math.abs(pt))&&Math.abs(B-Ot)<=u.Ib*Math.max(1,Math.abs(B),Math.abs(Ot))&&Math.abs(J-bt)<=u.Ib*Math.max(1,Math.abs(J),Math.abs(bt))}var tt=a,G=null,nt=null,ut=n,dt=null,et=M,gt=null,Et=function(){var lt=D();return function(mt,Tt,B,J,pt,Ot){var bt,Rt;for(Tt||(Tt=3),B||(B=0),J?Rt=Math.min(J*Tt+B,mt.length):Rt=mt.length,bt=B;bt<Rt;bt+=Tt)lt[0]=mt[bt],lt[1]=mt[bt+1],lt[2]=mt[bt+2],pt(lt,lt,Ot),mt[bt]=lt[0],mt[bt+1]=lt[1],mt[bt+2]=lt[2];return mt}}()},72647:function(it,w,t){"use strict";t.d(w,{AK:function(){return b},Fv:function(){return P},I6:function(){return W},IH:function(){return h},JG:function(){return m},Ue:function(){return D},al:function(){return M},bA:function(){return E},d9:function(){return p},fF:function(){return K},kE:function(){return l},t7:function(){return I},t8:function(){return c},we:function(){return O}});var u=t(19537);function D(){var tt=new u.WT(4);return u.WT!=Float32Array&&(tt[0]=0,tt[1]=0,tt[2]=0,tt[3]=0),tt}function p(tt){var G=new u.WT(4);return G[0]=tt[0],G[1]=tt[1],G[2]=tt[2],G[3]=tt[3],G}function M(tt,G,nt,ut){var dt=new u.WT(4);return dt[0]=tt,dt[1]=G,dt[2]=nt,dt[3]=ut,dt}function m(tt,G){return tt[0]=G[0],tt[1]=G[1],tt[2]=G[2],tt[3]=G[3],tt}function c(tt,G,nt,ut,dt){return tt[0]=G,tt[1]=nt,tt[2]=ut,tt[3]=dt,tt}function h(tt,G,nt){return tt[0]=G[0]+nt[0],tt[1]=G[1]+nt[1],tt[2]=G[2]+nt[2],tt[3]=G[3]+nt[3],tt}function v(tt,G,nt){return tt[0]=G[0]-nt[0],tt[1]=G[1]-nt[1],tt[2]=G[2]-nt[2],tt[3]=G[3]-nt[3],tt}function a(tt,G,nt){return tt[0]=G[0]*nt[0],tt[1]=G[1]*nt[1],tt[2]=G[2]*nt[2],tt[3]=G[3]*nt[3],tt}function r(tt,G,nt){return tt[0]=G[0]/nt[0],tt[1]=G[1]/nt[1],tt[2]=G[2]/nt[2],tt[3]=G[3]/nt[3],tt}function s(tt,G){return tt[0]=Math.ceil(G[0]),tt[1]=Math.ceil(G[1]),tt[2]=Math.ceil(G[2]),tt[3]=Math.ceil(G[3]),tt}function o(tt,G){return tt[0]=Math.floor(G[0]),tt[1]=Math.floor(G[1]),tt[2]=Math.floor(G[2]),tt[3]=Math.floor(G[3]),tt}function d(tt,G,nt){return tt[0]=Math.min(G[0],nt[0]),tt[1]=Math.min(G[1],nt[1]),tt[2]=Math.min(G[2],nt[2]),tt[3]=Math.min(G[3],nt[3]),tt}function f(tt,G,nt){return tt[0]=Math.max(G[0],nt[0]),tt[1]=Math.max(G[1],nt[1]),tt[2]=Math.max(G[2],nt[2]),tt[3]=Math.max(G[3],nt[3]),tt}function y(tt,G){return tt[0]=glMatrix.round(G[0]),tt[1]=glMatrix.round(G[1]),tt[2]=glMatrix.round(G[2]),tt[3]=glMatrix.round(G[3]),tt}function E(tt,G,nt){return tt[0]=G[0]*nt,tt[1]=G[1]*nt,tt[2]=G[2]*nt,tt[3]=G[3]*nt,tt}function e(tt,G,nt,ut){return tt[0]=G[0]+nt[0]*ut,tt[1]=G[1]+nt[1]*ut,tt[2]=G[2]+nt[2]*ut,tt[3]=G[3]+nt[3]*ut,tt}function i(tt,G){var nt=G[0]-tt[0],ut=G[1]-tt[1],dt=G[2]-tt[2],et=G[3]-tt[3];return Math.sqrt(nt*nt+ut*ut+dt*dt+et*et)}function n(tt,G){var nt=G[0]-tt[0],ut=G[1]-tt[1],dt=G[2]-tt[2],et=G[3]-tt[3];return nt*nt+ut*ut+dt*dt+et*et}function l(tt){var G=tt[0],nt=tt[1],ut=tt[2],dt=tt[3];return Math.sqrt(G*G+nt*nt+ut*ut+dt*dt)}function O(tt){var G=tt[0],nt=tt[1],ut=tt[2],dt=tt[3];return G*G+nt*nt+ut*ut+dt*dt}function C(tt,G){return tt[0]=-G[0],tt[1]=-G[1],tt[2]=-G[2],tt[3]=-G[3],tt}function T(tt,G){return tt[0]=1/G[0],tt[1]=1/G[1],tt[2]=1/G[2],tt[3]=1/G[3],tt}function P(tt,G){var nt=G[0],ut=G[1],dt=G[2],et=G[3],gt=nt*nt+ut*ut+dt*dt+et*et;return gt>0&&(gt=1/Math.sqrt(gt)),tt[0]=nt*gt,tt[1]=ut*gt,tt[2]=dt*gt,tt[3]=et*gt,tt}function b(tt,G){return tt[0]*G[0]+tt[1]*G[1]+tt[2]*G[2]+tt[3]*G[3]}function x(tt,G,nt,ut){var dt=nt[0]*ut[1]-nt[1]*ut[0],et=nt[0]*ut[2]-nt[2]*ut[0],gt=nt[0]*ut[3]-nt[3]*ut[0],Et=nt[1]*ut[2]-nt[2]*ut[1],lt=nt[1]*ut[3]-nt[3]*ut[1],mt=nt[2]*ut[3]-nt[3]*ut[2],Tt=G[0],B=G[1],J=G[2],pt=G[3];return tt[0]=B*mt-J*lt+pt*Et,tt[1]=-(Tt*mt)+J*gt-pt*et,tt[2]=Tt*lt-B*gt+pt*dt,tt[3]=-(Tt*Et)+B*et-J*dt,tt}function I(tt,G,nt,ut){var dt=G[0],et=G[1],gt=G[2],Et=G[3];return tt[0]=dt+ut*(nt[0]-dt),tt[1]=et+ut*(nt[1]-et),tt[2]=gt+ut*(nt[2]-gt),tt[3]=Et+ut*(nt[3]-Et),tt}function S(tt,G){G=G===void 0?1:G;var nt,ut,dt,et,gt,Et,lt;lt=glMatrix.RANDOM(),nt=lt*2-1,ut=(4*glMatrix.RANDOM()-2)*Math.sqrt(lt*-lt+lt),gt=nt*nt+ut*ut,lt=glMatrix.RANDOM(),dt=lt*2-1,et=(4*glMatrix.RANDOM()-2)*Math.sqrt(lt*-lt+lt),Et=dt*dt+et*et;var mt=Math.sqrt((1-gt)/Et);return tt[0]=G*nt,tt[1]=G*ut,tt[2]=G*dt*mt,tt[3]=G*et*mt,tt}function K(tt,G,nt){var ut=G[0],dt=G[1],et=G[2],gt=G[3];return tt[0]=nt[0]*ut+nt[4]*dt+nt[8]*et+nt[12]*gt,tt[1]=nt[1]*ut+nt[5]*dt+nt[9]*et+nt[13]*gt,tt[2]=nt[2]*ut+nt[6]*dt+nt[10]*et+nt[14]*gt,tt[3]=nt[3]*ut+nt[7]*dt+nt[11]*et+nt[15]*gt,tt}function N(tt,G,nt){var ut=nt[0],dt=nt[1],et=nt[2],gt=nt[3],Et=G[0],lt=G[1],mt=G[2],Tt=dt*mt-et*lt,B=et*Et-ut*mt,J=ut*lt-dt*Et;return Tt=Tt+Tt,B=B+B,J=J+J,tt[0]=Et+gt*Tt+dt*J-et*B,tt[1]=lt+gt*B+et*Tt-ut*J,tt[2]=mt+gt*J+ut*B-dt*Tt,tt[3]=G[3],tt}function z(tt){return tt[0]=0,tt[1]=0,tt[2]=0,tt[3]=0,tt}function j(tt){return"vec4("+tt[0]+", "+tt[1]+", "+tt[2]+", "+tt[3]+")"}function W(tt,G){return tt[0]===G[0]&&tt[1]===G[1]&&tt[2]===G[2]&&tt[3]===G[3]}function U(tt,G){var nt=tt[0],ut=tt[1],dt=tt[2],et=tt[3],gt=G[0],Et=G[1],lt=G[2],mt=G[3];return Math.abs(nt-gt)<=glMatrix.EPSILON*Math.max(1,Math.abs(nt),Math.abs(gt))&&Math.abs(ut-Et)<=glMatrix.EPSILON*Math.max(1,Math.abs(ut),Math.abs(Et))&&Math.abs(dt-lt)<=glMatrix.EPSILON*Math.max(1,Math.abs(dt),Math.abs(lt))&&Math.abs(et-mt)<=glMatrix.EPSILON*Math.max(1,Math.abs(et),Math.abs(mt))}var F=null,H=null,Y=null,V=null,X=null,$=null,rt=null,ot=function(){var tt=D();return function(G,nt,ut,dt,et,gt){var Et,lt;for(nt||(nt=4),ut||(ut=0),dt?lt=Math.min(dt*nt+ut,G.length):lt=G.length,Et=ut;Et<lt;Et+=nt)tt[0]=G[Et],tt[1]=G[Et+1],tt[2]=G[Et+2],tt[3]=G[Et+3],et(tt,tt,gt),G[Et]=tt[0],G[Et+1]=tt[1],G[Et+2]=tt[2],G[Et+3]=tt[3];return G}}()},62087:function(it){it.exports=function(t){return!t||typeof t=="string"?!1:t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String")}},38193:function(it,w,t){"use strict";var u=t(75271),D=Symbol.for("react.element"),p=Symbol.for("react.fragment"),M=Object.prototype.hasOwnProperty,m=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function h(v,a,r){var s,o={},d=null,f=null;r!==void 0&&(d=""+r),a.key!==void 0&&(d=""+a.key),a.ref!==void 0&&(f=a.ref);for(s in a)M.call(a,s)&&!c.hasOwnProperty(s)&&(o[s]=a[s]);if(v&&v.defaultProps)for(s in a=v.defaultProps,a)o[s]===void 0&&(o[s]=a[s]);return{$$typeof:D,type:v,key:d,ref:f,props:o,_owner:m.current}}w.Fragment=p,w.jsx=h,w.jsxs=h},52676:function(it,w,t){"use strict";it.exports=t(38193)},32858:function(it,w,t){"use strict";var u=t(62087),D=Array.prototype.concat,p=Array.prototype.slice,M=it.exports=function(c){for(var h=[],v=0,a=c.length;v<a;v++){var r=c[v];u(r)?h=D.call(h,p.call(r)):h.push(r)}return h};M.wrap=function(m){return function(){return m(M(arguments))}}},48305:function(it,w,t){var u=t(50040),D=t(44222),p=t(31479),M=t(44804);function m(c,h){return u(c)||D(c,h)||p(c,h)||M()}it.exports=m,it.exports.__esModule=!0,it.exports.default=it.exports},21103:function(it,w,t){"use strict";t.d(w,{Z:function(){return u}});function u(D,p){this.v=D,this.k=p}},67297:function(it,w,t){"use strict";t.d(w,{Z:function(){return u}});function u(D,p){(p==null||p>D.length)&&(p=D.length);for(var M=0,m=Array(p);M<p;M++)m[M]=D[M];return m}},64881:function(it,w,t){"use strict";t.d(w,{Z:function(){return u}});function u(D){if(Array.isArray(D))return D}},58028:function(it,w,t){"use strict";t.d(w,{Z:function(){return D}});var u=t(67297);function D(p){if(Array.isArray(p))return(0,u.Z)(p)}},42326:function(it,w,t){"use strict";t.d(w,{Z:function(){return u}});function u(D){if(D===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}},7556:function(it,w,t){"use strict";t.d(w,{Z:function(){return D}});function u(p,M,m,c,h,v,a){try{var r=p[v](a),s=r.value}catch(o){return void m(o)}r.done?M(s):Promise.resolve(s).then(c,h)}function D(p){return function(){var M=this,m=arguments;return new Promise(function(c,h){var v=p.apply(M,m);function a(s){u(v,c,h,a,r,"next",s)}function r(s){u(v,c,h,a,r,"throw",s)}a(void 0)})}}},87974:function(it,w,t){"use strict";t.d(w,{Z:function(){return M}});var u=t(35922),D=t(52493),p=t(93460);function M(m,c,h){return c=(0,u.Z)(c),(0,p.Z)(m,(0,D.Z)()?Reflect.construct(c,h||[],(0,u.Z)(m).constructor):c.apply(m,h))}},76132:function(it,w,t){"use strict";t.d(w,{Z:function(){return u}});function u(D,p){if(!(D instanceof p))throw new TypeError("Cannot call a class as a function")}},82231:function(it,w,t){"use strict";t.d(w,{Z:function(){return u}});function u(D,p){if(!{}.hasOwnProperty.call(D,p))throw new TypeError("attempted to use private field on non-instance");return D}},44756:function(it,w,t){"use strict";t.d(w,{Z:function(){return D}});var u=0;function D(p){return"__private_"+u+++"_"+p}},99190:function(it,w,t){"use strict";t.d(w,{Z:function(){return p}});var u=t(10442);function D(M,m){for(var c=0;c<m.length;c++){var h=m[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(M,(0,u.Z)(h.key),h)}}function p(M,m,c){return m&&D(M.prototype,m),c&&D(M,c),Object.defineProperty(M,"prototype",{writable:!1}),M}},36249:function(it,w,t){"use strict";t.d(w,{Z:function(){return D}});var u=t(23317);function D(p,M){var m=typeof Symbol!="undefined"&&p[Symbol.iterator]||p["@@iterator"];if(!m){if(Array.isArray(p)||(m=(0,u.Z)(p))||M&&p&&typeof p.length=="number"){m&&(p=m);var c=0,h=function(){};return{s:h,n:function(){return c>=p.length?{done:!0}:{done:!1,value:p[c++]}},e:function(o){throw o},f:h}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,r=!1;return{s:function(){m=m.call(p)},n:function(){var o=m.next();return a=o.done,o},e:function(o){r=!0,v=o},f:function(){try{a||m.return==null||m.return()}finally{if(r)throw v}}}}},59125:function(it,w,t){"use strict";t.d(w,{Z:function(){return D}});var u=t(10442);function D(p,M,m){return(M=(0,u.Z)(M))in p?Object.defineProperty(p,M,{value:m,enumerable:!0,configurable:!0,writable:!0}):p[M]=m,p}},14707:function(it,w,t){"use strict";t.d(w,{Z:function(){return D}});var u=t(90780);function D(){return D=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(p,M,m){var c=(0,u.Z)(p,M);if(c){var h=Object.getOwnPropertyDescriptor(c,M);return h.get?h.get.call(arguments.length<3?p:m):h.value}},D.apply(null,arguments)}},35922:function(it,w,t){"use strict";t.d(w,{Z:function(){return u}});function u(D){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(p){return p.__proto__||Object.getPrototypeOf(p)},u(D)}},61912:function(it,w,t){"use strict";t.d(w,{Z:function(){return D}});var u=t(35329);function D(p,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(M&&M.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),M&&(0,u.Z)(p,M)}},52493:function(it,w,t){"use strict";t.d(w,{Z:function(){return u}});function u(){try{var D=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(p){}return(u=function(){return!!D})()}},54578:function(it,w,t){"use strict";t.d(w,{Z:function(){return u}});function u(D){if(typeof Symbol!="undefined"&&D[Symbol.iterator]!=null||D["@@iterator"]!=null)return Array.from(D)}},89458:function(it,w,t){"use strict";t.d(w,{Z:function(){return u}});function u(D,p){var M=D==null?null:typeof Symbol!="undefined"&&D[Symbol.iterator]||D["@@iterator"];if(M!=null){var m,c,h,v,a=[],r=!0,s=!1;try{if(h=(M=M.call(D)).next,p===0){if(Object(M)!==M)return;r=!1}else for(;!(r=(m=h.call(M)).done)&&(a.push(m.value),a.length!==p);r=!0);}catch(o){s=!0,c=o}finally{try{if(!r&&M.return!=null&&(v=M.return(),Object(v)!==v))return}finally{if(s)throw c}}return a}}},76159:function(it,w,t){"use strict";t.d(w,{Z:function(){return u}});function u(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},10220:function(it,w,t){"use strict";t.d(w,{Z:function(){return u}});function u(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},59942:function(it,w,t){"use strict";t.d(w,{Z:function(){return p}});var u=t(59125);function D(M,m){var c=Object.keys(M);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(M);m&&(h=h.filter(function(v){return Object.getOwnPropertyDescriptor(M,v).enumerable})),c.push.apply(c,h)}return c}function p(M){for(var m=1;m<arguments.length;m++){var c=arguments[m]!=null?arguments[m]:{};m%2?D(Object(c),!0).forEach(function(h){(0,u.Z)(M,h,c[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(c)):D(Object(c)).forEach(function(h){Object.defineProperty(M,h,Object.getOwnPropertyDescriptor(c,h))})}return M}},41766:function(it,w,t){"use strict";t.d(w,{Z:function(){return D}});var u=t(20555);function D(p,M){if(p==null)return{};var m,c,h=(0,u.Z)(p,M);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(p);for(c=0;c<v.length;c++)m=v[c],M.indexOf(m)===-1&&{}.propertyIsEnumerable.call(p,m)&&(h[m]=p[m])}return h}},20555:function(it,w,t){"use strict";t.d(w,{Z:function(){return u}});function u(D,p){if(D==null)return{};var M={};for(var m in D)if({}.hasOwnProperty.call(D,m)){if(p.indexOf(m)!==-1)continue;M[m]=D[m]}return M}},93460:function(it,w,t){"use strict";t.d(w,{Z:function(){return p}});var u=t(41392),D=t(42326);function p(M,m){if(m&&((0,u.Z)(m)=="object"||typeof m=="function"))return m;if(m!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(0,D.Z)(M)}},84894:function(it,w,t){"use strict";t.d(w,{Z:function(){return D}});var u=t(64267);function D(){var p,M,m=typeof Symbol=="function"?Symbol:{},c=m.iterator||"@@iterator",h=m.toStringTag||"@@toStringTag";function v(E,e,i,n){var l=e&&e.prototype instanceof r?e:r,O=Object.create(l.prototype);return(0,u.Z)(O,"_invoke",function(C,T,P){var b,x,I,S=0,K=P||[],N=!1,z={p:0,n:0,v:p,a:j,f:j.bind(p,4),d:function(U,F){return b=U,x=0,I=p,z.n=F,a}};function j(W,U){for(x=W,I=U,M=0;!N&&S&&!F&&M<K.length;M++){var F,H=K[M],Y=z.p,V=H[2];W>3?(F=V===U)&&(I=H[(x=H[4])?5:(x=3,3)],H[4]=H[5]=p):H[0]<=Y&&((F=W<2&&Y<H[1])?(x=0,z.v=U,z.n=H[1]):Y<V&&(F=W<3||H[0]>U||U>V)&&(H[4]=W,H[5]=U,z.n=V,x=0))}if(F||W>1)return a;throw N=!0,U}return function(W,U,F){if(S>1)throw TypeError("Generator is already running");for(N&&U===1&&j(U,F),x=U,I=F;(M=x<2?p:I)||!N;){b||(x?x<3?(x>1&&(z.n=-1),j(x,I)):z.n=I:z.v=I);try{if(S=2,b){if(x||(W="next"),M=b[W]){if(!(M=M.call(b,I)))throw TypeError("iterator result is not an object");if(!M.done)return M;I=M.value,x<2&&(x=0)}else x===1&&(M=b.return)&&M.call(b),x<2&&(I=TypeError("The iterator does not provide a '"+W+"' method"),x=1);b=p}else if((M=(N=z.n<0)?I:C.call(T,z))!==a)break}catch(H){b=p,x=1,I=H}finally{S=1}}return{value:M,done:N}}}(E,i,n),!0),O}var a={};function r(){}function s(){}function o(){}M=Object.getPrototypeOf;var d=[][c]?M(M([][c]())):((0,u.Z)(M={},c,function(){return this}),M),f=o.prototype=r.prototype=Object.create(d);function y(E){return Object.setPrototypeOf?Object.setPrototypeOf(E,o):(E.__proto__=o,(0,u.Z)(E,h,"GeneratorFunction")),E.prototype=Object.create(f),E}return s.prototype=o,(0,u.Z)(f,"constructor",o),(0,u.Z)(o,"constructor",s),s.displayName="GeneratorFunction",(0,u.Z)(o,h,"GeneratorFunction"),(0,u.Z)(f),(0,u.Z)(f,h,"Generator"),(0,u.Z)(f,c,function(){return this}),(0,u.Z)(f,"toString",function(){return"[object Generator]"}),(D=function(){return{w:v,m:y}})()}},17058:function(it,w,t){"use strict";t.d(w,{Z:function(){return D}});var u=t(38867);function D(p,M,m,c,h){var v=(0,u.Z)(p,M,m,c,h);return v.next().then(function(a){return a.done?a.value:v.next()})}},38867:function(it,w,t){"use strict";t.d(w,{Z:function(){return p}});var u=t(84894),D=t(20507);function p(M,m,c,h,v){return new D.Z((0,u.Z)().w(M,m,c,h),v||Promise)}},20507:function(it,w,t){"use strict";t.d(w,{Z:function(){return p}});var u=t(21103),D=t(64267);function p(M,m){function c(v,a,r,s){try{var o=M[v](a),d=o.value;return d instanceof u.Z?m.resolve(d.v).then(function(f){c("next",f,r,s)},function(f){c("throw",f,r,s)}):m.resolve(d).then(function(f){o.value=f,r(o)},function(f){return c("throw",f,r,s)})}catch(f){s(f)}}var h;this.next||((0,D.Z)(p.prototype),(0,D.Z)(p.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),(0,D.Z)(this,"_invoke",function(v,a,r){function s(){return new m(function(o,d){c(v,r,o,d)})}return h=h?h.then(s,s):s()},!0)}},64267:function(it,w,t){"use strict";t.d(w,{Z:function(){return u}});function u(D,p,M,m){var c=Object.defineProperty;try{c({},"",{})}catch(h){c=0}u=function(v,a,r,s){function o(d,f){u(v,d,function(y){return this._invoke(d,f,y)})}a?c?c(v,a,{value:r,enumerable:!s,configurable:!s,writable:!s}):v[a]=r:(o("next",0),o("throw",1),o("return",2))},u(D,p,M,m)}},22456:function(it,w,t){"use strict";t.d(w,{Z:function(){return u}});function u(D){var p=Object(D),M=[];for(var m in p)M.unshift(m);return function c(){for(;M.length;)if((m=M.pop())in p)return c.value=m,c.done=!1,c;return c.done=!0,c}}},94882:function(it,w,t){"use strict";t.d(w,{Z:function(){return v}});var u=t(21103),D=t(84894),p=t(17058),M=t(38867),m=t(20507),c=t(22456),h=t(26882);function v(){"use strict";var a=(0,D.Z)(),r=a.m(v),s=(Object.getPrototypeOf?Object.getPrototypeOf(r):r.__proto__).constructor;function o(y){var E=typeof y=="function"&&y.constructor;return!!E&&(E===s||(E.displayName||E.name)==="GeneratorFunction")}var d={throw:1,return:2,break:3,continue:3};function f(y){var E,e;return function(i){E||(E={stop:function(){return e(i.a,2)},catch:function(){return i.v},abrupt:function(l,O){return e(i.a,d[l],O)},delegateYield:function(l,O,C){return E.resultName=O,e(i.d,(0,h.Z)(l),C)},finish:function(l){return e(i.f,l)}},e=function(l,O,C){i.p=E.prev,i.n=E.next;try{return l(O,C)}finally{E.next=i.n}}),E.resultName&&(E[E.resultName]=i.v,E.resultName=void 0),E.sent=i.v,E.next=i.n;try{return y.call(this,E)}finally{i.p=E.prev,i.n=E.next}}}return(v=function(){return{wrap:function(e,i,n,l){return a.w(f(e),i,n,l&&l.reverse())},isGeneratorFunction:o,mark:a.m,awrap:function(e,i){return new u.Z(e,i)},AsyncIterator:m.Z,async:function(e,i,n,l,O){return(o(i)?M.Z:p.Z)(f(e),i,n,l,O)},keys:c.Z,values:h.Z}})()}},26882:function(it,w,t){"use strict";t.d(w,{Z:function(){return D}});var u=t(41392);function D(p){if(p!=null){var M=p[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],m=0;if(M)return M.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length))return{next:function(){return p&&m>=p.length&&(p=void 0),{value:p&&p[m++],done:!p}}}}throw new TypeError((0,u.Z)(p)+" is not iterable")}},35329:function(it,w,t){"use strict";t.d(w,{Z:function(){return u}});function u(D,p){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(M,m){return M.__proto__=m,M},u(D,p)}},8818:function(it,w,t){"use strict";t.d(w,{Z:function(){return m}});var u=t(64881),D=t(89458),p=t(23317),M=t(76159);function m(c,h){return(0,u.Z)(c)||(0,D.Z)(c,h)||(0,p.Z)(c,h)||(0,M.Z)()}},90780:function(it,w,t){"use strict";t.d(w,{Z:function(){return D}});var u=t(35922);function D(p,M){for(;!{}.hasOwnProperty.call(p,M)&&(p=(0,u.Z)(p))!==null;);return p}},46793:function(it,w,t){"use strict";t.d(w,{Z:function(){return p}});var u=t(14707),D=t(35922);function p(M,m,c,h){var v=(0,u.Z)((0,D.Z)(1&h?M.prototype:M),m,c);return 2&h&&typeof v=="function"?function(a){return v.apply(c,a)}:v}},87948:function(it,w,t){"use strict";t.d(w,{Z:function(){return m}});var u=t(58028),D=t(54578),p=t(23317),M=t(10220);function m(c){return(0,u.Z)(c)||(0,D.Z)(c)||(0,p.Z)(c)||(0,M.Z)()}},8050:function(it,w,t){"use strict";t.d(w,{Z:function(){return D}});var u=t(41392);function D(p,M){if((0,u.Z)(p)!="object"||!p)return p;var m=p[Symbol.toPrimitive];if(m!==void 0){var c=m.call(p,M||"default");if((0,u.Z)(c)!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(M==="string"?String:Number)(p)}},10442:function(it,w,t){"use strict";t.d(w,{Z:function(){return p}});var u=t(41392),D=t(8050);function p(M){var m=(0,D.Z)(M,"string");return(0,u.Z)(m)=="symbol"?m:m+""}},41392:function(it,w,t){"use strict";t.d(w,{Z:function(){return u}});function u(D){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},u(D)}},23317:function(it,w,t){"use strict";t.d(w,{Z:function(){return D}});var u=t(67297);function D(p,M){if(p){if(typeof p=="string")return(0,u.Z)(p,M);var m={}.toString.call(p).slice(8,-1);return m==="Object"&&p.constructor&&(m=p.constructor.name),m==="Map"||m==="Set"?Array.from(p):m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m)?(0,u.Z)(p,M):void 0}}},80345:function(it,w,t){"use strict";t.d(w,{Ud:function(){return f},Yy:function(){return p}});const u=Symbol("Comlink.proxy"),D=Symbol("Comlink.endpoint"),p=Symbol("Comlink.releaseProxy"),M=Symbol("Comlink.finalizer"),m=Symbol("Comlink.thrown"),c=j=>typeof j=="object"&&j!==null||typeof j=="function",h={canHandle:j=>c(j)&&j[u],serialize(j){const{port1:W,port2:U}=new MessageChannel;return s(j,W),[U,[U]]},deserialize(j){return j.start(),f(j)}},v={canHandle:j=>c(j)&&m in j,serialize({value:j}){let W;return j instanceof Error?W={isError:!0,value:{message:j.message,name:j.name,stack:j.stack}}:W={isError:!1,value:j},[W,[]]},deserialize(j){throw j.isError?Object.assign(new Error(j.value.message),j.value):j.value}},a=new Map([["proxy",h],["throw",v]]);function r(j,W){for(const U of j)if(W===U||U==="*"||U instanceof RegExp&&U.test(W))return!0;return!1}function s(j,W=globalThis,U=["*"]){W.addEventListener("message",function F(H){if(!H||!H.data)return;if(!r(U,H.origin)){console.warn(`Invalid origin '${H.origin}' for comlink proxy`);return}const{id:Y,type:V,path:X}=Object.assign({path:[]},H.data),$=(H.data.argumentList||[]).map(K);let rt;try{const ot=X.slice(0,-1).reduce((G,nt)=>G[nt],j),tt=X.reduce((G,nt)=>G[nt],j);switch(V){case"GET":rt=tt;break;case"SET":ot[X.slice(-1)[0]]=K(H.data.value),rt=!0;break;case"APPLY":rt=tt.apply(ot,$);break;case"CONSTRUCT":{const G=new tt(...$);rt=x(G)}break;case"ENDPOINT":{const{port1:G,port2:nt}=new MessageChannel;s(j,nt),rt=b(G,[G])}break;case"RELEASE":rt=void 0;break;default:return}}catch(ot){rt={value:ot,[m]:0}}Promise.resolve(rt).catch(ot=>({value:ot,[m]:0})).then(ot=>{const[tt,G]=S(ot);W.postMessage(Object.assign(Object.assign({},tt),{id:Y}),G),V==="RELEASE"&&(W.removeEventListener("message",F),d(W),M in j&&typeof j[M]=="function"&&j[M]())}).catch(ot=>{const[tt,G]=S({value:new TypeError("Unserializable return value"),[m]:0});W.postMessage(Object.assign(Object.assign({},tt),{id:Y}),G)})}),W.start&&W.start()}function o(j){return j.constructor.name==="MessagePort"}function d(j){o(j)&&j.close()}function f(j,W){const U=new Map;return j.addEventListener("message",function(H){const{data:Y}=H;if(!Y||!Y.id)return;const V=U.get(Y.id);if(V)try{V(Y)}finally{U.delete(Y.id)}}),O(j,U,[],W)}function y(j){if(j)throw new Error("Proxy has been released and is not useable")}function E(j){return N(j,new Map,{type:"RELEASE"}).then(()=>{d(j)})}const e=new WeakMap,i="FinalizationRegistry"in globalThis&&new FinalizationRegistry(j=>{const W=(e.get(j)||0)-1;e.set(j,W),W===0&&E(j)});function n(j,W){const U=(e.get(W)||0)+1;e.set(W,U),i&&i.register(j,W,j)}function l(j){i&&i.unregister(j)}function O(j,W,U=[],F=function(){}){let H=!1;const Y=new Proxy(F,{get(V,X){if(y(H),X===p)return()=>{l(Y),E(j),W.clear(),H=!0};if(X==="then"){if(U.length===0)return{then:()=>Y};const $=N(j,W,{type:"GET",path:U.map(rt=>rt.toString())}).then(K);return $.then.bind($)}return O(j,W,[...U,X])},set(V,X,$){y(H);const[rt,ot]=S($);return N(j,W,{type:"SET",path:[...U,X].map(tt=>tt.toString()),value:rt},ot).then(K)},apply(V,X,$){y(H);const rt=U[U.length-1];if(rt===D)return N(j,W,{type:"ENDPOINT"}).then(K);if(rt==="bind")return O(j,W,U.slice(0,-1));const[ot,tt]=T($);return N(j,W,{type:"APPLY",path:U.map(G=>G.toString()),argumentList:ot},tt).then(K)},construct(V,X){y(H);const[$,rt]=T(X);return N(j,W,{type:"CONSTRUCT",path:U.map(ot=>ot.toString()),argumentList:$},rt).then(K)}});return n(Y,j),Y}function C(j){return Array.prototype.concat.apply([],j)}function T(j){const W=j.map(S);return[W.map(U=>U[0]),C(W.map(U=>U[1]))]}const P=new WeakMap;function b(j,W){return P.set(j,W),j}function x(j){return Object.assign(j,{[u]:!0})}function I(j,W=globalThis,U="*"){return{postMessage:(F,H)=>j.postMessage(F,U,H),addEventListener:W.addEventListener.bind(W),removeEventListener:W.removeEventListener.bind(W)}}function S(j){for(const[W,U]of a)if(U.canHandle(j)){const[F,H]=U.serialize(j);return[{type:"HANDLER",name:W,value:F},H]}return[{type:"RAW",value:j},P.get(j)||[]]}function K(j){switch(j.type){case"HANDLER":return a.get(j.name).deserialize(j.value);case"RAW":return j.value}}function N(j,W,U,F){return new Promise(H=>{const Y=z();W.set(Y,H),j.start&&j.start(),j.postMessage(Object.assign({id:Y},U),F)})}function z(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}},73983:function(it,w,t){"use strict";var u=t(2337);w.Z=u},15767:function(it,w,t){"use strict";t.d(w,{CR:function(){return e},Q_:function(){return N},XA:function(){return E},ZT:function(){return D},_T:function(){return M},ev:function(){return l},mG:function(){return o},pi:function(){return p},pr:function(){return n}});var u=function(V,X){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,rt){$.__proto__=rt}||function($,rt){for(var ot in rt)Object.prototype.hasOwnProperty.call(rt,ot)&&($[ot]=rt[ot])},u(V,X)};function D(V,X){if(typeof X!="function"&&X!==null)throw new TypeError("Class extends value "+String(X)+" is not a constructor or null");u(V,X);function $(){this.constructor=V}V.prototype=X===null?Object.create(X):($.prototype=X.prototype,new $)}var p=function(){return p=Object.assign||function(X){for(var $,rt=1,ot=arguments.length;rt<ot;rt++){$=arguments[rt];for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&(X[tt]=$[tt])}return X},p.apply(this,arguments)};function M(V,X){var $={};for(var rt in V)Object.prototype.hasOwnProperty.call(V,rt)&&X.indexOf(rt)<0&&($[rt]=V[rt]);if(V!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ot=0,rt=Object.getOwnPropertySymbols(V);ot<rt.length;ot++)X.indexOf(rt[ot])<0&&Object.prototype.propertyIsEnumerable.call(V,rt[ot])&&($[rt[ot]]=V[rt[ot]]);return $}function m(V,X,$,rt){var ot=arguments.length,tt=ot<3?X:rt===null?rt=Object.getOwnPropertyDescriptor(X,$):rt,G;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")tt=Reflect.decorate(V,X,$,rt);else for(var nt=V.length-1;nt>=0;nt--)(G=V[nt])&&(tt=(ot<3?G(tt):ot>3?G(X,$,tt):G(X,$))||tt);return ot>3&&tt&&Object.defineProperty(X,$,tt),tt}function c(V,X){return function($,rt){X($,rt,V)}}function h(V,X,$,rt,ot,tt){function G(J){if(J!==void 0&&typeof J!="function")throw new TypeError("Function expected");return J}for(var nt=rt.kind,ut=nt==="getter"?"get":nt==="setter"?"set":"value",dt=!X&&V?rt.static?V:V.prototype:null,et=X||(dt?Object.getOwnPropertyDescriptor(dt,rt.name):{}),gt,Et=!1,lt=$.length-1;lt>=0;lt--){var mt={};for(var Tt in rt)mt[Tt]=Tt==="access"?{}:rt[Tt];for(var Tt in rt.access)mt.access[Tt]=rt.access[Tt];mt.addInitializer=function(J){if(Et)throw new TypeError("Cannot add initializers after decoration has completed");tt.push(G(J||null))};var B=(0,$[lt])(nt==="accessor"?{get:et.get,set:et.set}:et[ut],mt);if(nt==="accessor"){if(B===void 0)continue;if(B===null||typeof B!="object")throw new TypeError("Object expected");(gt=G(B.get))&&(et.get=gt),(gt=G(B.set))&&(et.set=gt),(gt=G(B.init))&&ot.unshift(gt)}else(gt=G(B))&&(nt==="field"?ot.unshift(gt):et[ut]=gt)}dt&&Object.defineProperty(dt,rt.name,et),Et=!0}function v(V,X,$){for(var rt=arguments.length>2,ot=0;ot<X.length;ot++)$=rt?X[ot].call(V,$):X[ot].call(V);return rt?$:void 0}function a(V){return typeof V=="symbol"?V:"".concat(V)}function r(V,X,$){return typeof X=="symbol"&&(X=X.description?"[".concat(X.description,"]"):""),Object.defineProperty(V,"name",{configurable:!0,value:$?"".concat($," ",X):X})}function s(V,X){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(V,X)}function o(V,X,$,rt){function ot(tt){return tt instanceof $?tt:new $(function(G){G(tt)})}return new($||($=Promise))(function(tt,G){function nt(et){try{dt(rt.next(et))}catch(gt){G(gt)}}function ut(et){try{dt(rt.throw(et))}catch(gt){G(gt)}}function dt(et){et.done?tt(et.value):ot(et.value).then(nt,ut)}dt((rt=rt.apply(V,X||[])).next())})}function d(V,X){var $={label:0,sent:function(){if(tt[0]&1)throw tt[1];return tt[1]},trys:[],ops:[]},rt,ot,tt,G=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return G.next=nt(0),G.throw=nt(1),G.return=nt(2),typeof Symbol=="function"&&(G[Symbol.iterator]=function(){return this}),G;function nt(dt){return function(et){return ut([dt,et])}}function ut(dt){if(rt)throw new TypeError("Generator is already executing.");for(;G&&(G=0,dt[0]&&($=0)),$;)try{if(rt=1,ot&&(tt=dt[0]&2?ot.return:dt[0]?ot.throw||((tt=ot.return)&&tt.call(ot),0):ot.next)&&!(tt=tt.call(ot,dt[1])).done)return tt;switch(ot=0,tt&&(dt=[dt[0]&2,tt.value]),dt[0]){case 0:case 1:tt=dt;break;case 4:return $.label++,{value:dt[1],done:!1};case 5:$.label++,ot=dt[1],dt=[0];continue;case 7:dt=$.ops.pop(),$.trys.pop();continue;default:if(tt=$.trys,!(tt=tt.length>0&&tt[tt.length-1])&&(dt[0]===6||dt[0]===2)){$=0;continue}if(dt[0]===3&&(!tt||dt[1]>tt[0]&&dt[1]<tt[3])){$.label=dt[1];break}if(dt[0]===6&&$.label<tt[1]){$.label=tt[1],tt=dt;break}if(tt&&$.label<tt[2]){$.label=tt[2],$.ops.push(dt);break}tt[2]&&$.ops.pop(),$.trys.pop();continue}dt=X.call(V,$)}catch(et){dt=[6,et],ot=0}finally{rt=tt=0}if(dt[0]&5)throw dt[1];return{value:dt[0]?dt[1]:void 0,done:!0}}}var f=Object.create?function(V,X,$,rt){rt===void 0&&(rt=$);var ot=Object.getOwnPropertyDescriptor(X,$);(!ot||("get"in ot?!X.__esModule:ot.writable||ot.configurable))&&(ot={enumerable:!0,get:function(){return X[$]}}),Object.defineProperty(V,rt,ot)}:function(V,X,$,rt){rt===void 0&&(rt=$),V[rt]=X[$]};function y(V,X){for(var $ in V)$!=="default"&&!Object.prototype.hasOwnProperty.call(X,$)&&f(X,V,$)}function E(V){var X=typeof Symbol=="function"&&Symbol.iterator,$=X&&V[X],rt=0;if($)return $.call(V);if(V&&typeof V.length=="number")return{next:function(){return V&&rt>=V.length&&(V=void 0),{value:V&&V[rt++],done:!V}}};throw new TypeError(X?"Object is not iterable.":"Symbol.iterator is not defined.")}function e(V,X){var $=typeof Symbol=="function"&&V[Symbol.iterator];if(!$)return V;var rt=$.call(V),ot,tt=[],G;try{for(;(X===void 0||X-- >0)&&!(ot=rt.next()).done;)tt.push(ot.value)}catch(nt){G={error:nt}}finally{try{ot&&!ot.done&&($=rt.return)&&$.call(rt)}finally{if(G)throw G.error}}return tt}function i(){for(var V=[],X=0;X<arguments.length;X++)V=V.concat(e(arguments[X]));return V}function n(){for(var V=0,X=0,$=arguments.length;X<$;X++)V+=arguments[X].length;for(var rt=Array(V),ot=0,X=0;X<$;X++)for(var tt=arguments[X],G=0,nt=tt.length;G<nt;G++,ot++)rt[ot]=tt[G];return rt}function l(V,X,$){if($||arguments.length===2)for(var rt=0,ot=X.length,tt;rt<ot;rt++)(tt||!(rt in X))&&(tt||(tt=Array.prototype.slice.call(X,0,rt)),tt[rt]=X[rt]);return V.concat(tt||Array.prototype.slice.call(X))}function O(V){return this instanceof O?(this.v=V,this):new O(V)}function C(V,X,$){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var rt=$.apply(V,X||[]),ot,tt=[];return ot=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),nt("next"),nt("throw"),nt("return",G),ot[Symbol.asyncIterator]=function(){return this},ot;function G(lt){return function(mt){return Promise.resolve(mt).then(lt,gt)}}function nt(lt,mt){rt[lt]&&(ot[lt]=function(Tt){return new Promise(function(B,J){tt.push([lt,Tt,B,J])>1||ut(lt,Tt)})},mt&&(ot[lt]=mt(ot[lt])))}function ut(lt,mt){try{dt(rt[lt](mt))}catch(Tt){Et(tt[0][3],Tt)}}function dt(lt){lt.value instanceof O?Promise.resolve(lt.value.v).then(et,gt):Et(tt[0][2],lt)}function et(lt){ut("next",lt)}function gt(lt){ut("throw",lt)}function Et(lt,mt){lt(mt),tt.shift(),tt.length&&ut(tt[0][0],tt[0][1])}}function T(V){var X,$;return X={},rt("next"),rt("throw",function(ot){throw ot}),rt("return"),X[Symbol.iterator]=function(){return this},X;function rt(ot,tt){X[ot]=V[ot]?function(G){return($=!$)?{value:O(V[ot](G)),done:!1}:tt?tt(G):G}:tt}}function P(V){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var X=V[Symbol.asyncIterator],$;return X?X.call(V):(V=typeof E=="function"?E(V):V[Symbol.iterator](),$={},rt("next"),rt("throw"),rt("return"),$[Symbol.asyncIterator]=function(){return this},$);function rt(tt){$[tt]=V[tt]&&function(G){return new Promise(function(nt,ut){G=V[tt](G),ot(nt,ut,G.done,G.value)})}}function ot(tt,G,nt,ut){Promise.resolve(ut).then(function(dt){tt({value:dt,done:nt})},G)}}function b(V,X){return Object.defineProperty?Object.defineProperty(V,"raw",{value:X}):V.raw=X,V}var x=Object.create?function(V,X){Object.defineProperty(V,"default",{enumerable:!0,value:X})}:function(V,X){V.default=X},I=function(V){return I=Object.getOwnPropertyNames||function(X){var $=[];for(var rt in X)Object.prototype.hasOwnProperty.call(X,rt)&&($[$.length]=rt);return $},I(V)};function S(V){if(V&&V.__esModule)return V;var X={};if(V!=null)for(var $=I(V),rt=0;rt<$.length;rt++)$[rt]!=="default"&&f(X,V,$[rt]);return x(X,V),X}function K(V){return V&&V.__esModule?V:{default:V}}function N(V,X,$,rt){if($==="a"&&!rt)throw new TypeError("Private accessor was defined without a getter");if(typeof X=="function"?V!==X||!rt:!X.has(V))throw new TypeError("Cannot read private member from an object whose class did not declare it");return $==="m"?rt:$==="a"?rt.call(V):rt?rt.value:X.get(V)}function z(V,X,$,rt,ot){if(rt==="m")throw new TypeError("Private method is not writable");if(rt==="a"&&!ot)throw new TypeError("Private accessor was defined without a setter");if(typeof X=="function"?V!==X||!ot:!X.has(V))throw new TypeError("Cannot write private member to an object whose class did not declare it");return rt==="a"?ot.call(V,$):ot?ot.value=$:X.set(V,$),$}function j(V,X){if(X===null||typeof X!="object"&&typeof X!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof V=="function"?X===V:V.has(X)}function W(V,X,$){if(X!=null){if(typeof X!="object"&&typeof X!="function")throw new TypeError("Object expected.");var rt,ot;if($){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");rt=X[Symbol.asyncDispose]}if(rt===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");rt=X[Symbol.dispose],$&&(ot=rt)}if(typeof rt!="function")throw new TypeError("Object not disposable.");ot&&(rt=function(){try{ot.call(this)}catch(tt){return Promise.reject(tt)}}),V.stack.push({value:X,dispose:rt,async:$})}else $&&V.stack.push({async:!0});return X}var U=typeof SuppressedError=="function"?SuppressedError:function(V,X,$){var rt=new Error($);return rt.name="SuppressedError",rt.error=V,rt.suppressed=X,rt};function F(V){function X(tt){V.error=V.hasError?new U(tt,V.error,"An error was suppressed during disposal."):tt,V.hasError=!0}var $,rt=0;function ot(){for(;$=V.stack.pop();)try{if(!$.async&&rt===1)return rt=0,V.stack.push($),Promise.resolve().then(ot);if($.dispose){var tt=$.dispose.call($.value);if($.async)return rt|=2,Promise.resolve(tt).then(ot,function(G){return X(G),ot()})}else rt|=1}catch(G){X(G)}if(rt===1)return V.hasError?Promise.reject(V.error):Promise.resolve();if(V.hasError)throw V.error}return ot()}function H(V,X){return typeof V=="string"&&/^\.\.?\//.test(V)?V.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function($,rt,ot,tt,G){return rt?X?".jsx":".js":ot&&(!tt||!G)?$:ot+tt+"."+G.toLowerCase()+"js"}):V}var Y={__extends:D,__assign:p,__rest:M,__decorate:m,__param:c,__esDecorate:h,__runInitializers:v,__propKey:a,__setFunctionName:r,__metadata:s,__awaiter:o,__generator:d,__createBinding:f,__exportStar:y,__values:E,__read:e,__spread:i,__spreadArrays:n,__spreadArray:l,__await:O,__asyncGenerator:C,__asyncDelegator:T,__asyncValues:P,__makeTemplateObject:b,__importStar:S,__importDefault:K,__classPrivateFieldGet:N,__classPrivateFieldSet:z,__classPrivateFieldIn:j,__addDisposableResource:W,__disposeResources:F,__rewriteRelativeImportExtension:H}}}]);
}());